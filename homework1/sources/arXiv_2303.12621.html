<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2303.12621] OcTr: Octree-based Transformer for 3D Object Detection</title><meta property="og:description" content="A key challenge for LiDAR-based 3D object detection is to capture sufficient features from large scale 3D scenes especially for distant or/and occluded objects. Albeit recent efforts made by Transformers with the long …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="OcTr: Octree-based Transformer for 3D Object Detection">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="OcTr: Octree-based Transformer for 3D Object Detection">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2303.12621">

<!--Generated on Thu Feb 29 19:02:19 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">OcTr: Octree-based Transformer for 3D Object Detection</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Chao Zhou<sup id="id1.1.id1" class="ltx_sup">1,2</sup>, Yanan Zhang<sup id="id2.2.id2" class="ltx_sup">1,2</sup>, Jiaxin Chen<sup id="id3.3.id3" class="ltx_sup">2</sup>, Di Huang<sup id="id4.4.id4" class="ltx_sup">1,2,3</sup>
<br class="ltx_break"><sup id="id5.5.id5" class="ltx_sup">1</sup>State Key Laboratory of Software Development Environment, Beihang University, Beijing, China
<br class="ltx_break"><sup id="id6.6.id6" class="ltx_sup">2</sup>School of Computer Science and Engineering, Beihang University, Beijing, China
<br class="ltx_break"><sup id="id7.7.id7" class="ltx_sup">3</sup>Hangzhou Innovation Institute, Beihang University, Hangzhou, China
<br class="ltx_break"><span id="id8.8.id8" class="ltx_text ltx_font_typewriter" style="font-size:90%;">{zhouchaobeing, zhangyanan, jiaxinchen, dhuang}@buaa.edu.cn</span>
</span><span class="ltx_author_notes">indicates the corresponding author.</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id9.id1" class="ltx_p">A key challenge for LiDAR-based 3D object detection is to capture sufficient features from large scale 3D scenes especially for distant or/and occluded objects. Albeit recent efforts made by Transformers with the long sequence modeling capability, they fail to properly balance the accuracy and efficiency, suffering from inadequate receptive fields or coarse-grained holistic correlations. In this paper, we propose an <span id="id9.id1.1" class="ltx_text ltx_font_bold">Oc</span>tree-based <span id="id9.id1.2" class="ltx_text ltx_font_bold">Tr</span>ansformer, named <span id="id9.id1.3" class="ltx_text ltx_font_bold">OcTr</span>, to address this issue. It first constructs a dynamic octree on the hierarchical feature pyramid through conducting self-attention on the top level and then recursively propagates to the level below restricted by the octants, which captures rich global context in a coarse-to-fine manner while maintaining the computational complexity under control. Furthermore, for enhanced foreground perception, we propose a hybrid positional embedding, composed of the semantic-aware positional embedding and attention mask, to fully exploit semantic and geometry clues. Extensive experiments are conducted on the Waymo Open Dataset and KITTI Dataset, and OcTr reaches newly state-of-the-art results.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<figure id="S1.F1" class="ltx_figure"><img src="/html/2303.12621/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="248" height="230" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S1.F1.3.2" class="ltx_text" style="font-size:90%;">Illustration of three sparsification strategies of attention matrices. Fixed pattern (1) narrows receptive fields and set proxy (2) discards elaborate correlations. The proposed octree construction (3) keeps the global receptive field in a coarse-grained manner while maintaining fine-grained representations.</span></figcaption>
</figure>
<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">3D object detection from point clouds has received extensive attention during the past decade for its ability to provide accurate and stable recognition and localization in autonomous driving perception systems. In this task, feature learning plays a very fundamental and crucial role; yet it is rather challenging due to not only the disordered and sparse nature of data sampling, but also to insufficient acquisition under occlusion or at a distance. To address this issue, many methods have been proposed, which can be taxonomized into two major classes, <em id="S1.p1.1.1" class="ltx_emph ltx_font_italic">i.e.</em> grid-based and point-based. The former first regularize point clouds into multi-view images or voxels and then apply 2D or 3D CNNs to build shape representations <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, while the latter directly conduct MLP based networks such as PointNet++ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> and DGCNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite> on original points for geometry description <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib41" title="" class="ltx_ref">41</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>, <a href="#bib.bib62" title="" class="ltx_ref">62</a>, <a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite>. Unfortunately, they fail to capture necessary context information through the small receptive fields in the deep models, leading to limited results.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Witnessing the recent success of Transformers in NLP, many studies have investigated and extended such architectures for 3D vision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>, <a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib60" title="" class="ltx_ref">60</a>]</cite>. Transformers are reputed to model long-range dependencies, delivering global receptive fields, and to be suitable for scattered inputs of arbitrary sizes. Meanwhile, in contrast to those static weights that are learned in convolutions, Transformers dynamically aggregate the input features according to the relationships between tokens. Regarding the case in 3D object detection, compared to point-based Transformers <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, voxel-based ones show the superiority in efficiency. However, they tend to suffer heavy computations when dealing with large scale scenes because of the quadratic complexity of Transformers, with the underlying dilemma between the grid size and the grid amount in voxelization. Taking the KITTI dataset as an example, it is unrealistic for Transformers to operate on the feature map with the spatial shape of <math id="S1.p2.1.m1.1" class="ltx_Math" alttext="200\times 176\times 5" display="inline"><semantics id="S1.p2.1.m1.1a"><mrow id="S1.p2.1.m1.1.1" xref="S1.p2.1.m1.1.1.cmml"><mn id="S1.p2.1.m1.1.1.2" xref="S1.p2.1.m1.1.1.2.cmml">200</mn><mo lspace="0.222em" rspace="0.222em" id="S1.p2.1.m1.1.1.1" xref="S1.p2.1.m1.1.1.1.cmml">×</mo><mn id="S1.p2.1.m1.1.1.3" xref="S1.p2.1.m1.1.1.3.cmml">176</mn><mo lspace="0.222em" rspace="0.222em" id="S1.p2.1.m1.1.1.1a" xref="S1.p2.1.m1.1.1.1.cmml">×</mo><mn id="S1.p2.1.m1.1.1.4" xref="S1.p2.1.m1.1.1.4.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S1.p2.1.m1.1b"><apply id="S1.p2.1.m1.1.1.cmml" xref="S1.p2.1.m1.1.1"><times id="S1.p2.1.m1.1.1.1.cmml" xref="S1.p2.1.m1.1.1.1"></times><cn type="integer" id="S1.p2.1.m1.1.1.2.cmml" xref="S1.p2.1.m1.1.1.2">200</cn><cn type="integer" id="S1.p2.1.m1.1.1.3.cmml" xref="S1.p2.1.m1.1.1.3">176</cn><cn type="integer" id="S1.p2.1.m1.1.1.4.cmml" xref="S1.p2.1.m1.1.1.4">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p2.1.m1.1c">200\times 176\times 5</annotation></semantics></math>, which is commonly adopted in most of the detection heads<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>, <a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib47" title="" class="ltx_ref">47</a>, <a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">More recently, there have appeared an influx of efficient self-attention model variants that attempt to tackle long sequences as input. They generally sparsify the attention matrix by fixed patterns <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>, learned patterns <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite> or a combination of them <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite>. Fixed patterns chunk the input sequence into blocks of local windows or dilation windows, whilst learned patterns determine a notion of token relevance and eliminate or cluster outliers. Specific to 3D object detection from point clouds, VoTr <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> modifies self-attention with pre-defined patterns including local windows and stride dilation ones in a sparse query manner, and the dilation mechanism enlarges the receptive field by sampling attending tokens in a radius. SST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> splits input tokens into non-overlapping patterns in a block-wise way and enables window shifting to capture cross-window correlation. Despite some improvements reported, they both only achieve bigger local receptive fields rather than the expected global ones, and computations still increase rapidly with the expansion of receptive fields.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Another alternative on self-attention is to take advantage of a proxy memory bank which has the access to the entire sequence tokens <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib58" title="" class="ltx_ref">58</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. By using a small number of induced proxies to compress the whole sequence, it diffuses the global context efficiently. VoxSet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> adapts Set Transformer<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> to 3D object detection and exploits an induced set to model a set-to-set point cloud translation. With the help of the compressed global proxies and Conv-FFN, it obtains a global receptive field; nevertheless, as they admit, it is sub-optimal to set only a few latent codes as proxies for a large 3D scene, prone to impairing the representation of different point cloud structures and their correlations. Therefore, there remains space for a stronger solution.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">In this paper, we present a novel Transformer network, namely <span id="S1.p5.1.1" class="ltx_text ltx_font_bold">Oc</span>tree-based <span id="S1.p5.1.2" class="ltx_text ltx_font_bold">Tr</span>ansformer (<span id="S1.p5.1.3" class="ltx_text ltx_font_bold">OcTr</span>), for 3D object detection. We firstly devise an octree-based learnable sparse pattern, <em id="S1.p5.1.4" class="ltx_emph ltx_font_italic">i.e.</em> <span id="S1.p5.1.5" class="ltx_text ltx_font_italic">OctAttn</span>, which meticulously and efficiently encodes point clouds of scenes as shown in Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The <span id="S1.p5.1.6" class="ltx_text ltx_font_italic">OctAttn</span> module constructs a feature pyramid by gathering and applies self-attention to the top level of the feature pyramid to select the most relevant tokens, which are deemed as the octants to be divided in the subsequent. When propagating to the level below, the key/value inputs are restricted by the octants from the top. Through recursively conducting this process, <span id="S1.p5.1.7" class="ltx_text ltx_font_italic">OctAttn</span> captures rich global context features by a global receptive field in a coarse-to-fine manner while reducing the quadratic complexity of vanilla self-attention to the linear complexity. In addition, for better foreground perception, we propose a hybrid positional embedding, which consists of the semantic-aware positional embedding and attention mask, to fully exploit geometry and semantic clues. Thanks to the designs above, OcTr delivers a competitive trade-off between accuracy and efficiency.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">Our contribution is summarized in three-fold:</p>
<ol id="S1.I1" class="ltx_enumerate">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We propose OcTr for voxel-based 3D object detection, which efficiently learns enhanced representations by a global receptive field with rich contexts.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We propose an octree-based learnable attention sparsification scheme (<span id="S1.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">OctAttn</span>) and a hybrid positional embedding combining geometry and semantics.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We carry out experiments on the Waymo Open Dataset (WOD) and the KITTI dataset and report state-of-the-art performance with significant gains on far objects.</p>
</div>
</li>
</ol>
</div>
<figure id="S1.F2" class="ltx_figure"><img src="/html/2303.12621/assets/x2.png" id="S1.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="528" height="135" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F2.2.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S1.F2.3.2" class="ltx_text" style="font-size:90%;">Framework overview of the proposed Octree-based Transformer (OcTr) model. </span></figcaption>
</figure>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>3D Object Detection from Point Clouds</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">There exist two prevailing point-cloud representations in 3D object detection, <em id="S2.SS1.p1.1.1" class="ltx_emph ltx_font_italic">i.e.</em> point-based and voxel-based.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">The point-based methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>, <a href="#bib.bib41" title="" class="ltx_ref">41</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>, <a href="#bib.bib62" title="" class="ltx_ref">62</a>]</cite> directly process raw point clouds in the irregular 3D space. As a pioneering attempt, F-Pointnet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> employs instance segmentation in frustums to extract proposals. VoteNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> clusters objects from the surface in a deep Hough voting manner. PointRCNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib41" title="" class="ltx_ref">41</a>]</cite> generates 3D RoIs with foreground segmentation and applies an RCNN-style <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> two-stage refinement. Different from PointRCNN, some existing methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>, <a href="#bib.bib61" title="" class="ltx_ref">61</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> build a lightweight and efficient single stage 3D object detection framework. However, the current point-based methods still suffer from a large computation burden, which is not suitable for large-scale point cloud scenes.</p>
</div>
<div id="S2.SS1.p3" class="ltx_para">
<p id="S2.SS1.p3.1" class="ltx_p">The voxel-based ones <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib65" title="" class="ltx_ref">65</a>, <a href="#bib.bib53" title="" class="ltx_ref">53</a>, <a href="#bib.bib64" title="" class="ltx_ref">64</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib57" title="" class="ltx_ref">57</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> conduct voxelization on entire point clouds to construct regular grids. VoxelNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib65" title="" class="ltx_ref">65</a>]</cite> exploits the voxel feature encoding layer with 3D convolutions to extract the feature of each voxel. SECOND <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite> improves the model with sparse 3D convolutions, significantly increasing the speed of both training and inference. Pointpillars <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> compacts point clouds into vertical columns and encodes them with 2D CNNs. Several recent methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib56" title="" class="ltx_ref">56</a>]</cite> also explore merging point-based and voxel-based networks into one framework for complementary features from different representations of point clouds. Unfortunately, they all use small convolution kernels with limited receptive fields, which are not competent to capture global context that is important to 3D detection.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Transformer in 3D Vision</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">Inspired by the great success of the self-attention mechanism in NLP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref">48</a>]</cite> and CV <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>, Transformers have been adapted to 3D vision for their ability to capture long-range dependencies. For instance, Point Transformer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite> brings in vector attention that modulates individual feature channels for point cloud classification and segmentation; PCT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> presents offset-attention with the implicit Laplace operator and normalization refinement which is more suitable for point cloud learning. To address the high latency, some methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>, <a href="#bib.bib59" title="" class="ltx_ref">59</a>]</cite> adopt voxels or patches for acceleration.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">For 3D detection, 3DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite> treats and predicts bounding boxes as sequences in an end-to-end manner. CT3D <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> leverages a channel-wise Transformer architecture to refine the RoI head. To learn context-aware representations, some studies <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> introduce Transformers into a point- or voxel-based encoder. Pointformer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> stacks local, global and local-global Transformers based on the point-based encoder; VoTr <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> exploits dilated attention with fast query to enlarge receptive fields; VoxSet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> builds an induced point set as proxies of global context and applies point-to-point translation using voxels as mediums; and SST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> embraces single strides without down-sampling and conducts window attention combining with its shifted version. Even though they all expand receptive fields by diverse Transformer variants, global context is not adequately involved or efficiently utilized. In contrast, we propose Octree-based Transformer (OcTr) for voxel-based 3D object detection, achieving a true global receptive field that balances accuracy and efficiency.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Framework</h3>

<figure id="S3.F3" class="ltx_figure"><img src="/html/2303.12621/assets/x3.png" id="S3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="528" height="177" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.9.2.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S3.F3.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Octree Attention<span id="S3.F3.2.1.1" class="ltx_text ltx_font_medium"> (<span id="S3.F3.2.1.1.1" class="ltx_text ltx_font_italic">OctAttn</span>). The <span id="S3.F3.2.1.1.2" class="ltx_text ltx_font_italic">OctAttn</span> module constructs a dynamic octree on a hierarchical feature pyramid with a partitive criterion of attention scores. For illustration, an octree representation is individually pruned from the pyramid for each grid in <math id="S3.F3.2.1.1.m1.1" class="ltx_Math" alttext="F" display="inline"><semantics id="S3.F3.2.1.1.m1.1b"><mi id="S3.F3.2.1.1.m1.1.1" xref="S3.F3.2.1.1.m1.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="S3.F3.2.1.1.m1.1c"><ci id="S3.F3.2.1.1.m1.1.1.cmml" xref="S3.F3.2.1.1.m1.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F3.2.1.1.m1.1d">F</annotation></semantics></math>. For example, the blue grids are the divided octants for the grids with stars. The detailed structures of </span>OcTr-Top<span id="S3.F3.2.1.2" class="ltx_text ltx_font_medium"> and </span>OcTr-Base<span id="S3.F3.2.1.3" class="ltx_text ltx_font_medium"> are shown at the right side.
</span></span></figcaption>
</figure>
<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">This sub-section describes the overall framework of the proposed OcTr model as shown in Fig. <a href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. Specifically, as inspired by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>]</cite>, we first voxelize the point cloud into regular grids and adopt the sparse 3D convolution for patch embedding, where the girds are regarded as the “tokens” and are passed through the Octree Transformer Blocks (OTB). Compared with the vanilla Transformer block, the self-attention module is substituted by the proposed octree-attention <span id="S3.SS1.p1.1.1" class="ltx_text ltx_font_italic">OctAttn</span>, which encodes global context in a more efficient way. After applying a hybrid semantic embedding on multi-scale features, we sequentially stack two OTBs, tailed by a down-sampling layer. The voxel features are then projected into the BEV view by point-wise convolutions and are passed through a multi-scale dense 2D backbone. Ultimately, an anchor-based or anchor-free RPN head is used for 3D proposal generation, and the RoI head is optional for refinement. Note that our OcTr can be adopted for most of the voxel-based detection frameworks by simply altering 3D backbones.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Self-attention Revisit</h3>

<div id="S3.SS2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.p1.1" class="ltx_p">According to <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref">48</a>]</cite>, Transformer encoder blocks typically include a multi-head self-attention (MHSA) mechanism, a feed-forward network (FFN), a normalization function, and the residual connections <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. Given an input sequence <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="X" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">X</annotation></semantics></math>, the principle part of MHSA is formulated as</p>
<table id="S3.E1" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E1X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E1X.2.1.1.m1.3" class="ltx_Math" alttext="\displaystyle\text{MHSA}(\it{X})=\sum_{h=1}^{H}W_{h}[\sigma(\frac{\it{X}W_{q}W_{k}^{T}\it{X}^{T}}{\sqrt{d}})\cdot\it{X}W_{v}]," display="inline"><semantics id="S3.E1X.2.1.1.m1.3a"><mrow id="S3.E1X.2.1.1.m1.3.3.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.cmml"><mrow id="S3.E1X.2.1.1.m1.3.3.1.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.cmml"><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.cmml"><mtext id="S3.E1X.2.1.1.m1.3.3.1.1.3.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2a.cmml">MHSA</mtext><mo lspace="0em" rspace="0em" id="S3.E1X.2.1.1.m1.3.3.1.1.3.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.1.cmml">​</mo><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.3.3.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.cmml"><mo stretchy="false" id="S3.E1X.2.1.1.m1.3.3.1.1.3.3.2.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.cmml">(</mo><mi id="S3.E1X.2.1.1.m1.1.1" xref="S3.E1X.2.1.1.m1.1.1.cmml">X</mi><mo stretchy="false" id="S3.E1X.2.1.1.m1.3.3.1.1.3.3.2.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.cmml">)</mo></mrow></mrow><mo id="S3.E1X.2.1.1.m1.3.3.1.1.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E1X.2.1.1.m1.3.3.1.1.1.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.cmml"><munderover id="S3.E1X.2.1.1.m1.3.3.1.1.1.2a" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.cmml"><mo movablelimits="false" id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.cmml"><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.2.cmml">h</mi><mo id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.1.cmml">=</mo><mn class="ltx_mathvariant_italic" mathvariant="italic" id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.3.cmml">H</mi></munderover></mstyle><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.1.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.cmml"><msub id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.cmml"><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.2.cmml">W</mi><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.3.cmml">h</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.2.cmml">​</mo><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml"><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.1.cmml">​</mo><mrow id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.2" xref="S3.E1X.2.1.1.m1.2.2.cmml"><mo stretchy="false" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.2.1" xref="S3.E1X.2.1.1.m1.2.2.cmml">(</mo><mstyle displaystyle="true" id="S3.E1X.2.1.1.m1.2.2" xref="S3.E1X.2.1.1.m1.2.2.cmml"><mfrac id="S3.E1X.2.1.1.m1.2.2a" xref="S3.E1X.2.1.1.m1.2.2.cmml"><mrow id="S3.E1X.2.1.1.m1.2.2.2" xref="S3.E1X.2.1.1.m1.2.2.2.cmml"><msub id="S3.E1X.2.1.1.m1.2.2.2.2" xref="S3.E1X.2.1.1.m1.2.2.2.2.cmml"><mi id="S3.E1X.2.1.1.m1.2.2.2.2.2" xref="S3.E1X.2.1.1.m1.2.2.2.2.2.cmml">𝑋𝑊</mi><mi id="S3.E1X.2.1.1.m1.2.2.2.2.3" xref="S3.E1X.2.1.1.m1.2.2.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1X.2.1.1.m1.2.2.2.1" xref="S3.E1X.2.1.1.m1.2.2.2.1.cmml">​</mo><msubsup id="S3.E1X.2.1.1.m1.2.2.2.3" xref="S3.E1X.2.1.1.m1.2.2.2.3.cmml"><mi id="S3.E1X.2.1.1.m1.2.2.2.3.2.2" xref="S3.E1X.2.1.1.m1.2.2.2.3.2.2.cmml">W</mi><mi id="S3.E1X.2.1.1.m1.2.2.2.3.2.3" xref="S3.E1X.2.1.1.m1.2.2.2.3.2.3.cmml">k</mi><mi id="S3.E1X.2.1.1.m1.2.2.2.3.3" xref="S3.E1X.2.1.1.m1.2.2.2.3.3.cmml">T</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.E1X.2.1.1.m1.2.2.2.1a" xref="S3.E1X.2.1.1.m1.2.2.2.1.cmml">​</mo><msup id="S3.E1X.2.1.1.m1.2.2.2.4" xref="S3.E1X.2.1.1.m1.2.2.2.4.cmml"><mi id="S3.E1X.2.1.1.m1.2.2.2.4.2" xref="S3.E1X.2.1.1.m1.2.2.2.4.2.cmml">X</mi><mi id="S3.E1X.2.1.1.m1.2.2.2.4.3" xref="S3.E1X.2.1.1.m1.2.2.2.4.3.cmml">T</mi></msup></mrow><msqrt id="S3.E1X.2.1.1.m1.2.2.3" xref="S3.E1X.2.1.1.m1.2.2.3.cmml"><mi id="S3.E1X.2.1.1.m1.2.2.3.2" xref="S3.E1X.2.1.1.m1.2.2.3.2.cmml">d</mi></msqrt></mfrac></mstyle><mo rspace="0.055em" stretchy="false" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.2.2" xref="S3.E1X.2.1.1.m1.2.2.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml">⋅</mo><msub id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.2.cmml">𝑋𝑊</mi><mi id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.3.cmml">v</mi></msub></mrow><mo stretchy="false" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.3" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo id="S3.E1X.2.1.1.m1.3.3.1.2" xref="S3.E1X.2.1.1.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1X.2.1.1.m1.3b"><apply id="S3.E1X.2.1.1.m1.3.3.1.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1"><eq id="S3.E1X.2.1.1.m1.3.3.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.2"></eq><apply id="S3.E1X.2.1.1.m1.3.3.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3"><times id="S3.E1X.2.1.1.m1.3.3.1.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.1"></times><ci id="S3.E1X.2.1.1.m1.3.3.1.1.3.2a.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2"><mtext id="S3.E1X.2.1.1.m1.3.3.1.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.3.2">MHSA</mtext></ci><ci id="S3.E1X.2.1.1.m1.1.1.cmml" xref="S3.E1X.2.1.1.m1.1.1">𝑋</ci></apply><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1"><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2">superscript</csymbol><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2">subscript</csymbol><sum id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.2"></sum><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3"><eq id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.1"></eq><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.2">ℎ</ci><cn type="integer" id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.2.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.2.3">𝐻</ci></apply><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1"><times id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.2"></times><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.2">𝑊</ci><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.3.3">ℎ</ci></apply><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.2.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1"><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1">⋅</ci><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2"><times id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.1"></times><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2">𝜎</ci><apply id="S3.E1X.2.1.1.m1.2.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.2"><divide id="S3.E1X.2.1.1.m1.2.2.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.2"></divide><apply id="S3.E1X.2.1.1.m1.2.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.2.2"><times id="S3.E1X.2.1.1.m1.2.2.2.1.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.1"></times><apply id="S3.E1X.2.1.1.m1.2.2.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.2.2.2.2.1.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.2">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.2.2.2.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.2.2">𝑋𝑊</ci><ci id="S3.E1X.2.1.1.m1.2.2.2.2.3.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.2.3">𝑞</ci></apply><apply id="S3.E1X.2.1.1.m1.2.2.2.3.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.2.2.2.3.1.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.3">superscript</csymbol><apply id="S3.E1X.2.1.1.m1.2.2.2.3.2.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.2.2.2.3.2.1.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.3">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.2.2.2.3.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.3.2.2">𝑊</ci><ci id="S3.E1X.2.1.1.m1.2.2.2.3.2.3.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.3.2.3">𝑘</ci></apply><ci id="S3.E1X.2.1.1.m1.2.2.2.3.3.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.3.3">𝑇</ci></apply><apply id="S3.E1X.2.1.1.m1.2.2.2.4.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.2.2.2.4.1.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.4">superscript</csymbol><ci id="S3.E1X.2.1.1.m1.2.2.2.4.2.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.4.2">𝑋</ci><ci id="S3.E1X.2.1.1.m1.2.2.2.4.3.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.4.3">𝑇</ci></apply></apply><apply id="S3.E1X.2.1.1.m1.2.2.3.cmml" xref="S3.E1X.2.1.1.m1.2.2.3"><root id="S3.E1X.2.1.1.m1.2.2.3a.cmml" xref="S3.E1X.2.1.1.m1.2.2.3"></root><ci id="S3.E1X.2.1.1.m1.2.2.3.2.cmml" xref="S3.E1X.2.1.1.m1.2.2.3.2">𝑑</ci></apply></apply></apply><apply id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.2">𝑋𝑊</ci><ci id="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.3">𝑣</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1X.2.1.1.m1.3c">\displaystyle\text{MHSA}(\it{X})=\sum_{h=1}^{H}W_{h}[\sigma(\frac{\it{X}W_{q}W_{k}^{T}\it{X}^{T}}{\sqrt{d}})\cdot\it{X}W_{v}],</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(1)</span></td>
</tr>
</tbody>
</table>
<p id="S3.SS2.p1.9" class="ltx_p">where <math id="S3.SS2.p1.2.m1.1" class="ltx_Math" alttext="h" display="inline"><semantics id="S3.SS2.p1.2.m1.1a"><mi id="S3.SS2.p1.2.m1.1.1" xref="S3.SS2.p1.2.m1.1.1.cmml">h</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m1.1b"><ci id="S3.SS2.p1.2.m1.1.1.cmml" xref="S3.SS2.p1.2.m1.1.1">ℎ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m1.1c">h</annotation></semantics></math> denotes the index of the head, and <math id="S3.SS2.p1.3.m2.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S3.SS2.p1.3.m2.1a"><mi id="S3.SS2.p1.3.m2.1.1" xref="S3.SS2.p1.3.m2.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m2.1b"><ci id="S3.SS2.p1.3.m2.1.1.cmml" xref="S3.SS2.p1.3.m2.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m2.1c">H</annotation></semantics></math>, <math id="S3.SS2.p1.4.m3.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S3.SS2.p1.4.m3.1a"><mi id="S3.SS2.p1.4.m3.1.1" xref="S3.SS2.p1.4.m3.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m3.1b"><ci id="S3.SS2.p1.4.m3.1.1.cmml" xref="S3.SS2.p1.4.m3.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m3.1c">\sigma</annotation></semantics></math>, <math id="S3.SS2.p1.5.m4.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S3.SS2.p1.5.m4.1a"><mi id="S3.SS2.p1.5.m4.1.1" xref="S3.SS2.p1.5.m4.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m4.1b"><ci id="S3.SS2.p1.5.m4.1.1.cmml" xref="S3.SS2.p1.5.m4.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m4.1c">W</annotation></semantics></math> and <math id="S3.SS2.p1.6.m5.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.SS2.p1.6.m5.1a"><mi id="S3.SS2.p1.6.m5.1.1" xref="S3.SS2.p1.6.m5.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m5.1b"><ci id="S3.SS2.p1.6.m5.1.1.cmml" xref="S3.SS2.p1.6.m5.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m5.1c">d</annotation></semantics></math> are the amount of heads, softmax function, learnable weight and feature dimension, respectively. The subscripts of <math id="S3.SS2.p1.7.m6.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.SS2.p1.7.m6.1a"><mi id="S3.SS2.p1.7.m6.1.1" xref="S3.SS2.p1.7.m6.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m6.1b"><ci id="S3.SS2.p1.7.m6.1.1.cmml" xref="S3.SS2.p1.7.m6.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m6.1c">q</annotation></semantics></math>, <math id="S3.SS2.p1.8.m7.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p1.8.m7.1a"><mi id="S3.SS2.p1.8.m7.1.1" xref="S3.SS2.p1.8.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m7.1b"><ci id="S3.SS2.p1.8.m7.1.1.cmml" xref="S3.SS2.p1.8.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m7.1c">k</annotation></semantics></math> and <math id="S3.SS2.p1.9.m8.1" class="ltx_Math" alttext="v" display="inline"><semantics id="S3.SS2.p1.9.m8.1a"><mi id="S3.SS2.p1.9.m8.1.1" xref="S3.SS2.p1.9.m8.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m8.1b"><ci id="S3.SS2.p1.9.m8.1.1.cmml" xref="S3.SS2.p1.9.m8.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m8.1c">v</annotation></semantics></math> indicate query, key and value. The inputs and outputs of the MHSA module are connected by residual connectors and normalization layers. The MLP-based FFN connects its inputs/outputs in a similar manner.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Octree Attention</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">An octree is a multi-scale asymmetric and efficient representation for unstructured 3D data such as point clouds. To build an octree for the input point cloud, we recursively sub-divide it in the breadth-first order until the pre-defined octree depth is reached. Whether to sub-divide an octant is determined by the occupancy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>, the surface approximation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>, <a href="#bib.bib50" title="" class="ltx_ref">50</a>]</cite> or a learning algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.1" class="ltx_p">Despite of being resource-friendly, the octree representation is discrete and non-differentiable, which motivates us to ameliorate previous cumbersome pre-processing division by introducing a novel octree-based attention mechanism.As depicted in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite>, the attention matrices calculated by self-attention imply the relevance of input tokens and guide feature selection. We thus prune the dense attention matrices of the multi-scale feature pyramid to sparse octree attention in an adaptive and parallel manner, namely <span id="S3.SS3.p2.1.1" class="ltx_text ltx_font_italic">OctAttn</span>.</p>
</div>
<div id="S3.SS3.p3" class="ltx_para">
<p id="S3.SS3.p3.5" class="ltx_p">As shown in Fig. <a href="#S3.F3" title="Figure 3 ‣ 3.1 Framework ‣ 3 Method ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, let the output feature map and coordinates of convolutional patch embedding be <math id="S3.SS3.p3.1.m1.1" class="ltx_Math" alttext="F_{0}\in\mathbb{R}^{M\times d}" display="inline"><semantics id="S3.SS3.p3.1.m1.1a"><mrow id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml"><msub id="S3.SS3.p3.1.m1.1.1.2" xref="S3.SS3.p3.1.m1.1.1.2.cmml"><mi id="S3.SS3.p3.1.m1.1.1.2.2" xref="S3.SS3.p3.1.m1.1.1.2.2.cmml">F</mi><mn id="S3.SS3.p3.1.m1.1.1.2.3" xref="S3.SS3.p3.1.m1.1.1.2.3.cmml">0</mn></msub><mo id="S3.SS3.p3.1.m1.1.1.1" xref="S3.SS3.p3.1.m1.1.1.1.cmml">∈</mo><msup id="S3.SS3.p3.1.m1.1.1.3" xref="S3.SS3.p3.1.m1.1.1.3.cmml"><mi id="S3.SS3.p3.1.m1.1.1.3.2" xref="S3.SS3.p3.1.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS3.p3.1.m1.1.1.3.3" xref="S3.SS3.p3.1.m1.1.1.3.3.cmml"><mi id="S3.SS3.p3.1.m1.1.1.3.3.2" xref="S3.SS3.p3.1.m1.1.1.3.3.2.cmml">M</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p3.1.m1.1.1.3.3.1" xref="S3.SS3.p3.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS3.p3.1.m1.1.1.3.3.3" xref="S3.SS3.p3.1.m1.1.1.3.3.3.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><apply id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1"><in id="S3.SS3.p3.1.m1.1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1.1"></in><apply id="S3.SS3.p3.1.m1.1.1.2.cmml" xref="S3.SS3.p3.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p3.1.m1.1.1.2.1.cmml" xref="S3.SS3.p3.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS3.p3.1.m1.1.1.2.2.cmml" xref="S3.SS3.p3.1.m1.1.1.2.2">𝐹</ci><cn type="integer" id="S3.SS3.p3.1.m1.1.1.2.3.cmml" xref="S3.SS3.p3.1.m1.1.1.2.3">0</cn></apply><apply id="S3.SS3.p3.1.m1.1.1.3.cmml" xref="S3.SS3.p3.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p3.1.m1.1.1.3.1.cmml" xref="S3.SS3.p3.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS3.p3.1.m1.1.1.3.2.cmml" xref="S3.SS3.p3.1.m1.1.1.3.2">ℝ</ci><apply id="S3.SS3.p3.1.m1.1.1.3.3.cmml" xref="S3.SS3.p3.1.m1.1.1.3.3"><times id="S3.SS3.p3.1.m1.1.1.3.3.1.cmml" xref="S3.SS3.p3.1.m1.1.1.3.3.1"></times><ci id="S3.SS3.p3.1.m1.1.1.3.3.2.cmml" xref="S3.SS3.p3.1.m1.1.1.3.3.2">𝑀</ci><ci id="S3.SS3.p3.1.m1.1.1.3.3.3.cmml" xref="S3.SS3.p3.1.m1.1.1.3.3.3">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">F_{0}\in\mathbb{R}^{M\times d}</annotation></semantics></math> and <math id="S3.SS3.p3.2.m2.1" class="ltx_Math" alttext="I_{0}\in\mathbb{R}^{M\times 3}" display="inline"><semantics id="S3.SS3.p3.2.m2.1a"><mrow id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml"><msub id="S3.SS3.p3.2.m2.1.1.2" xref="S3.SS3.p3.2.m2.1.1.2.cmml"><mi id="S3.SS3.p3.2.m2.1.1.2.2" xref="S3.SS3.p3.2.m2.1.1.2.2.cmml">I</mi><mn id="S3.SS3.p3.2.m2.1.1.2.3" xref="S3.SS3.p3.2.m2.1.1.2.3.cmml">0</mn></msub><mo id="S3.SS3.p3.2.m2.1.1.1" xref="S3.SS3.p3.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS3.p3.2.m2.1.1.3" xref="S3.SS3.p3.2.m2.1.1.3.cmml"><mi id="S3.SS3.p3.2.m2.1.1.3.2" xref="S3.SS3.p3.2.m2.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS3.p3.2.m2.1.1.3.3" xref="S3.SS3.p3.2.m2.1.1.3.3.cmml"><mi id="S3.SS3.p3.2.m2.1.1.3.3.2" xref="S3.SS3.p3.2.m2.1.1.3.3.2.cmml">M</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p3.2.m2.1.1.3.3.1" xref="S3.SS3.p3.2.m2.1.1.3.3.1.cmml">×</mo><mn id="S3.SS3.p3.2.m2.1.1.3.3.3" xref="S3.SS3.p3.2.m2.1.1.3.3.3.cmml">3</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><apply id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1"><in id="S3.SS3.p3.2.m2.1.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1.1"></in><apply id="S3.SS3.p3.2.m2.1.1.2.cmml" xref="S3.SS3.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.1.1.2.1.cmml" xref="S3.SS3.p3.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS3.p3.2.m2.1.1.2.2.cmml" xref="S3.SS3.p3.2.m2.1.1.2.2">𝐼</ci><cn type="integer" id="S3.SS3.p3.2.m2.1.1.2.3.cmml" xref="S3.SS3.p3.2.m2.1.1.2.3">0</cn></apply><apply id="S3.SS3.p3.2.m2.1.1.3.cmml" xref="S3.SS3.p3.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.1.1.3.1.cmml" xref="S3.SS3.p3.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS3.p3.2.m2.1.1.3.2.cmml" xref="S3.SS3.p3.2.m2.1.1.3.2">ℝ</ci><apply id="S3.SS3.p3.2.m2.1.1.3.3.cmml" xref="S3.SS3.p3.2.m2.1.1.3.3"><times id="S3.SS3.p3.2.m2.1.1.3.3.1.cmml" xref="S3.SS3.p3.2.m2.1.1.3.3.1"></times><ci id="S3.SS3.p3.2.m2.1.1.3.3.2.cmml" xref="S3.SS3.p3.2.m2.1.1.3.3.2">𝑀</ci><cn type="integer" id="S3.SS3.p3.2.m2.1.1.3.3.3.cmml" xref="S3.SS3.p3.2.m2.1.1.3.3.3">3</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">I_{0}\in\mathbb{R}^{M\times 3}</annotation></semantics></math>; <math id="S3.SS3.p3.3.m3.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS3.p3.3.m3.1a"><mi id="S3.SS3.p3.3.m3.1.1" xref="S3.SS3.p3.3.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m3.1b"><ci id="S3.SS3.p3.3.m3.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m3.1c">M</annotation></semantics></math> and <math id="S3.SS3.p3.4.m4.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.SS3.p3.4.m4.1a"><mi id="S3.SS3.p3.4.m4.1.1" xref="S3.SS3.p3.4.m4.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.4.m4.1b"><ci id="S3.SS3.p3.4.m4.1.1.cmml" xref="S3.SS3.p3.4.m4.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.4.m4.1c">d</annotation></semantics></math> indicate the amount of the non-empty grids in a batch and feature dimension, respectively. Based on <math id="S3.SS3.p3.5.m5.1" class="ltx_Math" alttext="F_{0}" display="inline"><semantics id="S3.SS3.p3.5.m5.1a"><msub id="S3.SS3.p3.5.m5.1.1" xref="S3.SS3.p3.5.m5.1.1.cmml"><mi id="S3.SS3.p3.5.m5.1.1.2" xref="S3.SS3.p3.5.m5.1.1.2.cmml">F</mi><mn id="S3.SS3.p3.5.m5.1.1.3" xref="S3.SS3.p3.5.m5.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.5.m5.1b"><apply id="S3.SS3.p3.5.m5.1.1.cmml" xref="S3.SS3.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.5.m5.1.1.1.cmml" xref="S3.SS3.p3.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p3.5.m5.1.1.2.cmml" xref="S3.SS3.p3.5.m5.1.1.2">𝐹</ci><cn type="integer" id="S3.SS3.p3.5.m5.1.1.3.cmml" xref="S3.SS3.p3.5.m5.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.5.m5.1c">F_{0}</annotation></semantics></math>, we generate a multi-scale feature pyramid as</p>
</div>
<div id="S3.SS3.p4" class="ltx_para">
<table id="S3.E2" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E2X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E2X.2.1.1.m1.3" class="ltx_Math" alttext="\displaystyle C=\{F_{n},I_{n}\}^{N},n\in[0,N)," display="inline"><semantics id="S3.E2X.2.1.1.m1.3a"><mrow id="S3.E2X.2.1.1.m1.3.3.1"><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.cmml"><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.4" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.4.cmml">C</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.3.cmml">=</mo><msup id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.cmml"><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.cmml">{</mo><msub id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">F</mi><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.4" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.cmml">,</mo><msub id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.2.cmml">I</mi><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.3.cmml">n</mi></msub><mo stretchy="false" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.5" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.cmml">}</mo></mrow><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.4" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.4.cmml">N</mi></msup></mrow><mo id="S3.E2X.2.1.1.m1.3.3.1.1.2.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.3a.cmml">,</mo><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.cmml">n</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.1.cmml">∈</mo><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3.1.cmml"><mo stretchy="false" id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3.2.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3.1.cmml">[</mo><mn id="S3.E2X.2.1.1.m1.1.1" xref="S3.E2X.2.1.1.m1.1.1.cmml">0</mn><mo id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3.1.cmml">,</mo><mi id="S3.E2X.2.1.1.m1.2.2" xref="S3.E2X.2.1.1.m1.2.2.cmml">N</mi><mo stretchy="false" id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3.2.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2X.2.1.1.m1.3.3.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2X.2.1.1.m1.3b"><apply id="S3.E2X.2.1.1.m1.3.3.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.3a.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1"><eq id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.3"></eq><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.4.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.4">𝐶</ci><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2">superscript</csymbol><set id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2"><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2">𝐹</ci><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3">𝑛</ci></apply><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.2">𝐼</ci><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.2.3">𝑛</ci></apply></set><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.4.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.4">𝑁</ci></apply></apply><apply id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2"><in id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.1"></in><ci id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.2">𝑛</ci><interval closure="closed-open" id="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.2.3.2"><cn type="integer" id="S3.E2X.2.1.1.m1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1">0</cn><ci id="S3.E2X.2.1.1.m1.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.2">𝑁</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2X.2.1.1.m1.3c">\displaystyle C=\{F_{n},I_{n}\}^{N},n\in[0,N),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(2)</span></td>
</tr>
</tbody>
</table>
</div>
<div id="S3.SS3.p5" class="ltx_para ltx_noindent">
<p id="S3.SS3.p5.1" class="ltx_p">where</p>
</div>
<div id="S3.SS3.p6" class="ltx_para">
<table id="S3.E3" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E3X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E3X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle I_{n}=\lfloor\frac{I_{0}}{2^{n}}\rfloor,\ \ F_{n}=\text{BN}(\mathcal{S}_{max}(F_{0},I_{n}))," display="inline"><semantics id="S3.E3X.2.1.1.m1.2a"><mrow id="S3.E3X.2.1.1.m1.2.2.1"><mrow id="S3.E3X.2.1.1.m1.2.2.1.1.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.3.cmml"><mrow id="S3.E3X.2.1.1.m1.2.2.1.1.1.1" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.cmml"><msub id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.cmml"><mi id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.2.cmml">I</mi><mi id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.3.cmml">n</mi></msub><mo id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.1" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.1.cmml">=</mo><mrow id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.3.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.1" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.3.1.1.cmml">⌊</mo><mstyle displaystyle="true" id="S3.E3X.2.1.1.m1.1.1" xref="S3.E3X.2.1.1.m1.1.1.cmml"><mfrac id="S3.E3X.2.1.1.m1.1.1a" xref="S3.E3X.2.1.1.m1.1.1.cmml"><msub id="S3.E3X.2.1.1.m1.1.1.2" xref="S3.E3X.2.1.1.m1.1.1.2.cmml"><mi id="S3.E3X.2.1.1.m1.1.1.2.2" xref="S3.E3X.2.1.1.m1.1.1.2.2.cmml">I</mi><mn id="S3.E3X.2.1.1.m1.1.1.2.3" xref="S3.E3X.2.1.1.m1.1.1.2.3.cmml">0</mn></msub><msup id="S3.E3X.2.1.1.m1.1.1.3" xref="S3.E3X.2.1.1.m1.1.1.3.cmml"><mn id="S3.E3X.2.1.1.m1.1.1.3.2" xref="S3.E3X.2.1.1.m1.1.1.3.2.cmml">2</mn><mi id="S3.E3X.2.1.1.m1.1.1.3.3" xref="S3.E3X.2.1.1.m1.1.1.3.3.cmml">n</mi></msup></mfrac></mstyle><mo stretchy="false" id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.3.1.1.cmml">⌋</mo></mrow></mrow><mo rspace="1.167em" id="S3.E3X.2.1.1.m1.2.2.1.1.2.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.3a.cmml">,</mo><mrow id="S3.E3X.2.1.1.m1.2.2.1.1.2.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.cmml"><msub id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.cmml"><mi id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.2.cmml">F</mi><mi id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.3.cmml">n</mi></msub><mo id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.2.cmml">=</mo><mrow id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.cmml"><mtext id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.3a.cmml">BN</mtext><mo lspace="0em" rspace="0em" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.2.cmml">​</mo><mrow id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.cmml"><msub id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.2.cmml">𝒮</mi><mrow id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.cmml"><mi id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.1" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.1.cmml">​</mo><mi id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.1a" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.1.cmml">​</mo><mi id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.4" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.4.cmml">x</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.3.cmml">​</mo><mrow id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.3.cmml"><mo stretchy="false" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.3.cmml">(</mo><msub id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.2.cmml">F</mi><mn id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.4" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.cmml"><mi id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.2" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.2.cmml">I</mi><mi id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.3.cmml">n</mi></msub><mo stretchy="false" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.5" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.3" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E3X.2.1.1.m1.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3X.2.1.1.m1.2b"><apply id="S3.E3X.2.1.1.m1.2.2.1.1.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.2.2.1.1.3a.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1"><eq id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.1"></eq><apply id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2">subscript</csymbol><ci id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.2">𝐼</ci><ci id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.2.3">𝑛</ci></apply><apply id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.3.2"><floor id="S3.E3X.2.1.1.m1.2.2.1.1.1.1.3.1.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.1.1.3.2.1"></floor><apply id="S3.E3X.2.1.1.m1.1.1.cmml" xref="S3.E3X.2.1.1.m1.1.1"><divide id="S3.E3X.2.1.1.m1.1.1.1.cmml" xref="S3.E3X.2.1.1.m1.1.1"></divide><apply id="S3.E3X.2.1.1.m1.1.1.2.cmml" xref="S3.E3X.2.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.1.1.2.1.cmml" xref="S3.E3X.2.1.1.m1.1.1.2">subscript</csymbol><ci id="S3.E3X.2.1.1.m1.1.1.2.2.cmml" xref="S3.E3X.2.1.1.m1.1.1.2.2">𝐼</ci><cn type="integer" id="S3.E3X.2.1.1.m1.1.1.2.3.cmml" xref="S3.E3X.2.1.1.m1.1.1.2.3">0</cn></apply><apply id="S3.E3X.2.1.1.m1.1.1.3.cmml" xref="S3.E3X.2.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.1.1.3.1.cmml" xref="S3.E3X.2.1.1.m1.1.1.3">superscript</csymbol><cn type="integer" id="S3.E3X.2.1.1.m1.1.1.3.2.cmml" xref="S3.E3X.2.1.1.m1.1.1.3.2">2</cn><ci id="S3.E3X.2.1.1.m1.1.1.3.3.cmml" xref="S3.E3X.2.1.1.m1.1.1.3.3">𝑛</ci></apply></apply></apply></apply><apply id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2"><eq id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.2"></eq><apply id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3">subscript</csymbol><ci id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.2">𝐹</ci><ci id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.3.3">𝑛</ci></apply><apply id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1"><times id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.2"></times><ci id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.3a.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.3"><mtext id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.3">BN</mtext></ci><apply id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1"><times id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.3"></times><apply id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4">subscript</csymbol><ci id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.2">𝒮</ci><apply id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3"><times id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.1"></times><ci id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.2">𝑚</ci><ci id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.3">𝑎</ci><ci id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.4.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.4.3.4">𝑥</ci></apply></apply><interval closure="open" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2"><apply id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.2">𝐹</ci><cn type="integer" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.3">0</cn></apply><apply id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.1.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.2">𝐼</ci><ci id="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.3.cmml" xref="S3.E3X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.2.2.2.3">𝑛</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3X.2.1.1.m1.2c">\displaystyle I_{n}=\lfloor\frac{I_{0}}{2^{n}}\rfloor,\ \ F_{n}=\text{BN}(\mathcal{S}_{max}(F_{0},I_{n})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(3)</span></td>
</tr>
</tbody>
</table>
</div>
<div id="S3.SS3.p7" class="ltx_para ltx_noindent">
<p id="S3.SS3.p7.3" class="ltx_p"><math id="S3.SS3.p7.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS3.p7.1.m1.1a"><mi id="S3.SS3.p7.1.m1.1.1" xref="S3.SS3.p7.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p7.1.m1.1b"><ci id="S3.SS3.p7.1.m1.1.1.cmml" xref="S3.SS3.p7.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p7.1.m1.1c">n</annotation></semantics></math>, <math id="S3.SS3.p7.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS3.p7.2.m2.1a"><mi id="S3.SS3.p7.2.m2.1.1" xref="S3.SS3.p7.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p7.2.m2.1b"><ci id="S3.SS3.p7.2.m2.1.1.cmml" xref="S3.SS3.p7.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p7.2.m2.1c">N</annotation></semantics></math>, BN and <math id="S3.SS3.p7.3.m3.1" class="ltx_Math" alttext="\mathcal{S}_{max}" display="inline"><semantics id="S3.SS3.p7.3.m3.1a"><msub id="S3.SS3.p7.3.m3.1.1" xref="S3.SS3.p7.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p7.3.m3.1.1.2" xref="S3.SS3.p7.3.m3.1.1.2.cmml">𝒮</mi><mrow id="S3.SS3.p7.3.m3.1.1.3" xref="S3.SS3.p7.3.m3.1.1.3.cmml"><mi id="S3.SS3.p7.3.m3.1.1.3.2" xref="S3.SS3.p7.3.m3.1.1.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p7.3.m3.1.1.3.1" xref="S3.SS3.p7.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS3.p7.3.m3.1.1.3.3" xref="S3.SS3.p7.3.m3.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p7.3.m3.1.1.3.1a" xref="S3.SS3.p7.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS3.p7.3.m3.1.1.3.4" xref="S3.SS3.p7.3.m3.1.1.3.4.cmml">x</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p7.3.m3.1b"><apply id="S3.SS3.p7.3.m3.1.1.cmml" xref="S3.SS3.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p7.3.m3.1.1.1.cmml" xref="S3.SS3.p7.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p7.3.m3.1.1.2.cmml" xref="S3.SS3.p7.3.m3.1.1.2">𝒮</ci><apply id="S3.SS3.p7.3.m3.1.1.3.cmml" xref="S3.SS3.p7.3.m3.1.1.3"><times id="S3.SS3.p7.3.m3.1.1.3.1.cmml" xref="S3.SS3.p7.3.m3.1.1.3.1"></times><ci id="S3.SS3.p7.3.m3.1.1.3.2.cmml" xref="S3.SS3.p7.3.m3.1.1.3.2">𝑚</ci><ci id="S3.SS3.p7.3.m3.1.1.3.3.cmml" xref="S3.SS3.p7.3.m3.1.1.3.3">𝑎</ci><ci id="S3.SS3.p7.3.m3.1.1.3.4.cmml" xref="S3.SS3.p7.3.m3.1.1.3.4">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p7.3.m3.1c">\mathcal{S}_{max}</annotation></semantics></math> are the index of the level of the multi-scale feature pyramid, the height of the pyramid, batch normalization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> and the max scatter function, respectively.</p>
</div>
<div id="S3.SS3.p8" class="ltx_para">
<p id="S3.SS3.p8.7" class="ltx_p">The pruning begins from the top of the pyramid. The top feature map, <em id="S3.SS3.p8.7.1" class="ltx_emph ltx_font_italic">i.e.</em> <math id="S3.SS3.p8.1.m1.1" class="ltx_Math" alttext="F_{N-1}" display="inline"><semantics id="S3.SS3.p8.1.m1.1a"><msub id="S3.SS3.p8.1.m1.1.1" xref="S3.SS3.p8.1.m1.1.1.cmml"><mi id="S3.SS3.p8.1.m1.1.1.2" xref="S3.SS3.p8.1.m1.1.1.2.cmml">F</mi><mrow id="S3.SS3.p8.1.m1.1.1.3" xref="S3.SS3.p8.1.m1.1.1.3.cmml"><mi id="S3.SS3.p8.1.m1.1.1.3.2" xref="S3.SS3.p8.1.m1.1.1.3.2.cmml">N</mi><mo id="S3.SS3.p8.1.m1.1.1.3.1" xref="S3.SS3.p8.1.m1.1.1.3.1.cmml">−</mo><mn id="S3.SS3.p8.1.m1.1.1.3.3" xref="S3.SS3.p8.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p8.1.m1.1b"><apply id="S3.SS3.p8.1.m1.1.1.cmml" xref="S3.SS3.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p8.1.m1.1.1.1.cmml" xref="S3.SS3.p8.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p8.1.m1.1.1.2.cmml" xref="S3.SS3.p8.1.m1.1.1.2">𝐹</ci><apply id="S3.SS3.p8.1.m1.1.1.3.cmml" xref="S3.SS3.p8.1.m1.1.1.3"><minus id="S3.SS3.p8.1.m1.1.1.3.1.cmml" xref="S3.SS3.p8.1.m1.1.1.3.1"></minus><ci id="S3.SS3.p8.1.m1.1.1.3.2.cmml" xref="S3.SS3.p8.1.m1.1.1.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p8.1.m1.1.1.3.3.cmml" xref="S3.SS3.p8.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p8.1.m1.1c">F_{N-1}</annotation></semantics></math>, is reorganized to dense input tokens <math id="S3.SS3.p8.2.m2.1" class="ltx_Math" alttext="\bar{F}_{N-1}\in\mathbb{R}^{B\times m_{N-1}\times d}" display="inline"><semantics id="S3.SS3.p8.2.m2.1a"><mrow id="S3.SS3.p8.2.m2.1.1" xref="S3.SS3.p8.2.m2.1.1.cmml"><msub id="S3.SS3.p8.2.m2.1.1.2" xref="S3.SS3.p8.2.m2.1.1.2.cmml"><mover accent="true" id="S3.SS3.p8.2.m2.1.1.2.2" xref="S3.SS3.p8.2.m2.1.1.2.2.cmml"><mi id="S3.SS3.p8.2.m2.1.1.2.2.2" xref="S3.SS3.p8.2.m2.1.1.2.2.2.cmml">F</mi><mo id="S3.SS3.p8.2.m2.1.1.2.2.1" xref="S3.SS3.p8.2.m2.1.1.2.2.1.cmml">¯</mo></mover><mrow id="S3.SS3.p8.2.m2.1.1.2.3" xref="S3.SS3.p8.2.m2.1.1.2.3.cmml"><mi id="S3.SS3.p8.2.m2.1.1.2.3.2" xref="S3.SS3.p8.2.m2.1.1.2.3.2.cmml">N</mi><mo id="S3.SS3.p8.2.m2.1.1.2.3.1" xref="S3.SS3.p8.2.m2.1.1.2.3.1.cmml">−</mo><mn id="S3.SS3.p8.2.m2.1.1.2.3.3" xref="S3.SS3.p8.2.m2.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS3.p8.2.m2.1.1.1" xref="S3.SS3.p8.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS3.p8.2.m2.1.1.3" xref="S3.SS3.p8.2.m2.1.1.3.cmml"><mi id="S3.SS3.p8.2.m2.1.1.3.2" xref="S3.SS3.p8.2.m2.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS3.p8.2.m2.1.1.3.3" xref="S3.SS3.p8.2.m2.1.1.3.3.cmml"><mi id="S3.SS3.p8.2.m2.1.1.3.3.2" xref="S3.SS3.p8.2.m2.1.1.3.3.2.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p8.2.m2.1.1.3.3.1" xref="S3.SS3.p8.2.m2.1.1.3.3.1.cmml">×</mo><msub id="S3.SS3.p8.2.m2.1.1.3.3.3" xref="S3.SS3.p8.2.m2.1.1.3.3.3.cmml"><mi id="S3.SS3.p8.2.m2.1.1.3.3.3.2" xref="S3.SS3.p8.2.m2.1.1.3.3.3.2.cmml">m</mi><mrow id="S3.SS3.p8.2.m2.1.1.3.3.3.3" xref="S3.SS3.p8.2.m2.1.1.3.3.3.3.cmml"><mi id="S3.SS3.p8.2.m2.1.1.3.3.3.3.2" xref="S3.SS3.p8.2.m2.1.1.3.3.3.3.2.cmml">N</mi><mo id="S3.SS3.p8.2.m2.1.1.3.3.3.3.1" xref="S3.SS3.p8.2.m2.1.1.3.3.3.3.1.cmml">−</mo><mn id="S3.SS3.p8.2.m2.1.1.3.3.3.3.3" xref="S3.SS3.p8.2.m2.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p8.2.m2.1.1.3.3.1a" xref="S3.SS3.p8.2.m2.1.1.3.3.1.cmml">×</mo><mi id="S3.SS3.p8.2.m2.1.1.3.3.4" xref="S3.SS3.p8.2.m2.1.1.3.3.4.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p8.2.m2.1b"><apply id="S3.SS3.p8.2.m2.1.1.cmml" xref="S3.SS3.p8.2.m2.1.1"><in id="S3.SS3.p8.2.m2.1.1.1.cmml" xref="S3.SS3.p8.2.m2.1.1.1"></in><apply id="S3.SS3.p8.2.m2.1.1.2.cmml" xref="S3.SS3.p8.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p8.2.m2.1.1.2.1.cmml" xref="S3.SS3.p8.2.m2.1.1.2">subscript</csymbol><apply id="S3.SS3.p8.2.m2.1.1.2.2.cmml" xref="S3.SS3.p8.2.m2.1.1.2.2"><ci id="S3.SS3.p8.2.m2.1.1.2.2.1.cmml" xref="S3.SS3.p8.2.m2.1.1.2.2.1">¯</ci><ci id="S3.SS3.p8.2.m2.1.1.2.2.2.cmml" xref="S3.SS3.p8.2.m2.1.1.2.2.2">𝐹</ci></apply><apply id="S3.SS3.p8.2.m2.1.1.2.3.cmml" xref="S3.SS3.p8.2.m2.1.1.2.3"><minus id="S3.SS3.p8.2.m2.1.1.2.3.1.cmml" xref="S3.SS3.p8.2.m2.1.1.2.3.1"></minus><ci id="S3.SS3.p8.2.m2.1.1.2.3.2.cmml" xref="S3.SS3.p8.2.m2.1.1.2.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p8.2.m2.1.1.2.3.3.cmml" xref="S3.SS3.p8.2.m2.1.1.2.3.3">1</cn></apply></apply><apply id="S3.SS3.p8.2.m2.1.1.3.cmml" xref="S3.SS3.p8.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p8.2.m2.1.1.3.1.cmml" xref="S3.SS3.p8.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS3.p8.2.m2.1.1.3.2.cmml" xref="S3.SS3.p8.2.m2.1.1.3.2">ℝ</ci><apply id="S3.SS3.p8.2.m2.1.1.3.3.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3"><times id="S3.SS3.p8.2.m2.1.1.3.3.1.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3.1"></times><ci id="S3.SS3.p8.2.m2.1.1.3.3.2.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3.2">𝐵</ci><apply id="S3.SS3.p8.2.m2.1.1.3.3.3.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p8.2.m2.1.1.3.3.3.1.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3.3">subscript</csymbol><ci id="S3.SS3.p8.2.m2.1.1.3.3.3.2.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3.3.2">𝑚</ci><apply id="S3.SS3.p8.2.m2.1.1.3.3.3.3.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3.3.3"><minus id="S3.SS3.p8.2.m2.1.1.3.3.3.3.1.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3.3.3.1"></minus><ci id="S3.SS3.p8.2.m2.1.1.3.3.3.3.2.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3.3.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p8.2.m2.1.1.3.3.3.3.3.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3.3.3.3">1</cn></apply></apply><ci id="S3.SS3.p8.2.m2.1.1.3.3.4.cmml" xref="S3.SS3.p8.2.m2.1.1.3.3.4">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p8.2.m2.1c">\bar{F}_{N-1}\in\mathbb{R}^{B\times m_{N-1}\times d}</annotation></semantics></math>, where <math id="S3.SS3.p8.3.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S3.SS3.p8.3.m3.1a"><mi id="S3.SS3.p8.3.m3.1.1" xref="S3.SS3.p8.3.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p8.3.m3.1b"><ci id="S3.SS3.p8.3.m3.1.1.cmml" xref="S3.SS3.p8.3.m3.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p8.3.m3.1c">B</annotation></semantics></math> and <math id="S3.SS3.p8.4.m4.1" class="ltx_Math" alttext="m_{N-1}" display="inline"><semantics id="S3.SS3.p8.4.m4.1a"><msub id="S3.SS3.p8.4.m4.1.1" xref="S3.SS3.p8.4.m4.1.1.cmml"><mi id="S3.SS3.p8.4.m4.1.1.2" xref="S3.SS3.p8.4.m4.1.1.2.cmml">m</mi><mrow id="S3.SS3.p8.4.m4.1.1.3" xref="S3.SS3.p8.4.m4.1.1.3.cmml"><mi id="S3.SS3.p8.4.m4.1.1.3.2" xref="S3.SS3.p8.4.m4.1.1.3.2.cmml">N</mi><mo id="S3.SS3.p8.4.m4.1.1.3.1" xref="S3.SS3.p8.4.m4.1.1.3.1.cmml">−</mo><mn id="S3.SS3.p8.4.m4.1.1.3.3" xref="S3.SS3.p8.4.m4.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p8.4.m4.1b"><apply id="S3.SS3.p8.4.m4.1.1.cmml" xref="S3.SS3.p8.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p8.4.m4.1.1.1.cmml" xref="S3.SS3.p8.4.m4.1.1">subscript</csymbol><ci id="S3.SS3.p8.4.m4.1.1.2.cmml" xref="S3.SS3.p8.4.m4.1.1.2">𝑚</ci><apply id="S3.SS3.p8.4.m4.1.1.3.cmml" xref="S3.SS3.p8.4.m4.1.1.3"><minus id="S3.SS3.p8.4.m4.1.1.3.1.cmml" xref="S3.SS3.p8.4.m4.1.1.3.1"></minus><ci id="S3.SS3.p8.4.m4.1.1.3.2.cmml" xref="S3.SS3.p8.4.m4.1.1.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p8.4.m4.1.1.3.3.cmml" xref="S3.SS3.p8.4.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p8.4.m4.1c">m_{N-1}</annotation></semantics></math> are the batch size and maximum number of non-empty voxels per batch, respectively. The voxel is padded with 0 if it is empty. As shown in Eq. (<a href="#S3.E4" title="Equation 4 ‣ 3.3 Octree Attention ‣ 3 Method ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>), the MHSA takes <math id="S3.SS3.p8.5.m5.1" class="ltx_Math" alttext="\bar{F}_{N-1}" display="inline"><semantics id="S3.SS3.p8.5.m5.1a"><msub id="S3.SS3.p8.5.m5.1.1" xref="S3.SS3.p8.5.m5.1.1.cmml"><mover accent="true" id="S3.SS3.p8.5.m5.1.1.2" xref="S3.SS3.p8.5.m5.1.1.2.cmml"><mi id="S3.SS3.p8.5.m5.1.1.2.2" xref="S3.SS3.p8.5.m5.1.1.2.2.cmml">F</mi><mo id="S3.SS3.p8.5.m5.1.1.2.1" xref="S3.SS3.p8.5.m5.1.1.2.1.cmml">¯</mo></mover><mrow id="S3.SS3.p8.5.m5.1.1.3" xref="S3.SS3.p8.5.m5.1.1.3.cmml"><mi id="S3.SS3.p8.5.m5.1.1.3.2" xref="S3.SS3.p8.5.m5.1.1.3.2.cmml">N</mi><mo id="S3.SS3.p8.5.m5.1.1.3.1" xref="S3.SS3.p8.5.m5.1.1.3.1.cmml">−</mo><mn id="S3.SS3.p8.5.m5.1.1.3.3" xref="S3.SS3.p8.5.m5.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p8.5.m5.1b"><apply id="S3.SS3.p8.5.m5.1.1.cmml" xref="S3.SS3.p8.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p8.5.m5.1.1.1.cmml" xref="S3.SS3.p8.5.m5.1.1">subscript</csymbol><apply id="S3.SS3.p8.5.m5.1.1.2.cmml" xref="S3.SS3.p8.5.m5.1.1.2"><ci id="S3.SS3.p8.5.m5.1.1.2.1.cmml" xref="S3.SS3.p8.5.m5.1.1.2.1">¯</ci><ci id="S3.SS3.p8.5.m5.1.1.2.2.cmml" xref="S3.SS3.p8.5.m5.1.1.2.2">𝐹</ci></apply><apply id="S3.SS3.p8.5.m5.1.1.3.cmml" xref="S3.SS3.p8.5.m5.1.1.3"><minus id="S3.SS3.p8.5.m5.1.1.3.1.cmml" xref="S3.SS3.p8.5.m5.1.1.3.1"></minus><ci id="S3.SS3.p8.5.m5.1.1.3.2.cmml" xref="S3.SS3.p8.5.m5.1.1.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p8.5.m5.1.1.3.3.cmml" xref="S3.SS3.p8.5.m5.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p8.5.m5.1c">\bar{F}_{N-1}</annotation></semantics></math> as input and outputs the attention score matrices <math id="S3.SS3.p8.6.m6.1" class="ltx_Math" alttext="\mathcal{A}_{N-1}\in\mathbb{R}^{B\times m_{N-1}\times m_{N-1}}" display="inline"><semantics id="S3.SS3.p8.6.m6.1a"><mrow id="S3.SS3.p8.6.m6.1.1" xref="S3.SS3.p8.6.m6.1.1.cmml"><msub id="S3.SS3.p8.6.m6.1.1.2" xref="S3.SS3.p8.6.m6.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p8.6.m6.1.1.2.2" xref="S3.SS3.p8.6.m6.1.1.2.2.cmml">𝒜</mi><mrow id="S3.SS3.p8.6.m6.1.1.2.3" xref="S3.SS3.p8.6.m6.1.1.2.3.cmml"><mi id="S3.SS3.p8.6.m6.1.1.2.3.2" xref="S3.SS3.p8.6.m6.1.1.2.3.2.cmml">N</mi><mo id="S3.SS3.p8.6.m6.1.1.2.3.1" xref="S3.SS3.p8.6.m6.1.1.2.3.1.cmml">−</mo><mn id="S3.SS3.p8.6.m6.1.1.2.3.3" xref="S3.SS3.p8.6.m6.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS3.p8.6.m6.1.1.1" xref="S3.SS3.p8.6.m6.1.1.1.cmml">∈</mo><msup id="S3.SS3.p8.6.m6.1.1.3" xref="S3.SS3.p8.6.m6.1.1.3.cmml"><mi id="S3.SS3.p8.6.m6.1.1.3.2" xref="S3.SS3.p8.6.m6.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS3.p8.6.m6.1.1.3.3" xref="S3.SS3.p8.6.m6.1.1.3.3.cmml"><mi id="S3.SS3.p8.6.m6.1.1.3.3.2" xref="S3.SS3.p8.6.m6.1.1.3.3.2.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p8.6.m6.1.1.3.3.1" xref="S3.SS3.p8.6.m6.1.1.3.3.1.cmml">×</mo><msub id="S3.SS3.p8.6.m6.1.1.3.3.3" xref="S3.SS3.p8.6.m6.1.1.3.3.3.cmml"><mi id="S3.SS3.p8.6.m6.1.1.3.3.3.2" xref="S3.SS3.p8.6.m6.1.1.3.3.3.2.cmml">m</mi><mrow id="S3.SS3.p8.6.m6.1.1.3.3.3.3" xref="S3.SS3.p8.6.m6.1.1.3.3.3.3.cmml"><mi id="S3.SS3.p8.6.m6.1.1.3.3.3.3.2" xref="S3.SS3.p8.6.m6.1.1.3.3.3.3.2.cmml">N</mi><mo id="S3.SS3.p8.6.m6.1.1.3.3.3.3.1" xref="S3.SS3.p8.6.m6.1.1.3.3.3.3.1.cmml">−</mo><mn id="S3.SS3.p8.6.m6.1.1.3.3.3.3.3" xref="S3.SS3.p8.6.m6.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p8.6.m6.1.1.3.3.1a" xref="S3.SS3.p8.6.m6.1.1.3.3.1.cmml">×</mo><msub id="S3.SS3.p8.6.m6.1.1.3.3.4" xref="S3.SS3.p8.6.m6.1.1.3.3.4.cmml"><mi id="S3.SS3.p8.6.m6.1.1.3.3.4.2" xref="S3.SS3.p8.6.m6.1.1.3.3.4.2.cmml">m</mi><mrow id="S3.SS3.p8.6.m6.1.1.3.3.4.3" xref="S3.SS3.p8.6.m6.1.1.3.3.4.3.cmml"><mi id="S3.SS3.p8.6.m6.1.1.3.3.4.3.2" xref="S3.SS3.p8.6.m6.1.1.3.3.4.3.2.cmml">N</mi><mo id="S3.SS3.p8.6.m6.1.1.3.3.4.3.1" xref="S3.SS3.p8.6.m6.1.1.3.3.4.3.1.cmml">−</mo><mn id="S3.SS3.p8.6.m6.1.1.3.3.4.3.3" xref="S3.SS3.p8.6.m6.1.1.3.3.4.3.3.cmml">1</mn></mrow></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p8.6.m6.1b"><apply id="S3.SS3.p8.6.m6.1.1.cmml" xref="S3.SS3.p8.6.m6.1.1"><in id="S3.SS3.p8.6.m6.1.1.1.cmml" xref="S3.SS3.p8.6.m6.1.1.1"></in><apply id="S3.SS3.p8.6.m6.1.1.2.cmml" xref="S3.SS3.p8.6.m6.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p8.6.m6.1.1.2.1.cmml" xref="S3.SS3.p8.6.m6.1.1.2">subscript</csymbol><ci id="S3.SS3.p8.6.m6.1.1.2.2.cmml" xref="S3.SS3.p8.6.m6.1.1.2.2">𝒜</ci><apply id="S3.SS3.p8.6.m6.1.1.2.3.cmml" xref="S3.SS3.p8.6.m6.1.1.2.3"><minus id="S3.SS3.p8.6.m6.1.1.2.3.1.cmml" xref="S3.SS3.p8.6.m6.1.1.2.3.1"></minus><ci id="S3.SS3.p8.6.m6.1.1.2.3.2.cmml" xref="S3.SS3.p8.6.m6.1.1.2.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p8.6.m6.1.1.2.3.3.cmml" xref="S3.SS3.p8.6.m6.1.1.2.3.3">1</cn></apply></apply><apply id="S3.SS3.p8.6.m6.1.1.3.cmml" xref="S3.SS3.p8.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p8.6.m6.1.1.3.1.cmml" xref="S3.SS3.p8.6.m6.1.1.3">superscript</csymbol><ci id="S3.SS3.p8.6.m6.1.1.3.2.cmml" xref="S3.SS3.p8.6.m6.1.1.3.2">ℝ</ci><apply id="S3.SS3.p8.6.m6.1.1.3.3.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3"><times id="S3.SS3.p8.6.m6.1.1.3.3.1.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.1"></times><ci id="S3.SS3.p8.6.m6.1.1.3.3.2.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.2">𝐵</ci><apply id="S3.SS3.p8.6.m6.1.1.3.3.3.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p8.6.m6.1.1.3.3.3.1.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.3">subscript</csymbol><ci id="S3.SS3.p8.6.m6.1.1.3.3.3.2.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.3.2">𝑚</ci><apply id="S3.SS3.p8.6.m6.1.1.3.3.3.3.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.3.3"><minus id="S3.SS3.p8.6.m6.1.1.3.3.3.3.1.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.3.3.1"></minus><ci id="S3.SS3.p8.6.m6.1.1.3.3.3.3.2.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.3.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p8.6.m6.1.1.3.3.3.3.3.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.3.3.3">1</cn></apply></apply><apply id="S3.SS3.p8.6.m6.1.1.3.3.4.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.4"><csymbol cd="ambiguous" id="S3.SS3.p8.6.m6.1.1.3.3.4.1.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.4">subscript</csymbol><ci id="S3.SS3.p8.6.m6.1.1.3.3.4.2.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.4.2">𝑚</ci><apply id="S3.SS3.p8.6.m6.1.1.3.3.4.3.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.4.3"><minus id="S3.SS3.p8.6.m6.1.1.3.3.4.3.1.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.4.3.1"></minus><ci id="S3.SS3.p8.6.m6.1.1.3.3.4.3.2.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.4.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p8.6.m6.1.1.3.3.4.3.3.cmml" xref="S3.SS3.p8.6.m6.1.1.3.3.4.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p8.6.m6.1c">\mathcal{A}_{N-1}\in\mathbb{R}^{B\times m_{N-1}\times m_{N-1}}</annotation></semantics></math> and attentive features <math id="S3.SS3.p8.7.m7.1" class="ltx_Math" alttext="\bar{F}_{N-1}^{{}^{\prime}}" display="inline"><semantics id="S3.SS3.p8.7.m7.1a"><msubsup id="S3.SS3.p8.7.m7.1.1" xref="S3.SS3.p8.7.m7.1.1.cmml"><mover accent="true" id="S3.SS3.p8.7.m7.1.1.2.2" xref="S3.SS3.p8.7.m7.1.1.2.2.cmml"><mi id="S3.SS3.p8.7.m7.1.1.2.2.2" xref="S3.SS3.p8.7.m7.1.1.2.2.2.cmml">F</mi><mo id="S3.SS3.p8.7.m7.1.1.2.2.1" xref="S3.SS3.p8.7.m7.1.1.2.2.1.cmml">¯</mo></mover><mrow id="S3.SS3.p8.7.m7.1.1.2.3" xref="S3.SS3.p8.7.m7.1.1.2.3.cmml"><mi id="S3.SS3.p8.7.m7.1.1.2.3.2" xref="S3.SS3.p8.7.m7.1.1.2.3.2.cmml">N</mi><mo id="S3.SS3.p8.7.m7.1.1.2.3.1" xref="S3.SS3.p8.7.m7.1.1.2.3.1.cmml">−</mo><mn id="S3.SS3.p8.7.m7.1.1.2.3.3" xref="S3.SS3.p8.7.m7.1.1.2.3.3.cmml">1</mn></mrow><msup id="S3.SS3.p8.7.m7.1.1.3" xref="S3.SS3.p8.7.m7.1.1.3.cmml"><mi id="S3.SS3.p8.7.m7.1.1.3a" xref="S3.SS3.p8.7.m7.1.1.3.cmml"></mi><mo id="S3.SS3.p8.7.m7.1.1.3.1" xref="S3.SS3.p8.7.m7.1.1.3.1.cmml">′</mo></msup></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p8.7.m7.1b"><apply id="S3.SS3.p8.7.m7.1.1.cmml" xref="S3.SS3.p8.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p8.7.m7.1.1.1.cmml" xref="S3.SS3.p8.7.m7.1.1">superscript</csymbol><apply id="S3.SS3.p8.7.m7.1.1.2.cmml" xref="S3.SS3.p8.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p8.7.m7.1.1.2.1.cmml" xref="S3.SS3.p8.7.m7.1.1">subscript</csymbol><apply id="S3.SS3.p8.7.m7.1.1.2.2.cmml" xref="S3.SS3.p8.7.m7.1.1.2.2"><ci id="S3.SS3.p8.7.m7.1.1.2.2.1.cmml" xref="S3.SS3.p8.7.m7.1.1.2.2.1">¯</ci><ci id="S3.SS3.p8.7.m7.1.1.2.2.2.cmml" xref="S3.SS3.p8.7.m7.1.1.2.2.2">𝐹</ci></apply><apply id="S3.SS3.p8.7.m7.1.1.2.3.cmml" xref="S3.SS3.p8.7.m7.1.1.2.3"><minus id="S3.SS3.p8.7.m7.1.1.2.3.1.cmml" xref="S3.SS3.p8.7.m7.1.1.2.3.1"></minus><ci id="S3.SS3.p8.7.m7.1.1.2.3.2.cmml" xref="S3.SS3.p8.7.m7.1.1.2.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p8.7.m7.1.1.2.3.3.cmml" xref="S3.SS3.p8.7.m7.1.1.2.3.3">1</cn></apply></apply><apply id="S3.SS3.p8.7.m7.1.1.3.cmml" xref="S3.SS3.p8.7.m7.1.1.3"><ci id="S3.SS3.p8.7.m7.1.1.3.1.cmml" xref="S3.SS3.p8.7.m7.1.1.3.1">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p8.7.m7.1c">\bar{F}_{N-1}^{{}^{\prime}}</annotation></semantics></math> as</p>
</div>
<div id="S3.SS3.p9" class="ltx_para">
<table id="S3.E4" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E4X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E4X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\mathcal{A}_{N-1}=\sum_{h=1}^{H}\sigma(\frac{\it{\bar{F}_{N-1}}W_{q}W_{k}^{T}\it{\bar{F}_{N-1}}^{T}}{\sqrt{d}})," display="inline"><semantics id="S3.E4X.2.1.1.m1.2a"><mrow id="S3.E4X.2.1.1.m1.2.2.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.cmml"><mrow id="S3.E4X.2.1.1.m1.2.2.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.cmml"><msub id="S3.E4X.2.1.1.m1.2.2.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4X.2.1.1.m1.2.2.1.1.2.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.2.cmml">𝒜</mi><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.2.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.3.cmml"><mi id="S3.E4X.2.1.1.m1.2.2.1.1.2.3.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.3.2.cmml">N</mi><mo id="S3.E4X.2.1.1.m1.2.2.1.1.2.3.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.3.1.cmml">−</mo><mn id="S3.E4X.2.1.1.m1.2.2.1.1.2.3.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.E4X.2.1.1.m1.2.2.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.cmml">=</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E4X.2.1.1.m1.2.2.1.1.3.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.cmml"><munderover id="S3.E4X.2.1.1.m1.2.2.1.1.3.1a" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.cmml"><mo movablelimits="false" id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.2.cmml">∑</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.cmml"><mi id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.2.cmml">h</mi><mo id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.3.cmml">H</mi></munderover></mstyle><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.3.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.2.cmml"><mi id="S3.E4X.2.1.1.m1.2.2.1.1.3.2.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.2.2.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.3.2.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.2.1.cmml">​</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.3.2.3.2" xref="S3.E4X.2.1.1.m1.1.1.cmml"><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.3.2.3.2.1" xref="S3.E4X.2.1.1.m1.1.1.cmml">(</mo><mstyle displaystyle="true" id="S3.E4X.2.1.1.m1.1.1" xref="S3.E4X.2.1.1.m1.1.1.cmml"><mfrac id="S3.E4X.2.1.1.m1.1.1a" xref="S3.E4X.2.1.1.m1.1.1.cmml"><mrow id="S3.E4X.2.1.1.m1.1.1.2" xref="S3.E4X.2.1.1.m1.1.1.2.cmml"><msub id="S3.E4X.2.1.1.m1.1.1.2.2" xref="S3.E4X.2.1.1.m1.1.1.2.2.cmml"><mover accent="true" id="S3.E4X.2.1.1.m1.1.1.2.2.2" xref="S3.E4X.2.1.1.m1.1.1.2.2.2.cmml"><mi id="S3.E4X.2.1.1.m1.1.1.2.2.2.2" xref="S3.E4X.2.1.1.m1.1.1.2.2.2.2.cmml">F</mi><mo id="S3.E4X.2.1.1.m1.1.1.2.2.2.1" xref="S3.E4X.2.1.1.m1.1.1.2.2.2.1.cmml">¯</mo></mover><mrow id="S3.E4X.2.1.1.m1.1.1.2.2.3" xref="S3.E4X.2.1.1.m1.1.1.2.2.3.cmml"><mi id="S3.E4X.2.1.1.m1.1.1.2.2.3.2" xref="S3.E4X.2.1.1.m1.1.1.2.2.3.2.cmml">N</mi><mo id="S3.E4X.2.1.1.m1.1.1.2.2.3.1" xref="S3.E4X.2.1.1.m1.1.1.2.2.3.1.cmml">−</mo><mn class="ltx_mathvariant_italic" mathvariant="italic" id="S3.E4X.2.1.1.m1.1.1.2.2.3.3" xref="S3.E4X.2.1.1.m1.1.1.2.2.3.3.cmml">1</mn></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.1.1.2.1" xref="S3.E4X.2.1.1.m1.1.1.2.1.cmml">​</mo><msub id="S3.E4X.2.1.1.m1.1.1.2.3" xref="S3.E4X.2.1.1.m1.1.1.2.3.cmml"><mi id="S3.E4X.2.1.1.m1.1.1.2.3.2" xref="S3.E4X.2.1.1.m1.1.1.2.3.2.cmml">W</mi><mi id="S3.E4X.2.1.1.m1.1.1.2.3.3" xref="S3.E4X.2.1.1.m1.1.1.2.3.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.1.1.2.1a" xref="S3.E4X.2.1.1.m1.1.1.2.1.cmml">​</mo><msubsup id="S3.E4X.2.1.1.m1.1.1.2.4" xref="S3.E4X.2.1.1.m1.1.1.2.4.cmml"><mi id="S3.E4X.2.1.1.m1.1.1.2.4.2.2" xref="S3.E4X.2.1.1.m1.1.1.2.4.2.2.cmml">W</mi><mi id="S3.E4X.2.1.1.m1.1.1.2.4.2.3" xref="S3.E4X.2.1.1.m1.1.1.2.4.2.3.cmml">k</mi><mi id="S3.E4X.2.1.1.m1.1.1.2.4.3" xref="S3.E4X.2.1.1.m1.1.1.2.4.3.cmml">T</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.1.1.2.1b" xref="S3.E4X.2.1.1.m1.1.1.2.1.cmml">​</mo><mmultiscripts id="S3.E4X.2.1.1.m1.1.1.2.5" xref="S3.E4X.2.1.1.m1.1.1.2.5.cmml"><mover accent="true" id="S3.E4X.2.1.1.m1.1.1.2.5.2.2" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.2.cmml"><mi id="S3.E4X.2.1.1.m1.1.1.2.5.2.2.2" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.2.2.cmml">F</mi><mo id="S3.E4X.2.1.1.m1.1.1.2.5.2.2.1" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.2.1.cmml">¯</mo></mover><mrow id="S3.E4X.2.1.1.m1.1.1.2.5.2.3" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.3.cmml"><mi id="S3.E4X.2.1.1.m1.1.1.2.5.2.3.2" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.3.2.cmml">N</mi><mo id="S3.E4X.2.1.1.m1.1.1.2.5.2.3.1" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.3.1.cmml">−</mo><mn class="ltx_mathvariant_italic" mathvariant="italic" id="S3.E4X.2.1.1.m1.1.1.2.5.2.3.3" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.3.3.cmml">1</mn></mrow><mrow id="S3.E4X.2.1.1.m1.1.1.2.5a" xref="S3.E4X.2.1.1.m1.1.1.2.5.cmml"></mrow><mrow id="S3.E4X.2.1.1.m1.1.1.2.5b" xref="S3.E4X.2.1.1.m1.1.1.2.5.cmml"></mrow><mi id="S3.E4X.2.1.1.m1.1.1.2.5.3" xref="S3.E4X.2.1.1.m1.1.1.2.5.3.cmml">T</mi></mmultiscripts></mrow><msqrt id="S3.E4X.2.1.1.m1.1.1.3" xref="S3.E4X.2.1.1.m1.1.1.3.cmml"><mi id="S3.E4X.2.1.1.m1.1.1.3.2" xref="S3.E4X.2.1.1.m1.1.1.3.2.cmml">d</mi></msqrt></mfrac></mstyle><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.3.2.3.2.2" xref="S3.E4X.2.1.1.m1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E4X.2.1.1.m1.2.2.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4X.2.1.1.m1.2b"><apply id="S3.E4X.2.1.1.m1.2.2.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1"><eq id="S3.E4X.2.1.1.m1.2.2.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1"></eq><apply id="S3.E4X.2.1.1.m1.2.2.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.2.2.1.1.2.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.2">subscript</csymbol><ci id="S3.E4X.2.1.1.m1.2.2.1.1.2.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.2">𝒜</ci><apply id="S3.E4X.2.1.1.m1.2.2.1.1.2.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.3"><minus id="S3.E4X.2.1.1.m1.2.2.1.1.2.3.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.3.1"></minus><ci id="S3.E4X.2.1.1.m1.2.2.1.1.2.3.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.3.2">𝑁</ci><cn type="integer" id="S3.E4X.2.1.1.m1.2.2.1.1.2.3.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E4X.2.1.1.m1.2.2.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3"><apply id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1">superscript</csymbol><apply id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1">subscript</csymbol><sum id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.2"></sum><apply id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3"><eq id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.1"></eq><ci id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.2">ℎ</ci><cn type="integer" id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.1.3">𝐻</ci></apply><apply id="S3.E4X.2.1.1.m1.2.2.1.1.3.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.2"><times id="S3.E4X.2.1.1.m1.2.2.1.1.3.2.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.2.1"></times><ci id="S3.E4X.2.1.1.m1.2.2.1.1.3.2.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.2.2">𝜎</ci><apply id="S3.E4X.2.1.1.m1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.2.3.2"><divide id="S3.E4X.2.1.1.m1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.2.3.2"></divide><apply id="S3.E4X.2.1.1.m1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2"><times id="S3.E4X.2.1.1.m1.1.1.2.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.1"></times><apply id="S3.E4X.2.1.1.m1.1.1.2.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.1.1.2.2.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.2">subscript</csymbol><apply id="S3.E4X.2.1.1.m1.1.1.2.2.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.2.2"><ci id="S3.E4X.2.1.1.m1.1.1.2.2.2.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.2.2.1">¯</ci><ci id="S3.E4X.2.1.1.m1.1.1.2.2.2.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.2.2.2">𝐹</ci></apply><apply id="S3.E4X.2.1.1.m1.1.1.2.2.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.2.3"><minus id="S3.E4X.2.1.1.m1.1.1.2.2.3.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.2.3.1"></minus><ci id="S3.E4X.2.1.1.m1.1.1.2.2.3.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.2.3.2">𝑁</ci><cn type="integer" id="S3.E4X.2.1.1.m1.1.1.2.2.3.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E4X.2.1.1.m1.1.1.2.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.1.1.2.3.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.3">subscript</csymbol><ci id="S3.E4X.2.1.1.m1.1.1.2.3.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.3.2">𝑊</ci><ci id="S3.E4X.2.1.1.m1.1.1.2.3.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.3.3">𝑞</ci></apply><apply id="S3.E4X.2.1.1.m1.1.1.2.4.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.1.1.2.4.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.4">superscript</csymbol><apply id="S3.E4X.2.1.1.m1.1.1.2.4.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.1.1.2.4.2.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.4">subscript</csymbol><ci id="S3.E4X.2.1.1.m1.1.1.2.4.2.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.4.2.2">𝑊</ci><ci id="S3.E4X.2.1.1.m1.1.1.2.4.2.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.4.2.3">𝑘</ci></apply><ci id="S3.E4X.2.1.1.m1.1.1.2.4.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.4.3">𝑇</ci></apply><apply id="S3.E4X.2.1.1.m1.1.1.2.5.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.1.1.2.5.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5">superscript</csymbol><apply id="S3.E4X.2.1.1.m1.1.1.2.5.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.1.1.2.5.2.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5">subscript</csymbol><apply id="S3.E4X.2.1.1.m1.1.1.2.5.2.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.2"><ci id="S3.E4X.2.1.1.m1.1.1.2.5.2.2.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.2.1">¯</ci><ci id="S3.E4X.2.1.1.m1.1.1.2.5.2.2.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.2.2">𝐹</ci></apply><apply id="S3.E4X.2.1.1.m1.1.1.2.5.2.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.3"><minus id="S3.E4X.2.1.1.m1.1.1.2.5.2.3.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.3.1"></minus><ci id="S3.E4X.2.1.1.m1.1.1.2.5.2.3.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.3.2">𝑁</ci><cn type="integer" id="S3.E4X.2.1.1.m1.1.1.2.5.2.3.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5.2.3.3">1</cn></apply></apply><ci id="S3.E4X.2.1.1.m1.1.1.2.5.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.5.3">𝑇</ci></apply></apply><apply id="S3.E4X.2.1.1.m1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.3"><root id="S3.E4X.2.1.1.m1.1.1.3a.cmml" xref="S3.E4X.2.1.1.m1.1.1.3"></root><ci id="S3.E4X.2.1.1.m1.1.1.3.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.3.2">𝑑</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4X.2.1.1.m1.2c">\displaystyle\mathcal{A}_{N-1}=\sum_{h=1}^{H}\sigma(\frac{\it{\bar{F}_{N-1}}W_{q}W_{k}^{T}\it{\bar{F}_{N-1}}^{T}}{\sqrt{d}}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(4)</span></td>
</tr>
<tr id="S3.E4Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E4Xa.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\bar{F}_{N-1}^{{}^{\prime}}=\sum_{h=1}^{H}W_{h}[\sigma(\frac{\it{\bar{F}_{N-1}}W_{q}W_{k}^{T}\it{\bar{F}_{N-1}}^{T}}{\sqrt{d}})\cdot\it{\bar{F}_{N-1}}W_{v}]." display="inline"><semantics id="S3.E4Xa.2.1.1.m1.2a"><mrow id="S3.E4Xa.2.1.1.m1.2.2.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.cmml"><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.cmml"><msubsup id="S3.E4Xa.2.1.1.m1.2.2.1.1.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.cmml"><mover accent="true" id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2.2.cmml">F</mi><mo id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2.1.cmml">¯</mo></mover><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.2.cmml">N</mi><mo id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.1.cmml">−</mo><mn id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.3.cmml">1</mn></mrow><msup id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.3a" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.3.cmml"></mi><mo id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.3.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.3.1.cmml">′</mo></msup></msubsup><mo id="S3.E4Xa.2.1.1.m1.2.2.1.1.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.cmml"><munderover id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2a" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.cmml"><mo movablelimits="false" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.2.cmml">h</mi><mo id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.3.cmml">H</mi></munderover></mstyle><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.cmml"><msub id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.2.cmml">W</mi><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.3.cmml">h</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml"><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2" xref="S3.E4Xa.2.1.1.m1.1.1.cmml"><mo stretchy="false" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2.1" xref="S3.E4Xa.2.1.1.m1.1.1.cmml">(</mo><mstyle displaystyle="true" id="S3.E4Xa.2.1.1.m1.1.1" xref="S3.E4Xa.2.1.1.m1.1.1.cmml"><mfrac id="S3.E4Xa.2.1.1.m1.1.1a" xref="S3.E4Xa.2.1.1.m1.1.1.cmml"><mrow id="S3.E4Xa.2.1.1.m1.1.1.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.cmml"><msub id="S3.E4Xa.2.1.1.m1.1.1.2.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.cmml"><mover accent="true" id="S3.E4Xa.2.1.1.m1.1.1.2.2.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.2.cmml"><mi id="S3.E4Xa.2.1.1.m1.1.1.2.2.2.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.2.2.cmml">F</mi><mo id="S3.E4Xa.2.1.1.m1.1.1.2.2.2.1" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.2.1.cmml">¯</mo></mover><mrow id="S3.E4Xa.2.1.1.m1.1.1.2.2.3" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.1.1.2.2.3.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.3.2.cmml">N</mi><mo id="S3.E4Xa.2.1.1.m1.1.1.2.2.3.1" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.3.1.cmml">−</mo><mn class="ltx_mathvariant_italic" mathvariant="italic" id="S3.E4Xa.2.1.1.m1.1.1.2.2.3.3" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.3.3.cmml">1</mn></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.1.1.2.1" xref="S3.E4Xa.2.1.1.m1.1.1.2.1.cmml">​</mo><msub id="S3.E4Xa.2.1.1.m1.1.1.2.3" xref="S3.E4Xa.2.1.1.m1.1.1.2.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.1.1.2.3.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.3.2.cmml">W</mi><mi id="S3.E4Xa.2.1.1.m1.1.1.2.3.3" xref="S3.E4Xa.2.1.1.m1.1.1.2.3.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.1.1.2.1a" xref="S3.E4Xa.2.1.1.m1.1.1.2.1.cmml">​</mo><msubsup id="S3.E4Xa.2.1.1.m1.1.1.2.4" xref="S3.E4Xa.2.1.1.m1.1.1.2.4.cmml"><mi id="S3.E4Xa.2.1.1.m1.1.1.2.4.2.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.4.2.2.cmml">W</mi><mi id="S3.E4Xa.2.1.1.m1.1.1.2.4.2.3" xref="S3.E4Xa.2.1.1.m1.1.1.2.4.2.3.cmml">k</mi><mi id="S3.E4Xa.2.1.1.m1.1.1.2.4.3" xref="S3.E4Xa.2.1.1.m1.1.1.2.4.3.cmml">T</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.1.1.2.1b" xref="S3.E4Xa.2.1.1.m1.1.1.2.1.cmml">​</mo><mmultiscripts id="S3.E4Xa.2.1.1.m1.1.1.2.5" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.cmml"><mover accent="true" id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2.cmml"><mi id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2.2.cmml">F</mi><mo id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2.1" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2.1.cmml">¯</mo></mover><mrow id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.2.cmml">N</mi><mo id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.1" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.1.cmml">−</mo><mn class="ltx_mathvariant_italic" mathvariant="italic" id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.3" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.3.cmml">1</mn></mrow><mrow id="S3.E4Xa.2.1.1.m1.1.1.2.5a" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.cmml"></mrow><mrow id="S3.E4Xa.2.1.1.m1.1.1.2.5b" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.cmml"></mrow><mi id="S3.E4Xa.2.1.1.m1.1.1.2.5.3" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.3.cmml">T</mi></mmultiscripts></mrow><msqrt id="S3.E4Xa.2.1.1.m1.1.1.3" xref="S3.E4Xa.2.1.1.m1.1.1.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.1.1.3.2" xref="S3.E4Xa.2.1.1.m1.1.1.3.2.cmml">d</mi></msqrt></mfrac></mstyle><mo rspace="0.055em" stretchy="false" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2.2" xref="S3.E4Xa.2.1.1.m1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.cmml">⋅</mo><msub id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml"><mover accent="true" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2.cmml">F</mi><mo id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.1.cmml">¯</mo></mover><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.2.cmml">N</mi><mo id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.1.cmml">−</mo><mn class="ltx_mathvariant_italic" mathvariant="italic" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.3.cmml">1</mn></mrow></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml">​</mo><msub id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2.cmml">W</mi><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3.cmml">v</mi></msub></mrow><mo stretchy="false" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E4Xa.2.1.1.m1.2.2.1.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4Xa.2.1.1.m1.2b"><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1"><eq id="S3.E4Xa.2.1.1.m1.2.2.1.1.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.2"></eq><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3">superscript</csymbol><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3">subscript</csymbol><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2"><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2.1">¯</ci><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.2.2">𝐹</ci></apply><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3"><minus id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.1"></minus><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.2">𝑁</ci><cn type="integer" id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.2.3.3">1</cn></apply></apply><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.3"><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.3.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.3.3.1">′</ci></apply></apply><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1"><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2">superscript</csymbol><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2">subscript</csymbol><sum id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.2"></sum><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3"><eq id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.1"></eq><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.2">ℎ</ci><cn type="integer" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.3">𝐻</ci></apply><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1"><times id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.2"></times><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.2">𝑊</ci><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.3.3">ℎ</ci></apply><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1"><times id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1"></times><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2"><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1">⋅</ci><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2"><times id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1"></times><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2">𝜎</ci><apply id="S3.E4Xa.2.1.1.m1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2"><divide id="S3.E4Xa.2.1.1.m1.1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2"></divide><apply id="S3.E4Xa.2.1.1.m1.1.1.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2"><times id="S3.E4Xa.2.1.1.m1.1.1.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.1"></times><apply id="S3.E4Xa.2.1.1.m1.1.1.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.1.1.2.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.2">subscript</csymbol><apply id="S3.E4Xa.2.1.1.m1.1.1.2.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.2"><ci id="S3.E4Xa.2.1.1.m1.1.1.2.2.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.2.1">¯</ci><ci id="S3.E4Xa.2.1.1.m1.1.1.2.2.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.2.2">𝐹</ci></apply><apply id="S3.E4Xa.2.1.1.m1.1.1.2.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.3"><minus id="S3.E4Xa.2.1.1.m1.1.1.2.2.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.3.1"></minus><ci id="S3.E4Xa.2.1.1.m1.1.1.2.2.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.3.2">𝑁</ci><cn type="integer" id="S3.E4Xa.2.1.1.m1.1.1.2.2.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E4Xa.2.1.1.m1.1.1.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.1.1.2.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.3">subscript</csymbol><ci id="S3.E4Xa.2.1.1.m1.1.1.2.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.3.2">𝑊</ci><ci id="S3.E4Xa.2.1.1.m1.1.1.2.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.3.3">𝑞</ci></apply><apply id="S3.E4Xa.2.1.1.m1.1.1.2.4.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.1.1.2.4.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.4">superscript</csymbol><apply id="S3.E4Xa.2.1.1.m1.1.1.2.4.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.1.1.2.4.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.4">subscript</csymbol><ci id="S3.E4Xa.2.1.1.m1.1.1.2.4.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.4.2.2">𝑊</ci><ci id="S3.E4Xa.2.1.1.m1.1.1.2.4.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.4.2.3">𝑘</ci></apply><ci id="S3.E4Xa.2.1.1.m1.1.1.2.4.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.4.3">𝑇</ci></apply><apply id="S3.E4Xa.2.1.1.m1.1.1.2.5.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.1.1.2.5.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5">superscript</csymbol><apply id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5">subscript</csymbol><apply id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2"><ci id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2.1">¯</ci><ci id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.2.2">𝐹</ci></apply><apply id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3"><minus id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.1"></minus><ci id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.2">𝑁</ci><cn type="integer" id="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.2.3.3">1</cn></apply></apply><ci id="S3.E4Xa.2.1.1.m1.1.1.2.5.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.5.3">𝑇</ci></apply></apply><apply id="S3.E4Xa.2.1.1.m1.1.1.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.3"><root id="S3.E4Xa.2.1.1.m1.1.1.3a.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.3"></root><ci id="S3.E4Xa.2.1.1.m1.1.1.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.3.2">𝑑</ci></apply></apply></apply><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3">subscript</csymbol><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2"><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.1">¯</ci><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2">𝐹</ci></apply><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3"><minus id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.1"></minus><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.2">𝑁</ci><cn type="integer" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.3">1</cn></apply></apply></apply><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2">𝑊</ci><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3">𝑣</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4Xa.2.1.1.m1.2c">\displaystyle\bar{F}_{N-1}^{{}^{\prime}}=\sum_{h=1}^{H}W_{h}[\sigma(\frac{\it{\bar{F}_{N-1}}W_{q}W_{k}^{T}\it{\bar{F}_{N-1}}^{T}}{\sqrt{d}})\cdot\it{\bar{F}_{N-1}}W_{v}].</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
<div id="S3.SS3.p10" class="ltx_para ltx_noindent">
<p id="S3.SS3.p10.2" class="ltx_p">For each query token, we select the top<math id="S3.SS3.p10.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS3.p10.1.m1.1a"><mi id="S3.SS3.p10.1.m1.1.1" xref="S3.SS3.p10.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p10.1.m1.1b"><ci id="S3.SS3.p10.1.m1.1.1.cmml" xref="S3.SS3.p10.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p10.1.m1.1c">k</annotation></semantics></math> attention scores as its most relevant token group in a row-wise way, denoted by <math id="S3.SS3.p10.2.m2.1" class="ltx_Math" alttext="O_{N-1}\in\mathbb{Z}^{B\times m_{N-1}\times k}" display="inline"><semantics id="S3.SS3.p10.2.m2.1a"><mrow id="S3.SS3.p10.2.m2.1.1" xref="S3.SS3.p10.2.m2.1.1.cmml"><msub id="S3.SS3.p10.2.m2.1.1.2" xref="S3.SS3.p10.2.m2.1.1.2.cmml"><mi id="S3.SS3.p10.2.m2.1.1.2.2" xref="S3.SS3.p10.2.m2.1.1.2.2.cmml">O</mi><mrow id="S3.SS3.p10.2.m2.1.1.2.3" xref="S3.SS3.p10.2.m2.1.1.2.3.cmml"><mi id="S3.SS3.p10.2.m2.1.1.2.3.2" xref="S3.SS3.p10.2.m2.1.1.2.3.2.cmml">N</mi><mo id="S3.SS3.p10.2.m2.1.1.2.3.1" xref="S3.SS3.p10.2.m2.1.1.2.3.1.cmml">−</mo><mn id="S3.SS3.p10.2.m2.1.1.2.3.3" xref="S3.SS3.p10.2.m2.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS3.p10.2.m2.1.1.1" xref="S3.SS3.p10.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS3.p10.2.m2.1.1.3" xref="S3.SS3.p10.2.m2.1.1.3.cmml"><mi id="S3.SS3.p10.2.m2.1.1.3.2" xref="S3.SS3.p10.2.m2.1.1.3.2.cmml">ℤ</mi><mrow id="S3.SS3.p10.2.m2.1.1.3.3" xref="S3.SS3.p10.2.m2.1.1.3.3.cmml"><mi id="S3.SS3.p10.2.m2.1.1.3.3.2" xref="S3.SS3.p10.2.m2.1.1.3.3.2.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p10.2.m2.1.1.3.3.1" xref="S3.SS3.p10.2.m2.1.1.3.3.1.cmml">×</mo><msub id="S3.SS3.p10.2.m2.1.1.3.3.3" xref="S3.SS3.p10.2.m2.1.1.3.3.3.cmml"><mi id="S3.SS3.p10.2.m2.1.1.3.3.3.2" xref="S3.SS3.p10.2.m2.1.1.3.3.3.2.cmml">m</mi><mrow id="S3.SS3.p10.2.m2.1.1.3.3.3.3" xref="S3.SS3.p10.2.m2.1.1.3.3.3.3.cmml"><mi id="S3.SS3.p10.2.m2.1.1.3.3.3.3.2" xref="S3.SS3.p10.2.m2.1.1.3.3.3.3.2.cmml">N</mi><mo id="S3.SS3.p10.2.m2.1.1.3.3.3.3.1" xref="S3.SS3.p10.2.m2.1.1.3.3.3.3.1.cmml">−</mo><mn id="S3.SS3.p10.2.m2.1.1.3.3.3.3.3" xref="S3.SS3.p10.2.m2.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p10.2.m2.1.1.3.3.1a" xref="S3.SS3.p10.2.m2.1.1.3.3.1.cmml">×</mo><mi id="S3.SS3.p10.2.m2.1.1.3.3.4" xref="S3.SS3.p10.2.m2.1.1.3.3.4.cmml">k</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p10.2.m2.1b"><apply id="S3.SS3.p10.2.m2.1.1.cmml" xref="S3.SS3.p10.2.m2.1.1"><in id="S3.SS3.p10.2.m2.1.1.1.cmml" xref="S3.SS3.p10.2.m2.1.1.1"></in><apply id="S3.SS3.p10.2.m2.1.1.2.cmml" xref="S3.SS3.p10.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p10.2.m2.1.1.2.1.cmml" xref="S3.SS3.p10.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS3.p10.2.m2.1.1.2.2.cmml" xref="S3.SS3.p10.2.m2.1.1.2.2">𝑂</ci><apply id="S3.SS3.p10.2.m2.1.1.2.3.cmml" xref="S3.SS3.p10.2.m2.1.1.2.3"><minus id="S3.SS3.p10.2.m2.1.1.2.3.1.cmml" xref="S3.SS3.p10.2.m2.1.1.2.3.1"></minus><ci id="S3.SS3.p10.2.m2.1.1.2.3.2.cmml" xref="S3.SS3.p10.2.m2.1.1.2.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p10.2.m2.1.1.2.3.3.cmml" xref="S3.SS3.p10.2.m2.1.1.2.3.3">1</cn></apply></apply><apply id="S3.SS3.p10.2.m2.1.1.3.cmml" xref="S3.SS3.p10.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p10.2.m2.1.1.3.1.cmml" xref="S3.SS3.p10.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS3.p10.2.m2.1.1.3.2.cmml" xref="S3.SS3.p10.2.m2.1.1.3.2">ℤ</ci><apply id="S3.SS3.p10.2.m2.1.1.3.3.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3"><times id="S3.SS3.p10.2.m2.1.1.3.3.1.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3.1"></times><ci id="S3.SS3.p10.2.m2.1.1.3.3.2.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3.2">𝐵</ci><apply id="S3.SS3.p10.2.m2.1.1.3.3.3.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p10.2.m2.1.1.3.3.3.1.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3.3">subscript</csymbol><ci id="S3.SS3.p10.2.m2.1.1.3.3.3.2.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3.3.2">𝑚</ci><apply id="S3.SS3.p10.2.m2.1.1.3.3.3.3.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3.3.3"><minus id="S3.SS3.p10.2.m2.1.1.3.3.3.3.1.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3.3.3.1"></minus><ci id="S3.SS3.p10.2.m2.1.1.3.3.3.3.2.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3.3.3.2">𝑁</ci><cn type="integer" id="S3.SS3.p10.2.m2.1.1.3.3.3.3.3.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3.3.3.3">1</cn></apply></apply><ci id="S3.SS3.p10.2.m2.1.1.3.3.4.cmml" xref="S3.SS3.p10.2.m2.1.1.3.3.4">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p10.2.m2.1c">O_{N-1}\in\mathbb{Z}^{B\times m_{N-1}\times k}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS3.p11" class="ltx_para">
<p id="S3.SS3.p11.9" class="ltx_p">When propagating from top to bottom through the pyramid and reaching the <math id="S3.SS3.p11.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS3.p11.1.m1.1a"><mi id="S3.SS3.p11.1.m1.1.1" xref="S3.SS3.p11.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p11.1.m1.1b"><ci id="S3.SS3.p11.1.m1.1.1.cmml" xref="S3.SS3.p11.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p11.1.m1.1c">n</annotation></semantics></math>-th level, we uniformly sample limited <math id="S3.SS3.p11.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS3.p11.2.m2.1a"><mi id="S3.SS3.p11.2.m2.1.1" xref="S3.SS3.p11.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p11.2.m2.1b"><ci id="S3.SS3.p11.2.m2.1.1.cmml" xref="S3.SS3.p11.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p11.2.m2.1c">K</annotation></semantics></math> attending octants from the selected regions with features in <math id="S3.SS3.p11.3.m3.1" class="ltx_Math" alttext="\bar{F}_{n}" display="inline"><semantics id="S3.SS3.p11.3.m3.1a"><msub id="S3.SS3.p11.3.m3.1.1" xref="S3.SS3.p11.3.m3.1.1.cmml"><mover accent="true" id="S3.SS3.p11.3.m3.1.1.2" xref="S3.SS3.p11.3.m3.1.1.2.cmml"><mi id="S3.SS3.p11.3.m3.1.1.2.2" xref="S3.SS3.p11.3.m3.1.1.2.2.cmml">F</mi><mo id="S3.SS3.p11.3.m3.1.1.2.1" xref="S3.SS3.p11.3.m3.1.1.2.1.cmml">¯</mo></mover><mi id="S3.SS3.p11.3.m3.1.1.3" xref="S3.SS3.p11.3.m3.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p11.3.m3.1b"><apply id="S3.SS3.p11.3.m3.1.1.cmml" xref="S3.SS3.p11.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p11.3.m3.1.1.1.cmml" xref="S3.SS3.p11.3.m3.1.1">subscript</csymbol><apply id="S3.SS3.p11.3.m3.1.1.2.cmml" xref="S3.SS3.p11.3.m3.1.1.2"><ci id="S3.SS3.p11.3.m3.1.1.2.1.cmml" xref="S3.SS3.p11.3.m3.1.1.2.1">¯</ci><ci id="S3.SS3.p11.3.m3.1.1.2.2.cmml" xref="S3.SS3.p11.3.m3.1.1.2.2">𝐹</ci></apply><ci id="S3.SS3.p11.3.m3.1.1.3.cmml" xref="S3.SS3.p11.3.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p11.3.m3.1c">\bar{F}_{n}</annotation></semantics></math> and top<math id="S3.SS3.p11.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS3.p11.4.m4.1a"><mi id="S3.SS3.p11.4.m4.1.1" xref="S3.SS3.p11.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p11.4.m4.1b"><ci id="S3.SS3.p11.4.m4.1.1.cmml" xref="S3.SS3.p11.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p11.4.m4.1c">k</annotation></semantics></math> indices in <math id="S3.SS3.p11.5.m5.1" class="ltx_Math" alttext="O_{n+1}" display="inline"><semantics id="S3.SS3.p11.5.m5.1a"><msub id="S3.SS3.p11.5.m5.1.1" xref="S3.SS3.p11.5.m5.1.1.cmml"><mi id="S3.SS3.p11.5.m5.1.1.2" xref="S3.SS3.p11.5.m5.1.1.2.cmml">O</mi><mrow id="S3.SS3.p11.5.m5.1.1.3" xref="S3.SS3.p11.5.m5.1.1.3.cmml"><mi id="S3.SS3.p11.5.m5.1.1.3.2" xref="S3.SS3.p11.5.m5.1.1.3.2.cmml">n</mi><mo id="S3.SS3.p11.5.m5.1.1.3.1" xref="S3.SS3.p11.5.m5.1.1.3.1.cmml">+</mo><mn id="S3.SS3.p11.5.m5.1.1.3.3" xref="S3.SS3.p11.5.m5.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p11.5.m5.1b"><apply id="S3.SS3.p11.5.m5.1.1.cmml" xref="S3.SS3.p11.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p11.5.m5.1.1.1.cmml" xref="S3.SS3.p11.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p11.5.m5.1.1.2.cmml" xref="S3.SS3.p11.5.m5.1.1.2">𝑂</ci><apply id="S3.SS3.p11.5.m5.1.1.3.cmml" xref="S3.SS3.p11.5.m5.1.1.3"><plus id="S3.SS3.p11.5.m5.1.1.3.1.cmml" xref="S3.SS3.p11.5.m5.1.1.3.1"></plus><ci id="S3.SS3.p11.5.m5.1.1.3.2.cmml" xref="S3.SS3.p11.5.m5.1.1.3.2">𝑛</ci><cn type="integer" id="S3.SS3.p11.5.m5.1.1.3.3.cmml" xref="S3.SS3.p11.5.m5.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p11.5.m5.1c">O_{n+1}</annotation></semantics></math>. We conduct cross-attention instead of self-attention with the dense query sequence of the <math id="S3.SS3.p11.6.m6.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS3.p11.6.m6.1a"><mi id="S3.SS3.p11.6.m6.1.1" xref="S3.SS3.p11.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p11.6.m6.1b"><ci id="S3.SS3.p11.6.m6.1.1.cmml" xref="S3.SS3.p11.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p11.6.m6.1c">n</annotation></semantics></math>-th level, <math id="S3.SS3.p11.7.m7.1" class="ltx_Math" alttext="\bar{Q}_{n}\in\mathbb{R}^{B\times m_{n}\times d}" display="inline"><semantics id="S3.SS3.p11.7.m7.1a"><mrow id="S3.SS3.p11.7.m7.1.1" xref="S3.SS3.p11.7.m7.1.1.cmml"><msub id="S3.SS3.p11.7.m7.1.1.2" xref="S3.SS3.p11.7.m7.1.1.2.cmml"><mover accent="true" id="S3.SS3.p11.7.m7.1.1.2.2" xref="S3.SS3.p11.7.m7.1.1.2.2.cmml"><mi id="S3.SS3.p11.7.m7.1.1.2.2.2" xref="S3.SS3.p11.7.m7.1.1.2.2.2.cmml">Q</mi><mo id="S3.SS3.p11.7.m7.1.1.2.2.1" xref="S3.SS3.p11.7.m7.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.SS3.p11.7.m7.1.1.2.3" xref="S3.SS3.p11.7.m7.1.1.2.3.cmml">n</mi></msub><mo id="S3.SS3.p11.7.m7.1.1.1" xref="S3.SS3.p11.7.m7.1.1.1.cmml">∈</mo><msup id="S3.SS3.p11.7.m7.1.1.3" xref="S3.SS3.p11.7.m7.1.1.3.cmml"><mi id="S3.SS3.p11.7.m7.1.1.3.2" xref="S3.SS3.p11.7.m7.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS3.p11.7.m7.1.1.3.3" xref="S3.SS3.p11.7.m7.1.1.3.3.cmml"><mi id="S3.SS3.p11.7.m7.1.1.3.3.2" xref="S3.SS3.p11.7.m7.1.1.3.3.2.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p11.7.m7.1.1.3.3.1" xref="S3.SS3.p11.7.m7.1.1.3.3.1.cmml">×</mo><msub id="S3.SS3.p11.7.m7.1.1.3.3.3" xref="S3.SS3.p11.7.m7.1.1.3.3.3.cmml"><mi id="S3.SS3.p11.7.m7.1.1.3.3.3.2" xref="S3.SS3.p11.7.m7.1.1.3.3.3.2.cmml">m</mi><mi id="S3.SS3.p11.7.m7.1.1.3.3.3.3" xref="S3.SS3.p11.7.m7.1.1.3.3.3.3.cmml">n</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p11.7.m7.1.1.3.3.1a" xref="S3.SS3.p11.7.m7.1.1.3.3.1.cmml">×</mo><mi id="S3.SS3.p11.7.m7.1.1.3.3.4" xref="S3.SS3.p11.7.m7.1.1.3.3.4.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p11.7.m7.1b"><apply id="S3.SS3.p11.7.m7.1.1.cmml" xref="S3.SS3.p11.7.m7.1.1"><in id="S3.SS3.p11.7.m7.1.1.1.cmml" xref="S3.SS3.p11.7.m7.1.1.1"></in><apply id="S3.SS3.p11.7.m7.1.1.2.cmml" xref="S3.SS3.p11.7.m7.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p11.7.m7.1.1.2.1.cmml" xref="S3.SS3.p11.7.m7.1.1.2">subscript</csymbol><apply id="S3.SS3.p11.7.m7.1.1.2.2.cmml" xref="S3.SS3.p11.7.m7.1.1.2.2"><ci id="S3.SS3.p11.7.m7.1.1.2.2.1.cmml" xref="S3.SS3.p11.7.m7.1.1.2.2.1">¯</ci><ci id="S3.SS3.p11.7.m7.1.1.2.2.2.cmml" xref="S3.SS3.p11.7.m7.1.1.2.2.2">𝑄</ci></apply><ci id="S3.SS3.p11.7.m7.1.1.2.3.cmml" xref="S3.SS3.p11.7.m7.1.1.2.3">𝑛</ci></apply><apply id="S3.SS3.p11.7.m7.1.1.3.cmml" xref="S3.SS3.p11.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p11.7.m7.1.1.3.1.cmml" xref="S3.SS3.p11.7.m7.1.1.3">superscript</csymbol><ci id="S3.SS3.p11.7.m7.1.1.3.2.cmml" xref="S3.SS3.p11.7.m7.1.1.3.2">ℝ</ci><apply id="S3.SS3.p11.7.m7.1.1.3.3.cmml" xref="S3.SS3.p11.7.m7.1.1.3.3"><times id="S3.SS3.p11.7.m7.1.1.3.3.1.cmml" xref="S3.SS3.p11.7.m7.1.1.3.3.1"></times><ci id="S3.SS3.p11.7.m7.1.1.3.3.2.cmml" xref="S3.SS3.p11.7.m7.1.1.3.3.2">𝐵</ci><apply id="S3.SS3.p11.7.m7.1.1.3.3.3.cmml" xref="S3.SS3.p11.7.m7.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p11.7.m7.1.1.3.3.3.1.cmml" xref="S3.SS3.p11.7.m7.1.1.3.3.3">subscript</csymbol><ci id="S3.SS3.p11.7.m7.1.1.3.3.3.2.cmml" xref="S3.SS3.p11.7.m7.1.1.3.3.3.2">𝑚</ci><ci id="S3.SS3.p11.7.m7.1.1.3.3.3.3.cmml" xref="S3.SS3.p11.7.m7.1.1.3.3.3.3">𝑛</ci></apply><ci id="S3.SS3.p11.7.m7.1.1.3.3.4.cmml" xref="S3.SS3.p11.7.m7.1.1.3.3.4">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p11.7.m7.1c">\bar{Q}_{n}\in\mathbb{R}^{B\times m_{n}\times d}</annotation></semantics></math>, and the compact sampled key/value sequence of the <math id="S3.SS3.p11.8.m8.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS3.p11.8.m8.1a"><mi id="S3.SS3.p11.8.m8.1.1" xref="S3.SS3.p11.8.m8.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p11.8.m8.1b"><ci id="S3.SS3.p11.8.m8.1.1.cmml" xref="S3.SS3.p11.8.m8.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p11.8.m8.1c">n</annotation></semantics></math>-th level, <math id="S3.SS3.p11.9.m9.1" class="ltx_Math" alttext="\bar{K}_{n}/\bar{V}_{n}\in\mathbb{R}^{B\times m_{n}\times K\times d}" display="inline"><semantics id="S3.SS3.p11.9.m9.1a"><mrow id="S3.SS3.p11.9.m9.1.1" xref="S3.SS3.p11.9.m9.1.1.cmml"><mrow id="S3.SS3.p11.9.m9.1.1.2" xref="S3.SS3.p11.9.m9.1.1.2.cmml"><msub id="S3.SS3.p11.9.m9.1.1.2.2" xref="S3.SS3.p11.9.m9.1.1.2.2.cmml"><mover accent="true" id="S3.SS3.p11.9.m9.1.1.2.2.2" xref="S3.SS3.p11.9.m9.1.1.2.2.2.cmml"><mi id="S3.SS3.p11.9.m9.1.1.2.2.2.2" xref="S3.SS3.p11.9.m9.1.1.2.2.2.2.cmml">K</mi><mo id="S3.SS3.p11.9.m9.1.1.2.2.2.1" xref="S3.SS3.p11.9.m9.1.1.2.2.2.1.cmml">¯</mo></mover><mi id="S3.SS3.p11.9.m9.1.1.2.2.3" xref="S3.SS3.p11.9.m9.1.1.2.2.3.cmml">n</mi></msub><mo id="S3.SS3.p11.9.m9.1.1.2.1" xref="S3.SS3.p11.9.m9.1.1.2.1.cmml">/</mo><msub id="S3.SS3.p11.9.m9.1.1.2.3" xref="S3.SS3.p11.9.m9.1.1.2.3.cmml"><mover accent="true" id="S3.SS3.p11.9.m9.1.1.2.3.2" xref="S3.SS3.p11.9.m9.1.1.2.3.2.cmml"><mi id="S3.SS3.p11.9.m9.1.1.2.3.2.2" xref="S3.SS3.p11.9.m9.1.1.2.3.2.2.cmml">V</mi><mo id="S3.SS3.p11.9.m9.1.1.2.3.2.1" xref="S3.SS3.p11.9.m9.1.1.2.3.2.1.cmml">¯</mo></mover><mi id="S3.SS3.p11.9.m9.1.1.2.3.3" xref="S3.SS3.p11.9.m9.1.1.2.3.3.cmml">n</mi></msub></mrow><mo id="S3.SS3.p11.9.m9.1.1.1" xref="S3.SS3.p11.9.m9.1.1.1.cmml">∈</mo><msup id="S3.SS3.p11.9.m9.1.1.3" xref="S3.SS3.p11.9.m9.1.1.3.cmml"><mi id="S3.SS3.p11.9.m9.1.1.3.2" xref="S3.SS3.p11.9.m9.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS3.p11.9.m9.1.1.3.3" xref="S3.SS3.p11.9.m9.1.1.3.3.cmml"><mi id="S3.SS3.p11.9.m9.1.1.3.3.2" xref="S3.SS3.p11.9.m9.1.1.3.3.2.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p11.9.m9.1.1.3.3.1" xref="S3.SS3.p11.9.m9.1.1.3.3.1.cmml">×</mo><msub id="S3.SS3.p11.9.m9.1.1.3.3.3" xref="S3.SS3.p11.9.m9.1.1.3.3.3.cmml"><mi id="S3.SS3.p11.9.m9.1.1.3.3.3.2" xref="S3.SS3.p11.9.m9.1.1.3.3.3.2.cmml">m</mi><mi id="S3.SS3.p11.9.m9.1.1.3.3.3.3" xref="S3.SS3.p11.9.m9.1.1.3.3.3.3.cmml">n</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p11.9.m9.1.1.3.3.1a" xref="S3.SS3.p11.9.m9.1.1.3.3.1.cmml">×</mo><mi id="S3.SS3.p11.9.m9.1.1.3.3.4" xref="S3.SS3.p11.9.m9.1.1.3.3.4.cmml">K</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p11.9.m9.1.1.3.3.1b" xref="S3.SS3.p11.9.m9.1.1.3.3.1.cmml">×</mo><mi id="S3.SS3.p11.9.m9.1.1.3.3.5" xref="S3.SS3.p11.9.m9.1.1.3.3.5.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p11.9.m9.1b"><apply id="S3.SS3.p11.9.m9.1.1.cmml" xref="S3.SS3.p11.9.m9.1.1"><in id="S3.SS3.p11.9.m9.1.1.1.cmml" xref="S3.SS3.p11.9.m9.1.1.1"></in><apply id="S3.SS3.p11.9.m9.1.1.2.cmml" xref="S3.SS3.p11.9.m9.1.1.2"><divide id="S3.SS3.p11.9.m9.1.1.2.1.cmml" xref="S3.SS3.p11.9.m9.1.1.2.1"></divide><apply id="S3.SS3.p11.9.m9.1.1.2.2.cmml" xref="S3.SS3.p11.9.m9.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS3.p11.9.m9.1.1.2.2.1.cmml" xref="S3.SS3.p11.9.m9.1.1.2.2">subscript</csymbol><apply id="S3.SS3.p11.9.m9.1.1.2.2.2.cmml" xref="S3.SS3.p11.9.m9.1.1.2.2.2"><ci id="S3.SS3.p11.9.m9.1.1.2.2.2.1.cmml" xref="S3.SS3.p11.9.m9.1.1.2.2.2.1">¯</ci><ci id="S3.SS3.p11.9.m9.1.1.2.2.2.2.cmml" xref="S3.SS3.p11.9.m9.1.1.2.2.2.2">𝐾</ci></apply><ci id="S3.SS3.p11.9.m9.1.1.2.2.3.cmml" xref="S3.SS3.p11.9.m9.1.1.2.2.3">𝑛</ci></apply><apply id="S3.SS3.p11.9.m9.1.1.2.3.cmml" xref="S3.SS3.p11.9.m9.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS3.p11.9.m9.1.1.2.3.1.cmml" xref="S3.SS3.p11.9.m9.1.1.2.3">subscript</csymbol><apply id="S3.SS3.p11.9.m9.1.1.2.3.2.cmml" xref="S3.SS3.p11.9.m9.1.1.2.3.2"><ci id="S3.SS3.p11.9.m9.1.1.2.3.2.1.cmml" xref="S3.SS3.p11.9.m9.1.1.2.3.2.1">¯</ci><ci id="S3.SS3.p11.9.m9.1.1.2.3.2.2.cmml" xref="S3.SS3.p11.9.m9.1.1.2.3.2.2">𝑉</ci></apply><ci id="S3.SS3.p11.9.m9.1.1.2.3.3.cmml" xref="S3.SS3.p11.9.m9.1.1.2.3.3">𝑛</ci></apply></apply><apply id="S3.SS3.p11.9.m9.1.1.3.cmml" xref="S3.SS3.p11.9.m9.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p11.9.m9.1.1.3.1.cmml" xref="S3.SS3.p11.9.m9.1.1.3">superscript</csymbol><ci id="S3.SS3.p11.9.m9.1.1.3.2.cmml" xref="S3.SS3.p11.9.m9.1.1.3.2">ℝ</ci><apply id="S3.SS3.p11.9.m9.1.1.3.3.cmml" xref="S3.SS3.p11.9.m9.1.1.3.3"><times id="S3.SS3.p11.9.m9.1.1.3.3.1.cmml" xref="S3.SS3.p11.9.m9.1.1.3.3.1"></times><ci id="S3.SS3.p11.9.m9.1.1.3.3.2.cmml" xref="S3.SS3.p11.9.m9.1.1.3.3.2">𝐵</ci><apply id="S3.SS3.p11.9.m9.1.1.3.3.3.cmml" xref="S3.SS3.p11.9.m9.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p11.9.m9.1.1.3.3.3.1.cmml" xref="S3.SS3.p11.9.m9.1.1.3.3.3">subscript</csymbol><ci id="S3.SS3.p11.9.m9.1.1.3.3.3.2.cmml" xref="S3.SS3.p11.9.m9.1.1.3.3.3.2">𝑚</ci><ci id="S3.SS3.p11.9.m9.1.1.3.3.3.3.cmml" xref="S3.SS3.p11.9.m9.1.1.3.3.3.3">𝑛</ci></apply><ci id="S3.SS3.p11.9.m9.1.1.3.3.4.cmml" xref="S3.SS3.p11.9.m9.1.1.3.3.4">𝐾</ci><ci id="S3.SS3.p11.9.m9.1.1.3.3.5.cmml" xref="S3.SS3.p11.9.m9.1.1.3.3.5">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p11.9.m9.1c">\bar{K}_{n}/\bar{V}_{n}\in\mathbb{R}^{B\times m_{n}\times K\times d}</annotation></semantics></math> , which is formulated as below</p>
</div>
<div id="S3.SS3.p12" class="ltx_para">
<table id="S3.E5" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E5X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E5X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\mathcal{A}_{n}=\sum_{h=1}^{H}\sigma(\frac{\it{\bar{Q}_{n}}W_{q}W_{k}^{T}\it{\bar{K}_{n}}^{T}}{\sqrt{d}})," display="inline"><semantics id="S3.E5X.2.1.1.m1.2a"><mrow id="S3.E5X.2.1.1.m1.2.2.1" xref="S3.E5X.2.1.1.m1.2.2.1.1.cmml"><mrow id="S3.E5X.2.1.1.m1.2.2.1.1" xref="S3.E5X.2.1.1.m1.2.2.1.1.cmml"><msub id="S3.E5X.2.1.1.m1.2.2.1.1.2" xref="S3.E5X.2.1.1.m1.2.2.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5X.2.1.1.m1.2.2.1.1.2.2" xref="S3.E5X.2.1.1.m1.2.2.1.1.2.2.cmml">𝒜</mi><mi id="S3.E5X.2.1.1.m1.2.2.1.1.2.3" xref="S3.E5X.2.1.1.m1.2.2.1.1.2.3.cmml">n</mi></msub><mo id="S3.E5X.2.1.1.m1.2.2.1.1.1" xref="S3.E5X.2.1.1.m1.2.2.1.1.1.cmml">=</mo><mrow id="S3.E5X.2.1.1.m1.2.2.1.1.3" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E5X.2.1.1.m1.2.2.1.1.3.1" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.cmml"><munderover id="S3.E5X.2.1.1.m1.2.2.1.1.3.1a" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.cmml"><mo movablelimits="false" id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.2" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.2.cmml">∑</mo><mrow id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.cmml"><mi id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.2" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.2.cmml">h</mi><mo id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.1" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.3" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.3" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.3.cmml">H</mi></munderover></mstyle><mrow id="S3.E5X.2.1.1.m1.2.2.1.1.3.2" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.2.cmml"><mi id="S3.E5X.2.1.1.m1.2.2.1.1.3.2.2" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.2.2.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.E5X.2.1.1.m1.2.2.1.1.3.2.1" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.2.1.cmml">​</mo><mrow id="S3.E5X.2.1.1.m1.2.2.1.1.3.2.3.2" xref="S3.E5X.2.1.1.m1.1.1.cmml"><mo stretchy="false" id="S3.E5X.2.1.1.m1.2.2.1.1.3.2.3.2.1" xref="S3.E5X.2.1.1.m1.1.1.cmml">(</mo><mstyle displaystyle="true" id="S3.E5X.2.1.1.m1.1.1" xref="S3.E5X.2.1.1.m1.1.1.cmml"><mfrac id="S3.E5X.2.1.1.m1.1.1a" xref="S3.E5X.2.1.1.m1.1.1.cmml"><mrow id="S3.E5X.2.1.1.m1.1.1.2" xref="S3.E5X.2.1.1.m1.1.1.2.cmml"><msub id="S3.E5X.2.1.1.m1.1.1.2.2" xref="S3.E5X.2.1.1.m1.1.1.2.2.cmml"><mover accent="true" id="S3.E5X.2.1.1.m1.1.1.2.2.2" xref="S3.E5X.2.1.1.m1.1.1.2.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.1.1.2.2.2.2" xref="S3.E5X.2.1.1.m1.1.1.2.2.2.2.cmml">Q</mi><mo id="S3.E5X.2.1.1.m1.1.1.2.2.2.1" xref="S3.E5X.2.1.1.m1.1.1.2.2.2.1.cmml">¯</mo></mover><mi id="S3.E5X.2.1.1.m1.1.1.2.2.3" xref="S3.E5X.2.1.1.m1.1.1.2.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.E5X.2.1.1.m1.1.1.2.1" xref="S3.E5X.2.1.1.m1.1.1.2.1.cmml">​</mo><msub id="S3.E5X.2.1.1.m1.1.1.2.3" xref="S3.E5X.2.1.1.m1.1.1.2.3.cmml"><mi id="S3.E5X.2.1.1.m1.1.1.2.3.2" xref="S3.E5X.2.1.1.m1.1.1.2.3.2.cmml">W</mi><mi id="S3.E5X.2.1.1.m1.1.1.2.3.3" xref="S3.E5X.2.1.1.m1.1.1.2.3.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E5X.2.1.1.m1.1.1.2.1a" xref="S3.E5X.2.1.1.m1.1.1.2.1.cmml">​</mo><msubsup id="S3.E5X.2.1.1.m1.1.1.2.4" xref="S3.E5X.2.1.1.m1.1.1.2.4.cmml"><mi id="S3.E5X.2.1.1.m1.1.1.2.4.2.2" xref="S3.E5X.2.1.1.m1.1.1.2.4.2.2.cmml">W</mi><mi id="S3.E5X.2.1.1.m1.1.1.2.4.2.3" xref="S3.E5X.2.1.1.m1.1.1.2.4.2.3.cmml">k</mi><mi id="S3.E5X.2.1.1.m1.1.1.2.4.3" xref="S3.E5X.2.1.1.m1.1.1.2.4.3.cmml">T</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.E5X.2.1.1.m1.1.1.2.1b" xref="S3.E5X.2.1.1.m1.1.1.2.1.cmml">​</mo><mmultiscripts id="S3.E5X.2.1.1.m1.1.1.2.5" xref="S3.E5X.2.1.1.m1.1.1.2.5.cmml"><mover accent="true" id="S3.E5X.2.1.1.m1.1.1.2.5.2.2" xref="S3.E5X.2.1.1.m1.1.1.2.5.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.1.1.2.5.2.2.2" xref="S3.E5X.2.1.1.m1.1.1.2.5.2.2.2.cmml">K</mi><mo id="S3.E5X.2.1.1.m1.1.1.2.5.2.2.1" xref="S3.E5X.2.1.1.m1.1.1.2.5.2.2.1.cmml">¯</mo></mover><mi id="S3.E5X.2.1.1.m1.1.1.2.5.2.3" xref="S3.E5X.2.1.1.m1.1.1.2.5.2.3.cmml">n</mi><mrow id="S3.E5X.2.1.1.m1.1.1.2.5a" xref="S3.E5X.2.1.1.m1.1.1.2.5.cmml"></mrow><mrow id="S3.E5X.2.1.1.m1.1.1.2.5b" xref="S3.E5X.2.1.1.m1.1.1.2.5.cmml"></mrow><mi id="S3.E5X.2.1.1.m1.1.1.2.5.3" xref="S3.E5X.2.1.1.m1.1.1.2.5.3.cmml">T</mi></mmultiscripts></mrow><msqrt id="S3.E5X.2.1.1.m1.1.1.3" xref="S3.E5X.2.1.1.m1.1.1.3.cmml"><mi id="S3.E5X.2.1.1.m1.1.1.3.2" xref="S3.E5X.2.1.1.m1.1.1.3.2.cmml">d</mi></msqrt></mfrac></mstyle><mo stretchy="false" id="S3.E5X.2.1.1.m1.2.2.1.1.3.2.3.2.2" xref="S3.E5X.2.1.1.m1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E5X.2.1.1.m1.2.2.1.2" xref="S3.E5X.2.1.1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5X.2.1.1.m1.2b"><apply id="S3.E5X.2.1.1.m1.2.2.1.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.1"><eq id="S3.E5X.2.1.1.m1.2.2.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.1"></eq><apply id="S3.E5X.2.1.1.m1.2.2.1.1.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.2.2.1.1.2.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.2">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.2.2.1.1.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.2.2">𝒜</ci><ci id="S3.E5X.2.1.1.m1.2.2.1.1.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.2.3">𝑛</ci></apply><apply id="S3.E5X.2.1.1.m1.2.2.1.1.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3"><apply id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1">superscript</csymbol><apply id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1">subscript</csymbol><sum id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.2"></sum><apply id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3"><eq id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.1"></eq><ci id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.2">ℎ</ci><cn type="integer" id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E5X.2.1.1.m1.2.2.1.1.3.1.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.1.3">𝐻</ci></apply><apply id="S3.E5X.2.1.1.m1.2.2.1.1.3.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.2"><times id="S3.E5X.2.1.1.m1.2.2.1.1.3.2.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.2.1"></times><ci id="S3.E5X.2.1.1.m1.2.2.1.1.3.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.2.2">𝜎</ci><apply id="S3.E5X.2.1.1.m1.1.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.2.3.2"><divide id="S3.E5X.2.1.1.m1.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.1.1.3.2.3.2"></divide><apply id="S3.E5X.2.1.1.m1.1.1.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.2"><times id="S3.E5X.2.1.1.m1.1.1.2.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.1"></times><apply id="S3.E5X.2.1.1.m1.1.1.2.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.1.1.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.2">subscript</csymbol><apply id="S3.E5X.2.1.1.m1.1.1.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.2.2"><ci id="S3.E5X.2.1.1.m1.1.1.2.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.2.2.1">¯</ci><ci id="S3.E5X.2.1.1.m1.1.1.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.2.2.2">𝑄</ci></apply><ci id="S3.E5X.2.1.1.m1.1.1.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.2.3">𝑛</ci></apply><apply id="S3.E5X.2.1.1.m1.1.1.2.3.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.1.1.2.3.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.3">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.1.1.2.3.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.3.2">𝑊</ci><ci id="S3.E5X.2.1.1.m1.1.1.2.3.3.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.3.3">𝑞</ci></apply><apply id="S3.E5X.2.1.1.m1.1.1.2.4.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.1.1.2.4.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.4">superscript</csymbol><apply id="S3.E5X.2.1.1.m1.1.1.2.4.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.1.1.2.4.2.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.4">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.1.1.2.4.2.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.4.2.2">𝑊</ci><ci id="S3.E5X.2.1.1.m1.1.1.2.4.2.3.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.4.2.3">𝑘</ci></apply><ci id="S3.E5X.2.1.1.m1.1.1.2.4.3.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.4.3">𝑇</ci></apply><apply id="S3.E5X.2.1.1.m1.1.1.2.5.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.5"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.1.1.2.5.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.5">superscript</csymbol><apply id="S3.E5X.2.1.1.m1.1.1.2.5.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.5"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.1.1.2.5.2.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.5">subscript</csymbol><apply id="S3.E5X.2.1.1.m1.1.1.2.5.2.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.5.2.2"><ci id="S3.E5X.2.1.1.m1.1.1.2.5.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.5.2.2.1">¯</ci><ci id="S3.E5X.2.1.1.m1.1.1.2.5.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.5.2.2.2">𝐾</ci></apply><ci id="S3.E5X.2.1.1.m1.1.1.2.5.2.3.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.5.2.3">𝑛</ci></apply><ci id="S3.E5X.2.1.1.m1.1.1.2.5.3.cmml" xref="S3.E5X.2.1.1.m1.1.1.2.5.3">𝑇</ci></apply></apply><apply id="S3.E5X.2.1.1.m1.1.1.3.cmml" xref="S3.E5X.2.1.1.m1.1.1.3"><root id="S3.E5X.2.1.1.m1.1.1.3a.cmml" xref="S3.E5X.2.1.1.m1.1.1.3"></root><ci id="S3.E5X.2.1.1.m1.1.1.3.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.3.2">𝑑</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5X.2.1.1.m1.2c">\displaystyle\mathcal{A}_{n}=\sum_{h=1}^{H}\sigma(\frac{\it{\bar{Q}_{n}}W_{q}W_{k}^{T}\it{\bar{K}_{n}}^{T}}{\sqrt{d}}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(5)</span></td>
</tr>
<tr id="S3.E5Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E5Xa.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\bar{F}_{n}^{{}^{\prime}}=\sum_{h=1}^{H}W_{h}[\sigma(\frac{\it{\bar{Q}_{n}}W_{q}W_{k}^{T}\it{\bar{K}_{n}}^{T}}{\sqrt{d}})\cdot\it{\bar{V}_{n}}W_{v}]." display="inline"><semantics id="S3.E5Xa.2.1.1.m1.2a"><mrow id="S3.E5Xa.2.1.1.m1.2.2.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.cmml"><mrow id="S3.E5Xa.2.1.1.m1.2.2.1.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.cmml"><msubsup id="S3.E5Xa.2.1.1.m1.2.2.1.1.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.cmml"><mover accent="true" id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2.cmml"><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2.2.cmml">F</mi><mo id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2.1.cmml">¯</mo></mover><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.3.cmml">n</mi><msup id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.3.cmml"><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.3a" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.3.cmml"></mi><mo id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.3.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.3.1.cmml">′</mo></msup></msubsup><mo id="S3.E5Xa.2.1.1.m1.2.2.1.1.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E5Xa.2.1.1.m1.2.2.1.1.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.cmml"><munderover id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2a" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.cmml"><mo movablelimits="false" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.cmml"><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.2.cmml">h</mi><mo id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.3.cmml">H</mi></munderover></mstyle><mrow id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.cmml"><msub id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.cmml"><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.2.cmml">W</mi><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.3.cmml">h</mi></msub><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mrow id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml"><mrow id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mrow id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2" xref="S3.E5Xa.2.1.1.m1.1.1.cmml"><mo stretchy="false" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2.1" xref="S3.E5Xa.2.1.1.m1.1.1.cmml">(</mo><mstyle displaystyle="true" id="S3.E5Xa.2.1.1.m1.1.1" xref="S3.E5Xa.2.1.1.m1.1.1.cmml"><mfrac id="S3.E5Xa.2.1.1.m1.1.1a" xref="S3.E5Xa.2.1.1.m1.1.1.cmml"><mrow id="S3.E5Xa.2.1.1.m1.1.1.2" xref="S3.E5Xa.2.1.1.m1.1.1.2.cmml"><msub id="S3.E5Xa.2.1.1.m1.1.1.2.2" xref="S3.E5Xa.2.1.1.m1.1.1.2.2.cmml"><mover accent="true" id="S3.E5Xa.2.1.1.m1.1.1.2.2.2" xref="S3.E5Xa.2.1.1.m1.1.1.2.2.2.cmml"><mi id="S3.E5Xa.2.1.1.m1.1.1.2.2.2.2" xref="S3.E5Xa.2.1.1.m1.1.1.2.2.2.2.cmml">Q</mi><mo id="S3.E5Xa.2.1.1.m1.1.1.2.2.2.1" xref="S3.E5Xa.2.1.1.m1.1.1.2.2.2.1.cmml">¯</mo></mover><mi id="S3.E5Xa.2.1.1.m1.1.1.2.2.3" xref="S3.E5Xa.2.1.1.m1.1.1.2.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.1.1.2.1" xref="S3.E5Xa.2.1.1.m1.1.1.2.1.cmml">​</mo><msub id="S3.E5Xa.2.1.1.m1.1.1.2.3" xref="S3.E5Xa.2.1.1.m1.1.1.2.3.cmml"><mi id="S3.E5Xa.2.1.1.m1.1.1.2.3.2" xref="S3.E5Xa.2.1.1.m1.1.1.2.3.2.cmml">W</mi><mi id="S3.E5Xa.2.1.1.m1.1.1.2.3.3" xref="S3.E5Xa.2.1.1.m1.1.1.2.3.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.1.1.2.1a" xref="S3.E5Xa.2.1.1.m1.1.1.2.1.cmml">​</mo><msubsup id="S3.E5Xa.2.1.1.m1.1.1.2.4" xref="S3.E5Xa.2.1.1.m1.1.1.2.4.cmml"><mi id="S3.E5Xa.2.1.1.m1.1.1.2.4.2.2" xref="S3.E5Xa.2.1.1.m1.1.1.2.4.2.2.cmml">W</mi><mi id="S3.E5Xa.2.1.1.m1.1.1.2.4.2.3" xref="S3.E5Xa.2.1.1.m1.1.1.2.4.2.3.cmml">k</mi><mi id="S3.E5Xa.2.1.1.m1.1.1.2.4.3" xref="S3.E5Xa.2.1.1.m1.1.1.2.4.3.cmml">T</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.1.1.2.1b" xref="S3.E5Xa.2.1.1.m1.1.1.2.1.cmml">​</mo><mmultiscripts id="S3.E5Xa.2.1.1.m1.1.1.2.5" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.cmml"><mover accent="true" id="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2.cmml"><mi id="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2.2" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2.2.cmml">K</mi><mo id="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2.1" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2.1.cmml">¯</mo></mover><mi id="S3.E5Xa.2.1.1.m1.1.1.2.5.2.3" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.2.3.cmml">n</mi><mrow id="S3.E5Xa.2.1.1.m1.1.1.2.5a" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.cmml"></mrow><mrow id="S3.E5Xa.2.1.1.m1.1.1.2.5b" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.cmml"></mrow><mi id="S3.E5Xa.2.1.1.m1.1.1.2.5.3" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.3.cmml">T</mi></mmultiscripts></mrow><msqrt id="S3.E5Xa.2.1.1.m1.1.1.3" xref="S3.E5Xa.2.1.1.m1.1.1.3.cmml"><mi id="S3.E5Xa.2.1.1.m1.1.1.3.2" xref="S3.E5Xa.2.1.1.m1.1.1.3.2.cmml">d</mi></msqrt></mfrac></mstyle><mo rspace="0.055em" stretchy="false" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2.2" xref="S3.E5Xa.2.1.1.m1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.cmml">⋅</mo><msub id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml"><mover accent="true" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2.cmml">V</mi><mo id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.1.cmml">¯</mo></mover><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.cmml">n</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml">​</mo><msub id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2.cmml">W</mi><mi id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3.cmml">v</mi></msub></mrow><mo stretchy="false" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.3" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E5Xa.2.1.1.m1.2.2.1.2" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5Xa.2.1.1.m1.2b"><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1"><eq id="S3.E5Xa.2.1.1.m1.2.2.1.1.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.2"></eq><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3">superscript</csymbol><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3">subscript</csymbol><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2"><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2.1">¯</ci><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.2.2">𝐹</ci></apply><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.2.3">𝑛</ci></apply><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.3"><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.3.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.3.3.1">′</ci></apply></apply><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1"><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2">superscript</csymbol><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2">subscript</csymbol><sum id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.2"></sum><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3"><eq id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.1"></eq><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.2">ℎ</ci><cn type="integer" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.2.3">𝐻</ci></apply><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1"><times id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.2"></times><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.2">𝑊</ci><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.3.3">ℎ</ci></apply><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1"><times id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1"></times><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2"><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1">⋅</ci><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2"><times id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1"></times><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2">𝜎</ci><apply id="S3.E5Xa.2.1.1.m1.1.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2"><divide id="S3.E5Xa.2.1.1.m1.1.1.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2"></divide><apply id="S3.E5Xa.2.1.1.m1.1.1.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2"><times id="S3.E5Xa.2.1.1.m1.1.1.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.1"></times><apply id="S3.E5Xa.2.1.1.m1.1.1.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.1.1.2.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.2">subscript</csymbol><apply id="S3.E5Xa.2.1.1.m1.1.1.2.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.2.2"><ci id="S3.E5Xa.2.1.1.m1.1.1.2.2.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.2.2.1">¯</ci><ci id="S3.E5Xa.2.1.1.m1.1.1.2.2.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.2.2.2">𝑄</ci></apply><ci id="S3.E5Xa.2.1.1.m1.1.1.2.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.2.3">𝑛</ci></apply><apply id="S3.E5Xa.2.1.1.m1.1.1.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.1.1.2.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.3">subscript</csymbol><ci id="S3.E5Xa.2.1.1.m1.1.1.2.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.3.2">𝑊</ci><ci id="S3.E5Xa.2.1.1.m1.1.1.2.3.3.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.3.3">𝑞</ci></apply><apply id="S3.E5Xa.2.1.1.m1.1.1.2.4.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.1.1.2.4.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.4">superscript</csymbol><apply id="S3.E5Xa.2.1.1.m1.1.1.2.4.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.1.1.2.4.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.4">subscript</csymbol><ci id="S3.E5Xa.2.1.1.m1.1.1.2.4.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.4.2.2">𝑊</ci><ci id="S3.E5Xa.2.1.1.m1.1.1.2.4.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.4.2.3">𝑘</ci></apply><ci id="S3.E5Xa.2.1.1.m1.1.1.2.4.3.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.4.3">𝑇</ci></apply><apply id="S3.E5Xa.2.1.1.m1.1.1.2.5.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.5"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.1.1.2.5.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.5">superscript</csymbol><apply id="S3.E5Xa.2.1.1.m1.1.1.2.5.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.5"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.1.1.2.5.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.5">subscript</csymbol><apply id="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2"><ci id="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2.1">¯</ci><ci id="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.2.2.2">𝐾</ci></apply><ci id="S3.E5Xa.2.1.1.m1.1.1.2.5.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.2.3">𝑛</ci></apply><ci id="S3.E5Xa.2.1.1.m1.1.1.2.5.3.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.2.5.3">𝑇</ci></apply></apply><apply id="S3.E5Xa.2.1.1.m1.1.1.3.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.3"><root id="S3.E5Xa.2.1.1.m1.1.1.3a.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.3"></root><ci id="S3.E5Xa.2.1.1.m1.1.1.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.3.2">𝑑</ci></apply></apply></apply><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3">subscript</csymbol><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2"><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.1">¯</ci><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2">𝑉</ci></apply><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.3">𝑛</ci></apply></apply><apply id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2">𝑊</ci><ci id="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.3">𝑣</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5Xa.2.1.1.m1.2c">\displaystyle\bar{F}_{n}^{{}^{\prime}}=\sum_{h=1}^{H}W_{h}[\sigma(\frac{\it{\bar{Q}_{n}}W_{q}W_{k}^{T}\it{\bar{K}_{n}}^{T}}{\sqrt{d}})\cdot\it{\bar{V}_{n}}W_{v}].</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
<div id="S3.SS3.p13" class="ltx_para ltx_noindent">
<p id="S3.SS3.p13.1" class="ltx_p">Backing off the sampling, this can be treated as an attention mask on self-attention matrices. The above process is run recursively until reaching the bottom level of the pyramid.</p>
</div>
<div id="S3.SS3.p14" class="ltx_para">
<p id="S3.SS3.p14.8" class="ltx_p">Furthermore, as the top<math id="S3.SS3.p14.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS3.p14.1.m1.1a"><mi id="S3.SS3.p14.1.m1.1.1" xref="S3.SS3.p14.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p14.1.m1.1b"><ci id="S3.SS3.p14.1.m1.1.1.cmml" xref="S3.SS3.p14.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p14.1.m1.1c">k</annotation></semantics></math> selection is a hard decision that disables gradient back-propagation, we adopt the Gumbel-top<math id="S3.SS3.p14.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS3.p14.2.m2.1a"><mi id="S3.SS3.p14.2.m2.1.1" xref="S3.SS3.p14.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p14.2.m2.1b"><ci id="S3.SS3.p14.2.m2.1.1.cmml" xref="S3.SS3.p14.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p14.2.m2.1c">k</annotation></semantics></math> technique <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> to perform a differentiable and continuous approximation by replacing the vanilla top<math id="S3.SS3.p14.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS3.p14.3.m3.1a"><mi id="S3.SS3.p14.3.m3.1.1" xref="S3.SS3.p14.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p14.3.m3.1b"><ci id="S3.SS3.p14.3.m3.1.1.cmml" xref="S3.SS3.p14.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p14.3.m3.1c">k</annotation></semantics></math> selection. The normalized scores used in top<math id="S3.SS3.p14.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS3.p14.4.m4.1a"><mi id="S3.SS3.p14.4.m4.1.1" xref="S3.SS3.p14.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p14.4.m4.1b"><ci id="S3.SS3.p14.4.m4.1.1.cmml" xref="S3.SS3.p14.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p14.4.m4.1c">k</annotation></semantics></math> are derived from the distribution in Eq. (<a href="#S3.E6" title="Equation 6 ‣ 3.3 Octree Attention ‣ 3 Method ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>) during training, maintaining the original ones during inference. <math id="S3.SS3.p14.5.m5.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S3.SS3.p14.5.m5.1a"><mi id="S3.SS3.p14.5.m5.1.1" xref="S3.SS3.p14.5.m5.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p14.5.m5.1b"><ci id="S3.SS3.p14.5.m5.1.1.cmml" xref="S3.SS3.p14.5.m5.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p14.5.m5.1c">g</annotation></semantics></math>, <math id="S3.SS3.p14.6.m6.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S3.SS3.p14.6.m6.1a"><mi id="S3.SS3.p14.6.m6.1.1" xref="S3.SS3.p14.6.m6.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p14.6.m6.1b"><ci id="S3.SS3.p14.6.m6.1.1.cmml" xref="S3.SS3.p14.6.m6.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p14.6.m6.1c">\tau</annotation></semantics></math>, <math id="S3.SS3.p14.7.m7.1" class="ltx_Math" alttext="m_{n}" display="inline"><semantics id="S3.SS3.p14.7.m7.1a"><msub id="S3.SS3.p14.7.m7.1.1" xref="S3.SS3.p14.7.m7.1.1.cmml"><mi id="S3.SS3.p14.7.m7.1.1.2" xref="S3.SS3.p14.7.m7.1.1.2.cmml">m</mi><mi id="S3.SS3.p14.7.m7.1.1.3" xref="S3.SS3.p14.7.m7.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p14.7.m7.1b"><apply id="S3.SS3.p14.7.m7.1.1.cmml" xref="S3.SS3.p14.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p14.7.m7.1.1.1.cmml" xref="S3.SS3.p14.7.m7.1.1">subscript</csymbol><ci id="S3.SS3.p14.7.m7.1.1.2.cmml" xref="S3.SS3.p14.7.m7.1.1.2">𝑚</ci><ci id="S3.SS3.p14.7.m7.1.1.3.cmml" xref="S3.SS3.p14.7.m7.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p14.7.m7.1c">m_{n}</annotation></semantics></math> denote the noise sampled from the Gumbel distribution, the temperature and the amount of non-empty voxels in layer <math id="S3.SS3.p14.8.m8.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS3.p14.8.m8.1a"><mi id="S3.SS3.p14.8.m8.1.1" xref="S3.SS3.p14.8.m8.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p14.8.m8.1b"><ci id="S3.SS3.p14.8.m8.1.1.cmml" xref="S3.SS3.p14.8.m8.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p14.8.m8.1c">n</annotation></semantics></math>, respectively.</p>
</div>
<div id="S3.SS3.p15" class="ltx_para">
<table id="S3.E6" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E6X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E6X.2.1.1.m1.5" class="ltx_Math" alttext="\displaystyle p_{i}=\frac{\text{exp}((\mathcal{A}_{n}^{i}+g_{i})/\tau)}{\sum\limits_{i}^{m_{n}}\text{exp}((\mathcal{A}_{n}^{i}+g_{i})/\tau)}\ \in[0,1]." display="inline"><semantics id="S3.E6X.2.1.1.m1.5a"><mrow id="S3.E6X.2.1.1.m1.5.5.1" xref="S3.E6X.2.1.1.m1.5.5.1.1.cmml"><mrow id="S3.E6X.2.1.1.m1.5.5.1.1" xref="S3.E6X.2.1.1.m1.5.5.1.1.cmml"><msub id="S3.E6X.2.1.1.m1.5.5.1.1.2" xref="S3.E6X.2.1.1.m1.5.5.1.1.2.cmml"><mi id="S3.E6X.2.1.1.m1.5.5.1.1.2.2" xref="S3.E6X.2.1.1.m1.5.5.1.1.2.2.cmml">p</mi><mi id="S3.E6X.2.1.1.m1.5.5.1.1.2.3" xref="S3.E6X.2.1.1.m1.5.5.1.1.2.3.cmml">i</mi></msub><mo id="S3.E6X.2.1.1.m1.5.5.1.1.3" xref="S3.E6X.2.1.1.m1.5.5.1.1.3.cmml">=</mo><mstyle displaystyle="true" id="S3.E6X.2.1.1.m1.2.2" xref="S3.E6X.2.1.1.m1.2.2.cmml"><mfrac id="S3.E6X.2.1.1.m1.2.2a" xref="S3.E6X.2.1.1.m1.2.2.cmml"><mrow id="S3.E6X.2.1.1.m1.1.1.1" xref="S3.E6X.2.1.1.m1.1.1.1.cmml"><mtext id="S3.E6X.2.1.1.m1.1.1.1.3" xref="S3.E6X.2.1.1.m1.1.1.1.3a.cmml">exp</mtext><mo lspace="0em" rspace="0em" id="S3.E6X.2.1.1.m1.1.1.1.2" xref="S3.E6X.2.1.1.m1.1.1.1.2.cmml">​</mo><mrow id="S3.E6X.2.1.1.m1.1.1.1.1.1" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6X.2.1.1.m1.1.1.1.1.1.2" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6X.2.1.1.m1.1.1.1.1.1.1" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.2" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml"><msubsup id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">𝒜</mi><mi id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.2.3.cmml">n</mi><mi id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi></msubsup><mo id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.cmml">+</mo><msub id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">g</mi><mi id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo stretchy="false" id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.3" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.2" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.2.cmml">/</mo><mi id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.3" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S3.E6X.2.1.1.m1.1.1.1.1.1.3" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E6X.2.1.1.m1.2.2.2" xref="S3.E6X.2.1.1.m1.2.2.2.cmml"><munderover id="S3.E6X.2.1.1.m1.2.2.2.2" xref="S3.E6X.2.1.1.m1.2.2.2.2.cmml"><mo movablelimits="false" id="S3.E6X.2.1.1.m1.2.2.2.2.2.2" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.cmml">∑</mo><mi id="S3.E6X.2.1.1.m1.2.2.2.2.2.3" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.3.cmml">i</mi><msub id="S3.E6X.2.1.1.m1.2.2.2.2.3" xref="S3.E6X.2.1.1.m1.2.2.2.2.3.cmml"><mi id="S3.E6X.2.1.1.m1.2.2.2.2.3.2" xref="S3.E6X.2.1.1.m1.2.2.2.2.3.2.cmml">m</mi><mi id="S3.E6X.2.1.1.m1.2.2.2.2.3.3" xref="S3.E6X.2.1.1.m1.2.2.2.2.3.3.cmml">n</mi></msub></munderover><mrow id="S3.E6X.2.1.1.m1.2.2.2.1" xref="S3.E6X.2.1.1.m1.2.2.2.1.cmml"><mtext id="S3.E6X.2.1.1.m1.2.2.2.1.3" xref="S3.E6X.2.1.1.m1.2.2.2.1.3a.cmml">exp</mtext><mo lspace="0em" rspace="0em" id="S3.E6X.2.1.1.m1.2.2.2.1.2" xref="S3.E6X.2.1.1.m1.2.2.2.1.2.cmml">​</mo><mrow id="S3.E6X.2.1.1.m1.2.2.2.1.1.1" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.2" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.cmml"><mrow id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.2" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.cmml"><msubsup id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.2.2" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.2.2.cmml">𝒜</mi><mi id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.2.3" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.2.3.cmml">n</mi><mi id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.3" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.3.cmml">i</mi></msubsup><mo id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.1" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.1.cmml">+</mo><msub id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.2.cmml">g</mi><mi id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.3" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo stretchy="false" id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.3" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.2" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.2.cmml">/</mo><mi id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.3" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.3" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle><mo lspace="0.778em" id="S3.E6X.2.1.1.m1.5.5.1.1.4" xref="S3.E6X.2.1.1.m1.5.5.1.1.4.cmml">∈</mo><mrow id="S3.E6X.2.1.1.m1.5.5.1.1.5.2" xref="S3.E6X.2.1.1.m1.5.5.1.1.5.1.cmml"><mo stretchy="false" id="S3.E6X.2.1.1.m1.5.5.1.1.5.2.1" xref="S3.E6X.2.1.1.m1.5.5.1.1.5.1.cmml">[</mo><mn id="S3.E6X.2.1.1.m1.3.3" xref="S3.E6X.2.1.1.m1.3.3.cmml">0</mn><mo id="S3.E6X.2.1.1.m1.5.5.1.1.5.2.2" xref="S3.E6X.2.1.1.m1.5.5.1.1.5.1.cmml">,</mo><mn id="S3.E6X.2.1.1.m1.4.4" xref="S3.E6X.2.1.1.m1.4.4.cmml">1</mn><mo stretchy="false" id="S3.E6X.2.1.1.m1.5.5.1.1.5.2.3" xref="S3.E6X.2.1.1.m1.5.5.1.1.5.1.cmml">]</mo></mrow></mrow><mo lspace="0em" id="S3.E6X.2.1.1.m1.5.5.1.2" xref="S3.E6X.2.1.1.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6X.2.1.1.m1.5b"><apply id="S3.E6X.2.1.1.m1.5.5.1.1.cmml" xref="S3.E6X.2.1.1.m1.5.5.1"><and id="S3.E6X.2.1.1.m1.5.5.1.1a.cmml" xref="S3.E6X.2.1.1.m1.5.5.1"></and><apply id="S3.E6X.2.1.1.m1.5.5.1.1b.cmml" xref="S3.E6X.2.1.1.m1.5.5.1"><eq id="S3.E6X.2.1.1.m1.5.5.1.1.3.cmml" xref="S3.E6X.2.1.1.m1.5.5.1.1.3"></eq><apply id="S3.E6X.2.1.1.m1.5.5.1.1.2.cmml" xref="S3.E6X.2.1.1.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.5.5.1.1.2.1.cmml" xref="S3.E6X.2.1.1.m1.5.5.1.1.2">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.5.5.1.1.2.2.cmml" xref="S3.E6X.2.1.1.m1.5.5.1.1.2.2">𝑝</ci><ci id="S3.E6X.2.1.1.m1.5.5.1.1.2.3.cmml" xref="S3.E6X.2.1.1.m1.5.5.1.1.2.3">𝑖</ci></apply><apply id="S3.E6X.2.1.1.m1.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2"><divide id="S3.E6X.2.1.1.m1.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2"></divide><apply id="S3.E6X.2.1.1.m1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.1.1.1"><times id="S3.E6X.2.1.1.m1.1.1.1.2.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.2"></times><ci id="S3.E6X.2.1.1.m1.1.1.1.3a.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.3"><mtext id="S3.E6X.2.1.1.m1.1.1.1.3.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.3">exp</mtext></ci><apply id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1"><divide id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.2"></divide><apply id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1"><plus id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1"></plus><apply id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.2.2">𝒜</ci><ci id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.2.3">𝑛</ci></apply><ci id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.2">𝑔</ci><ci id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><ci id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.3">𝜏</ci></apply></apply><apply id="S3.E6X.2.1.1.m1.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2"><apply id="S3.E6X.2.1.1.m1.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.2.2.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2">superscript</csymbol><apply id="S3.E6X.2.1.1.m1.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.2.2.2.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2">subscript</csymbol><sum id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2"></sum><ci id="S3.E6X.2.1.1.m1.2.2.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.3">𝑖</ci></apply><apply id="S3.E6X.2.1.1.m1.2.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.2.2.2.2.3.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.3">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.2.2.2.2.3.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.3.2">𝑚</ci><ci id="S3.E6X.2.1.1.m1.2.2.2.2.3.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.3.3">𝑛</ci></apply></apply><apply id="S3.E6X.2.1.1.m1.2.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1"><times id="S3.E6X.2.1.1.m1.2.2.2.1.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.2"></times><ci id="S3.E6X.2.1.1.m1.2.2.2.1.3a.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.3"><mtext id="S3.E6X.2.1.1.m1.2.2.2.1.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.3">exp</mtext></ci><apply id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1"><divide id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.2"></divide><apply id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1"><plus id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.1"></plus><apply id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.2.2">𝒜</ci><ci id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.2.3">𝑛</ci></apply><ci id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.2">𝑔</ci><ci id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><ci id="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.1.1.1.1.3">𝜏</ci></apply></apply></apply></apply></apply><apply id="S3.E6X.2.1.1.m1.5.5.1.1c.cmml" xref="S3.E6X.2.1.1.m1.5.5.1"><in id="S3.E6X.2.1.1.m1.5.5.1.1.4.cmml" xref="S3.E6X.2.1.1.m1.5.5.1.1.4"></in><share href="#S3.E6X.2.1.1.m1.2.2.cmml" id="S3.E6X.2.1.1.m1.5.5.1.1d.cmml" xref="S3.E6X.2.1.1.m1.5.5.1"></share><interval closure="closed" id="S3.E6X.2.1.1.m1.5.5.1.1.5.1.cmml" xref="S3.E6X.2.1.1.m1.5.5.1.1.5.2"><cn type="integer" id="S3.E6X.2.1.1.m1.3.3.cmml" xref="S3.E6X.2.1.1.m1.3.3">0</cn><cn type="integer" id="S3.E6X.2.1.1.m1.4.4.cmml" xref="S3.E6X.2.1.1.m1.4.4">1</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6X.2.1.1.m1.5c">\displaystyle p_{i}=\frac{\text{exp}((\mathcal{A}_{n}^{i}+g_{i})/\tau)}{\sum\limits_{i}^{m_{n}}\text{exp}((\mathcal{A}_{n}^{i}+g_{i})/\tau)}\ \in[0,1].</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(6)</span></td>
</tr>
</tbody>
</table>
</div>
<div id="S3.SS3.p16" class="ltx_para">
<p id="S3.SS3.p16.1" class="ltx_p">In order to leverage the multi-scale features in distinct spatial shapes, we concatenate them by upsampling, which is implemented by inverse indices of the scatter function, followed by a linear projection layer for aligning the input feature dimension.</p>
</div>
<div id="S3.SS3.p17" class="ltx_para">
<p id="S3.SS3.p17.1" class="ltx_p">As the local context is generally critical for object detection, inspired by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>, we additionally introduce a Locally enhanced Positional Embedding (LePE) which enables local neighbor interactions on the value sequence. With sub-manifold sparse convolutions, we replace the residual connections in the attention mechanism with LePE.</p>
</div>
<div id="S3.SS3.p18" class="ltx_para">
<p id="S3.SS3.p18.1" class="ltx_p">Finally, OTB is formulated as follows</p>
</div>
<div id="S3.SS3.p19" class="ltx_para">
<table id="S3.E7" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E7X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E7X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\tilde{F}\ =\ \text{FC}(\{F_{N-1}^{{}^{\prime}}|F_{N-2}^{{}^{\prime}}|...|F_{0}^{{}^{\prime}}\})+\text{LePE}(F_{0})," display="inline"><semantics id="S3.E7X.2.1.1.m1.2a"><mrow id="S3.E7X.2.1.1.m1.2.2.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.cmml"><mrow id="S3.E7X.2.1.1.m1.2.2.1.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.cmml"><mover accent="true" id="S3.E7X.2.1.1.m1.2.2.1.1.4" xref="S3.E7X.2.1.1.m1.2.2.1.1.4.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.1.1.4.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.4.2.cmml">F</mi><mo id="S3.E7X.2.1.1.m1.2.2.1.1.4.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.4.1.cmml">~</mo></mover><mo lspace="0.778em" rspace="0.778em" id="S3.E7X.2.1.1.m1.2.2.1.1.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.3.cmml">=</mo><mrow id="S3.E7X.2.1.1.m1.2.2.1.1.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.cmml"><mrow id="S3.E7X.2.1.1.m1.2.2.1.1.1.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.cmml"><mtext id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.3a.cmml">FC</mtext><mo lspace="0em" rspace="0em" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.1.cmml">{</mo><msubsup id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.cmml">F</mi><mrow id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.2.cmml">N</mi><mo id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.1.cmml">−</mo><mn id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></mrow><msup id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3a" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml"></mi><mo id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml">′</mo></msup></msubsup><mo lspace="0em" rspace="0em" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.4" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.1.cmml">|</mo><mrow id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml"><msubsup id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.2.cmml">F</mi><mrow id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.2.cmml">N</mi><mo id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.1.cmml">−</mo><mn id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.3.cmml">2</mn></mrow><msup id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.3a" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.3.cmml"></mi><mo id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.3.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.3.1.cmml">′</mo></msup></msubsup><mo lspace="0em" rspace="0em" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1.cmml">​</mo><mrow id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.1.cmml"><mo stretchy="false" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.1.1.cmml">|</mo><mi mathvariant="normal" id="S3.E7X.2.1.1.m1.1.1" xref="S3.E7X.2.1.1.m1.1.1.cmml">…</mi><mo stretchy="false" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.1.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1a" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1.cmml">​</mo><msubsup id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.2.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.2.2.cmml">F</mi><mn id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.2.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.2.3.cmml">0</mn><msup id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.3.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.3a" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.3.cmml"></mi><mo id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.3.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.3.1.cmml">′</mo></msup></msubsup></mrow><mo stretchy="false" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.5" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.1.cmml">}</mo></mrow><mo stretchy="false" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E7X.2.1.1.m1.2.2.1.1.2.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.3.cmml">+</mo><mrow id="S3.E7X.2.1.1.m1.2.2.1.1.2.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.cmml"><mtext id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.3a.cmml">LePE</mtext><mo lspace="0em" rspace="0em" id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.2.cmml">​</mo><mrow id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.cmml">(</mo><msub id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.2.cmml">F</mi><mn id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.3.cmml">0</mn></msub><mo stretchy="false" id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.3" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E7X.2.1.1.m1.2.2.1.2" xref="S3.E7X.2.1.1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7X.2.1.1.m1.2b"><apply id="S3.E7X.2.1.1.m1.2.2.1.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1"><eq id="S3.E7X.2.1.1.m1.2.2.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.3"></eq><apply id="S3.E7X.2.1.1.m1.2.2.1.1.4.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.4"><ci id="S3.E7X.2.1.1.m1.2.2.1.1.4.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.4.1">~</ci><ci id="S3.E7X.2.1.1.m1.2.2.1.1.4.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.4.2">𝐹</ci></apply><apply id="S3.E7X.2.1.1.m1.2.2.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.2"><plus id="S3.E7X.2.1.1.m1.2.2.1.1.2.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.3"></plus><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1"><times id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.2"></times><ci id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.3a.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.3"><mtext id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.3">FC</mtext></ci><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2"><csymbol cd="latexml" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3">conditional-set</csymbol><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2">𝐹</ci><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3"><minus id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.1"></minus><ci id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.2">𝑁</ci><cn type="integer" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3"><ci id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1">′</ci></apply></apply><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2"><times id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1"></times><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2">superscript</csymbol><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.2">𝐹</ci><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3"><minus id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.1"></minus><ci id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.2">𝑁</ci><cn type="integer" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.2.3.3">2</cn></apply></apply><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.3"><ci id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.3.1">′</ci></apply></apply><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2"><abs id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.1.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.2.1"></abs><ci id="S3.E7X.2.1.1.m1.1.1.cmml" xref="S3.E7X.2.1.1.m1.1.1">…</ci></apply><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4">superscript</csymbol><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.2.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.2.2">𝐹</ci><cn type="integer" id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.2.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.2.3">0</cn></apply><apply id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.3"><ci id="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.3.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.4.3.1">′</ci></apply></apply></apply></apply></apply><apply id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2"><times id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.2"></times><ci id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.3a.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.3"><mtext id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.3">LePE</mtext></ci><apply id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.2">𝐹</ci><cn type="integer" id="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.1.1.2.2.1.1.1.3">0</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7X.2.1.1.m1.2c">\displaystyle\tilde{F}\ =\ \text{FC}(\{F_{N-1}^{{}^{\prime}}|F_{N-2}^{{}^{\prime}}|...|F_{0}^{{}^{\prime}}\})+\text{LePE}(F_{0}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(7)</span></td>
</tr>
<tr id="S3.E7Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E7Xa.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\tilde{F}^{{}^{\prime}}\ =\ \text{BN}(\text{FFN}(\tilde{F}))+\tilde{F}," display="inline"><semantics id="S3.E7Xa.2.1.1.m1.2a"><mrow id="S3.E7Xa.2.1.1.m1.2.2.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.cmml"><mrow id="S3.E7Xa.2.1.1.m1.2.2.1.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.cmml"><msup id="S3.E7Xa.2.1.1.m1.2.2.1.1.3" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.cmml"><mover accent="true" id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2.cmml"><mi id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2.2" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2.2.cmml">F</mi><mo id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2.1.cmml">~</mo></mover><msup id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.3" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.3.cmml"><mi id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.3a" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.3.cmml"></mi><mo id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.3.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.3.1.cmml">′</mo></msup></msup><mo lspace="0.778em" rspace="0.778em" id="S3.E7Xa.2.1.1.m1.2.2.1.1.2" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E7Xa.2.1.1.m1.2.2.1.1.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.cmml"><mrow id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.cmml"><mtext id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.3" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.3a.cmml">BN</mtext><mo lspace="0em" rspace="0em" id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.2" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.2" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mtext id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2a.cmml">FFN</mtext><mo lspace="0em" rspace="0em" id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E7Xa.2.1.1.m1.1.1.cmml"><mo stretchy="false" id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2.1" xref="S3.E7Xa.2.1.1.m1.1.1.cmml">(</mo><mover accent="true" id="S3.E7Xa.2.1.1.m1.1.1" xref="S3.E7Xa.2.1.1.m1.1.1.cmml"><mi id="S3.E7Xa.2.1.1.m1.1.1.2" xref="S3.E7Xa.2.1.1.m1.1.1.2.cmml">F</mi><mo id="S3.E7Xa.2.1.1.m1.1.1.1" xref="S3.E7Xa.2.1.1.m1.1.1.1.cmml">~</mo></mover><mo stretchy="false" id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2.2" xref="S3.E7Xa.2.1.1.m1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.3" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.2" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.2.cmml">+</mo><mover accent="true" id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3.cmml"><mi id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3.2" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3.2.cmml">F</mi><mo id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3.1.cmml">~</mo></mover></mrow></mrow><mo id="S3.E7Xa.2.1.1.m1.2.2.1.2" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7Xa.2.1.1.m1.2b"><apply id="S3.E7Xa.2.1.1.m1.2.2.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1"><eq id="S3.E7Xa.2.1.1.m1.2.2.1.1.2.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.2"></eq><apply id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3">superscript</csymbol><apply id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2"><ci id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2.1">~</ci><ci id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2.2.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.2.2">𝐹</ci></apply><apply id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.3.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.3"><ci id="S3.E7Xa.2.1.1.m1.2.2.1.1.3.3.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.3.3.1">′</ci></apply></apply><apply id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1"><plus id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.2"></plus><apply id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1"><times id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.2"></times><ci id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.3a.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.3"><mtext id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.3">BN</mtext></ci><apply id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1"><times id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1"></times><ci id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2a.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2"><mtext id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2">FFN</mtext></ci><apply id="S3.E7Xa.2.1.1.m1.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.2"><ci id="S3.E7Xa.2.1.1.m1.1.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.1">~</ci><ci id="S3.E7Xa.2.1.1.m1.1.1.2.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.2">𝐹</ci></apply></apply></apply><apply id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3"><ci id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3.1">~</ci><ci id="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3.2.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1.1.1.3.2">𝐹</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7Xa.2.1.1.m1.2c">\displaystyle\tilde{F}^{{}^{\prime}}\ =\ \text{BN}(\text{FFN}(\tilde{F}))+\tilde{F},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
<div id="S3.SS3.p20" class="ltx_para ltx_noindent">
<p id="S3.SS3.p20.3" class="ltx_p">where <math id="S3.SS3.p20.1.m1.1" class="ltx_Math" alttext="F_{n}^{{}^{\prime}}\in\mathbb{R}^{m_{0}\times d}" display="inline"><semantics id="S3.SS3.p20.1.m1.1a"><mrow id="S3.SS3.p20.1.m1.1.1" xref="S3.SS3.p20.1.m1.1.1.cmml"><msubsup id="S3.SS3.p20.1.m1.1.1.2" xref="S3.SS3.p20.1.m1.1.1.2.cmml"><mi id="S3.SS3.p20.1.m1.1.1.2.2.2" xref="S3.SS3.p20.1.m1.1.1.2.2.2.cmml">F</mi><mi id="S3.SS3.p20.1.m1.1.1.2.2.3" xref="S3.SS3.p20.1.m1.1.1.2.2.3.cmml">n</mi><msup id="S3.SS3.p20.1.m1.1.1.2.3" xref="S3.SS3.p20.1.m1.1.1.2.3.cmml"><mi id="S3.SS3.p20.1.m1.1.1.2.3a" xref="S3.SS3.p20.1.m1.1.1.2.3.cmml"></mi><mo id="S3.SS3.p20.1.m1.1.1.2.3.1" xref="S3.SS3.p20.1.m1.1.1.2.3.1.cmml">′</mo></msup></msubsup><mo id="S3.SS3.p20.1.m1.1.1.1" xref="S3.SS3.p20.1.m1.1.1.1.cmml">∈</mo><msup id="S3.SS3.p20.1.m1.1.1.3" xref="S3.SS3.p20.1.m1.1.1.3.cmml"><mi id="S3.SS3.p20.1.m1.1.1.3.2" xref="S3.SS3.p20.1.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS3.p20.1.m1.1.1.3.3" xref="S3.SS3.p20.1.m1.1.1.3.3.cmml"><msub id="S3.SS3.p20.1.m1.1.1.3.3.2" xref="S3.SS3.p20.1.m1.1.1.3.3.2.cmml"><mi id="S3.SS3.p20.1.m1.1.1.3.3.2.2" xref="S3.SS3.p20.1.m1.1.1.3.3.2.2.cmml">m</mi><mn id="S3.SS3.p20.1.m1.1.1.3.3.2.3" xref="S3.SS3.p20.1.m1.1.1.3.3.2.3.cmml">0</mn></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p20.1.m1.1.1.3.3.1" xref="S3.SS3.p20.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS3.p20.1.m1.1.1.3.3.3" xref="S3.SS3.p20.1.m1.1.1.3.3.3.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p20.1.m1.1b"><apply id="S3.SS3.p20.1.m1.1.1.cmml" xref="S3.SS3.p20.1.m1.1.1"><in id="S3.SS3.p20.1.m1.1.1.1.cmml" xref="S3.SS3.p20.1.m1.1.1.1"></in><apply id="S3.SS3.p20.1.m1.1.1.2.cmml" xref="S3.SS3.p20.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p20.1.m1.1.1.2.1.cmml" xref="S3.SS3.p20.1.m1.1.1.2">superscript</csymbol><apply id="S3.SS3.p20.1.m1.1.1.2.2.cmml" xref="S3.SS3.p20.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p20.1.m1.1.1.2.2.1.cmml" xref="S3.SS3.p20.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS3.p20.1.m1.1.1.2.2.2.cmml" xref="S3.SS3.p20.1.m1.1.1.2.2.2">𝐹</ci><ci id="S3.SS3.p20.1.m1.1.1.2.2.3.cmml" xref="S3.SS3.p20.1.m1.1.1.2.2.3">𝑛</ci></apply><apply id="S3.SS3.p20.1.m1.1.1.2.3.cmml" xref="S3.SS3.p20.1.m1.1.1.2.3"><ci id="S3.SS3.p20.1.m1.1.1.2.3.1.cmml" xref="S3.SS3.p20.1.m1.1.1.2.3.1">′</ci></apply></apply><apply id="S3.SS3.p20.1.m1.1.1.3.cmml" xref="S3.SS3.p20.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p20.1.m1.1.1.3.1.cmml" xref="S3.SS3.p20.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS3.p20.1.m1.1.1.3.2.cmml" xref="S3.SS3.p20.1.m1.1.1.3.2">ℝ</ci><apply id="S3.SS3.p20.1.m1.1.1.3.3.cmml" xref="S3.SS3.p20.1.m1.1.1.3.3"><times id="S3.SS3.p20.1.m1.1.1.3.3.1.cmml" xref="S3.SS3.p20.1.m1.1.1.3.3.1"></times><apply id="S3.SS3.p20.1.m1.1.1.3.3.2.cmml" xref="S3.SS3.p20.1.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS3.p20.1.m1.1.1.3.3.2.1.cmml" xref="S3.SS3.p20.1.m1.1.1.3.3.2">subscript</csymbol><ci id="S3.SS3.p20.1.m1.1.1.3.3.2.2.cmml" xref="S3.SS3.p20.1.m1.1.1.3.3.2.2">𝑚</ci><cn type="integer" id="S3.SS3.p20.1.m1.1.1.3.3.2.3.cmml" xref="S3.SS3.p20.1.m1.1.1.3.3.2.3">0</cn></apply><ci id="S3.SS3.p20.1.m1.1.1.3.3.3.cmml" xref="S3.SS3.p20.1.m1.1.1.3.3.3">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p20.1.m1.1c">F_{n}^{{}^{\prime}}\in\mathbb{R}^{m_{0}\times d}</annotation></semantics></math> denotes the compact tensor of the upsampled <math id="S3.SS3.p20.2.m2.1" class="ltx_Math" alttext="\bar{F}_{n}^{{}^{\prime}}" display="inline"><semantics id="S3.SS3.p20.2.m2.1a"><msubsup id="S3.SS3.p20.2.m2.1.1" xref="S3.SS3.p20.2.m2.1.1.cmml"><mover accent="true" id="S3.SS3.p20.2.m2.1.1.2.2" xref="S3.SS3.p20.2.m2.1.1.2.2.cmml"><mi id="S3.SS3.p20.2.m2.1.1.2.2.2" xref="S3.SS3.p20.2.m2.1.1.2.2.2.cmml">F</mi><mo id="S3.SS3.p20.2.m2.1.1.2.2.1" xref="S3.SS3.p20.2.m2.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.SS3.p20.2.m2.1.1.2.3" xref="S3.SS3.p20.2.m2.1.1.2.3.cmml">n</mi><msup id="S3.SS3.p20.2.m2.1.1.3" xref="S3.SS3.p20.2.m2.1.1.3.cmml"><mi id="S3.SS3.p20.2.m2.1.1.3a" xref="S3.SS3.p20.2.m2.1.1.3.cmml"></mi><mo id="S3.SS3.p20.2.m2.1.1.3.1" xref="S3.SS3.p20.2.m2.1.1.3.1.cmml">′</mo></msup></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p20.2.m2.1b"><apply id="S3.SS3.p20.2.m2.1.1.cmml" xref="S3.SS3.p20.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p20.2.m2.1.1.1.cmml" xref="S3.SS3.p20.2.m2.1.1">superscript</csymbol><apply id="S3.SS3.p20.2.m2.1.1.2.cmml" xref="S3.SS3.p20.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p20.2.m2.1.1.2.1.cmml" xref="S3.SS3.p20.2.m2.1.1">subscript</csymbol><apply id="S3.SS3.p20.2.m2.1.1.2.2.cmml" xref="S3.SS3.p20.2.m2.1.1.2.2"><ci id="S3.SS3.p20.2.m2.1.1.2.2.1.cmml" xref="S3.SS3.p20.2.m2.1.1.2.2.1">¯</ci><ci id="S3.SS3.p20.2.m2.1.1.2.2.2.cmml" xref="S3.SS3.p20.2.m2.1.1.2.2.2">𝐹</ci></apply><ci id="S3.SS3.p20.2.m2.1.1.2.3.cmml" xref="S3.SS3.p20.2.m2.1.1.2.3">𝑛</ci></apply><apply id="S3.SS3.p20.2.m2.1.1.3.cmml" xref="S3.SS3.p20.2.m2.1.1.3"><ci id="S3.SS3.p20.2.m2.1.1.3.1.cmml" xref="S3.SS3.p20.2.m2.1.1.3.1">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p20.2.m2.1c">\bar{F}_{n}^{{}^{\prime}}</annotation></semantics></math>, <math id="S3.SS3.p20.3.m3.1" class="ltx_Math" alttext="|" display="inline"><semantics id="S3.SS3.p20.3.m3.1a"><mo fence="false" stretchy="false" id="S3.SS3.p20.3.m3.1.1" xref="S3.SS3.p20.3.m3.1.1.cmml">|</mo><annotation-xml encoding="MathML-Content" id="S3.SS3.p20.3.m3.1b"><ci id="S3.SS3.p20.3.m3.1.1.cmml" xref="S3.SS3.p20.3.m3.1.1">|</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p20.3.m3.1c">|</annotation></semantics></math> indicates concatenation, and FC denotes the fully-connected layer.</p>
</div>
<div id="S3.SS3.p21" class="ltx_para">
<p id="S3.SS3.p21.2" class="ltx_p">Besides, we analyze the time complexity of the octree attention as below</p>
<table id="S3.E8" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E8X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E8X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\mathcal{O}((\frac{M}{\omega^{N-1}})^{2}+\sum\limits_{n=0}^{N-2}\frac{KM}{\omega^{n}})" display="inline"><semantics id="S3.E8X.2.1.1.m1.2a"><mrow id="S3.E8X.2.1.1.m1.2.2" xref="S3.E8X.2.1.1.m1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8X.2.1.1.m1.2.2.3" xref="S3.E8X.2.1.1.m1.2.2.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S3.E8X.2.1.1.m1.2.2.2" xref="S3.E8X.2.1.1.m1.2.2.2.cmml">​</mo><mrow id="S3.E8X.2.1.1.m1.2.2.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.E8X.2.1.1.m1.2.2.1.1.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.cmml">(</mo><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.cmml"><msup id="S3.E8X.2.1.1.m1.2.2.1.1.1.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.2.cmml"><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.2.2.2" xref="S3.E8X.2.1.1.m1.1.1.cmml"><mo stretchy="false" id="S3.E8X.2.1.1.m1.2.2.1.1.1.2.2.2.1" xref="S3.E8X.2.1.1.m1.1.1.cmml">(</mo><mstyle displaystyle="true" id="S3.E8X.2.1.1.m1.1.1" xref="S3.E8X.2.1.1.m1.1.1.cmml"><mfrac id="S3.E8X.2.1.1.m1.1.1a" xref="S3.E8X.2.1.1.m1.1.1.cmml"><mi id="S3.E8X.2.1.1.m1.1.1.2" xref="S3.E8X.2.1.1.m1.1.1.2.cmml">M</mi><msup id="S3.E8X.2.1.1.m1.1.1.3" xref="S3.E8X.2.1.1.m1.1.1.3.cmml"><mi id="S3.E8X.2.1.1.m1.1.1.3.2" xref="S3.E8X.2.1.1.m1.1.1.3.2.cmml">ω</mi><mrow id="S3.E8X.2.1.1.m1.1.1.3.3" xref="S3.E8X.2.1.1.m1.1.1.3.3.cmml"><mi id="S3.E8X.2.1.1.m1.1.1.3.3.2" xref="S3.E8X.2.1.1.m1.1.1.3.3.2.cmml">N</mi><mo id="S3.E8X.2.1.1.m1.1.1.3.3.1" xref="S3.E8X.2.1.1.m1.1.1.3.3.1.cmml">−</mo><mn id="S3.E8X.2.1.1.m1.1.1.3.3.3" xref="S3.E8X.2.1.1.m1.1.1.3.3.3.cmml">1</mn></mrow></msup></mfrac></mstyle><mo stretchy="false" id="S3.E8X.2.1.1.m1.2.2.1.1.1.2.2.2.2" xref="S3.E8X.2.1.1.m1.1.1.cmml">)</mo></mrow><mn id="S3.E8X.2.1.1.m1.2.2.1.1.1.2.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.2.3.cmml">2</mn></msup><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.cmml">+</mo><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.cmml"><munderover id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1a" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.cmml"><mo movablelimits="false" id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.2.cmml">∑</mo><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.cmml"><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.2.cmml">n</mi><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.3.cmml">0</mn></mrow><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.cmml"><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.2.cmml">N</mi><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.1.cmml">−</mo><mn id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.3.cmml">2</mn></mrow></munderover></mstyle><mstyle displaystyle="true" id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.cmml"><mfrac id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2a" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.cmml"><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.cmml"><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.2.cmml">K</mi><mo lspace="0em" rspace="0em" id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.1.cmml">​</mo><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.3.cmml">M</mi></mrow><msup id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.cmml"><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.2.cmml">ω</mi><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.3.cmml">n</mi></msup></mfrac></mstyle></mrow></mrow><mo stretchy="false" id="S3.E8X.2.1.1.m1.2.2.1.1.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E8X.2.1.1.m1.2b"><apply id="S3.E8X.2.1.1.m1.2.2.cmml" xref="S3.E8X.2.1.1.m1.2.2"><times id="S3.E8X.2.1.1.m1.2.2.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.2"></times><ci id="S3.E8X.2.1.1.m1.2.2.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.3">𝒪</ci><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1"><plus id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1"></plus><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.2.2.1.1.1.2.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.2">superscript</csymbol><apply id="S3.E8X.2.1.1.m1.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.2.2.2"><divide id="S3.E8X.2.1.1.m1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.2.2.2"></divide><ci id="S3.E8X.2.1.1.m1.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.1.1.2">𝑀</ci><apply id="S3.E8X.2.1.1.m1.1.1.3.cmml" xref="S3.E8X.2.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.1.1.3.1.cmml" xref="S3.E8X.2.1.1.m1.1.1.3">superscript</csymbol><ci id="S3.E8X.2.1.1.m1.1.1.3.2.cmml" xref="S3.E8X.2.1.1.m1.1.1.3.2">𝜔</ci><apply id="S3.E8X.2.1.1.m1.1.1.3.3.cmml" xref="S3.E8X.2.1.1.m1.1.1.3.3"><minus id="S3.E8X.2.1.1.m1.1.1.3.3.1.cmml" xref="S3.E8X.2.1.1.m1.1.1.3.3.1"></minus><ci id="S3.E8X.2.1.1.m1.1.1.3.3.2.cmml" xref="S3.E8X.2.1.1.m1.1.1.3.3.2">𝑁</ci><cn type="integer" id="S3.E8X.2.1.1.m1.1.1.3.3.3.cmml" xref="S3.E8X.2.1.1.m1.1.1.3.3.3">1</cn></apply></apply></apply><cn type="integer" id="S3.E8X.2.1.1.m1.2.2.1.1.1.2.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.2.3">2</cn></apply><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3"><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1">superscript</csymbol><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1">subscript</csymbol><sum id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.2"></sum><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3"><eq id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.1"></eq><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.2">𝑛</ci><cn type="integer" id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.2.3.3">0</cn></apply></apply><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3"><minus id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.1"></minus><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.2">𝑁</ci><cn type="integer" id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.1.3.3">2</cn></apply></apply><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2"><divide id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2"></divide><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2"><times id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.1"></times><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.2">𝐾</ci><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.2.3">𝑀</ci></apply><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3">superscript</csymbol><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.2">𝜔</ci><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.3.2.3.3">𝑛</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8X.2.1.1.m1.2c">\displaystyle\mathcal{O}((\frac{M}{\omega^{N-1}})^{2}+\sum\limits_{n=0}^{N-2}\frac{KM}{\omega^{n}})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(8)</span></td>
</tr>
<tr id="S3.E8Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E8Xa.2.1.1.m1.1" class="ltx_Math" alttext="\displaystyle=" display="inline"><semantics id="S3.E8Xa.2.1.1.m1.1a"><mo id="S3.E8Xa.2.1.1.m1.1.1" xref="S3.E8Xa.2.1.1.m1.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="S3.E8Xa.2.1.1.m1.1b"><eq id="S3.E8Xa.2.1.1.m1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="S3.E8Xa.2.1.1.m1.1c">\displaystyle=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E8Xa.3.2.2.m1.2" class="ltx_Math" alttext="\displaystyle\mathcal{O}((\frac{M}{\omega^{N-1}})^{2}+\frac{\omega}{\omega-1}KM(1-\omega^{1-N}))," display="inline"><semantics id="S3.E8Xa.3.2.2.m1.2a"><mrow id="S3.E8Xa.3.2.2.m1.2.2.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.cmml"><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8Xa.3.2.2.m1.2.2.1.1.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S3.E8Xa.3.2.2.m1.2.2.1.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.2.cmml">​</mo><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.cmml"><msup id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.cmml"><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.2" xref="S3.E8Xa.3.2.2.m1.1.1.cmml"><mo stretchy="false" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.2.1" xref="S3.E8Xa.3.2.2.m1.1.1.cmml">(</mo><mstyle displaystyle="true" id="S3.E8Xa.3.2.2.m1.1.1" xref="S3.E8Xa.3.2.2.m1.1.1.cmml"><mfrac id="S3.E8Xa.3.2.2.m1.1.1a" xref="S3.E8Xa.3.2.2.m1.1.1.cmml"><mi id="S3.E8Xa.3.2.2.m1.1.1.2" xref="S3.E8Xa.3.2.2.m1.1.1.2.cmml">M</mi><msup id="S3.E8Xa.3.2.2.m1.1.1.3" xref="S3.E8Xa.3.2.2.m1.1.1.3.cmml"><mi id="S3.E8Xa.3.2.2.m1.1.1.3.2" xref="S3.E8Xa.3.2.2.m1.1.1.3.2.cmml">ω</mi><mrow id="S3.E8Xa.3.2.2.m1.1.1.3.3" xref="S3.E8Xa.3.2.2.m1.1.1.3.3.cmml"><mi id="S3.E8Xa.3.2.2.m1.1.1.3.3.2" xref="S3.E8Xa.3.2.2.m1.1.1.3.3.2.cmml">N</mi><mo id="S3.E8Xa.3.2.2.m1.1.1.3.3.1" xref="S3.E8Xa.3.2.2.m1.1.1.3.3.1.cmml">−</mo><mn id="S3.E8Xa.3.2.2.m1.1.1.3.3.3" xref="S3.E8Xa.3.2.2.m1.1.1.3.3.3.cmml">1</mn></mrow></msup></mfrac></mstyle><mo stretchy="false" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.2.2" xref="S3.E8Xa.3.2.2.m1.1.1.cmml">)</mo></mrow><mn id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.3.cmml">2</mn></msup><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.2.cmml">+</mo><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml"><mfrac id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3a" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml"><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.2.cmml">ω</mi><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.2.cmml">ω</mi><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.4" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.4.cmml">K</mi><mo lspace="0em" rspace="0em" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2a" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.5" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.5.cmml">M</mi><mo lspace="0em" rspace="0em" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2b" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mn id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><msup id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml">ω</mi><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml"><mn id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.2.cmml">1</mn><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.1.cmml">−</mo><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.3.cmml">N</mi></mrow></msup></mrow><mo stretchy="false" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E8Xa.3.2.2.m1.2.2.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8Xa.3.2.2.m1.2b"><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1"><times id="S3.E8Xa.3.2.2.m1.2.2.1.1.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.2"></times><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.3">𝒪</ci><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1"><plus id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.2"></plus><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3">superscript</csymbol><apply id="S3.E8Xa.3.2.2.m1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.2"><divide id="S3.E8Xa.3.2.2.m1.1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.2"></divide><ci id="S3.E8Xa.3.2.2.m1.1.1.2.cmml" xref="S3.E8Xa.3.2.2.m1.1.1.2">𝑀</ci><apply id="S3.E8Xa.3.2.2.m1.1.1.3.cmml" xref="S3.E8Xa.3.2.2.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E8Xa.3.2.2.m1.1.1.3.1.cmml" xref="S3.E8Xa.3.2.2.m1.1.1.3">superscript</csymbol><ci id="S3.E8Xa.3.2.2.m1.1.1.3.2.cmml" xref="S3.E8Xa.3.2.2.m1.1.1.3.2">𝜔</ci><apply id="S3.E8Xa.3.2.2.m1.1.1.3.3.cmml" xref="S3.E8Xa.3.2.2.m1.1.1.3.3"><minus id="S3.E8Xa.3.2.2.m1.1.1.3.3.1.cmml" xref="S3.E8Xa.3.2.2.m1.1.1.3.3.1"></minus><ci id="S3.E8Xa.3.2.2.m1.1.1.3.3.2.cmml" xref="S3.E8Xa.3.2.2.m1.1.1.3.3.2">𝑁</ci><cn type="integer" id="S3.E8Xa.3.2.2.m1.1.1.3.3.3.cmml" xref="S3.E8Xa.3.2.2.m1.1.1.3.3.3">1</cn></apply></apply></apply><cn type="integer" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.3.3">2</cn></apply><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1"><times id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2"></times><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3"><divide id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3"></divide><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.2">𝜔</ci><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3"><minus id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.2">𝜔</ci><cn type="integer" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.3">1</cn></apply></apply><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.4.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.4">𝐾</ci><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.5.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.5">𝑀</ci><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1"><minus id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1"></minus><cn type="integer" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.2">1</cn><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.2">𝜔</ci><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3"><minus id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.1"></minus><cn type="integer" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.2">1</cn><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.3">𝑁</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8Xa.3.2.2.m1.2c">\displaystyle\mathcal{O}((\frac{M}{\omega^{N-1}})^{2}+\frac{\omega}{\omega-1}KM(1-\omega^{1-N})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p id="S3.SS3.p21.1" class="ltx_p">where <math id="S3.SS3.p21.1.m1.1" class="ltx_Math" alttext="\omega" display="inline"><semantics id="S3.SS3.p21.1.m1.1a"><mi id="S3.SS3.p21.1.m1.1.1" xref="S3.SS3.p21.1.m1.1.1.cmml">ω</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p21.1.m1.1b"><ci id="S3.SS3.p21.1.m1.1.1.cmml" xref="S3.SS3.p21.1.m1.1.1">𝜔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p21.1.m1.1c">\omega</annotation></semantics></math> is the average down-sampling ratio in the sparse voxel representation.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Semantic Positional Embedding</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">Due to the large proportion of background grids in point clouds, the attention matrices are dominated by background grid pairs, leading to a sub-optimal solution. To fully leverage the local 3D shape patterns and original voxel coordinates, we propose a hybrid positional embedding to capture both the geometry and semantic clues as displayed in Fig. <a href="#S3.F4" title="Figure 4 ‣ 3.4 Semantic Positional Embedding ‣ 3 Method ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.1" class="ltx_p">Specifically, we first segment foreground grids using the supervision from the ground truth. Segmentation scores are predicted by a sub-manifold sparse convolution branch with a sigmoid function; and the focal loss <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> is applied to balance the foreground and background.</p>
</div>
<div id="S3.SS4.p3" class="ltx_para">
<p id="S3.SS4.p3.5" class="ltx_p">We concatenate the center coordinate (<math id="S3.SS4.p3.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS4.p3.1.m1.1a"><mi id="S3.SS4.p3.1.m1.1.1" xref="S3.SS4.p3.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.1.m1.1b"><ci id="S3.SS4.p3.1.m1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.1.m1.1c">x</annotation></semantics></math>, <math id="S3.SS4.p3.2.m2.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S3.SS4.p3.2.m2.1a"><mi id="S3.SS4.p3.2.m2.1.1" xref="S3.SS4.p3.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.2.m2.1b"><ci id="S3.SS4.p3.2.m2.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.2.m2.1c">y</annotation></semantics></math>, <math id="S3.SS4.p3.3.m3.1" class="ltx_Math" alttext="z" display="inline"><semantics id="S3.SS4.p3.3.m3.1a"><mi id="S3.SS4.p3.3.m3.1.1" xref="S3.SS4.p3.3.m3.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.3.m3.1b"><ci id="S3.SS4.p3.3.m3.1.1.cmml" xref="S3.SS4.p3.3.m3.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.3.m3.1c">z</annotation></semantics></math>) and the semantic <math id="S3.SS4.p3.4.m4.1" class="ltx_Math" alttext="score" display="inline"><semantics id="S3.SS4.p3.4.m4.1a"><mrow id="S3.SS4.p3.4.m4.1.1" xref="S3.SS4.p3.4.m4.1.1.cmml"><mi id="S3.SS4.p3.4.m4.1.1.2" xref="S3.SS4.p3.4.m4.1.1.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p3.4.m4.1.1.1" xref="S3.SS4.p3.4.m4.1.1.1.cmml">​</mo><mi id="S3.SS4.p3.4.m4.1.1.3" xref="S3.SS4.p3.4.m4.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p3.4.m4.1.1.1a" xref="S3.SS4.p3.4.m4.1.1.1.cmml">​</mo><mi id="S3.SS4.p3.4.m4.1.1.4" xref="S3.SS4.p3.4.m4.1.1.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p3.4.m4.1.1.1b" xref="S3.SS4.p3.4.m4.1.1.1.cmml">​</mo><mi id="S3.SS4.p3.4.m4.1.1.5" xref="S3.SS4.p3.4.m4.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p3.4.m4.1.1.1c" xref="S3.SS4.p3.4.m4.1.1.1.cmml">​</mo><mi id="S3.SS4.p3.4.m4.1.1.6" xref="S3.SS4.p3.4.m4.1.1.6.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.4.m4.1b"><apply id="S3.SS4.p3.4.m4.1.1.cmml" xref="S3.SS4.p3.4.m4.1.1"><times id="S3.SS4.p3.4.m4.1.1.1.cmml" xref="S3.SS4.p3.4.m4.1.1.1"></times><ci id="S3.SS4.p3.4.m4.1.1.2.cmml" xref="S3.SS4.p3.4.m4.1.1.2">𝑠</ci><ci id="S3.SS4.p3.4.m4.1.1.3.cmml" xref="S3.SS4.p3.4.m4.1.1.3">𝑐</ci><ci id="S3.SS4.p3.4.m4.1.1.4.cmml" xref="S3.SS4.p3.4.m4.1.1.4">𝑜</ci><ci id="S3.SS4.p3.4.m4.1.1.5.cmml" xref="S3.SS4.p3.4.m4.1.1.5">𝑟</ci><ci id="S3.SS4.p3.4.m4.1.1.6.cmml" xref="S3.SS4.p3.4.m4.1.1.6">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.4.m4.1c">score</annotation></semantics></math> with the feature <math id="S3.SS4.p3.5.m5.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S3.SS4.p3.5.m5.1a"><mi id="S3.SS4.p3.5.m5.1.1" xref="S3.SS4.p3.5.m5.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.5.m5.1b"><ci id="S3.SS4.p3.5.m5.1.1.cmml" xref="S3.SS4.p3.5.m5.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.5.m5.1c">f</annotation></semantics></math> in a grid-wise manner, followed by a linear projection without the bias as below</p>
<table id="S3.E9" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E9X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E9X.2.1.1.m1.1" class="ltx_Math" alttext="\displaystyle\text{SAPE}(X)" display="inline"><semantics id="S3.E9X.2.1.1.m1.1a"><mrow id="S3.E9X.2.1.1.m1.1.2" xref="S3.E9X.2.1.1.m1.1.2.cmml"><mtext id="S3.E9X.2.1.1.m1.1.2.2" xref="S3.E9X.2.1.1.m1.1.2.2a.cmml">SAPE</mtext><mo lspace="0em" rspace="0em" id="S3.E9X.2.1.1.m1.1.2.1" xref="S3.E9X.2.1.1.m1.1.2.1.cmml">​</mo><mrow id="S3.E9X.2.1.1.m1.1.2.3.2" xref="S3.E9X.2.1.1.m1.1.2.cmml"><mo stretchy="false" id="S3.E9X.2.1.1.m1.1.2.3.2.1" xref="S3.E9X.2.1.1.m1.1.2.cmml">(</mo><mi id="S3.E9X.2.1.1.m1.1.1" xref="S3.E9X.2.1.1.m1.1.1.cmml">X</mi><mo stretchy="false" id="S3.E9X.2.1.1.m1.1.2.3.2.2" xref="S3.E9X.2.1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E9X.2.1.1.m1.1b"><apply id="S3.E9X.2.1.1.m1.1.2.cmml" xref="S3.E9X.2.1.1.m1.1.2"><times id="S3.E9X.2.1.1.m1.1.2.1.cmml" xref="S3.E9X.2.1.1.m1.1.2.1"></times><ci id="S3.E9X.2.1.1.m1.1.2.2a.cmml" xref="S3.E9X.2.1.1.m1.1.2.2"><mtext id="S3.E9X.2.1.1.m1.1.2.2.cmml" xref="S3.E9X.2.1.1.m1.1.2.2">SAPE</mtext></ci><ci id="S3.E9X.2.1.1.m1.1.1.cmml" xref="S3.E9X.2.1.1.m1.1.1">𝑋</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9X.2.1.1.m1.1c">\displaystyle\text{SAPE}(X)</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E9X.3.2.2.m1.5" class="ltx_Math" alttext="\displaystyle=\text{FC}_{d+4\rightarrow d}(\{x,y,z,score|f\})" display="inline"><semantics id="S3.E9X.3.2.2.m1.5a"><mrow id="S3.E9X.3.2.2.m1.5.5" xref="S3.E9X.3.2.2.m1.5.5.cmml"><mi id="S3.E9X.3.2.2.m1.5.5.3" xref="S3.E9X.3.2.2.m1.5.5.3.cmml"></mi><mo id="S3.E9X.3.2.2.m1.5.5.2" xref="S3.E9X.3.2.2.m1.5.5.2.cmml">=</mo><mrow id="S3.E9X.3.2.2.m1.5.5.1" xref="S3.E9X.3.2.2.m1.5.5.1.cmml"><msub id="S3.E9X.3.2.2.m1.5.5.1.3" xref="S3.E9X.3.2.2.m1.5.5.1.3.cmml"><mtext id="S3.E9X.3.2.2.m1.5.5.1.3.2" xref="S3.E9X.3.2.2.m1.5.5.1.3.2a.cmml">FC</mtext><mrow id="S3.E9X.3.2.2.m1.5.5.1.3.3" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.cmml"><mrow id="S3.E9X.3.2.2.m1.5.5.1.3.3.2" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.2.cmml"><mi id="S3.E9X.3.2.2.m1.5.5.1.3.3.2.2" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.2.2.cmml">d</mi><mo id="S3.E9X.3.2.2.m1.5.5.1.3.3.2.1" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.2.1.cmml">+</mo><mn id="S3.E9X.3.2.2.m1.5.5.1.3.3.2.3" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.2.3.cmml">4</mn></mrow><mo stretchy="false" id="S3.E9X.3.2.2.m1.5.5.1.3.3.1" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.1.cmml">→</mo><mi id="S3.E9X.3.2.2.m1.5.5.1.3.3.3" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.3.cmml">d</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E9X.3.2.2.m1.5.5.1.2" xref="S3.E9X.3.2.2.m1.5.5.1.2.cmml">​</mo><mrow id="S3.E9X.3.2.2.m1.5.5.1.1.1" xref="S3.E9X.3.2.2.m1.5.5.1.cmml"><mo stretchy="false" id="S3.E9X.3.2.2.m1.5.5.1.1.1.2" xref="S3.E9X.3.2.2.m1.5.5.1.cmml">(</mo><mrow id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.2" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.2.1.cmml">{</mo><mrow id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.2.cmml"><mi id="S3.E9X.3.2.2.m1.1.1" xref="S3.E9X.3.2.2.m1.1.1.cmml">x</mi><mo id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.2" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E9X.3.2.2.m1.2.2" xref="S3.E9X.3.2.2.m1.2.2.cmml">y</mi><mo id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.3" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E9X.3.2.2.m1.3.3" xref="S3.E9X.3.2.2.m1.3.3.cmml">z</mi><mo id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.4" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.2.cmml">,</mo><mrow id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.1" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.1a" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.4" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.1b" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.5" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.1c" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.6" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.6.cmml">e</mi></mrow></mrow><mo lspace="0em" rspace="0em" id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.3" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.2.1.cmml">|</mo><mi id="S3.E9X.3.2.2.m1.4.4" xref="S3.E9X.3.2.2.m1.4.4.cmml">f</mi><mo stretchy="false" id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.4" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.2.1.cmml">}</mo></mrow><mo stretchy="false" id="S3.E9X.3.2.2.m1.5.5.1.1.1.3" xref="S3.E9X.3.2.2.m1.5.5.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E9X.3.2.2.m1.5b"><apply id="S3.E9X.3.2.2.m1.5.5.cmml" xref="S3.E9X.3.2.2.m1.5.5"><eq id="S3.E9X.3.2.2.m1.5.5.2.cmml" xref="S3.E9X.3.2.2.m1.5.5.2"></eq><csymbol cd="latexml" id="S3.E9X.3.2.2.m1.5.5.3.cmml" xref="S3.E9X.3.2.2.m1.5.5.3">absent</csymbol><apply id="S3.E9X.3.2.2.m1.5.5.1.cmml" xref="S3.E9X.3.2.2.m1.5.5.1"><times id="S3.E9X.3.2.2.m1.5.5.1.2.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.2"></times><apply id="S3.E9X.3.2.2.m1.5.5.1.3.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3"><csymbol cd="ambiguous" id="S3.E9X.3.2.2.m1.5.5.1.3.1.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3">subscript</csymbol><ci id="S3.E9X.3.2.2.m1.5.5.1.3.2a.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3.2"><mtext id="S3.E9X.3.2.2.m1.5.5.1.3.2.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3.2">FC</mtext></ci><apply id="S3.E9X.3.2.2.m1.5.5.1.3.3.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3.3"><ci id="S3.E9X.3.2.2.m1.5.5.1.3.3.1.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.1">→</ci><apply id="S3.E9X.3.2.2.m1.5.5.1.3.3.2.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.2"><plus id="S3.E9X.3.2.2.m1.5.5.1.3.3.2.1.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.2.1"></plus><ci id="S3.E9X.3.2.2.m1.5.5.1.3.3.2.2.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.2.2">𝑑</ci><cn type="integer" id="S3.E9X.3.2.2.m1.5.5.1.3.3.2.3.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.2.3">4</cn></apply><ci id="S3.E9X.3.2.2.m1.5.5.1.3.3.3.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.3.3.3">𝑑</ci></apply></apply><apply id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.2.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1"><csymbol cd="latexml" id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.2.1.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.2">conditional-set</csymbol><list id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1"><ci id="S3.E9X.3.2.2.m1.1.1.cmml" xref="S3.E9X.3.2.2.m1.1.1">𝑥</ci><ci id="S3.E9X.3.2.2.m1.2.2.cmml" xref="S3.E9X.3.2.2.m1.2.2">𝑦</ci><ci id="S3.E9X.3.2.2.m1.3.3.cmml" xref="S3.E9X.3.2.2.m1.3.3">𝑧</ci><apply id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1"><times id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.1"></times><ci id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.2">𝑠</ci><ci id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.3">𝑐</ci><ci id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.4.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.4">𝑜</ci><ci id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.5.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.5">𝑟</ci><ci id="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.6.cmml" xref="S3.E9X.3.2.2.m1.5.5.1.1.1.1.1.1.1.1.6">𝑒</ci></apply></list><ci id="S3.E9X.3.2.2.m1.4.4.cmml" xref="S3.E9X.3.2.2.m1.4.4">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9X.3.2.2.m1.5c">\displaystyle=\text{FC}_{d+4\rightarrow d}(\{x,y,z,score|f\})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(9)</span></td>
</tr>
<tr id="S3.E9Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E9Xa.2.1.1.m1.5" class="ltx_Math" alttext="\displaystyle=\text{FC}_{d\rightarrow d}(f)+\text{FC}_{4\rightarrow d}(x,y,z,score)." display="inline"><semantics id="S3.E9Xa.2.1.1.m1.5a"><mrow id="S3.E9Xa.2.1.1.m1.5.5.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.cmml"><mrow id="S3.E9Xa.2.1.1.m1.5.5.1.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.cmml"><mi id="S3.E9Xa.2.1.1.m1.5.5.1.1.3" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.3.cmml"></mi><mo id="S3.E9Xa.2.1.1.m1.5.5.1.1.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.2.cmml">=</mo><mrow id="S3.E9Xa.2.1.1.m1.5.5.1.1.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.cmml"><mrow id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.cmml"><msub id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.cmml"><mtext id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.2a.cmml">FC</mtext><mrow id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.cmml"><mi id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.2.cmml">d</mi><mo stretchy="false" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.1.cmml">→</mo><mi id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.3" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.3.cmml">d</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.1.cmml">​</mo><mrow id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.3.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.cmml"><mo stretchy="false" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.3.2.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.cmml">(</mo><mi id="S3.E9Xa.2.1.1.m1.1.1" xref="S3.E9Xa.2.1.1.m1.1.1.cmml">f</mi><mo stretchy="false" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.3.2.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.cmml">)</mo></mrow></mrow><mo id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.2.cmml">+</mo><mrow id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.cmml"><msub id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.cmml"><mtext id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.2a.cmml">FC</mtext><mrow id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.cmml"><mn id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.2.cmml">4</mn><mo stretchy="false" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.1.cmml">→</mo><mi id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.3" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.3.cmml">d</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.2.cmml">​</mo><mrow id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E9Xa.2.1.1.m1.2.2" xref="S3.E9Xa.2.1.1.m1.2.2.cmml">x</mi><mo id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E9Xa.2.1.1.m1.3.3" xref="S3.E9Xa.2.1.1.m1.3.3.cmml">y</mi><mo id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.4" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E9Xa.2.1.1.m1.4.4" xref="S3.E9Xa.2.1.1.m1.4.4.cmml">z</mi><mo id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.5" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.2.cmml">,</mo><mrow id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.cmml"><mi id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.1" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.3" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.1a" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.4" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.1b" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.5" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.1c" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.6" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.6.cmml">e</mi></mrow><mo stretchy="false" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.6" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E9Xa.2.1.1.m1.5.5.1.2" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E9Xa.2.1.1.m1.5b"><apply id="S3.E9Xa.2.1.1.m1.5.5.1.1.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1"><eq id="S3.E9Xa.2.1.1.m1.5.5.1.1.2.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.2"></eq><csymbol cd="latexml" id="S3.E9Xa.2.1.1.m1.5.5.1.1.3.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.3">absent</csymbol><apply id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1"><plus id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.2.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.2"></plus><apply id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3"><times id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.1.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.1"></times><apply id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.1.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2">subscript</csymbol><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.2a.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.2"><mtext id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.2.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.2">FC</mtext></ci><apply id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3"><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.1.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.1">→</ci><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.2.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.2">𝑑</ci><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.3.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.3.2.3.3">𝑑</ci></apply></apply><ci id="S3.E9Xa.2.1.1.m1.1.1.cmml" xref="S3.E9Xa.2.1.1.m1.1.1">𝑓</ci></apply><apply id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1"><times id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.2.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.2"></times><apply id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.1.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3">subscript</csymbol><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.2a.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.2"><mtext id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.2.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.2">FC</mtext></ci><apply id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3"><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.1.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.1">→</ci><cn type="integer" id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.2.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.2">4</cn><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.3.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.3.3.3">𝑑</ci></apply></apply><vector id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.2.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1"><ci id="S3.E9Xa.2.1.1.m1.2.2.cmml" xref="S3.E9Xa.2.1.1.m1.2.2">𝑥</ci><ci id="S3.E9Xa.2.1.1.m1.3.3.cmml" xref="S3.E9Xa.2.1.1.m1.3.3">𝑦</ci><ci id="S3.E9Xa.2.1.1.m1.4.4.cmml" xref="S3.E9Xa.2.1.1.m1.4.4">𝑧</ci><apply id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1"><times id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.1"></times><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.2">𝑠</ci><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.3">𝑐</ci><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.4.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.4">𝑜</ci><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.5.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.5">𝑟</ci><ci id="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.6.cmml" xref="S3.E9Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.6">𝑒</ci></apply></vector></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9Xa.2.1.1.m1.5c">\displaystyle=\text{FC}_{d\rightarrow d}(f)+\text{FC}_{4\rightarrow d}(x,y,z,score).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p id="S3.SS4.p3.6" class="ltx_p">Eq. (<a href="#S3.E9" title="Equation 9 ‣ 3.4 Semantic Positional Embedding ‣ 3 Method ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>) is equivalent to the absolute positional embedding (APE), thus being denoted as the Semantic APE (SAPE). The scatter function such as the mean, max and batch normalization naturally provide position and semantic information of the downsampled voxel grids, making it applicable for the multi-scale feature pyramid.</p>
</div>
<figure id="S3.F4" class="ltx_figure"><img src="/html/2303.12621/assets/x4.png" id="S3.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="248" height="168" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F4.2.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S3.F4.3.2" class="ltx_text" style="font-size:90%;">Illustration of semantic positional embedding, where an extra foreground segmentation branch is adopted with supervision and semantic scores are concatenated as absolute positional embeddings and serve as relative masks on attention matrices.</span></figcaption>
</figure>
<div id="S3.SS4.p4" class="ltx_para">
<p id="S3.SS4.p4.3" class="ltx_p">Besides the semantic clues implicitly used in SAPE, we employ the Semantic Attention Mask (SAM) based on the segmentation scores and we mask the attention matrices to address correlations between inferior queries and superior keys in a simple yet effective way. Given a scalar attention matrix <math id="S3.SS4.p4.1.m1.1" class="ltx_Math" alttext="\mathcal{A}\in\mathbb{R}^{N_{q}\times N_{k}}" display="inline"><semantics id="S3.SS4.p4.1.m1.1a"><mrow id="S3.SS4.p4.1.m1.1.1" xref="S3.SS4.p4.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p4.1.m1.1.1.2" xref="S3.SS4.p4.1.m1.1.1.2.cmml">𝒜</mi><mo id="S3.SS4.p4.1.m1.1.1.1" xref="S3.SS4.p4.1.m1.1.1.1.cmml">∈</mo><msup id="S3.SS4.p4.1.m1.1.1.3" xref="S3.SS4.p4.1.m1.1.1.3.cmml"><mi id="S3.SS4.p4.1.m1.1.1.3.2" xref="S3.SS4.p4.1.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS4.p4.1.m1.1.1.3.3" xref="S3.SS4.p4.1.m1.1.1.3.3.cmml"><msub id="S3.SS4.p4.1.m1.1.1.3.3.2" xref="S3.SS4.p4.1.m1.1.1.3.3.2.cmml"><mi id="S3.SS4.p4.1.m1.1.1.3.3.2.2" xref="S3.SS4.p4.1.m1.1.1.3.3.2.2.cmml">N</mi><mi id="S3.SS4.p4.1.m1.1.1.3.3.2.3" xref="S3.SS4.p4.1.m1.1.1.3.3.2.3.cmml">q</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS4.p4.1.m1.1.1.3.3.1" xref="S3.SS4.p4.1.m1.1.1.3.3.1.cmml">×</mo><msub id="S3.SS4.p4.1.m1.1.1.3.3.3" xref="S3.SS4.p4.1.m1.1.1.3.3.3.cmml"><mi id="S3.SS4.p4.1.m1.1.1.3.3.3.2" xref="S3.SS4.p4.1.m1.1.1.3.3.3.2.cmml">N</mi><mi id="S3.SS4.p4.1.m1.1.1.3.3.3.3" xref="S3.SS4.p4.1.m1.1.1.3.3.3.3.cmml">k</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.1.m1.1b"><apply id="S3.SS4.p4.1.m1.1.1.cmml" xref="S3.SS4.p4.1.m1.1.1"><in id="S3.SS4.p4.1.m1.1.1.1.cmml" xref="S3.SS4.p4.1.m1.1.1.1"></in><ci id="S3.SS4.p4.1.m1.1.1.2.cmml" xref="S3.SS4.p4.1.m1.1.1.2">𝒜</ci><apply id="S3.SS4.p4.1.m1.1.1.3.cmml" xref="S3.SS4.p4.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p4.1.m1.1.1.3.1.cmml" xref="S3.SS4.p4.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS4.p4.1.m1.1.1.3.2.cmml" xref="S3.SS4.p4.1.m1.1.1.3.2">ℝ</ci><apply id="S3.SS4.p4.1.m1.1.1.3.3.cmml" xref="S3.SS4.p4.1.m1.1.1.3.3"><times id="S3.SS4.p4.1.m1.1.1.3.3.1.cmml" xref="S3.SS4.p4.1.m1.1.1.3.3.1"></times><apply id="S3.SS4.p4.1.m1.1.1.3.3.2.cmml" xref="S3.SS4.p4.1.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS4.p4.1.m1.1.1.3.3.2.1.cmml" xref="S3.SS4.p4.1.m1.1.1.3.3.2">subscript</csymbol><ci id="S3.SS4.p4.1.m1.1.1.3.3.2.2.cmml" xref="S3.SS4.p4.1.m1.1.1.3.3.2.2">𝑁</ci><ci id="S3.SS4.p4.1.m1.1.1.3.3.2.3.cmml" xref="S3.SS4.p4.1.m1.1.1.3.3.2.3">𝑞</ci></apply><apply id="S3.SS4.p4.1.m1.1.1.3.3.3.cmml" xref="S3.SS4.p4.1.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS4.p4.1.m1.1.1.3.3.3.1.cmml" xref="S3.SS4.p4.1.m1.1.1.3.3.3">subscript</csymbol><ci id="S3.SS4.p4.1.m1.1.1.3.3.3.2.cmml" xref="S3.SS4.p4.1.m1.1.1.3.3.3.2">𝑁</ci><ci id="S3.SS4.p4.1.m1.1.1.3.3.3.3.cmml" xref="S3.SS4.p4.1.m1.1.1.3.3.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.1.m1.1c">\mathcal{A}\in\mathbb{R}^{N_{q}\times N_{k}}</annotation></semantics></math> before softmax and the segmentation scores of query and key/value <math id="S3.SS4.p4.2.m2.1" class="ltx_Math" alttext="S_{q}\in\mathbb{R}^{N_{q}}" display="inline"><semantics id="S3.SS4.p4.2.m2.1a"><mrow id="S3.SS4.p4.2.m2.1.1" xref="S3.SS4.p4.2.m2.1.1.cmml"><msub id="S3.SS4.p4.2.m2.1.1.2" xref="S3.SS4.p4.2.m2.1.1.2.cmml"><mi id="S3.SS4.p4.2.m2.1.1.2.2" xref="S3.SS4.p4.2.m2.1.1.2.2.cmml">S</mi><mi id="S3.SS4.p4.2.m2.1.1.2.3" xref="S3.SS4.p4.2.m2.1.1.2.3.cmml">q</mi></msub><mo id="S3.SS4.p4.2.m2.1.1.1" xref="S3.SS4.p4.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS4.p4.2.m2.1.1.3" xref="S3.SS4.p4.2.m2.1.1.3.cmml"><mi id="S3.SS4.p4.2.m2.1.1.3.2" xref="S3.SS4.p4.2.m2.1.1.3.2.cmml">ℝ</mi><msub id="S3.SS4.p4.2.m2.1.1.3.3" xref="S3.SS4.p4.2.m2.1.1.3.3.cmml"><mi id="S3.SS4.p4.2.m2.1.1.3.3.2" xref="S3.SS4.p4.2.m2.1.1.3.3.2.cmml">N</mi><mi id="S3.SS4.p4.2.m2.1.1.3.3.3" xref="S3.SS4.p4.2.m2.1.1.3.3.3.cmml">q</mi></msub></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.2.m2.1b"><apply id="S3.SS4.p4.2.m2.1.1.cmml" xref="S3.SS4.p4.2.m2.1.1"><in id="S3.SS4.p4.2.m2.1.1.1.cmml" xref="S3.SS4.p4.2.m2.1.1.1"></in><apply id="S3.SS4.p4.2.m2.1.1.2.cmml" xref="S3.SS4.p4.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS4.p4.2.m2.1.1.2.1.cmml" xref="S3.SS4.p4.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS4.p4.2.m2.1.1.2.2.cmml" xref="S3.SS4.p4.2.m2.1.1.2.2">𝑆</ci><ci id="S3.SS4.p4.2.m2.1.1.2.3.cmml" xref="S3.SS4.p4.2.m2.1.1.2.3">𝑞</ci></apply><apply id="S3.SS4.p4.2.m2.1.1.3.cmml" xref="S3.SS4.p4.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p4.2.m2.1.1.3.1.cmml" xref="S3.SS4.p4.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS4.p4.2.m2.1.1.3.2.cmml" xref="S3.SS4.p4.2.m2.1.1.3.2">ℝ</ci><apply id="S3.SS4.p4.2.m2.1.1.3.3.cmml" xref="S3.SS4.p4.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS4.p4.2.m2.1.1.3.3.1.cmml" xref="S3.SS4.p4.2.m2.1.1.3.3">subscript</csymbol><ci id="S3.SS4.p4.2.m2.1.1.3.3.2.cmml" xref="S3.SS4.p4.2.m2.1.1.3.3.2">𝑁</ci><ci id="S3.SS4.p4.2.m2.1.1.3.3.3.cmml" xref="S3.SS4.p4.2.m2.1.1.3.3.3">𝑞</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.2.m2.1c">S_{q}\in\mathbb{R}^{N_{q}}</annotation></semantics></math> and <math id="S3.SS4.p4.3.m3.1" class="ltx_Math" alttext="S_{k}\in\mathbb{R}^{N_{k}}" display="inline"><semantics id="S3.SS4.p4.3.m3.1a"><mrow id="S3.SS4.p4.3.m3.1.1" xref="S3.SS4.p4.3.m3.1.1.cmml"><msub id="S3.SS4.p4.3.m3.1.1.2" xref="S3.SS4.p4.3.m3.1.1.2.cmml"><mi id="S3.SS4.p4.3.m3.1.1.2.2" xref="S3.SS4.p4.3.m3.1.1.2.2.cmml">S</mi><mi id="S3.SS4.p4.3.m3.1.1.2.3" xref="S3.SS4.p4.3.m3.1.1.2.3.cmml">k</mi></msub><mo id="S3.SS4.p4.3.m3.1.1.1" xref="S3.SS4.p4.3.m3.1.1.1.cmml">∈</mo><msup id="S3.SS4.p4.3.m3.1.1.3" xref="S3.SS4.p4.3.m3.1.1.3.cmml"><mi id="S3.SS4.p4.3.m3.1.1.3.2" xref="S3.SS4.p4.3.m3.1.1.3.2.cmml">ℝ</mi><msub id="S3.SS4.p4.3.m3.1.1.3.3" xref="S3.SS4.p4.3.m3.1.1.3.3.cmml"><mi id="S3.SS4.p4.3.m3.1.1.3.3.2" xref="S3.SS4.p4.3.m3.1.1.3.3.2.cmml">N</mi><mi id="S3.SS4.p4.3.m3.1.1.3.3.3" xref="S3.SS4.p4.3.m3.1.1.3.3.3.cmml">k</mi></msub></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.3.m3.1b"><apply id="S3.SS4.p4.3.m3.1.1.cmml" xref="S3.SS4.p4.3.m3.1.1"><in id="S3.SS4.p4.3.m3.1.1.1.cmml" xref="S3.SS4.p4.3.m3.1.1.1"></in><apply id="S3.SS4.p4.3.m3.1.1.2.cmml" xref="S3.SS4.p4.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS4.p4.3.m3.1.1.2.1.cmml" xref="S3.SS4.p4.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS4.p4.3.m3.1.1.2.2.cmml" xref="S3.SS4.p4.3.m3.1.1.2.2">𝑆</ci><ci id="S3.SS4.p4.3.m3.1.1.2.3.cmml" xref="S3.SS4.p4.3.m3.1.1.2.3">𝑘</ci></apply><apply id="S3.SS4.p4.3.m3.1.1.3.cmml" xref="S3.SS4.p4.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p4.3.m3.1.1.3.1.cmml" xref="S3.SS4.p4.3.m3.1.1.3">superscript</csymbol><ci id="S3.SS4.p4.3.m3.1.1.3.2.cmml" xref="S3.SS4.p4.3.m3.1.1.3.2">ℝ</ci><apply id="S3.SS4.p4.3.m3.1.1.3.3.cmml" xref="S3.SS4.p4.3.m3.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS4.p4.3.m3.1.1.3.3.1.cmml" xref="S3.SS4.p4.3.m3.1.1.3.3">subscript</csymbol><ci id="S3.SS4.p4.3.m3.1.1.3.3.2.cmml" xref="S3.SS4.p4.3.m3.1.1.3.3.2">𝑁</ci><ci id="S3.SS4.p4.3.m3.1.1.3.3.3.cmml" xref="S3.SS4.p4.3.m3.1.1.3.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.3.m3.1c">S_{k}\in\mathbb{R}^{N_{k}}</annotation></semantics></math>, we formulate the attention matrix after softmax as</p>
<table id="S3.E10" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E10X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E10X.2.1.1.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{A}^{{}^{\prime}}=\sigma(-\Gamma\cdot[1-(S_{q}\geq\delta_{q})(S_{k}\geq\delta_{k})^{T}]+\mathcal{A})," display="inline"><semantics id="S3.E10X.2.1.1.m1.1a"><mrow id="S3.E10X.2.1.1.m1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.cmml"><mrow id="S3.E10X.2.1.1.m1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.cmml"><msup id="S3.E10X.2.1.1.m1.1.1.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10X.2.1.1.m1.1.1.1.1.3.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.3.2.cmml">𝒜</mi><msup id="S3.E10X.2.1.1.m1.1.1.1.1.3.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.3.3.cmml"><mi id="S3.E10X.2.1.1.m1.1.1.1.1.3.3a" xref="S3.E10X.2.1.1.m1.1.1.1.1.3.3.cmml"></mi><mo id="S3.E10X.2.1.1.m1.1.1.1.1.3.3.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.3.3.1.cmml">′</mo></msup></msup><mo id="S3.E10X.2.1.1.m1.1.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.cmml"><mi id="S3.E10X.2.1.1.m1.1.1.1.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.3.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.E10X.2.1.1.m1.1.1.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1a" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">Γ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">⋅</mo><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mn id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.cmml">1</mn><mo id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">−</mo><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">S</mi><mi id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">q</mi></msub><mo id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">≥</mo><msub id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">δ</mi><mi id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">q</mi></msub></mrow><mo stretchy="false" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">​</mo><msup id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml"><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml">(</mo><mrow id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml"><msub id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.cmml"><mi id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.2.cmml">S</mi><mi id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.3.cmml">k</mi></msub><mo id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.1" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.1.cmml">≥</mo><msub id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.cmml"><mi id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.2.cmml">δ</mi><mi id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.3.cmml">k</mi></msub></mrow><mo stretchy="false" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml">)</mo></mrow><mi id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml">T</mi></msup></mrow></mrow><mo stretchy="false" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><mo id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.2.cmml">+</mo><mi class="ltx_font_mathcaligraphic" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.3.cmml">𝒜</mi></mrow><mo stretchy="false" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.3" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E10X.2.1.1.m1.1.1.1.2" xref="S3.E10X.2.1.1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E10X.2.1.1.m1.1b"><apply id="S3.E10X.2.1.1.m1.1.1.1.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1"><eq id="S3.E10X.2.1.1.m1.1.1.1.1.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.2"></eq><apply id="S3.E10X.2.1.1.m1.1.1.1.1.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10X.2.1.1.m1.1.1.1.1.3.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.3">superscript</csymbol><ci id="S3.E10X.2.1.1.m1.1.1.1.1.3.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.3.2">𝒜</ci><apply id="S3.E10X.2.1.1.m1.1.1.1.1.3.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.3.3"><ci id="S3.E10X.2.1.1.m1.1.1.1.1.3.3.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.3.3.1">′</ci></apply></apply><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1"><times id="S3.E10X.2.1.1.m1.1.1.1.1.1.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.2"></times><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.3">𝜎</ci><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1"><plus id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.2"></plus><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1"><minus id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1"></minus><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1"><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.2">⋅</ci><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.3">Γ</ci><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1"><minus id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"></minus><cn type="integer" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.4">1</cn><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"><times id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3"></times><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><geq id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"></geq><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝑆</ci><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">𝑞</ci></apply><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝛿</ci><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">𝑞</ci></apply></apply><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">superscript</csymbol><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1"><geq id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.1"></geq><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2">subscript</csymbol><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.2">𝑆</ci><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.3">𝑘</ci></apply><apply id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.1.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.2.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.2">𝛿</ci><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.3">𝑘</ci></apply></apply><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.3">𝑇</ci></apply></apply></apply></apply></apply></apply><ci id="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10X.2.1.1.m1.1.1.1.1.1.1.1.1.3">𝒜</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10X.2.1.1.m1.1c">\displaystyle\mathcal{A}^{{}^{\prime}}=\sigma(-\Gamma\cdot[1-(S_{q}\geq\delta_{q})(S_{k}\geq\delta_{k})^{T}]+\mathcal{A}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(10)</span></td>
</tr>
</tbody>
</table>
<p id="S3.SS4.p4.9" class="ltx_p">where <math id="S3.SS4.p4.4.m1.1" class="ltx_Math" alttext="N_{q}" display="inline"><semantics id="S3.SS4.p4.4.m1.1a"><msub id="S3.SS4.p4.4.m1.1.1" xref="S3.SS4.p4.4.m1.1.1.cmml"><mi id="S3.SS4.p4.4.m1.1.1.2" xref="S3.SS4.p4.4.m1.1.1.2.cmml">N</mi><mi id="S3.SS4.p4.4.m1.1.1.3" xref="S3.SS4.p4.4.m1.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.4.m1.1b"><apply id="S3.SS4.p4.4.m1.1.1.cmml" xref="S3.SS4.p4.4.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.4.m1.1.1.1.cmml" xref="S3.SS4.p4.4.m1.1.1">subscript</csymbol><ci id="S3.SS4.p4.4.m1.1.1.2.cmml" xref="S3.SS4.p4.4.m1.1.1.2">𝑁</ci><ci id="S3.SS4.p4.4.m1.1.1.3.cmml" xref="S3.SS4.p4.4.m1.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.4.m1.1c">N_{q}</annotation></semantics></math>, <math id="S3.SS4.p4.5.m2.1" class="ltx_Math" alttext="\delta_{q}" display="inline"><semantics id="S3.SS4.p4.5.m2.1a"><msub id="S3.SS4.p4.5.m2.1.1" xref="S3.SS4.p4.5.m2.1.1.cmml"><mi id="S3.SS4.p4.5.m2.1.1.2" xref="S3.SS4.p4.5.m2.1.1.2.cmml">δ</mi><mi id="S3.SS4.p4.5.m2.1.1.3" xref="S3.SS4.p4.5.m2.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.5.m2.1b"><apply id="S3.SS4.p4.5.m2.1.1.cmml" xref="S3.SS4.p4.5.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.5.m2.1.1.1.cmml" xref="S3.SS4.p4.5.m2.1.1">subscript</csymbol><ci id="S3.SS4.p4.5.m2.1.1.2.cmml" xref="S3.SS4.p4.5.m2.1.1.2">𝛿</ci><ci id="S3.SS4.p4.5.m2.1.1.3.cmml" xref="S3.SS4.p4.5.m2.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.5.m2.1c">\delta_{q}</annotation></semantics></math>, <math id="S3.SS4.p4.6.m3.1" class="ltx_Math" alttext="N_{k}" display="inline"><semantics id="S3.SS4.p4.6.m3.1a"><msub id="S3.SS4.p4.6.m3.1.1" xref="S3.SS4.p4.6.m3.1.1.cmml"><mi id="S3.SS4.p4.6.m3.1.1.2" xref="S3.SS4.p4.6.m3.1.1.2.cmml">N</mi><mi id="S3.SS4.p4.6.m3.1.1.3" xref="S3.SS4.p4.6.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.6.m3.1b"><apply id="S3.SS4.p4.6.m3.1.1.cmml" xref="S3.SS4.p4.6.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.6.m3.1.1.1.cmml" xref="S3.SS4.p4.6.m3.1.1">subscript</csymbol><ci id="S3.SS4.p4.6.m3.1.1.2.cmml" xref="S3.SS4.p4.6.m3.1.1.2">𝑁</ci><ci id="S3.SS4.p4.6.m3.1.1.3.cmml" xref="S3.SS4.p4.6.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.6.m3.1c">N_{k}</annotation></semantics></math>, <math id="S3.SS4.p4.7.m4.1" class="ltx_Math" alttext="\delta_{k}" display="inline"><semantics id="S3.SS4.p4.7.m4.1a"><msub id="S3.SS4.p4.7.m4.1.1" xref="S3.SS4.p4.7.m4.1.1.cmml"><mi id="S3.SS4.p4.7.m4.1.1.2" xref="S3.SS4.p4.7.m4.1.1.2.cmml">δ</mi><mi id="S3.SS4.p4.7.m4.1.1.3" xref="S3.SS4.p4.7.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.7.m4.1b"><apply id="S3.SS4.p4.7.m4.1.1.cmml" xref="S3.SS4.p4.7.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.7.m4.1.1.1.cmml" xref="S3.SS4.p4.7.m4.1.1">subscript</csymbol><ci id="S3.SS4.p4.7.m4.1.1.2.cmml" xref="S3.SS4.p4.7.m4.1.1.2">𝛿</ci><ci id="S3.SS4.p4.7.m4.1.1.3.cmml" xref="S3.SS4.p4.7.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.7.m4.1c">\delta_{k}</annotation></semantics></math>, <math id="S3.SS4.p4.8.m5.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S3.SS4.p4.8.m5.1a"><mi id="S3.SS4.p4.8.m5.1.1" xref="S3.SS4.p4.8.m5.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.8.m5.1b"><ci id="S3.SS4.p4.8.m5.1.1.cmml" xref="S3.SS4.p4.8.m5.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.8.m5.1c">\sigma</annotation></semantics></math> and <math id="S3.SS4.p4.9.m6.1" class="ltx_Math" alttext="\Gamma" display="inline"><semantics id="S3.SS4.p4.9.m6.1a"><mi mathvariant="normal" id="S3.SS4.p4.9.m6.1.1" xref="S3.SS4.p4.9.m6.1.1.cmml">Γ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.9.m6.1b"><ci id="S3.SS4.p4.9.m6.1.1.cmml" xref="S3.SS4.p4.9.m6.1.1">Γ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.9.m6.1c">\Gamma</annotation></semantics></math> are the length and threshold of the query sequence, length and threshold of the key sequence, softmax function and infinite scalar, respectively.</p>
</div>
<div id="S3.SS4.p5" class="ltx_para">
<p id="S3.SS4.p5.1" class="ltx_p">Finally, we broadcast the semantic mask <math id="S3.SS4.p5.1.m1.1" class="ltx_Math" alttext="\mathcal{A}^{{}^{\prime}}" display="inline"><semantics id="S3.SS4.p5.1.m1.1a"><msup id="S3.SS4.p5.1.m1.1.1" xref="S3.SS4.p5.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p5.1.m1.1.1.2" xref="S3.SS4.p5.1.m1.1.1.2.cmml">𝒜</mi><msup id="S3.SS4.p5.1.m1.1.1.3" xref="S3.SS4.p5.1.m1.1.1.3.cmml"><mi id="S3.SS4.p5.1.m1.1.1.3a" xref="S3.SS4.p5.1.m1.1.1.3.cmml"></mi><mo id="S3.SS4.p5.1.m1.1.1.3.1" xref="S3.SS4.p5.1.m1.1.1.3.1.cmml">′</mo></msup></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p5.1.m1.1b"><apply id="S3.SS4.p5.1.m1.1.1.cmml" xref="S3.SS4.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p5.1.m1.1.1.1.cmml" xref="S3.SS4.p5.1.m1.1.1">superscript</csymbol><ci id="S3.SS4.p5.1.m1.1.1.2.cmml" xref="S3.SS4.p5.1.m1.1.1.2">𝒜</ci><apply id="S3.SS4.p5.1.m1.1.1.3.cmml" xref="S3.SS4.p5.1.m1.1.1.3"><ci id="S3.SS4.p5.1.m1.1.1.3.1.cmml" xref="S3.SS4.p5.1.m1.1.1.3.1">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p5.1.m1.1c">\mathcal{A}^{{}^{\prime}}</annotation></semantics></math> to all heads.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<table id="S3.T1.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T1.2.3.1" class="ltx_tr">
<th id="S3.T1.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S3.T1.2.3.1.1.1" class="ltx_text ltx_font_bold">Model</span></th>
<td id="S3.T1.2.3.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="S3.T1.2.3.1.2.1" class="ltx_text ltx_font_bold">Vehicle (L1)</span></td>
<td id="S3.T1.2.3.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="S3.T1.2.3.1.3.1" class="ltx_text ltx_font_bold">Vehicle (L2)</span></td>
<td id="S3.T1.2.3.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="S3.T1.2.3.1.4.1" class="ltx_text ltx_font_bold">Pedes. (L1)</span></td>
<td id="S3.T1.2.3.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="S3.T1.2.3.1.5.1" class="ltx_text ltx_font_bold">Pedes. (L2)</span></td>
<td id="S3.T1.2.3.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="S3.T1.2.3.1.6.1" class="ltx_text ltx_font_bold">Cyclist (L1)</span></td>
<td id="S3.T1.2.3.1.7" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T1.2.3.1.7.1" class="ltx_text ltx_font_bold">Cyclist (L2)</span></td>
</tr>
<tr id="S3.T1.2.4.2" class="ltx_tr">
<td id="S3.T1.2.4.2.1" class="ltx_td ltx_align_center ltx_border_r"><span id="S3.T1.2.4.2.1.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="S3.T1.2.4.2.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S3.T1.2.4.2.2.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="S3.T1.2.4.2.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S3.T1.2.4.2.3.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="S3.T1.2.4.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S3.T1.2.4.2.4.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="S3.T1.2.4.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S3.T1.2.4.2.5.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="S3.T1.2.4.2.6" class="ltx_td ltx_align_center"><span id="S3.T1.2.4.2.6.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
</tr>
<tr id="S3.T1.2.5.3" class="ltx_tr">
<th id="S3.T1.2.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">SECOND<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</th>
<td id="S3.T1.2.5.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">70.96/70.34</td>
<td id="S3.T1.2.5.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.58/62.02</td>
<td id="S3.T1.2.5.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">65.23/54.24</td>
<td id="S3.T1.2.5.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">57.22/47.49</td>
<td id="S3.T1.2.5.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">57.13/55.62</td>
<td id="S3.T1.2.5.3.7" class="ltx_td ltx_align_center ltx_border_t">54.97/53.53</td>
</tr>
<tr id="S3.T1.2.6.4" class="ltx_tr">
<th id="S3.T1.2.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PointPillar<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>
</th>
<td id="S3.T1.2.6.4.2" class="ltx_td ltx_align_center ltx_border_r">70.43/69.83</td>
<td id="S3.T1.2.6.4.3" class="ltx_td ltx_align_center ltx_border_r">62.18/61.64</td>
<td id="S3.T1.2.6.4.4" class="ltx_td ltx_align_center ltx_border_r">66.21/46.32</td>
<td id="S3.T1.2.6.4.5" class="ltx_td ltx_align_center ltx_border_r">58.18/40.64</td>
<td id="S3.T1.2.6.4.6" class="ltx_td ltx_align_center ltx_border_r">55.26/51.75</td>
<td id="S3.T1.2.6.4.7" class="ltx_td ltx_align_center">53.18/49.80</td>
</tr>
<tr id="S3.T1.1.1" class="ltx_tr">
<th id="S3.T1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PartA<sup id="S3.T1.1.1.1.1" class="ltx_sup"><span id="S3.T1.1.1.1.1.1" class="ltx_text ltx_font_italic">2</span></sup>Net<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite>
</th>
<td id="S3.T1.1.1.2" class="ltx_td ltx_align_center ltx_border_r">74.82/74.32</td>
<td id="S3.T1.1.1.3" class="ltx_td ltx_align_center ltx_border_r">65.88/65.42</td>
<td id="S3.T1.1.1.4" class="ltx_td ltx_align_center ltx_border_r">71.76/63.64</td>
<td id="S3.T1.1.1.5" class="ltx_td ltx_align_center ltx_border_r">62.53/55.30</td>
<td id="S3.T1.1.1.6" class="ltx_td ltx_align_center ltx_border_r">67.35/66.15</td>
<td id="S3.T1.1.1.7" class="ltx_td ltx_align_center">65.05/63.89</td>
</tr>
<tr id="S3.T1.2.7.5" class="ltx_tr">
<th id="S3.T1.2.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PVRCNN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>
</th>
<td id="S3.T1.2.7.5.2" class="ltx_td ltx_align_center ltx_border_r">75.41/74.74</td>
<td id="S3.T1.2.7.5.3" class="ltx_td ltx_align_center ltx_border_r">67.44/66.80</td>
<td id="S3.T1.2.7.5.4" class="ltx_td ltx_align_center ltx_border_r">71.98/61.24</td>
<td id="S3.T1.2.7.5.5" class="ltx_td ltx_align_center ltx_border_r">63.70/53.95</td>
<td id="S3.T1.2.7.5.6" class="ltx_td ltx_align_center ltx_border_r">65.88/64.25</td>
<td id="S3.T1.2.7.5.7" class="ltx_td ltx_align_center">63.39/61.82</td>
</tr>
<tr id="S3.T1.2.8.6" class="ltx_tr">
<th id="S3.T1.2.8.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">CenterPoint<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>
</th>
<td id="S3.T1.2.8.6.2" class="ltx_td ltx_align_center ltx_border_r">71.33/70.76</td>
<td id="S3.T1.2.8.6.3" class="ltx_td ltx_align_center ltx_border_r">63.16/62.65</td>
<td id="S3.T1.2.8.6.4" class="ltx_td ltx_align_center ltx_border_r">72.09/65.49</td>
<td id="S3.T1.2.8.6.5" class="ltx_td ltx_align_center ltx_border_r">64.27/58.23</td>
<td id="S3.T1.2.8.6.6" class="ltx_td ltx_align_center ltx_border_r">68.68/67.39</td>
<td id="S3.T1.2.8.6.7" class="ltx_td ltx_align_center">66.11/64.87</td>
</tr>
<tr id="S3.T1.2.9.7" class="ltx_tr">
<th id="S3.T1.2.9.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">LiDAR-RCNN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>
</th>
<td id="S3.T1.2.9.7.2" class="ltx_td ltx_align_center ltx_border_r">73.5/73.0</td>
<td id="S3.T1.2.9.7.3" class="ltx_td ltx_align_center ltx_border_r">64.7/64.2</td>
<td id="S3.T1.2.9.7.4" class="ltx_td ltx_align_center ltx_border_r">71.2/58.7</td>
<td id="S3.T1.2.9.7.5" class="ltx_td ltx_align_center ltx_border_r">63.1/51.7</td>
<td id="S3.T1.2.9.7.6" class="ltx_td ltx_align_center ltx_border_r">68.6/66.9</td>
<td id="S3.T1.2.9.7.7" class="ltx_td ltx_align_center">66.1/64.4</td>
</tr>
<tr id="S3.T1.2.10.8" class="ltx_tr">
<th id="S3.T1.2.10.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Voxel-RCNN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>
</th>
<td id="S3.T1.2.10.8.2" class="ltx_td ltx_align_center ltx_border_r">75.59/-</td>
<td id="S3.T1.2.10.8.3" class="ltx_td ltx_align_center ltx_border_r">66.59/-</td>
<td id="S3.T1.2.10.8.4" class="ltx_td ltx_align_center ltx_border_r">-/-</td>
<td id="S3.T1.2.10.8.5" class="ltx_td ltx_align_center ltx_border_r">-/-</td>
<td id="S3.T1.2.10.8.6" class="ltx_td ltx_align_center ltx_border_r">-/-</td>
<td id="S3.T1.2.10.8.7" class="ltx_td ltx_align_center">-/-</td>
</tr>
<tr id="S3.T1.2.11.9" class="ltx_tr">
<th id="S3.T1.2.11.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PVRCNN++<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite>
</th>
<td id="S3.T1.2.11.9.2" class="ltx_td ltx_align_center ltx_border_r">77.82/77.32</td>
<td id="S3.T1.2.11.9.3" class="ltx_td ltx_align_center ltx_border_r">69.07/68.62</td>
<td id="S3.T1.2.11.9.4" class="ltx_td ltx_align_center ltx_border_r">77.99/71.36</td>
<td id="S3.T1.2.11.9.5" class="ltx_td ltx_align_center ltx_border_r">69.92/63.74</td>
<td id="S3.T1.2.11.9.6" class="ltx_td ltx_align_center ltx_border_r">71.80/70.71</td>
<td id="S3.T1.2.11.9.7" class="ltx_td ltx_align_center">69.31/68.26</td>
</tr>
<tr id="S3.T1.2.2" class="ltx_tr">
<th id="S3.T1.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">SST<sup id="S3.T1.2.2.1.1" class="ltx_sup"><span id="S3.T1.2.2.1.1.1" class="ltx_text ltx_font_italic">†</span></sup><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>
</th>
<td id="S3.T1.2.2.2" class="ltx_td ltx_align_center ltx_border_r">76.22/75.79</td>
<td id="S3.T1.2.2.3" class="ltx_td ltx_align_center ltx_border_r">68.04/67.64</td>
<td id="S3.T1.2.2.4" class="ltx_td ltx_align_center ltx_border_r">81.39/74.05</td>
<td id="S3.T1.2.2.5" class="ltx_td ltx_align_center ltx_border_r">72.82/65.93</td>
<td id="S3.T1.2.2.6" class="ltx_td ltx_align_center ltx_border_r">-/-</td>
<td id="S3.T1.2.2.7" class="ltx_td ltx_align_center">-/-</td>
</tr>
<tr id="S3.T1.2.12.10" class="ltx_tr">
<th id="S3.T1.2.12.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PDV<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>
</th>
<td id="S3.T1.2.12.10.2" class="ltx_td ltx_align_center ltx_border_r">76.85/76.33</td>
<td id="S3.T1.2.12.10.3" class="ltx_td ltx_align_center ltx_border_r">69.30/68.81</td>
<td id="S3.T1.2.12.10.4" class="ltx_td ltx_align_center ltx_border_r">74.19/65.96</td>
<td id="S3.T1.2.12.10.5" class="ltx_td ltx_align_center ltx_border_r">65.85/58.28</td>
<td id="S3.T1.2.12.10.6" class="ltx_td ltx_align_center ltx_border_r">68.71/67.55</td>
<td id="S3.T1.2.12.10.7" class="ltx_td ltx_align_center">66.49/65.36</td>
</tr>
<tr id="S3.T1.2.13.11" class="ltx_tr">
<th id="S3.T1.2.13.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t">Ours</th>
<td id="S3.T1.2.13.11.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S3.T1.2.13.11.2.1" class="ltx_text ltx_font_bold">78.12/77.63</span></td>
<td id="S3.T1.2.13.11.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S3.T1.2.13.11.3.1" class="ltx_text ltx_font_bold">69.79/69.34</span></td>
<td id="S3.T1.2.13.11.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S3.T1.2.13.11.4.1" class="ltx_text ltx_font_bold">80.76/74.39</span></td>
<td id="S3.T1.2.13.11.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S3.T1.2.13.11.5.1" class="ltx_text ltx_font_bold">72.48/66.52</span></td>
<td id="S3.T1.2.13.11.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S3.T1.2.13.11.6.1" class="ltx_text ltx_font_bold">72.58/71.50</span></td>
<td id="S3.T1.2.13.11.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T1.2.13.11.7.1" class="ltx_text ltx_font_bold">69.93/68.90</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T1.8.2.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S3.T1.4.1" class="ltx_text" style="font-size:90%;">Performance on WOD with 202 <span id="S3.T1.4.1.1" class="ltx_text ltx_font_italic">validation</span> sequences for vehicle (IoU=0.7), pedestrian (IoU=0.5) and cyclist (IoU=0.5), using 20% samples for training. All the results are achieved by the models simultaneously trained for 3 classes on single frames, except the ones of the model marked by <math id="S3.T1.4.1.m1.1" class="ltx_Math" alttext="{\dagger}" display="inline"><semantics id="S3.T1.4.1.m1.1b"><mo id="S3.T1.4.1.m1.1.1" xref="S3.T1.4.1.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="S3.T1.4.1.m1.1c"><ci id="S3.T1.4.1.m1.1.1.cmml" xref="S3.T1.4.1.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.4.1.m1.1d">{\dagger}</annotation></semantics></math>, which is only trained for a single class. Refer to <span id="S3.T1.4.1.2" class="ltx_text ltx_font_italic">Supp. B</span> for the results trained with 100% samples.</span></figcaption>
</figure>
<figure id="S3.T2" class="ltx_table">
<div id="S3.T2.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:233.5pt;height:214.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-59.8pt,54.9pt) scale(0.66127681212035,0.66127681212035) ;">
<table id="S3.T2.2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T2.1.1.1" class="ltx_tr">
<th id="S3.T2.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S3.T2.1.1.1.2.1" class="ltx_text ltx_font_bold">Model</span></th>
<td id="S3.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_tt" colspan="4"><span id="S3.T2.1.1.1.1.1" class="ltx_text ltx_font_bold">mAP<sub id="S3.T2.1.1.1.1.1.1" class="ltx_sub"><span id="S3.T2.1.1.1.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">3D</span></sub> (L1)@Vehicle</span></td>
</tr>
<tr id="S3.T2.2.2.3.1" class="ltx_tr">
<td id="S3.T2.2.2.3.1.1" class="ltx_td ltx_align_center"><span id="S3.T2.2.2.3.1.1.1" class="ltx_text ltx_font_bold">Overall</span></td>
<td id="S3.T2.2.2.3.1.2" class="ltx_td ltx_align_center"><span id="S3.T2.2.2.3.1.2.1" class="ltx_text ltx_font_bold">0-30m</span></td>
<td id="S3.T2.2.2.3.1.3" class="ltx_td ltx_align_center"><span id="S3.T2.2.2.3.1.3.1" class="ltx_text ltx_font_bold">30m-50m</span></td>
<td id="S3.T2.2.2.3.1.4" class="ltx_td ltx_align_center"><span id="S3.T2.2.2.3.1.4.1" class="ltx_text ltx_font_bold">50m-inf</span></td>
</tr>
<tr id="S3.T2.2.2.4.2" class="ltx_tr">
<th id="S3.T2.2.2.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">PV-RCNN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>
</th>
<td id="S3.T2.2.2.4.2.2" class="ltx_td ltx_align_center ltx_border_t">70.30</td>
<td id="S3.T2.2.2.4.2.3" class="ltx_td ltx_align_center ltx_border_t">91.92</td>
<td id="S3.T2.2.2.4.2.4" class="ltx_td ltx_align_center ltx_border_t">69.21</td>
<td id="S3.T2.2.2.4.2.5" class="ltx_td ltx_align_center ltx_border_t">42.17</td>
</tr>
<tr id="S3.T2.2.2.5.3" class="ltx_tr">
<th id="S3.T2.2.2.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Voxel-RCNN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>
</th>
<td id="S3.T2.2.2.5.3.2" class="ltx_td ltx_align_center">75.59</td>
<td id="S3.T2.2.2.5.3.3" class="ltx_td ltx_align_center">92.49</td>
<td id="S3.T2.2.2.5.3.4" class="ltx_td ltx_align_center">74.09</td>
<td id="S3.T2.2.2.5.3.5" class="ltx_td ltx_align_center">53.15</td>
</tr>
<tr id="S3.T2.2.2.6.4" class="ltx_tr">
<th id="S3.T2.2.2.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">VoTR-TSD<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>
</th>
<td id="S3.T2.2.2.6.4.2" class="ltx_td ltx_align_center">74.95</td>
<td id="S3.T2.2.2.6.4.3" class="ltx_td ltx_align_center">92.28</td>
<td id="S3.T2.2.2.6.4.4" class="ltx_td ltx_align_center">73.36</td>
<td id="S3.T2.2.2.6.4.5" class="ltx_td ltx_align_center">51.09</td>
</tr>
<tr id="S3.T2.2.2.7.5" class="ltx_tr">
<th id="S3.T2.2.2.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">CT3D<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>
</th>
<td id="S3.T2.2.2.7.5.2" class="ltx_td ltx_align_center">76.30</td>
<td id="S3.T2.2.2.7.5.3" class="ltx_td ltx_align_center">92.51</td>
<td id="S3.T2.2.2.7.5.4" class="ltx_td ltx_align_center">75.07</td>
<td id="S3.T2.2.2.7.5.5" class="ltx_td ltx_align_center">55.36</td>
</tr>
<tr id="S3.T2.2.2.8.6" class="ltx_tr">
<th id="S3.T2.2.2.8.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Pyramid_PV<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>
</th>
<td id="S3.T2.2.2.8.6.2" class="ltx_td ltx_align_center">76.30</td>
<td id="S3.T2.2.2.8.6.3" class="ltx_td ltx_align_center">92.67</td>
<td id="S3.T2.2.2.8.6.4" class="ltx_td ltx_align_center">74.91</td>
<td id="S3.T2.2.2.8.6.5" class="ltx_td ltx_align_center">54.54</td>
</tr>
<tr id="S3.T2.2.2.9.7" class="ltx_tr">
<th id="S3.T2.2.2.9.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PDV<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>
</th>
<td id="S3.T2.2.2.9.7.2" class="ltx_td ltx_align_center">76.85</td>
<td id="S3.T2.2.2.9.7.3" class="ltx_td ltx_align_center"><span id="S3.T2.2.2.9.7.3.1" class="ltx_text ltx_font_bold">93.13</span></td>
<td id="S3.T2.2.2.9.7.4" class="ltx_td ltx_align_center">75.49</td>
<td id="S3.T2.2.2.9.7.5" class="ltx_td ltx_align_center">54.75</td>
</tr>
<tr id="S3.T2.2.2.10.8" class="ltx_tr">
<th id="S3.T2.2.2.10.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">VoxSeT<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>
</th>
<td id="S3.T2.2.2.10.8.2" class="ltx_td ltx_align_center">77.82</td>
<td id="S3.T2.2.2.10.8.3" class="ltx_td ltx_align_center">92.78</td>
<td id="S3.T2.2.2.10.8.4" class="ltx_td ltx_align_center">77.21</td>
<td id="S3.T2.2.2.10.8.5" class="ltx_td ltx_align_center">54.41</td>
</tr>
<tr id="S3.T2.2.2.11.9" class="ltx_tr">
<th id="S3.T2.2.2.11.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Ours</th>
<td id="S3.T2.2.2.11.9.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.2.2.11.9.2.1" class="ltx_text ltx_font_bold">78.82</span></td>
<td id="S3.T2.2.2.11.9.3" class="ltx_td ltx_align_center ltx_border_t">92.99</td>
<td id="S3.T2.2.2.11.9.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.2.2.11.9.4.1" class="ltx_text ltx_font_bold">77.66</span></td>
<td id="S3.T2.2.2.11.9.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.2.2.11.9.5.1" class="ltx_text ltx_font_bold">58.02</span></td>
</tr>
<tr id="S3.T2.2.2.2" class="ltx_tr">
<th id="S3.T2.2.2.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S3.T2.2.2.2.2.1" class="ltx_text ltx_font_bold">Model</span></th>
<td id="S3.T2.2.2.2.1" class="ltx_td ltx_align_center ltx_border_tt" colspan="4"><span id="S3.T2.2.2.2.1.1" class="ltx_text ltx_font_bold">mAP<sub id="S3.T2.2.2.2.1.1.1" class="ltx_sub"><span id="S3.T2.2.2.2.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">3D</span></sub> (L2)@Vehicle</span></td>
</tr>
<tr id="S3.T2.2.2.12.10" class="ltx_tr">
<td id="S3.T2.2.2.12.10.1" class="ltx_td ltx_align_center"><span id="S3.T2.2.2.12.10.1.1" class="ltx_text ltx_font_bold">Overall</span></td>
<td id="S3.T2.2.2.12.10.2" class="ltx_td ltx_align_center"><span id="S3.T2.2.2.12.10.2.1" class="ltx_text ltx_font_bold">0-30m</span></td>
<td id="S3.T2.2.2.12.10.3" class="ltx_td ltx_align_center"><span id="S3.T2.2.2.12.10.3.1" class="ltx_text ltx_font_bold">30-50m</span></td>
<td id="S3.T2.2.2.12.10.4" class="ltx_td ltx_align_center"><span id="S3.T2.2.2.12.10.4.1" class="ltx_text ltx_font_bold">50m-inf</span></td>
</tr>
<tr id="S3.T2.2.2.13.11" class="ltx_tr">
<th id="S3.T2.2.2.13.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">PV-RCNN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>
</th>
<td id="S3.T2.2.2.13.11.2" class="ltx_td ltx_align_center ltx_border_t">65.36</td>
<td id="S3.T2.2.2.13.11.3" class="ltx_td ltx_align_center ltx_border_t">91.58</td>
<td id="S3.T2.2.2.13.11.4" class="ltx_td ltx_align_center ltx_border_t">65.13</td>
<td id="S3.T2.2.2.13.11.5" class="ltx_td ltx_align_center ltx_border_t">36.46</td>
</tr>
<tr id="S3.T2.2.2.14.12" class="ltx_tr">
<th id="S3.T2.2.2.14.12.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Voxel-RCNN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>
</th>
<td id="S3.T2.2.2.14.12.2" class="ltx_td ltx_align_center">66.59</td>
<td id="S3.T2.2.2.14.12.3" class="ltx_td ltx_align_center">91.74</td>
<td id="S3.T2.2.2.14.12.4" class="ltx_td ltx_align_center">67.89</td>
<td id="S3.T2.2.2.14.12.5" class="ltx_td ltx_align_center">40.80</td>
</tr>
<tr id="S3.T2.2.2.15.13" class="ltx_tr">
<th id="S3.T2.2.2.15.13.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">CT3D<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>
</th>
<td id="S3.T2.2.2.15.13.2" class="ltx_td ltx_align_center">69.04</td>
<td id="S3.T2.2.2.15.13.3" class="ltx_td ltx_align_center">91.76</td>
<td id="S3.T2.2.2.15.13.4" class="ltx_td ltx_align_center">68.93</td>
<td id="S3.T2.2.2.15.13.5" class="ltx_td ltx_align_center">42.60</td>
</tr>
<tr id="S3.T2.2.2.16.14" class="ltx_tr">
<th id="S3.T2.2.2.16.14.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PDV<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>
</th>
<td id="S3.T2.2.2.16.14.2" class="ltx_td ltx_align_center">69.30</td>
<td id="S3.T2.2.2.16.14.3" class="ltx_td ltx_align_center"><span id="S3.T2.2.2.16.14.3.1" class="ltx_text ltx_font_bold">92.41</span></td>
<td id="S3.T2.2.2.16.14.4" class="ltx_td ltx_align_center">69.36</td>
<td id="S3.T2.2.2.16.14.5" class="ltx_td ltx_align_center">42.16</td>
</tr>
<tr id="S3.T2.2.2.17.15" class="ltx_tr">
<th id="S3.T2.2.2.17.15.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">VoxSeT<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>
</th>
<td id="S3.T2.2.2.17.15.2" class="ltx_td ltx_align_center">70.21</td>
<td id="S3.T2.2.2.17.15.3" class="ltx_td ltx_align_center">92.05</td>
<td id="S3.T2.2.2.17.15.4" class="ltx_td ltx_align_center">70.10</td>
<td id="S3.T2.2.2.17.15.5" class="ltx_td ltx_align_center">43.20</td>
</tr>
<tr id="S3.T2.2.2.18.16" class="ltx_tr">
<th id="S3.T2.2.2.18.16.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t">Ours</th>
<td id="S3.T2.2.2.18.16.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T2.2.2.18.16.2.1" class="ltx_text ltx_font_bold">70.50</span></td>
<td id="S3.T2.2.2.18.16.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">91.78</td>
<td id="S3.T2.2.2.18.16.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T2.2.2.18.16.4.1" class="ltx_text ltx_font_bold">71.28</span></td>
<td id="S3.T2.2.2.18.16.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T2.2.2.18.16.5.1" class="ltx_text ltx_font_bold">45.46</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T2.5.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="S3.T2.6.2" class="ltx_text" style="font-size:90%;">Results on the WOD <span id="S3.T2.6.2.1" class="ltx_text ltx_font_italic">validation</span> set in different ranges for vehicle detection.</span></figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">We evaluate the proposed OcTr network on the Waymo Open Dataset (WOD) and KITTI dataset, both of which are popular in 3D object detection. In this section, we introduce the benchmarks and implementation details, make comparison to the previous state-of-the-art counterparts, and ablate the key designs of OcTr.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Datasets and Implementation Details</h3>

<figure id="S4.T3" class="ltx_table">
<div id="S4.T3.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:372.6pt;height:95.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-59.7pt,15.3pt) scale(0.75723024297496,0.75723024297496) ;">
<table id="S4.T3.3.3" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T3.3.3.3" class="ltx_tr">
<th id="S4.T3.3.3.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S4.T3.3.3.3.4.1" class="ltx_text ltx_font_bold">Model</span></th>
<th id="S4.T3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="3"><span id="S4.T3.1.1.1.1.1" class="ltx_text ltx_font_bold">mAP<sub id="S4.T3.1.1.1.1.1.1" class="ltx_sub"><span id="S4.T3.1.1.1.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">3D</span></sub>@Car</span></th>
<th id="S4.T3.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="3"><span id="S4.T3.2.2.2.2.1" class="ltx_text ltx_font_bold">mAP<sub id="S4.T3.2.2.2.2.1.1" class="ltx_sub"><span id="S4.T3.2.2.2.2.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">3D</span></sub>@Pedestrian</span></th>
<th id="S4.T3.3.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T3.3.3.3.3.1" class="ltx_text ltx_font_bold">mAP<sub id="S4.T3.3.3.3.3.1.1" class="ltx_sub"><span id="S4.T3.3.3.3.3.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">3D</span></sub>@Cyclist</span></th>
</tr>
<tr id="S4.T3.3.3.4.1" class="ltx_tr">
<th id="S4.T3.3.3.4.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.3.3.4.1.1.1" class="ltx_text ltx_font_bold">Easy</span></th>
<th id="S4.T3.3.3.4.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.3.3.4.1.2.1" class="ltx_text ltx_font_bold">Mod.</span></th>
<th id="S4.T3.3.3.4.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S4.T3.3.3.4.1.3.1" class="ltx_text ltx_font_bold">Hard</span></th>
<th id="S4.T3.3.3.4.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.3.3.4.1.4.1" class="ltx_text ltx_font_bold">Easy</span></th>
<th id="S4.T3.3.3.4.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.3.3.4.1.5.1" class="ltx_text ltx_font_bold">Mod.</span></th>
<th id="S4.T3.3.3.4.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S4.T3.3.3.4.1.6.1" class="ltx_text ltx_font_bold">Hard</span></th>
<th id="S4.T3.3.3.4.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.3.3.4.1.7.1" class="ltx_text ltx_font_bold">Easy</span></th>
<th id="S4.T3.3.3.4.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.3.3.4.1.8.1" class="ltx_text ltx_font_bold">Mod.</span></th>
<th id="S4.T3.3.3.4.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.3.3.4.1.9.1" class="ltx_text ltx_font_bold">Hard</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T3.3.3.5.1" class="ltx_tr">
<th id="S4.T3.3.3.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">SECOND<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</th>
<td id="S4.T3.3.3.5.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.3.3.5.1.2.1" class="ltx_text ltx_font_bold">88.61</span></td>
<td id="S4.T3.3.3.5.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.3.3.5.1.3.1" class="ltx_text ltx_font_bold">78.62</span></td>
<td id="S4.T3.3.3.5.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.3.3.5.1.4.1" class="ltx_text ltx_font_bold">77.22</span></td>
<td id="S4.T3.3.3.5.1.5" class="ltx_td ltx_align_center ltx_border_t">56.55</td>
<td id="S4.T3.3.3.5.1.6" class="ltx_td ltx_align_center ltx_border_t">52.98</td>
<td id="S4.T3.3.3.5.1.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">47.73</td>
<td id="S4.T3.3.3.5.1.8" class="ltx_td ltx_align_center ltx_border_t">80.58</td>
<td id="S4.T3.3.3.5.1.9" class="ltx_td ltx_align_center ltx_border_t">67.15</td>
<td id="S4.T3.3.3.5.1.10" class="ltx_td ltx_align_center ltx_border_t">63.10</td>
</tr>
<tr id="S4.T3.3.3.6.2" class="ltx_tr">
<th id="S4.T3.3.3.6.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PointPillars<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>
</th>
<td id="S4.T3.3.3.6.2.2" class="ltx_td ltx_align_center">88.46</td>
<td id="S4.T3.3.3.6.2.3" class="ltx_td ltx_align_center">77.28</td>
<td id="S4.T3.3.3.6.2.4" class="ltx_td ltx_align_center ltx_border_r">74.65</td>
<td id="S4.T3.3.3.6.2.5" class="ltx_td ltx_align_center">57.75</td>
<td id="S4.T3.3.3.6.2.6" class="ltx_td ltx_align_center">52.29</td>
<td id="S4.T3.3.3.6.2.7" class="ltx_td ltx_align_center ltx_border_r">47.90</td>
<td id="S4.T3.3.3.6.2.8" class="ltx_td ltx_align_center">80.04</td>
<td id="S4.T3.3.3.6.2.9" class="ltx_td ltx_align_center">62.61</td>
<td id="S4.T3.3.3.6.2.10" class="ltx_td ltx_align_center">59.52</td>
</tr>
<tr id="S4.T3.3.3.7.3" class="ltx_tr">
<th id="S4.T3.3.3.7.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">VoTR<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>
</th>
<td id="S4.T3.3.3.7.3.2" class="ltx_td ltx_align_center">87.86</td>
<td id="S4.T3.3.3.7.3.3" class="ltx_td ltx_align_center">78.27</td>
<td id="S4.T3.3.3.7.3.4" class="ltx_td ltx_align_center ltx_border_r">76.93</td>
<td id="S4.T3.3.3.7.3.5" class="ltx_td ltx_align_center">-</td>
<td id="S4.T3.3.3.7.3.6" class="ltx_td ltx_align_center">-</td>
<td id="S4.T3.3.3.7.3.7" class="ltx_td ltx_align_center ltx_border_r">-</td>
<td id="S4.T3.3.3.7.3.8" class="ltx_td ltx_align_center">-</td>
<td id="S4.T3.3.3.7.3.9" class="ltx_td ltx_align_center">-</td>
<td id="S4.T3.3.3.7.3.10" class="ltx_td ltx_align_center">-</td>
</tr>
<tr id="S4.T3.3.3.8.4" class="ltx_tr">
<th id="S4.T3.3.3.8.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">VoxSeT<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>
</th>
<td id="S4.T3.3.3.8.4.2" class="ltx_td ltx_align_center">88.45</td>
<td id="S4.T3.3.3.8.4.3" class="ltx_td ltx_align_center">78.48</td>
<td id="S4.T3.3.3.8.4.4" class="ltx_td ltx_align_center ltx_border_r">77.07</td>
<td id="S4.T3.3.3.8.4.5" class="ltx_td ltx_align_center">60.62</td>
<td id="S4.T3.3.3.8.4.6" class="ltx_td ltx_align_center">54.74</td>
<td id="S4.T3.3.3.8.4.7" class="ltx_td ltx_align_center ltx_border_r">50.39</td>
<td id="S4.T3.3.3.8.4.8" class="ltx_td ltx_align_center">84.07</td>
<td id="S4.T3.3.3.8.4.9" class="ltx_td ltx_align_center">68.11</td>
<td id="S4.T3.3.3.8.4.10" class="ltx_td ltx_align_center">65.14</td>
</tr>
<tr id="S4.T3.3.3.9.5" class="ltx_tr">
<th id="S4.T3.3.3.9.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t">Ours</th>
<td id="S4.T3.3.3.9.5.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">88.43</td>
<td id="S4.T3.3.3.9.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">78.57</td>
<td id="S4.T3.3.3.9.5.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">77.16</td>
<td id="S4.T3.3.3.9.5.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.3.3.9.5.5.1" class="ltx_text ltx_font_bold">61.49</span></td>
<td id="S4.T3.3.3.9.5.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.3.3.9.5.6.1" class="ltx_text ltx_font_bold">57.17</span></td>
<td id="S4.T3.3.3.9.5.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T3.3.3.9.5.7.1" class="ltx_text ltx_font_bold">52.35</span></td>
<td id="S4.T3.3.3.9.5.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.3.3.9.5.8.1" class="ltx_text ltx_font_bold">85.29</span></td>
<td id="S4.T3.3.3.9.5.9" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.3.3.9.5.9.1" class="ltx_text ltx_font_bold">70.44</span></td>
<td id="S4.T3.3.3.9.5.10" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.3.3.9.5.10.1" class="ltx_text ltx_font_bold">66.17</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T3.6.1.1" class="ltx_text" style="font-size:90%;">Table 3</span>: </span><span id="S4.T3.7.2" class="ltx_text" style="font-size:90%;">Results of the single-stage models on the KITTI <span id="S4.T3.7.2.1" class="ltx_text ltx_font_italic">val</span> set. All the models adopt the same anchor-based region proposal network as the detection head. “Mod.” denotes the moderate difficulty level.</span></figcaption>
</figure>
<figure id="S4.T4" class="ltx_table">
<div id="S4.T4.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:347.8pt;height:190.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-56.2pt,30.8pt) scale(0.755898216950437,0.755898216950437) ;">
<table id="S4.T4.2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.2.2.2" class="ltx_tr">
<th id="S4.T4.2.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S4.T4.2.2.2.3.1" class="ltx_text ltx_font_bold">Model</span></th>
<th id="S4.T4.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="4"><span id="S4.T4.1.1.1.1.1" class="ltx_text ltx_font_bold">mAP<sub id="S4.T4.1.1.1.1.1.1" class="ltx_sub"><span id="S4.T4.1.1.1.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">3D</span></sub>@Car on test</span></th>
<th id="S4.T4.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4"><span id="S4.T4.2.2.2.2.1" class="ltx_text ltx_font_bold">mAP<sub id="S4.T4.2.2.2.2.1.1" class="ltx_sub"><span id="S4.T4.2.2.2.2.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">3D</span></sub>@Car on val</span></th>
</tr>
<tr id="S4.T4.2.2.3.1" class="ltx_tr">
<th id="S4.T4.2.2.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T4.2.2.3.1.1.1" class="ltx_text ltx_font_bold">Easy</span></th>
<th id="S4.T4.2.2.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T4.2.2.3.1.2.1" class="ltx_text ltx_font_bold">Mod.</span></th>
<th id="S4.T4.2.2.3.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T4.2.2.3.1.3.1" class="ltx_text ltx_font_bold">Hard</span></th>
<th id="S4.T4.2.2.3.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S4.T4.2.2.3.1.4.1" class="ltx_text ltx_font_bold">Mean</span></th>
<th id="S4.T4.2.2.3.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T4.2.2.3.1.5.1" class="ltx_text ltx_font_bold">Easy</span></th>
<th id="S4.T4.2.2.3.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T4.2.2.3.1.6.1" class="ltx_text ltx_font_bold">Mod.</span></th>
<th id="S4.T4.2.2.3.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T4.2.2.3.1.7.1" class="ltx_text ltx_font_bold">Hard</span></th>
<th id="S4.T4.2.2.3.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T4.2.2.3.1.8.1" class="ltx_text ltx_font_bold">Mean</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.2.2.4.1" class="ltx_tr">
<th id="S4.T4.2.2.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">SECOND<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</th>
<td id="S4.T4.2.2.4.1.2" class="ltx_td ltx_align_center ltx_border_t">83.34</td>
<td id="S4.T4.2.2.4.1.3" class="ltx_td ltx_align_center ltx_border_t">72.55</td>
<td id="S4.T4.2.2.4.1.4" class="ltx_td ltx_align_center ltx_border_t">65.82</td>
<td id="S4.T4.2.2.4.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">73.90</td>
<td id="S4.T4.2.2.4.1.6" class="ltx_td ltx_align_center ltx_border_t">88.61</td>
<td id="S4.T4.2.2.4.1.7" class="ltx_td ltx_align_center ltx_border_t">78.62</td>
<td id="S4.T4.2.2.4.1.8" class="ltx_td ltx_align_center ltx_border_t">77.22</td>
<td id="S4.T4.2.2.4.1.9" class="ltx_td ltx_align_center ltx_border_t">81.48</td>
</tr>
<tr id="S4.T4.2.2.5.2" class="ltx_tr">
<th id="S4.T4.2.2.5.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PointPillars<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>
</th>
<td id="S4.T4.2.2.5.2.2" class="ltx_td ltx_align_center">82.58</td>
<td id="S4.T4.2.2.5.2.3" class="ltx_td ltx_align_center">74.31</td>
<td id="S4.T4.2.2.5.2.4" class="ltx_td ltx_align_center">68.99</td>
<td id="S4.T4.2.2.5.2.5" class="ltx_td ltx_align_center ltx_border_r">75.29</td>
<td id="S4.T4.2.2.5.2.6" class="ltx_td ltx_align_center">86.62</td>
<td id="S4.T4.2.2.5.2.7" class="ltx_td ltx_align_center">76.06</td>
<td id="S4.T4.2.2.5.2.8" class="ltx_td ltx_align_center">68.91</td>
<td id="S4.T4.2.2.5.2.9" class="ltx_td ltx_align_center">77.20</td>
</tr>
<tr id="S4.T4.2.2.6.3" class="ltx_tr">
<th id="S4.T4.2.2.6.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">STD<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib56" title="" class="ltx_ref">56</a>]</cite>
</th>
<td id="S4.T4.2.2.6.3.2" class="ltx_td ltx_align_center">87.95</td>
<td id="S4.T4.2.2.6.3.3" class="ltx_td ltx_align_center">79.71</td>
<td id="S4.T4.2.2.6.3.4" class="ltx_td ltx_align_center">75.09</td>
<td id="S4.T4.2.2.6.3.5" class="ltx_td ltx_align_center ltx_border_r">80.92</td>
<td id="S4.T4.2.2.6.3.6" class="ltx_td ltx_align_center">89.70</td>
<td id="S4.T4.2.2.6.3.7" class="ltx_td ltx_align_center">79.80</td>
<td id="S4.T4.2.2.6.3.8" class="ltx_td ltx_align_center"><span id="S4.T4.2.2.6.3.8.1" class="ltx_text ltx_font_bold">79.30</span></td>
<td id="S4.T4.2.2.6.3.9" class="ltx_td ltx_align_center">82.93</td>
</tr>
<tr id="S4.T4.2.2.7.4" class="ltx_tr">
<th id="S4.T4.2.2.7.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">SA-SSD<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>
</th>
<td id="S4.T4.2.2.7.4.2" class="ltx_td ltx_align_center">88.75</td>
<td id="S4.T4.2.2.7.4.3" class="ltx_td ltx_align_center">79.79</td>
<td id="S4.T4.2.2.7.4.4" class="ltx_td ltx_align_center">74.16</td>
<td id="S4.T4.2.2.7.4.5" class="ltx_td ltx_align_center ltx_border_r">80.90</td>
<td id="S4.T4.2.2.7.4.6" class="ltx_td ltx_align_center"><span id="S4.T4.2.2.7.4.6.1" class="ltx_text ltx_font_bold">90.15</span></td>
<td id="S4.T4.2.2.7.4.7" class="ltx_td ltx_align_center">79.91</td>
<td id="S4.T4.2.2.7.4.8" class="ltx_td ltx_align_center">78.78</td>
<td id="S4.T4.2.2.7.4.9" class="ltx_td ltx_align_center">82.95</td>
</tr>
<tr id="S4.T4.2.2.8.5" class="ltx_tr">
<th id="S4.T4.2.2.8.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">3DSSD<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>
</th>
<td id="S4.T4.2.2.8.5.2" class="ltx_td ltx_align_center">88.36</td>
<td id="S4.T4.2.2.8.5.3" class="ltx_td ltx_align_center">79.57</td>
<td id="S4.T4.2.2.8.5.4" class="ltx_td ltx_align_center">74.55</td>
<td id="S4.T4.2.2.8.5.5" class="ltx_td ltx_align_center ltx_border_r">80.83</td>
<td id="S4.T4.2.2.8.5.6" class="ltx_td ltx_align_center">89.71</td>
<td id="S4.T4.2.2.8.5.7" class="ltx_td ltx_align_center">79.45</td>
<td id="S4.T4.2.2.8.5.8" class="ltx_td ltx_align_center">78.67</td>
<td id="S4.T4.2.2.8.5.9" class="ltx_td ltx_align_center">82.61</td>
</tr>
<tr id="S4.T4.2.2.9.6" class="ltx_tr">
<th id="S4.T4.2.2.9.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PV-RCNN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>
</th>
<td id="S4.T4.2.2.9.6.2" class="ltx_td ltx_align_center">90.25</td>
<td id="S4.T4.2.2.9.6.3" class="ltx_td ltx_align_center">81.43</td>
<td id="S4.T4.2.2.9.6.4" class="ltx_td ltx_align_center">76.82</td>
<td id="S4.T4.2.2.9.6.5" class="ltx_td ltx_align_center ltx_border_r">82.83</td>
<td id="S4.T4.2.2.9.6.6" class="ltx_td ltx_align_center">89.35</td>
<td id="S4.T4.2.2.9.6.7" class="ltx_td ltx_align_center">83.69</td>
<td id="S4.T4.2.2.9.6.8" class="ltx_td ltx_align_center">78.70</td>
<td id="S4.T4.2.2.9.6.9" class="ltx_td ltx_align_center">83.91</td>
</tr>
<tr id="S4.T4.2.2.10.7" class="ltx_tr">
<th id="S4.T4.2.2.10.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Voxel-RCNN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>
</th>
<td id="S4.T4.2.2.10.7.2" class="ltx_td ltx_align_center"><span id="S4.T4.2.2.10.7.2.1" class="ltx_text ltx_font_bold">90.90</span></td>
<td id="S4.T4.2.2.10.7.3" class="ltx_td ltx_align_center">81.62</td>
<td id="S4.T4.2.2.10.7.4" class="ltx_td ltx_align_center">77.06</td>
<td id="S4.T4.2.2.10.7.5" class="ltx_td ltx_align_center ltx_border_r">83.19</td>
<td id="S4.T4.2.2.10.7.6" class="ltx_td ltx_align_center">89.41</td>
<td id="S4.T4.2.2.10.7.7" class="ltx_td ltx_align_center">84.52</td>
<td id="S4.T4.2.2.10.7.8" class="ltx_td ltx_align_center">78.93</td>
<td id="S4.T4.2.2.10.7.9" class="ltx_td ltx_align_center">84.29</td>
</tr>
<tr id="S4.T4.2.2.11.8" class="ltx_tr">
<th id="S4.T4.2.2.11.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">CT3D<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>
</th>
<td id="S4.T4.2.2.11.8.2" class="ltx_td ltx_align_center">87.83</td>
<td id="S4.T4.2.2.11.8.3" class="ltx_td ltx_align_center">81.77</td>
<td id="S4.T4.2.2.11.8.4" class="ltx_td ltx_align_center">77.16</td>
<td id="S4.T4.2.2.11.8.5" class="ltx_td ltx_align_center ltx_border_r">82.25</td>
<td id="S4.T4.2.2.11.8.6" class="ltx_td ltx_align_center">89.54</td>
<td id="S4.T4.2.2.11.8.7" class="ltx_td ltx_align_center">86.06</td>
<td id="S4.T4.2.2.11.8.8" class="ltx_td ltx_align_center">78.99</td>
<td id="S4.T4.2.2.11.8.9" class="ltx_td ltx_align_center"><span id="S4.T4.2.2.11.8.9.1" class="ltx_text ltx_framed ltx_framed_underline">84.86</span></td>
</tr>
<tr id="S4.T4.2.2.12.9" class="ltx_tr">
<th id="S4.T4.2.2.12.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">VoTR-TSD<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>
</th>
<td id="S4.T4.2.2.12.9.2" class="ltx_td ltx_align_center">89.90</td>
<td id="S4.T4.2.2.12.9.3" class="ltx_td ltx_align_center">82.09</td>
<td id="S4.T4.2.2.12.9.4" class="ltx_td ltx_align_center"><span id="S4.T4.2.2.12.9.4.1" class="ltx_text ltx_font_bold">79.14</span></td>
<td id="S4.T4.2.2.12.9.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.2.2.12.9.5.1" class="ltx_text ltx_framed ltx_framed_underline">83.71</span></td>
<td id="S4.T4.2.2.12.9.6" class="ltx_td ltx_align_center">89.04</td>
<td id="S4.T4.2.2.12.9.7" class="ltx_td ltx_align_center">84.04</td>
<td id="S4.T4.2.2.12.9.8" class="ltx_td ltx_align_center">78.68</td>
<td id="S4.T4.2.2.12.9.9" class="ltx_td ltx_align_center">83.92</td>
</tr>
<tr id="S4.T4.2.2.13.10" class="ltx_tr">
<th id="S4.T4.2.2.13.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">VoxSeT<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>
</th>
<td id="S4.T4.2.2.13.10.2" class="ltx_td ltx_align_center">88.53</td>
<td id="S4.T4.2.2.13.10.3" class="ltx_td ltx_align_center">82.06</td>
<td id="S4.T4.2.2.13.10.4" class="ltx_td ltx_align_center">77.46</td>
<td id="S4.T4.2.2.13.10.5" class="ltx_td ltx_align_center ltx_border_r">82.68</td>
<td id="S4.T4.2.2.13.10.6" class="ltx_td ltx_align_center">89.21</td>
<td id="S4.T4.2.2.13.10.7" class="ltx_td ltx_align_center"><span id="S4.T4.2.2.13.10.7.1" class="ltx_text ltx_framed ltx_framed_underline">86.71</span></td>
<td id="S4.T4.2.2.13.10.8" class="ltx_td ltx_align_center">78.56</td>
<td id="S4.T4.2.2.13.10.9" class="ltx_td ltx_align_center">84.83</td>
</tr>
<tr id="S4.T4.2.2.14.11" class="ltx_tr">
<th id="S4.T4.2.2.14.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Focals Conv<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>
</th>
<td id="S4.T4.2.2.14.11.2" class="ltx_td ltx_align_center">90.55</td>
<td id="S4.T4.2.2.14.11.3" class="ltx_td ltx_align_center"><span id="S4.T4.2.2.14.11.3.1" class="ltx_text ltx_framed ltx_framed_underline">82.28</span></td>
<td id="S4.T4.2.2.14.11.4" class="ltx_td ltx_align_center">77.59</td>
<td id="S4.T4.2.2.14.11.5" class="ltx_td ltx_align_center ltx_border_r">83.47</td>
<td id="S4.T4.2.2.14.11.6" class="ltx_td ltx_align_center">89.52</td>
<td id="S4.T4.2.2.14.11.7" class="ltx_td ltx_align_center">84.93</td>
<td id="S4.T4.2.2.14.11.8" class="ltx_td ltx_align_center">79.18</td>
<td id="S4.T4.2.2.14.11.9" class="ltx_td ltx_align_center">84.54</td>
</tr>
<tr id="S4.T4.2.2.15.12" class="ltx_tr">
<th id="S4.T4.2.2.15.12.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t">Ours</th>
<td id="S4.T4.2.2.15.12.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T4.2.2.15.12.2.1" class="ltx_text ltx_framed ltx_framed_underline">90.88</span></td>
<td id="S4.T4.2.2.15.12.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T4.2.2.15.12.3.1" class="ltx_text ltx_font_bold">82.64</span></td>
<td id="S4.T4.2.2.15.12.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T4.2.2.15.12.4.1" class="ltx_text ltx_framed ltx_framed_underline">77.77</span></td>
<td id="S4.T4.2.2.15.12.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T4.2.2.15.12.5.1" class="ltx_text ltx_font_bold">83.76</span></td>
<td id="S4.T4.2.2.15.12.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T4.2.2.15.12.6.1" class="ltx_text ltx_framed ltx_framed_underline">89.80</span></td>
<td id="S4.T4.2.2.15.12.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T4.2.2.15.12.7.1" class="ltx_text ltx_font_bold">86.97</span></td>
<td id="S4.T4.2.2.15.12.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T4.2.2.15.12.8.1" class="ltx_text ltx_framed ltx_framed_underline">79.28</span></td>
<td id="S4.T4.2.2.15.12.9" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T4.2.2.15.12.9.1" class="ltx_text ltx_font_bold">85.35</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T4.8.1.1" class="ltx_text" style="font-size:90%;">Table 4</span>: </span><span id="S4.T4.9.2" class="ltx_text" style="font-size:90%;">Comparison to the state-of-the-art models on the KITTI <span id="S4.T4.9.2.1" class="ltx_text ltx_font_italic">test</span> and <span id="S4.T4.9.2.2" class="ltx_text ltx_font_italic">val</span> sets. “Mod.” and “Mean” denote the moderate difficulty level and the average mAP for the three levels, respectively. The best results are <span id="S4.T4.9.2.3" class="ltx_text ltx_font_bold">bolded</span> and the second best ones are <span id="S4.T4.9.2.4" class="ltx_text ltx_framed ltx_framed_underline">underlined</span>.</span></figcaption>
</figure>
<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">WOD</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite> is a large dataset of autonomous driving scenes. It totally contains 798 training sequences with around 160K LiDAR samples and 202 validation sequences with 40K LiDAR samples, with the mean Average Precision (mAP) and mAP weighted by heading accuracy (mAPH) as evaluation metrics. There are also two levels of difficulty describing the sparsity in each bounding box, and LEVEL_1 (L1) and LEVEL_2 (L2) denote more than 5 points and 1-5 points, respectively. For detection performance along distance, it provides mAP/mAPH on 0-30m, 30m-50m and 50m-inf.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">KITTI</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> is a widely used benchmark for 3D object detection, which includes 3,712, 3,769 and 7,518 frames for training, validation and testing, respectively. mAP is used as the official metric with 11 recall points for the <span id="S4.SS1.p2.1.2" class="ltx_text ltx_font_italic">val</span> set and 40 for the <span id="S4.SS1.p2.1.3" class="ltx_text ltx_font_italic">test</span> set, and the IoU thresholds are set to 0.7, 0.5, and 0.5 for car, pedestrian and cyclist. We use the official setting in all experiments.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS1.p3.1" class="ltx_p"><span id="S4.SS1.p3.1.1" class="ltx_text ltx_font_bold">Implementation Details</span> The total loss for optimizing the overall two-stage detection is formulated as Eq. (<a href="#S4.E11" title="Equation 11 ‣ 4.1 Datasets and Implementation Details ‣ 4 Experiments ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>), where <math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{rcnn}" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><msub id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p3.1.m1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.2.cmml">ℒ</mi><mrow id="S4.SS1.p3.1.m1.1.1.3" xref="S4.SS1.p3.1.m1.1.1.3.cmml"><mi id="S4.SS1.p3.1.m1.1.1.3.2" xref="S4.SS1.p3.1.m1.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.1.m1.1.1.3.1" xref="S4.SS1.p3.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.SS1.p3.1.m1.1.1.3.3" xref="S4.SS1.p3.1.m1.1.1.3.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.1.m1.1.1.3.1a" xref="S4.SS1.p3.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.SS1.p3.1.m1.1.1.3.4" xref="S4.SS1.p3.1.m1.1.1.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.1.m1.1.1.3.1b" xref="S4.SS1.p3.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.SS1.p3.1.m1.1.1.3.5" xref="S4.SS1.p3.1.m1.1.1.3.5.cmml">n</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><apply id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.1.m1.1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p3.1.m1.1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.1.2">ℒ</ci><apply id="S4.SS1.p3.1.m1.1.1.3.cmml" xref="S4.SS1.p3.1.m1.1.1.3"><times id="S4.SS1.p3.1.m1.1.1.3.1.cmml" xref="S4.SS1.p3.1.m1.1.1.3.1"></times><ci id="S4.SS1.p3.1.m1.1.1.3.2.cmml" xref="S4.SS1.p3.1.m1.1.1.3.2">𝑟</ci><ci id="S4.SS1.p3.1.m1.1.1.3.3.cmml" xref="S4.SS1.p3.1.m1.1.1.3.3">𝑐</ci><ci id="S4.SS1.p3.1.m1.1.1.3.4.cmml" xref="S4.SS1.p3.1.m1.1.1.3.4">𝑛</ci><ci id="S4.SS1.p3.1.m1.1.1.3.5.cmml" xref="S4.SS1.p3.1.m1.1.1.3.5">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">\mathcal{L}_{rcnn}</annotation></semantics></math> can be omitted if there is no RoI head. Refer to <span id="S4.SS1.p3.1.2" class="ltx_text ltx_font_italic">Supp. A.1</span> for more information.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<table id="S4.E11" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S4.E11X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E11X.2.1.1.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{det}=\mathcal{L}_{rpn}+\mathcal{L}_{rcnn}+\mathcal{L}_{seg}." display="inline"><semantics id="S4.E11X.2.1.1.m1.1a"><mrow id="S4.E11X.2.1.1.m1.1.1.1" xref="S4.E11X.2.1.1.m1.1.1.1.1.cmml"><mrow id="S4.E11X.2.1.1.m1.1.1.1.1" xref="S4.E11X.2.1.1.m1.1.1.1.1.cmml"><msub id="S4.E11X.2.1.1.m1.1.1.1.1.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11X.2.1.1.m1.1.1.1.1.2.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.2.cmml">ℒ</mi><mrow id="S4.E11X.2.1.1.m1.1.1.1.1.2.3" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3.cmml"><mi id="S4.E11X.2.1.1.m1.1.1.1.1.2.3.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.E11X.2.1.1.m1.1.1.1.1.2.3.1" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.E11X.2.1.1.m1.1.1.1.1.2.3.3" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.E11X.2.1.1.m1.1.1.1.1.2.3.1a" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.E11X.2.1.1.m1.1.1.1.1.2.3.4" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3.4.cmml">t</mi></mrow></msub><mo id="S4.E11X.2.1.1.m1.1.1.1.1.1" xref="S4.E11X.2.1.1.m1.1.1.1.1.1.cmml">=</mo><mrow id="S4.E11X.2.1.1.m1.1.1.1.1.3" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.cmml"><msub id="S4.E11X.2.1.1.m1.1.1.1.1.3.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.2.cmml">ℒ</mi><mrow id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.cmml"><mi id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.1" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.3" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.1a" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.4" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.4.cmml">n</mi></mrow></msub><mo id="S4.E11X.2.1.1.m1.1.1.1.1.3.1" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.1.cmml">+</mo><msub id="S4.E11X.2.1.1.m1.1.1.1.1.3.3" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.2.cmml">ℒ</mi><mrow id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.cmml"><mi id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.1" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.1.cmml">​</mo><mi id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.3" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.1a" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.1.cmml">​</mo><mi id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.4" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.1b" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.1.cmml">​</mo><mi id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.5" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.5.cmml">n</mi></mrow></msub><mo id="S4.E11X.2.1.1.m1.1.1.1.1.3.1a" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.1.cmml">+</mo><msub id="S4.E11X.2.1.1.m1.1.1.1.1.3.4" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.2.cmml">ℒ</mi><mrow id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.cmml"><mi id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.1" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.1.cmml">​</mo><mi id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.3" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.1a" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.1.cmml">​</mo><mi id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.4" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.4.cmml">g</mi></mrow></msub></mrow></mrow><mo lspace="0em" id="S4.E11X.2.1.1.m1.1.1.1.2" xref="S4.E11X.2.1.1.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E11X.2.1.1.m1.1b"><apply id="S4.E11X.2.1.1.m1.1.1.1.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1"><eq id="S4.E11X.2.1.1.m1.1.1.1.1.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.1"></eq><apply id="S4.E11X.2.1.1.m1.1.1.1.1.2.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E11X.2.1.1.m1.1.1.1.1.2.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.2">subscript</csymbol><ci id="S4.E11X.2.1.1.m1.1.1.1.1.2.2.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.2">ℒ</ci><apply id="S4.E11X.2.1.1.m1.1.1.1.1.2.3.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3"><times id="S4.E11X.2.1.1.m1.1.1.1.1.2.3.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3.1"></times><ci id="S4.E11X.2.1.1.m1.1.1.1.1.2.3.2.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3.2">𝑑</ci><ci id="S4.E11X.2.1.1.m1.1.1.1.1.2.3.3.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3.3">𝑒</ci><ci id="S4.E11X.2.1.1.m1.1.1.1.1.2.3.4.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.2.3.4">𝑡</ci></apply></apply><apply id="S4.E11X.2.1.1.m1.1.1.1.1.3.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3"><plus id="S4.E11X.2.1.1.m1.1.1.1.1.3.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.1"></plus><apply id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.2.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.2">ℒ</ci><apply id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3"><times id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.1"></times><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.2.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.2">𝑟</ci><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.3.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.3">𝑝</ci><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.4.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.2.3.4">𝑛</ci></apply></apply><apply id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.2.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.2">ℒ</ci><apply id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3"><times id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.1"></times><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.2.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.2">𝑟</ci><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.3.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.3">𝑐</ci><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.4.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.4">𝑛</ci><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.5.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.3.3.5">𝑛</ci></apply></apply><apply id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4">subscript</csymbol><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.2.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.2">ℒ</ci><apply id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3"><times id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.1.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.1"></times><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.2.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.2">𝑠</ci><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.3.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.3">𝑒</ci><ci id="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.4.cmml" xref="S4.E11X.2.1.1.m1.1.1.1.1.3.4.3.4">𝑔</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E11X.2.1.1.m1.1c">\displaystyle\mathcal{L}_{det}=\mathcal{L}_{rpn}+\mathcal{L}_{rcnn}+\mathcal{L}_{seg}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(11)</span></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Results on WOD</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">The results on the <span id="S4.SS2.p1.1.1" class="ltx_text ltx_font_italic">validation</span> set are displayed in Tab. <a href="#S3.T1" title="Table 1 ‣ 3.4 Semantic Positional Embedding ‣ 3 Method ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, and it can be seen that we achieve new state-of-the-art performance on all the three classes. In particular, for pedestrian, we outperform the baseline model PV-RCNN++ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite> by 2.77%/2.56% in terms of both L1 and L2 mAP, which indicates the effectiveness of the proposed model in handling hard examples.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">In comparison with other Transformer-based models, we focus on vehicle since the counterparts only report the performance on it. As Tab. <a href="#S3.T2" title="Table 2 ‣ 3.4 Semantic Positional Embedding ‣ 3 Method ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows, our OcTr achieves the best mAP among all these convolution- and Transformer-based backbones. It also outperforms the Transformer-based detection head network CT3D <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> by 2.52% and 1.46% in L1 and L2 mAP. Regarding the accuracies at different distances, OcTr ranks the first place in the range of 30m-50m and 50m-inf, which surpasses the previous best by 0.45%, 2.66% in L1 mAP and 1.18%, 2.26% in L2 mAP respectively. It clearly illustrates that OcTr has the advantage in capturing long-range fine-grained context, which facilitates dealing with objects far away. Indeed, far objects generally have much more sparse points than near ones and heavily rely on context for detection, thus benefiting more from OcTr. Refer to Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.4 Ablation study ‣ 4 Experiments ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> for visualization.</p>
</div>
<figure id="S4.T5" class="ltx_table">
<div id="S4.T5.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:233.5pt;height:84.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-56.8pt,20.6pt) scale(0.672814280741463,0.672814280741463) ;">
<table id="S4.T5.2.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T5.2.1.1.1" class="ltx_tr">
<th id="S4.T5.2.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="S4.T5.2.1.1.1.1.1" class="ltx_text ltx_font_bold">Detector</span></th>
<th id="S4.T5.2.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T5.2.1.1.1.2.1" class="ltx_text ltx_font_bold">Veh. mAP (L1/L2)</span></th>
<th id="S4.T5.2.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T5.2.1.1.1.3.1" class="ltx_text ltx_font_bold">Pedes. mAP (L1/L2)</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T5.2.1.2.1" class="ltx_tr">
<th id="S4.T5.2.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">SECOND<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</th>
<td id="S4.T5.2.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">70.96/62.58</td>
<td id="S4.T5.2.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">65.23/57.22</td>
</tr>
<tr id="S4.T5.2.1.3.2" class="ltx_tr">
<th id="S4.T5.2.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Ours</th>
<td id="S4.T5.2.1.3.2.2" class="ltx_td ltx_align_center"><span id="S4.T5.2.1.3.2.2.1" class="ltx_text ltx_font_bold">73.28/65.05</span></td>
<td id="S4.T5.2.1.3.2.3" class="ltx_td ltx_align_center"><span id="S4.T5.2.1.3.2.3.1" class="ltx_text ltx_font_bold">68.08/60.36</span></td>
</tr>
<tr id="S4.T5.2.1.4.3" class="ltx_tr">
<th id="S4.T5.2.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">PV-RCNN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>
</th>
<td id="S4.T5.2.1.4.3.2" class="ltx_td ltx_align_center ltx_border_t">75.41/67.44</td>
<td id="S4.T5.2.1.4.3.3" class="ltx_td ltx_align_center ltx_border_t">71.98/63.70</td>
</tr>
<tr id="S4.T5.2.1.5.4" class="ltx_tr">
<th id="S4.T5.2.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Ours</th>
<td id="S4.T5.2.1.5.4.2" class="ltx_td ltx_align_center"><span id="S4.T5.2.1.5.4.2.1" class="ltx_text ltx_font_bold">76.77/68.31</span></td>
<td id="S4.T5.2.1.5.4.3" class="ltx_td ltx_align_center"><span id="S4.T5.2.1.5.4.3.1" class="ltx_text ltx_font_bold">73.22/64.30</span></td>
</tr>
<tr id="S4.T5.2.1.6.5" class="ltx_tr">
<th id="S4.T5.2.1.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">PV-RCNN++<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite>
</th>
<td id="S4.T5.2.1.6.5.2" class="ltx_td ltx_align_center ltx_border_t">77.82/69.07</td>
<td id="S4.T5.2.1.6.5.3" class="ltx_td ltx_align_center ltx_border_t">77.99/69.92</td>
</tr>
<tr id="S4.T5.2.1.7.6" class="ltx_tr">
<th id="S4.T5.2.1.7.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r">Ours</th>
<td id="S4.T5.2.1.7.6.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T5.2.1.7.6.2.1" class="ltx_text ltx_font_bold">78.01/69.60</span></td>
<td id="S4.T5.2.1.7.6.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T5.2.1.7.6.3.1" class="ltx_text ltx_font_bold">80.75/72.45</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T5.4.1.1" class="ltx_text" style="font-size:90%;">Table 5</span>: </span><span id="S4.T5.5.2" class="ltx_text" style="font-size:90%;">Results of extensions to different representative detectors on the WOD <span id="S4.T5.5.2.1" class="ltx_text ltx_font_italic">validation</span> set.</span></figcaption>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Results on KITTI</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">The performance of the single-stage detectors is shown in Tab. <a href="#S4.T3" title="Table 3 ‣ 4.1 Datasets and Implementation Details ‣ 4 Experiments ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. We take SECOND<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>, a commonly used anchor-based model, as the baseline, and compare OcTr with another two advanced Transformer-based variants VoxSet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> and VoTR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>. We can see that OcTr achieves comparable results with SECOND and VoxSeT in car, while it significantly outperforms all the counterparts and reports the best performance both in pedestrian and cyclist. Benefiting from the large receptive field and fine-grained global context, it exceeds SECOND by 4.19% and 3.29% for pedestrians and cyclists respectively, where hard samples often appear.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p">We summarize the performance of the two-stage models on the KITTI <span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_italic">test</span> set in Tab. <a href="#S4.T4" title="Table 4 ‣ 4.1 Datasets and Implementation Details ‣ 4 Experiments ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. With the help of the multi-scale backbone features and rich global context, OcTr reaches a leading mAP in car at the moderate level, surpassing the state-of-the-art Focals-Conv <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> by 0.36%. We also evaluate OcTr on the KITTI <span id="S4.SS3.p2.1.2" class="ltx_text ltx_font_italic">val</span> set, and OcTr again delivers the best performance in the average score, outperforming the second-best by 0.49%. One can observe that we rank the best or the second best in all the cases.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Ablation study</h3>

<figure id="S4.T6" class="ltx_table">
<div id="S4.T6.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:233.5pt;height:62.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-86.4pt,23.0pt) scale(0.574829681698277,0.574829681698277) ;">
<table id="S4.T6.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T6.1.1.2.1" class="ltx_tr">
<th id="S4.T6.1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="S4.T6.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Attention</span></th>
<th id="S4.T6.1.1.2.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T6.1.1.2.1.2.1" class="ltx_text ltx_font_bold">Veh. mAP (L1/L2)</span></th>
<th id="S4.T6.1.1.2.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T6.1.1.2.1.3.1" class="ltx_text ltx_font_bold">Pedes. mAP (L1/L2)</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T6.1.1.3.1" class="ltx_tr">
<th id="S4.T6.1.1.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">Ours (<span id="S4.T6.1.1.3.1.1.1" class="ltx_text ltx_font_italic">OctAttn</span>)</th>
<td id="S4.T6.1.1.3.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.1.1.3.1.2.1" class="ltx_text ltx_font_bold">73.3/65.1</span></td>
<td id="S4.T6.1.1.3.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.1.1.3.1.3.1" class="ltx_text ltx_font_bold">68.1/60.4</span></td>
</tr>
<tr id="S4.T6.1.1.4.2" class="ltx_tr">
<th id="S4.T6.1.1.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Performer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>
</th>
<td id="S4.T6.1.1.4.2.2" class="ltx_td ltx_align_center">71.4/63.6</td>
<td id="S4.T6.1.1.4.2.3" class="ltx_td ltx_align_center">65.7/57.9</td>
</tr>
<tr id="S4.T6.1.1.5.3" class="ltx_tr">
<th id="S4.T6.1.1.5.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">ACT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>
</th>
<td id="S4.T6.1.1.5.3.2" class="ltx_td ltx_align_center">71.7/63.5</td>
<td id="S4.T6.1.1.5.3.3" class="ltx_td ltx_align_center">64.3/56.1</td>
</tr>
<tr id="S4.T6.1.1.6.4" class="ltx_tr">
<th id="S4.T6.1.1.6.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">VoTr <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>
</th>
<td id="S4.T6.1.1.6.4.2" class="ltx_td ltx_align_center">69.4/61.5</td>
<td id="S4.T6.1.1.6.4.3" class="ltx_td ltx_align_center">65.0/57.0</td>
</tr>
<tr id="S4.T6.1.1.1" class="ltx_tr">
<th id="S4.T6.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r">Nearest <math id="S4.T6.1.1.1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.T6.1.1.1.1.m1.1a"><mi id="S4.T6.1.1.1.1.m1.1.1" xref="S4.T6.1.1.1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.T6.1.1.1.1.m1.1b"><ci id="S4.T6.1.1.1.1.m1.1.1.cmml" xref="S4.T6.1.1.1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.1.1.1.1.m1.1c">K</annotation></semantics></math>
</th>
<td id="S4.T6.1.1.1.2" class="ltx_td ltx_align_center ltx_border_bb">68.2/59.8</td>
<td id="S4.T6.1.1.1.3" class="ltx_td ltx_align_center ltx_border_bb">64.9/56.7</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T6.4.1.1" class="ltx_text" style="font-size:90%;">Table 6</span>: </span><span id="S4.T6.5.2" class="ltx_text" style="font-size:90%;">Ablation on various attention mechanisms and sampling patterns on the WOD <span id="S4.T6.5.2.1" class="ltx_text ltx_font_italic">validation</span> set.</span></figcaption>
</figure>
<figure id="S4.T7" class="ltx_table">
<div id="S4.T7.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:233.5pt;height:79.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-42.5pt,14.4pt) scale(0.733131207074697,0.733131207074697) ;">
<table id="S4.T7.2.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T7.2.1.1.1" class="ltx_tr">
<th id="S4.T7.2.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt"><span id="S4.T7.2.1.1.1.1.1" class="ltx_text ltx_font_bold">LEPE</span></th>
<th id="S4.T7.2.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T7.2.1.1.1.2.1" class="ltx_text ltx_font_bold">SAPE</span></th>
<th id="S4.T7.2.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S4.T7.2.1.1.1.3.1" class="ltx_text ltx_font_bold">SAM</span></th>
<th id="S4.T7.2.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T7.2.1.1.1.4.1" class="ltx_text ltx_font_bold">Veh. mAP (L1/L2)</span></th>
<th id="S4.T7.2.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T7.2.1.1.1.5.1" class="ltx_text ltx_font_bold">Pedes. mAP (L1/L2)</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T7.2.1.2.1" class="ltx_tr">
<th id="S4.T7.2.1.2.1.1" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<td id="S4.T7.2.1.2.1.2" class="ltx_td ltx_border_t"></td>
<td id="S4.T7.2.1.2.1.3" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T7.2.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t">71.35/63.30</td>
<td id="S4.T7.2.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t">65.75/57.89</td>
</tr>
<tr id="S4.T7.2.1.3.2" class="ltx_tr">
<th id="S4.T7.2.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<td id="S4.T7.2.1.3.2.2" class="ltx_td"></td>
<td id="S4.T7.2.1.3.2.3" class="ltx_td ltx_border_r"></td>
<td id="S4.T7.2.1.3.2.4" class="ltx_td ltx_align_center">72.34/64.32</td>
<td id="S4.T7.2.1.3.2.5" class="ltx_td ltx_align_center">66.56/58.62</td>
</tr>
<tr id="S4.T7.2.1.4.3" class="ltx_tr">
<th id="S4.T7.2.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<td id="S4.T7.2.1.4.3.2" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T7.2.1.4.3.3" class="ltx_td ltx_border_r"></td>
<td id="S4.T7.2.1.4.3.4" class="ltx_td ltx_align_center">72.64/64.46</td>
<td id="S4.T7.2.1.4.3.5" class="ltx_td ltx_align_center">66.62/58.83</td>
</tr>
<tr id="S4.T7.2.1.5.4" class="ltx_tr">
<th id="S4.T7.2.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<td id="S4.T7.2.1.5.4.2" class="ltx_td"></td>
<td id="S4.T7.2.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r">✓</td>
<td id="S4.T7.2.1.5.4.4" class="ltx_td ltx_align_center">72.86/64.40</td>
<td id="S4.T7.2.1.5.4.5" class="ltx_td ltx_align_center">67.79/59.90</td>
</tr>
<tr id="S4.T7.2.1.6.5" class="ltx_tr">
<th id="S4.T7.2.1.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">✓</th>
<td id="S4.T7.2.1.6.5.2" class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td id="S4.T7.2.1.6.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">✓</td>
<td id="S4.T7.2.1.6.5.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T7.2.1.6.5.4.1" class="ltx_text ltx_font_bold">73.28/65.05</span></td>
<td id="S4.T7.2.1.6.5.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T7.2.1.6.5.5.1" class="ltx_text ltx_font_bold">68.08/60.36</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T7.4.1.1" class="ltx_text" style="font-size:90%;">Table 7</span>: </span><span id="S4.T7.5.2" class="ltx_text" style="font-size:90%;">Ablation on semantic positional embedding on the WOD <span id="S4.T7.5.2.1" class="ltx_text ltx_font_italic">validation</span> set.</span></figcaption>
</figure>
<figure id="S4.T8" class="ltx_table">
<div id="S4.T8.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:233.5pt;height:76.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-20.9pt,6.8pt) scale(0.848081040734436,0.848081040734436) ;">
<table id="S4.T8.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T8.1.1.1" class="ltx_tr">
<th id="S4.T8.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="S4.T8.1.1.1.1.1" class="ltx_text ltx_font_bold">top<math id="S4.T8.1.1.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.T8.1.1.1.1.1.m1.1a"><mi id="S4.T8.1.1.1.1.1.m1.1.1" xref="S4.T8.1.1.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T8.1.1.1.1.1.m1.1b"><ci id="S4.T8.1.1.1.1.1.m1.1.1.cmml" xref="S4.T8.1.1.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T8.1.1.1.1.1.m1.1c">k</annotation></semantics></math> number</span></th>
<th id="S4.T8.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T8.1.1.1.2.1" class="ltx_text ltx_font_bold">Veh. mAP (L1/L2)</span></th>
<th id="S4.T8.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T8.1.1.1.3.1" class="ltx_text ltx_font_bold">Pedes. mAP (L1/L2)</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T8.1.1.2.1" class="ltx_tr">
<th id="S4.T8.1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">1</th>
<td id="S4.T8.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">70.38/62.20</td>
<td id="S4.T8.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">64.19/56.43</td>
</tr>
<tr id="S4.T8.1.1.3.2" class="ltx_tr">
<th id="S4.T8.1.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">4</th>
<td id="S4.T8.1.1.3.2.2" class="ltx_td ltx_align_center">72.58/64.42</td>
<td id="S4.T8.1.1.3.2.3" class="ltx_td ltx_align_center">66.21/58.42</td>
</tr>
<tr id="S4.T8.1.1.4.3" class="ltx_tr">
<th id="S4.T8.1.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">8</th>
<td id="S4.T8.1.1.4.3.2" class="ltx_td ltx_align_center"><span id="S4.T8.1.1.4.3.2.1" class="ltx_text ltx_font_bold">73.28/65.05</span></td>
<td id="S4.T8.1.1.4.3.3" class="ltx_td ltx_align_center"><span id="S4.T8.1.1.4.3.3.1" class="ltx_text ltx_font_bold">68.08/60.36</span></td>
</tr>
<tr id="S4.T8.1.1.5.4" class="ltx_tr">
<th id="S4.T8.1.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r">16</th>
<td id="S4.T8.1.1.5.4.2" class="ltx_td ltx_align_center ltx_border_bb">73.25/65.01</td>
<td id="S4.T8.1.1.5.4.3" class="ltx_td ltx_align_center ltx_border_bb">67.89/60.10</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T8.6.2.1" class="ltx_text" style="font-size:90%;">Table 8</span>: </span><span id="S4.T8.3.1" class="ltx_text" style="font-size:90%;">Results of different <math id="S4.T8.3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.T8.3.1.m1.1b"><mi id="S4.T8.3.1.m1.1.1" xref="S4.T8.3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T8.3.1.m1.1c"><ci id="S4.T8.3.1.m1.1.1.cmml" xref="S4.T8.3.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T8.3.1.m1.1d">k</annotation></semantics></math> values on the WOD <span id="S4.T8.3.1.1" class="ltx_text ltx_font_italic">validation</span> set.</span></figcaption>
</figure>
<figure id="S4.T9" class="ltx_table">
<div id="S4.T9.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:233.5pt;height:58.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-64.2pt,16.0pt) scale(0.645213848085069,0.645213848085069) ;">
<table id="S4.T9.2.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T9.2.1.1.1" class="ltx_tr">
<th id="S4.T9.2.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="S4.T9.2.1.1.1.1.1" class="ltx_text ltx_font_bold">Method</span></th>
<th id="S4.T9.2.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T9.2.1.1.1.2.1" class="ltx_text ltx_font_bold">#Param. (M)</span></th>
<th id="S4.T9.2.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T9.2.1.1.1.3.1" class="ltx_text ltx_font_bold">Latency (ms)</span></th>
<th id="S4.T9.2.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T9.2.1.1.1.4.1" class="ltx_text ltx_font_bold">Memory (GB)</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T9.2.1.2.1" class="ltx_tr">
<th id="S4.T9.2.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">SECOND<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</th>
<td id="S4.T9.2.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">5.3</td>
<td id="S4.T9.2.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">48</td>
<td id="S4.T9.2.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T9.2.1.2.1.4.1" class="ltx_text ltx_font_bold">2.3</span></td>
</tr>
<tr id="S4.T9.2.1.3.2" class="ltx_tr">
<th id="S4.T9.2.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">VoTR-SSD<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>
</th>
<td id="S4.T9.2.1.3.2.2" class="ltx_td ltx_align_center">4.8</td>
<td id="S4.T9.2.1.3.2.3" class="ltx_td ltx_align_center">67</td>
<td id="S4.T9.2.1.3.2.4" class="ltx_td ltx_align_center">3.0</td>
</tr>
<tr id="S4.T9.2.1.4.3" class="ltx_tr">
<th id="S4.T9.2.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">VoxSeT-SSD<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>
</th>
<td id="S4.T9.2.1.4.3.2" class="ltx_td ltx_align_center">3.0</td>
<td id="S4.T9.2.1.4.3.3" class="ltx_td ltx_align_center"><span id="S4.T9.2.1.4.3.3.1" class="ltx_text ltx_font_bold">37</span></td>
<td id="S4.T9.2.1.4.3.4" class="ltx_td ltx_align_center">3.6</td>
</tr>
<tr id="S4.T9.2.1.5.4" class="ltx_tr">
<th id="S4.T9.2.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">OcTr-SSD</th>
<td id="S4.T9.2.1.5.4.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T9.2.1.5.4.2.1" class="ltx_text ltx_font_bold">2.9</span></td>
<td id="S4.T9.2.1.5.4.3" class="ltx_td ltx_align_center ltx_border_bb">64</td>
<td id="S4.T9.2.1.5.4.4" class="ltx_td ltx_align_center ltx_border_bb">2.5</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T9.3.1.1" class="ltx_text" style="font-size:90%;">Table 9</span>: </span><span id="S4.T9.4.2" class="ltx_text" style="font-size:90%;">Resource costs of different backbones with single-stage detectors on the KITTI dataset, test on GTX2080Ti.</span></figcaption>
</figure>
<div id="S4.SS4.p1" class="ltx_para ltx_noindent">
<p id="S4.SS4.p1.1" class="ltx_p"><span id="S4.SS4.p1.1.1" class="ltx_text ltx_font_bold">Scalability on various detectors</span> As summarized in Tab. <a href="#S4.T5" title="Table 5 ‣ 4.2 Results on WOD ‣ 4 Experiments ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, we conduct experiments on three different and representative detectors, SECOND (single-stage, anchor-based), PV-RCNN (two-stage, anchor-based) and PV-RCNN++ (two-stage, anchor-free). Regardless of the number of stages or region proposal network, we acquire sound improvements compared to the baselines of the sparse convolution backbones, highlighting its scalability.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para ltx_noindent">
<p id="S4.SS4.p2.1" class="ltx_p"><span id="S4.SS4.p2.1.1" class="ltx_text ltx_font_bold">Ablation on <span id="S4.SS4.p2.1.1.1" class="ltx_text ltx_font_italic">OctAttn</span></span> We carry out additional experiments to make apple-to-apple comparison with several representative linear Transformer methods, including Performer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> (kernel-based linear attention), ACT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> (cluster-based linear attention), VoTr <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> (fixed patterns) and the Nearest-<math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><mi id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><ci id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">K</annotation></semantics></math> strategy. Tab. <a href="#S4.T6" title="Table 6 ‣ 4.4 Ablation study ‣ 4 Experiments ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> lists the results, and our <span id="S4.SS4.p2.1.2" class="ltx_text ltx_font_italic">OctAttn</span> clearly performs the best, showing its ability.</p>
</div>
<div id="S4.SS4.p3" class="ltx_para ltx_noindent">
<p id="S4.SS4.p3.1" class="ltx_p"><span id="S4.SS4.p3.1.1" class="ltx_text ltx_font_bold">Ablation on semantic positional embedding</span> We individually evaluate the contributions of LePE, SAPE and SAM with SECOND as the baseline detector on WOD in Tab. <a href="#S4.T7" title="Table 7 ‣ 4.4 Ablation study ‣ 4 Experiments ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>. By incorporating LePE, the L1/L2 performance is boosted by 0.99%/1.02% and 0.81%/0.73% on vehicle and pedestrian, illustrating its necessity. Furthermore, we separately verify the validity of SAPE and SAM. With semantic clues, we observe that SAPE increases by 0.3% L1 mAP on vehicle, while SAM provides an L1/L2 mAP improvement of 0.52%/0.08% and 1.23%/1.28% on vehicle and pedestrian. Finally, we simultaneously apply SAPE and SAM and construct the full model of OcTr, which gains 0.94%/0.73% and 1.52%/1.74% L1/L2 mAP on vehicle and pedestrian, showing its impact.</p>
</div>
<div id="S4.SS4.p4" class="ltx_para ltx_noindent">
<p id="S4.SS4.p4.3" class="ltx_p"><span id="S4.SS4.p4.1.1" class="ltx_text ltx_font_bold">Influence by top<math id="S4.SS4.p4.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS4.p4.1.1.m1.1a"><mi id="S4.SS4.p4.1.1.m1.1.1" xref="S4.SS4.p4.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.1.1.m1.1b"><ci id="S4.SS4.p4.1.1.m1.1.1.cmml" xref="S4.SS4.p4.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.1.1.m1.1c">k</annotation></semantics></math></span> Tab. <a href="#S4.T8" title="Table 8 ‣ 4.4 Ablation study ‣ 4 Experiments ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> shows the performance of OcTr with various values of <math id="S4.SS4.p4.2.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS4.p4.2.m1.1a"><mi id="S4.SS4.p4.2.m1.1.1" xref="S4.SS4.p4.2.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.2.m1.1b"><ci id="S4.SS4.p4.2.m1.1.1.cmml" xref="S4.SS4.p4.2.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.2.m1.1c">k</annotation></semantics></math>. As we can see, the performance improves when <math id="S4.SS4.p4.3.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS4.p4.3.m2.1a"><mi id="S4.SS4.p4.3.m2.1.1" xref="S4.SS4.p4.3.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.3.m2.1b"><ci id="S4.SS4.p4.3.m2.1.1.cmml" xref="S4.SS4.p4.3.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.3.m2.1c">k</annotation></semantics></math> becomes larger but quickly saturates. Due to the redundancy of the scanned scenes, we argue that only a few tokens with high relevance need to be subdivided to embrace fine-grained features.</p>
</div>
<div id="S4.SS4.p5" class="ltx_para ltx_noindent">
<p id="S4.SS4.p5.1" class="ltx_p"><span id="S4.SS4.p5.1.1" class="ltx_text ltx_font_bold">Analysis on model complexity</span> We compare OcTr with two recent Transformer-based models in terms of resource cost by keeping the same detection head. Tab. <a href="#S4.T9" title="Table 9 ‣ 4.4 Ablation study ‣ 4 Experiments ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> shows that with the learnable octree attention mechanism, OcTr consistently maintains less model parameters and less memory occupancies than the counterparts. Regarding the inference speed, VoxSeT runs faster, but it should be noted that VoxSeT inputs with pillars which discard the height dimension, leading to inferior results. As for VoTR, we deliver a mild improvement in efficiency while bringing a large gain in performance.</p>
</div>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2303.12621/assets/x5.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="248" height="191" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.3.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S4.F5.4.2" class="ltx_text" style="font-size:90%;">Visualization of results by OcTr on the WOD <span id="S4.F5.4.2.1" class="ltx_text ltx_font_italic">validation</span> split. Blue/red indicates predicted/ground-truth bounding boxes</span></figcaption>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">This paper proposes a novel voxel-based approach to 3D object detection, namely OcTr. It aims to balance the fine-grained global representation and efficiency with acceptable resource costs. To this end, we propose a learned sparsification attention mechanism, <span id="S5.p1.1.1" class="ltx_text ltx_font_italic">OctAttn</span>, which adaptively prunes the octants from the multi-scale feature pyramid in a top-to-bottom manner. Furthermore, we adopt a hybrid semantic-aware positional embedding based on foreground segmentation. Extensive experiments are conducted on WOD and KITTI, and OcTr reaches the state-of-the-art performance, validating its effectiveness.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgment</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">This work is partly supported by the National Natural Science Foundation of China (No. 62022011 and No. 62202034), the Research Program of State Key Laboratory of Software Development Environment (SKLSDE-2021ZX-04), and the Fundamental Research Funds for the Central Universities.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography" style="font-size:90%;">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock"><span id="bib.bib1.1.1" class="ltx_text" style="font-size:90%;">
Joshua Ainslie, Santiago Ontanon, Chris Alberti, Vaclav Cvicek, Zachary Fisher,
Philip Pham, Anirudh Ravula, Sumit Sanghai, Qifan Wang, and Li Yang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.2.1" class="ltx_text" style="font-size:90%;">Etc: Encoding long and structured inputs in transformers.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib1.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">EMNLP</span><span id="bib.bib1.5.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_text" style="font-size:90%;">
Iz Beltagy, Matthew E Peters, and Arman Cohan.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.2.1" class="ltx_text" style="font-size:90%;">Longformer: The long-document transformer.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2004.05150</span><span id="bib.bib2.4.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_text" style="font-size:90%;">
Chen Chen, Zhe Chen, Jing Zhang, and Dacheng Tao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.2.1" class="ltx_text" style="font-size:90%;">Sasa: Semantics-augmented set abstraction for point-based 3d object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib3.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">AAAI</span><span id="bib.bib3.5.3" class="ltx_text" style="font-size:90%;">, volume 1, 2022.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text" style="font-size:90%;">
Yukang Chen, Yanwei Li, Xiangyu Zhang, Jian Sun, and Jiaya Jia.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.2.1" class="ltx_text" style="font-size:90%;">Focal sparse convolutional networks for 3d object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib4.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib4.5.3" class="ltx_text" style="font-size:90%;">, pages 5428–5437, 2022.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text" style="font-size:90%;">
Krzysztof Marcin Choromanski, Valerii Likhosherstov, David Dohan, Xingyou Song,
Andreea Gane, Tamás Sarlós, Peter Hawkins, Jared Quincy Davis,
Afroz Mohiuddin, Lukasz Kaiser, David Benjamin Belanger, Lucy J. Colwell, and
Adrian Weller.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.2.1" class="ltx_text" style="font-size:90%;">Rethinking attention with performers.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib5.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICLR</span><span id="bib.bib5.5.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text" style="font-size:90%;">
Jiajun Deng, Shaoshuai Shi, Peiwei Li, Wengang Zhou, Yanyong Zhang, and
Houqiang Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.2.1" class="ltx_text" style="font-size:90%;">Voxel r-cnn: Towards high performance voxel-based 3d object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib6.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">AAAI</span><span id="bib.bib6.5.3" class="ltx_text" style="font-size:90%;">, volume 35, pages 1201–1209, 2021.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text" style="font-size:90%;">
Xiaoyi Dong, Jianmin Bao, Dongdong Chen, Weiming Zhang, Nenghai Yu, Lu Yuan,
Dong Chen, and Baining Guo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.2.1" class="ltx_text" style="font-size:90%;">Cswin transformer: A general vision transformer backbone with
cross-shaped windows.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib7.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib7.5.3" class="ltx_text" style="font-size:90%;">, pages 12124–12134, 2022.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text" style="font-size:90%;">
Alexey Dosovitskiy, Lucas Beyer, Alexander Kolesnikov, Dirk Weissenborn,
Xiaohua Zhai, Thomas Unterthiner, Mostafa Dehghani, Matthias Minderer, Georg
Heigold, Sylvain Gelly, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.2.1" class="ltx_text" style="font-size:90%;">An image is worth 16x16 words: Transformers for image recognition at
scale.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib8.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICLR</span><span id="bib.bib8.5.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text" style="font-size:90%;">
Lue Fan, Wang Feng, Wang Naiyan, and Zhang Zhaoxiang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.2.1" class="ltx_text" style="font-size:90%;">Fully sparse 3d object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib9.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NIPS</span><span id="bib.bib9.5.3" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text" style="font-size:90%;">
Lue Fan, Ziqi Pang, Tianyuan Zhang, Yu-Xiong Wang, Hang Zhao, Feng Wang, Naiyan
Wang, and Zhaoxiang Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.2.1" class="ltx_text" style="font-size:90%;">Embracing single stride 3d object detector with sparse transformer.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib10.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib10.5.3" class="ltx_text" style="font-size:90%;">, pages 8458–8468, 2022.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text" style="font-size:90%;">
Andreas Geiger, Philip Lenz, and Raquel Urtasun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.2.1" class="ltx_text" style="font-size:90%;">Are we ready for autonomous driving? the kitti vision benchmark
suite.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib11.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib11.5.3" class="ltx_text" style="font-size:90%;">, pages 3354–3361. IEEE, 2012.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text" style="font-size:90%;">
Meng-Hao Guo, Jun-Xiong Cai, Zheng-Ning Liu, Tai-Jiang Mu, Ralph R Martin, and
Shi-Min Hu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.2.1" class="ltx_text" style="font-size:90%;">Pct: Point cloud transformer.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">CVM</span><span id="bib.bib12.4.2" class="ltx_text" style="font-size:90%;">, 7(2):187–199, 2021.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text" style="font-size:90%;">
Chenhang He, Ruihuang Li, Shuai Li, and Lei Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.2.1" class="ltx_text" style="font-size:90%;">Voxel set transformer: A set-to-set approach to 3d object detection
from point clouds.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib13.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib13.5.3" class="ltx_text" style="font-size:90%;">, pages 8417–8427, 2022.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock"><span id="bib.bib14.1.1" class="ltx_text" style="font-size:90%;">
Chenhang He, Hui Zeng, Jianqiang Huang, Xian-Sheng Hua, and Lei Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.2.1" class="ltx_text" style="font-size:90%;">Structure aware single-stage 3d object detection from point cloud.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib14.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib14.5.3" class="ltx_text" style="font-size:90%;">, pages 11873–11882, 2020.
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock"><span id="bib.bib15.1.1" class="ltx_text" style="font-size:90%;">
Kaiming He, Xiangyu Zhang, Shaoqing Ren, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.2.1" class="ltx_text" style="font-size:90%;">Deep residual learning for image recognition.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib15.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib15.5.3" class="ltx_text" style="font-size:90%;">, pages 770–778, 2016.
</span>
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text" style="font-size:90%;">
Jordan SK Hu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.2.1" class="ltx_text" style="font-size:90%;">Point density-aware voxels for lidar 3d object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib16.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib16.5.3" class="ltx_text" style="font-size:90%;">, pages 8469–8478, 2022.
</span>
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text" style="font-size:90%;">
Sergey Ioffe and Christian Szegedy.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.2.1" class="ltx_text" style="font-size:90%;">Batch normalization: Accelerating deep network training by reducing
internal covariate shift.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib17.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICML</span><span id="bib.bib17.5.3" class="ltx_text" style="font-size:90%;">, pages 448–456. PMLR, 2015.
</span>
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text" style="font-size:90%;">
Eric Jang, Shixiang Gu, and Ben Poole.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.2.1" class="ltx_text" style="font-size:90%;">Categorical reparameterization with gumbel-softmax.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib18.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICLR</span><span id="bib.bib18.5.3" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text" style="font-size:90%;">
Alex H Lang, Sourabh Vora, Holger Caesar, Lubing Zhou, Jiong Yang, and Oscar
Beijbom.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.2.1" class="ltx_text" style="font-size:90%;">Pointpillars: Fast encoders for object detection from point clouds.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib19.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib19.5.3" class="ltx_text" style="font-size:90%;">, pages 12697–12705, 2019.
</span>
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text" style="font-size:90%;">
Juho Lee, Yoonho Lee, Jungtaek Kim, Adam Kosiorek, Seungjin Choi, and Yee Whye
Teh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.2.1" class="ltx_text" style="font-size:90%;">Set transformer: A framework for attention-based
permutation-invariant neural networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib20.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICML</span><span id="bib.bib20.5.3" class="ltx_text" style="font-size:90%;">, pages 3744–3753. PMLR, 2019.
</span>
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock"><span id="bib.bib21.1.1" class="ltx_text" style="font-size:90%;">
Zhichao Li, Feng Wang, and Naiyan Wang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.2.1" class="ltx_text" style="font-size:90%;">Lidar r-cnn: An efficient and universal 3d object detector.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib21.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib21.5.3" class="ltx_text" style="font-size:90%;">, pages 7546–7555, 2021.
</span>
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock"><span id="bib.bib22.1.1" class="ltx_text" style="font-size:90%;">
Youwei Liang, Chongjian Ge, Zhan Tong, Yibing Song, Jue Wang, and Pengtao Xie.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.2.1" class="ltx_text" style="font-size:90%;">Not all patches are what you need: Expediting vision transformers via
token reorganizations.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib22.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICLR</span><span id="bib.bib22.5.3" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock"><span id="bib.bib23.1.1" class="ltx_text" style="font-size:90%;">
Tsung-Yi Lin, Priya Goyal, Ross Girshick, Kaiming He, and Piotr Dollár.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.2.1" class="ltx_text" style="font-size:90%;">Focal loss for dense object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib23.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib23.5.3" class="ltx_text" style="font-size:90%;">, pages 2980–2988, 2017.
</span>
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock"><span id="bib.bib24.1.1" class="ltx_text" style="font-size:90%;">
Ze Liu, Yutong Lin, Yue Cao, Han Hu, Yixuan Wei, Zheng Zhang, Stephen Lin, and
Baining Guo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.2.1" class="ltx_text" style="font-size:90%;">Swin transformer: Hierarchical vision transformer using shifted
windows.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib24.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib24.5.3" class="ltx_text" style="font-size:90%;">, pages 10012–10022, 2021.
</span>
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock"><span id="bib.bib25.1.1" class="ltx_text" style="font-size:90%;">
Jiageng Mao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.2.1" class="ltx_text" style="font-size:90%;">Voxel transformer for 3d object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib25.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib25.5.3" class="ltx_text" style="font-size:90%;">, pages 3164–3173, 2021.
</span>
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock"><span id="bib.bib26.1.1" class="ltx_text" style="font-size:90%;">
Jiageng Mao, Minzhe Niu, Haoyue Bai, Xiaodan Liang, Hang Xu, and Chunjing Xu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.2.1" class="ltx_text" style="font-size:90%;">Pyramid r-cnn: Towards better performance and adaptability for 3d
object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib26.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib26.5.3" class="ltx_text" style="font-size:90%;">, pages 2723–2732, 2021.
</span>
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock"><span id="bib.bib27.1.1" class="ltx_text" style="font-size:90%;">
Julien NP Martel, David B Lindell, Connor Z Lin, Eric R Chan, Marco Monteiro,
and Gordon Wetzstein.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.2.1" class="ltx_text" style="font-size:90%;">Acorn: Adaptive coordinate networks for neural scene representation.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib27.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ACM SIGGRAPH</span><span id="bib.bib27.5.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock"><span id="bib.bib28.1.1" class="ltx_text" style="font-size:90%;">
Zheng Minghang, Gao Peng, Zhang Renrui, Li Kunchang, Li Hongsheng, and Dong
Hao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.2.1" class="ltx_text" style="font-size:90%;">End-to-end object detection with adaptive clustering transformer.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib28.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">BMVC</span><span id="bib.bib28.5.3" class="ltx_text" style="font-size:90%;">, page 226, 2021.
</span>
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock"><span id="bib.bib29.1.1" class="ltx_text" style="font-size:90%;">
Ishan Misra, Rohit Girdhar, and Armand Joulin.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.2.1" class="ltx_text" style="font-size:90%;">An end-to-end transformer model for 3d object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib29.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib29.5.3" class="ltx_text" style="font-size:90%;">, pages 2906–2917, 2021.
</span>
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock"><span id="bib.bib30.1.1" class="ltx_text" style="font-size:90%;">
Xuran Pan, Zhuofan Xia, Shiji Song, Li Erran Li, and Gao Huang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.2.1" class="ltx_text" style="font-size:90%;">3d object detection with pointformer.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib30.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib30.5.3" class="ltx_text" style="font-size:90%;">, pages 7463–7472, 2021.
</span>
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock"><span id="bib.bib31.1.1" class="ltx_text" style="font-size:90%;">
Chunghyun Park, Yoonwoo Jeong, Minsu Cho, and Jaesik Park.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.2.1" class="ltx_text" style="font-size:90%;">Fast point transformer.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib31.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib31.5.3" class="ltx_text" style="font-size:90%;">, pages 16949–16958, 2022.
</span>
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock"><span id="bib.bib32.1.1" class="ltx_text" style="font-size:90%;">
Charles R Qi, Or Litany, Kaiming He, and Leonidas J Guibas.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.2.1" class="ltx_text" style="font-size:90%;">Deep hough voting for 3d object detection in point clouds.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib32.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib32.5.3" class="ltx_text" style="font-size:90%;">, pages 9277–9286, 2019.
</span>
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock"><span id="bib.bib33.1.1" class="ltx_text" style="font-size:90%;">
Charles R Qi, Wei Liu, Chenxia Wu, Hao Su, and Leonidas J Guibas.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.2.1" class="ltx_text" style="font-size:90%;">Frustum pointnets for 3d object detection from rgb-d data.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib33.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib33.5.3" class="ltx_text" style="font-size:90%;">, pages 918–927, 2018.
</span>
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock"><span id="bib.bib34.1.1" class="ltx_text" style="font-size:90%;">
Charles Ruizhongtai Qi, Li Yi, Hao Su, and Leonidas J Guibas.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.2.1" class="ltx_text" style="font-size:90%;">Pointnet++: Deep hierarchical feature learning on point sets in a
metric space.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib34.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS</span><span id="bib.bib34.5.3" class="ltx_text" style="font-size:90%;">, volume 30, 2017.
</span>
</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock"><span id="bib.bib35.1.1" class="ltx_text" style="font-size:90%;">
Jiezhong Qiu, Hao Ma, Omer Levy, Scott Wen-tau Yih, Sinong Wang, and Jie Tang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.2.1" class="ltx_text" style="font-size:90%;">Blockwise self-attention for long document understanding.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1911.02972</span><span id="bib.bib35.4.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock"><span id="bib.bib36.1.1" class="ltx_text" style="font-size:90%;">
Shaoqing Ren, Kaiming He, Ross Girshick, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib36.2.1" class="ltx_text" style="font-size:90%;">Faster r-cnn: Towards real-time object detection with region proposal
networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib36.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib36.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS</span><span id="bib.bib36.5.3" class="ltx_text" style="font-size:90%;">, volume 28, 2015.
</span>
</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock"><span id="bib.bib37.1.1" class="ltx_text" style="font-size:90%;">
Gernot Riegler, Ali Osman Ulusoy, and Andreas Geiger.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib37.2.1" class="ltx_text" style="font-size:90%;">Octnet: Learning deep 3d representations at high resolutions.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib37.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib37.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib37.5.3" class="ltx_text" style="font-size:90%;">, pages 3577–3586, 2017.
</span>
</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock"><span id="bib.bib38.1.1" class="ltx_text" style="font-size:90%;">
Hualian Sheng, Sijia Cai, Yuan Liu, Bing Deng, Jianqiang Huang, Xian-Sheng Hua,
and Min-Jian Zhao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.2.1" class="ltx_text" style="font-size:90%;">Improving 3d object detection with channel-wise transformer.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib38.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib38.5.3" class="ltx_text" style="font-size:90%;">, pages 2743–2752, 2021.
</span>
</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock"><span id="bib.bib39.1.1" class="ltx_text" style="font-size:90%;">
Shaoshuai Shi, Chaoxu Guo, Li Jiang, Zhe Wang, Jianping Shi, Xiaogang Wang, and
Hongsheng Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib39.2.1" class="ltx_text" style="font-size:90%;">Pv-rcnn: Point-voxel feature set abstraction for 3d object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib39.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib39.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib39.5.3" class="ltx_text" style="font-size:90%;">, pages 10529–10538, 2020.
</span>
</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock"><span id="bib.bib40.1.1" class="ltx_text" style="font-size:90%;">
Shaoshuai Shi, Li Jiang, Jiajun Deng, Zhe Wang, Chaoxu Guo, Jianping Shi,
Xiaogang Wang, and Hongsheng Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib40.2.1" class="ltx_text" style="font-size:90%;">Pv-rcnn++: Point-voxel feature set abstraction with local vector
representation for 3d object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib40.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">IEEE TPAMI</span><span id="bib.bib40.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock"><span id="bib.bib41.1.1" class="ltx_text" style="font-size:90%;">
Shaoshuai Shi, Xiaogang Wang, and Hongsheng Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib41.2.1" class="ltx_text" style="font-size:90%;">Pointrcnn: 3d object proposal generation and detection from point
cloud.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib41.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib41.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib41.5.3" class="ltx_text" style="font-size:90%;">, pages 770–779, 2019.
</span>
</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock"><span id="bib.bib42.1.1" class="ltx_text" style="font-size:90%;">
Shaoshuai Shi, Zhe Wang, Jianping Shi, Xiaogang Wang, and Hongsheng Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib42.2.1" class="ltx_text" style="font-size:90%;">From points to parts: 3d object detection from point cloud with
part-aware and part-aggregation network.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib42.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">IEEE TPAMI</span><span id="bib.bib42.4.2" class="ltx_text" style="font-size:90%;">, 43(8):2647–2664, 2020.
</span>
</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock"><span id="bib.bib43.1.1" class="ltx_text" style="font-size:90%;">
Weijing Shi and Raj Rajkumar.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib43.2.1" class="ltx_text" style="font-size:90%;">Point-gnn: Graph neural network for 3d object detection in a point
cloud.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib43.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib43.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib43.5.3" class="ltx_text" style="font-size:90%;">, pages 1711–1719, 2020.
</span>
</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock"><span id="bib.bib44.1.1" class="ltx_text" style="font-size:90%;">
Pei Sun, Henrik Kretzschmar, Xerxes Dotiwalla, Aurelien Chouard, Vijaysai
Patnaik, Paul Tsui, James Guo, Yin Zhou, Yuning Chai, Benjamin Caine, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib44.2.1" class="ltx_text" style="font-size:90%;">Scalability in perception for autonomous driving: Waymo open dataset.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib44.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib44.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib44.5.3" class="ltx_text" style="font-size:90%;">, pages 2446–2454, 2020.
</span>
</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock"><span id="bib.bib45.1.1" class="ltx_text" style="font-size:90%;">
Jia-Heng Tang, Weikai Chen, Jie Yang, Bo Wang, Songrun Liu, Bo Yang, and Lin
Gao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib45.2.1" class="ltx_text" style="font-size:90%;">Octfield: Hierarchical implicit functions for 3d modeling.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib45.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib45.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS</span><span id="bib.bib45.5.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[46]</span>
<span class="ltx_bibblock"><span id="bib.bib46.1.1" class="ltx_text" style="font-size:90%;">
Shitao Tang, Jiahui Zhang, Siyu Zhu, and Ping Tan.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib46.2.1" class="ltx_text" style="font-size:90%;">Quadtree attention for vision transformers.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib46.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib46.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICLR</span><span id="bib.bib46.5.3" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[47]</span>
<span class="ltx_bibblock"><span id="bib.bib47.1.1" class="ltx_text" style="font-size:90%;">
OpenPCDet Development Team.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib47.2.1" class="ltx_text" style="font-size:90%;">Openpcdet: An open-source toolbox for 3d object detection from point
clouds.
</span>
</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/open-mmlab/OpenPCDet" title="" class="ltx_ref ltx_url ltx_font_typewriter" style="font-size:90%;">https://github.com/open-mmlab/OpenPCDet</a><span id="bib.bib47.3.1" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[48]</span>
<span class="ltx_bibblock"><span id="bib.bib48.1.1" class="ltx_text" style="font-size:90%;">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones,
Aidan N Gomez, Łukasz Kaiser, and Illia Polosukhin.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib48.2.1" class="ltx_text" style="font-size:90%;">Attention is all you need.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib48.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib48.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS</span><span id="bib.bib48.5.3" class="ltx_text" style="font-size:90%;">, volume 30, 2017.
</span>
</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[49]</span>
<span class="ltx_bibblock"><span id="bib.bib49.1.1" class="ltx_text" style="font-size:90%;">
Peng-Shuai Wang, Yang Liu, Yu-Xiao Guo, Chun-Yu Sun, and Xin Tong.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib49.2.1" class="ltx_text" style="font-size:90%;">O-cnn: Octree-based convolutional neural networks for 3d shape
analysis.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib49.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">ACM TOG</span><span id="bib.bib49.4.2" class="ltx_text" style="font-size:90%;">, 36(4):1–11, 2017.
</span>
</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[50]</span>
<span class="ltx_bibblock"><span id="bib.bib50.1.1" class="ltx_text" style="font-size:90%;">
Peng-Shuai Wang, Chun-Yu Sun, Yang Liu, and Xin Tong.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib50.2.1" class="ltx_text" style="font-size:90%;">Adaptive o-cnn: A patch-based deep representation of 3d shapes.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib50.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">ACM TOG</span><span id="bib.bib50.4.2" class="ltx_text" style="font-size:90%;">, 37(6):1–11, 2018.
</span>
</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[51]</span>
<span class="ltx_bibblock"><span id="bib.bib51.1.1" class="ltx_text" style="font-size:90%;">
Yue Wang, Yongbin Sun, Ziwei Liu, Sanjay E Sarma, Michael M Bronstein, and
Justin M Solomon.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib51.2.1" class="ltx_text" style="font-size:90%;">Dynamic graph cnn for learning on point clouds.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib51.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">ACM TOG</span><span id="bib.bib51.4.2" class="ltx_text" style="font-size:90%;">, 38(5):1–12, 2019.
</span>
</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[52]</span>
<span class="ltx_bibblock"><span id="bib.bib52.1.1" class="ltx_text" style="font-size:90%;">
Tete Xiao, Mannat Singh, Eric Mintun, Trevor Darrell, Piotr Dollár, and
Ross Girshick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib52.2.1" class="ltx_text" style="font-size:90%;">Early convolutions help transformers see better.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib52.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib52.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS</span><span id="bib.bib52.5.3" class="ltx_text" style="font-size:90%;">, volume 34, pages 30392–30400, 2021.
</span>
</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[53]</span>
<span class="ltx_bibblock"><span id="bib.bib53.1.1" class="ltx_text" style="font-size:90%;">
Yan Yan, Yuxing Mao, and Bo Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib53.2.1" class="ltx_text" style="font-size:90%;">Second: Sparsely embedded convolutional detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib53.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Sensors</span><span id="bib.bib53.4.2" class="ltx_text" style="font-size:90%;">, 18(10):3337, 2018.
</span>
</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[54]</span>
<span class="ltx_bibblock"><span id="bib.bib54.1.1" class="ltx_text" style="font-size:90%;">
Honghui Yang, Liu Zili, Wu Xiaopei, Wang Wenxiao, Qian Wei, He Xiaofei, and Cai
Deng.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib54.2.1" class="ltx_text" style="font-size:90%;">Graph r-cnn: Towards accurate 3d object detection with
semantic-decorated local graph.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib54.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib54.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ECCV</span><span id="bib.bib54.5.3" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[55]</span>
<span class="ltx_bibblock"><span id="bib.bib55.1.1" class="ltx_text" style="font-size:90%;">
Zetong Yang, Yanan Sun, Shu Liu, and Jiaya Jia.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib55.2.1" class="ltx_text" style="font-size:90%;">3dssd: Point-based 3d single stage object detector.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib55.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib55.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib55.5.3" class="ltx_text" style="font-size:90%;">, pages 11040–11048, 2020.
</span>
</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[56]</span>
<span class="ltx_bibblock"><span id="bib.bib56.1.1" class="ltx_text" style="font-size:90%;">
Zetong Yang, Yanan Sun, Shu Liu, Xiaoyong Shen, and Jiaya Jia.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib56.2.1" class="ltx_text" style="font-size:90%;">Std: Sparse-to-dense 3d object detector for point cloud.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib56.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib56.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib56.5.3" class="ltx_text" style="font-size:90%;">, pages 1951–1960, 2019.
</span>
</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[57]</span>
<span class="ltx_bibblock"><span id="bib.bib57.1.1" class="ltx_text" style="font-size:90%;">
Tianwei Yin, Xingyi Zhou, and Philipp Krahenbuhl.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib57.2.1" class="ltx_text" style="font-size:90%;">Center-based 3d object detection and tracking.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib57.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib57.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib57.5.3" class="ltx_text" style="font-size:90%;">, pages 11784–11793, 2021.
</span>
</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[58]</span>
<span class="ltx_bibblock"><span id="bib.bib58.1.1" class="ltx_text" style="font-size:90%;">
Manzil Zaheer, Guru Guruganesh, Kumar Avinava Dubey, Joshua Ainslie, Chris
Alberti, Santiago Ontanon, Philip Pham, Anirudh Ravula, Qifan Wang, Li Yang,
et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib58.2.1" class="ltx_text" style="font-size:90%;">Big bird: Transformers for longer sequences.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib58.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib58.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS</span><span id="bib.bib58.5.3" class="ltx_text" style="font-size:90%;">, volume 33, pages 17283–17297, 2020.
</span>
</span>
</li>
<li id="bib.bib59" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[59]</span>
<span class="ltx_bibblock"><span id="bib.bib59.1.1" class="ltx_text" style="font-size:90%;">
Cheng Zhang, Haocheng Wan, Xinyi Shen, and Zizhao Wu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib59.2.1" class="ltx_text" style="font-size:90%;">Patchformer: An efficient point transformer with patch attention.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib59.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib59.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib59.5.3" class="ltx_text" style="font-size:90%;">, pages 11799–11808, 2022.
</span>
</span>
</li>
<li id="bib.bib60" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[60]</span>
<span class="ltx_bibblock"><span id="bib.bib60.1.1" class="ltx_text" style="font-size:90%;">
Yanan Zhang, Jiaxin Chen, and Di Huang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib60.2.1" class="ltx_text" style="font-size:90%;">Cat-det: Contrastively augmented transformer for multi-modal 3d
object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib60.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib60.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib60.5.3" class="ltx_text" style="font-size:90%;">, pages 908–917, 2022.
</span>
</span>
</li>
<li id="bib.bib61" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[61]</span>
<span class="ltx_bibblock"><span id="bib.bib61.1.1" class="ltx_text" style="font-size:90%;">
Yifan Zhang, Qingyong Hu, Guoquan Xu, Yanxin Ma, Jianwei Wan, and Yulan Guo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib61.2.1" class="ltx_text" style="font-size:90%;">Not all points are equal: Learning highly efficient point-based
detectors for 3d lidar point clouds.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib61.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib61.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib61.5.3" class="ltx_text" style="font-size:90%;">, pages 18953–18962, 2022.
</span>
</span>
</li>
<li id="bib.bib62" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[62]</span>
<span class="ltx_bibblock"><span id="bib.bib62.1.1" class="ltx_text" style="font-size:90%;">
Yanan Zhang, Di Huang, and Yunhong Wang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib62.2.1" class="ltx_text" style="font-size:90%;">Pc-rgnn: Point cloud completion and graph neural network for 3d
object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib62.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib62.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">AAAI</span><span id="bib.bib62.5.3" class="ltx_text" style="font-size:90%;">, volume 35, pages 3430–3437, 2021.
</span>
</span>
</li>
<li id="bib.bib63" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[63]</span>
<span class="ltx_bibblock"><span id="bib.bib63.1.1" class="ltx_text" style="font-size:90%;">
Hengshuang Zhao, Li Jiang, Jiaya Jia, Philip HS Torr, and Vladlen Koltun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib63.2.1" class="ltx_text" style="font-size:90%;">Point transformer.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib63.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib63.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib63.5.3" class="ltx_text" style="font-size:90%;">, pages 16259–16268, 2021.
</span>
</span>
</li>
<li id="bib.bib64" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[64]</span>
<span class="ltx_bibblock"><span id="bib.bib64.1.1" class="ltx_text" style="font-size:90%;">
Wu Zheng, Weiliang Tang, Sijin Chen, Li Jiang, and Chi-Wing Fu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib64.2.1" class="ltx_text" style="font-size:90%;">Cia-ssd: Confident iou-aware single-stage object detector from point
cloud.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib64.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib64.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">AAAI</span><span id="bib.bib64.5.3" class="ltx_text" style="font-size:90%;">, volume 35, pages 3555–3562, 2021.
</span>
</span>
</li>
<li id="bib.bib65" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[65]</span>
<span class="ltx_bibblock"><span id="bib.bib65.1.1" class="ltx_text" style="font-size:90%;">
Yin Zhou and Oncel Tuzel.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib65.2.1" class="ltx_text" style="font-size:90%;">Voxelnet: End-to-end learning for point cloud based 3d object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib65.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib65.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib65.5.3" class="ltx_text" style="font-size:90%;">, pages 4490–4499, 2018.
</span>
</span>
</li>
<li id="bib.bib66" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[66]</span>
<span class="ltx_bibblock"><span id="bib.bib66.1.1" class="ltx_text" style="font-size:90%;">
Zixiang Zhou, Zhao Xiangchen, Wang Yu, Wang Panqu, and Hassan Foroosh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib66.2.1" class="ltx_text" style="font-size:90%;">Centerformer: Center-based transformer for 3d object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib66.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib66.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ECCV</span><span id="bib.bib66.5.3" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div id="p1" class="ltx_para ltx_noindent">
<p id="p1.1" class="ltx_p"><span id="p1.1.1" class="ltx_text ltx_font_bold" style="font-size:144%;">Supplementary Material</span> 
<br class="ltx_break"></p>
</div>
<div id="p2" class="ltx_para">
<p id="p2.1" class="ltx_p">This supplementary material provides more implementation details on OcTr in Sec. <a href="#A1" title="Appendix A More Implementation Details ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>, more experiments results in Sec. <a href="#A2" title="Appendix B More Experiments Results ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a> and additional visualization in Sec. <a href="#A3" title="Appendix C More Visualization Results ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>More Implementation Details</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Detailed Implementation</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.5" class="ltx_p">The voxel size in WOD and KITTI is set as [0.1m, 0.1m, 0.1875m] and [0.05m, 0.05m, 0.125m], respectively. The convolution patch embedding module outputs the feature map with a downsampling ratio of 4 and the dimension of the feature map is set as <math id="A1.SS1.p1.1.m1.1" class="ltx_Math" alttext="64\times 8\times 376\times 376" display="inline"><semantics id="A1.SS1.p1.1.m1.1a"><mrow id="A1.SS1.p1.1.m1.1.1" xref="A1.SS1.p1.1.m1.1.1.cmml"><mn id="A1.SS1.p1.1.m1.1.1.2" xref="A1.SS1.p1.1.m1.1.1.2.cmml">64</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS1.p1.1.m1.1.1.1" xref="A1.SS1.p1.1.m1.1.1.1.cmml">×</mo><mn id="A1.SS1.p1.1.m1.1.1.3" xref="A1.SS1.p1.1.m1.1.1.3.cmml">8</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS1.p1.1.m1.1.1.1a" xref="A1.SS1.p1.1.m1.1.1.1.cmml">×</mo><mn id="A1.SS1.p1.1.m1.1.1.4" xref="A1.SS1.p1.1.m1.1.1.4.cmml">376</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS1.p1.1.m1.1.1.1b" xref="A1.SS1.p1.1.m1.1.1.1.cmml">×</mo><mn id="A1.SS1.p1.1.m1.1.1.5" xref="A1.SS1.p1.1.m1.1.1.5.cmml">376</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.1.m1.1b"><apply id="A1.SS1.p1.1.m1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1"><times id="A1.SS1.p1.1.m1.1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1.1"></times><cn type="integer" id="A1.SS1.p1.1.m1.1.1.2.cmml" xref="A1.SS1.p1.1.m1.1.1.2">64</cn><cn type="integer" id="A1.SS1.p1.1.m1.1.1.3.cmml" xref="A1.SS1.p1.1.m1.1.1.3">8</cn><cn type="integer" id="A1.SS1.p1.1.m1.1.1.4.cmml" xref="A1.SS1.p1.1.m1.1.1.4">376</cn><cn type="integer" id="A1.SS1.p1.1.m1.1.1.5.cmml" xref="A1.SS1.p1.1.m1.1.1.5">376</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.1.m1.1c">64\times 8\times 376\times 376</annotation></semantics></math> in WOD and <math id="A1.SS1.p1.2.m2.1" class="ltx_Math" alttext="64\times 8\times 400\times 352" display="inline"><semantics id="A1.SS1.p1.2.m2.1a"><mrow id="A1.SS1.p1.2.m2.1.1" xref="A1.SS1.p1.2.m2.1.1.cmml"><mn id="A1.SS1.p1.2.m2.1.1.2" xref="A1.SS1.p1.2.m2.1.1.2.cmml">64</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS1.p1.2.m2.1.1.1" xref="A1.SS1.p1.2.m2.1.1.1.cmml">×</mo><mn id="A1.SS1.p1.2.m2.1.1.3" xref="A1.SS1.p1.2.m2.1.1.3.cmml">8</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS1.p1.2.m2.1.1.1a" xref="A1.SS1.p1.2.m2.1.1.1.cmml">×</mo><mn id="A1.SS1.p1.2.m2.1.1.4" xref="A1.SS1.p1.2.m2.1.1.4.cmml">400</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS1.p1.2.m2.1.1.1b" xref="A1.SS1.p1.2.m2.1.1.1.cmml">×</mo><mn id="A1.SS1.p1.2.m2.1.1.5" xref="A1.SS1.p1.2.m2.1.1.5.cmml">352</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.2.m2.1b"><apply id="A1.SS1.p1.2.m2.1.1.cmml" xref="A1.SS1.p1.2.m2.1.1"><times id="A1.SS1.p1.2.m2.1.1.1.cmml" xref="A1.SS1.p1.2.m2.1.1.1"></times><cn type="integer" id="A1.SS1.p1.2.m2.1.1.2.cmml" xref="A1.SS1.p1.2.m2.1.1.2">64</cn><cn type="integer" id="A1.SS1.p1.2.m2.1.1.3.cmml" xref="A1.SS1.p1.2.m2.1.1.3">8</cn><cn type="integer" id="A1.SS1.p1.2.m2.1.1.4.cmml" xref="A1.SS1.p1.2.m2.1.1.4">400</cn><cn type="integer" id="A1.SS1.p1.2.m2.1.1.5.cmml" xref="A1.SS1.p1.2.m2.1.1.5">352</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.2.m2.1c">64\times 8\times 400\times 352</annotation></semantics></math> in KITTI. There are two stacked octree Transformer layers, with two Octree Transformer Blocks (OTBs) in each layer. In the first layer, the pyramid height, the attention dimension, the number of heads, the dimension of heads, and the value of top<math id="A1.SS1.p1.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS1.p1.3.m3.1a"><mi id="A1.SS1.p1.3.m3.1.1" xref="A1.SS1.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.3.m3.1b"><ci id="A1.SS1.p1.3.m3.1.1.cmml" xref="A1.SS1.p1.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.3.m3.1c">k</annotation></semantics></math> are set to 4, 64, 2, 32 and 8, respectively. In the second layer, they are set to 3, 64, 2, 32 and 8. <math id="A1.SS1.p1.4.m4.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="A1.SS1.p1.4.m4.1a"><mi id="A1.SS1.p1.4.m4.1.1" xref="A1.SS1.p1.4.m4.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.4.m4.1b"><ci id="A1.SS1.p1.4.m4.1.1.cmml" xref="A1.SS1.p1.4.m4.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.4.m4.1c">\tau</annotation></semantics></math> in Eq. (<a href="#S3.E6" title="Equation 6 ‣ 3.3 Octree Attention ‣ 3 Method ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>) is set to 1 and <math id="A1.SS1.p1.5.m5.1" class="ltx_Math" alttext="\Gamma" display="inline"><semantics id="A1.SS1.p1.5.m5.1a"><mi mathvariant="normal" id="A1.SS1.p1.5.m5.1.1" xref="A1.SS1.p1.5.m5.1.1.cmml">Γ</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.5.m5.1b"><ci id="A1.SS1.p1.5.m5.1.1.cmml" xref="A1.SS1.p1.5.m5.1.1">Γ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.5.m5.1c">\Gamma</annotation></semantics></math> in Eq. (<a href="#S3.E10" title="Equation 10 ‣ 3.4 Semantic Positional Embedding ‣ 3 Method ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>) is 10000 in practice. During the training procedure, we adopt the Adam optimizer with a batch size of 16, and the cosine annealing learning rate scheduler with an initial value of 0.01 for the two-stage model and 0.003 for the single-stage model. Other hyper-parameters in detection heads, data augmentation and post-processing are set the same as the default values in OpenPCDet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite>.</p>
</div>
<div id="A1.SS1.p2" class="ltx_para">
<p id="A1.SS1.p2.1" class="ltx_p">Our code is implemented based on OpenPCDet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite>. All the experiments are conducted on 4 RTX 3090 GPUs except the ones on complexity analysis shown in Tab. <a href="#S4.T9" title="Table 9 ‣ 4.4 Ablation study ‣ 4 Experiments ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>.</p>
</div>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Detailed Architecture</h3>

<div id="A1.SS2.p1" class="ltx_para">
<p id="A1.SS2.p1.2" class="ltx_p">The detailed architecture of OcTr is demonstrated in Fig. <a href="#A1.F1" title="Figure A ‣ A.2 Detailed Architecture ‣ Appendix A More Implementation Details ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>. The convolutional patch embedding is composed of sparse convolutions with the kernel size of <math id="A1.SS2.p1.1.m1.1" class="ltx_Math" alttext="3\times 3\times 3" display="inline"><semantics id="A1.SS2.p1.1.m1.1a"><mrow id="A1.SS2.p1.1.m1.1.1" xref="A1.SS2.p1.1.m1.1.1.cmml"><mn id="A1.SS2.p1.1.m1.1.1.2" xref="A1.SS2.p1.1.m1.1.1.2.cmml">3</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS2.p1.1.m1.1.1.1" xref="A1.SS2.p1.1.m1.1.1.1.cmml">×</mo><mn id="A1.SS2.p1.1.m1.1.1.3" xref="A1.SS2.p1.1.m1.1.1.3.cmml">3</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS2.p1.1.m1.1.1.1a" xref="A1.SS2.p1.1.m1.1.1.1.cmml">×</mo><mn id="A1.SS2.p1.1.m1.1.1.4" xref="A1.SS2.p1.1.m1.1.1.4.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.1.m1.1b"><apply id="A1.SS2.p1.1.m1.1.1.cmml" xref="A1.SS2.p1.1.m1.1.1"><times id="A1.SS2.p1.1.m1.1.1.1.cmml" xref="A1.SS2.p1.1.m1.1.1.1"></times><cn type="integer" id="A1.SS2.p1.1.m1.1.1.2.cmml" xref="A1.SS2.p1.1.m1.1.1.2">3</cn><cn type="integer" id="A1.SS2.p1.1.m1.1.1.3.cmml" xref="A1.SS2.p1.1.m1.1.1.3">3</cn><cn type="integer" id="A1.SS2.p1.1.m1.1.1.4.cmml" xref="A1.SS2.p1.1.m1.1.1.4">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.1.m1.1c">3\times 3\times 3</annotation></semantics></math>, and 4<math id="A1.SS2.p1.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.SS2.p1.2.m2.1a"><mo id="A1.SS2.p1.2.m2.1.1" xref="A1.SS2.p1.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.2.m2.1b"><times id="A1.SS2.p1.2.m2.1.1.cmml" xref="A1.SS2.p1.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.2.m2.1c">\times</annotation></semantics></math> downsampling is conducted on input feature maps. A regular sparse convolution layer is applied for downsampling between OTBs, and the successive height compression operation is replaced with a pixel-wise sub-manifold sparse convolution on BEV features.</p>
</div>
<figure id="A1.F1" class="ltx_figure"><img src="/html/2303.12621/assets/x6.png" id="A1.F1.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="216" height="468" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A1.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure A</span>: </span><span id="A1.F1.3.2" class="ltx_text" style="font-size:90%;">Detailed architecture of the proposed OcTr network.</span></figcaption>
</figure>
</section>
<section id="A1.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Top<math id="A1.SS3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS3.1.m1.1b"><mi id="A1.SS3.1.m1.1.1" xref="A1.SS3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.1.m1.1c"><ci id="A1.SS3.1.m1.1.1.cmml" xref="A1.SS3.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.1.m1.1d">k</annotation></semantics></math> Sampling</h3>

<div id="A1.SS3.p1" class="ltx_para">
<p id="A1.SS3.p1.9" class="ltx_p">Top<math id="A1.SS3.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS3.p1.1.m1.1a"><mi id="A1.SS3.p1.1.m1.1.1" xref="A1.SS3.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.1.m1.1b"><ci id="A1.SS3.p1.1.m1.1.1.cmml" xref="A1.SS3.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.1.m1.1c">k</annotation></semantics></math> sampling is an important component in OcTr (in Sec. 3.3 of the main body). To generate the selected sparse octants for subdivision, we first record the indices between the child and parent octants as a pre-calculated index bank. Fig. <a href="#A1.F2" title="Figure B ‣ A.3 Top𝑘 Sampling ‣ Appendix A More Implementation Details ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a> depicts the entire procedure. In level <math id="A1.SS3.p1.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="A1.SS3.p1.2.m2.1a"><mi id="A1.SS3.p1.2.m2.1.1" xref="A1.SS3.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.2.m2.1b"><ci id="A1.SS3.p1.2.m2.1.1.cmml" xref="A1.SS3.p1.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.2.m2.1c">n</annotation></semantics></math>, by querying about top<math id="A1.SS3.p1.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.SS3.p1.3.m3.1a"><mi id="A1.SS3.p1.3.m3.1.1" xref="A1.SS3.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.3.m3.1b"><ci id="A1.SS3.p1.3.m3.1.1.cmml" xref="A1.SS3.p1.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.3.m3.1c">k</annotation></semantics></math> parent octants and the pre-calculated index, we densify the sampling outputs <math id="A1.SS3.p1.4.m4.1" class="ltx_Math" alttext="\vec{K}\in\mathbb{R}^{B\times m_{n+1}\times 8\cdot k\times d}" display="inline"><semantics id="A1.SS3.p1.4.m4.1a"><mrow id="A1.SS3.p1.4.m4.1.1" xref="A1.SS3.p1.4.m4.1.1.cmml"><mover accent="true" id="A1.SS3.p1.4.m4.1.1.2" xref="A1.SS3.p1.4.m4.1.1.2.cmml"><mi id="A1.SS3.p1.4.m4.1.1.2.2" xref="A1.SS3.p1.4.m4.1.1.2.2.cmml">K</mi><mo stretchy="false" id="A1.SS3.p1.4.m4.1.1.2.1" xref="A1.SS3.p1.4.m4.1.1.2.1.cmml">→</mo></mover><mo id="A1.SS3.p1.4.m4.1.1.1" xref="A1.SS3.p1.4.m4.1.1.1.cmml">∈</mo><msup id="A1.SS3.p1.4.m4.1.1.3" xref="A1.SS3.p1.4.m4.1.1.3.cmml"><mi id="A1.SS3.p1.4.m4.1.1.3.2" xref="A1.SS3.p1.4.m4.1.1.3.2.cmml">ℝ</mi><mrow id="A1.SS3.p1.4.m4.1.1.3.3" xref="A1.SS3.p1.4.m4.1.1.3.3.cmml"><mrow id="A1.SS3.p1.4.m4.1.1.3.3.2" xref="A1.SS3.p1.4.m4.1.1.3.3.2.cmml"><mrow id="A1.SS3.p1.4.m4.1.1.3.3.2.2" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.cmml"><mi id="A1.SS3.p1.4.m4.1.1.3.3.2.2.2" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.2.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.4.m4.1.1.3.3.2.2.1" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.1.cmml">×</mo><msub id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.cmml"><mi id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.2" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.2.cmml">m</mi><mrow id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.cmml"><mi id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.2" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.2.cmml">n</mi><mo id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.1" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.1.cmml">+</mo><mn id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.3" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.3.cmml">1</mn></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.4.m4.1.1.3.3.2.2.1a" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.1.cmml">×</mo><mn id="A1.SS3.p1.4.m4.1.1.3.3.2.2.4" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.4.cmml">8</mn></mrow><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.4.m4.1.1.3.3.2.1" xref="A1.SS3.p1.4.m4.1.1.3.3.2.1.cmml">⋅</mo><mi id="A1.SS3.p1.4.m4.1.1.3.3.2.3" xref="A1.SS3.p1.4.m4.1.1.3.3.2.3.cmml">k</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.4.m4.1.1.3.3.1" xref="A1.SS3.p1.4.m4.1.1.3.3.1.cmml">×</mo><mi id="A1.SS3.p1.4.m4.1.1.3.3.3" xref="A1.SS3.p1.4.m4.1.1.3.3.3.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.4.m4.1b"><apply id="A1.SS3.p1.4.m4.1.1.cmml" xref="A1.SS3.p1.4.m4.1.1"><in id="A1.SS3.p1.4.m4.1.1.1.cmml" xref="A1.SS3.p1.4.m4.1.1.1"></in><apply id="A1.SS3.p1.4.m4.1.1.2.cmml" xref="A1.SS3.p1.4.m4.1.1.2"><ci id="A1.SS3.p1.4.m4.1.1.2.1.cmml" xref="A1.SS3.p1.4.m4.1.1.2.1">→</ci><ci id="A1.SS3.p1.4.m4.1.1.2.2.cmml" xref="A1.SS3.p1.4.m4.1.1.2.2">𝐾</ci></apply><apply id="A1.SS3.p1.4.m4.1.1.3.cmml" xref="A1.SS3.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="A1.SS3.p1.4.m4.1.1.3.1.cmml" xref="A1.SS3.p1.4.m4.1.1.3">superscript</csymbol><ci id="A1.SS3.p1.4.m4.1.1.3.2.cmml" xref="A1.SS3.p1.4.m4.1.1.3.2">ℝ</ci><apply id="A1.SS3.p1.4.m4.1.1.3.3.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3"><times id="A1.SS3.p1.4.m4.1.1.3.3.1.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.1"></times><apply id="A1.SS3.p1.4.m4.1.1.3.3.2.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2"><ci id="A1.SS3.p1.4.m4.1.1.3.3.2.1.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.1">⋅</ci><apply id="A1.SS3.p1.4.m4.1.1.3.3.2.2.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2"><times id="A1.SS3.p1.4.m4.1.1.3.3.2.2.1.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.1"></times><ci id="A1.SS3.p1.4.m4.1.1.3.3.2.2.2.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.2">𝐵</ci><apply id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3"><csymbol cd="ambiguous" id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.1.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3">subscript</csymbol><ci id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.2.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.2">𝑚</ci><apply id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3"><plus id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.1.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.1"></plus><ci id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.2.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.2">𝑛</ci><cn type="integer" id="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.3.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.3.3.3">1</cn></apply></apply><cn type="integer" id="A1.SS3.p1.4.m4.1.1.3.3.2.2.4.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.2.4">8</cn></apply><ci id="A1.SS3.p1.4.m4.1.1.3.3.2.3.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.2.3">𝑘</ci></apply><ci id="A1.SS3.p1.4.m4.1.1.3.3.3.cmml" xref="A1.SS3.p1.4.m4.1.1.3.3.3">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.4.m4.1c">\vec{K}\in\mathbb{R}^{B\times m_{n+1}\times 8\cdot k\times d}</annotation></semantics></math> and flatten the tensors of the key/value in an <math id="A1.SS3.p1.5.m5.2" class="ltx_Math" alttext="8\cdot k\rightarrow[k,8]" display="inline"><semantics id="A1.SS3.p1.5.m5.2a"><mrow id="A1.SS3.p1.5.m5.2.3" xref="A1.SS3.p1.5.m5.2.3.cmml"><mrow id="A1.SS3.p1.5.m5.2.3.2" xref="A1.SS3.p1.5.m5.2.3.2.cmml"><mn id="A1.SS3.p1.5.m5.2.3.2.2" xref="A1.SS3.p1.5.m5.2.3.2.2.cmml">8</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.5.m5.2.3.2.1" xref="A1.SS3.p1.5.m5.2.3.2.1.cmml">⋅</mo><mi id="A1.SS3.p1.5.m5.2.3.2.3" xref="A1.SS3.p1.5.m5.2.3.2.3.cmml">k</mi></mrow><mo stretchy="false" id="A1.SS3.p1.5.m5.2.3.1" xref="A1.SS3.p1.5.m5.2.3.1.cmml">→</mo><mrow id="A1.SS3.p1.5.m5.2.3.3.2" xref="A1.SS3.p1.5.m5.2.3.3.1.cmml"><mo stretchy="false" id="A1.SS3.p1.5.m5.2.3.3.2.1" xref="A1.SS3.p1.5.m5.2.3.3.1.cmml">[</mo><mi id="A1.SS3.p1.5.m5.1.1" xref="A1.SS3.p1.5.m5.1.1.cmml">k</mi><mo id="A1.SS3.p1.5.m5.2.3.3.2.2" xref="A1.SS3.p1.5.m5.2.3.3.1.cmml">,</mo><mn id="A1.SS3.p1.5.m5.2.2" xref="A1.SS3.p1.5.m5.2.2.cmml">8</mn><mo stretchy="false" id="A1.SS3.p1.5.m5.2.3.3.2.3" xref="A1.SS3.p1.5.m5.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.5.m5.2b"><apply id="A1.SS3.p1.5.m5.2.3.cmml" xref="A1.SS3.p1.5.m5.2.3"><ci id="A1.SS3.p1.5.m5.2.3.1.cmml" xref="A1.SS3.p1.5.m5.2.3.1">→</ci><apply id="A1.SS3.p1.5.m5.2.3.2.cmml" xref="A1.SS3.p1.5.m5.2.3.2"><ci id="A1.SS3.p1.5.m5.2.3.2.1.cmml" xref="A1.SS3.p1.5.m5.2.3.2.1">⋅</ci><cn type="integer" id="A1.SS3.p1.5.m5.2.3.2.2.cmml" xref="A1.SS3.p1.5.m5.2.3.2.2">8</cn><ci id="A1.SS3.p1.5.m5.2.3.2.3.cmml" xref="A1.SS3.p1.5.m5.2.3.2.3">𝑘</ci></apply><interval closure="closed" id="A1.SS3.p1.5.m5.2.3.3.1.cmml" xref="A1.SS3.p1.5.m5.2.3.3.2"><ci id="A1.SS3.p1.5.m5.1.1.cmml" xref="A1.SS3.p1.5.m5.1.1">𝑘</ci><cn type="integer" id="A1.SS3.p1.5.m5.2.2.cmml" xref="A1.SS3.p1.5.m5.2.2">8</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.5.m5.2c">8\cdot k\rightarrow[k,8]</annotation></semantics></math> manner. We then compact the tensor and truncate the top <math id="A1.SS3.p1.6.m6.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A1.SS3.p1.6.m6.1a"><mi id="A1.SS3.p1.6.m6.1.1" xref="A1.SS3.p1.6.m6.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.6.m6.1b"><ci id="A1.SS3.p1.6.m6.1.1.cmml" xref="A1.SS3.p1.6.m6.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.6.m6.1c">K</annotation></semantics></math> children, resulting in <math id="A1.SS3.p1.7.m7.1" class="ltx_Math" alttext="\vec{K}\in\mathbb{R}^{B\times m_{n+1}\times K\times d}" display="inline"><semantics id="A1.SS3.p1.7.m7.1a"><mrow id="A1.SS3.p1.7.m7.1.1" xref="A1.SS3.p1.7.m7.1.1.cmml"><mover accent="true" id="A1.SS3.p1.7.m7.1.1.2" xref="A1.SS3.p1.7.m7.1.1.2.cmml"><mi id="A1.SS3.p1.7.m7.1.1.2.2" xref="A1.SS3.p1.7.m7.1.1.2.2.cmml">K</mi><mo stretchy="false" id="A1.SS3.p1.7.m7.1.1.2.1" xref="A1.SS3.p1.7.m7.1.1.2.1.cmml">→</mo></mover><mo id="A1.SS3.p1.7.m7.1.1.1" xref="A1.SS3.p1.7.m7.1.1.1.cmml">∈</mo><msup id="A1.SS3.p1.7.m7.1.1.3" xref="A1.SS3.p1.7.m7.1.1.3.cmml"><mi id="A1.SS3.p1.7.m7.1.1.3.2" xref="A1.SS3.p1.7.m7.1.1.3.2.cmml">ℝ</mi><mrow id="A1.SS3.p1.7.m7.1.1.3.3" xref="A1.SS3.p1.7.m7.1.1.3.3.cmml"><mi id="A1.SS3.p1.7.m7.1.1.3.3.2" xref="A1.SS3.p1.7.m7.1.1.3.3.2.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.7.m7.1.1.3.3.1" xref="A1.SS3.p1.7.m7.1.1.3.3.1.cmml">×</mo><msub id="A1.SS3.p1.7.m7.1.1.3.3.3" xref="A1.SS3.p1.7.m7.1.1.3.3.3.cmml"><mi id="A1.SS3.p1.7.m7.1.1.3.3.3.2" xref="A1.SS3.p1.7.m7.1.1.3.3.3.2.cmml">m</mi><mrow id="A1.SS3.p1.7.m7.1.1.3.3.3.3" xref="A1.SS3.p1.7.m7.1.1.3.3.3.3.cmml"><mi id="A1.SS3.p1.7.m7.1.1.3.3.3.3.2" xref="A1.SS3.p1.7.m7.1.1.3.3.3.3.2.cmml">n</mi><mo id="A1.SS3.p1.7.m7.1.1.3.3.3.3.1" xref="A1.SS3.p1.7.m7.1.1.3.3.3.3.1.cmml">+</mo><mn id="A1.SS3.p1.7.m7.1.1.3.3.3.3.3" xref="A1.SS3.p1.7.m7.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.7.m7.1.1.3.3.1a" xref="A1.SS3.p1.7.m7.1.1.3.3.1.cmml">×</mo><mi id="A1.SS3.p1.7.m7.1.1.3.3.4" xref="A1.SS3.p1.7.m7.1.1.3.3.4.cmml">K</mi><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.7.m7.1.1.3.3.1b" xref="A1.SS3.p1.7.m7.1.1.3.3.1.cmml">×</mo><mi id="A1.SS3.p1.7.m7.1.1.3.3.5" xref="A1.SS3.p1.7.m7.1.1.3.3.5.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.7.m7.1b"><apply id="A1.SS3.p1.7.m7.1.1.cmml" xref="A1.SS3.p1.7.m7.1.1"><in id="A1.SS3.p1.7.m7.1.1.1.cmml" xref="A1.SS3.p1.7.m7.1.1.1"></in><apply id="A1.SS3.p1.7.m7.1.1.2.cmml" xref="A1.SS3.p1.7.m7.1.1.2"><ci id="A1.SS3.p1.7.m7.1.1.2.1.cmml" xref="A1.SS3.p1.7.m7.1.1.2.1">→</ci><ci id="A1.SS3.p1.7.m7.1.1.2.2.cmml" xref="A1.SS3.p1.7.m7.1.1.2.2">𝐾</ci></apply><apply id="A1.SS3.p1.7.m7.1.1.3.cmml" xref="A1.SS3.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="A1.SS3.p1.7.m7.1.1.3.1.cmml" xref="A1.SS3.p1.7.m7.1.1.3">superscript</csymbol><ci id="A1.SS3.p1.7.m7.1.1.3.2.cmml" xref="A1.SS3.p1.7.m7.1.1.3.2">ℝ</ci><apply id="A1.SS3.p1.7.m7.1.1.3.3.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3"><times id="A1.SS3.p1.7.m7.1.1.3.3.1.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.1"></times><ci id="A1.SS3.p1.7.m7.1.1.3.3.2.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.2">𝐵</ci><apply id="A1.SS3.p1.7.m7.1.1.3.3.3.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.3"><csymbol cd="ambiguous" id="A1.SS3.p1.7.m7.1.1.3.3.3.1.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.3">subscript</csymbol><ci id="A1.SS3.p1.7.m7.1.1.3.3.3.2.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.3.2">𝑚</ci><apply id="A1.SS3.p1.7.m7.1.1.3.3.3.3.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.3.3"><plus id="A1.SS3.p1.7.m7.1.1.3.3.3.3.1.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.3.3.1"></plus><ci id="A1.SS3.p1.7.m7.1.1.3.3.3.3.2.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.3.3.2">𝑛</ci><cn type="integer" id="A1.SS3.p1.7.m7.1.1.3.3.3.3.3.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.3.3.3">1</cn></apply></apply><ci id="A1.SS3.p1.7.m7.1.1.3.3.4.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.4">𝐾</ci><ci id="A1.SS3.p1.7.m7.1.1.3.3.5.cmml" xref="A1.SS3.p1.7.m7.1.1.3.3.5">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.7.m7.1c">\vec{K}\in\mathbb{R}^{B\times m_{n+1}\times K\times d}</annotation></semantics></math>. By using the pre-defined index bank, we broadcast the sampled tensors to align the features in layer <math id="A1.SS3.p1.8.m8.1" class="ltx_Math" alttext="n" display="inline"><semantics id="A1.SS3.p1.8.m8.1a"><mi id="A1.SS3.p1.8.m8.1.1" xref="A1.SS3.p1.8.m8.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.8.m8.1b"><ci id="A1.SS3.p1.8.m8.1.1.cmml" xref="A1.SS3.p1.8.m8.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.8.m8.1c">n</annotation></semantics></math>, generating a tensor with the shape of <math id="A1.SS3.p1.9.m9.1" class="ltx_Math" alttext="\mathbb{R}^{B\times m_{n}\times K\times d}" display="inline"><semantics id="A1.SS3.p1.9.m9.1a"><msup id="A1.SS3.p1.9.m9.1.1" xref="A1.SS3.p1.9.m9.1.1.cmml"><mi id="A1.SS3.p1.9.m9.1.1.2" xref="A1.SS3.p1.9.m9.1.1.2.cmml">ℝ</mi><mrow id="A1.SS3.p1.9.m9.1.1.3" xref="A1.SS3.p1.9.m9.1.1.3.cmml"><mi id="A1.SS3.p1.9.m9.1.1.3.2" xref="A1.SS3.p1.9.m9.1.1.3.2.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.9.m9.1.1.3.1" xref="A1.SS3.p1.9.m9.1.1.3.1.cmml">×</mo><msub id="A1.SS3.p1.9.m9.1.1.3.3" xref="A1.SS3.p1.9.m9.1.1.3.3.cmml"><mi id="A1.SS3.p1.9.m9.1.1.3.3.2" xref="A1.SS3.p1.9.m9.1.1.3.3.2.cmml">m</mi><mi id="A1.SS3.p1.9.m9.1.1.3.3.3" xref="A1.SS3.p1.9.m9.1.1.3.3.3.cmml">n</mi></msub><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.9.m9.1.1.3.1a" xref="A1.SS3.p1.9.m9.1.1.3.1.cmml">×</mo><mi id="A1.SS3.p1.9.m9.1.1.3.4" xref="A1.SS3.p1.9.m9.1.1.3.4.cmml">K</mi><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p1.9.m9.1.1.3.1b" xref="A1.SS3.p1.9.m9.1.1.3.1.cmml">×</mo><mi id="A1.SS3.p1.9.m9.1.1.3.5" xref="A1.SS3.p1.9.m9.1.1.3.5.cmml">d</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.9.m9.1b"><apply id="A1.SS3.p1.9.m9.1.1.cmml" xref="A1.SS3.p1.9.m9.1.1"><csymbol cd="ambiguous" id="A1.SS3.p1.9.m9.1.1.1.cmml" xref="A1.SS3.p1.9.m9.1.1">superscript</csymbol><ci id="A1.SS3.p1.9.m9.1.1.2.cmml" xref="A1.SS3.p1.9.m9.1.1.2">ℝ</ci><apply id="A1.SS3.p1.9.m9.1.1.3.cmml" xref="A1.SS3.p1.9.m9.1.1.3"><times id="A1.SS3.p1.9.m9.1.1.3.1.cmml" xref="A1.SS3.p1.9.m9.1.1.3.1"></times><ci id="A1.SS3.p1.9.m9.1.1.3.2.cmml" xref="A1.SS3.p1.9.m9.1.1.3.2">𝐵</ci><apply id="A1.SS3.p1.9.m9.1.1.3.3.cmml" xref="A1.SS3.p1.9.m9.1.1.3.3"><csymbol cd="ambiguous" id="A1.SS3.p1.9.m9.1.1.3.3.1.cmml" xref="A1.SS3.p1.9.m9.1.1.3.3">subscript</csymbol><ci id="A1.SS3.p1.9.m9.1.1.3.3.2.cmml" xref="A1.SS3.p1.9.m9.1.1.3.3.2">𝑚</ci><ci id="A1.SS3.p1.9.m9.1.1.3.3.3.cmml" xref="A1.SS3.p1.9.m9.1.1.3.3.3">𝑛</ci></apply><ci id="A1.SS3.p1.9.m9.1.1.3.4.cmml" xref="A1.SS3.p1.9.m9.1.1.3.4">𝐾</ci><ci id="A1.SS3.p1.9.m9.1.1.3.5.cmml" xref="A1.SS3.p1.9.m9.1.1.3.5">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.9.m9.1c">\mathbb{R}^{B\times m_{n}\times K\times d}</annotation></semantics></math>.</p>
</div>
<figure id="A1.F2" class="ltx_figure"><img src="/html/2303.12621/assets/x7.png" id="A1.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="222" height="160" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A1.F2.4.2.1" class="ltx_text" style="font-size:90%;">Figure B</span>: </span><span id="A1.F2.2.1" class="ltx_text" style="font-size:90%;">Illustration of top<math id="A1.F2.2.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.F2.2.1.m1.1b"><mi id="A1.F2.2.1.m1.1.1" xref="A1.F2.2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.F2.2.1.m1.1c"><ci id="A1.F2.2.1.m1.1.1.cmml" xref="A1.F2.2.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.F2.2.1.m1.1d">k</annotation></semantics></math> sampling (the white/colored square denotes empty/non-empty grid, respectively).</span></figcaption>
</figure>
<figure id="A1.F3" class="ltx_figure"><img src="/html/2303.12621/assets/x8.png" id="A1.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="248" height="113" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A1.F3.2.1.1" class="ltx_text" style="font-size:90%;">Figure C</span>: </span><span id="A1.F3.3.2" class="ltx_text" style="font-size:90%;">In SAM, the attention scores of background grids maintain unchanged, while those of foreground ones are masked.</span></figcaption>
</figure>
<div id="A1.SS3.p2" class="ltx_para">
<p id="A1.SS3.p2.2" class="ltx_p">According to statistics, the downsampling ratio in feature pyramid construction is fixed as 3.2, <em id="A1.SS3.p2.2.1" class="ltx_emph ltx_font_italic">i.e.</em> <math id="A1.SS3.p2.1.m1.1" class="ltx_Math" alttext="m_{n}/m_{n+1}\approx 3.2" display="inline"><semantics id="A1.SS3.p2.1.m1.1a"><mrow id="A1.SS3.p2.1.m1.1.1" xref="A1.SS3.p2.1.m1.1.1.cmml"><mrow id="A1.SS3.p2.1.m1.1.1.2" xref="A1.SS3.p2.1.m1.1.1.2.cmml"><msub id="A1.SS3.p2.1.m1.1.1.2.2" xref="A1.SS3.p2.1.m1.1.1.2.2.cmml"><mi id="A1.SS3.p2.1.m1.1.1.2.2.2" xref="A1.SS3.p2.1.m1.1.1.2.2.2.cmml">m</mi><mi id="A1.SS3.p2.1.m1.1.1.2.2.3" xref="A1.SS3.p2.1.m1.1.1.2.2.3.cmml">n</mi></msub><mo id="A1.SS3.p2.1.m1.1.1.2.1" xref="A1.SS3.p2.1.m1.1.1.2.1.cmml">/</mo><msub id="A1.SS3.p2.1.m1.1.1.2.3" xref="A1.SS3.p2.1.m1.1.1.2.3.cmml"><mi id="A1.SS3.p2.1.m1.1.1.2.3.2" xref="A1.SS3.p2.1.m1.1.1.2.3.2.cmml">m</mi><mrow id="A1.SS3.p2.1.m1.1.1.2.3.3" xref="A1.SS3.p2.1.m1.1.1.2.3.3.cmml"><mi id="A1.SS3.p2.1.m1.1.1.2.3.3.2" xref="A1.SS3.p2.1.m1.1.1.2.3.3.2.cmml">n</mi><mo id="A1.SS3.p2.1.m1.1.1.2.3.3.1" xref="A1.SS3.p2.1.m1.1.1.2.3.3.1.cmml">+</mo><mn id="A1.SS3.p2.1.m1.1.1.2.3.3.3" xref="A1.SS3.p2.1.m1.1.1.2.3.3.3.cmml">1</mn></mrow></msub></mrow><mo id="A1.SS3.p2.1.m1.1.1.1" xref="A1.SS3.p2.1.m1.1.1.1.cmml">≈</mo><mn id="A1.SS3.p2.1.m1.1.1.3" xref="A1.SS3.p2.1.m1.1.1.3.cmml">3.2</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.1.m1.1b"><apply id="A1.SS3.p2.1.m1.1.1.cmml" xref="A1.SS3.p2.1.m1.1.1"><approx id="A1.SS3.p2.1.m1.1.1.1.cmml" xref="A1.SS3.p2.1.m1.1.1.1"></approx><apply id="A1.SS3.p2.1.m1.1.1.2.cmml" xref="A1.SS3.p2.1.m1.1.1.2"><divide id="A1.SS3.p2.1.m1.1.1.2.1.cmml" xref="A1.SS3.p2.1.m1.1.1.2.1"></divide><apply id="A1.SS3.p2.1.m1.1.1.2.2.cmml" xref="A1.SS3.p2.1.m1.1.1.2.2"><csymbol cd="ambiguous" id="A1.SS3.p2.1.m1.1.1.2.2.1.cmml" xref="A1.SS3.p2.1.m1.1.1.2.2">subscript</csymbol><ci id="A1.SS3.p2.1.m1.1.1.2.2.2.cmml" xref="A1.SS3.p2.1.m1.1.1.2.2.2">𝑚</ci><ci id="A1.SS3.p2.1.m1.1.1.2.2.3.cmml" xref="A1.SS3.p2.1.m1.1.1.2.2.3">𝑛</ci></apply><apply id="A1.SS3.p2.1.m1.1.1.2.3.cmml" xref="A1.SS3.p2.1.m1.1.1.2.3"><csymbol cd="ambiguous" id="A1.SS3.p2.1.m1.1.1.2.3.1.cmml" xref="A1.SS3.p2.1.m1.1.1.2.3">subscript</csymbol><ci id="A1.SS3.p2.1.m1.1.1.2.3.2.cmml" xref="A1.SS3.p2.1.m1.1.1.2.3.2">𝑚</ci><apply id="A1.SS3.p2.1.m1.1.1.2.3.3.cmml" xref="A1.SS3.p2.1.m1.1.1.2.3.3"><plus id="A1.SS3.p2.1.m1.1.1.2.3.3.1.cmml" xref="A1.SS3.p2.1.m1.1.1.2.3.3.1"></plus><ci id="A1.SS3.p2.1.m1.1.1.2.3.3.2.cmml" xref="A1.SS3.p2.1.m1.1.1.2.3.3.2">𝑛</ci><cn type="integer" id="A1.SS3.p2.1.m1.1.1.2.3.3.3.cmml" xref="A1.SS3.p2.1.m1.1.1.2.3.3.3">1</cn></apply></apply></apply><cn type="float" id="A1.SS3.p2.1.m1.1.1.3.cmml" xref="A1.SS3.p2.1.m1.1.1.3">3.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.1.m1.1c">m_{n}/m_{n+1}\approx 3.2</annotation></semantics></math>. Empirically, to adequately query, we set <math id="A1.SS3.p2.2.m2.1" class="ltx_Math" alttext="K=4\times k" display="inline"><semantics id="A1.SS3.p2.2.m2.1a"><mrow id="A1.SS3.p2.2.m2.1.1" xref="A1.SS3.p2.2.m2.1.1.cmml"><mi id="A1.SS3.p2.2.m2.1.1.2" xref="A1.SS3.p2.2.m2.1.1.2.cmml">K</mi><mo id="A1.SS3.p2.2.m2.1.1.1" xref="A1.SS3.p2.2.m2.1.1.1.cmml">=</mo><mrow id="A1.SS3.p2.2.m2.1.1.3" xref="A1.SS3.p2.2.m2.1.1.3.cmml"><mn id="A1.SS3.p2.2.m2.1.1.3.2" xref="A1.SS3.p2.2.m2.1.1.3.2.cmml">4</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS3.p2.2.m2.1.1.3.1" xref="A1.SS3.p2.2.m2.1.1.3.1.cmml">×</mo><mi id="A1.SS3.p2.2.m2.1.1.3.3" xref="A1.SS3.p2.2.m2.1.1.3.3.cmml">k</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.2.m2.1b"><apply id="A1.SS3.p2.2.m2.1.1.cmml" xref="A1.SS3.p2.2.m2.1.1"><eq id="A1.SS3.p2.2.m2.1.1.1.cmml" xref="A1.SS3.p2.2.m2.1.1.1"></eq><ci id="A1.SS3.p2.2.m2.1.1.2.cmml" xref="A1.SS3.p2.2.m2.1.1.2">𝐾</ci><apply id="A1.SS3.p2.2.m2.1.1.3.cmml" xref="A1.SS3.p2.2.m2.1.1.3"><times id="A1.SS3.p2.2.m2.1.1.3.1.cmml" xref="A1.SS3.p2.2.m2.1.1.3.1"></times><cn type="integer" id="A1.SS3.p2.2.m2.1.1.3.2.cmml" xref="A1.SS3.p2.2.m2.1.1.3.2">4</cn><ci id="A1.SS3.p2.2.m2.1.1.3.3.cmml" xref="A1.SS3.p2.2.m2.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.2.m2.1c">K=4\times k</annotation></semantics></math> in our implementation.</p>
</div>
</section>
<section id="A1.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.4 </span>Semantic Attention Mask</h3>

<div id="A1.SS4.p1" class="ltx_para">
<p id="A1.SS4.p1.7" class="ltx_p">Following Eq. (<a href="#S3.E10" title="Equation 10 ‣ 3.4 Semantic Positional Embedding ‣ 3 Method ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>) in the main body, we further show the details of SAM in Fig. <a href="#A1.F3" title="Figure C ‣ A.3 Top𝑘 Sampling ‣ Appendix A More Implementation Details ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>. To obtain a mask for inferior foreground grids, we define a boolean tensor <math id="A1.SS4.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{M}_{q}=\mathbb{I}_{S_{q}\geq\delta_{q}}" display="inline"><semantics id="A1.SS4.p1.1.m1.1a"><mrow id="A1.SS4.p1.1.m1.1.1" xref="A1.SS4.p1.1.m1.1.1.cmml"><msub id="A1.SS4.p1.1.m1.1.1.2" xref="A1.SS4.p1.1.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS4.p1.1.m1.1.1.2.2" xref="A1.SS4.p1.1.m1.1.1.2.2.cmml">ℳ</mi><mi id="A1.SS4.p1.1.m1.1.1.2.3" xref="A1.SS4.p1.1.m1.1.1.2.3.cmml">q</mi></msub><mo id="A1.SS4.p1.1.m1.1.1.1" xref="A1.SS4.p1.1.m1.1.1.1.cmml">=</mo><msub id="A1.SS4.p1.1.m1.1.1.3" xref="A1.SS4.p1.1.m1.1.1.3.cmml"><mi id="A1.SS4.p1.1.m1.1.1.3.2" xref="A1.SS4.p1.1.m1.1.1.3.2.cmml">𝕀</mi><mrow id="A1.SS4.p1.1.m1.1.1.3.3" xref="A1.SS4.p1.1.m1.1.1.3.3.cmml"><msub id="A1.SS4.p1.1.m1.1.1.3.3.2" xref="A1.SS4.p1.1.m1.1.1.3.3.2.cmml"><mi id="A1.SS4.p1.1.m1.1.1.3.3.2.2" xref="A1.SS4.p1.1.m1.1.1.3.3.2.2.cmml">S</mi><mi id="A1.SS4.p1.1.m1.1.1.3.3.2.3" xref="A1.SS4.p1.1.m1.1.1.3.3.2.3.cmml">q</mi></msub><mo id="A1.SS4.p1.1.m1.1.1.3.3.1" xref="A1.SS4.p1.1.m1.1.1.3.3.1.cmml">≥</mo><msub id="A1.SS4.p1.1.m1.1.1.3.3.3" xref="A1.SS4.p1.1.m1.1.1.3.3.3.cmml"><mi id="A1.SS4.p1.1.m1.1.1.3.3.3.2" xref="A1.SS4.p1.1.m1.1.1.3.3.3.2.cmml">δ</mi><mi id="A1.SS4.p1.1.m1.1.1.3.3.3.3" xref="A1.SS4.p1.1.m1.1.1.3.3.3.3.cmml">q</mi></msub></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.SS4.p1.1.m1.1b"><apply id="A1.SS4.p1.1.m1.1.1.cmml" xref="A1.SS4.p1.1.m1.1.1"><eq id="A1.SS4.p1.1.m1.1.1.1.cmml" xref="A1.SS4.p1.1.m1.1.1.1"></eq><apply id="A1.SS4.p1.1.m1.1.1.2.cmml" xref="A1.SS4.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="A1.SS4.p1.1.m1.1.1.2.1.cmml" xref="A1.SS4.p1.1.m1.1.1.2">subscript</csymbol><ci id="A1.SS4.p1.1.m1.1.1.2.2.cmml" xref="A1.SS4.p1.1.m1.1.1.2.2">ℳ</ci><ci id="A1.SS4.p1.1.m1.1.1.2.3.cmml" xref="A1.SS4.p1.1.m1.1.1.2.3">𝑞</ci></apply><apply id="A1.SS4.p1.1.m1.1.1.3.cmml" xref="A1.SS4.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A1.SS4.p1.1.m1.1.1.3.1.cmml" xref="A1.SS4.p1.1.m1.1.1.3">subscript</csymbol><ci id="A1.SS4.p1.1.m1.1.1.3.2.cmml" xref="A1.SS4.p1.1.m1.1.1.3.2">𝕀</ci><apply id="A1.SS4.p1.1.m1.1.1.3.3.cmml" xref="A1.SS4.p1.1.m1.1.1.3.3"><geq id="A1.SS4.p1.1.m1.1.1.3.3.1.cmml" xref="A1.SS4.p1.1.m1.1.1.3.3.1"></geq><apply id="A1.SS4.p1.1.m1.1.1.3.3.2.cmml" xref="A1.SS4.p1.1.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="A1.SS4.p1.1.m1.1.1.3.3.2.1.cmml" xref="A1.SS4.p1.1.m1.1.1.3.3.2">subscript</csymbol><ci id="A1.SS4.p1.1.m1.1.1.3.3.2.2.cmml" xref="A1.SS4.p1.1.m1.1.1.3.3.2.2">𝑆</ci><ci id="A1.SS4.p1.1.m1.1.1.3.3.2.3.cmml" xref="A1.SS4.p1.1.m1.1.1.3.3.2.3">𝑞</ci></apply><apply id="A1.SS4.p1.1.m1.1.1.3.3.3.cmml" xref="A1.SS4.p1.1.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="A1.SS4.p1.1.m1.1.1.3.3.3.1.cmml" xref="A1.SS4.p1.1.m1.1.1.3.3.3">subscript</csymbol><ci id="A1.SS4.p1.1.m1.1.1.3.3.3.2.cmml" xref="A1.SS4.p1.1.m1.1.1.3.3.3.2">𝛿</ci><ci id="A1.SS4.p1.1.m1.1.1.3.3.3.3.cmml" xref="A1.SS4.p1.1.m1.1.1.3.3.3.3">𝑞</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.p1.1.m1.1c">\mathcal{M}_{q}=\mathbb{I}_{S_{q}\geq\delta_{q}}</annotation></semantics></math>, where <math id="A1.SS4.p1.2.m2.1" class="ltx_Math" alttext="S_{q}" display="inline"><semantics id="A1.SS4.p1.2.m2.1a"><msub id="A1.SS4.p1.2.m2.1.1" xref="A1.SS4.p1.2.m2.1.1.cmml"><mi id="A1.SS4.p1.2.m2.1.1.2" xref="A1.SS4.p1.2.m2.1.1.2.cmml">S</mi><mi id="A1.SS4.p1.2.m2.1.1.3" xref="A1.SS4.p1.2.m2.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS4.p1.2.m2.1b"><apply id="A1.SS4.p1.2.m2.1.1.cmml" xref="A1.SS4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A1.SS4.p1.2.m2.1.1.1.cmml" xref="A1.SS4.p1.2.m2.1.1">subscript</csymbol><ci id="A1.SS4.p1.2.m2.1.1.2.cmml" xref="A1.SS4.p1.2.m2.1.1.2">𝑆</ci><ci id="A1.SS4.p1.2.m2.1.1.3.cmml" xref="A1.SS4.p1.2.m2.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.p1.2.m2.1c">S_{q}</annotation></semantics></math> is calculated by the mean scatter function <span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>https://pytorch-scatter.readthedocs.io/</span></span></span>. Similarly, we have <math id="A1.SS4.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{M}_{k}=\mathbb{I}_{S_{k}\geq\delta_{k}}" display="inline"><semantics id="A1.SS4.p1.3.m3.1a"><mrow id="A1.SS4.p1.3.m3.1.1" xref="A1.SS4.p1.3.m3.1.1.cmml"><msub id="A1.SS4.p1.3.m3.1.1.2" xref="A1.SS4.p1.3.m3.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS4.p1.3.m3.1.1.2.2" xref="A1.SS4.p1.3.m3.1.1.2.2.cmml">ℳ</mi><mi id="A1.SS4.p1.3.m3.1.1.2.3" xref="A1.SS4.p1.3.m3.1.1.2.3.cmml">k</mi></msub><mo id="A1.SS4.p1.3.m3.1.1.1" xref="A1.SS4.p1.3.m3.1.1.1.cmml">=</mo><msub id="A1.SS4.p1.3.m3.1.1.3" xref="A1.SS4.p1.3.m3.1.1.3.cmml"><mi id="A1.SS4.p1.3.m3.1.1.3.2" xref="A1.SS4.p1.3.m3.1.1.3.2.cmml">𝕀</mi><mrow id="A1.SS4.p1.3.m3.1.1.3.3" xref="A1.SS4.p1.3.m3.1.1.3.3.cmml"><msub id="A1.SS4.p1.3.m3.1.1.3.3.2" xref="A1.SS4.p1.3.m3.1.1.3.3.2.cmml"><mi id="A1.SS4.p1.3.m3.1.1.3.3.2.2" xref="A1.SS4.p1.3.m3.1.1.3.3.2.2.cmml">S</mi><mi id="A1.SS4.p1.3.m3.1.1.3.3.2.3" xref="A1.SS4.p1.3.m3.1.1.3.3.2.3.cmml">k</mi></msub><mo id="A1.SS4.p1.3.m3.1.1.3.3.1" xref="A1.SS4.p1.3.m3.1.1.3.3.1.cmml">≥</mo><msub id="A1.SS4.p1.3.m3.1.1.3.3.3" xref="A1.SS4.p1.3.m3.1.1.3.3.3.cmml"><mi id="A1.SS4.p1.3.m3.1.1.3.3.3.2" xref="A1.SS4.p1.3.m3.1.1.3.3.3.2.cmml">δ</mi><mi id="A1.SS4.p1.3.m3.1.1.3.3.3.3" xref="A1.SS4.p1.3.m3.1.1.3.3.3.3.cmml">k</mi></msub></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.SS4.p1.3.m3.1b"><apply id="A1.SS4.p1.3.m3.1.1.cmml" xref="A1.SS4.p1.3.m3.1.1"><eq id="A1.SS4.p1.3.m3.1.1.1.cmml" xref="A1.SS4.p1.3.m3.1.1.1"></eq><apply id="A1.SS4.p1.3.m3.1.1.2.cmml" xref="A1.SS4.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="A1.SS4.p1.3.m3.1.1.2.1.cmml" xref="A1.SS4.p1.3.m3.1.1.2">subscript</csymbol><ci id="A1.SS4.p1.3.m3.1.1.2.2.cmml" xref="A1.SS4.p1.3.m3.1.1.2.2">ℳ</ci><ci id="A1.SS4.p1.3.m3.1.1.2.3.cmml" xref="A1.SS4.p1.3.m3.1.1.2.3">𝑘</ci></apply><apply id="A1.SS4.p1.3.m3.1.1.3.cmml" xref="A1.SS4.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="A1.SS4.p1.3.m3.1.1.3.1.cmml" xref="A1.SS4.p1.3.m3.1.1.3">subscript</csymbol><ci id="A1.SS4.p1.3.m3.1.1.3.2.cmml" xref="A1.SS4.p1.3.m3.1.1.3.2">𝕀</ci><apply id="A1.SS4.p1.3.m3.1.1.3.3.cmml" xref="A1.SS4.p1.3.m3.1.1.3.3"><geq id="A1.SS4.p1.3.m3.1.1.3.3.1.cmml" xref="A1.SS4.p1.3.m3.1.1.3.3.1"></geq><apply id="A1.SS4.p1.3.m3.1.1.3.3.2.cmml" xref="A1.SS4.p1.3.m3.1.1.3.3.2"><csymbol cd="ambiguous" id="A1.SS4.p1.3.m3.1.1.3.3.2.1.cmml" xref="A1.SS4.p1.3.m3.1.1.3.3.2">subscript</csymbol><ci id="A1.SS4.p1.3.m3.1.1.3.3.2.2.cmml" xref="A1.SS4.p1.3.m3.1.1.3.3.2.2">𝑆</ci><ci id="A1.SS4.p1.3.m3.1.1.3.3.2.3.cmml" xref="A1.SS4.p1.3.m3.1.1.3.3.2.3">𝑘</ci></apply><apply id="A1.SS4.p1.3.m3.1.1.3.3.3.cmml" xref="A1.SS4.p1.3.m3.1.1.3.3.3"><csymbol cd="ambiguous" id="A1.SS4.p1.3.m3.1.1.3.3.3.1.cmml" xref="A1.SS4.p1.3.m3.1.1.3.3.3">subscript</csymbol><ci id="A1.SS4.p1.3.m3.1.1.3.3.3.2.cmml" xref="A1.SS4.p1.3.m3.1.1.3.3.3.2">𝛿</ci><ci id="A1.SS4.p1.3.m3.1.1.3.3.3.3.cmml" xref="A1.SS4.p1.3.m3.1.1.3.3.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.p1.3.m3.1c">\mathcal{M}_{k}=\mathbb{I}_{S_{k}\geq\delta_{k}}</annotation></semantics></math> and obtain the boolean semantic mask on the attention matrices, which is measured by <math id="A1.SS4.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{M}=\mathcal{M}_{q}\cdot\mathcal{M}_{k}" display="inline"><semantics id="A1.SS4.p1.4.m4.1a"><mrow id="A1.SS4.p1.4.m4.1.1" xref="A1.SS4.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS4.p1.4.m4.1.1.2" xref="A1.SS4.p1.4.m4.1.1.2.cmml">ℳ</mi><mo id="A1.SS4.p1.4.m4.1.1.1" xref="A1.SS4.p1.4.m4.1.1.1.cmml">=</mo><mrow id="A1.SS4.p1.4.m4.1.1.3" xref="A1.SS4.p1.4.m4.1.1.3.cmml"><msub id="A1.SS4.p1.4.m4.1.1.3.2" xref="A1.SS4.p1.4.m4.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS4.p1.4.m4.1.1.3.2.2" xref="A1.SS4.p1.4.m4.1.1.3.2.2.cmml">ℳ</mi><mi id="A1.SS4.p1.4.m4.1.1.3.2.3" xref="A1.SS4.p1.4.m4.1.1.3.2.3.cmml">q</mi></msub><mo lspace="0.222em" rspace="0.222em" id="A1.SS4.p1.4.m4.1.1.3.1" xref="A1.SS4.p1.4.m4.1.1.3.1.cmml">⋅</mo><msub id="A1.SS4.p1.4.m4.1.1.3.3" xref="A1.SS4.p1.4.m4.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS4.p1.4.m4.1.1.3.3.2" xref="A1.SS4.p1.4.m4.1.1.3.3.2.cmml">ℳ</mi><mi id="A1.SS4.p1.4.m4.1.1.3.3.3" xref="A1.SS4.p1.4.m4.1.1.3.3.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS4.p1.4.m4.1b"><apply id="A1.SS4.p1.4.m4.1.1.cmml" xref="A1.SS4.p1.4.m4.1.1"><eq id="A1.SS4.p1.4.m4.1.1.1.cmml" xref="A1.SS4.p1.4.m4.1.1.1"></eq><ci id="A1.SS4.p1.4.m4.1.1.2.cmml" xref="A1.SS4.p1.4.m4.1.1.2">ℳ</ci><apply id="A1.SS4.p1.4.m4.1.1.3.cmml" xref="A1.SS4.p1.4.m4.1.1.3"><ci id="A1.SS4.p1.4.m4.1.1.3.1.cmml" xref="A1.SS4.p1.4.m4.1.1.3.1">⋅</ci><apply id="A1.SS4.p1.4.m4.1.1.3.2.cmml" xref="A1.SS4.p1.4.m4.1.1.3.2"><csymbol cd="ambiguous" id="A1.SS4.p1.4.m4.1.1.3.2.1.cmml" xref="A1.SS4.p1.4.m4.1.1.3.2">subscript</csymbol><ci id="A1.SS4.p1.4.m4.1.1.3.2.2.cmml" xref="A1.SS4.p1.4.m4.1.1.3.2.2">ℳ</ci><ci id="A1.SS4.p1.4.m4.1.1.3.2.3.cmml" xref="A1.SS4.p1.4.m4.1.1.3.2.3">𝑞</ci></apply><apply id="A1.SS4.p1.4.m4.1.1.3.3.cmml" xref="A1.SS4.p1.4.m4.1.1.3.3"><csymbol cd="ambiguous" id="A1.SS4.p1.4.m4.1.1.3.3.1.cmml" xref="A1.SS4.p1.4.m4.1.1.3.3">subscript</csymbol><ci id="A1.SS4.p1.4.m4.1.1.3.3.2.cmml" xref="A1.SS4.p1.4.m4.1.1.3.3.2">ℳ</ci><ci id="A1.SS4.p1.4.m4.1.1.3.3.3.cmml" xref="A1.SS4.p1.4.m4.1.1.3.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.p1.4.m4.1c">\mathcal{M}=\mathcal{M}_{q}\cdot\mathcal{M}_{k}</annotation></semantics></math>. Though segmentation scores indicate the significance of grids, they suffer from inaccurate predictions. Considering that the mask <math id="A1.SS4.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="A1.SS4.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="A1.SS4.p1.5.m5.1.1" xref="A1.SS4.p1.5.m5.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="A1.SS4.p1.5.m5.1b"><ci id="A1.SS4.p1.5.m5.1.1.cmml" xref="A1.SS4.p1.5.m5.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.p1.5.m5.1c">\mathcal{M}</annotation></semantics></math> tends to suppress the attention scores of the background grids to 0 and thus deteriorate representations, we simply maintain the attention scores of the background unchanged. The hyper-parameters <math id="A1.SS4.p1.6.m6.1" class="ltx_Math" alttext="\delta_{q}" display="inline"><semantics id="A1.SS4.p1.6.m6.1a"><msub id="A1.SS4.p1.6.m6.1.1" xref="A1.SS4.p1.6.m6.1.1.cmml"><mi id="A1.SS4.p1.6.m6.1.1.2" xref="A1.SS4.p1.6.m6.1.1.2.cmml">δ</mi><mi id="A1.SS4.p1.6.m6.1.1.3" xref="A1.SS4.p1.6.m6.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS4.p1.6.m6.1b"><apply id="A1.SS4.p1.6.m6.1.1.cmml" xref="A1.SS4.p1.6.m6.1.1"><csymbol cd="ambiguous" id="A1.SS4.p1.6.m6.1.1.1.cmml" xref="A1.SS4.p1.6.m6.1.1">subscript</csymbol><ci id="A1.SS4.p1.6.m6.1.1.2.cmml" xref="A1.SS4.p1.6.m6.1.1.2">𝛿</ci><ci id="A1.SS4.p1.6.m6.1.1.3.cmml" xref="A1.SS4.p1.6.m6.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.p1.6.m6.1c">\delta_{q}</annotation></semantics></math> and <math id="A1.SS4.p1.7.m7.1" class="ltx_Math" alttext="\delta_{k}" display="inline"><semantics id="A1.SS4.p1.7.m7.1a"><msub id="A1.SS4.p1.7.m7.1.1" xref="A1.SS4.p1.7.m7.1.1.cmml"><mi id="A1.SS4.p1.7.m7.1.1.2" xref="A1.SS4.p1.7.m7.1.1.2.cmml">δ</mi><mi id="A1.SS4.p1.7.m7.1.1.3" xref="A1.SS4.p1.7.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS4.p1.7.m7.1b"><apply id="A1.SS4.p1.7.m7.1.1.cmml" xref="A1.SS4.p1.7.m7.1.1"><csymbol cd="ambiguous" id="A1.SS4.p1.7.m7.1.1.1.cmml" xref="A1.SS4.p1.7.m7.1.1">subscript</csymbol><ci id="A1.SS4.p1.7.m7.1.1.2.cmml" xref="A1.SS4.p1.7.m7.1.1.2">𝛿</ci><ci id="A1.SS4.p1.7.m7.1.1.3.cmml" xref="A1.SS4.p1.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.p1.7.m7.1c">\delta_{k}</annotation></semantics></math> are set to 0.05 and 0.2, respectively.</p>
</div>
<figure id="A1.F4" class="ltx_figure"><img src="/html/2303.12621/assets/x9.png" id="A1.F4.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="248" height="493" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A1.F4.3.1.1" class="ltx_text" style="font-size:90%;">Figure D</span>: </span><span id="A1.F4.4.2" class="ltx_text" style="font-size:90%;">Visualization on the KITTI <span id="A1.F4.4.2.1" class="ltx_text ltx_font_italic">val</span> set. The blue/red bounding boxes indicate the predicted/ground-truth results, respectively.</span></figcaption>
</figure>
<figure id="A1.T1" class="ltx_table">
<table id="A1.T1.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A1.T1.2.1.1" class="ltx_tr">
<th id="A1.T1.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="A1.T1.2.1.1.1.1" class="ltx_text ltx_font_bold">Model</span></th>
<td id="A1.T1.2.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="A1.T1.2.1.1.2.1" class="ltx_text ltx_font_bold">Vehicle (L1)</span></td>
<td id="A1.T1.2.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="A1.T1.2.1.1.3.1" class="ltx_text ltx_font_bold">Vehicle (L2)</span></td>
<td id="A1.T1.2.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="A1.T1.2.1.1.4.1" class="ltx_text ltx_font_bold">Pedes. (L1)</span></td>
<td id="A1.T1.2.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="A1.T1.2.1.1.5.1" class="ltx_text ltx_font_bold">Pedes. (L2)</span></td>
<td id="A1.T1.2.1.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="A1.T1.2.1.1.6.1" class="ltx_text ltx_font_bold">Cyclist (L1)</span></td>
<td id="A1.T1.2.1.1.7" class="ltx_td ltx_align_center ltx_border_tt"><span id="A1.T1.2.1.1.7.1" class="ltx_text ltx_font_bold">Cyclist (L2)</span></td>
</tr>
<tr id="A1.T1.2.2.2" class="ltx_tr">
<td id="A1.T1.2.2.2.1" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T1.2.2.2.1.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="A1.T1.2.2.2.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T1.2.2.2.2.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="A1.T1.2.2.2.3" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T1.2.2.2.3.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="A1.T1.2.2.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T1.2.2.2.4.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="A1.T1.2.2.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T1.2.2.2.5.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="A1.T1.2.2.2.6" class="ltx_td ltx_align_center"><span id="A1.T1.2.2.2.6.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
</tr>
<tr id="A1.T1.2.3.3" class="ltx_tr">
<th id="A1.T1.2.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">CF (1 frame) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib66" title="" class="ltx_ref">66</a>]</cite>
</th>
<td id="A1.T1.2.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">75.2/74.7</td>
<td id="A1.T1.2.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">70.2/69.7</td>
<td id="A1.T1.2.3.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">78.6/73.0</td>
<td id="A1.T1.2.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">73.6/68.3</td>
<td id="A1.T1.2.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">72.3/71.3</td>
<td id="A1.T1.2.3.3.7" class="ltx_td ltx_align_center ltx_border_t">69.8/68.8</td>
</tr>
<tr id="A1.T1.2.4.4" class="ltx_tr">
<th id="A1.T1.2.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">CF (8 frames) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib66" title="" class="ltx_ref">66</a>]</cite>
</th>
<td id="A1.T1.2.4.4.2" class="ltx_td ltx_align_center ltx_border_r">78.8/78.3</td>
<td id="A1.T1.2.4.4.3" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T1.2.4.4.3.1" class="ltx_text ltx_font_bold">74.3/73.8</span></td>
<td id="A1.T1.2.4.4.4" class="ltx_td ltx_align_center ltx_border_r">82.1/<span id="A1.T1.2.4.4.4.1" class="ltx_text ltx_font_bold">79.3</span>
</td>
<td id="A1.T1.2.4.4.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T1.2.4.4.5.1" class="ltx_text ltx_font_bold">77.8/75.0</span></td>
<td id="A1.T1.2.4.4.6" class="ltx_td ltx_align_center ltx_border_r">75.2/74.4</td>
<td id="A1.T1.2.4.4.7" class="ltx_td ltx_align_center">73.2/72.3</td>
</tr>
<tr id="A1.T1.2.5.5" class="ltx_tr">
<th id="A1.T1.2.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">FSD <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>
</th>
<td id="A1.T1.2.5.5.2" class="ltx_td ltx_align_center ltx_border_r">79.2/78.8</td>
<td id="A1.T1.2.5.5.3" class="ltx_td ltx_align_center ltx_border_r">70.5/70.1</td>
<td id="A1.T1.2.5.5.4" class="ltx_td ltx_align_center ltx_border_r">
<span id="A1.T1.2.5.5.4.1" class="ltx_text ltx_font_bold">82.6</span>/77.3</td>
<td id="A1.T1.2.5.5.5" class="ltx_td ltx_align_center ltx_border_r">73.9/69.1</td>
<td id="A1.T1.2.5.5.6" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T1.2.5.5.6.1" class="ltx_text ltx_font_bold">77.1/76.0</span></td>
<td id="A1.T1.2.5.5.7" class="ltx_td ltx_align_center"><span id="A1.T1.2.5.5.7.1" class="ltx_text ltx_font_bold">74.4/73.3</span></td>
</tr>
<tr id="A1.T1.2.6.6" class="ltx_tr">
<th id="A1.T1.2.6.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Graph-RCNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>
</th>
<td id="A1.T1.2.6.6.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T1.2.6.6.2.1" class="ltx_text ltx_font_bold">80.8/80.3</span></td>
<td id="A1.T1.2.6.6.3" class="ltx_td ltx_align_center ltx_border_r">72.6/72.1</td>
<td id="A1.T1.2.6.6.4" class="ltx_td ltx_align_center ltx_border_r">82.4/76.6</td>
<td id="A1.T1.2.6.6.5" class="ltx_td ltx_align_center ltx_border_r">74.4/69.0</td>
<td id="A1.T1.2.6.6.6" class="ltx_td ltx_align_center ltx_border_r">75.3/74.2</td>
<td id="A1.T1.2.6.6.7" class="ltx_td ltx_align_center">72.5/71.5</td>
</tr>
<tr id="A1.T1.2.7.7" class="ltx_tr">
<th id="A1.T1.2.7.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t">OcTr</th>
<td id="A1.T1.2.7.7.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">79.2/78.7</td>
<td id="A1.T1.2.7.7.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">70.8/70.4</td>
<td id="A1.T1.2.7.7.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">82.2/76.3</td>
<td id="A1.T1.2.7.7.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">74.0/68.5</td>
<td id="A1.T1.2.7.7.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">73.9/72.8</td>
<td id="A1.T1.2.7.7.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">71.1/69.2</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A1.T1.4.1.1" class="ltx_text" style="font-size:90%;">Table A</span>: </span><span id="A1.T1.5.2" class="ltx_text" style="font-size:90%;">Performance on WOD <span id="A1.T1.5.2.1" class="ltx_text ltx_font_italic">validation</span> with 100% training data.</span></figcaption>
</figure>
<figure id="A1.T2" class="ltx_table">
<table id="A1.T2.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A1.T2.2.1.1" class="ltx_tr">
<th id="A1.T2.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="A1.T2.2.1.1.1.1" class="ltx_text ltx_font_bold">Model</span></th>
<td id="A1.T2.2.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="A1.T2.2.1.1.2.1" class="ltx_text ltx_font_bold">Vehicle (L1)</span></td>
<td id="A1.T2.2.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="A1.T2.2.1.1.3.1" class="ltx_text ltx_font_bold">Vehicle (L2)</span></td>
<td id="A1.T2.2.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="A1.T2.2.1.1.4.1" class="ltx_text ltx_font_bold">Pedes. (L1)</span></td>
<td id="A1.T2.2.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="A1.T2.2.1.1.5.1" class="ltx_text ltx_font_bold">Pedes. (L2)</span></td>
<td id="A1.T2.2.1.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="A1.T2.2.1.1.6.1" class="ltx_text ltx_font_bold">Cyclist (L1)</span></td>
<td id="A1.T2.2.1.1.7" class="ltx_td ltx_align_center ltx_border_tt"><span id="A1.T2.2.1.1.7.1" class="ltx_text ltx_font_bold">Cyclist (L2)</span></td>
</tr>
<tr id="A1.T2.2.2.2" class="ltx_tr">
<td id="A1.T2.2.2.2.1" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T2.2.2.2.1.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="A1.T2.2.2.2.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T2.2.2.2.2.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="A1.T2.2.2.2.3" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T2.2.2.2.3.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="A1.T2.2.2.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T2.2.2.2.4.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="A1.T2.2.2.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T2.2.2.2.5.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
<td id="A1.T2.2.2.2.6" class="ltx_td ltx_align_center"><span id="A1.T2.2.2.2.6.1" class="ltx_text ltx_font_bold">mAP/mAPH</span></td>
</tr>
<tr id="A1.T2.2.3.3" class="ltx_tr">
<th id="A1.T2.2.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">SECOND<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</th>
<td id="A1.T2.2.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">76.2/75.7</td>
<td id="A1.T2.2.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">68.3/67.8</td>
<td id="A1.T2.2.3.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">68.6/55.3</td>
<td id="A1.T2.2.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.8/50.5</td>
<td id="A1.T2.2.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.4/56.6</td>
<td id="A1.T2.2.3.3.7" class="ltx_td ltx_align_center ltx_border_t">60.1/54.6</td>
</tr>
<tr id="A1.T2.2.4.4" class="ltx_tr">
<th id="A1.T2.2.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Ours (SECOND)</th>
<td id="A1.T2.2.4.4.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T2.2.4.4.2.1" class="ltx_text ltx_font_bold">77.9/77.4</span></td>
<td id="A1.T2.2.4.4.3" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T2.2.4.4.3.1" class="ltx_text ltx_font_bold">70.2/69.7</span></td>
<td id="A1.T2.2.4.4.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T2.2.4.4.4.1" class="ltx_text ltx_font_bold">71.5/61.1</span></td>
<td id="A1.T2.2.4.4.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T2.2.4.4.5.1" class="ltx_text ltx_font_bold">65.7/56.1</span></td>
<td id="A1.T2.2.4.4.6" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T2.2.4.4.6.1" class="ltx_text ltx_font_bold">70.7/69.3</span></td>
<td id="A1.T2.2.4.4.7" class="ltx_td ltx_align_center"><span id="A1.T2.2.4.4.7.1" class="ltx_text ltx_font_bold">68.1/66.8</span></td>
</tr>
<tr id="A1.T2.2.5.5" class="ltx_tr">
<th id="A1.T2.2.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">PV-RCNN++<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite>
</th>
<td id="A1.T2.2.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">81.6/81.2</td>
<td id="A1.T2.2.5.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">73.9/73.5</td>
<td id="A1.T2.2.5.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">80.4/75.0</td>
<td id="A1.T2.2.5.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">74.1/69.0</td>
<td id="A1.T2.2.5.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">71.9/70.8</td>
<td id="A1.T2.2.5.5.7" class="ltx_td ltx_align_center ltx_border_t">69.3/68.2</td>
</tr>
<tr id="A1.T2.2.6.6" class="ltx_tr">
<th id="A1.T2.2.6.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">Ours (PV-RCNN++)</th>
<td id="A1.T2.2.6.6.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A1.T2.2.6.6.2.1" class="ltx_text ltx_font_bold">81.7/81.4</span></td>
<td id="A1.T2.2.6.6.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A1.T2.2.6.6.3.1" class="ltx_text ltx_font_bold">74.0/73.6</span></td>
<td id="A1.T2.2.6.6.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A1.T2.2.6.6.4.1" class="ltx_text ltx_font_bold">81.2/75.2</span></td>
<td id="A1.T2.2.6.6.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A1.T2.2.6.6.5.1" class="ltx_text ltx_font_bold">75.0/69.3</span></td>
<td id="A1.T2.2.6.6.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A1.T2.2.6.6.6.1" class="ltx_text ltx_font_bold">73.0/71.8</span></td>
<td id="A1.T2.2.6.6.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="A1.T2.2.6.6.7.1" class="ltx_text ltx_font_bold">70.4/69.4</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A1.T2.4.1.1" class="ltx_text" style="font-size:90%;">Table B</span>: </span><span id="A1.T2.5.2" class="ltx_text" style="font-size:90%;">Performance on WOD <span id="A1.T2.5.2.1" class="ltx_text ltx_font_italic">test</span> with 100% training data.</span></figcaption>
</figure>
</section>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>More Experiments Results</h2>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">We add experiments with 100% training data and compare OcTr with Graph-RCNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>, FSD <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> and CenterFormer (CF) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib66" title="" class="ltx_ref">66</a>]</cite>. Note that PVRCNN++ in Table 1 is the same as PVRCNN++ (center). As in Table <a href="#A1.T1" title="Table A ‣ A.4 Semantic Attention Mask ‣ Appendix A More Implementation Details ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>, Graph-RCNN and CF (8 frames) achieve higher results, but either with multi-modal or multi-frame data for prediction. When using single frames, OcTr clearly outperforms CF. As for FSD, the performance of OcTr is comparable or even better than that of FSD on vehicle and pedestrian, but is moderately lower on cyclist. However, FSD builds a strong detection head, which tends to be complementary to our OcTr backbone. We believe that OcTr can be further promoted by combining FSD.</p>
</div>
<div id="A2.p2" class="ltx_para">
<p id="A2.p2.1" class="ltx_p">We also conduct experiments on Waymo <span id="A2.p2.1.1" class="ltx_text ltx_font_italic">test</span> in Table <a href="#A1.T2" title="Table B ‣ A.4 Semantic Attention Mask ‣ Appendix A More Implementation Details ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a> using the representative single-stage SECOND and two-stage PVRCNN++, and the results confirm the effectiveness of our method. It should be noted that the common testing tricks, <em id="A2.p2.1.2" class="ltx_emph ltx_font_italic">e.g.</em> TTA and WBF, are not applied.</p>
</div>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>More Visualization Results</h2>

<div id="A3.p1" class="ltx_para">
<p id="A3.p1.1" class="ltx_p">We additionally visualize some detection results by using the proposed OcTr network on KITTI <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> and WOD <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite> in Fig. <a href="#A1.F4" title="Figure D ‣ A.4 Semantic Attention Mask ‣ Appendix A More Implementation Details ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D</span></a> and Fig. <a href="#A3.F5" title="Figure E ‣ Appendix C More Visualization Results ‣ OcTr: Octree-based Transformer for 3D Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">E</span></a>, respectively. We use the two-stage detector PVRCNN++ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite> as our baseline model and only predict cars on KITTI. As displayed, we can observe that OcTr delivers accurate localization and classification for distant and sparse samples, even in crowded scenes.</p>
</div>
<figure id="A3.F5" class="ltx_figure"><img src="/html/2303.12621/assets/x10.png" id="A3.F5.g1" class="ltx_graphics ltx_centering ltx_img_square" width="476" height="586" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A3.F5.3.1.1" class="ltx_text" style="font-size:90%;">Figure E</span>: </span><span id="A3.F5.4.2" class="ltx_text" style="font-size:90%;">Visualization on the WOD <span id="A3.F5.4.2.1" class="ltx_text ltx_font_italic">validation</span> set in crowded scenes. The blue/red bounding boxes indicate the predicted/ground-truth results, respectively.</span></figcaption>
</figure>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2303.12620" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2303.12621" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2303.12621">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2303.12621" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2303.12622" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Feb 29 19:02:19 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
