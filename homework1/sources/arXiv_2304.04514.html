<!DOCTYPE html><html lang="en-US">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2304.04514] DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment</title><meta property="og:description" content="This paper presents DetCLIPv2, an efficient and scalable training framework that incorporates large-scale image-text pairs to achieve open-vocabulary object detection (OVD). Unlike previous OVD frameworks that typicall…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2304.04514">

<!--Generated on Thu Feb 29 15:18:11 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_pruned_first" lang="en-US">
<h1 class="ltx_title ltx_title_document">

DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Lewei Yao<sup id="id14.11.id1" class="ltx_sup"><span id="id14.11.id1.1" class="ltx_text ltx_font_italic">1,2</span></sup>, Jianhua Han<sup id="id15.12.id2" class="ltx_sup">2</sup>, Xiaodan Liang<sup id="id16.13.id3" class="ltx_sup">3</sup><span id="footnotex1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Corresponding author: liangxd9@mail.sysu.edu.cn, xu.hang@huawei.com</span></span></span> , Dan Xu<sup id="id17.14.id4" class="ltx_sup">1</sup>, 
<br class="ltx_break">Wei Zhang<sup id="id18.15.id5" class="ltx_sup">2</sup>, Zhenguo Li<sup id="id19.16.id6" class="ltx_sup">2</sup>, Hang Xu<sup id="id20.17.id7" class="ltx_sup">2</sup><span id="footnotex2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Corresponding author: liangxd9@mail.sysu.edu.cn, xu.hang@huawei.com</span></span></span> 
<br class="ltx_break"><sup id="id21.18.id8" class="ltx_sup"><span id="id21.18.id8.1" class="ltx_text" style="font-size:90%;">1</span></sup><span id="id10.10.2" class="ltx_text" style="font-size:90%;">Hong Kong University of Science and Technology, <sup id="id10.10.2.1" class="ltx_sup">2</sup>Huawei Noah’s Ark Lab 
<br class="ltx_break"><sup id="id10.10.2.2" class="ltx_sup">3</sup>Shenzhen Campus of Sun Yat-Sen University 
</span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id11.1" class="ltx_p"><span id="id11.1.1" class="ltx_text">This paper presents DetCLIPv2, an efficient and scalable training framework that incorporates large-scale image-text pairs to achieve open-vocabulary object detection (OVD). Unlike previous OVD frameworks that typically rely on a pre-trained vision-language model (e.g., CLIP) or exploit image-text pairs via a pseudo labeling process, DetCLIPv2 directly learns the fine-grained word-region alignment from massive image-text pairs in an end-to-end manner. To accomplish this, we employ a maximum word-region similarity between region proposals and textual words to guide the contrastive objective. To enable the model to gain localization capability while learning broad concepts, DetCLIPv2 is trained with a hybrid supervision from detection, grounding and image-text pair data under a unified data formulation. By jointly training with an alternating scheme and adopting low-resolution input for image-text pairs, DetCLIPv2 exploits image-text pair data efficiently and effectively: DetCLIPv2 utilizes 13<math id="id11.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="id11.1.1.m1.1a"><mo id="id11.1.1.m1.1.1" xref="id11.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="id11.1.1.m1.1b"><times id="id11.1.1.m1.1.1.cmml" xref="id11.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="id11.1.1.m1.1c">\times</annotation></semantics></math> more image-text pairs than DetCLIP with a similar training time and improves performance. With 13M image-text pairs for pre-training, DetCLIPv2 demonstrates superior open-vocabulary detection performance, e.g., DetCLIPv2 with Swin-T backbone achieves 40.4% zero-shot AP on the LVIS benchmark, which outperforms previous works GLIP/GLIPv2/DetCLIP by 14.4/11.4/4.5% AP, respectively, and even beats its fully-supervised counterpart by a large margin.</span></p>
</div>
<div id="id13" class="ltx_logical-block">
<div id="id13.p1" class="ltx_para">
<img src="/html/2304.04514/assets/x1.png" id="id12.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="528" height="252" alt="[Uncaptioned image]">
</div>
<figure id="S0.F1" class="ltx_figure ltx_align_center">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S0.F1.3.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S0.F1.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Visualizations of DetCLIPv2 for open-vocabulary word-region alignment<span id="S0.F1.4.2.1" class="ltx_text ltx_font_medium">. DetCLIPv2 is able to detect broad concepts.

</span></span></figcaption>
</figure>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Traditional object detection frameworks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>, <a href="#bib.bib41" title="" class="ltx_ref">41</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib62" title="" class="ltx_ref">62</a>]</cite> are typically trained to predict a set of predefined categories, which fails to meet the demand of many downstream application scenarios that require to detect arbitrary categories (denoted as open-vocabulary detection, OVD). For example, a robust autonomous driving system requires accurate predictions for all classes of objects on the road <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>. Extending traditional object detectors to adapt these scenarios needs tremendous human effort for extra instance-level bounding-box annotations, especially for rare classes. To obtain an open-vocabulary detector without the expensive annotation process, the central question we should ask is: <span id="S1.p1.1.1" class="ltx_text ltx_font_italic">where does knowledge about unseen categories come from</span>?</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Recent works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib56" title="" class="ltx_ref">56</a>, <a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> try to achieve open-vocabulary object detection by transferring knowledge from a pre-trained vision-language (VL) model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>. E.g., ViLD <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> distills the CLIP’s <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> image embeddings of cropped proposals into the proposal features of a detection model.
However, these solutions suffer from the domain gap problem: VL models are typically pre-trained with an image-level supervision using a fixed resolution input, which are not capable of recognizing objects with various scales in the detection task, especially for small objects.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Another line of work resorts to exploiting massive image-text pairs crawled from the Internet. To utilize the image-text pair data without instance-level annotation, approaches <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib53" title="" class="ltx_ref">53</a>, <a href="#bib.bib59" title="" class="ltx_ref">59</a>]</cite> generate pseudo-bounding-box labels following a self-training paradigm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite> or based on a pre-trained VL model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>. However, their final performance is restricted by the quality of pseudo-labels provided by a detector trained with limited human-annotated concepts or a VL model suffering from the aforementioned domain gap problem. Besides, using high-resolution inputs similar to detection data for massive image-text pairs will impose a huge computational burden on training, preventing us from further scaling up image-text pairs.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">To address the above issues, we present DetCLIPv2, an end-to-end open-vocabulary detection pre-training framework that effectively incorporates large-scale image-text pairs. DetCLILPv2 simultaneously learns localization capability and knowledge of broad concepts without relying on a teacher model to provide pseudo labels. Specifically, we perform joint training with heterogeneous data from multiple sources, including detection <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite>, grounding <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> and image-text pairs <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>, under a unified data formulation.
To enable image-text pairs without instance-level annotations to facilitate learning of detection, inspired by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>, we employ an optimal matching-based set similarity between visual regions and textual concepts to guide the contrastive learning. By alternating different types of data for training, we enable a “flywheel effect”: learning from detection data provides accurate localization, which helps extract representative regions for contrastive learning, while contrastive learning from image-text pairs helps recognize broader concepts, which further improves the localization of unseen categories. As the training goes on, the detector learns to locate and recognize increasingly rich concepts.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Furthermore, to relief the computation burden brought by large-scale image-text pairs, we adopt a low-resolution input for image-text pair data, which significantly improves the training efficiency. This is a reasonable design since the caption of image-text pair data typically describes only the main objects appearing in the image, which alleviates the necessity of high-resolution training.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">Benefiting from the effective designs, DetCLIPv2 demonstrates superior open-vocabulary detection performance and promising scaling behavior. E.g., compared to the prior work DetCLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>, DetCLIPv2 is able to exploit 13<math id="S1.p6.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S1.p6.1.m1.1a"><mo id="S1.p6.1.m1.1.1" xref="S1.p6.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S1.p6.1.m1.1b"><times id="S1.p6.1.m1.1.1.cmml" xref="S1.p6.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S1.p6.1.m1.1c">\times</annotation></semantics></math> more image-text pairs while requiring only a similar training time. Using the vanilla ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> as the detector, DetCLIPv2 with Swin-T backbone achieves 40.4% <span id="S1.p6.1.1" class="ltx_text ltx_font_italic">zero-shot</span> AP on the LVIS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> benchmark, surpassing previous works GLIP<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>/GLIPv2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>/DetCLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite> by 14.4/11.4/4.5% AP, respectively. DetCLIPv2 also exhibits great generalization when transferring to down-stream tasks, e.g., it achieves SoTA fine-tuning performance on LVIS and ODinW13 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>. We present a possibility of achieving open-world detection by incorporating large-scale image-text pairs and hope it will enlighten the community to explore a similar successful trajectory to CLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>.</p>
</div>
<figure id="S1.F2" class="ltx_figure"><img src="/html/2304.04514/assets/x2.png" id="S1.F2.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="203" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F2.4.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S1.F2.5.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Different OVD training paradigms.<span id="S1.F2.5.2.1" class="ltx_text ltx_font_medium"> (a) Distilling knowledge from a pre-trained VL model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. (b) Exploiting image-text pairs via pseudo labeling <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>. (c) Our end-to-end joint training eliminates complex multi-stage training schemes, allowing for mutual benefits in learning from different types of data.
</span></span></figcaption>
</figure>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Vision-Language Pre-training (VLP).</h5>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p1.1" class="ltx_p">Conventional vision-language models are designed to serve a specific task, e.g., VQA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> and image captioning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib50" title="" class="ltx_ref">50</a>, <a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib55" title="" class="ltx_ref">55</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>, etc. Recently, there has been a trend to develop generic vision-language representation learning systems by exploiting large-scale low-cost image-text pairs. For example, CLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> and ALIGN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> perform cross-modal contrastive learning on millions of image-text pairs and achieve impressive zero-shot image classification performance. The most relevant work to our approach is FILIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>, which proposes a cross-modal late interaction mechanism based on a word-patch similarity to better facilitate image-text alignment. However, it is non-trivial to leverage the idea to construct an open-vocabulary detection system, for which our approach provides a solution.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Open-vocabulary object detection (OVD)</h5>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p1.1" class="ltx_p">emerges recently as a
more general and practical paradigm to detect objects of unbounded concepts. Inspired by the success of vision-language pre-training, recent works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib56" title="" class="ltx_ref">56</a>, <a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib59" title="" class="ltx_ref">59</a>]</cite> propose to transfer knowledge of a pre-trained VL model (e.g., CLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>) into a detector.
Another effective idea is to use a wider source of training data. E.g, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite> incorporate low-cost image-text pairs to expand domain coverage via a pseudo labeling process. XDETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> integrates a standard contrastive learning in VLP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> to learn image-to-text alignment. Detic <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib60" title="" class="ltx_ref">60</a>]</cite> turns to solve a large-vocabulary detection problem by directly assigning classification labels to the max-size region proposals. Unlike previous works, our approach targets on building an end-to-end framework that effectively learns word-region alignment from massive image-text pairs without relying on a teacher model.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Semi-supervised Object Detection (SSOD)</h5>

<div id="S2.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p1.1" class="ltx_p">methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>, <a href="#bib.bib63" title="" class="ltx_ref">63</a>, <a href="#bib.bib46" title="" class="ltx_ref">46</a>, <a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite> aim to improve object detection systems by exploiting unlabeled data on the basis of some available labeled data. Although effective in improving performance, these methods still assume a closed-domain setting where the categories in unlabeled data should be covered by labeled data. On the other hand, <span id="S2.SS0.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_bold">Weakly-supervised Object Detection (WSOD)</span> methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> aim to establish localization-capable detectors by leveraging image-level labels, which also require a set of pre-defined categories. Differing from methods in these fields, our approach considers a more challenging open-domain setting and targeting on establishing an open-world detector by learning unlimited concepts from massive image-text pairs.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>The Proposed Approach</h2>

<figure id="S3.F3" class="ltx_figure"><img src="/html/2304.04514/assets/x3.png" id="S3.F3.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="528" height="171" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.14.6.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S3.F3.11.10.5" class="ltx_text ltx_font_bold" style="font-size:90%;">Overall architecture of DetCLIPv2<span id="S3.F3.11.10.5.5" class="ltx_text ltx_font_medium">. DetCLIPv2 performs a joint training with detection, grounding and image-pair data in an end-to-end manner.
The architecture consists of an image encoder to extract region embeddings <math id="S3.F3.7.6.1.1.m1.1" class="ltx_Math" alttext="\textbf{f}^{P}" display="inline"><semantics id="S3.F3.7.6.1.1.m1.1b"><msup id="S3.F3.7.6.1.1.m1.1.1" xref="S3.F3.7.6.1.1.m1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.F3.7.6.1.1.m1.1.1.2" xref="S3.F3.7.6.1.1.m1.1.1.2a.cmml">f</mtext><mi id="S3.F3.7.6.1.1.m1.1.1.3" xref="S3.F3.7.6.1.1.m1.1.1.3.cmml">P</mi></msup><annotation-xml encoding="MathML-Content" id="S3.F3.7.6.1.1.m1.1c"><apply id="S3.F3.7.6.1.1.m1.1.1.cmml" xref="S3.F3.7.6.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.F3.7.6.1.1.m1.1.1.1.cmml" xref="S3.F3.7.6.1.1.m1.1.1">superscript</csymbol><ci id="S3.F3.7.6.1.1.m1.1.1.2a.cmml" xref="S3.F3.7.6.1.1.m1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.F3.7.6.1.1.m1.1.1.2.cmml" xref="S3.F3.7.6.1.1.m1.1.1.2">f</mtext></ci><ci id="S3.F3.7.6.1.1.m1.1.1.3.cmml" xref="S3.F3.7.6.1.1.m1.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F3.7.6.1.1.m1.1d">\textbf{f}^{P}</annotation></semantics></math> from an input image and a text encoder to compute word embeddings <math id="S3.F3.8.7.2.2.m2.1" class="ltx_Math" alttext="\textbf{f}^{T}" display="inline"><semantics id="S3.F3.8.7.2.2.m2.1b"><msup id="S3.F3.8.7.2.2.m2.1.1" xref="S3.F3.8.7.2.2.m2.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.F3.8.7.2.2.m2.1.1.2" xref="S3.F3.8.7.2.2.m2.1.1.2a.cmml">f</mtext><mi id="S3.F3.8.7.2.2.m2.1.1.3" xref="S3.F3.8.7.2.2.m2.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="S3.F3.8.7.2.2.m2.1c"><apply id="S3.F3.8.7.2.2.m2.1.1.cmml" xref="S3.F3.8.7.2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.F3.8.7.2.2.m2.1.1.1.cmml" xref="S3.F3.8.7.2.2.m2.1.1">superscript</csymbol><ci id="S3.F3.8.7.2.2.m2.1.1.2a.cmml" xref="S3.F3.8.7.2.2.m2.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.F3.8.7.2.2.m2.1.1.2.cmml" xref="S3.F3.8.7.2.2.m2.1.1.2">f</mtext></ci><ci id="S3.F3.8.7.2.2.m2.1.1.3.cmml" xref="S3.F3.8.7.2.2.m2.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F3.8.7.2.2.m2.1d">\textbf{f}^{T}</annotation></semantics></math> for the input noun phrases. For detection and grounding data, the learning is performed by aligning the word-region similarity matrix <math id="S3.F3.9.8.3.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.F3.9.8.3.3.m3.1b"><mi id="S3.F3.9.8.3.3.m3.1.1" xref="S3.F3.9.8.3.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.F3.9.8.3.3.m3.1c"><ci id="S3.F3.9.8.3.3.m3.1.1.cmml" xref="S3.F3.9.8.3.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F3.9.8.3.3.m3.1d">S</annotation></semantics></math> to a target matrix constructed with instance-level annotations. For image-text pairs, we calculate an optimal match-based set similarity between <math id="S3.F3.10.9.4.4.m4.1" class="ltx_Math" alttext="\textbf{f}^{T}" display="inline"><semantics id="S3.F3.10.9.4.4.m4.1b"><msup id="S3.F3.10.9.4.4.m4.1.1" xref="S3.F3.10.9.4.4.m4.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.F3.10.9.4.4.m4.1.1.2" xref="S3.F3.10.9.4.4.m4.1.1.2a.cmml">f</mtext><mi id="S3.F3.10.9.4.4.m4.1.1.3" xref="S3.F3.10.9.4.4.m4.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="S3.F3.10.9.4.4.m4.1c"><apply id="S3.F3.10.9.4.4.m4.1.1.cmml" xref="S3.F3.10.9.4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.F3.10.9.4.4.m4.1.1.1.cmml" xref="S3.F3.10.9.4.4.m4.1.1">superscript</csymbol><ci id="S3.F3.10.9.4.4.m4.1.1.2a.cmml" xref="S3.F3.10.9.4.4.m4.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.F3.10.9.4.4.m4.1.1.2.cmml" xref="S3.F3.10.9.4.4.m4.1.1.2">f</mtext></ci><ci id="S3.F3.10.9.4.4.m4.1.1.3.cmml" xref="S3.F3.10.9.4.4.m4.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F3.10.9.4.4.m4.1d">\textbf{f}^{T}</annotation></semantics></math> and <math id="S3.F3.11.10.5.5.m5.1" class="ltx_Math" alttext="\textbf{f}^{P}" display="inline"><semantics id="S3.F3.11.10.5.5.m5.1b"><msup id="S3.F3.11.10.5.5.m5.1.1" xref="S3.F3.11.10.5.5.m5.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.F3.11.10.5.5.m5.1.1.2" xref="S3.F3.11.10.5.5.m5.1.1.2a.cmml">f</mtext><mi id="S3.F3.11.10.5.5.m5.1.1.3" xref="S3.F3.11.10.5.5.m5.1.1.3.cmml">P</mi></msup><annotation-xml encoding="MathML-Content" id="S3.F3.11.10.5.5.m5.1c"><apply id="S3.F3.11.10.5.5.m5.1.1.cmml" xref="S3.F3.11.10.5.5.m5.1.1"><csymbol cd="ambiguous" id="S3.F3.11.10.5.5.m5.1.1.1.cmml" xref="S3.F3.11.10.5.5.m5.1.1">superscript</csymbol><ci id="S3.F3.11.10.5.5.m5.1.1.2a.cmml" xref="S3.F3.11.10.5.5.m5.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.F3.11.10.5.5.m5.1.1.2.cmml" xref="S3.F3.11.10.5.5.m5.1.1.2">f</mtext></ci><ci id="S3.F3.11.10.5.5.m5.1.1.3.cmml" xref="S3.F3.11.10.5.5.m5.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F3.11.10.5.5.m5.1d">\textbf{f}^{P}</annotation></semantics></math> to guide the contrastive learning, enabling the learning of word-region alignment.
</span></span></figcaption>
</figure>
<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">An overview framework of the proposed approach is illustrated in Figure <a href="#S3.F3" title="Figure 3 ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. To construct a robust open-world object detection system, DetCLIPv2 incorporates data from different sources, i.e., detection, grounding, and image-text pairs, for pre-training. We first introduce a unified paralleled data formulation enabling a training with heterogeneous supervisions (Sec. <a href="#S3.SS1" title="3.1 A Unified Data Formulation ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>). To utilize image-text pairs without instance-level annotations, we introduce a fine-grained contrastive learning that automatically aligns textual words and visual regions (Sec. <a href="#S3.SS2" title="3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>). Finally, we introduce the model architecture/training objective (Sec. <a href="#S3.SS3" title="3.3 Model Architecture and Training Objective ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>) and the joint-training details (Sec. <a href="#S3.SS4" title="3.4 Joint Training ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.4</span></a>).</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>A Unified Data Formulation</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.4" class="ltx_p">Following DetCLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>, we use a <span id="S3.SS1.p1.4.1" class="ltx_text ltx_font_italic">paralleled formulation</span> to unify the formats of data from different sources. Specifically, we formulate each data sample as a triplet: <math id="S3.SS1.p1.1.m1.3" class="ltx_Math" alttext="(x^{I},\{\textbf{b}_{i}\}_{i=1}^{N},\{t_{j}\}_{j=1}^{M})" display="inline"><semantics id="S3.SS1.p1.1.m1.3a"><mrow id="S3.SS1.p1.1.m1.3.3.3" xref="S3.SS1.p1.1.m1.3.3.4.cmml"><mo stretchy="false" id="S3.SS1.p1.1.m1.3.3.3.4" xref="S3.SS1.p1.1.m1.3.3.4.cmml">(</mo><msup id="S3.SS1.p1.1.m1.1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.p1.1.m1.1.1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.1.1.3.cmml">I</mi></msup><mo id="S3.SS1.p1.1.m1.3.3.3.5" xref="S3.SS1.p1.1.m1.3.3.4.cmml">,</mo><msubsup id="S3.SS1.p1.1.m1.2.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.2.cmml"><mrow id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.2" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.2.cmml">{</mo><msub id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.2" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.2a.cmml">b</mtext><mi id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.3" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.3" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.1.m1.2.2.2.2.1.3" xref="S3.SS1.p1.1.m1.2.2.2.2.1.3.cmml"><mi id="S3.SS1.p1.1.m1.2.2.2.2.1.3.2" xref="S3.SS1.p1.1.m1.2.2.2.2.1.3.2.cmml">i</mi><mo id="S3.SS1.p1.1.m1.2.2.2.2.1.3.1" xref="S3.SS1.p1.1.m1.2.2.2.2.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.1.m1.2.2.2.2.1.3.3" xref="S3.SS1.p1.1.m1.2.2.2.2.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p1.1.m1.2.2.2.2.3" xref="S3.SS1.p1.1.m1.2.2.2.2.3.cmml">N</mi></msubsup><mo id="S3.SS1.p1.1.m1.3.3.3.6" xref="S3.SS1.p1.1.m1.3.3.4.cmml">,</mo><msubsup id="S3.SS1.p1.1.m1.3.3.3.3" xref="S3.SS1.p1.1.m1.3.3.3.3.cmml"><mrow id="S3.SS1.p1.1.m1.3.3.3.3.1.1.1" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.2" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.2.cmml">{</mo><msub id="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.2" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.2.cmml">t</mi><mi id="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.3" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.3" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.1.m1.3.3.3.3.1.3" xref="S3.SS1.p1.1.m1.3.3.3.3.1.3.cmml"><mi id="S3.SS1.p1.1.m1.3.3.3.3.1.3.2" xref="S3.SS1.p1.1.m1.3.3.3.3.1.3.2.cmml">j</mi><mo id="S3.SS1.p1.1.m1.3.3.3.3.1.3.1" xref="S3.SS1.p1.1.m1.3.3.3.3.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.1.m1.3.3.3.3.1.3.3" xref="S3.SS1.p1.1.m1.3.3.3.3.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p1.1.m1.3.3.3.3.3" xref="S3.SS1.p1.1.m1.3.3.3.3.3.cmml">M</mi></msubsup><mo stretchy="false" id="S3.SS1.p1.1.m1.3.3.3.7" xref="S3.SS1.p1.1.m1.3.3.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.3b"><vector id="S3.SS1.p1.1.m1.3.3.4.cmml" xref="S3.SS1.p1.1.m1.3.3.3"><apply id="S3.SS1.p1.1.m1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1">superscript</csymbol><ci id="S3.SS1.p1.1.m1.1.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.2">𝑥</ci><ci id="S3.SS1.p1.1.m1.1.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.3">𝐼</ci></apply><apply id="S3.SS1.p1.1.m1.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2">superscript</csymbol><apply id="S3.SS1.p1.1.m1.2.2.2.2.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.2.2.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2">subscript</csymbol><set id="S3.SS1.p1.1.m1.2.2.2.2.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.1"><apply id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.2a.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.2">b</mtext></ci><ci id="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.SS1.p1.1.m1.2.2.2.2.1.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.1.3"><eq id="S3.SS1.p1.1.m1.2.2.2.2.1.3.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.1.3.1"></eq><ci id="S3.SS1.p1.1.m1.2.2.2.2.1.3.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.1.3.2">𝑖</ci><cn type="integer" id="S3.SS1.p1.1.m1.2.2.2.2.1.3.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.1.3.3">1</cn></apply></apply><ci id="S3.SS1.p1.1.m1.2.2.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.3">𝑁</ci></apply><apply id="S3.SS1.p1.1.m1.3.3.3.3.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.3.3.3.3.2.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3">superscript</csymbol><apply id="S3.SS1.p1.1.m1.3.3.3.3.1.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.3.3.3.3.1.2.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3">subscript</csymbol><set id="S3.SS1.p1.1.m1.3.3.3.3.1.1.2.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.1"><apply id="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.2">𝑡</ci><ci id="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3.1.1.1.1.3">𝑗</ci></apply></set><apply id="S3.SS1.p1.1.m1.3.3.3.3.1.3.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3.1.3"><eq id="S3.SS1.p1.1.m1.3.3.3.3.1.3.1.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3.1.3.1"></eq><ci id="S3.SS1.p1.1.m1.3.3.3.3.1.3.2.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3.1.3.2">𝑗</ci><cn type="integer" id="S3.SS1.p1.1.m1.3.3.3.3.1.3.3.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3.1.3.3">1</cn></apply></apply><ci id="S3.SS1.p1.1.m1.3.3.3.3.3.cmml" xref="S3.SS1.p1.1.m1.3.3.3.3.3">𝑀</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.3c">(x^{I},\{\textbf{b}_{i}\}_{i=1}^{N},\{t_{j}\}_{j=1}^{M})</annotation></semantics></math>, where <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="x^{I}\in\mathbb{R}^{3\times h\times w}" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mrow id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><msup id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2.2" xref="S3.SS1.p1.2.m2.1.1.2.2.cmml">x</mi><mi id="S3.SS1.p1.2.m2.1.1.2.3" xref="S3.SS1.p1.2.m2.1.1.2.3.cmml">I</mi></msup><mo id="S3.SS1.p1.2.m2.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml"><mi id="S3.SS1.p1.2.m2.1.1.3.2" xref="S3.SS1.p1.2.m2.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS1.p1.2.m2.1.1.3.3" xref="S3.SS1.p1.2.m2.1.1.3.3.cmml"><mn id="S3.SS1.p1.2.m2.1.1.3.3.2" xref="S3.SS1.p1.2.m2.1.1.3.3.2.cmml">3</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.2.m2.1.1.3.3.1" xref="S3.SS1.p1.2.m2.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.p1.2.m2.1.1.3.3.3" xref="S3.SS1.p1.2.m2.1.1.3.3.3.cmml">h</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.2.m2.1.1.3.3.1a" xref="S3.SS1.p1.2.m2.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.p1.2.m2.1.1.3.3.4" xref="S3.SS1.p1.2.m2.1.1.3.3.4.cmml">w</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><in id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1"></in><apply id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.2.1.cmml" xref="S3.SS1.p1.2.m2.1.1.2">superscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.2.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2.2">𝑥</ci><ci id="S3.SS1.p1.2.m2.1.1.2.3.cmml" xref="S3.SS1.p1.2.m2.1.1.2.3">𝐼</ci></apply><apply id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2">ℝ</ci><apply id="S3.SS1.p1.2.m2.1.1.3.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3.3"><times id="S3.SS1.p1.2.m2.1.1.3.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3.3.1"></times><cn type="integer" id="S3.SS1.p1.2.m2.1.1.3.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.3.2">3</cn><ci id="S3.SS1.p1.2.m2.1.1.3.3.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3.3.3">ℎ</ci><ci id="S3.SS1.p1.2.m2.1.1.3.3.4.cmml" xref="S3.SS1.p1.2.m2.1.1.3.3.4">𝑤</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">x^{I}\in\mathbb{R}^{3\times h\times w}</annotation></semantics></math> is the image, <math id="S3.SS1.p1.3.m3.2" class="ltx_Math" alttext="\{\textbf{b}_{i}|\textbf{b}_{i}\in\mathbb{R}^{4}\}_{i=1}^{N}" display="inline"><semantics id="S3.SS1.p1.3.m3.2a"><msubsup id="S3.SS1.p1.3.m3.2.2" xref="S3.SS1.p1.3.m3.2.2.cmml"><mrow id="S3.SS1.p1.3.m3.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p1.3.m3.2.2.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.3.1.cmml">{</mo><msub id="S3.SS1.p1.3.m3.1.1.1.1.1.1" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.p1.3.m3.1.1.1.1.1.1.2" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.2a.cmml">b</mtext><mi id="S3.SS1.p1.3.m3.1.1.1.1.1.1.3" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p1.3.m3.2.2.2.2.2.4" xref="S3.SS1.p1.3.m3.2.2.2.2.3.1.cmml">|</mo><mrow id="S3.SS1.p1.3.m3.2.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.cmml"><msub id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2a.cmml">b</mtext><mi id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.SS1.p1.3.m3.2.2.2.2.2.2.1" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.1.cmml">∈</mo><msup id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.cmml"><mi id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.cmml">ℝ</mi><mn id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.3" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.3.cmml">4</mn></msup></mrow><mo stretchy="false" id="S3.SS1.p1.3.m3.2.2.2.2.2.5" xref="S3.SS1.p1.3.m3.2.2.2.2.3.1.cmml">}</mo></mrow><mrow id="S3.SS1.p1.3.m3.2.2.2.4" xref="S3.SS1.p1.3.m3.2.2.2.4.cmml"><mi id="S3.SS1.p1.3.m3.2.2.2.4.2" xref="S3.SS1.p1.3.m3.2.2.2.4.2.cmml">i</mi><mo id="S3.SS1.p1.3.m3.2.2.2.4.1" xref="S3.SS1.p1.3.m3.2.2.2.4.1.cmml">=</mo><mn id="S3.SS1.p1.3.m3.2.2.2.4.3" xref="S3.SS1.p1.3.m3.2.2.2.4.3.cmml">1</mn></mrow><mi id="S3.SS1.p1.3.m3.2.2.4" xref="S3.SS1.p1.3.m3.2.2.4.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.2b"><apply id="S3.SS1.p1.3.m3.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2">superscript</csymbol><apply id="S3.SS1.p1.3.m3.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2">subscript</csymbol><apply id="S3.SS1.p1.3.m3.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2"><csymbol cd="latexml" id="S3.SS1.p1.3.m3.2.2.2.2.3.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.3">conditional-set</csymbol><apply id="S3.SS1.p1.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.1.1.1.1.2a.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.p1.3.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.2">b</mtext></ci><ci id="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.p1.3.m3.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2"><in id="S3.SS1.p1.3.m3.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.1"></in><apply id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2a.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.2">b</mtext></ci><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.3">𝑖</ci></apply><apply id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3">superscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2">ℝ</ci><cn type="integer" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.3">4</cn></apply></apply></apply><apply id="S3.SS1.p1.3.m3.2.2.2.4.cmml" xref="S3.SS1.p1.3.m3.2.2.2.4"><eq id="S3.SS1.p1.3.m3.2.2.2.4.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.4.1"></eq><ci id="S3.SS1.p1.3.m3.2.2.2.4.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.4.2">𝑖</ci><cn type="integer" id="S3.SS1.p1.3.m3.2.2.2.4.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.4.3">1</cn></apply></apply><ci id="S3.SS1.p1.3.m3.2.2.4.cmml" xref="S3.SS1.p1.3.m3.2.2.4">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.2c">\{\textbf{b}_{i}|\textbf{b}_{i}\in\mathbb{R}^{4}\}_{i=1}^{N}</annotation></semantics></math> and <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="T=\{t_{j}\}_{j=1}^{M}" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><mrow id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">T</mi><mo id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml">=</mo><msubsup id="S3.SS1.p1.4.m4.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.cmml"><mrow id="S3.SS1.p1.4.m4.1.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p1.4.m4.1.1.1.1.1.1.2" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS1.p1.4.m4.1.1.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.2" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.2.cmml">t</mi><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S3.SS1.p1.4.m4.1.1.1.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.4.m4.1.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.1.3.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.1.3.2" xref="S3.SS1.p1.4.m4.1.1.1.1.3.2.cmml">j</mi><mo id="S3.SS1.p1.4.m4.1.1.1.1.3.1" xref="S3.SS1.p1.4.m4.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.4.m4.1.1.1.1.3.3" xref="S3.SS1.p1.4.m4.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p1.4.m4.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.3.cmml">M</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><eq id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2"></eq><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">𝑇</ci><apply id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.4.m4.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1">subscript</csymbol><set id="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1"><apply id="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.2">𝑡</ci><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S3.SS1.p1.4.m4.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.3"><eq id="S3.SS1.p1.4.m4.1.1.1.1.3.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.3.1"></eq><ci id="S3.SS1.p1.4.m4.1.1.1.1.3.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.3.2">𝑗</ci><cn type="integer" id="S3.SS1.p1.4.m4.1.1.1.1.3.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS1.p1.4.m4.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.3">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">T=\{t_{j}\}_{j=1}^{M}</annotation></semantics></math> denote a set of bounding box annotations and concept names, respectively. The triplet is constructed for different types of data differently:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.2" class="ltx_p"><span id="S3.I1.i1.p1.2.1" class="ltx_text ltx_font_bold">Detection</span>. <math id="S3.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.I1.i1.p1.1.m1.1a"><mi id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b"><ci id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">T</annotation></semantics></math> is constructed from a sampled category names of the dataset, which consists of categories appearing in the image and additional randomly-sampled negative categories.
To explicitly provide the relationships between various concepts, We apply <span id="S3.I1.i1.p1.2.2" class="ltx_text ltx_font_italic">concept enrichment</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite> during both training and testing phases, i.e., each <math id="S3.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="t_{j}" display="inline"><semantics id="S3.I1.i1.p1.2.m2.1a"><msub id="S3.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.p1.2.m2.1.1.cmml"><mi id="S3.I1.i1.p1.2.m2.1.1.2" xref="S3.I1.i1.p1.2.m2.1.1.2.cmml">t</mi><mi id="S3.I1.i1.p1.2.m2.1.1.3" xref="S3.I1.i1.p1.2.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.1b"><apply id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.p1.2.m2.1.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.I1.i1.p1.2.m2.1.1.2.cmml" xref="S3.I1.i1.p1.2.m2.1.1.2">𝑡</ci><ci id="S3.I1.i1.p1.2.m2.1.1.3.cmml" xref="S3.I1.i1.p1.2.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.1c">t_{j}</annotation></semantics></math> is obtained by concatenating its category name with the corresponding definition.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.4" class="ltx_p"><span id="S3.I1.i2.p1.4.1" class="ltx_text ltx_font_bold">Grounding</span>. We first extract noun phrases (provided in annotations) from the original caption to form a positive concept set <math id="S3.I1.i2.p1.1.m1.2" class="ltx_Math" alttext="T_{pos}=\{t_{j}\}_{j=1}^{|pos|}" display="inline"><semantics id="S3.I1.i2.p1.1.m1.2a"><mrow id="S3.I1.i2.p1.1.m1.2.2" xref="S3.I1.i2.p1.1.m1.2.2.cmml"><msub id="S3.I1.i2.p1.1.m1.2.2.3" xref="S3.I1.i2.p1.1.m1.2.2.3.cmml"><mi id="S3.I1.i2.p1.1.m1.2.2.3.2" xref="S3.I1.i2.p1.1.m1.2.2.3.2.cmml">T</mi><mrow id="S3.I1.i2.p1.1.m1.2.2.3.3" xref="S3.I1.i2.p1.1.m1.2.2.3.3.cmml"><mi id="S3.I1.i2.p1.1.m1.2.2.3.3.2" xref="S3.I1.i2.p1.1.m1.2.2.3.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.1.m1.2.2.3.3.1" xref="S3.I1.i2.p1.1.m1.2.2.3.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.1.m1.2.2.3.3.3" xref="S3.I1.i2.p1.1.m1.2.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.1.m1.2.2.3.3.1a" xref="S3.I1.i2.p1.1.m1.2.2.3.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.1.m1.2.2.3.3.4" xref="S3.I1.i2.p1.1.m1.2.2.3.3.4.cmml">s</mi></mrow></msub><mo id="S3.I1.i2.p1.1.m1.2.2.2" xref="S3.I1.i2.p1.1.m1.2.2.2.cmml">=</mo><msubsup id="S3.I1.i2.p1.1.m1.2.2.1" xref="S3.I1.i2.p1.1.m1.2.2.1.cmml"><mrow id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.2.cmml"><mo stretchy="false" id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.2" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.2.cmml">{</mo><msub id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.cmml"><mi id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.2" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.2.cmml">t</mi><mi id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.3" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.3" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.I1.i2.p1.1.m1.2.2.1.1.3" xref="S3.I1.i2.p1.1.m1.2.2.1.1.3.cmml"><mi id="S3.I1.i2.p1.1.m1.2.2.1.1.3.2" xref="S3.I1.i2.p1.1.m1.2.2.1.1.3.2.cmml">j</mi><mo id="S3.I1.i2.p1.1.m1.2.2.1.1.3.1" xref="S3.I1.i2.p1.1.m1.2.2.1.1.3.1.cmml">=</mo><mn id="S3.I1.i2.p1.1.m1.2.2.1.1.3.3" xref="S3.I1.i2.p1.1.m1.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S3.I1.i2.p1.1.m1.1.1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.I1.i2.p1.1.m1.1.1.1.1.2" xref="S3.I1.i2.p1.1.m1.1.1.1.2.1.cmml">|</mo><mrow id="S3.I1.i2.p1.1.m1.1.1.1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.cmml"><mi id="S3.I1.i2.p1.1.m1.1.1.1.1.1.2" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.1.m1.1.1.1.1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.I1.i2.p1.1.m1.1.1.1.1.1.3" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.1.m1.1.1.1.1.1.1a" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.I1.i2.p1.1.m1.1.1.1.1.1.4" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.4.cmml">s</mi></mrow><mo stretchy="false" id="S3.I1.i2.p1.1.m1.1.1.1.1.3" xref="S3.I1.i2.p1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.2b"><apply id="S3.I1.i2.p1.1.m1.2.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2"><eq id="S3.I1.i2.p1.1.m1.2.2.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.2"></eq><apply id="S3.I1.i2.p1.1.m1.2.2.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.2.2.3.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3">subscript</csymbol><ci id="S3.I1.i2.p1.1.m1.2.2.3.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.2">𝑇</ci><apply id="S3.I1.i2.p1.1.m1.2.2.3.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.3"><times id="S3.I1.i2.p1.1.m1.2.2.3.3.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.3.1"></times><ci id="S3.I1.i2.p1.1.m1.2.2.3.3.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.3.2">𝑝</ci><ci id="S3.I1.i2.p1.1.m1.2.2.3.3.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.3.3">𝑜</ci><ci id="S3.I1.i2.p1.1.m1.2.2.3.3.4.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.3.4">𝑠</ci></apply></apply><apply id="S3.I1.i2.p1.1.m1.2.2.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.2.2.1.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1">superscript</csymbol><apply id="S3.I1.i2.p1.1.m1.2.2.1.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.2.2.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1">subscript</csymbol><set id="S3.I1.i2.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1"><apply id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.2">𝑡</ci><ci id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S3.I1.i2.p1.1.m1.2.2.1.1.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.3"><eq id="S3.I1.i2.p1.1.m1.2.2.1.1.3.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.3.1"></eq><ci id="S3.I1.i2.p1.1.m1.2.2.1.1.3.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.3.2">𝑗</ci><cn type="integer" id="S3.I1.i2.p1.1.m1.2.2.1.1.3.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.3.3">1</cn></apply></apply><apply id="S3.I1.i2.p1.1.m1.1.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1"><abs id="S3.I1.i2.p1.1.m1.1.1.1.2.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1.2"></abs><apply id="S3.I1.i2.p1.1.m1.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1"><times id="S3.I1.i2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.1"></times><ci id="S3.I1.i2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.2">𝑝</ci><ci id="S3.I1.i2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.3">𝑜</ci><ci id="S3.I1.i2.p1.1.m1.1.1.1.1.1.4.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.4">𝑠</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.2c">T_{pos}=\{t_{j}\}_{j=1}^{|pos|}</annotation></semantics></math>. To provide enough negative concepts for learning, we further randomly sample a negative concept set <math id="S3.I1.i2.p1.2.m2.2" class="ltx_Math" alttext="T_{neg}=\{t_{j}\}_{j=1}^{|neg|}" display="inline"><semantics id="S3.I1.i2.p1.2.m2.2a"><mrow id="S3.I1.i2.p1.2.m2.2.2" xref="S3.I1.i2.p1.2.m2.2.2.cmml"><msub id="S3.I1.i2.p1.2.m2.2.2.3" xref="S3.I1.i2.p1.2.m2.2.2.3.cmml"><mi id="S3.I1.i2.p1.2.m2.2.2.3.2" xref="S3.I1.i2.p1.2.m2.2.2.3.2.cmml">T</mi><mrow id="S3.I1.i2.p1.2.m2.2.2.3.3" xref="S3.I1.i2.p1.2.m2.2.2.3.3.cmml"><mi id="S3.I1.i2.p1.2.m2.2.2.3.3.2" xref="S3.I1.i2.p1.2.m2.2.2.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.2.m2.2.2.3.3.1" xref="S3.I1.i2.p1.2.m2.2.2.3.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.2.m2.2.2.3.3.3" xref="S3.I1.i2.p1.2.m2.2.2.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.2.m2.2.2.3.3.1a" xref="S3.I1.i2.p1.2.m2.2.2.3.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.2.m2.2.2.3.3.4" xref="S3.I1.i2.p1.2.m2.2.2.3.3.4.cmml">g</mi></mrow></msub><mo id="S3.I1.i2.p1.2.m2.2.2.2" xref="S3.I1.i2.p1.2.m2.2.2.2.cmml">=</mo><msubsup id="S3.I1.i2.p1.2.m2.2.2.1" xref="S3.I1.i2.p1.2.m2.2.2.1.cmml"><mrow id="S3.I1.i2.p1.2.m2.2.2.1.1.1.1" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.2.cmml"><mo stretchy="false" id="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.2" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.2.cmml">{</mo><msub id="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.cmml"><mi id="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.cmml">t</mi><mi id="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.3" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.I1.i2.p1.2.m2.2.2.1.1.3" xref="S3.I1.i2.p1.2.m2.2.2.1.1.3.cmml"><mi id="S3.I1.i2.p1.2.m2.2.2.1.1.3.2" xref="S3.I1.i2.p1.2.m2.2.2.1.1.3.2.cmml">j</mi><mo id="S3.I1.i2.p1.2.m2.2.2.1.1.3.1" xref="S3.I1.i2.p1.2.m2.2.2.1.1.3.1.cmml">=</mo><mn id="S3.I1.i2.p1.2.m2.2.2.1.1.3.3" xref="S3.I1.i2.p1.2.m2.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S3.I1.i2.p1.2.m2.1.1.1.1" xref="S3.I1.i2.p1.2.m2.1.1.1.2.cmml"><mo stretchy="false" id="S3.I1.i2.p1.2.m2.1.1.1.1.2" xref="S3.I1.i2.p1.2.m2.1.1.1.2.1.cmml">|</mo><mrow id="S3.I1.i2.p1.2.m2.1.1.1.1.1" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1.cmml"><mi id="S3.I1.i2.p1.2.m2.1.1.1.1.1.2" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.2.m2.1.1.1.1.1.1" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1.1.cmml">​</mo><mi id="S3.I1.i2.p1.2.m2.1.1.1.1.1.3" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.2.m2.1.1.1.1.1.1a" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1.1.cmml">​</mo><mi id="S3.I1.i2.p1.2.m2.1.1.1.1.1.4" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1.4.cmml">g</mi></mrow><mo stretchy="false" id="S3.I1.i2.p1.2.m2.1.1.1.1.3" xref="S3.I1.i2.p1.2.m2.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.2.m2.2b"><apply id="S3.I1.i2.p1.2.m2.2.2.cmml" xref="S3.I1.i2.p1.2.m2.2.2"><eq id="S3.I1.i2.p1.2.m2.2.2.2.cmml" xref="S3.I1.i2.p1.2.m2.2.2.2"></eq><apply id="S3.I1.i2.p1.2.m2.2.2.3.cmml" xref="S3.I1.i2.p1.2.m2.2.2.3"><csymbol cd="ambiguous" id="S3.I1.i2.p1.2.m2.2.2.3.1.cmml" xref="S3.I1.i2.p1.2.m2.2.2.3">subscript</csymbol><ci id="S3.I1.i2.p1.2.m2.2.2.3.2.cmml" xref="S3.I1.i2.p1.2.m2.2.2.3.2">𝑇</ci><apply id="S3.I1.i2.p1.2.m2.2.2.3.3.cmml" xref="S3.I1.i2.p1.2.m2.2.2.3.3"><times id="S3.I1.i2.p1.2.m2.2.2.3.3.1.cmml" xref="S3.I1.i2.p1.2.m2.2.2.3.3.1"></times><ci id="S3.I1.i2.p1.2.m2.2.2.3.3.2.cmml" xref="S3.I1.i2.p1.2.m2.2.2.3.3.2">𝑛</ci><ci id="S3.I1.i2.p1.2.m2.2.2.3.3.3.cmml" xref="S3.I1.i2.p1.2.m2.2.2.3.3.3">𝑒</ci><ci id="S3.I1.i2.p1.2.m2.2.2.3.3.4.cmml" xref="S3.I1.i2.p1.2.m2.2.2.3.3.4">𝑔</ci></apply></apply><apply id="S3.I1.i2.p1.2.m2.2.2.1.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.2.m2.2.2.1.2.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1">superscript</csymbol><apply id="S3.I1.i2.p1.2.m2.2.2.1.1.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.2.m2.2.2.1.1.2.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1">subscript</csymbol><set id="S3.I1.i2.p1.2.m2.2.2.1.1.1.2.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.1"><apply id="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2">𝑡</ci><ci id="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S3.I1.i2.p1.2.m2.2.2.1.1.3.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1.1.3"><eq id="S3.I1.i2.p1.2.m2.2.2.1.1.3.1.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1.1.3.1"></eq><ci id="S3.I1.i2.p1.2.m2.2.2.1.1.3.2.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1.1.3.2">𝑗</ci><cn type="integer" id="S3.I1.i2.p1.2.m2.2.2.1.1.3.3.cmml" xref="S3.I1.i2.p1.2.m2.2.2.1.1.3.3">1</cn></apply></apply><apply id="S3.I1.i2.p1.2.m2.1.1.1.2.cmml" xref="S3.I1.i2.p1.2.m2.1.1.1.1"><abs id="S3.I1.i2.p1.2.m2.1.1.1.2.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1.1.1.2"></abs><apply id="S3.I1.i2.p1.2.m2.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1"><times id="S3.I1.i2.p1.2.m2.1.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1.1"></times><ci id="S3.I1.i2.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1.2">𝑛</ci><ci id="S3.I1.i2.p1.2.m2.1.1.1.1.1.3.cmml" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1.3">𝑒</ci><ci id="S3.I1.i2.p1.2.m2.1.1.1.1.1.4.cmml" xref="S3.I1.i2.p1.2.m2.1.1.1.1.1.4">𝑔</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.2.m2.2c">T_{neg}=\{t_{j}\}_{j=1}^{|neg|}</annotation></semantics></math> that does not contained in the caption (i.e., <math id="S3.I1.i2.p1.3.m3.1" class="ltx_Math" alttext="T_{pos}\cap T_{neg}=\emptyset" display="inline"><semantics id="S3.I1.i2.p1.3.m3.1a"><mrow id="S3.I1.i2.p1.3.m3.1.1" xref="S3.I1.i2.p1.3.m3.1.1.cmml"><mrow id="S3.I1.i2.p1.3.m3.1.1.2" xref="S3.I1.i2.p1.3.m3.1.1.2.cmml"><msub id="S3.I1.i2.p1.3.m3.1.1.2.2" xref="S3.I1.i2.p1.3.m3.1.1.2.2.cmml"><mi id="S3.I1.i2.p1.3.m3.1.1.2.2.2" xref="S3.I1.i2.p1.3.m3.1.1.2.2.2.cmml">T</mi><mrow id="S3.I1.i2.p1.3.m3.1.1.2.2.3" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3.cmml"><mi id="S3.I1.i2.p1.3.m3.1.1.2.2.3.2" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.3.m3.1.1.2.2.3.1" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.3.m3.1.1.2.2.3.3" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.3.m3.1.1.2.2.3.1a" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.3.m3.1.1.2.2.3.4" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3.4.cmml">s</mi></mrow></msub><mo id="S3.I1.i2.p1.3.m3.1.1.2.1" xref="S3.I1.i2.p1.3.m3.1.1.2.1.cmml">∩</mo><msub id="S3.I1.i2.p1.3.m3.1.1.2.3" xref="S3.I1.i2.p1.3.m3.1.1.2.3.cmml"><mi id="S3.I1.i2.p1.3.m3.1.1.2.3.2" xref="S3.I1.i2.p1.3.m3.1.1.2.3.2.cmml">T</mi><mrow id="S3.I1.i2.p1.3.m3.1.1.2.3.3" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3.cmml"><mi id="S3.I1.i2.p1.3.m3.1.1.2.3.3.2" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.3.m3.1.1.2.3.3.1" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.3.m3.1.1.2.3.3.3" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.3.m3.1.1.2.3.3.1a" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.3.m3.1.1.2.3.3.4" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3.4.cmml">g</mi></mrow></msub></mrow><mo id="S3.I1.i2.p1.3.m3.1.1.1" xref="S3.I1.i2.p1.3.m3.1.1.1.cmml">=</mo><mi mathvariant="normal" id="S3.I1.i2.p1.3.m3.1.1.3" xref="S3.I1.i2.p1.3.m3.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.3.m3.1b"><apply id="S3.I1.i2.p1.3.m3.1.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1"><eq id="S3.I1.i2.p1.3.m3.1.1.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1.1"></eq><apply id="S3.I1.i2.p1.3.m3.1.1.2.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2"><intersect id="S3.I1.i2.p1.3.m3.1.1.2.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.1"></intersect><apply id="S3.I1.i2.p1.3.m3.1.1.2.2.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.2"><csymbol cd="ambiguous" id="S3.I1.i2.p1.3.m3.1.1.2.2.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.2">subscript</csymbol><ci id="S3.I1.i2.p1.3.m3.1.1.2.2.2.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.2.2">𝑇</ci><apply id="S3.I1.i2.p1.3.m3.1.1.2.2.3.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3"><times id="S3.I1.i2.p1.3.m3.1.1.2.2.3.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3.1"></times><ci id="S3.I1.i2.p1.3.m3.1.1.2.2.3.2.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3.2">𝑝</ci><ci id="S3.I1.i2.p1.3.m3.1.1.2.2.3.3.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3.3">𝑜</ci><ci id="S3.I1.i2.p1.3.m3.1.1.2.2.3.4.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.2.3.4">𝑠</ci></apply></apply><apply id="S3.I1.i2.p1.3.m3.1.1.2.3.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.3"><csymbol cd="ambiguous" id="S3.I1.i2.p1.3.m3.1.1.2.3.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.3">subscript</csymbol><ci id="S3.I1.i2.p1.3.m3.1.1.2.3.2.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.3.2">𝑇</ci><apply id="S3.I1.i2.p1.3.m3.1.1.2.3.3.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3"><times id="S3.I1.i2.p1.3.m3.1.1.2.3.3.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3.1"></times><ci id="S3.I1.i2.p1.3.m3.1.1.2.3.3.2.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3.2">𝑛</ci><ci id="S3.I1.i2.p1.3.m3.1.1.2.3.3.3.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3.3">𝑒</ci><ci id="S3.I1.i2.p1.3.m3.1.1.2.3.3.4.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2.3.3.4">𝑔</ci></apply></apply></apply><emptyset id="S3.I1.i2.p1.3.m3.1.1.3.cmml" xref="S3.I1.i2.p1.3.m3.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.3.m3.1c">T_{pos}\cap T_{neg}=\emptyset</annotation></semantics></math>) from a constructed
<span id="S3.I1.i2.p1.4.2" class="ltx_text ltx_font_italic">concept dictionary</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>. The final category name set is formed by <math id="S3.I1.i2.p1.4.m4.1" class="ltx_Math" alttext="T=T_{pos}\cup T_{neg}" display="inline"><semantics id="S3.I1.i2.p1.4.m4.1a"><mrow id="S3.I1.i2.p1.4.m4.1.1" xref="S3.I1.i2.p1.4.m4.1.1.cmml"><mi id="S3.I1.i2.p1.4.m4.1.1.2" xref="S3.I1.i2.p1.4.m4.1.1.2.cmml">T</mi><mo id="S3.I1.i2.p1.4.m4.1.1.1" xref="S3.I1.i2.p1.4.m4.1.1.1.cmml">=</mo><mrow id="S3.I1.i2.p1.4.m4.1.1.3" xref="S3.I1.i2.p1.4.m4.1.1.3.cmml"><msub id="S3.I1.i2.p1.4.m4.1.1.3.2" xref="S3.I1.i2.p1.4.m4.1.1.3.2.cmml"><mi id="S3.I1.i2.p1.4.m4.1.1.3.2.2" xref="S3.I1.i2.p1.4.m4.1.1.3.2.2.cmml">T</mi><mrow id="S3.I1.i2.p1.4.m4.1.1.3.2.3" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3.cmml"><mi id="S3.I1.i2.p1.4.m4.1.1.3.2.3.2" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.1.1.3.2.3.1" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.4.m4.1.1.3.2.3.3" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.1.1.3.2.3.1a" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.4.m4.1.1.3.2.3.4" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3.4.cmml">s</mi></mrow></msub><mo id="S3.I1.i2.p1.4.m4.1.1.3.1" xref="S3.I1.i2.p1.4.m4.1.1.3.1.cmml">∪</mo><msub id="S3.I1.i2.p1.4.m4.1.1.3.3" xref="S3.I1.i2.p1.4.m4.1.1.3.3.cmml"><mi id="S3.I1.i2.p1.4.m4.1.1.3.3.2" xref="S3.I1.i2.p1.4.m4.1.1.3.3.2.cmml">T</mi><mrow id="S3.I1.i2.p1.4.m4.1.1.3.3.3" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3.cmml"><mi id="S3.I1.i2.p1.4.m4.1.1.3.3.3.2" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.1.1.3.3.3.1" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.4.m4.1.1.3.3.3.3" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.1.1.3.3.3.1a" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.4.m4.1.1.3.3.3.4" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3.4.cmml">g</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.4.m4.1b"><apply id="S3.I1.i2.p1.4.m4.1.1.cmml" xref="S3.I1.i2.p1.4.m4.1.1"><eq id="S3.I1.i2.p1.4.m4.1.1.1.cmml" xref="S3.I1.i2.p1.4.m4.1.1.1"></eq><ci id="S3.I1.i2.p1.4.m4.1.1.2.cmml" xref="S3.I1.i2.p1.4.m4.1.1.2">𝑇</ci><apply id="S3.I1.i2.p1.4.m4.1.1.3.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3"><union id="S3.I1.i2.p1.4.m4.1.1.3.1.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.1"></union><apply id="S3.I1.i2.p1.4.m4.1.1.3.2.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.2"><csymbol cd="ambiguous" id="S3.I1.i2.p1.4.m4.1.1.3.2.1.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.2">subscript</csymbol><ci id="S3.I1.i2.p1.4.m4.1.1.3.2.2.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.2.2">𝑇</ci><apply id="S3.I1.i2.p1.4.m4.1.1.3.2.3.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3"><times id="S3.I1.i2.p1.4.m4.1.1.3.2.3.1.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3.1"></times><ci id="S3.I1.i2.p1.4.m4.1.1.3.2.3.2.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3.2">𝑝</ci><ci id="S3.I1.i2.p1.4.m4.1.1.3.2.3.3.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3.3">𝑜</ci><ci id="S3.I1.i2.p1.4.m4.1.1.3.2.3.4.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.2.3.4">𝑠</ci></apply></apply><apply id="S3.I1.i2.p1.4.m4.1.1.3.3.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.3"><csymbol cd="ambiguous" id="S3.I1.i2.p1.4.m4.1.1.3.3.1.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.3">subscript</csymbol><ci id="S3.I1.i2.p1.4.m4.1.1.3.3.2.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.3.2">𝑇</ci><apply id="S3.I1.i2.p1.4.m4.1.1.3.3.3.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3"><times id="S3.I1.i2.p1.4.m4.1.1.3.3.3.1.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3.1"></times><ci id="S3.I1.i2.p1.4.m4.1.1.3.3.3.2.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3.2">𝑛</ci><ci id="S3.I1.i2.p1.4.m4.1.1.3.3.3.3.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3.3">𝑒</ci><ci id="S3.I1.i2.p1.4.m4.1.1.3.3.3.4.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3.3.3.4">𝑔</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.4.m4.1c">T=T_{pos}\cup T_{neg}</annotation></semantics></math>.</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.2" class="ltx_p"><span id="S3.I1.i3.p1.2.1" class="ltx_text ltx_font_bold">Image-text pairs</span>. As instance-level annotation is not available, we have <math id="S3.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="\{b_{i}\}_{i=1}^{N}=\emptyset" display="inline"><semantics id="S3.I1.i3.p1.1.m1.1a"><mrow id="S3.I1.i3.p1.1.m1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.cmml"><msubsup id="S3.I1.i3.p1.1.m1.1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.1.cmml"><mrow id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.2.cmml">{</mo><msub id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.2.cmml">b</mi><mi id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.I1.i3.p1.1.m1.1.1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.cmml"><mi id="S3.I1.i3.p1.1.m1.1.1.1.1.3.2" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.2.cmml">i</mi><mo id="S3.I1.i3.p1.1.m1.1.1.1.1.3.1" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.1.cmml">=</mo><mn id="S3.I1.i3.p1.1.m1.1.1.1.1.3.3" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.I1.i3.p1.1.m1.1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.1.3.cmml">N</mi></msubsup><mo id="S3.I1.i3.p1.1.m1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.2.cmml">=</mo><mi mathvariant="normal" id="S3.I1.i3.p1.1.m1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.1b"><apply id="S3.I1.i3.p1.1.m1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1"><eq id="S3.I1.i3.p1.1.m1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.2"></eq><apply id="S3.I1.i3.p1.1.m1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1">superscript</csymbol><apply id="S3.I1.i3.p1.1.m1.1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.1.1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1">subscript</csymbol><set id="S3.I1.i3.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.1"><apply id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.2">𝑏</ci><ci id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.I1.i3.p1.1.m1.1.1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3"><eq id="S3.I1.i3.p1.1.m1.1.1.1.1.3.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.1"></eq><ci id="S3.I1.i3.p1.1.m1.1.1.1.1.3.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.I1.i3.p1.1.m1.1.1.1.1.3.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.I1.i3.p1.1.m1.1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.3">𝑁</ci></apply><emptyset id="S3.I1.i3.p1.1.m1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.1c">\{b_{i}\}_{i=1}^{N}=\emptyset</annotation></semantics></math>. <math id="S3.I1.i3.p1.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.I1.i3.p1.2.m2.1a"><mi id="S3.I1.i3.p1.2.m2.1.1" xref="S3.I1.i3.p1.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.2.m2.1b"><ci id="S3.I1.i3.p1.2.m2.1.1.cmml" xref="S3.I1.i3.p1.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.2.m2.1c">T</annotation></semantics></math> consists of the original caption and noun phrases extracted from it<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>We use NLP parser provided by Spacy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> repository.</span></span></span>.</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.2" class="ltx_p">For detection and grounding data, each <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="\textbf{b}_{i}" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><msub id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2a.cmml">b</mtext><mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.2a.cmml" xref="S3.SS1.p2.1.m1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">b</mtext></ci><ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\textbf{b}_{i}</annotation></semantics></math> is labeled with a concept <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="t_{j}" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><msub id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">t</mi><mi id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">𝑡</ci><ci id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">t_{j}</annotation></semantics></math>, which enables the learning of open-vocabulary object detection. We describe it as follows.</p>
</div>
<section id="S3.SS1.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Open-vocabulary object detection.</h5>

<div id="S3.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS1.SSS0.Px1.p1.14" class="ltx_p">As illustrated in Figure <a href="#S3.F3" title="Figure 3 ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we use a dual-stream architecture which consists of an image encoder and a text encoder. The image encoder is an arbitrary-form object detector that takes an image <math id="S3.SS1.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="x^{I}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.1.m1.1a"><msup id="S3.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.3.cmml">I</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.1.m1.1b"><apply id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.2">𝑥</ci><ci id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.3">𝐼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.1.m1.1c">x^{I}</annotation></semantics></math> as the input and outputs a set of region proposals <math id="S3.SS1.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="P=\{\textbf{p}_{k}\}_{k=1}^{K}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.2.m2.1a"><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.cmml">P</mi><mo id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.cmml">=</mo><msubsup id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.cmml"><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.2a.cmml">p</mtext><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.2.cmml">k</mi><mo id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.3.cmml">K</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1"><eq id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2"></eq><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3">𝑃</ci><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1">superscript</csymbol><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1">subscript</csymbol><set id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1"><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.2">p</mtext></ci><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3"><eq id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.1"></eq><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.2">𝑘</ci><cn type="integer" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.2.m2.1c">P=\{\textbf{p}_{k}\}_{k=1}^{K}</annotation></semantics></math> (for one-stage detector, <math id="S3.SS1.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.3.m3.1a"><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.3.m3.1b"><ci id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.3.m3.1c">K</annotation></semantics></math> equals to number of anchors), as well as their classification features <math id="S3.SS1.SSS0.Px1.p1.4.m4.1" class="ltx_Math" alttext="\textbf{f}^{P}\in\mathbb{R}^{K\times D}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.4.m4.1a"><mrow id="S3.SS1.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml"><msup id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.2a.cmml">f</mtext><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.3.cmml">P</mi></msup><mo id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1.cmml">∈</mo><msup id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.2.cmml">K</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.3.cmml">D</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1"><in id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1"></in><apply id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.2">f</mtext></ci><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.3">𝑃</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.2">ℝ</ci><apply id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3"><times id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.1"></times><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.2">𝐾</ci><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.3.3">𝐷</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.4.m4.1c">\textbf{f}^{P}\in\mathbb{R}^{K\times D}</annotation></semantics></math>, where <math id="S3.SS1.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.5.m5.1a"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.5.m5.1b"><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.5.m5.1c">D</annotation></semantics></math> is the feature dimension. For the text side, we treat each concept name <math id="S3.SS1.SSS0.Px1.p1.6.m6.1" class="ltx_Math" alttext="t_{j}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.6.m6.1a"><msub id="S3.SS1.SSS0.Px1.p1.6.m6.1.1" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.2" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.2.cmml">t</mi><mi id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.3" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.6.m6.1b"><apply id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.2">𝑡</ci><ci id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.6.m6.1c">t_{j}</annotation></semantics></math> as a sentence and forward all <math id="S3.SS1.SSS0.Px1.p1.7.m7.1" class="ltx_Math" alttext="t_{j}\in T" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.7.m7.1a"><mrow id="S3.SS1.SSS0.Px1.p1.7.m7.1.1" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.cmml"><msub id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.2.cmml">t</mi><mi id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.3.cmml">j</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.1" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.1.cmml">∈</mo><mi id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.7.m7.1b"><apply id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1"><in id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.1"></in><apply id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.2">𝑡</ci><ci id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.2.3">𝑗</ci></apply><ci id="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m7.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.7.m7.1c">t_{j}\in T</annotation></semantics></math> to the text encoder <span id="S3.SS1.SSS0.Px1.p1.14.1" class="ltx_text ltx_font_italic">separately</span> to obtain the sentence embeddings <math id="S3.SS1.SSS0.Px1.p1.8.m8.1" class="ltx_Math" alttext="\textbf{f}^{T}\in\mathbb{R}^{M\times D}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.8.m8.1a"><mrow id="S3.SS1.SSS0.Px1.p1.8.m8.1.1" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.cmml"><msup id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.2a.cmml">f</mtext><mi id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.3.cmml">T</mi></msup><mo id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.1" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.1.cmml">∈</mo><msup id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.2" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.2.cmml">M</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.1" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.3" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.3.cmml">D</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.8.m8.1b"><apply id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1"><in id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.1"></in><apply id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.2">f</mtext></ci><ci id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.2.3">𝑇</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.2">ℝ</ci><apply id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3"><times id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.1"></times><ci id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.2">𝑀</ci><ci id="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m8.1.1.3.3.3">𝐷</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.8.m8.1c">\textbf{f}^{T}\in\mathbb{R}^{M\times D}</annotation></semantics></math>. Following previous works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>, to increase the number of negative samples, we collect <math id="S3.SS1.SSS0.Px1.p1.9.m9.1" class="ltx_Math" alttext="\textbf{f}^{T}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.9.m9.1a"><msup id="S3.SS1.SSS0.Px1.p1.9.m9.1.1" xref="S3.SS1.SSS0.Px1.p1.9.m9.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.9.m9.1.1.2" xref="S3.SS1.SSS0.Px1.p1.9.m9.1.1.2a.cmml">f</mtext><mi id="S3.SS1.SSS0.Px1.p1.9.m9.1.1.3" xref="S3.SS1.SSS0.Px1.p1.9.m9.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.9.m9.1b"><apply id="S3.SS1.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.9.m9.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m9.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.9.m9.1.1.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m9.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.9.m9.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m9.1.1.2">f</mtext></ci><ci id="S3.SS1.SSS0.Px1.p1.9.m9.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m9.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.9.m9.1c">\textbf{f}^{T}</annotation></semantics></math> across a global batch and remove duplicate concepts contained in different samples in a batch, which gives a gathered text embedding <math id="S3.SS1.SSS0.Px1.p1.10.m10.1" class="ltx_Math" alttext="\textbf{f}^{T_{batch}}\in\mathbb{R}^{M_{B}\times D}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.10.m10.1a"><mrow id="S3.SS1.SSS0.Px1.p1.10.m10.1.1" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.cmml"><msup id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.2a.cmml">f</mtext><msub id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.2" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.2.cmml">T</mi><mrow id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.2" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.1" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.3" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.1a" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.4" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.1b" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.5" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.1c" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.6" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.6.cmml">h</mi></mrow></msub></msup><mo id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.1" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.1.cmml">∈</mo><msup id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.cmml"><msub id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.2" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.2.cmml">M</mi><mi id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.3" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.3.cmml">B</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.1" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.3" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.3.cmml">D</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.10.m10.1b"><apply id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1"><in id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.1"></in><apply id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.2">f</mtext></ci><apply id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.2">𝑇</ci><apply id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3"><times id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.1"></times><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.2">𝑏</ci><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.3">𝑎</ci><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.4.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.4">𝑡</ci><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.5.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.5">𝑐</ci><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.6.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.2.3.3.6">ℎ</ci></apply></apply></apply><apply id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.2">ℝ</ci><apply id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3"><times id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.1"></times><apply id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.2">𝑀</ci><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.2.3">𝐵</ci></apply><ci id="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m10.1.1.3.3.3">𝐷</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.10.m10.1c">\textbf{f}^{T_{batch}}\in\mathbb{R}^{M_{B}\times D}</annotation></semantics></math>, where <math id="S3.SS1.SSS0.Px1.p1.11.m11.1" class="ltx_Math" alttext="M_{B}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.11.m11.1a"><msub id="S3.SS1.SSS0.Px1.p1.11.m11.1.1" xref="S3.SS1.SSS0.Px1.p1.11.m11.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.11.m11.1.1.2" xref="S3.SS1.SSS0.Px1.p1.11.m11.1.1.2.cmml">M</mi><mi id="S3.SS1.SSS0.Px1.p1.11.m11.1.1.3" xref="S3.SS1.SSS0.Px1.p1.11.m11.1.1.3.cmml">B</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.11.m11.1b"><apply id="S3.SS1.SSS0.Px1.p1.11.m11.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.11.m11.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m11.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.11.m11.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m11.1.1.2">𝑀</ci><ci id="S3.SS1.SSS0.Px1.p1.11.m11.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m11.1.1.3">𝐵</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.11.m11.1c">M_{B}</annotation></semantics></math> is the total number of concepts in a global batch after deduplication. Then we calculate the similarity matrix <math id="S3.SS1.SSS0.Px1.p1.12.m12.1" class="ltx_Math" alttext="S\in\mathbb{R}^{K\times M_{B}}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.12.m12.1a"><mrow id="S3.SS1.SSS0.Px1.p1.12.m12.1.1" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.2" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.2.cmml">S</mi><mo id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.1" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.1.cmml">∈</mo><msup id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.2" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.2.cmml">K</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.1" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml">×</mo><msub id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.2" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.2.cmml">M</mi><mi id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.3" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.3.cmml">B</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.12.m12.1b"><apply id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1"><in id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.1"></in><ci id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.2">𝑆</ci><apply id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.2">ℝ</ci><apply id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3"><times id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.1"></times><ci id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.2">𝐾</ci><apply id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.2">𝑀</ci><ci id="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.12.m12.1.1.3.3.3.3">𝐵</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.12.m12.1c">S\in\mathbb{R}^{K\times M_{B}}</annotation></semantics></math> between <math id="S3.SS1.SSS0.Px1.p1.13.m13.1" class="ltx_Math" alttext="\textbf{f}^{P}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.13.m13.1a"><msup id="S3.SS1.SSS0.Px1.p1.13.m13.1.1" xref="S3.SS1.SSS0.Px1.p1.13.m13.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.13.m13.1.1.2" xref="S3.SS1.SSS0.Px1.p1.13.m13.1.1.2a.cmml">f</mtext><mi id="S3.SS1.SSS0.Px1.p1.13.m13.1.1.3" xref="S3.SS1.SSS0.Px1.p1.13.m13.1.1.3.cmml">P</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.13.m13.1b"><apply id="S3.SS1.SSS0.Px1.p1.13.m13.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.13.m13.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.13.m13.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.13.m13.1.1.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.13.m13.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.13.m13.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.13.m13.1.1.2">f</mtext></ci><ci id="S3.SS1.SSS0.Px1.p1.13.m13.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.13.m13.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.13.m13.1c">\textbf{f}^{P}</annotation></semantics></math> and <math id="S3.SS1.SSS0.Px1.p1.14.m14.1" class="ltx_Math" alttext="\textbf{f}^{T_{batch}}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.14.m14.1a"><msup id="S3.SS1.SSS0.Px1.p1.14.m14.1.1" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.2" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.2a.cmml">f</mtext><msub id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.2.cmml">T</mi><mrow id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.2" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.1" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.3" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.1a" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.4" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.1b" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.5" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.1c" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.6" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.6.cmml">h</mi></mrow></msub></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.14.m14.1b"><apply id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.2">f</mtext></ci><apply id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.2">𝑇</ci><apply id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3"><times id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.1"></times><ci id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.2">𝑏</ci><ci id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.3">𝑎</ci><ci id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.4.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.4">𝑡</ci><ci id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.5.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.5">𝑐</ci><ci id="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.6.cmml" xref="S3.SS1.SSS0.Px1.p1.14.m14.1.1.3.3.6">ℎ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.14.m14.1c">\textbf{f}^{T_{batch}}</annotation></semantics></math> by</p>
</div>
<div id="S3.SS1.SSS0.Px1.p2" class="ltx_para">
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.1" class="ltx_Math" alttext="S=\textbf{f}^{P}(\textbf{f}^{T_{batch}})^{\top}\vspace{-.2em}" display="block"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml"><mi id="S3.E1.m1.1.1.3" xref="S3.E1.m1.1.1.3.cmml">S</mi><mo id="S3.E1.m1.1.1.2" xref="S3.E1.m1.1.1.2.cmml">=</mo><mrow id="S3.E1.m1.1.1.1" xref="S3.E1.m1.1.1.1.cmml"><msup id="S3.E1.m1.1.1.1.3" xref="S3.E1.m1.1.1.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="S3.E1.m1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.3.2a.cmml">f</mtext><mi id="S3.E1.m1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.3.3.cmml">P</mi></msup><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.1.2" xref="S3.E1.m1.1.1.1.2.cmml">​</mo><msup id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><mrow id="S3.E1.m1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S3.E1.m1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.E1.m1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.1.2a.cmml">f</mtext><msub id="S3.E1.m1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.1.1.1.1.3.2.cmml">T</mi><mrow id="S3.E1.m1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.3.3.2" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.1.1.1.1.1.3.3.1" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E1.m1.1.1.1.1.1.1.1.3.3.3" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.1.1.1.1.1.3.3.1a" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E1.m1.1.1.1.1.1.1.1.3.3.4" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.1.1.1.1.1.3.3.1b" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E1.m1.1.1.1.1.1.1.1.3.3.5" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.1.1.1.1.1.3.3.1c" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E1.m1.1.1.1.1.1.1.1.3.3.6" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.6.cmml">h</mi></mrow></msub></msup><mo stretchy="false" id="S3.E1.m1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E1.m1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.3.cmml">⊤</mo></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1"><eq id="S3.E1.m1.1.1.2.cmml" xref="S3.E1.m1.1.1.2"></eq><ci id="S3.E1.m1.1.1.3.cmml" xref="S3.E1.m1.1.1.3">𝑆</ci><apply id="S3.E1.m1.1.1.1.cmml" xref="S3.E1.m1.1.1.1"><times id="S3.E1.m1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.2"></times><apply id="S3.E1.m1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.3">superscript</csymbol><ci id="S3.E1.m1.1.1.1.3.2a.cmml" xref="S3.E1.m1.1.1.1.3.2"><mtext class="ltx_mathvariant_bold" id="S3.E1.m1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.3.2">f</mtext></ci><ci id="S3.E1.m1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.3.3">𝑃</ci></apply><apply id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1">superscript</csymbol><apply id="S3.E1.m1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.2a.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.E1.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.2">f</mtext></ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3.2">𝑇</ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3"><times id="S3.E1.m1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.1"></times><ci id="S3.E1.m1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.2">𝑏</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.3">𝑎</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.3.3.4.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.4">𝑡</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.3.3.5.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.5">𝑐</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.3.3.6.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.3.3.6">ℎ</ci></apply></apply></apply><csymbol cd="latexml" id="S3.E1.m1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.3">top</csymbol></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">S=\textbf{f}^{P}(\textbf{f}^{T_{batch}})^{\top}\vspace{-.2em}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS1.SSS0.Px1.p3" class="ltx_para">
<p id="S3.SS1.SSS0.Px1.p3.2" class="ltx_p">When instance-level annotations are available, e.g., for detection and grounding data, we can construct a target matrix <math id="S3.SS1.SSS0.Px1.p3.1.m1.2" class="ltx_Math" alttext="G\in\{0,1\}^{K\times M_{B}}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p3.1.m1.2a"><mrow id="S3.SS1.SSS0.Px1.p3.1.m1.2.3" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.cmml"><mi id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.2" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.2.cmml">G</mi><mo id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.1" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.1.cmml">∈</mo><msup id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.cmml"><mrow id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.2.2" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.2.1.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.2.2.1" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.2.1.cmml">{</mo><mn id="S3.SS1.SSS0.Px1.p3.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p3.1.m1.1.1.cmml">0</mn><mo id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.2.2.2" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.2.1.cmml">,</mo><mn id="S3.SS1.SSS0.Px1.p3.1.m1.2.2" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.2.cmml">1</mn><mo stretchy="false" id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.2.2.3" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.2.1.cmml">}</mo></mrow><mrow id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.2" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.2.cmml">K</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.1" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.1.cmml">×</mo><msub id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.2" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.2.cmml">M</mi><mi id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.3" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.3.cmml">B</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p3.1.m1.2b"><apply id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3"><in id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.1.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.1"></in><ci id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.2.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.2">𝐺</ci><apply id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3">superscript</csymbol><set id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.2.1.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.2.2"><cn type="integer" id="S3.SS1.SSS0.Px1.p3.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.1.1">0</cn><cn type="integer" id="S3.SS1.SSS0.Px1.p3.1.m1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.2">1</cn></set><apply id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3"><times id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.1"></times><ci id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.2">𝐾</ci><apply id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.2">𝑀</ci><ci id="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.2.3.3.3.3.3">𝐵</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p3.1.m1.2c">G\in\{0,1\}^{K\times M_{B}}</annotation></semantics></math> following a ground-truth assignment process in conventional object detection frameworks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib41" title="" class="ltx_ref">41</a>, <a href="#bib.bib58" title="" class="ltx_ref">58</a>, <a href="#bib.bib48" title="" class="ltx_ref">48</a>]</cite>, then the alignment loss <math id="S3.SS1.SSS0.Px1.p3.2.m2.2" class="ltx_Math" alttext="\mathcal{L}_{align}(S,G)" display="inline"><semantics id="S3.SS1.SSS0.Px1.p3.2.m2.2a"><mrow id="S3.SS1.SSS0.Px1.p3.2.m2.2.3" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.cmml"><msub id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.2" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.2.cmml">ℒ</mi><mrow id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.cmml"><mi id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.2" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.1" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.3" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.1a" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.4" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.1b" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.5" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.1c" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.1.cmml">​</mo><mi id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.6" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.6.cmml">n</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.1" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.1.cmml">​</mo><mrow id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.3.2" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.3.2.1" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.3.1.cmml">(</mo><mi id="S3.SS1.SSS0.Px1.p3.2.m2.1.1" xref="S3.SS1.SSS0.Px1.p3.2.m2.1.1.cmml">S</mi><mo id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.3.2.2" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.3.1.cmml">,</mo><mi id="S3.SS1.SSS0.Px1.p3.2.m2.2.2" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.2.cmml">G</mi><mo stretchy="false" id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.3.2.3" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p3.2.m2.2b"><apply id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3"><times id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.1.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.1"></times><apply id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.1.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.2.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.2">ℒ</ci><apply id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3"><times id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.1.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.1"></times><ci id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.2.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.2">𝑎</ci><ci id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.3.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.3">𝑙</ci><ci id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.4.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.4">𝑖</ci><ci id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.5.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.5">𝑔</ci><ci id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.6.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.2.3.6">𝑛</ci></apply></apply><interval closure="open" id="S3.SS1.SSS0.Px1.p3.2.m2.2.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.3.3.2"><ci id="S3.SS1.SSS0.Px1.p3.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.1.1">𝑆</ci><ci id="S3.SS1.SSS0.Px1.p3.2.m2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.2.2">𝐺</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p3.2.m2.2c">\mathcal{L}_{align}(S,G)</annotation></semantics></math> (detailed in Sec. <a href="#S3.SS3" title="3.3 Model Architecture and Training Objective ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>) can be calculated; while for image-text pairs where the instance-level annotation is not available, we elaborate our approach in the Sec. <a href="#S3.SS2" title="3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>.</p>
</div>
</section>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Learning from Image-text Pairs</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">Massive image-text pairs crawled from the Internet can provide rich knowledge for the learning of visual-language models. However, due to the lack of instance-level annotations, it is non-trivial to leverage image-text pairs to improve a dense prediction (e.g, object detection) learning system. Inspired by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>, we introduce a contrastive learning method to learn a fine-grained word-region correspondences without relying on instance-level annotation, which is described as follows.</p>
</div>
<section id="S3.SS2.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Word-region alignment similarity.</h5>

<div id="S3.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px1.p1.14" class="ltx_p">Given an image-text pair <math id="S3.SS2.SSS0.Px1.p1.1.m1.2" class="ltx_Math" alttext="(x^{I},x^{T})" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.1.m1.2a"><mrow id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.3.cmml">(</mo><msup id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3.cmml">I</mi></msup><mo id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.4" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.3.cmml">,</mo><msup id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.3.cmml">T</mi></msup><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.5" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.1.m1.2b"><interval closure="open" id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2"><apply id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2">𝑥</ci><ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3">𝐼</ci></apply><apply id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.2">𝑥</ci><ci id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.3">𝑇</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.1.m1.2c">(x^{I},x^{T})</annotation></semantics></math>, we extract a set of noun phrases <math id="S3.SS2.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="T=\{t_{j}\}_{j=1}^{M}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.2.m2.1a"><mrow id="S3.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.3.cmml">T</mi><mo id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.2.cmml">=</mo><msubsup id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.cmml"><mrow id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.2.cmml">t</mi><mi id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.2" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.2.cmml">j</mi><mo id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.1" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.3" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.3.cmml">M</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1"><eq id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.2"></eq><ci id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.3">𝑇</ci><apply id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1">superscript</csymbol><apply id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1">subscript</csymbol><set id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1"><apply id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.2">𝑡</ci><ci id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3"><eq id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.1"></eq><ci id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.2">𝑗</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.3">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.2.m2.1c">T=\{t_{j}\}_{j=1}^{M}</annotation></semantics></math> from <math id="S3.SS2.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="x^{T}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.3.m3.1a"><msup id="S3.SS2.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.2" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.3" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.3.m3.1b"><apply id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.2">𝑥</ci><ci id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.3.m3.1c">x^{T}</annotation></semantics></math> and take <math id="S3.SS2.SSS0.Px1.p1.4.m4.2" class="ltx_Math" alttext="(x^{I},\{t_{j}\}_{j=1}^{M})" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.4.m4.2a"><mrow id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.3.cmml">(</mo><msup id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.cmml">I</mi></msup><mo id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.4" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.3.cmml">,</mo><msubsup id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.cmml"><mrow id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.2.cmml">{</mo><msub id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.2.cmml">t</mi><mi id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.2.cmml">j</mi><mo id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.1" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.1.cmml">=</mo><mn id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.cmml">M</mi></msubsup><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.5" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.4.m4.2b"><interval closure="open" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2"><apply id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.2">𝑥</ci><ci id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3">𝐼</ci></apply><apply id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2">superscript</csymbol><apply id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2">subscript</csymbol><set id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1"><apply id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.2">𝑡</ci><ci id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.1.1.1.3">𝑗</ci></apply></set><apply id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3"><eq id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.1"></eq><ci id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.2">𝑗</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.3.3">1</cn></apply></apply><ci id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3">𝑀</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.4.m4.2c">(x^{I},\{t_{j}\}_{j=1}^{M})</annotation></semantics></math> as the input of the model. The image encoder generates a set of proposals <math id="S3.SS2.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="P=\{\textbf{p}_{k}\}_{k=1}^{K}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.5.m5.1a"><mrow id="S3.SS2.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.3" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.3.cmml">P</mi><mo id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.2" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.2.cmml">=</mo><msubsup id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.cmml"><mrow id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.2a.cmml">p</mtext><mi id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.2" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.2.cmml">k</mi><mo id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.1" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.3" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.3.cmml">K</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.5.m5.1b"><apply id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1"><eq id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.2"></eq><ci id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.3">𝑃</ci><apply id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1">superscript</csymbol><apply id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1">subscript</csymbol><set id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1"><apply id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.2a.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.2">p</mtext></ci><ci id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3"><eq id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.1"></eq><ci id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.2">𝑘</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.5.m5.1c">P=\{\textbf{p}_{k}\}_{k=1}^{K}</annotation></semantics></math> from <math id="S3.SS2.SSS0.Px1.p1.6.m6.1" class="ltx_Math" alttext="x^{I}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.6.m6.1a"><msup id="S3.SS2.SSS0.Px1.p1.6.m6.1.1" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.2" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.3" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.3.cmml">I</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.6.m6.1b"><apply id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.2">𝑥</ci><ci id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.3">𝐼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.6.m6.1c">x^{I}</annotation></semantics></math> with their region features <math id="S3.SS2.SSS0.Px1.p1.7.m7.1" class="ltx_Math" alttext="\textbf{f}^{P}\in\mathbb{R}^{K\times D}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.7.m7.1a"><mrow id="S3.SS2.SSS0.Px1.p1.7.m7.1.1" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.cmml"><msup id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.2" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.2a.cmml">f</mtext><mi id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.3" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.3.cmml">P</mi></msup><mo id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.1" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.1.cmml">∈</mo><msup id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.2" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.2" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.2.cmml">K</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.1" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.3" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.3.cmml">D</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.7.m7.1b"><apply id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1"><in id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.1"></in><apply id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.2a.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.2">f</mtext></ci><ci id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.2.3">𝑃</ci></apply><apply id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.2">ℝ</ci><apply id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3"><times id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.1"></times><ci id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.2">𝐾</ci><ci id="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m7.1.1.3.3.3">𝐷</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.7.m7.1c">\textbf{f}^{P}\in\mathbb{R}^{K\times D}</annotation></semantics></math> and the text encoder extracts text embeddings <math id="S3.SS2.SSS0.Px1.p1.8.m8.1" class="ltx_Math" alttext="\textbf{f}^{T}\in\mathbb{R}^{M\times D}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.8.m8.1a"><mrow id="S3.SS2.SSS0.Px1.p1.8.m8.1.1" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.cmml"><msup id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.2" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.2a.cmml">f</mtext><mi id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.3" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.3.cmml">T</mi></msup><mo id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.1" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.1.cmml">∈</mo><msup id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.2" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.2" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.2.cmml">M</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.1" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.3" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.3.cmml">D</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.8.m8.1b"><apply id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1"><in id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.1"></in><apply id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.2a.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.2">f</mtext></ci><ci id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.2.3">𝑇</ci></apply><apply id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.2">ℝ</ci><apply id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3"><times id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.1"></times><ci id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.2">𝑀</ci><ci id="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m8.1.1.3.3.3">𝐷</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.8.m8.1c">\textbf{f}^{T}\in\mathbb{R}^{M\times D}</annotation></semantics></math> of <math id="S3.SS2.SSS0.Px1.p1.9.m9.1" class="ltx_Math" alttext="\{t_{j}\}_{j=1}^{M}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.9.m9.1a"><msubsup id="S3.SS2.SSS0.Px1.p1.9.m9.1.1" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.cmml"><mrow id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.2.cmml">{</mo><msub id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.2.cmml">t</mi><mi id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.2" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.2.cmml">j</mi><mo id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.1" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.3" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.3" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.3.cmml">M</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.9.m9.1b"><apply id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1">superscript</csymbol><apply id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1">subscript</csymbol><set id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1"><apply id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.2">𝑡</ci><ci id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3"><eq id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.1"></eq><ci id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.2">𝑗</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS2.SSS0.Px1.p1.9.m9.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m9.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.9.m9.1c">\{t_{j}\}_{j=1}^{M}</annotation></semantics></math>. Our word-region alignment contrastive learning is constructed based on the set similarity between <math id="S3.SS2.SSS0.Px1.p1.10.m10.1" class="ltx_Math" alttext="P" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.10.m10.1a"><mi id="S3.SS2.SSS0.Px1.p1.10.m10.1.1" xref="S3.SS2.SSS0.Px1.p1.10.m10.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.10.m10.1b"><ci id="S3.SS2.SSS0.Px1.p1.10.m10.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m10.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.10.m10.1c">P</annotation></semantics></math> and <math id="S3.SS2.SSS0.Px1.p1.11.m11.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.11.m11.1a"><mi id="S3.SS2.SSS0.Px1.p1.11.m11.1.1" xref="S3.SS2.SSS0.Px1.p1.11.m11.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.11.m11.1b"><ci id="S3.SS2.SSS0.Px1.p1.11.m11.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.11.m11.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.11.m11.1c">T</annotation></semantics></math>. Specifically, for <math id="S3.SS2.SSS0.Px1.p1.12.m12.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.12.m12.1a"><mi id="S3.SS2.SSS0.Px1.p1.12.m12.1.1" xref="S3.SS2.SSS0.Px1.p1.12.m12.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.12.m12.1b"><ci id="S3.SS2.SSS0.Px1.p1.12.m12.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.12.m12.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.12.m12.1c">j</annotation></semantics></math>-th concept <math id="S3.SS2.SSS0.Px1.p1.13.m13.1" class="ltx_Math" alttext="t_{j}\in T" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.13.m13.1a"><mrow id="S3.SS2.SSS0.Px1.p1.13.m13.1.1" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.cmml"><msub id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.2" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.2.cmml">t</mi><mi id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.3" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.3.cmml">j</mi></msub><mo id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.1" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.1.cmml">∈</mo><mi id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.3" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.13.m13.1b"><apply id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1"><in id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.1"></in><apply id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.2">𝑡</ci><ci id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.2.3">𝑗</ci></apply><ci id="S3.SS2.SSS0.Px1.p1.13.m13.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.13.m13.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.13.m13.1c">t_{j}\in T</annotation></semantics></math>, we find its closest match in <math id="S3.SS2.SSS0.Px1.p1.14.m14.1" class="ltx_Math" alttext="P" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.14.m14.1a"><mi id="S3.SS2.SSS0.Px1.p1.14.m14.1.1" xref="S3.SS2.SSS0.Px1.p1.14.m14.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.14.m14.1b"><ci id="S3.SS2.SSS0.Px1.p1.14.m14.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.14.m14.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.14.m14.1c">P</annotation></semantics></math> by calculating</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.1" class="ltx_math_unparsed" alttext="m_{j}=\operatorname*{arg\,max}_{0&lt;k\leq K}[\textbf{f}^{T}]_{j}^{\top}[\textbf{f}^{P}]_{k},\vspace{-.2em}" display="block"><semantics id="S3.E2.m1.1a"><mrow id="S3.E2.m1.1b"><msub id="S3.E2.m1.1.1"><mi id="S3.E2.m1.1.1.2">m</mi><mi id="S3.E2.m1.1.1.3">j</mi></msub><mo id="S3.E2.m1.1.2">=</mo><munder id="S3.E2.m1.1.3"><mrow id="S3.E2.m1.1.3.2"><mi id="S3.E2.m1.1.3.2.2">arg</mi><mo lspace="0.170em" rspace="0em" id="S3.E2.m1.1.3.2.1">​</mo><mi id="S3.E2.m1.1.3.2.3">max</mi></mrow><mrow id="S3.E2.m1.1.3.3"><mn id="S3.E2.m1.1.3.3.2">0</mn><mo id="S3.E2.m1.1.3.3.3">&lt;</mo><mi id="S3.E2.m1.1.3.3.4">k</mi><mo id="S3.E2.m1.1.3.3.5">≤</mo><mi id="S3.E2.m1.1.3.3.6">K</mi></mrow></munder><msubsup id="S3.E2.m1.1.4"><mrow id="S3.E2.m1.1.4.2.2"><mo stretchy="false" id="S3.E2.m1.1.4.2.2.1">[</mo><msup id="S3.E2.m1.1.4.2.2.2"><mtext class="ltx_mathvariant_bold" id="S3.E2.m1.1.4.2.2.2.2">f</mtext><mi id="S3.E2.m1.1.4.2.2.2.3">T</mi></msup><mo stretchy="false" id="S3.E2.m1.1.4.2.2.3">]</mo></mrow><mi id="S3.E2.m1.1.4.2.3">j</mi><mo id="S3.E2.m1.1.4.3">⊤</mo></msubsup><msub id="S3.E2.m1.1.5"><mrow id="S3.E2.m1.1.5.2"><mo stretchy="false" id="S3.E2.m1.1.5.2.1">[</mo><msup id="S3.E2.m1.1.5.2.2"><mtext class="ltx_mathvariant_bold" id="S3.E2.m1.1.5.2.2.2">f</mtext><mi id="S3.E2.m1.1.5.2.2.3">P</mi></msup><mo stretchy="false" id="S3.E2.m1.1.5.2.3">]</mo></mrow><mi id="S3.E2.m1.1.5.3">k</mi></msub><mo id="S3.E2.m1.1.6">,</mo></mrow><annotation encoding="application/x-tex" id="S3.E2.m1.1c">m_{j}=\operatorname*{arg\,max}_{0&lt;k\leq K}[\textbf{f}^{T}]_{j}^{\top}[\textbf{f}^{P}]_{k},\vspace{-.2em}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.SSS0.Px1.p1.21" class="ltx_p">where <math id="S3.SS2.SSS0.Px1.p1.15.m1.1" class="ltx_Math" alttext="[\textbf{f}^{P}]_{k}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.15.m1.1a"><msub id="S3.SS2.SSS0.Px1.p1.15.m1.1.1" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.cmml"><mrow id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.2.1.cmml">[</mo><msup id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.2a.cmml">f</mtext><mi id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.3.cmml">P</mi></msup><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.2.1.cmml">]</mo></mrow><mi id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.15.m1.1b"><apply id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1">subscript</csymbol><apply id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.2a.cmml" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.2">f</mtext></ci><ci id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.1.1.1.3">𝑃</ci></apply></apply><ci id="S3.SS2.SSS0.Px1.p1.15.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.15.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.15.m1.1c">[\textbf{f}^{P}]_{k}</annotation></semantics></math> is the <math id="S3.SS2.SSS0.Px1.p1.16.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.16.m2.1a"><mi id="S3.SS2.SSS0.Px1.p1.16.m2.1.1" xref="S3.SS2.SSS0.Px1.p1.16.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.16.m2.1b"><ci id="S3.SS2.SSS0.Px1.p1.16.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.16.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.16.m2.1c">k</annotation></semantics></math>-th region feature in <math id="S3.SS2.SSS0.Px1.p1.17.m3.1" class="ltx_Math" alttext="\textbf{f}^{P}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.17.m3.1a"><msup id="S3.SS2.SSS0.Px1.p1.17.m3.1.1" xref="S3.SS2.SSS0.Px1.p1.17.m3.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.17.m3.1.1.2" xref="S3.SS2.SSS0.Px1.p1.17.m3.1.1.2a.cmml">f</mtext><mi id="S3.SS2.SSS0.Px1.p1.17.m3.1.1.3" xref="S3.SS2.SSS0.Px1.p1.17.m3.1.1.3.cmml">P</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.17.m3.1b"><apply id="S3.SS2.SSS0.Px1.p1.17.m3.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.17.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.17.m3.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.17.m3.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.17.m3.1.1.2a.cmml" xref="S3.SS2.SSS0.Px1.p1.17.m3.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.17.m3.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.17.m3.1.1.2">f</mtext></ci><ci id="S3.SS2.SSS0.Px1.p1.17.m3.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.17.m3.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.17.m3.1c">\textbf{f}^{P}</annotation></semantics></math>, and similar for <math id="S3.SS2.SSS0.Px1.p1.18.m4.1" class="ltx_Math" alttext="[\textbf{f}^{T}]_{j}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.18.m4.1a"><msub id="S3.SS2.SSS0.Px1.p1.18.m4.1.1" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.cmml"><mrow id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.2.1.cmml">[</mo><msup id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.2a.cmml">f</mtext><mi id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.3.cmml">T</mi></msup><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.2.1.cmml">]</mo></mrow><mi id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.3" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.18.m4.1b"><apply id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1">subscript</csymbol><apply id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.2a.cmml" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.2">f</mtext></ci><ci id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.1.1.1.3">𝑇</ci></apply></apply><ci id="S3.SS2.SSS0.Px1.p1.18.m4.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.18.m4.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.18.m4.1c">[\textbf{f}^{T}]_{j}</annotation></semantics></math>.
This operation can be interpreted as, for each concept we find a region that best fits its description. Then we calculate the text-to-image similarity <math id="S3.SS2.SSS0.Px1.p1.19.m5.1" class="ltx_Math" alttext="s^{T}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.19.m5.1a"><msup id="S3.SS2.SSS0.Px1.p1.19.m5.1.1" xref="S3.SS2.SSS0.Px1.p1.19.m5.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.19.m5.1.1.2" xref="S3.SS2.SSS0.Px1.p1.19.m5.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS0.Px1.p1.19.m5.1.1.3" xref="S3.SS2.SSS0.Px1.p1.19.m5.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.19.m5.1b"><apply id="S3.SS2.SSS0.Px1.p1.19.m5.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.19.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.19.m5.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.19.m5.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.19.m5.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.19.m5.1.1.2">𝑠</ci><ci id="S3.SS2.SSS0.Px1.p1.19.m5.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.19.m5.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.19.m5.1c">s^{T}</annotation></semantics></math> between <math id="S3.SS2.SSS0.Px1.p1.20.m6.1" class="ltx_Math" alttext="x^{I}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.20.m6.1a"><msup id="S3.SS2.SSS0.Px1.p1.20.m6.1.1" xref="S3.SS2.SSS0.Px1.p1.20.m6.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.20.m6.1.1.2" xref="S3.SS2.SSS0.Px1.p1.20.m6.1.1.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px1.p1.20.m6.1.1.3" xref="S3.SS2.SSS0.Px1.p1.20.m6.1.1.3.cmml">I</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.20.m6.1b"><apply id="S3.SS2.SSS0.Px1.p1.20.m6.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.20.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.20.m6.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.20.m6.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.20.m6.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.20.m6.1.1.2">𝑥</ci><ci id="S3.SS2.SSS0.Px1.p1.20.m6.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.20.m6.1.1.3">𝐼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.20.m6.1c">x^{I}</annotation></semantics></math> and <math id="S3.SS2.SSS0.Px1.p1.21.m7.1" class="ltx_Math" alttext="x^{T}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.21.m7.1a"><msup id="S3.SS2.SSS0.Px1.p1.21.m7.1.1" xref="S3.SS2.SSS0.Px1.p1.21.m7.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.21.m7.1.1.2" xref="S3.SS2.SSS0.Px1.p1.21.m7.1.1.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px1.p1.21.m7.1.1.3" xref="S3.SS2.SSS0.Px1.p1.21.m7.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.21.m7.1b"><apply id="S3.SS2.SSS0.Px1.p1.21.m7.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.21.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.21.m7.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.21.m7.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.21.m7.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.21.m7.1.1.2">𝑥</ci><ci id="S3.SS2.SSS0.Px1.p1.21.m7.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.21.m7.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.21.m7.1c">x^{T}</annotation></semantics></math> by aggregating all word-to-region similarities, i.e.,</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.4" class="ltx_Math" alttext="s^{T}(x^{I},x^{T})=\frac{1}{M}\sum_{j=1}^{M}[\textbf{f}^{T}]_{j}^{\top}[\textbf{f}^{P}]_{m_{j}}\vspace{-.4em}" display="block"><semantics id="S3.E3.m1.4a"><mrow id="S3.E3.m1.4.4" xref="S3.E3.m1.4.4.cmml"><mrow id="S3.E3.m1.2.2.2" xref="S3.E3.m1.2.2.2.cmml"><msup id="S3.E3.m1.2.2.2.4" xref="S3.E3.m1.2.2.2.4.cmml"><mi id="S3.E3.m1.2.2.2.4.2" xref="S3.E3.m1.2.2.2.4.2.cmml">s</mi><mi id="S3.E3.m1.2.2.2.4.3" xref="S3.E3.m1.2.2.2.4.3.cmml">T</mi></msup><mo lspace="0em" rspace="0em" id="S3.E3.m1.2.2.2.3" xref="S3.E3.m1.2.2.2.3.cmml">​</mo><mrow id="S3.E3.m1.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.3.cmml">(</mo><msup id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E3.m1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.3.cmml">I</mi></msup><mo id="S3.E3.m1.2.2.2.2.2.4" xref="S3.E3.m1.2.2.2.2.3.cmml">,</mo><msup id="S3.E3.m1.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.cmml"><mi id="S3.E3.m1.2.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.2.cmml">x</mi><mi id="S3.E3.m1.2.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.2.3.cmml">T</mi></msup><mo stretchy="false" id="S3.E3.m1.2.2.2.2.2.5" xref="S3.E3.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.4.4.5" xref="S3.E3.m1.4.4.5.cmml">=</mo><mrow id="S3.E3.m1.4.4.4" xref="S3.E3.m1.4.4.4.cmml"><mfrac id="S3.E3.m1.4.4.4.4" xref="S3.E3.m1.4.4.4.4.cmml"><mn id="S3.E3.m1.4.4.4.4.2" xref="S3.E3.m1.4.4.4.4.2.cmml">1</mn><mi id="S3.E3.m1.4.4.4.4.3" xref="S3.E3.m1.4.4.4.4.3.cmml">M</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.E3.m1.4.4.4.3" xref="S3.E3.m1.4.4.4.3.cmml">​</mo><mrow id="S3.E3.m1.4.4.4.2" xref="S3.E3.m1.4.4.4.2.cmml"><munderover id="S3.E3.m1.4.4.4.2.3" xref="S3.E3.m1.4.4.4.2.3.cmml"><mo movablelimits="false" rspace="0em" id="S3.E3.m1.4.4.4.2.3.2.2" xref="S3.E3.m1.4.4.4.2.3.2.2.cmml">∑</mo><mrow id="S3.E3.m1.4.4.4.2.3.2.3" xref="S3.E3.m1.4.4.4.2.3.2.3.cmml"><mi id="S3.E3.m1.4.4.4.2.3.2.3.2" xref="S3.E3.m1.4.4.4.2.3.2.3.2.cmml">j</mi><mo id="S3.E3.m1.4.4.4.2.3.2.3.1" xref="S3.E3.m1.4.4.4.2.3.2.3.1.cmml">=</mo><mn id="S3.E3.m1.4.4.4.2.3.2.3.3" xref="S3.E3.m1.4.4.4.2.3.2.3.3.cmml">1</mn></mrow><mi id="S3.E3.m1.4.4.4.2.3.3" xref="S3.E3.m1.4.4.4.2.3.3.cmml">M</mi></munderover><mrow id="S3.E3.m1.4.4.4.2.2" xref="S3.E3.m1.4.4.4.2.2.cmml"><msubsup id="S3.E3.m1.3.3.3.1.1.1" xref="S3.E3.m1.3.3.3.1.1.1.cmml"><mrow id="S3.E3.m1.3.3.3.1.1.1.1.1.1" xref="S3.E3.m1.3.3.3.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.3.3.3.1.1.1.1.1.1.2" xref="S3.E3.m1.3.3.3.1.1.1.1.1.2.1.cmml">[</mo><msup id="S3.E3.m1.3.3.3.1.1.1.1.1.1.1" xref="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.2" xref="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.2a.cmml">f</mtext><mi id="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.3" xref="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.3.cmml">T</mi></msup><mo stretchy="false" id="S3.E3.m1.3.3.3.1.1.1.1.1.1.3" xref="S3.E3.m1.3.3.3.1.1.1.1.1.2.1.cmml">]</mo></mrow><mi id="S3.E3.m1.3.3.3.1.1.1.1.3" xref="S3.E3.m1.3.3.3.1.1.1.1.3.cmml">j</mi><mo id="S3.E3.m1.3.3.3.1.1.1.3" xref="S3.E3.m1.3.3.3.1.1.1.3.cmml">⊤</mo></msubsup><mo lspace="0em" rspace="0em" id="S3.E3.m1.4.4.4.2.2.3" xref="S3.E3.m1.4.4.4.2.2.3.cmml">​</mo><msub id="S3.E3.m1.4.4.4.2.2.2" xref="S3.E3.m1.4.4.4.2.2.2.cmml"><mrow id="S3.E3.m1.4.4.4.2.2.2.1.1" xref="S3.E3.m1.4.4.4.2.2.2.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.4.4.4.2.2.2.1.1.2" xref="S3.E3.m1.4.4.4.2.2.2.1.2.1.cmml">[</mo><msup id="S3.E3.m1.4.4.4.2.2.2.1.1.1" xref="S3.E3.m1.4.4.4.2.2.2.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.E3.m1.4.4.4.2.2.2.1.1.1.2" xref="S3.E3.m1.4.4.4.2.2.2.1.1.1.2a.cmml">f</mtext><mi id="S3.E3.m1.4.4.4.2.2.2.1.1.1.3" xref="S3.E3.m1.4.4.4.2.2.2.1.1.1.3.cmml">P</mi></msup><mo stretchy="false" id="S3.E3.m1.4.4.4.2.2.2.1.1.3" xref="S3.E3.m1.4.4.4.2.2.2.1.2.1.cmml">]</mo></mrow><msub id="S3.E3.m1.4.4.4.2.2.2.3" xref="S3.E3.m1.4.4.4.2.2.2.3.cmml"><mi id="S3.E3.m1.4.4.4.2.2.2.3.2" xref="S3.E3.m1.4.4.4.2.2.2.3.2.cmml">m</mi><mi id="S3.E3.m1.4.4.4.2.2.2.3.3" xref="S3.E3.m1.4.4.4.2.2.2.3.3.cmml">j</mi></msub></msub></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.4b"><apply id="S3.E3.m1.4.4.cmml" xref="S3.E3.m1.4.4"><eq id="S3.E3.m1.4.4.5.cmml" xref="S3.E3.m1.4.4.5"></eq><apply id="S3.E3.m1.2.2.2.cmml" xref="S3.E3.m1.2.2.2"><times id="S3.E3.m1.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.3"></times><apply id="S3.E3.m1.2.2.2.4.cmml" xref="S3.E3.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.4.1.cmml" xref="S3.E3.m1.2.2.2.4">superscript</csymbol><ci id="S3.E3.m1.2.2.2.4.2.cmml" xref="S3.E3.m1.2.2.2.4.2">𝑠</ci><ci id="S3.E3.m1.2.2.2.4.3.cmml" xref="S3.E3.m1.2.2.2.4.3">𝑇</ci></apply><interval closure="open" id="S3.E3.m1.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2"><apply id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.E3.m1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3">𝐼</ci></apply><apply id="S3.E3.m1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.2.2">superscript</csymbol><ci id="S3.E3.m1.2.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2">𝑥</ci><ci id="S3.E3.m1.2.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2.2.3">𝑇</ci></apply></interval></apply><apply id="S3.E3.m1.4.4.4.cmml" xref="S3.E3.m1.4.4.4"><times id="S3.E3.m1.4.4.4.3.cmml" xref="S3.E3.m1.4.4.4.3"></times><apply id="S3.E3.m1.4.4.4.4.cmml" xref="S3.E3.m1.4.4.4.4"><divide id="S3.E3.m1.4.4.4.4.1.cmml" xref="S3.E3.m1.4.4.4.4"></divide><cn type="integer" id="S3.E3.m1.4.4.4.4.2.cmml" xref="S3.E3.m1.4.4.4.4.2">1</cn><ci id="S3.E3.m1.4.4.4.4.3.cmml" xref="S3.E3.m1.4.4.4.4.3">𝑀</ci></apply><apply id="S3.E3.m1.4.4.4.2.cmml" xref="S3.E3.m1.4.4.4.2"><apply id="S3.E3.m1.4.4.4.2.3.cmml" xref="S3.E3.m1.4.4.4.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.4.2.3.1.cmml" xref="S3.E3.m1.4.4.4.2.3">superscript</csymbol><apply id="S3.E3.m1.4.4.4.2.3.2.cmml" xref="S3.E3.m1.4.4.4.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.4.2.3.2.1.cmml" xref="S3.E3.m1.4.4.4.2.3">subscript</csymbol><sum id="S3.E3.m1.4.4.4.2.3.2.2.cmml" xref="S3.E3.m1.4.4.4.2.3.2.2"></sum><apply id="S3.E3.m1.4.4.4.2.3.2.3.cmml" xref="S3.E3.m1.4.4.4.2.3.2.3"><eq id="S3.E3.m1.4.4.4.2.3.2.3.1.cmml" xref="S3.E3.m1.4.4.4.2.3.2.3.1"></eq><ci id="S3.E3.m1.4.4.4.2.3.2.3.2.cmml" xref="S3.E3.m1.4.4.4.2.3.2.3.2">𝑗</ci><cn type="integer" id="S3.E3.m1.4.4.4.2.3.2.3.3.cmml" xref="S3.E3.m1.4.4.4.2.3.2.3.3">1</cn></apply></apply><ci id="S3.E3.m1.4.4.4.2.3.3.cmml" xref="S3.E3.m1.4.4.4.2.3.3">𝑀</ci></apply><apply id="S3.E3.m1.4.4.4.2.2.cmml" xref="S3.E3.m1.4.4.4.2.2"><times id="S3.E3.m1.4.4.4.2.2.3.cmml" xref="S3.E3.m1.4.4.4.2.2.3"></times><apply id="S3.E3.m1.3.3.3.1.1.1.cmml" xref="S3.E3.m1.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.1.1.1">superscript</csymbol><apply id="S3.E3.m1.3.3.3.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.1.1.1">subscript</csymbol><apply id="S3.E3.m1.3.3.3.1.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.3.3.3.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.3.3.3.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.2a.cmml" xref="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.2">f</mtext></ci><ci id="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.3.1.1.1.1.1.1.1.3">𝑇</ci></apply></apply><ci id="S3.E3.m1.3.3.3.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.3.1.1.1.1.3">𝑗</ci></apply><csymbol cd="latexml" id="S3.E3.m1.3.3.3.1.1.1.3.cmml" xref="S3.E3.m1.3.3.3.1.1.1.3">top</csymbol></apply><apply id="S3.E3.m1.4.4.4.2.2.2.cmml" xref="S3.E3.m1.4.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.4.2.2.2.2.cmml" xref="S3.E3.m1.4.4.4.2.2.2">subscript</csymbol><apply id="S3.E3.m1.4.4.4.2.2.2.1.2.cmml" xref="S3.E3.m1.4.4.4.2.2.2.1.1"><csymbol cd="latexml" id="S3.E3.m1.4.4.4.2.2.2.1.2.1.cmml" xref="S3.E3.m1.4.4.4.2.2.2.1.1.2">delimited-[]</csymbol><apply id="S3.E3.m1.4.4.4.2.2.2.1.1.1.cmml" xref="S3.E3.m1.4.4.4.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.4.2.2.2.1.1.1.1.cmml" xref="S3.E3.m1.4.4.4.2.2.2.1.1.1">superscript</csymbol><ci id="S3.E3.m1.4.4.4.2.2.2.1.1.1.2a.cmml" xref="S3.E3.m1.4.4.4.2.2.2.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.E3.m1.4.4.4.2.2.2.1.1.1.2.cmml" xref="S3.E3.m1.4.4.4.2.2.2.1.1.1.2">f</mtext></ci><ci id="S3.E3.m1.4.4.4.2.2.2.1.1.1.3.cmml" xref="S3.E3.m1.4.4.4.2.2.2.1.1.1.3">𝑃</ci></apply></apply><apply id="S3.E3.m1.4.4.4.2.2.2.3.cmml" xref="S3.E3.m1.4.4.4.2.2.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.4.2.2.2.3.1.cmml" xref="S3.E3.m1.4.4.4.2.2.2.3">subscript</csymbol><ci id="S3.E3.m1.4.4.4.2.2.2.3.2.cmml" xref="S3.E3.m1.4.4.4.2.2.2.3.2">𝑚</ci><ci id="S3.E3.m1.4.4.4.2.2.2.3.3.cmml" xref="S3.E3.m1.4.4.4.2.2.2.3.3">𝑗</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.4c">s^{T}(x^{I},x^{T})=\frac{1}{M}\sum_{j=1}^{M}[\textbf{f}^{T}]_{j}^{\top}[\textbf{f}^{P}]_{m_{j}}\vspace{-.4em}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.SSS0.Px1.p2" class="ltx_para">
<p id="S3.SS2.SSS0.Px1.p2.1" class="ltx_p">Note that the image-to-text similarity <math id="S3.SS2.SSS0.Px1.p2.1.m1.2" class="ltx_Math" alttext="s^{I}(x^{I},x^{T})" display="inline"><semantics id="S3.SS2.SSS0.Px1.p2.1.m1.2a"><mrow id="S3.SS2.SSS0.Px1.p2.1.m1.2.2" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.cmml"><msup id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.cmml"><mi id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.2" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.2.cmml">s</mi><mi id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.3" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.3.cmml">I</mi></msup><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.3" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.3.cmml">​</mo><mrow id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.3.cmml">(</mo><msup id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.3.cmml">I</mi></msup><mo id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.4" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.3.cmml">,</mo><msup id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.3.cmml">T</mi></msup><mo stretchy="false" id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.5" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p2.1.m1.2b"><apply id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2"><times id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.3"></times><apply id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.1.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.2.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.2">𝑠</ci><ci id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.3.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.4.3">𝐼</ci></apply><interval closure="open" id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2"><apply id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.1.1.3">𝐼</ci></apply><apply id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.2">𝑥</ci><ci id="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.2.2.2.2.2.3">𝑇</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p2.1.m1.2c">s^{I}(x^{I},x^{T})</annotation></semantics></math> can be calculated in a similar way. However, we exclude this part from our algorithm, since image-text pairs crawled from the Internet suffer from a severe <span id="S3.SS2.SSS0.Px1.p2.1.1" class="ltx_text ltx_font_italic">partial labeling</span> problem – for the vast majority of data, the text describes only a small fraction of the objects appearing in the image, i.e., most of region proposals cannot find their corresponding match in the caption texts. Including image-to-text matching can result in a noticeable performance degradation, for which we give an ablation in Sec. <a href="#S4.SS2.SSS1" title="4.2.1 Ablations for Image-text Contrastive Learning ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.1</span></a>.</p>
</div>
<div id="S3.SS2.SSS0.Px1.p3" class="ltx_para">
<p id="S3.SS2.SSS0.Px1.p3.6" class="ltx_p">Another reasonable consideration is that each textual concept should correspond to multiple regions. This design can be modeled by using a softmax-weighted-sum similarity between a textual concept and all visual regions, i.e.,</p>
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.12" class="ltx_Math" alttext="s^{T}(x^{I},x^{T})=\frac{1}{M}\sum_{j=1}^{M}\sum_{k=1}^{P}\frac{\exp(s_{j,k}/\tau_{t})}{\sum_{i=1}^{P}\exp(s_{j,i}/\tau_{t})}s_{j,k}\vspace{-.4em}" display="block"><semantics id="S3.E4.m1.12a"><mrow id="S3.E4.m1.12.12" xref="S3.E4.m1.12.12.cmml"><mrow id="S3.E4.m1.12.12.2" xref="S3.E4.m1.12.12.2.cmml"><msup id="S3.E4.m1.12.12.2.4" xref="S3.E4.m1.12.12.2.4.cmml"><mi id="S3.E4.m1.12.12.2.4.2" xref="S3.E4.m1.12.12.2.4.2.cmml">s</mi><mi id="S3.E4.m1.12.12.2.4.3" xref="S3.E4.m1.12.12.2.4.3.cmml">T</mi></msup><mo lspace="0em" rspace="0em" id="S3.E4.m1.12.12.2.3" xref="S3.E4.m1.12.12.2.3.cmml">​</mo><mrow id="S3.E4.m1.12.12.2.2.2" xref="S3.E4.m1.12.12.2.2.3.cmml"><mo stretchy="false" id="S3.E4.m1.12.12.2.2.2.3" xref="S3.E4.m1.12.12.2.2.3.cmml">(</mo><msup id="S3.E4.m1.11.11.1.1.1.1" xref="S3.E4.m1.11.11.1.1.1.1.cmml"><mi id="S3.E4.m1.11.11.1.1.1.1.2" xref="S3.E4.m1.11.11.1.1.1.1.2.cmml">x</mi><mi id="S3.E4.m1.11.11.1.1.1.1.3" xref="S3.E4.m1.11.11.1.1.1.1.3.cmml">I</mi></msup><mo id="S3.E4.m1.12.12.2.2.2.4" xref="S3.E4.m1.12.12.2.2.3.cmml">,</mo><msup id="S3.E4.m1.12.12.2.2.2.2" xref="S3.E4.m1.12.12.2.2.2.2.cmml"><mi id="S3.E4.m1.12.12.2.2.2.2.2" xref="S3.E4.m1.12.12.2.2.2.2.2.cmml">x</mi><mi id="S3.E4.m1.12.12.2.2.2.2.3" xref="S3.E4.m1.12.12.2.2.2.2.3.cmml">T</mi></msup><mo stretchy="false" id="S3.E4.m1.12.12.2.2.2.5" xref="S3.E4.m1.12.12.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.12.12.3" xref="S3.E4.m1.12.12.3.cmml">=</mo><mrow id="S3.E4.m1.12.12.4" xref="S3.E4.m1.12.12.4.cmml"><mfrac id="S3.E4.m1.12.12.4.2" xref="S3.E4.m1.12.12.4.2.cmml"><mn id="S3.E4.m1.12.12.4.2.2" xref="S3.E4.m1.12.12.4.2.2.cmml">1</mn><mi id="S3.E4.m1.12.12.4.2.3" xref="S3.E4.m1.12.12.4.2.3.cmml">M</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.E4.m1.12.12.4.1" xref="S3.E4.m1.12.12.4.1.cmml">​</mo><mrow id="S3.E4.m1.12.12.4.3" xref="S3.E4.m1.12.12.4.3.cmml"><munderover id="S3.E4.m1.12.12.4.3.1" xref="S3.E4.m1.12.12.4.3.1.cmml"><mo movablelimits="false" rspace="0em" id="S3.E4.m1.12.12.4.3.1.2.2" xref="S3.E4.m1.12.12.4.3.1.2.2.cmml">∑</mo><mrow id="S3.E4.m1.12.12.4.3.1.2.3" xref="S3.E4.m1.12.12.4.3.1.2.3.cmml"><mi id="S3.E4.m1.12.12.4.3.1.2.3.2" xref="S3.E4.m1.12.12.4.3.1.2.3.2.cmml">j</mi><mo id="S3.E4.m1.12.12.4.3.1.2.3.1" xref="S3.E4.m1.12.12.4.3.1.2.3.1.cmml">=</mo><mn id="S3.E4.m1.12.12.4.3.1.2.3.3" xref="S3.E4.m1.12.12.4.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E4.m1.12.12.4.3.1.3" xref="S3.E4.m1.12.12.4.3.1.3.cmml">M</mi></munderover><mrow id="S3.E4.m1.12.12.4.3.2" xref="S3.E4.m1.12.12.4.3.2.cmml"><munderover id="S3.E4.m1.12.12.4.3.2.1" xref="S3.E4.m1.12.12.4.3.2.1.cmml"><mo movablelimits="false" id="S3.E4.m1.12.12.4.3.2.1.2.2" xref="S3.E4.m1.12.12.4.3.2.1.2.2.cmml">∑</mo><mrow id="S3.E4.m1.12.12.4.3.2.1.2.3" xref="S3.E4.m1.12.12.4.3.2.1.2.3.cmml"><mi id="S3.E4.m1.12.12.4.3.2.1.2.3.2" xref="S3.E4.m1.12.12.4.3.2.1.2.3.2.cmml">k</mi><mo id="S3.E4.m1.12.12.4.3.2.1.2.3.1" xref="S3.E4.m1.12.12.4.3.2.1.2.3.1.cmml">=</mo><mn id="S3.E4.m1.12.12.4.3.2.1.2.3.3" xref="S3.E4.m1.12.12.4.3.2.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E4.m1.12.12.4.3.2.1.3" xref="S3.E4.m1.12.12.4.3.2.1.3.cmml">P</mi></munderover><mrow id="S3.E4.m1.12.12.4.3.2.2" xref="S3.E4.m1.12.12.4.3.2.2.cmml"><mfrac id="S3.E4.m1.8.8" xref="S3.E4.m1.8.8.cmml"><mrow id="S3.E4.m1.4.4.4.4" xref="S3.E4.m1.4.4.4.5.cmml"><mi id="S3.E4.m1.3.3.3.3" xref="S3.E4.m1.3.3.3.3.cmml">exp</mi><mo id="S3.E4.m1.4.4.4.4a" xref="S3.E4.m1.4.4.4.5.cmml">⁡</mo><mrow id="S3.E4.m1.4.4.4.4.1" xref="S3.E4.m1.4.4.4.5.cmml"><mo stretchy="false" id="S3.E4.m1.4.4.4.4.1.2" xref="S3.E4.m1.4.4.4.5.cmml">(</mo><mrow id="S3.E4.m1.4.4.4.4.1.1" xref="S3.E4.m1.4.4.4.4.1.1.cmml"><msub id="S3.E4.m1.4.4.4.4.1.1.2" xref="S3.E4.m1.4.4.4.4.1.1.2.cmml"><mi id="S3.E4.m1.4.4.4.4.1.1.2.2" xref="S3.E4.m1.4.4.4.4.1.1.2.2.cmml">s</mi><mrow id="S3.E4.m1.2.2.2.2.2.4" xref="S3.E4.m1.2.2.2.2.2.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.cmml">j</mi><mo id="S3.E4.m1.2.2.2.2.2.4.1" xref="S3.E4.m1.2.2.2.2.2.3.cmml">,</mo><mi id="S3.E4.m1.2.2.2.2.2.2" xref="S3.E4.m1.2.2.2.2.2.2.cmml">k</mi></mrow></msub><mo id="S3.E4.m1.4.4.4.4.1.1.1" xref="S3.E4.m1.4.4.4.4.1.1.1.cmml">/</mo><msub id="S3.E4.m1.4.4.4.4.1.1.3" xref="S3.E4.m1.4.4.4.4.1.1.3.cmml"><mi id="S3.E4.m1.4.4.4.4.1.1.3.2" xref="S3.E4.m1.4.4.4.4.1.1.3.2.cmml">τ</mi><mi id="S3.E4.m1.4.4.4.4.1.1.3.3" xref="S3.E4.m1.4.4.4.4.1.1.3.3.cmml">t</mi></msub></mrow><mo stretchy="false" id="S3.E4.m1.4.4.4.4.1.3" xref="S3.E4.m1.4.4.4.5.cmml">)</mo></mrow></mrow><mrow id="S3.E4.m1.8.8.8" xref="S3.E4.m1.8.8.8.cmml"><msubsup id="S3.E4.m1.8.8.8.5" xref="S3.E4.m1.8.8.8.5.cmml"><mo id="S3.E4.m1.8.8.8.5.2.2" xref="S3.E4.m1.8.8.8.5.2.2.cmml">∑</mo><mrow id="S3.E4.m1.8.8.8.5.2.3" xref="S3.E4.m1.8.8.8.5.2.3.cmml"><mi id="S3.E4.m1.8.8.8.5.2.3.2" xref="S3.E4.m1.8.8.8.5.2.3.2.cmml">i</mi><mo id="S3.E4.m1.8.8.8.5.2.3.1" xref="S3.E4.m1.8.8.8.5.2.3.1.cmml">=</mo><mn id="S3.E4.m1.8.8.8.5.2.3.3" xref="S3.E4.m1.8.8.8.5.2.3.3.cmml">1</mn></mrow><mi id="S3.E4.m1.8.8.8.5.3" xref="S3.E4.m1.8.8.8.5.3.cmml">P</mi></msubsup><mrow id="S3.E4.m1.8.8.8.4.1" xref="S3.E4.m1.8.8.8.4.2.cmml"><mi id="S3.E4.m1.7.7.7.3" xref="S3.E4.m1.7.7.7.3.cmml">exp</mi><mo id="S3.E4.m1.8.8.8.4.1a" xref="S3.E4.m1.8.8.8.4.2.cmml">⁡</mo><mrow id="S3.E4.m1.8.8.8.4.1.1" xref="S3.E4.m1.8.8.8.4.2.cmml"><mo stretchy="false" id="S3.E4.m1.8.8.8.4.1.1.2" xref="S3.E4.m1.8.8.8.4.2.cmml">(</mo><mrow id="S3.E4.m1.8.8.8.4.1.1.1" xref="S3.E4.m1.8.8.8.4.1.1.1.cmml"><msub id="S3.E4.m1.8.8.8.4.1.1.1.2" xref="S3.E4.m1.8.8.8.4.1.1.1.2.cmml"><mi id="S3.E4.m1.8.8.8.4.1.1.1.2.2" xref="S3.E4.m1.8.8.8.4.1.1.1.2.2.cmml">s</mi><mrow id="S3.E4.m1.6.6.6.2.2.4" xref="S3.E4.m1.6.6.6.2.2.3.cmml"><mi id="S3.E4.m1.5.5.5.1.1.1" xref="S3.E4.m1.5.5.5.1.1.1.cmml">j</mi><mo id="S3.E4.m1.6.6.6.2.2.4.1" xref="S3.E4.m1.6.6.6.2.2.3.cmml">,</mo><mi id="S3.E4.m1.6.6.6.2.2.2" xref="S3.E4.m1.6.6.6.2.2.2.cmml">i</mi></mrow></msub><mo id="S3.E4.m1.8.8.8.4.1.1.1.1" xref="S3.E4.m1.8.8.8.4.1.1.1.1.cmml">/</mo><msub id="S3.E4.m1.8.8.8.4.1.1.1.3" xref="S3.E4.m1.8.8.8.4.1.1.1.3.cmml"><mi id="S3.E4.m1.8.8.8.4.1.1.1.3.2" xref="S3.E4.m1.8.8.8.4.1.1.1.3.2.cmml">τ</mi><mi id="S3.E4.m1.8.8.8.4.1.1.1.3.3" xref="S3.E4.m1.8.8.8.4.1.1.1.3.3.cmml">t</mi></msub></mrow><mo stretchy="false" id="S3.E4.m1.8.8.8.4.1.1.3" xref="S3.E4.m1.8.8.8.4.2.cmml">)</mo></mrow></mrow></mrow></mfrac><mo lspace="0em" rspace="0em" id="S3.E4.m1.12.12.4.3.2.2.1" xref="S3.E4.m1.12.12.4.3.2.2.1.cmml">​</mo><msub id="S3.E4.m1.12.12.4.3.2.2.2" xref="S3.E4.m1.12.12.4.3.2.2.2.cmml"><mi id="S3.E4.m1.12.12.4.3.2.2.2.2" xref="S3.E4.m1.12.12.4.3.2.2.2.2.cmml">s</mi><mrow id="S3.E4.m1.10.10.2.4" xref="S3.E4.m1.10.10.2.3.cmml"><mi id="S3.E4.m1.9.9.1.1" xref="S3.E4.m1.9.9.1.1.cmml">j</mi><mo id="S3.E4.m1.10.10.2.4.1" xref="S3.E4.m1.10.10.2.3.cmml">,</mo><mi id="S3.E4.m1.10.10.2.2" xref="S3.E4.m1.10.10.2.2.cmml">k</mi></mrow></msub></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.12b"><apply id="S3.E4.m1.12.12.cmml" xref="S3.E4.m1.12.12"><eq id="S3.E4.m1.12.12.3.cmml" xref="S3.E4.m1.12.12.3"></eq><apply id="S3.E4.m1.12.12.2.cmml" xref="S3.E4.m1.12.12.2"><times id="S3.E4.m1.12.12.2.3.cmml" xref="S3.E4.m1.12.12.2.3"></times><apply id="S3.E4.m1.12.12.2.4.cmml" xref="S3.E4.m1.12.12.2.4"><csymbol cd="ambiguous" id="S3.E4.m1.12.12.2.4.1.cmml" xref="S3.E4.m1.12.12.2.4">superscript</csymbol><ci id="S3.E4.m1.12.12.2.4.2.cmml" xref="S3.E4.m1.12.12.2.4.2">𝑠</ci><ci id="S3.E4.m1.12.12.2.4.3.cmml" xref="S3.E4.m1.12.12.2.4.3">𝑇</ci></apply><interval closure="open" id="S3.E4.m1.12.12.2.2.3.cmml" xref="S3.E4.m1.12.12.2.2.2"><apply id="S3.E4.m1.11.11.1.1.1.1.cmml" xref="S3.E4.m1.11.11.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.11.11.1.1.1.1.1.cmml" xref="S3.E4.m1.11.11.1.1.1.1">superscript</csymbol><ci id="S3.E4.m1.11.11.1.1.1.1.2.cmml" xref="S3.E4.m1.11.11.1.1.1.1.2">𝑥</ci><ci id="S3.E4.m1.11.11.1.1.1.1.3.cmml" xref="S3.E4.m1.11.11.1.1.1.1.3">𝐼</ci></apply><apply id="S3.E4.m1.12.12.2.2.2.2.cmml" xref="S3.E4.m1.12.12.2.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.12.12.2.2.2.2.1.cmml" xref="S3.E4.m1.12.12.2.2.2.2">superscript</csymbol><ci id="S3.E4.m1.12.12.2.2.2.2.2.cmml" xref="S3.E4.m1.12.12.2.2.2.2.2">𝑥</ci><ci id="S3.E4.m1.12.12.2.2.2.2.3.cmml" xref="S3.E4.m1.12.12.2.2.2.2.3">𝑇</ci></apply></interval></apply><apply id="S3.E4.m1.12.12.4.cmml" xref="S3.E4.m1.12.12.4"><times id="S3.E4.m1.12.12.4.1.cmml" xref="S3.E4.m1.12.12.4.1"></times><apply id="S3.E4.m1.12.12.4.2.cmml" xref="S3.E4.m1.12.12.4.2"><divide id="S3.E4.m1.12.12.4.2.1.cmml" xref="S3.E4.m1.12.12.4.2"></divide><cn type="integer" id="S3.E4.m1.12.12.4.2.2.cmml" xref="S3.E4.m1.12.12.4.2.2">1</cn><ci id="S3.E4.m1.12.12.4.2.3.cmml" xref="S3.E4.m1.12.12.4.2.3">𝑀</ci></apply><apply id="S3.E4.m1.12.12.4.3.cmml" xref="S3.E4.m1.12.12.4.3"><apply id="S3.E4.m1.12.12.4.3.1.cmml" xref="S3.E4.m1.12.12.4.3.1"><csymbol cd="ambiguous" id="S3.E4.m1.12.12.4.3.1.1.cmml" xref="S3.E4.m1.12.12.4.3.1">superscript</csymbol><apply id="S3.E4.m1.12.12.4.3.1.2.cmml" xref="S3.E4.m1.12.12.4.3.1"><csymbol cd="ambiguous" id="S3.E4.m1.12.12.4.3.1.2.1.cmml" xref="S3.E4.m1.12.12.4.3.1">subscript</csymbol><sum id="S3.E4.m1.12.12.4.3.1.2.2.cmml" xref="S3.E4.m1.12.12.4.3.1.2.2"></sum><apply id="S3.E4.m1.12.12.4.3.1.2.3.cmml" xref="S3.E4.m1.12.12.4.3.1.2.3"><eq id="S3.E4.m1.12.12.4.3.1.2.3.1.cmml" xref="S3.E4.m1.12.12.4.3.1.2.3.1"></eq><ci id="S3.E4.m1.12.12.4.3.1.2.3.2.cmml" xref="S3.E4.m1.12.12.4.3.1.2.3.2">𝑗</ci><cn type="integer" id="S3.E4.m1.12.12.4.3.1.2.3.3.cmml" xref="S3.E4.m1.12.12.4.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E4.m1.12.12.4.3.1.3.cmml" xref="S3.E4.m1.12.12.4.3.1.3">𝑀</ci></apply><apply id="S3.E4.m1.12.12.4.3.2.cmml" xref="S3.E4.m1.12.12.4.3.2"><apply id="S3.E4.m1.12.12.4.3.2.1.cmml" xref="S3.E4.m1.12.12.4.3.2.1"><csymbol cd="ambiguous" id="S3.E4.m1.12.12.4.3.2.1.1.cmml" xref="S3.E4.m1.12.12.4.3.2.1">superscript</csymbol><apply id="S3.E4.m1.12.12.4.3.2.1.2.cmml" xref="S3.E4.m1.12.12.4.3.2.1"><csymbol cd="ambiguous" id="S3.E4.m1.12.12.4.3.2.1.2.1.cmml" xref="S3.E4.m1.12.12.4.3.2.1">subscript</csymbol><sum id="S3.E4.m1.12.12.4.3.2.1.2.2.cmml" xref="S3.E4.m1.12.12.4.3.2.1.2.2"></sum><apply id="S3.E4.m1.12.12.4.3.2.1.2.3.cmml" xref="S3.E4.m1.12.12.4.3.2.1.2.3"><eq id="S3.E4.m1.12.12.4.3.2.1.2.3.1.cmml" xref="S3.E4.m1.12.12.4.3.2.1.2.3.1"></eq><ci id="S3.E4.m1.12.12.4.3.2.1.2.3.2.cmml" xref="S3.E4.m1.12.12.4.3.2.1.2.3.2">𝑘</ci><cn type="integer" id="S3.E4.m1.12.12.4.3.2.1.2.3.3.cmml" xref="S3.E4.m1.12.12.4.3.2.1.2.3.3">1</cn></apply></apply><ci id="S3.E4.m1.12.12.4.3.2.1.3.cmml" xref="S3.E4.m1.12.12.4.3.2.1.3">𝑃</ci></apply><apply id="S3.E4.m1.12.12.4.3.2.2.cmml" xref="S3.E4.m1.12.12.4.3.2.2"><times id="S3.E4.m1.12.12.4.3.2.2.1.cmml" xref="S3.E4.m1.12.12.4.3.2.2.1"></times><apply id="S3.E4.m1.8.8.cmml" xref="S3.E4.m1.8.8"><divide id="S3.E4.m1.8.8.9.cmml" xref="S3.E4.m1.8.8"></divide><apply id="S3.E4.m1.4.4.4.5.cmml" xref="S3.E4.m1.4.4.4.4"><exp id="S3.E4.m1.3.3.3.3.cmml" xref="S3.E4.m1.3.3.3.3"></exp><apply id="S3.E4.m1.4.4.4.4.1.1.cmml" xref="S3.E4.m1.4.4.4.4.1.1"><divide id="S3.E4.m1.4.4.4.4.1.1.1.cmml" xref="S3.E4.m1.4.4.4.4.1.1.1"></divide><apply id="S3.E4.m1.4.4.4.4.1.1.2.cmml" xref="S3.E4.m1.4.4.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.4.4.1.1.2.1.cmml" xref="S3.E4.m1.4.4.4.4.1.1.2">subscript</csymbol><ci id="S3.E4.m1.4.4.4.4.1.1.2.2.cmml" xref="S3.E4.m1.4.4.4.4.1.1.2.2">𝑠</ci><list id="S3.E4.m1.2.2.2.2.2.3.cmml" xref="S3.E4.m1.2.2.2.2.2.4"><ci id="S3.E4.m1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1">𝑗</ci><ci id="S3.E4.m1.2.2.2.2.2.2.cmml" xref="S3.E4.m1.2.2.2.2.2.2">𝑘</ci></list></apply><apply id="S3.E4.m1.4.4.4.4.1.1.3.cmml" xref="S3.E4.m1.4.4.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.4.4.1.1.3.1.cmml" xref="S3.E4.m1.4.4.4.4.1.1.3">subscript</csymbol><ci id="S3.E4.m1.4.4.4.4.1.1.3.2.cmml" xref="S3.E4.m1.4.4.4.4.1.1.3.2">𝜏</ci><ci id="S3.E4.m1.4.4.4.4.1.1.3.3.cmml" xref="S3.E4.m1.4.4.4.4.1.1.3.3">𝑡</ci></apply></apply></apply><apply id="S3.E4.m1.8.8.8.cmml" xref="S3.E4.m1.8.8.8"><apply id="S3.E4.m1.8.8.8.5.cmml" xref="S3.E4.m1.8.8.8.5"><csymbol cd="ambiguous" id="S3.E4.m1.8.8.8.5.1.cmml" xref="S3.E4.m1.8.8.8.5">superscript</csymbol><apply id="S3.E4.m1.8.8.8.5.2.cmml" xref="S3.E4.m1.8.8.8.5"><csymbol cd="ambiguous" id="S3.E4.m1.8.8.8.5.2.1.cmml" xref="S3.E4.m1.8.8.8.5">subscript</csymbol><sum id="S3.E4.m1.8.8.8.5.2.2.cmml" xref="S3.E4.m1.8.8.8.5.2.2"></sum><apply id="S3.E4.m1.8.8.8.5.2.3.cmml" xref="S3.E4.m1.8.8.8.5.2.3"><eq id="S3.E4.m1.8.8.8.5.2.3.1.cmml" xref="S3.E4.m1.8.8.8.5.2.3.1"></eq><ci id="S3.E4.m1.8.8.8.5.2.3.2.cmml" xref="S3.E4.m1.8.8.8.5.2.3.2">𝑖</ci><cn type="integer" id="S3.E4.m1.8.8.8.5.2.3.3.cmml" xref="S3.E4.m1.8.8.8.5.2.3.3">1</cn></apply></apply><ci id="S3.E4.m1.8.8.8.5.3.cmml" xref="S3.E4.m1.8.8.8.5.3">𝑃</ci></apply><apply id="S3.E4.m1.8.8.8.4.2.cmml" xref="S3.E4.m1.8.8.8.4.1"><exp id="S3.E4.m1.7.7.7.3.cmml" xref="S3.E4.m1.7.7.7.3"></exp><apply id="S3.E4.m1.8.8.8.4.1.1.1.cmml" xref="S3.E4.m1.8.8.8.4.1.1.1"><divide id="S3.E4.m1.8.8.8.4.1.1.1.1.cmml" xref="S3.E4.m1.8.8.8.4.1.1.1.1"></divide><apply id="S3.E4.m1.8.8.8.4.1.1.1.2.cmml" xref="S3.E4.m1.8.8.8.4.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.8.8.8.4.1.1.1.2.1.cmml" xref="S3.E4.m1.8.8.8.4.1.1.1.2">subscript</csymbol><ci id="S3.E4.m1.8.8.8.4.1.1.1.2.2.cmml" xref="S3.E4.m1.8.8.8.4.1.1.1.2.2">𝑠</ci><list id="S3.E4.m1.6.6.6.2.2.3.cmml" xref="S3.E4.m1.6.6.6.2.2.4"><ci id="S3.E4.m1.5.5.5.1.1.1.cmml" xref="S3.E4.m1.5.5.5.1.1.1">𝑗</ci><ci id="S3.E4.m1.6.6.6.2.2.2.cmml" xref="S3.E4.m1.6.6.6.2.2.2">𝑖</ci></list></apply><apply id="S3.E4.m1.8.8.8.4.1.1.1.3.cmml" xref="S3.E4.m1.8.8.8.4.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.8.8.8.4.1.1.1.3.1.cmml" xref="S3.E4.m1.8.8.8.4.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.8.8.8.4.1.1.1.3.2.cmml" xref="S3.E4.m1.8.8.8.4.1.1.1.3.2">𝜏</ci><ci id="S3.E4.m1.8.8.8.4.1.1.1.3.3.cmml" xref="S3.E4.m1.8.8.8.4.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply></apply><apply id="S3.E4.m1.12.12.4.3.2.2.2.cmml" xref="S3.E4.m1.12.12.4.3.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.12.12.4.3.2.2.2.1.cmml" xref="S3.E4.m1.12.12.4.3.2.2.2">subscript</csymbol><ci id="S3.E4.m1.12.12.4.3.2.2.2.2.cmml" xref="S3.E4.m1.12.12.4.3.2.2.2.2">𝑠</ci><list id="S3.E4.m1.10.10.2.3.cmml" xref="S3.E4.m1.10.10.2.4"><ci id="S3.E4.m1.9.9.1.1.cmml" xref="S3.E4.m1.9.9.1.1">𝑗</ci><ci id="S3.E4.m1.10.10.2.2.cmml" xref="S3.E4.m1.10.10.2.2">𝑘</ci></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.12c">s^{T}(x^{I},x^{T})=\frac{1}{M}\sum_{j=1}^{M}\sum_{k=1}^{P}\frac{\exp(s_{j,k}/\tau_{t})}{\sum_{i=1}^{P}\exp(s_{j,i}/\tau_{t})}s_{j,k}\vspace{-.4em}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.SSS0.Px1.p3.5" class="ltx_p">where <math id="S3.SS2.SSS0.Px1.p3.1.m1.4" class="ltx_Math" alttext="s_{j,k}=[\textbf{f}^{T}]_{j}^{\top}[\textbf{f}^{P}]_{k}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p3.1.m1.4a"><mrow id="S3.SS2.SSS0.Px1.p3.1.m1.4.4" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.cmml"><msub id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.4" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.4.cmml"><mi id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.4.2" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.4.2.cmml">s</mi><mrow id="S3.SS2.SSS0.Px1.p3.1.m1.2.2.2.4" xref="S3.SS2.SSS0.Px1.p3.1.m1.2.2.2.3.cmml"><mi id="S3.SS2.SSS0.Px1.p3.1.m1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.cmml">j</mi><mo id="S3.SS2.SSS0.Px1.p3.1.m1.2.2.2.4.1" xref="S3.SS2.SSS0.Px1.p3.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS2.SSS0.Px1.p3.1.m1.2.2.2.2" xref="S3.SS2.SSS0.Px1.p3.1.m1.2.2.2.2.cmml">k</mi></mrow></msub><mo id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.3" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.3.cmml">=</mo><mrow id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.cmml"><msubsup id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.cmml"><mrow id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.2.1.cmml">[</mo><msup id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.2a.cmml">f</mtext><mi id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.3.cmml">T</mi></msup><mo stretchy="false" id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.2.1.cmml">]</mo></mrow><mi id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.3" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.cmml">j</mi><mo id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.3" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.3.cmml">⊤</mo></msubsup><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.3" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.3.cmml">​</mo><msub id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.cmml"><mrow id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.2" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.2.1.cmml">[</mo><msup id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.2" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.2a.cmml">f</mtext><mi id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.3" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.3.cmml">P</mi></msup><mo stretchy="false" id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.3" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.2.1.cmml">]</mo></mrow><mi id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.3" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p3.1.m1.4b"><apply id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4"><eq id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.3.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.3"></eq><apply id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.4.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.4"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.4.1.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.4">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.4.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.4.2">𝑠</ci><list id="S3.SS2.SSS0.Px1.p3.1.m1.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.2.2.2.4"><ci id="S3.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.1.1.1.1">𝑗</ci><ci id="S3.SS2.SSS0.Px1.p3.1.m1.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.2.2.2.2">𝑘</ci></list></apply><apply id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2"><times id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.3.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.3"></times><apply id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1">superscript</csymbol><apply id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1">subscript</csymbol><apply id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.2a.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.2">f</mtext></ci><ci id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.1.1.1.3">𝑇</ci></apply></apply><ci id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.1.3">𝑗</ci></apply><csymbol cd="latexml" id="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.3.3.1.1.3">top</csymbol></apply><apply id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2">subscript</csymbol><apply id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1"><csymbol cd="latexml" id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.2">delimited-[]</csymbol><apply id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.2a.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.2">f</mtext></ci><ci id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.1.1.1.3">𝑃</ci></apply></apply><ci id="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p3.1.m1.4.4.2.2.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p3.1.m1.4c">s_{j,k}=[\textbf{f}^{T}]_{j}^{\top}[\textbf{f}^{P}]_{k}</annotation></semantics></math> is the similarity between <math id="S3.SS2.SSS0.Px1.p3.2.m2.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S3.SS2.SSS0.Px1.p3.2.m2.1a"><mi id="S3.SS2.SSS0.Px1.p3.2.m2.1.1" xref="S3.SS2.SSS0.Px1.p3.2.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p3.2.m2.1b"><ci id="S3.SS2.SSS0.Px1.p3.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.2.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p3.2.m2.1c">j</annotation></semantics></math>-th textual concept and <math id="S3.SS2.SSS0.Px1.p3.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.SSS0.Px1.p3.3.m3.1a"><mi id="S3.SS2.SSS0.Px1.p3.3.m3.1.1" xref="S3.SS2.SSS0.Px1.p3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p3.3.m3.1b"><ci id="S3.SS2.SSS0.Px1.p3.3.m3.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p3.3.m3.1c">k</annotation></semantics></math>-th visual region, and <math id="S3.SS2.SSS0.Px1.p3.4.m4.1" class="ltx_Math" alttext="\tau_{t}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p3.4.m4.1a"><msub id="S3.SS2.SSS0.Px1.p3.4.m4.1.1" xref="S3.SS2.SSS0.Px1.p3.4.m4.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p3.4.m4.1.1.2" xref="S3.SS2.SSS0.Px1.p3.4.m4.1.1.2.cmml">τ</mi><mi id="S3.SS2.SSS0.Px1.p3.4.m4.1.1.3" xref="S3.SS2.SSS0.Px1.p3.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p3.4.m4.1b"><apply id="S3.SS2.SSS0.Px1.p3.4.m4.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p3.4.m4.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p3.4.m4.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p3.4.m4.1.1.2">𝜏</ci><ci id="S3.SS2.SSS0.Px1.p3.4.m4.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p3.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p3.4.m4.1c">\tau_{t}</annotation></semantics></math> is a temperature hyper-parameter to control sharpness of the softmax-based weights (when <math id="S3.SS2.SSS0.Px1.p3.5.m5.1" class="ltx_Math" alttext="\tau_{t}\rightarrow 0" display="inline"><semantics id="S3.SS2.SSS0.Px1.p3.5.m5.1a"><mrow id="S3.SS2.SSS0.Px1.p3.5.m5.1.1" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.cmml"><msub id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.cmml"><mi id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.2" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.2.cmml">τ</mi><mi id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.3" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.3.cmml">t</mi></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.1" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.1.cmml">→</mo><mn id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.3" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p3.5.m5.1b"><apply id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1"><ci id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.1">→</ci><apply id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.2">𝜏</ci><ci id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.2.3">𝑡</ci></apply><cn type="integer" id="S3.SS2.SSS0.Px1.p3.5.m5.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p3.5.m5.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p3.5.m5.1c">\tau_{t}\rightarrow 0</annotation></semantics></math>, Eq. <a href="#S3.E4" title="Equation 4 ‣ Word-region alignment similarity. ‣ 3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> degrades to Eq. <a href="#S3.E3" title="Equation 3 ‣ Word-region alignment similarity. ‣ 3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>). We investigate this design in Sec. <a href="#S4.SS2.SSS1" title="4.2.1 Ablations for Image-text Contrastive Learning ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.1</span></a>.</p>
</div>
</section>
<section id="S3.SS2.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Image-text contrastive loss.</h5>

<div id="S3.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px2.p1.3" class="ltx_p">Based on the introduced word-region alignment similarity, a standard contrastive learning between image-text pairs can be performed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>. Specifically, assume a batch of <math id="S3.SS2.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S3.SS2.SSS0.Px2.p1.1.m1.1a"><mi id="S3.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.1.m1.1b"><ci id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.1.m1.1c">B</annotation></semantics></math> image-text pairs <math id="S3.SS2.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="\{(x_{i}^{I},x_{i}^{T})\}_{i=1}^{B}" display="inline"><semantics id="S3.SS2.SSS0.Px2.p1.2.m2.1a"><msubsup id="S3.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.cmml"><mrow id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.2.cmml">{</mo><mrow id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.3.cmml">(</mo><msubsup id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.2.2" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.2.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.3.cmml">I</mi></msubsup><mo id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.4" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.3.cmml">,</mo><msubsup id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.2.2" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.2.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.2.3.cmml">i</mi><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.3.cmml">T</mi></msubsup><mo stretchy="false" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.5" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo stretchy="false" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.cmml"><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.2" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.2.cmml">i</mi><mo id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.1" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml">B</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.2.m2.1b"><apply id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1">superscript</csymbol><apply id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><set id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1"><interval closure="open" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2"><apply id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.1.1.3">𝐼</ci></apply><apply id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2">superscript</csymbol><apply id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.2.2">𝑥</ci><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.2.3">𝑖</ci></apply><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.2.2.3">𝑇</ci></apply></interval></set><apply id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3"><eq id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.1"></eq><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3">𝐵</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.2.m2.1c">\{(x_{i}^{I},x_{i}^{T})\}_{i=1}^{B}</annotation></semantics></math>,
the contrastive loss <math id="S3.SS2.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{L}_{cts}" display="inline"><semantics id="S3.SS2.SSS0.Px2.p1.3.m3.1a"><msub id="S3.SS2.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.2" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml">ℒ</mi><mrow id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml"><mi id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.2" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.1" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.3" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.1a" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.4" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.4.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.3.m3.1b"><apply id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.2">ℒ</ci><apply id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3"><times id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.1"></times><ci id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.2">𝑐</ci><ci id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.3">𝑡</ci><ci id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.4.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.4">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.3.m3.1c">\mathcal{L}_{cts}</annotation></semantics></math> is formulated as</p>
<table id="S3.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E5.m1.4" class="ltx_Math" alttext="\mathcal{L}_{cts}=\mathcal{L}_{T\rightarrow I}=-\frac{1}{B}\log\frac{\exp(s^{T}(x_{i}^{I},x_{i}^{T})/\tau)}{\sum_{j=1}^{B}\exp(s^{T}(x_{j}^{I},x_{i}^{T})/\tau)}\vspace{-.2em}" display="block"><semantics id="S3.E5.m1.4a"><mrow id="S3.E5.m1.4.5" xref="S3.E5.m1.4.5.cmml"><msub id="S3.E5.m1.4.5.2" xref="S3.E5.m1.4.5.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.4.5.2.2" xref="S3.E5.m1.4.5.2.2.cmml">ℒ</mi><mrow id="S3.E5.m1.4.5.2.3" xref="S3.E5.m1.4.5.2.3.cmml"><mi id="S3.E5.m1.4.5.2.3.2" xref="S3.E5.m1.4.5.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.5.2.3.1" xref="S3.E5.m1.4.5.2.3.1.cmml">​</mo><mi id="S3.E5.m1.4.5.2.3.3" xref="S3.E5.m1.4.5.2.3.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.5.2.3.1a" xref="S3.E5.m1.4.5.2.3.1.cmml">​</mo><mi id="S3.E5.m1.4.5.2.3.4" xref="S3.E5.m1.4.5.2.3.4.cmml">s</mi></mrow></msub><mo id="S3.E5.m1.4.5.3" xref="S3.E5.m1.4.5.3.cmml">=</mo><msub id="S3.E5.m1.4.5.4" xref="S3.E5.m1.4.5.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.4.5.4.2" xref="S3.E5.m1.4.5.4.2.cmml">ℒ</mi><mrow id="S3.E5.m1.4.5.4.3" xref="S3.E5.m1.4.5.4.3.cmml"><mi id="S3.E5.m1.4.5.4.3.2" xref="S3.E5.m1.4.5.4.3.2.cmml">T</mi><mo stretchy="false" id="S3.E5.m1.4.5.4.3.1" xref="S3.E5.m1.4.5.4.3.1.cmml">→</mo><mi id="S3.E5.m1.4.5.4.3.3" xref="S3.E5.m1.4.5.4.3.3.cmml">I</mi></mrow></msub><mo id="S3.E5.m1.4.5.5" xref="S3.E5.m1.4.5.5.cmml">=</mo><mrow id="S3.E5.m1.4.5.6" xref="S3.E5.m1.4.5.6.cmml"><mo id="S3.E5.m1.4.5.6a" xref="S3.E5.m1.4.5.6.cmml">−</mo><mrow id="S3.E5.m1.4.5.6.2" xref="S3.E5.m1.4.5.6.2.cmml"><mfrac id="S3.E5.m1.4.5.6.2.2" xref="S3.E5.m1.4.5.6.2.2.cmml"><mn id="S3.E5.m1.4.5.6.2.2.2" xref="S3.E5.m1.4.5.6.2.2.2.cmml">1</mn><mi id="S3.E5.m1.4.5.6.2.2.3" xref="S3.E5.m1.4.5.6.2.2.3.cmml">B</mi></mfrac><mo lspace="0.167em" rspace="0em" id="S3.E5.m1.4.5.6.2.1" xref="S3.E5.m1.4.5.6.2.1.cmml">​</mo><mrow id="S3.E5.m1.4.5.6.2.3" xref="S3.E5.m1.4.5.6.2.3.cmml"><mi id="S3.E5.m1.4.5.6.2.3.1" xref="S3.E5.m1.4.5.6.2.3.1.cmml">log</mi><mo lspace="0.167em" id="S3.E5.m1.4.5.6.2.3a" xref="S3.E5.m1.4.5.6.2.3.cmml">⁡</mo><mfrac id="S3.E5.m1.4.4" xref="S3.E5.m1.4.4.cmml"><mrow id="S3.E5.m1.2.2.2.2" xref="S3.E5.m1.2.2.2.3.cmml"><mi id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml">exp</mi><mo id="S3.E5.m1.2.2.2.2a" xref="S3.E5.m1.2.2.2.3.cmml">⁡</mo><mrow id="S3.E5.m1.2.2.2.2.1" xref="S3.E5.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.E5.m1.2.2.2.2.1.2" xref="S3.E5.m1.2.2.2.3.cmml">(</mo><mrow id="S3.E5.m1.2.2.2.2.1.1" xref="S3.E5.m1.2.2.2.2.1.1.cmml"><mrow id="S3.E5.m1.2.2.2.2.1.1.2" xref="S3.E5.m1.2.2.2.2.1.1.2.cmml"><msup id="S3.E5.m1.2.2.2.2.1.1.2.4" xref="S3.E5.m1.2.2.2.2.1.1.2.4.cmml"><mi id="S3.E5.m1.2.2.2.2.1.1.2.4.2" xref="S3.E5.m1.2.2.2.2.1.1.2.4.2.cmml">s</mi><mi id="S3.E5.m1.2.2.2.2.1.1.2.4.3" xref="S3.E5.m1.2.2.2.2.1.1.2.4.3.cmml">T</mi></msup><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.2.2.2.1.1.2.3" xref="S3.E5.m1.2.2.2.2.1.1.2.3.cmml">​</mo><mrow id="S3.E5.m1.2.2.2.2.1.1.2.2.2" xref="S3.E5.m1.2.2.2.2.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E5.m1.2.2.2.2.1.1.2.2.2.3" xref="S3.E5.m1.2.2.2.2.1.1.2.2.3.cmml">(</mo><msubsup id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.2.2" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.2.3" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.3" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.3.cmml">I</mi></msubsup><mo id="S3.E5.m1.2.2.2.2.1.1.2.2.2.4" xref="S3.E5.m1.2.2.2.2.1.1.2.2.3.cmml">,</mo><msubsup id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.cmml"><mi id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.2.2.cmml">x</mi><mi id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.2.3" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.2.3.cmml">i</mi><mi id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.3" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.3.cmml">T</mi></msubsup><mo stretchy="false" id="S3.E5.m1.2.2.2.2.1.1.2.2.2.5" xref="S3.E5.m1.2.2.2.2.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.2.2.2.2.1.1.3" xref="S3.E5.m1.2.2.2.2.1.1.3.cmml">/</mo><mi id="S3.E5.m1.2.2.2.2.1.1.4" xref="S3.E5.m1.2.2.2.2.1.1.4.cmml">τ</mi></mrow><mo stretchy="false" id="S3.E5.m1.2.2.2.2.1.3" xref="S3.E5.m1.2.2.2.3.cmml">)</mo></mrow></mrow><mrow id="S3.E5.m1.4.4.4" xref="S3.E5.m1.4.4.4.cmml"><msubsup id="S3.E5.m1.4.4.4.3" xref="S3.E5.m1.4.4.4.3.cmml"><mo id="S3.E5.m1.4.4.4.3.2.2" xref="S3.E5.m1.4.4.4.3.2.2.cmml">∑</mo><mrow id="S3.E5.m1.4.4.4.3.2.3" xref="S3.E5.m1.4.4.4.3.2.3.cmml"><mi id="S3.E5.m1.4.4.4.3.2.3.2" xref="S3.E5.m1.4.4.4.3.2.3.2.cmml">j</mi><mo id="S3.E5.m1.4.4.4.3.2.3.1" xref="S3.E5.m1.4.4.4.3.2.3.1.cmml">=</mo><mn id="S3.E5.m1.4.4.4.3.2.3.3" xref="S3.E5.m1.4.4.4.3.2.3.3.cmml">1</mn></mrow><mi id="S3.E5.m1.4.4.4.3.3" xref="S3.E5.m1.4.4.4.3.3.cmml">B</mi></msubsup><mrow id="S3.E5.m1.4.4.4.2.1" xref="S3.E5.m1.4.4.4.2.2.cmml"><mi id="S3.E5.m1.3.3.3.1" xref="S3.E5.m1.3.3.3.1.cmml">exp</mi><mo id="S3.E5.m1.4.4.4.2.1a" xref="S3.E5.m1.4.4.4.2.2.cmml">⁡</mo><mrow id="S3.E5.m1.4.4.4.2.1.1" xref="S3.E5.m1.4.4.4.2.2.cmml"><mo stretchy="false" id="S3.E5.m1.4.4.4.2.1.1.2" xref="S3.E5.m1.4.4.4.2.2.cmml">(</mo><mrow id="S3.E5.m1.4.4.4.2.1.1.1" xref="S3.E5.m1.4.4.4.2.1.1.1.cmml"><mrow id="S3.E5.m1.4.4.4.2.1.1.1.2" xref="S3.E5.m1.4.4.4.2.1.1.1.2.cmml"><msup id="S3.E5.m1.4.4.4.2.1.1.1.2.4" xref="S3.E5.m1.4.4.4.2.1.1.1.2.4.cmml"><mi id="S3.E5.m1.4.4.4.2.1.1.1.2.4.2" xref="S3.E5.m1.4.4.4.2.1.1.1.2.4.2.cmml">s</mi><mi id="S3.E5.m1.4.4.4.2.1.1.1.2.4.3" xref="S3.E5.m1.4.4.4.2.1.1.1.2.4.3.cmml">T</mi></msup><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.4.4.2.1.1.1.2.3" xref="S3.E5.m1.4.4.4.2.1.1.1.2.3.cmml">​</mo><mrow id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.3" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.3.cmml">(</mo><msubsup id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.2.3.cmml">j</mi><mi id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.3" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.3.cmml">I</mi></msubsup><mo id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.4" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.3.cmml">,</mo><msubsup id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.cmml"><mi id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.2.2" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.2.2.cmml">x</mi><mi id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.2.3" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.2.3.cmml">i</mi><mi id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.3" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.3.cmml">T</mi></msubsup><mo stretchy="false" id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.5" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.4.4.4.2.1.1.1.3" xref="S3.E5.m1.4.4.4.2.1.1.1.3.cmml">/</mo><mi id="S3.E5.m1.4.4.4.2.1.1.1.4" xref="S3.E5.m1.4.4.4.2.1.1.1.4.cmml">τ</mi></mrow><mo stretchy="false" id="S3.E5.m1.4.4.4.2.1.1.3" xref="S3.E5.m1.4.4.4.2.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.4b"><apply id="S3.E5.m1.4.5.cmml" xref="S3.E5.m1.4.5"><and id="S3.E5.m1.4.5a.cmml" xref="S3.E5.m1.4.5"></and><apply id="S3.E5.m1.4.5b.cmml" xref="S3.E5.m1.4.5"><eq id="S3.E5.m1.4.5.3.cmml" xref="S3.E5.m1.4.5.3"></eq><apply id="S3.E5.m1.4.5.2.cmml" xref="S3.E5.m1.4.5.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.5.2.1.cmml" xref="S3.E5.m1.4.5.2">subscript</csymbol><ci id="S3.E5.m1.4.5.2.2.cmml" xref="S3.E5.m1.4.5.2.2">ℒ</ci><apply id="S3.E5.m1.4.5.2.3.cmml" xref="S3.E5.m1.4.5.2.3"><times id="S3.E5.m1.4.5.2.3.1.cmml" xref="S3.E5.m1.4.5.2.3.1"></times><ci id="S3.E5.m1.4.5.2.3.2.cmml" xref="S3.E5.m1.4.5.2.3.2">𝑐</ci><ci id="S3.E5.m1.4.5.2.3.3.cmml" xref="S3.E5.m1.4.5.2.3.3">𝑡</ci><ci id="S3.E5.m1.4.5.2.3.4.cmml" xref="S3.E5.m1.4.5.2.3.4">𝑠</ci></apply></apply><apply id="S3.E5.m1.4.5.4.cmml" xref="S3.E5.m1.4.5.4"><csymbol cd="ambiguous" id="S3.E5.m1.4.5.4.1.cmml" xref="S3.E5.m1.4.5.4">subscript</csymbol><ci id="S3.E5.m1.4.5.4.2.cmml" xref="S3.E5.m1.4.5.4.2">ℒ</ci><apply id="S3.E5.m1.4.5.4.3.cmml" xref="S3.E5.m1.4.5.4.3"><ci id="S3.E5.m1.4.5.4.3.1.cmml" xref="S3.E5.m1.4.5.4.3.1">→</ci><ci id="S3.E5.m1.4.5.4.3.2.cmml" xref="S3.E5.m1.4.5.4.3.2">𝑇</ci><ci id="S3.E5.m1.4.5.4.3.3.cmml" xref="S3.E5.m1.4.5.4.3.3">𝐼</ci></apply></apply></apply><apply id="S3.E5.m1.4.5c.cmml" xref="S3.E5.m1.4.5"><eq id="S3.E5.m1.4.5.5.cmml" xref="S3.E5.m1.4.5.5"></eq><share href="#S3.E5.m1.4.5.4.cmml" id="S3.E5.m1.4.5d.cmml" xref="S3.E5.m1.4.5"></share><apply id="S3.E5.m1.4.5.6.cmml" xref="S3.E5.m1.4.5.6"><minus id="S3.E5.m1.4.5.6.1.cmml" xref="S3.E5.m1.4.5.6"></minus><apply id="S3.E5.m1.4.5.6.2.cmml" xref="S3.E5.m1.4.5.6.2"><times id="S3.E5.m1.4.5.6.2.1.cmml" xref="S3.E5.m1.4.5.6.2.1"></times><apply id="S3.E5.m1.4.5.6.2.2.cmml" xref="S3.E5.m1.4.5.6.2.2"><divide id="S3.E5.m1.4.5.6.2.2.1.cmml" xref="S3.E5.m1.4.5.6.2.2"></divide><cn type="integer" id="S3.E5.m1.4.5.6.2.2.2.cmml" xref="S3.E5.m1.4.5.6.2.2.2">1</cn><ci id="S3.E5.m1.4.5.6.2.2.3.cmml" xref="S3.E5.m1.4.5.6.2.2.3">𝐵</ci></apply><apply id="S3.E5.m1.4.5.6.2.3.cmml" xref="S3.E5.m1.4.5.6.2.3"><log id="S3.E5.m1.4.5.6.2.3.1.cmml" xref="S3.E5.m1.4.5.6.2.3.1"></log><apply id="S3.E5.m1.4.4.cmml" xref="S3.E5.m1.4.4"><divide id="S3.E5.m1.4.4.5.cmml" xref="S3.E5.m1.4.4"></divide><apply id="S3.E5.m1.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2"><exp id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1"></exp><apply id="S3.E5.m1.2.2.2.2.1.1.cmml" xref="S3.E5.m1.2.2.2.2.1.1"><divide id="S3.E5.m1.2.2.2.2.1.1.3.cmml" xref="S3.E5.m1.2.2.2.2.1.1.3"></divide><apply id="S3.E5.m1.2.2.2.2.1.1.2.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2"><times id="S3.E5.m1.2.2.2.2.1.1.2.3.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.3"></times><apply id="S3.E5.m1.2.2.2.2.1.1.2.4.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.1.1.2.4.1.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.4">superscript</csymbol><ci id="S3.E5.m1.2.2.2.2.1.1.2.4.2.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.4.2">𝑠</ci><ci id="S3.E5.m1.2.2.2.2.1.1.2.4.3.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.4.3">𝑇</ci></apply><interval closure="open" id="S3.E5.m1.2.2.2.2.1.1.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2"><apply id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.2.2.2.2.1.1.1.1.1.1.3">𝐼</ci></apply><apply id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.1.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2">superscript</csymbol><apply id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.2.1.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.2.2">𝑥</ci><ci id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.2.3">𝑖</ci></apply><ci id="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2.2.2.2.3">𝑇</ci></apply></interval></apply><ci id="S3.E5.m1.2.2.2.2.1.1.4.cmml" xref="S3.E5.m1.2.2.2.2.1.1.4">𝜏</ci></apply></apply><apply id="S3.E5.m1.4.4.4.cmml" xref="S3.E5.m1.4.4.4"><apply id="S3.E5.m1.4.4.4.3.cmml" xref="S3.E5.m1.4.4.4.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.3.1.cmml" xref="S3.E5.m1.4.4.4.3">superscript</csymbol><apply id="S3.E5.m1.4.4.4.3.2.cmml" xref="S3.E5.m1.4.4.4.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.3.2.1.cmml" xref="S3.E5.m1.4.4.4.3">subscript</csymbol><sum id="S3.E5.m1.4.4.4.3.2.2.cmml" xref="S3.E5.m1.4.4.4.3.2.2"></sum><apply id="S3.E5.m1.4.4.4.3.2.3.cmml" xref="S3.E5.m1.4.4.4.3.2.3"><eq id="S3.E5.m1.4.4.4.3.2.3.1.cmml" xref="S3.E5.m1.4.4.4.3.2.3.1"></eq><ci id="S3.E5.m1.4.4.4.3.2.3.2.cmml" xref="S3.E5.m1.4.4.4.3.2.3.2">𝑗</ci><cn type="integer" id="S3.E5.m1.4.4.4.3.2.3.3.cmml" xref="S3.E5.m1.4.4.4.3.2.3.3">1</cn></apply></apply><ci id="S3.E5.m1.4.4.4.3.3.cmml" xref="S3.E5.m1.4.4.4.3.3">𝐵</ci></apply><apply id="S3.E5.m1.4.4.4.2.2.cmml" xref="S3.E5.m1.4.4.4.2.1"><exp id="S3.E5.m1.3.3.3.1.cmml" xref="S3.E5.m1.3.3.3.1"></exp><apply id="S3.E5.m1.4.4.4.2.1.1.1.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1"><divide id="S3.E5.m1.4.4.4.2.1.1.1.3.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.3"></divide><apply id="S3.E5.m1.4.4.4.2.1.1.1.2.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2"><times id="S3.E5.m1.4.4.4.2.1.1.1.2.3.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.3"></times><apply id="S3.E5.m1.4.4.4.2.1.1.1.2.4.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.2.1.1.1.2.4.1.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.4">superscript</csymbol><ci id="S3.E5.m1.4.4.4.2.1.1.1.2.4.2.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.4.2">𝑠</ci><ci id="S3.E5.m1.4.4.4.2.1.1.1.2.4.3.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.4.3">𝑇</ci></apply><interval closure="open" id="S3.E5.m1.4.4.4.2.1.1.1.2.2.3.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2"><apply id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.2.3">𝑗</ci></apply><ci id="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.1.1.1.1.3">𝐼</ci></apply><apply id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.1.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2">superscript</csymbol><apply id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.2.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.2.2">𝑥</ci><ci id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.2.3">𝑖</ci></apply><ci id="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.3.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.2.2.2.2.3">𝑇</ci></apply></interval></apply><ci id="S3.E5.m1.4.4.4.2.1.1.1.4.cmml" xref="S3.E5.m1.4.4.4.2.1.1.1.4">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.4c">\mathcal{L}_{cts}=\mathcal{L}_{T\rightarrow I}=-\frac{1}{B}\log\frac{\exp(s^{T}(x_{i}^{I},x_{i}^{T})/\tau)}{\sum_{j=1}^{B}\exp(s^{T}(x_{j}^{I},x_{i}^{T})/\tau)}\vspace{-.2em}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.SSS0.Px2.p1.9" class="ltx_p">where <math id="S3.SS2.SSS0.Px2.p1.4.m1.2" class="ltx_Math" alttext="s^{T}(x_{i}^{I},x_{j}^{T})" display="inline"><semantics id="S3.SS2.SSS0.Px2.p1.4.m1.2a"><mrow id="S3.SS2.SSS0.Px2.p1.4.m1.2.2" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.cmml"><msup id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.cmml"><mi id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.2" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.2.cmml">s</mi><mi id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.3" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.3.cmml">T</mi></msup><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.3" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.3.cmml">​</mo><mrow id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.3" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.3.cmml">(</mo><msubsup id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.2.2" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.2.3" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.3.cmml">I</mi></msubsup><mo id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.4" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.3.cmml">,</mo><msubsup id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.cmml"><mi id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.2.2" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.2.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.2.3" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.2.3.cmml">j</mi><mi id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.3" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.3.cmml">T</mi></msubsup><mo stretchy="false" id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.5" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.4.m1.2b"><apply id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2"><times id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.3"></times><apply id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4">superscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.2">𝑠</ci><ci id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.4.3">𝑇</ci></apply><interval closure="open" id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2"><apply id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.2.2">𝑥</ci><ci id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.1.1.1.1.1.3">𝐼</ci></apply><apply id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2">superscript</csymbol><apply id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.2.2">𝑥</ci><ci id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.2.3">𝑗</ci></apply><ci id="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m1.2.2.2.2.2.3">𝑇</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.4.m1.2c">s^{T}(x_{i}^{I},x_{j}^{T})</annotation></semantics></math> is text-to-image word-region alignment similarity between <math id="S3.SS2.SSS0.Px2.p1.5.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS2.SSS0.Px2.p1.5.m2.1a"><mi id="S3.SS2.SSS0.Px2.p1.5.m2.1.1" xref="S3.SS2.SSS0.Px2.p1.5.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.5.m2.1b"><ci id="S3.SS2.SSS0.Px2.p1.5.m2.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.5.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.5.m2.1c">i</annotation></semantics></math>-th image <math id="S3.SS2.SSS0.Px2.p1.6.m3.1" class="ltx_Math" alttext="x_{i}^{I}" display="inline"><semantics id="S3.SS2.SSS0.Px2.p1.6.m3.1a"><msubsup id="S3.SS2.SSS0.Px2.p1.6.m3.1.1" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1.cmml"><mi id="S3.SS2.SSS0.Px2.p1.6.m3.1.1.2.2" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1.2.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px2.p1.6.m3.1.1.2.3" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1.2.3.cmml">i</mi><mi id="S3.SS2.SSS0.Px2.p1.6.m3.1.1.3" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1.3.cmml">I</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.6.m3.1b"><apply id="S3.SS2.SSS0.Px2.p1.6.m3.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.6.m3.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1">superscript</csymbol><apply id="S3.SS2.SSS0.Px2.p1.6.m3.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.6.m3.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.6.m3.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1.2.2">𝑥</ci><ci id="S3.SS2.SSS0.Px2.p1.6.m3.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.SSS0.Px2.p1.6.m3.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.6.m3.1.1.3">𝐼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.6.m3.1c">x_{i}^{I}</annotation></semantics></math> and <math id="S3.SS2.SSS0.Px2.p1.7.m4.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S3.SS2.SSS0.Px2.p1.7.m4.1a"><mi id="S3.SS2.SSS0.Px2.p1.7.m4.1.1" xref="S3.SS2.SSS0.Px2.p1.7.m4.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.7.m4.1b"><ci id="S3.SS2.SSS0.Px2.p1.7.m4.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.7.m4.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.7.m4.1c">j</annotation></semantics></math>-th text <math id="S3.SS2.SSS0.Px2.p1.8.m5.1" class="ltx_Math" alttext="x_{j}^{T}" display="inline"><semantics id="S3.SS2.SSS0.Px2.p1.8.m5.1a"><msubsup id="S3.SS2.SSS0.Px2.p1.8.m5.1.1" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1.cmml"><mi id="S3.SS2.SSS0.Px2.p1.8.m5.1.1.2.2" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1.2.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px2.p1.8.m5.1.1.2.3" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1.2.3.cmml">j</mi><mi id="S3.SS2.SSS0.Px2.p1.8.m5.1.1.3" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1.3.cmml">T</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.8.m5.1b"><apply id="S3.SS2.SSS0.Px2.p1.8.m5.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.8.m5.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1">superscript</csymbol><apply id="S3.SS2.SSS0.Px2.p1.8.m5.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.8.m5.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.8.m5.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1.2.2">𝑥</ci><ci id="S3.SS2.SSS0.Px2.p1.8.m5.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1.2.3">𝑗</ci></apply><ci id="S3.SS2.SSS0.Px2.p1.8.m5.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.8.m5.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.8.m5.1c">x_{j}^{T}</annotation></semantics></math>, which is given by Eq. <a href="#S3.E3" title="Equation 3 ‣ Word-region alignment similarity. ‣ 3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, and <math id="S3.SS2.SSS0.Px2.p1.9.m6.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S3.SS2.SSS0.Px2.p1.9.m6.1a"><mi id="S3.SS2.SSS0.Px2.p1.9.m6.1.1" xref="S3.SS2.SSS0.Px2.p1.9.m6.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.9.m6.1b"><ci id="S3.SS2.SSS0.Px2.p1.9.m6.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.9.m6.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.9.m6.1c">\tau</annotation></semantics></math> is a temperature to scale the logits. As discussed before, we only consider text-to-image contrastive loss. By incorporating the word-region alignment similarity, the contrastive loss helps the model learn fine-grained word-region correspondences automatically.</p>
</div>
</section>
<section id="S3.SS2.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Proposal selection.</h5>

<div id="S3.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px3.p1.2" class="ltx_p">Intuitively, we expect to select the most representative regions in an image to calculate similarities with textual concepts. There are several schemes to accomplish this. For example, many detectors incorporate class-agnostic object scores in their designs, e.g., foreground classification score in RPN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib41" title="" class="ltx_ref">41</a>]</cite>, centerness in FCOS<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref">48</a>]</cite>, etc., which
can be utilized to generate high-quality region proposals with good generalization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>. However, these approaches fail to take the textual information into consideration. To select regions valuable for contrastive learning, for each candidate region, we calculate its similarities with all textual concepts within a local batch, and use the maximum similarity as its objectness score. The benefits of this design are two-fold: (1) it selects the regions most relevant to the text description; (2) it selects hard negative concepts that described in other texts which may benefit the contrastive learning. With the objectness score, we select top-<math id="S3.SS2.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.SSS0.Px3.p1.1.m1.1a"><mi id="S3.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px3.p1.1.m1.1b"><ci id="S3.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px3.p1.1.m1.1c">k</annotation></semantics></math>
proposals after a NMS operation. Different proposal selection strategies and the optimal <math id="S3.SS2.SSS0.Px3.p1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.SSS0.Px3.p1.2.m2.1a"><mi id="S3.SS2.SSS0.Px3.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px3.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px3.p1.2.m2.1b"><ci id="S3.SS2.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px3.p1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px3.p1.2.m2.1c">k</annotation></semantics></math> are studied in Sec. <a href="#S4.SS2.SSS1" title="4.2.1 Ablations for Image-text Contrastive Learning ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.1</span></a>.</p>
</div>
</section>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Model Architecture and Training Objective</h3>

<section id="S3.SS3.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Model architecture.</h5>

<div id="S3.SS3.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS3.SSS0.Px1.p1.1" class="ltx_p">Similar to DetCLIP<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>, DetCLIPv2 is built using the vanilla ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> detector equipped with a transformer-based <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> text encoder.
We do not introduce additional heavy modules such as DyHead <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> adopted in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite> and cross-modal fusion adopted in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib57" title="" class="ltx_ref">57</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>.</p>
</div>
<div id="S3.SS3.SSS0.Px1.p2" class="ltx_para">
<p id="S3.SS3.SSS0.Px1.p2.1" class="ltx_p">A special design is that we insert a lightweight deformable convolution <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib61" title="" class="ltx_ref">61</a>]</cite> at the beginning of the classification head, which uses the features output by the regression head to calculate the spatial offsets and the modulation scalar, and aggregates the features from the backbone output. The motivation is that when training with image-text pairs, there is no supervision signal on the regression branch and therefore no gradient is generated. This design helps the gradient from the classification head to flow back to the regression head, so that the regression head also benefits from training with massive image-text pairs. I.e., learning a better spatial aggregation for backbone features helps regression head acquire better localization ability. We show this neat design provides substantial performance improvement when training with image-text pairs (see Sec. <a href="#S4.SS2.SSS2" title="4.2.2 Effectiveness of Deformable Module ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.2</span></a>).</p>
</div>
</section>
<section id="S3.SS3.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Training Objective.</h5>

<div id="S3.SS3.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS3.SSS0.Px2.p1.11" class="ltx_p">The overall objective of DetCLIPv2 can be formulated as</p>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.6" class="ltx_Math" alttext="\mathcal{L}=\begin{cases}\mathcal{L}_{align}+\alpha\mathcal{L}_{reg}+\beta\mathcal{L}_{center},&amp;\text{for detection}\\
\mathcal{L}_{align},&amp;\text{for grounding}\\
\lambda\mathcal{L}_{cts},&amp;\text{for image-text pairs}\\
\end{cases}\vspace{-.2em}" display="block"><semantics id="S3.E6.m1.6a"><mrow id="S3.E6.m1.6.7" xref="S3.E6.m1.6.7.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.6.7.2" xref="S3.E6.m1.6.7.2.cmml">ℒ</mi><mo id="S3.E6.m1.6.7.1" xref="S3.E6.m1.6.7.1.cmml">=</mo><mrow id="S3.E6.m1.6.6" xref="S3.E6.m1.6.7.3.1.cmml"><mo id="S3.E6.m1.6.6.7" xref="S3.E6.m1.6.7.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt" id="S3.E6.m1.6.6.6" xref="S3.E6.m1.6.7.3.1.cmml"><mtr id="S3.E6.m1.6.6.6a" xref="S3.E6.m1.6.7.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E6.m1.6.6.6b" xref="S3.E6.m1.6.7.3.1.cmml"><mrow id="S3.E6.m1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E6.m1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.2.cmml">ℒ</mi><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.1a" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.4" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.1b" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.5" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.1c" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.6" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.6.cmml">n</mi></mrow></msub><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.2.cmml">α</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.3.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.1.cmml">​</mo><msub id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.2.cmml">ℒ</mi><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.1a" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.4" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.4.cmml">g</mi></mrow></msub></mrow><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.1a" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.4" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.4.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.4.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.1.cmml">​</mo><msub id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.2.cmml">ℒ</mi><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1a" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.4" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1b" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.5" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.5.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1c" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.6" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1d" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.7" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.7.cmml">r</mi></mrow></msub></mrow></mrow><mo id="S3.E6.m1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E6.m1.6.6.6c" xref="S3.E6.m1.6.7.3.1.cmml"><mtext id="S3.E6.m1.2.2.2.2.2.1" xref="S3.E6.m1.2.2.2.2.2.1a.cmml">for detection</mtext></mtd></mtr><mtr id="S3.E6.m1.6.6.6d" xref="S3.E6.m1.6.7.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E6.m1.6.6.6e" xref="S3.E6.m1.6.7.3.1.cmml"><mrow id="S3.E6.m1.3.3.3.3.1.1.1" xref="S3.E6.m1.3.3.3.3.1.1.1.1.cmml"><msub id="S3.E6.m1.3.3.3.3.1.1.1.1" xref="S3.E6.m1.3.3.3.3.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.3.3.3.3.1.1.1.1.2" xref="S3.E6.m1.3.3.3.3.1.1.1.1.2.cmml">ℒ</mi><mrow id="S3.E6.m1.3.3.3.3.1.1.1.1.3" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.cmml"><mi id="S3.E6.m1.3.3.3.3.1.1.1.1.3.2" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.3.3.3.3.1.1.1.1.3.1" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.1.cmml">​</mo><mi id="S3.E6.m1.3.3.3.3.1.1.1.1.3.3" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.3.3.3.3.1.1.1.1.3.1a" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.1.cmml">​</mo><mi id="S3.E6.m1.3.3.3.3.1.1.1.1.3.4" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.3.3.3.3.1.1.1.1.3.1b" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.1.cmml">​</mo><mi id="S3.E6.m1.3.3.3.3.1.1.1.1.3.5" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.3.3.3.3.1.1.1.1.3.1c" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.1.cmml">​</mo><mi id="S3.E6.m1.3.3.3.3.1.1.1.1.3.6" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.6.cmml">n</mi></mrow></msub><mo id="S3.E6.m1.3.3.3.3.1.1.1.2" xref="S3.E6.m1.3.3.3.3.1.1.1.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E6.m1.6.6.6f" xref="S3.E6.m1.6.7.3.1.cmml"><mtext id="S3.E6.m1.4.4.4.4.2.1" xref="S3.E6.m1.4.4.4.4.2.1a.cmml">for grounding</mtext></mtd></mtr><mtr id="S3.E6.m1.6.6.6g" xref="S3.E6.m1.6.7.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E6.m1.6.6.6h" xref="S3.E6.m1.6.7.3.1.cmml"><mrow id="S3.E6.m1.5.5.5.5.1.1.1" xref="S3.E6.m1.5.5.5.5.1.1.1.1.cmml"><mrow id="S3.E6.m1.5.5.5.5.1.1.1.1" xref="S3.E6.m1.5.5.5.5.1.1.1.1.cmml"><mi id="S3.E6.m1.5.5.5.5.1.1.1.1.2" xref="S3.E6.m1.5.5.5.5.1.1.1.1.2.cmml">λ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.5.5.5.5.1.1.1.1.1" xref="S3.E6.m1.5.5.5.5.1.1.1.1.1.cmml">​</mo><msub id="S3.E6.m1.5.5.5.5.1.1.1.1.3" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.5.5.5.5.1.1.1.1.3.2" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.2.cmml">ℒ</mi><mrow id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.cmml"><mi id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.2" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.1" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.3" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.1a" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.4" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.4.cmml">s</mi></mrow></msub></mrow><mo id="S3.E6.m1.5.5.5.5.1.1.1.2" xref="S3.E6.m1.5.5.5.5.1.1.1.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E6.m1.6.6.6i" xref="S3.E6.m1.6.7.3.1.cmml"><mtext id="S3.E6.m1.6.6.6.6.2.1" xref="S3.E6.m1.6.6.6.6.2.1a.cmml">for image-text pairs</mtext></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.6b"><apply id="S3.E6.m1.6.7.cmml" xref="S3.E6.m1.6.7"><eq id="S3.E6.m1.6.7.1.cmml" xref="S3.E6.m1.6.7.1"></eq><ci id="S3.E6.m1.6.7.2.cmml" xref="S3.E6.m1.6.7.2">ℒ</ci><apply id="S3.E6.m1.6.7.3.1.cmml" xref="S3.E6.m1.6.6"><csymbol cd="latexml" id="S3.E6.m1.6.7.3.1.1.cmml" xref="S3.E6.m1.6.6.7">cases</csymbol><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1"><plus id="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1"></plus><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.2">ℒ</ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3"><times id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.1"></times><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.2">𝑎</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.3">𝑙</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.4.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.4">𝑖</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.5.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.5">𝑔</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.6.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.6">𝑛</ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3"><times id="S3.E6.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.2">𝛼</ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.2">ℒ</ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3"><times id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.1"></times><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.2">𝑟</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.3">𝑒</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.4.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.3.4">𝑔</ci></apply></apply></apply><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.4.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4"><times id="S3.E6.m1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.1"></times><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.4.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.2">𝛽</ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.2">ℒ</ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3"><times id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.1"></times><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.2">𝑐</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.3">𝑒</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.4.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.4">𝑛</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.5.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.5">𝑡</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.6.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.6">𝑒</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.7.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.4.3.3.7">𝑟</ci></apply></apply></apply></apply><ci id="S3.E6.m1.2.2.2.2.2.1a.cmml" xref="S3.E6.m1.2.2.2.2.2.1"><mtext id="S3.E6.m1.2.2.2.2.2.1.cmml" xref="S3.E6.m1.2.2.2.2.2.1">for detection</mtext></ci><apply id="S3.E6.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.E6.m1.3.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.3.3.1.1.1.1.1.cmml" xref="S3.E6.m1.3.3.3.3.1.1.1">subscript</csymbol><ci id="S3.E6.m1.3.3.3.3.1.1.1.1.2.cmml" xref="S3.E6.m1.3.3.3.3.1.1.1.1.2">ℒ</ci><apply id="S3.E6.m1.3.3.3.3.1.1.1.1.3.cmml" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3"><times id="S3.E6.m1.3.3.3.3.1.1.1.1.3.1.cmml" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.1"></times><ci id="S3.E6.m1.3.3.3.3.1.1.1.1.3.2.cmml" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.2">𝑎</ci><ci id="S3.E6.m1.3.3.3.3.1.1.1.1.3.3.cmml" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.3">𝑙</ci><ci id="S3.E6.m1.3.3.3.3.1.1.1.1.3.4.cmml" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.4">𝑖</ci><ci id="S3.E6.m1.3.3.3.3.1.1.1.1.3.5.cmml" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.5">𝑔</ci><ci id="S3.E6.m1.3.3.3.3.1.1.1.1.3.6.cmml" xref="S3.E6.m1.3.3.3.3.1.1.1.1.3.6">𝑛</ci></apply></apply><ci id="S3.E6.m1.4.4.4.4.2.1a.cmml" xref="S3.E6.m1.4.4.4.4.2.1"><mtext id="S3.E6.m1.4.4.4.4.2.1.cmml" xref="S3.E6.m1.4.4.4.4.2.1">for grounding</mtext></ci><apply id="S3.E6.m1.5.5.5.5.1.1.1.1.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1"><times id="S3.E6.m1.5.5.5.5.1.1.1.1.1.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1.1.1"></times><ci id="S3.E6.m1.5.5.5.5.1.1.1.1.2.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1.1.2">𝜆</ci><apply id="S3.E6.m1.5.5.5.5.1.1.1.1.3.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.5.5.1.1.1.1.3.1.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3">subscript</csymbol><ci id="S3.E6.m1.5.5.5.5.1.1.1.1.3.2.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.2">ℒ</ci><apply id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3"><times id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.1"></times><ci id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.2">𝑐</ci><ci id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.3.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.3">𝑡</ci><ci id="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.4.cmml" xref="S3.E6.m1.5.5.5.5.1.1.1.1.3.3.4">𝑠</ci></apply></apply></apply><ci id="S3.E6.m1.6.6.6.6.2.1a.cmml" xref="S3.E6.m1.6.6.6.6.2.1"><mtext id="S3.E6.m1.6.6.6.6.2.1.cmml" xref="S3.E6.m1.6.6.6.6.2.1">for image-text pairs</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.6c">\mathcal{L}=\begin{cases}\mathcal{L}_{align}+\alpha\mathcal{L}_{reg}+\beta\mathcal{L}_{center},&amp;\text{for detection}\\
\mathcal{L}_{align},&amp;\text{for grounding}\\
\lambda\mathcal{L}_{cts},&amp;\text{for image-text pairs}\\
\end{cases}\vspace{-.2em}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.SSS0.Px2.p1.10" class="ltx_p">where <math id="S3.SS3.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{align}" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.1.m1.1a"><msub id="S3.SS3.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.2" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.2" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1a" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.4" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1b" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.5" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1c" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.6" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.6.cmml">n</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.1.m1.1b"><apply id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.2">ℒ</ci><apply id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3"><times id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.1"></times><ci id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.2">𝑎</ci><ci id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.3">𝑙</ci><ci id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.4.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.4">𝑖</ci><ci id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.5.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.5">𝑔</ci><ci id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.6.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.6">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.1.m1.1c">\mathcal{L}_{align}</annotation></semantics></math> is the alignment loss described in Sec. <a href="#S3.SS1" title="3.1 A Unified Data Formulation ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>; <math id="S3.SS3.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{L}_{cts}" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.2.m2.1a"><msub id="S3.SS3.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.2" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.2" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.1" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.3" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.1a" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.4" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.4.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.2.m2.1b"><apply id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.2">ℒ</ci><apply id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3"><times id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.1"></times><ci id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.2">𝑐</ci><ci id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.3">𝑡</ci><ci id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.4.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.3.4">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.2.m2.1c">\mathcal{L}_{cts}</annotation></semantics></math> is the contrastive loss in Eq. <a href="#S3.E5" title="Equation 5 ‣ Image-text contrastive loss. ‣ 3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>; <math id="S3.SS3.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{L}_{reg}" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.3.m3.1a"><msub id="S3.SS3.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.2" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.2" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.1" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.1a" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.4" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.3.m3.1b"><apply id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.2">ℒ</ci><apply id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3"><times id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.1"></times><ci id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.2">𝑟</ci><ci id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.3">𝑒</ci><ci id="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.4.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m3.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.3.m3.1c">\mathcal{L}_{reg}</annotation></semantics></math> and <math id="S3.SS3.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{L}_{center}" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.4.m4.1a"><msub id="S3.SS3.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.2" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.2" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.3" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1a" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.4" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1b" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.5" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.5.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1c" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.6" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1d" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.7" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.7.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.4.m4.1b"><apply id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.2">ℒ</ci><apply id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3"><times id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.1"></times><ci id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.2">𝑐</ci><ci id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.3">𝑒</ci><ci id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.4.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.4">𝑛</ci><ci id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.5.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.5">𝑡</ci><ci id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.6.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.6">𝑒</ci><ci id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.7.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.3.7">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.4.m4.1c">\mathcal{L}_{center}</annotation></semantics></math> are regression and centerness losses, respectively; <math id="S3.SS3.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.5.m5.1a"><mi id="S3.SS3.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS3.SSS0.Px2.p1.5.m5.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.5.m5.1b"><ci id="S3.SS3.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m5.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.5.m5.1c">\alpha</annotation></semantics></math>, <math id="S3.SS3.SSS0.Px2.p1.6.m6.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.6.m6.1a"><mi id="S3.SS3.SSS0.Px2.p1.6.m6.1.1" xref="S3.SS3.SSS0.Px2.p1.6.m6.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.6.m6.1b"><ci id="S3.SS3.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.6.m6.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.6.m6.1c">\beta</annotation></semantics></math> and <math id="S3.SS3.SSS0.Px2.p1.7.m7.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.7.m7.1a"><mi id="S3.SS3.SSS0.Px2.p1.7.m7.1.1" xref="S3.SS3.SSS0.Px2.p1.7.m7.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.7.m7.1b"><ci id="S3.SS3.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.7.m7.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.7.m7.1c">\lambda</annotation></semantics></math> are loss weights. Following ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite>, we use focal loss for <math id="S3.SS3.SSS0.Px2.p1.8.m8.1" class="ltx_Math" alttext="\mathcal{L}_{align}" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.8.m8.1a"><msub id="S3.SS3.SSS0.Px2.p1.8.m8.1.1" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.2" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.2" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.1" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.3" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.1a" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.4" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.1b" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.5" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.1c" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.6" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.6.cmml">n</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.8.m8.1b"><apply id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.2">ℒ</ci><apply id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3"><times id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.1"></times><ci id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.2">𝑎</ci><ci id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.3">𝑙</ci><ci id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.4.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.4">𝑖</ci><ci id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.5.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.5">𝑔</ci><ci id="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.6.cmml" xref="S3.SS3.SSS0.Px2.p1.8.m8.1.1.3.6">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.8.m8.1c">\mathcal{L}_{align}</annotation></semantics></math>, GIoU loss <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite> for <math id="S3.SS3.SSS0.Px2.p1.9.m9.1" class="ltx_Math" alttext="\mathcal{L}_{reg}" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.9.m9.1a"><msub id="S3.SS3.SSS0.Px2.p1.9.m9.1.1" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.2" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.2" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.1" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.3" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.1a" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.4" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.9.m9.1b"><apply id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.2">ℒ</ci><apply id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3"><times id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.1"></times><ci id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.2">𝑟</ci><ci id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.3">𝑒</ci><ci id="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.4.cmml" xref="S3.SS3.SSS0.Px2.p1.9.m9.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.9.m9.1c">\mathcal{L}_{reg}</annotation></semantics></math>, and cross-entropy loss for <math id="S3.SS3.SSS0.Px2.p1.10.m10.1" class="ltx_Math" alttext="\mathcal{L}_{center}" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.10.m10.1a"><msub id="S3.SS3.SSS0.Px2.p1.10.m10.1.1" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.2" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.2" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.3" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1a" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.4" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1b" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.5" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.5.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1c" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.6" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1d" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.7" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.7.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.10.m10.1b"><apply id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.2">ℒ</ci><apply id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3"><times id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.1"></times><ci id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.2">𝑐</ci><ci id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.3">𝑒</ci><ci id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.4.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.4">𝑛</ci><ci id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.5.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.5">𝑡</ci><ci id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.6.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.6">𝑒</ci><ci id="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.7.cmml" xref="S3.SS3.SSS0.Px2.p1.10.m10.1.1.3.7">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.10.m10.1c">\mathcal{L}_{center}</annotation></semantics></math>. We remove the localization loss for grounding data due to its inaccurate bounding box annotations.</p>
</div>
</section>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Joint Training</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">DetCLIPv2 performs a joint training with heterogeneous datasets. During training, we group data belonging to the same type for a global batch. At each iteration, we sample one type of data for training. Different data types are trained with different input resolutions and batch sizes. Specifically, we use a high-resolution input with a small batch size for detection and grounding data; while for image-text pairs, a low-resolution input with a large batch size is adopted, which helps increase the number of negative samples in contrastive learning and considerably reduce the training cost of massive image-text pairs.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental Results</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Implementation Details</h3>

<section id="S4.SS1.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Training Dataset.</h5>

<div id="S4.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px1.p1.1" class="ltx_p">We use multiple datasets from different sources for training (Table <a href="#S4.T1" title="Table 1 ‣ Training Dataset. ‣ 4.1 Implementation Details ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). Specifically, for detection data, we use a sampled subset from Objects365v2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite> dataset (denoted as O365) with 0.66M images; for grounding data, we use GoldG <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> with COCO <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> images removed, which results in a fairer zero-shot evaluation on LVIS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>. For image-text pairs, we use 2 versions of Conceptual Captions (CC) datasets, i.e., CC3M <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite> and CC12M <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite> (together denoted as CC15M).</p>
</div>
<figure id="S4.T1" class="ltx_table">
<div id="S4.T1.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:83.1pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-34.8pt,6.6pt) scale(0.86178043444982,0.86178043444982) ;">
<table id="S4.T1.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.2.1.1" class="ltx_tr">
<td id="S4.T1.2.1.1.1" class="ltx_td ltx_align_left ltx_border_tt">Dataset</td>
<td id="S4.T1.2.1.1.2" class="ltx_td ltx_align_center ltx_border_tt">Type</td>
<td id="S4.T1.2.1.1.3" class="ltx_td ltx_align_center ltx_border_tt">Volume</td>
</tr>
<tr id="S4.T1.2.1.2" class="ltx_tr">
<td id="S4.T1.2.1.2.1" class="ltx_td ltx_align_left ltx_border_t">Objects365 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite> (O365)</td>
<td id="S4.T1.2.1.2.2" class="ltx_td ltx_align_center ltx_border_t">Detection</td>
<td id="S4.T1.2.1.2.3" class="ltx_td ltx_align_center ltx_border_t">0.66M</td>
</tr>
<tr id="S4.T1.2.1.3" class="ltx_tr">
<td id="S4.T1.2.1.3.1" class="ltx_td ltx_align_left">GoldG <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>
</td>
<td id="S4.T1.2.1.3.2" class="ltx_td ltx_align_center">Grounding</td>
<td id="S4.T1.2.1.3.3" class="ltx_td ltx_align_center">0.77M</td>
</tr>
<tr id="S4.T1.2.1.4" class="ltx_tr">
<td id="S4.T1.2.1.4.1" class="ltx_td ltx_align_left ltx_border_bb">
<span id="S4.T1.2.1.4.1.1" class="ltx_text"></span><span id="S4.T1.2.1.4.1.2" class="ltx_text">
<span id="S4.T1.2.1.4.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.2.1.4.1.2.1.1" class="ltx_tr">
<span id="S4.T1.2.1.4.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">CC15M</span></span>
<span id="S4.T1.2.1.4.1.2.1.2" class="ltx_tr">
<span id="S4.T1.2.1.4.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">(CC3M <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite>+CC12M <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>)</span></span>
</span></span><span id="S4.T1.2.1.4.1.3" class="ltx_text"></span></td>
<td id="S4.T1.2.1.4.2" class="ltx_td ltx_align_center ltx_border_bb">Image-text pairs</td>
<td id="S4.T1.2.1.4.3" class="ltx_td ltx_align_center ltx_border_bb">
<span id="S4.T1.2.1.4.3.1" class="ltx_text"></span> <span id="S4.T1.2.1.4.3.2" class="ltx_text">
<span id="S4.T1.2.1.4.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.2.1.4.3.2.1.1" class="ltx_tr">
<span id="S4.T1.2.1.4.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">13M</span></span>
<span id="S4.T1.2.1.4.3.2.1.2" class="ltx_tr">
<span id="S4.T1.2.1.4.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(3M+10M)</span></span>
</span></span><span id="S4.T1.2.1.4.3.3" class="ltx_text"></span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.3.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S4.T1.4.2" class="ltx_text" style="font-size:90%;">A summary of training data. CC15M contains only 13M image-text pairs since some urls are invalid.</span></figcaption>
</figure>
</section>
<section id="S4.SS1.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Training details.</h5>

<div id="S4.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px2.p1.5" class="ltx_p">We use Swin-transformer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> backbones for image encoder. For text encoder, the maximum token length is set to 16 for efficient training and inference. We initialize the text-encoder with a pretrained FILIP model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>. 32/64 V100 GPUs are used for training Swin-T/L-based models, respectively. For detection and grounding data, we use input resolution <math id="S4.SS1.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="1333\times 800" display="inline"><semantics id="S4.SS1.SSS0.Px2.p1.1.m1.1a"><mrow id="S4.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.cmml"><mn id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml">1333</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml">×</mo><mn id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml">800</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.1.m1.1b"><apply id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1"><times id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1"></times><cn type="integer" id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2">1333</cn><cn type="integer" id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3">800</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.1.m1.1c">1333\times 800</annotation></semantics></math> with a batch size of 128/256 for Swin-T/L models (4 per card), respectively; and for image-text pairs, we use input resolution <math id="S4.SS1.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="320\times 320" display="inline"><semantics id="S4.SS1.SSS0.Px2.p1.2.m2.1a"><mrow id="S4.SS1.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.cmml"><mn id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml">320</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml">×</mo><mn id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml">320</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.2.m2.1b"><apply id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1"><times id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1"></times><cn type="integer" id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2">320</cn><cn type="integer" id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3">320</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.2.m2.1c">320\times 320</annotation></semantics></math> with a batch size of 6144 (192/96 per card for Swin-T/L model). We set <math id="S4.SS1.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\alpha=2" display="inline"><semantics id="S4.SS1.SSS0.Px2.p1.3.m3.1a"><mrow id="S4.SS1.SSS0.Px2.p1.3.m3.1.1" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S4.SS1.SSS0.Px2.p1.3.m3.1.1.2" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1.2.cmml">α</mi><mo id="S4.SS1.SSS0.Px2.p1.3.m3.1.1.1" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS1.SSS0.Px2.p1.3.m3.1.1.3" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.3.m3.1b"><apply id="S4.SS1.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1"><eq id="S4.SS1.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1.1"></eq><ci id="S4.SS1.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1.2">𝛼</ci><cn type="integer" id="S4.SS1.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.3.m3.1c">\alpha=2</annotation></semantics></math> and <math id="S4.SS1.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="\beta=1" display="inline"><semantics id="S4.SS1.SSS0.Px2.p1.4.m4.1a"><mrow id="S4.SS1.SSS0.Px2.p1.4.m4.1.1" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.2" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.2.cmml">β</mi><mo id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.1" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.3" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.4.m4.1b"><apply id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1"><eq id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.1"></eq><ci id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.2">𝛽</ci><cn type="integer" id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.4.m4.1c">\beta=1</annotation></semantics></math> and <math id="S4.SS1.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="\lambda=0.1" display="inline"><semantics id="S4.SS1.SSS0.Px2.p1.5.m5.1a"><mrow id="S4.SS1.SSS0.Px2.p1.5.m5.1.1" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1.cmml"><mi id="S4.SS1.SSS0.Px2.p1.5.m5.1.1.2" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1.2.cmml">λ</mi><mo id="S4.SS1.SSS0.Px2.p1.5.m5.1.1.1" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1.1.cmml">=</mo><mn id="S4.SS1.SSS0.Px2.p1.5.m5.1.1.3" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.5.m5.1b"><apply id="S4.SS1.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1"><eq id="S4.SS1.SSS0.Px2.p1.5.m5.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1.1"></eq><ci id="S4.SS1.SSS0.Px2.p1.5.m5.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1.2">𝜆</ci><cn type="float" id="S4.SS1.SSS0.Px2.p1.5.m5.1.1.3.cmml" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.5.m5.1c">\lambda=0.1</annotation></semantics></math> in Eq. <a href="#S3.E6" title="Equation 6 ‣ Training Objective. ‣ 3.3 Model Architecture and Training Objective ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>. Without otherwise specified, all models are trained with 12 epochs. More training details can refer to Appendix.</p>
</div>
</section>
<section id="S4.SS1.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Evaluation benchmark.</h5>

<div id="S4.SS1.SSS0.Px3.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px3.p1.1" class="ltx_p">Following GLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> and DetCLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>, we evaluate our method’s <span id="S4.SS1.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_italic">zero-shot</span> performances on LVIS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> with 1203 categories. <span id="S4.SS1.SSS0.Px3.p1.1.2" class="ltx_text ltx_font_italic">Fixed</span> AP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> on LVIS minival5k are reported for ablation and comparison with other methods. To further study the generalization ability of our method, we also evaluate with ODinW13 dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>, which contains 13 downstream detection tasks with highly varied distributions. We focus on the GLIP protocol <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> rather than the ViLD protocol <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> that splits LVIS into seen/unseen categories, since the former is a stronger and more practical open-world setting that does not make any prior assumptions on downstream tasks while the latter still requires partial LVIS data for training.</p>
</div>
</section>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Ablation Studies</h3>

<figure id="S4.T2" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.sf1" class="ltx_figure ltx_figure_panel">
<table id="S4.F4.sf1.2" class="ltx_tabular ltx_centering ltx_minipage ltx_align_middle" style="width:125.7pt;">
<tr id="S4.F4.sf1.2.1" class="ltx_tr">
<td id="S4.F4.sf1.2.1.1" class="ltx_td ltx_align_left" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.1.1.1" class="ltx_text" style="font-size:80%;">#</span></td>
<td id="S4.F4.sf1.2.1.2" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.1.2.1" class="ltx_text" style="font-size:80%;">Strategy</span></td>
<td id="S4.F4.sf1.2.1.3" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.1.3.1" class="ltx_text" style="font-size:80%;">AP (r/c/f)</span></td>
</tr>
<tr id="S4.F4.sf1.2.2" class="ltx_tr">
<td id="S4.F4.sf1.2.2.1" class="ltx_td ltx_align_left ltx_border_t" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.2.1.1" class="ltx_text" style="font-size:80%;">1</span></td>
<td id="S4.F4.sf1.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.2.2.1" class="ltx_text" style="font-size:80%;">cls</span></td>
<td id="S4.F4.sf1.2.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.2.3.1" class="ltx_text" style="font-size:80%;">28.4 (26.6/28.2/28.8)</span></td>
</tr>
<tr id="S4.F4.sf1.2.3" class="ltx_tr">
<td id="S4.F4.sf1.2.3.1" class="ltx_td ltx_align_left" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.3.1.1" class="ltx_text" style="font-size:80%;">2</span></td>
<td id="S4.F4.sf1.2.3.2" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.3.2.1" class="ltx_text" style="font-size:80%;">IoU</span></td>
<td id="S4.F4.sf1.2.3.3" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.3.3.1" class="ltx_text" style="font-size:80%;">30.1 (30.0/30.1/30.2)</span></td>
</tr>
<tr id="S4.F4.sf1.2.4" class="ltx_tr">
<td id="S4.F4.sf1.2.4.1" class="ltx_td ltx_align_left" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.4.1.1" class="ltx_text" style="font-size:80%;">3</span></td>
<td id="S4.F4.sf1.2.4.2" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.4.2.1" class="ltx_text" style="font-size:80%;">centerness</span></td>
<td id="S4.F4.sf1.2.4.3" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.4.3.1" class="ltx_text" style="font-size:80%;">30.2 (28.4/30.6/30.1)</span></td>
</tr>
<tr id="S4.F4.sf1.2.5" class="ltx_tr">
<td id="S4.F4.sf1.2.5.1" class="ltx_td ltx_align_left" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.5.1.1" class="ltx_text" style="font-size:80%;">4</span></td>
<td id="S4.F4.sf1.2.5.2" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.5.2.1" class="ltx_text" style="font-size:80%;">text sim (S)</span></td>
<td id="S4.F4.sf1.2.5.3" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.5.3.1" class="ltx_text" style="font-size:80%;">29.6 (24.9/29.5/30.5)</span></td>
</tr>
<tr id="S4.F4.sf1.2.6" class="ltx_tr">
<td id="S4.F4.sf1.2.6.1" class="ltx_td ltx_align_left" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.6.1.1" class="ltx_text" style="font-size:80%;">5</span></td>
<td id="S4.F4.sf1.2.6.2" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.6.2.1" class="ltx_text" style="font-size:80%;">text sim (B)</span></td>
<td id="S4.F4.sf1.2.6.3" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.6.3.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">31.3<span id="S4.F4.sf1.2.6.3.1.1" class="ltx_text ltx_font_medium"> (29.4/</span>31.7<span id="S4.F4.sf1.2.6.3.1.2" class="ltx_text ltx_font_medium">/</span>31.3<span id="S4.F4.sf1.2.6.3.1.3" class="ltx_text ltx_font_medium">)</span></span></td>
</tr>
<tr id="S4.F4.sf1.2.7" class="ltx_tr">
<td id="S4.F4.sf1.2.7.1" class="ltx_td ltx_align_left" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.7.1.1" class="ltx_text" style="font-size:80%;">6</span></td>
<td id="S4.F4.sf1.2.7.2" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf1.2.7.2.1" class="ltx_text" style="font-size:80%;">  +centerness</span></td>
<td id="S4.F4.sf1.2.7.3" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;">
<span id="S4.F4.sf1.2.7.3.1" class="ltx_text" style="font-size:80%;">30.9 (</span><span id="S4.F4.sf1.2.7.3.2" class="ltx_text ltx_font_bold" style="font-size:80%;">30.2</span><span id="S4.F4.sf1.2.7.3.3" class="ltx_text" style="font-size:80%;">/31.1/30.8)</span>
</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf1.3.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.sf2" class="ltx_figure ltx_figure_panel">
<table id="S4.F4.sf2.2" class="ltx_tabular ltx_centering ltx_minipage ltx_align_middle" style="width:125.7pt;">
<tr id="S4.F4.sf2.2.1" class="ltx_tr">
<td id="S4.F4.sf2.2.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.1.1.1" class="ltx_text" style="font-size:80%;">#</span></td>
<td id="S4.F4.sf2.2.1.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.1.2.1" class="ltx_text" style="font-size:80%;">Strategy</span></td>
<td id="S4.F4.sf2.2.1.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.1.3.1" class="ltx_text" style="font-size:80%;">AP (r/c/f)</span></td>
<td id="S4.F4.sf2.2.1.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.1.4.1" class="ltx_text" style="font-size:80%;">Memory</span></td>
</tr>
<tr id="S4.F4.sf2.2.2" class="ltx_tr">
<td id="S4.F4.sf2.2.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.2.1.1" class="ltx_text" style="font-size:80%;">1</span></td>
<td id="S4.F4.sf2.2.2.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.2.2.1" class="ltx_text" style="font-size:80%;">max-bbox</span></td>
<td id="S4.F4.sf2.2.2.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.2.3.1" class="ltx_text" style="font-size:80%;">29.8 (28.5/39.5/30.4)</span></td>
<td id="S4.F4.sf2.2.2.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.2.4.1" class="ltx_text" style="font-size:80%;">19.8 GB</span></td>
</tr>
<tr id="S4.F4.sf2.2.3" class="ltx_tr">
<td id="S4.F4.sf2.2.3.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.3.1.1" class="ltx_text" style="font-size:80%;">2</span></td>
<td id="S4.F4.sf2.2.3.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.3.2.1" class="ltx_text" style="font-size:80%;">1-to-1</span></td>
<td id="S4.F4.sf2.2.3.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="background-color:#E6E6E6;padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.3.3.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">31.3<span id="S4.F4.sf2.2.3.3.1.1" class="ltx_text ltx_font_medium"> (29.4/</span>31.7<span id="S4.F4.sf2.2.3.3.1.2" class="ltx_text ltx_font_medium">/</span>31.3<span id="S4.F4.sf2.2.3.3.1.3" class="ltx_text ltx_font_medium">)</span></span></td>
<td id="S4.F4.sf2.2.3.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.3.4.1" class="ltx_text" style="font-size:80%;">20.6 GB</span></td>
</tr>
<tr id="S4.F4.sf2.2.4" class="ltx_tr">
<td id="S4.F4.sf2.2.4.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.4.1.1" class="ltx_text" style="font-size:80%;">3</span></td>
<td id="S4.F4.sf2.2.4.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.4.2.1" class="ltx_text" style="font-size:80%;">1-to-many</span></td>
<td id="S4.F4.sf2.2.4.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.5pt;">
<span id="S4.F4.sf2.2.4.3.1" class="ltx_text" style="font-size:80%;">30.9 (</span><span id="S4.F4.sf2.2.4.3.2" class="ltx_text ltx_font_bold" style="font-size:80%;">31.3</span><span id="S4.F4.sf2.2.4.3.3" class="ltx_text" style="font-size:80%;">/30.7/31.1)</span>
</td>
<td id="S4.F4.sf2.2.4.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.5pt;"><span id="S4.F4.sf2.2.4.4.1" class="ltx_text" style="font-size:80%;">26.0 GB</span></td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf2.3.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F4.sf3" class="ltx_figure ltx_figure_panel">
<table id="S4.F4.sf3.2" class="ltx_tabular ltx_minipage ltx_align_middle" style="width:125.7pt;">
<tr id="S4.F4.sf3.2.1" class="ltx_tr">
<td id="S4.F4.sf3.2.1.1" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf3.2.1.1.1" class="ltx_text" style="font-size:80%;">Design</span></td>
<td id="S4.F4.sf3.2.1.2" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf3.2.1.2.1" class="ltx_text" style="font-size:80%;">AP (r/c/f)</span></td>
</tr>
<tr id="S4.F4.sf3.2.2" class="ltx_tr">
<td id="S4.F4.sf3.2.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf3.2.2.1.1" class="ltx_text" style="font-size:80%;">text-to-image</span></td>
<td id="S4.F4.sf3.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E6E6E6;padding:0.2pt 4.0pt;"><span id="S4.F4.sf3.2.2.2.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">31.3<span id="S4.F4.sf3.2.2.2.1.1" class="ltx_text ltx_font_medium"> (29.4/</span>31.7<span id="S4.F4.sf3.2.2.2.1.2" class="ltx_text ltx_font_medium">/</span>31.3<span id="S4.F4.sf3.2.2.2.1.3" class="ltx_text ltx_font_medium">)</span></span></td>
</tr>
<tr id="S4.F4.sf3.2.3" class="ltx_tr">
<td id="S4.F4.sf3.2.3.1" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf3.2.3.1.1" class="ltx_text" style="font-size:80%;">image-to-text</span></td>
<td id="S4.F4.sf3.2.3.2" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;">
<span id="S4.F4.sf3.2.3.2.1" class="ltx_text" style="font-size:80%;">29.8 (</span><span id="S4.F4.sf3.2.3.2.2" class="ltx_text ltx_font_bold" style="font-size:80%;">30.0</span><span id="S4.F4.sf3.2.3.2.3" class="ltx_text" style="font-size:80%;">/29.7/29.9)</span>
</td>
</tr>
<tr id="S4.F4.sf3.2.4" class="ltx_tr">
<td id="S4.F4.sf3.2.4.1" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;"><span id="S4.F4.sf3.2.4.1.1" class="ltx_text" style="font-size:80%;">bilateral</span></td>
<td id="S4.F4.sf3.2.4.2" class="ltx_td ltx_align_center" style="padding:0.2pt 4.0pt;">
<span id="S4.F4.sf3.2.4.2.1" class="ltx_text" style="font-size:80%;">30.9 (</span><span id="S4.F4.sf3.2.4.2.2" class="ltx_text ltx_font_bold" style="font-size:80%;">30.0</span><span id="S4.F4.sf3.2.4.2.3" class="ltx_text" style="font-size:80%;">/31.5/30.5)</span>
</td>
</tr>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf3.3.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.sf4" class="ltx_figure ltx_figure_panel ltx_align_center">
<div id="S4.F4.sf4.2" class="ltx_block ltx_minipage ltx_align_middle" style="width:125.7pt;">
<table id="S4.F4.sf4.2.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.F4.sf4.2.1.1" class="ltx_tr">
<td id="S4.F4.sf4.2.1.1.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf4.2.1.1.1.1" class="ltx_text" style="font-size:80%;">Top-k</span></td>
<td id="S4.F4.sf4.2.1.1.2" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf4.2.1.1.2.1" class="ltx_text" style="font-size:80%;">AP (r/c/f)</span></td>
</tr>
<tr id="S4.F4.sf4.2.1.2" class="ltx_tr">
<td id="S4.F4.sf4.2.1.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf4.2.1.2.1.1" class="ltx_text" style="font-size:80%;">25</span></td>
<td id="S4.F4.sf4.2.1.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf4.2.1.2.2.1" class="ltx_text" style="font-size:80%;">30.6 (29.9/30.5/30.8)</span></td>
</tr>
<tr id="S4.F4.sf4.2.1.3" class="ltx_tr">
<td id="S4.F4.sf4.2.1.3.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf4.2.1.3.1.1" class="ltx_text" style="font-size:80%;">50</span></td>
<td id="S4.F4.sf4.2.1.3.2" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;">
<span id="S4.F4.sf4.2.1.3.2.1" class="ltx_text" style="font-size:80%;">30.8 (</span><span id="S4.F4.sf4.2.1.3.2.2" class="ltx_text ltx_font_bold" style="font-size:80%;">30.2</span><span id="S4.F4.sf4.2.1.3.2.3" class="ltx_text" style="font-size:80%;">/30.6/31.0)</span>
</td>
</tr>
<tr id="S4.F4.sf4.2.1.4" class="ltx_tr">
<td id="S4.F4.sf4.2.1.4.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf4.2.1.4.1.1" class="ltx_text" style="font-size:80%;">100</span></td>
<td id="S4.F4.sf4.2.1.4.2" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf4.2.1.4.2.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">31.3<span id="S4.F4.sf4.2.1.4.2.1.1" class="ltx_text ltx_font_medium"> (29.4/</span>31.7<span id="S4.F4.sf4.2.1.4.2.1.2" class="ltx_text ltx_font_medium">/</span>31.3<span id="S4.F4.sf4.2.1.4.2.1.3" class="ltx_text ltx_font_medium">)</span></span></td>
</tr>
<tr id="S4.F4.sf4.2.1.5" class="ltx_tr">
<td id="S4.F4.sf4.2.1.5.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf4.2.1.5.1.1" class="ltx_text" style="font-size:80%;">200</span></td>
<td id="S4.F4.sf4.2.1.5.2" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf4.2.1.5.2.1" class="ltx_text" style="font-size:80%;">30.8 (29.4/30.6/31.1)</span></td>
</tr>
</table>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf4.3.1.1" class="ltx_text" style="font-size:90%;">(d)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.sf5" class="ltx_figure ltx_figure_panel ltx_align_center">
<table id="S4.F4.sf5.1.1.1" class="ltx_tabular ltx_minipage ltx_align_middle" style="width:125.7pt;">
<tr id="S4.F4.sf5.1.1.1.1" class="ltx_tr">
<td id="S4.F4.sf5.1.1.1.1.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><math id="S4.F4.sf5.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S4.F4.sf5.1.1.1.1.1.m1.1a"><mi mathsize="80%" id="S4.F4.sf5.1.1.1.1.1.m1.1.1" xref="S4.F4.sf5.1.1.1.1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S4.F4.sf5.1.1.1.1.1.m1.1b"><ci id="S4.F4.sf5.1.1.1.1.1.m1.1.1.cmml" xref="S4.F4.sf5.1.1.1.1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.sf5.1.1.1.1.1.m1.1c">\tau</annotation></semantics></math></td>
<td id="S4.F4.sf5.1.1.1.1.2" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf5.1.1.1.1.2.1" class="ltx_text" style="font-size:80%;">AP (r/c/f)</span></td>
</tr>
<tr id="S4.F4.sf5.1.1.1.2" class="ltx_tr">
<td id="S4.F4.sf5.1.1.1.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf5.1.1.1.2.1.1" class="ltx_text" style="font-size:80%;">1</span></td>
<td id="S4.F4.sf5.1.1.1.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf5.1.1.1.2.2.1" class="ltx_text" style="font-size:80%;">30.1 (28.4/30.3/30.3)</span></td>
</tr>
<tr id="S4.F4.sf5.1.1.1.3" class="ltx_tr">
<td id="S4.F4.sf5.1.1.1.3.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf5.1.1.1.3.1.1" class="ltx_text" style="font-size:80%;">0.5</span></td>
<td id="S4.F4.sf5.1.1.1.3.2" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf5.1.1.1.3.2.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">31.3<span id="S4.F4.sf5.1.1.1.3.2.1.1" class="ltx_text ltx_font_medium"> (29.4/</span>31.7<span id="S4.F4.sf5.1.1.1.3.2.1.2" class="ltx_text ltx_font_medium">/</span>31.3<span id="S4.F4.sf5.1.1.1.3.2.1.3" class="ltx_text ltx_font_medium">)</span></span></td>
</tr>
<tr id="S4.F4.sf5.1.1.1.4" class="ltx_tr">
<td id="S4.F4.sf5.1.1.1.4.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf5.1.1.1.4.1.1" class="ltx_text" style="font-size:80%;">0.15</span></td>
<td id="S4.F4.sf5.1.1.1.4.2" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;">
<span id="S4.F4.sf5.1.1.1.4.2.1" class="ltx_text" style="font-size:80%;">30.8 (</span><span id="S4.F4.sf5.1.1.1.4.2.2" class="ltx_text ltx_font_bold" style="font-size:80%;">29.6</span><span id="S4.F4.sf5.1.1.1.4.2.3" class="ltx_text" style="font-size:80%;">/31.0/30.9)</span>
</td>
</tr>
<tr id="S4.F4.sf5.1.1.1.5" class="ltx_tr">
<td id="S4.F4.sf5.1.1.1.5.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf5.1.1.1.5.1.1" class="ltx_text" style="font-size:80%;">0.07</span></td>
<td id="S4.F4.sf5.1.1.1.5.2" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf5.1.1.1.5.2.1" class="ltx_text" style="font-size:80%;">29.2 (27.5/29.0/29.6)</span></td>
</tr>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf5.3.1.1" class="ltx_text" style="font-size:90%;">(e)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F4.sf6" class="ltx_figure ltx_figure_panel ltx_align_center">
<table id="S4.F4.sf6.1.1.1" class="ltx_tabular ltx_minipage ltx_align_middle" style="width:125.7pt;">
<tr id="S4.F4.sf6.1.1.1.1" class="ltx_tr">
<td id="S4.F4.sf6.1.1.1.1.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><math id="S4.F4.sf6.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.F4.sf6.1.1.1.1.1.m1.1a"><mi mathsize="80%" id="S4.F4.sf6.1.1.1.1.1.m1.1.1" xref="S4.F4.sf6.1.1.1.1.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.F4.sf6.1.1.1.1.1.m1.1b"><ci id="S4.F4.sf6.1.1.1.1.1.m1.1.1.cmml" xref="S4.F4.sf6.1.1.1.1.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.sf6.1.1.1.1.1.m1.1c">\lambda</annotation></semantics></math></td>
<td id="S4.F4.sf6.1.1.1.1.2" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf6.1.1.1.1.2.1" class="ltx_text" style="font-size:80%;">AP (r/c/f)</span></td>
</tr>
<tr id="S4.F4.sf6.1.1.1.2" class="ltx_tr">
<td id="S4.F4.sf6.1.1.1.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf6.1.1.1.2.1.1" class="ltx_text" style="font-size:80%;">0.03</span></td>
<td id="S4.F4.sf6.1.1.1.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.2pt;padding-bottom:0.2pt;">
<span id="S4.F4.sf6.1.1.1.2.2.1" class="ltx_text" style="font-size:80%;">30.5 (</span><span id="S4.F4.sf6.1.1.1.2.2.2" class="ltx_text ltx_font_bold" style="font-size:80%;">29.6/</span><span id="S4.F4.sf6.1.1.1.2.2.3" class="ltx_text" style="font-size:80%;">30.0/31.0)</span>
</td>
</tr>
<tr id="S4.F4.sf6.1.1.1.3" class="ltx_tr">
<td id="S4.F4.sf6.1.1.1.3.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf6.1.1.1.3.1.1" class="ltx_text" style="font-size:80%;">0.1</span></td>
<td id="S4.F4.sf6.1.1.1.3.2" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf6.1.1.1.3.2.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">31.3<span id="S4.F4.sf6.1.1.1.3.2.1.1" class="ltx_text ltx_font_medium"> (29.4/</span>31.7<span id="S4.F4.sf6.1.1.1.3.2.1.2" class="ltx_text ltx_font_medium">/</span>31.3<span id="S4.F4.sf6.1.1.1.3.2.1.3" class="ltx_text ltx_font_medium">)</span></span></td>
</tr>
<tr id="S4.F4.sf6.1.1.1.4" class="ltx_tr">
<td id="S4.F4.sf6.1.1.1.4.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf6.1.1.1.4.1.1" class="ltx_text" style="font-size:80%;">0.3</span></td>
<td id="S4.F4.sf6.1.1.1.4.2" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf6.1.1.1.4.2.1" class="ltx_text" style="font-size:80%;">30.9 (29.4/31.5/30.7)</span></td>
</tr>
<tr id="S4.F4.sf6.1.1.1.5" class="ltx_tr">
<td id="S4.F4.sf6.1.1.1.5.1" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf6.1.1.1.5.1.1" class="ltx_text" style="font-size:80%;">1</span></td>
<td id="S4.F4.sf6.1.1.1.5.2" class="ltx_td ltx_align_center" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span id="S4.F4.sf6.1.1.1.5.2.1" class="ltx_text" style="font-size:80%;">28.9 (27.7/28.8/29.3)</span></td>
</tr>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf6.3.1.1" class="ltx_text" style="font-size:90%;">(f)</span> </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T2.5.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="S4.T2.6.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Ablation experiments for image-text contrastive learning<span id="S4.T2.6.2.1" class="ltx_text ltx_font_medium">. The models are based on the Swin-T backbone and trained with O365+CC3M dataset. We report zero-shot <span id="S4.T2.6.2.1.1" class="ltx_text ltx_font_italic">fixed</span> AP (%) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> on LVIS minival5k <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>. r/c/f indicate AP of rare/common/frequent categories, respectively.
Designs with higher overall AP (marked in <span id="S4.T2.6.2.1.2" class="ltx_text"><span id="S4.T2.6.2.1.2.1" class="ltx_text" style="background-color:#E6E6E6;">gray</span></span>) are selected as our final setting.
</span></span></figcaption>
</figure>
<figure id="S4.T3" class="ltx_table">
<div id="S4.T3.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:161.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(96.3pt,-35.9pt) scale(1.79858486470038,1.79858486470038) ;">
<table id="S4.T3.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T3.2.1.1" class="ltx_tr">
<td id="S4.T3.2.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_tt" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.1.1.1" class="ltx_text" style="font-size:80%;">Pretrain-data</span></td>
<td id="S4.T3.2.1.1.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.1.2.1" class="ltx_text" style="font-size:80%;">deform</span></td>
<td id="S4.T3.2.1.1.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.1.3.1" class="ltx_text" style="font-size:80%;">AP (r/c/f)</span></td>
<td id="S4.T3.2.1.1.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.1.4.1" class="ltx_text" style="font-size:80%;">iter time (s)</span></td>
</tr>
<tr id="S4.T3.2.1.2" class="ltx_tr">
<td id="S4.T3.2.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.2.1.1" class="ltx_text" style="font-size:80%;">O365</span></td>
<td id="S4.T3.2.1.2.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.2.2.1" class="ltx_text" style="font-size:80%;">✗</span></td>
<td id="S4.T3.2.1.2.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.2.3.1" class="ltx_text" style="font-size:80%;">28.8 (26.0 / 28.0 / 30.0)</span></td>
<td id="S4.T3.2.1.2.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.2.4.1" class="ltx_text" style="font-size:80%;">0.925</span></td>
</tr>
<tr id="S4.T3.2.1.3" class="ltx_tr">
<td id="S4.T3.2.1.3.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.3.1.1" class="ltx_text" style="font-size:80%;">O365</span></td>
<td id="S4.T3.2.1.3.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.3.2.1" class="ltx_text" style="font-size:80%;">✓</span></td>
<td id="S4.T3.2.1.3.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.3.3.1" class="ltx_text" style="font-size:80%;">28.6 (24.2 / 27.1 / 30.6)</span></td>
<td id="S4.T3.2.1.3.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.3.4.1" class="ltx_text" style="font-size:80%;">1.075</span></td>
</tr>
<tr id="S4.T3.2.1.4" class="ltx_tr">
<td id="S4.T3.2.1.4.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.4.1.1" class="ltx_text" style="font-size:80%;">O365+GoldG+CC3M</span></td>
<td id="S4.T3.2.1.4.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.4.2.1" class="ltx_text" style="font-size:80%;">✗</span></td>
<td id="S4.T3.2.1.4.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.4.3.1" class="ltx_text" style="font-size:80%;">37.3 (34.1 / 36.9 / 38.2)</span></td>
<td id="S4.T3.2.1.4.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.4.4.1" class="ltx_text" style="font-size:80%;">0.980</span></td>
</tr>
<tr id="S4.T3.2.1.5" class="ltx_tr">
<td id="S4.T3.2.1.5.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.5.1.1" class="ltx_text" style="font-size:80%;">O365+GoldG+CC3M</span></td>
<td id="S4.T3.2.1.5.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.5.2.1" class="ltx_text" style="font-size:80%;">✓</span></td>
<td id="S4.T3.2.1.5.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.5.3.1" class="ltx_text ltx_font_bold" style="font-size:80%;">38.4 (36.7 / 37.9 / 39.1)</span></td>
<td id="S4.T3.2.1.5.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding:0.2pt 1.0pt;"><span id="S4.T3.2.1.5.4.1" class="ltx_text" style="font-size:80%;">1.092</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T3.6.1.1" class="ltx_text" style="font-size:113%;">Table 3</span>: </span><span id="S4.T3.7.2" class="ltx_text ltx_font_bold" style="font-size:113%;">The deformable module<span id="S4.T3.7.2.1" class="ltx_text ltx_font_medium"> effectively improves the weakly-supervised learning while introducing negligible computational cost. ’iter time’ is the training time per iteration.</span></span></figcaption>
</figure>
<figure id="S4.T4" class="ltx_table">
<table id="S4.T4.2" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T4.2.1" class="ltx_tr">
<td id="S4.T4.2.1.1" class="ltx_td ltx_align_left ltx_border_tt">Pretrain-data</td>
<td id="S4.T4.2.1.2" class="ltx_td ltx_align_center ltx_border_tt">AP (r/c/f)</td>
</tr>
<tr id="S4.T4.2.2" class="ltx_tr">
<td id="S4.T4.2.2.1" class="ltx_td ltx_align_left ltx_border_t">O365</td>
<td id="S4.T4.2.2.2" class="ltx_td ltx_align_center ltx_border_t">28.6 (24.2 / 27.1 / 30.6)</td>
</tr>
<tr id="S4.T4.2.3" class="ltx_tr">
<td id="S4.T4.2.3.1" class="ltx_td ltx_align_left">O365+CC3M</td>
<td id="S4.T4.2.3.2" class="ltx_td ltx_align_center">31.3 (29.4 / 31.7 / 31.3)</td>
</tr>
<tr id="S4.T4.2.4" class="ltx_tr">
<td id="S4.T4.2.4.1" class="ltx_td ltx_align_left">O365+GoldG+CC3M</td>
<td id="S4.T4.2.4.2" class="ltx_td ltx_align_center">38.4 (<span id="S4.T4.2.4.2.1" class="ltx_text ltx_font_bold">36.7</span> / 37.9 / 39.1)</td>
</tr>
<tr id="S4.T4.2.5" class="ltx_tr">
<td id="S4.T4.2.5.1" class="ltx_td ltx_align_left ltx_border_bb">O365+GoldG+CC15M</td>
<td id="S4.T4.2.5.2" class="ltx_td ltx_align_center ltx_border_bb">
<span id="S4.T4.2.5.2.1" class="ltx_text ltx_font_bold">40.4</span> (36.0 / <span id="S4.T4.2.5.2.2" class="ltx_text ltx_font_bold">41.7</span> / <span id="S4.T4.2.5.2.3" class="ltx_text ltx_font_bold">40.0)</span>
</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T4.4.1.1" class="ltx_text" style="font-size:90%;">Table 4</span>: </span><span id="S4.T4.5.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Incorporating more data from different sources<span id="S4.T4.5.2.1" class="ltx_text ltx_font_medium"> consistently improves the performance.</span></span></figcaption>
</figure>
<figure id="S4.T5" class="ltx_table">
<div id="S4.T5.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:97.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(3.9pt,-0.9pt) scale(1.01848337235503,1.01848337235503) ;">
<table id="S4.T5.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T5.1.1.2" class="ltx_tr">
<td id="S4.T5.1.1.2.1" class="ltx_td ltx_align_left ltx_border_tt">Model</td>
<td id="S4.T5.1.1.2.2" class="ltx_td ltx_align_left ltx_border_tt">Pretrain-data</td>
<td id="S4.T5.1.1.2.3" class="ltx_td ltx_align_center ltx_border_tt">
<span id="S4.T5.1.1.2.3.1" class="ltx_text"></span> <span id="S4.T5.1.1.2.3.2" class="ltx_text">
<span id="S4.T5.1.1.2.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.1.1.2.3.2.1.1" class="ltx_tr">
<span id="S4.T5.1.1.2.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Training time</span></span>
<span id="S4.T5.1.1.2.3.2.1.2" class="ltx_tr">
<span id="S4.T5.1.1.2.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(GPU hours)</span></span>
</span></span><span id="S4.T5.1.1.2.3.3" class="ltx_text"></span></td>
<td id="S4.T5.1.1.2.4" class="ltx_td ltx_align_center ltx_border_tt">
<span id="S4.T5.1.1.2.4.1" class="ltx_text"></span> <span id="S4.T5.1.1.2.4.2" class="ltx_text">
<span id="S4.T5.1.1.2.4.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T5.1.1.2.4.2.1.1" class="ltx_tr">
<span id="S4.T5.1.1.2.4.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Training</span></span>
<span id="S4.T5.1.1.2.4.2.1.2" class="ltx_tr">
<span id="S4.T5.1.1.2.4.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">FPS</span></span>
</span></span><span id="S4.T5.1.1.2.4.3" class="ltx_text"></span></td>
</tr>
<tr id="S4.T5.1.1.1" class="ltx_tr">
<td id="S4.T5.1.1.1.2" class="ltx_td ltx_align_left ltx_border_t">GLIP-T <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>†</td>
<td id="S4.T5.1.1.1.3" class="ltx_td ltx_align_left ltx_border_t">O365+GoldG</td>
<td id="S4.T5.1.1.1.1" class="ltx_td ltx_align_center ltx_border_t">7.4k (3.0k)<sup id="S4.T5.1.1.1.1.1" class="ltx_sup"><span id="S4.T5.1.1.1.1.1.1" class="ltx_text ltx_font_italic">†</span></sup>
</td>
<td id="S4.T5.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t">1.6</td>
</tr>
<tr id="S4.T5.1.1.3" class="ltx_tr">
<td id="S4.T5.1.1.3.1" class="ltx_td ltx_align_left">DetCLIP-T <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</td>
<td id="S4.T5.1.1.3.2" class="ltx_td ltx_align_left">O365+GoldG+YFCC1M</td>
<td id="S4.T5.1.1.3.3" class="ltx_td ltx_align_center"><span id="S4.T5.1.1.3.3.1" class="ltx_text ltx_font_bold">2.0k</span></td>
<td id="S4.T5.1.1.3.4" class="ltx_td ltx_align_center">4.1</td>
</tr>
<tr id="S4.T5.1.1.4" class="ltx_tr">
<td id="S4.T5.1.1.4.1" class="ltx_td ltx_align_left ltx_border_bb">DetCLIPv2-T</td>
<td id="S4.T5.1.1.4.2" class="ltx_td ltx_align_left ltx_border_bb">O365+GoldG+CC15M</td>
<td id="S4.T5.1.1.4.3" class="ltx_td ltx_align_center ltx_border_bb">2.1k</td>
<td id="S4.T5.1.1.4.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T5.1.1.4.4.1" class="ltx_text ltx_font_bold">25.7</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T5.6.2.1" class="ltx_text" style="font-size:90%;">Table 5</span>: </span><span id="S4.T5.3.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Training efficiency.<span id="S4.T5.3.1.1" class="ltx_text ltx_font_medium"> For DetCLIP, we directly use the result reported in the paper; while for GLIP, we calculate the training time based on the FPS provided in the paper. <math id="S4.T5.3.1.1.m1.1" class="ltx_Math" alttext="{\dagger}" display="inline"><semantics id="S4.T5.3.1.1.m1.1b"><mo id="S4.T5.3.1.1.m1.1.1" xref="S4.T5.3.1.1.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="S4.T5.3.1.1.m1.1c"><ci id="S4.T5.3.1.1.m1.1.1.cmml" xref="S4.T5.3.1.1.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.3.1.1.m1.1d">{\dagger}</annotation></semantics></math>: 7.4k is calculated based on the official implementation which trains 30 epochs, while 3.0k is obtained by converting it to our setting of 12 epochs.</span></span></figcaption>
</figure>
<figure id="S4.T6" class="ltx_table">
<table id="S4.T6.3" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T6.3.4" class="ltx_tr">
<td id="S4.T6.3.4.1" class="ltx_td ltx_align_left ltx_border_tt" rowspan="2"><span id="S4.T6.3.4.1.1" class="ltx_text">Method</span></td>
<td id="S4.T6.3.4.2" class="ltx_td ltx_align_left ltx_border_tt" rowspan="2"><span id="S4.T6.3.4.2.1" class="ltx_text">Detector (Backbone)</span></td>
<td id="S4.T6.3.4.3" class="ltx_td ltx_align_left ltx_border_tt" rowspan="2"><span id="S4.T6.3.4.3.1" class="ltx_text">Pre-Train Data</span></td>
<td id="S4.T6.3.4.4" class="ltx_td ltx_align_center ltx_border_tt" colspan="2">LVIS</td>
</tr>
<tr id="S4.T6.3.3" class="ltx_tr">
<td id="S4.T6.3.3.4" class="ltx_td ltx_align_center">AP</td>
<td id="S4.T6.3.3.3" class="ltx_td ltx_align_center">AP<sub id="S4.T6.3.3.3.1" class="ltx_sub"><span id="S4.T6.3.3.3.1.1" class="ltx_text ltx_font_italic">r</span></sub> / AP<sub id="S4.T6.3.3.3.2" class="ltx_sub"><span id="S4.T6.3.3.3.2.1" class="ltx_text ltx_font_italic">c</span></sub> / AP<sub id="S4.T6.3.3.3.3" class="ltx_sub"><span id="S4.T6.3.3.3.3.1" class="ltx_text ltx_font_italic">f</span></sub>
</td>
</tr>
<tr id="S4.T6.3.5" class="ltx_tr">
<td id="S4.T6.3.5.1" class="ltx_td ltx_align_left ltx_border_t">MDETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>
</td>
<td id="S4.T6.3.5.2" class="ltx_td ltx_align_left ltx_border_t">DETR<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite> (RN101)</td>
<td id="S4.T6.3.5.3" class="ltx_td ltx_align_left ltx_border_t">GoldG+</td>
<td id="S4.T6.3.5.4" class="ltx_td ltx_align_center ltx_border_t">24.2</td>
<td id="S4.T6.3.5.5" class="ltx_td ltx_align_center ltx_border_t">20.9 / 24.3 / 24.2</td>
</tr>
<tr id="S4.T6.3.6" class="ltx_tr">
<td id="S4.T6.3.6.1" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T6.3.6.1.1" class="ltx_text" style="color:#999999;">Supervised</span></td>
<td id="S4.T6.3.6.2" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T6.3.6.2.1" class="ltx_text" style="color:#999999;">ATSS<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-T)</span></td>
<td id="S4.T6.3.6.3" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T6.3.6.3.1" class="ltx_text" style="color:#999999;">LVIS</span></td>
<td id="S4.T6.3.6.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.3.6.4.1" class="ltx_text" style="color:#999999;">33.6</span></td>
<td id="S4.T6.3.6.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.3.6.5.1" class="ltx_text" style="color:#999999;">19.7 / 32.4 / 37.2</span></td>
</tr>
<tr id="S4.T6.3.7" class="ltx_tr">
<td id="S4.T6.3.7.1" class="ltx_td ltx_align_left">GLIP-T<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>
</td>
<td id="S4.T6.3.7.2" class="ltx_td ltx_align_left">DyHead <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> (Swin-T)</td>
<td id="S4.T6.3.7.3" class="ltx_td ltx_align_left">O365,GoldG,Cap4M</td>
<td id="S4.T6.3.7.4" class="ltx_td ltx_align_center">26.0</td>
<td id="S4.T6.3.7.5" class="ltx_td ltx_align_center">20.8 / 21.4 / 31.0</td>
</tr>
<tr id="S4.T6.3.8" class="ltx_tr">
<td id="S4.T6.3.8.1" class="ltx_td ltx_align_left">GLIPv2-T <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>
</td>
<td id="S4.T6.3.8.2" class="ltx_td ltx_align_left">DyHead <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> (Swin-T)</td>
<td id="S4.T6.3.8.3" class="ltx_td ltx_align_left">O365,GoldG,Cap4M</td>
<td id="S4.T6.3.8.4" class="ltx_td ltx_align_center">29.0</td>
<td id="S4.T6.3.8.5" class="ltx_td ltx_align_center">   -   /     -    /    -</td>
</tr>
<tr id="S4.T6.3.9" class="ltx_tr">
<td id="S4.T6.3.9.1" class="ltx_td ltx_align_left">DetCLIP-T <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</td>
<td id="S4.T6.3.9.2" class="ltx_td ltx_align_left">ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-T)</td>
<td id="S4.T6.3.9.3" class="ltx_td ltx_align_left">O365,GoldG,YFCC1M</td>
<td id="S4.T6.3.9.4" class="ltx_td ltx_align_center">35.9</td>
<td id="S4.T6.3.9.5" class="ltx_td ltx_align_center">33.2 / 35.7 / 36.4</td>
</tr>
<tr id="S4.T6.3.10" class="ltx_tr" style="background-color:#FCE8F2;">
<td id="S4.T6.3.10.1" class="ltx_td ltx_align_left"><span id="S4.T6.3.10.1.1" class="ltx_text" style="background-color:#FCE8F2;">DetCLIPv2-T (ours)</span></td>
<td id="S4.T6.3.10.2" class="ltx_td ltx_align_left"><span id="S4.T6.3.10.2.1" class="ltx_text" style="background-color:#FCE8F2;">ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-T)</span></td>
<td id="S4.T6.3.10.3" class="ltx_td ltx_align_left"><span id="S4.T6.3.10.3.1" class="ltx_text" style="background-color:#FCE8F2;">O365,GoldG,CC15M</span></td>
<td id="S4.T6.3.10.4" class="ltx_td ltx_align_center"><span id="S4.T6.3.10.4.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">40.4</span></td>
<td id="S4.T6.3.10.5" class="ltx_td ltx_align_center"><span id="S4.T6.3.10.5.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">36.0 / 41.7 / 40.0</span></td>
</tr>
<tr id="S4.T6.3.11" class="ltx_tr">
<td id="S4.T6.3.11.1" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T6.3.11.1.1" class="ltx_text" style="color:#999999;">Supervised</span></td>
<td id="S4.T6.3.11.2" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T6.3.11.2.1" class="ltx_text" style="color:#999999;">ATSS<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-L)</span></td>
<td id="S4.T6.3.11.3" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T6.3.11.3.1" class="ltx_text" style="color:#999999;">LVIS</span></td>
<td id="S4.T6.3.11.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.3.11.4.1" class="ltx_text" style="color:#999999;">43.9</span></td>
<td id="S4.T6.3.11.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.3.11.5.1" class="ltx_text" style="color:#999999;">30.6 / 43.6 / 46.6</span></td>
</tr>
<tr id="S4.T6.3.12" class="ltx_tr">
<td id="S4.T6.3.12.1" class="ltx_td ltx_align_left">GLIP-L<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>
</td>
<td id="S4.T6.3.12.2" class="ltx_td ltx_align_left">DyHead <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> (Swin-L)</td>
<td id="S4.T6.3.12.3" class="ltx_td ltx_align_left">O365,GoldG,Cap24M</td>
<td id="S4.T6.3.12.4" class="ltx_td ltx_align_center">37.3</td>
<td id="S4.T6.3.12.5" class="ltx_td ltx_align_center">28.2 / 34.3 / 41.5</td>
</tr>
<tr id="S4.T6.3.13" class="ltx_tr">
<td id="S4.T6.3.13.1" class="ltx_td ltx_align_left">DetCLIP-L <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</td>
<td id="S4.T6.3.13.2" class="ltx_td ltx_align_left">ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-L)</td>
<td id="S4.T6.3.13.3" class="ltx_td ltx_align_left">O365,GoldG,YFCC1M</td>
<td id="S4.T6.3.13.4" class="ltx_td ltx_align_center">38.6</td>
<td id="S4.T6.3.13.5" class="ltx_td ltx_align_center">36.0 / 38.3 / 39.3</td>
</tr>
<tr id="S4.T6.3.14" class="ltx_tr" style="background-color:#FCE8F2;">
<td id="S4.T6.3.14.1" class="ltx_td ltx_align_left ltx_border_bb"><span id="S4.T6.3.14.1.1" class="ltx_text" style="background-color:#FCE8F2;">DetCLIPv2-L (ours)</span></td>
<td id="S4.T6.3.14.2" class="ltx_td ltx_align_left ltx_border_bb"><span id="S4.T6.3.14.2.1" class="ltx_text" style="background-color:#FCE8F2;">ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-L)</span></td>
<td id="S4.T6.3.14.3" class="ltx_td ltx_align_left ltx_border_bb"><span id="S4.T6.3.14.3.1" class="ltx_text" style="background-color:#FCE8F2;">O365,GoldG,CC15M</span></td>
<td id="S4.T6.3.14.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T6.3.14.4.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">44.7</span></td>
<td id="S4.T6.3.14.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T6.3.14.5.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">43.1 / 46.3 / 43.7</span></td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T6.7.1.1" class="ltx_text" style="font-size:90%;">Table 6</span>: </span><span id="S4.T6.8.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Zero-shot performance<span id="S4.T6.8.2.1" class="ltx_text ltx_font_medium"> on LVIS minival5k <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>. <span id="S4.T6.8.2.1.1" class="ltx_text ltx_font_italic">Fixed</span> AP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> is reported. DetCLIPv2 achieves SoTA performance.</span></span></figcaption>
</figure>
<section id="S4.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1 </span>Ablations for Image-text Contrastive Learning</h4>

<div id="S4.SS2.SSS1.p1" class="ltx_para">
<p id="S4.SS2.SSS1.p1.1" class="ltx_p">We investigate key factors for our image-text contrastive learning to work in Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. The experiments are conducted with Swin-T-based model on O365+CC3M datasets.</p>
</div>
<section id="S4.SS2.SSS1.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Proposal selection strategy.</h5>

<div id="S4.SS2.SSS1.Px1.p1" class="ltx_para">
<p id="S4.SS2.SSS1.Px1.p1.1" class="ltx_p">Selecting representative regions is critical for image-text contrastive learning. Table <span class="ltx_ref ltx_missing_label ltx_ref_self">LABEL:tab:proposal_selection</span> studies multiple class-agnostic objectness scores for selecting proposals, which includes foreground classfication score <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>]</cite> (row1), IoU score <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> (row2) and centerness <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref">48</a>]</cite> (row3). Except for centerness which is originally designed in ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite>, other 2 scores are predicted by plugging in an additional head after the regression branch. We consider 3 additional scores to utilize textual information: (1) sample-wised text similarity (row4), i.e., each region calculates the similarities with the textual concepts of the sample and the maximum similarity is used as the objectness score; (2) batch-wised text similarity (row5), i.e., the similarities are calculated between a region and textual concepts within a local batch, as described in Sec. <a href="#S3.SS2" title="3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>; and (3) multiplying the batch-wised text similarity with the centerness score (row6), which is commonly adopted by conventional detectors <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref">48</a>, <a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite>.</p>
</div>
<div id="S4.SS2.SSS1.Px1.p2" class="ltx_para">
<p id="S4.SS2.SSS1.Px1.p2.1" class="ltx_p">Among 3 class-agnostic objectness scores, centerness and IoU scores are superior to classification score, indicating that localization-based objectness scores provide better class-agnostic proposals. The result is consistent with the observations in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>. Considering only the sample-wised text similarity performs worse than using class-agnostic scores, since the regions selected in this way make it easier to distinguish between positive and negative samples in the contrastive learning, thus reducing the learning efficiency. Batch-wise similarity addresses the problem by considering text similarities with negative samples and achieves the best performance of 31.3 AP. Further integrating centerness score results in a performance drop to 30.9 AP.</p>
</div>
</section>
<section id="S4.SS2.SSS1.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Word-region alignment strategy.</h5>

<div id="S4.SS2.SSS1.Px2.p1" class="ltx_para">
<p id="S4.SS2.SSS1.Px2.p1.1" class="ltx_p">Table <span class="ltx_ref ltx_missing_label ltx_ref_self">LABEL:tab:matching_strategy</span> investigates word-region alignment strategies described in Sec. <a href="#S3.SS2" title="3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>. Specifically, for fine-grained word-region alignment, 2 matching strategies are studied: (1) 1-to-1 match (row2), i.e., each textual concept is matched with its closest region and (2) 1-to-many match (row3), i.e., each textual concept calculates similarities with all regions, which is then aggregated through a softmax-weighted-sum operation. Besides, we also study a coarse-grained image-text matching strategy proposed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib60" title="" class="ltx_ref">60</a>]</cite> (row1). Specifically, it directly calculates the similarity between the max-size proposal of image and the entire caption of text. Both fine-grained word-region alignment strategies outperform the coarse-grained image-text alignment. Assigning each textual concept with the closest region reaches the best performance (31.3 AP) and substantially saves the GPU memory compared to the 1-to-many strategy, which allows a larger batch size to boost the contrastive learning.</p>
</div>
</section>
<section id="S4.SS2.SSS1.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Number of proposals <math id="S4.SS2.SSS1.Px3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.SSS1.Px3.1.m1.1b"><mi id="S4.SS2.SSS1.Px3.1.m1.1.1" xref="S4.SS2.SSS1.Px3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px3.1.m1.1c"><ci id="S4.SS2.SSS1.Px3.1.m1.1.1.cmml" xref="S4.SS2.SSS1.Px3.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px3.1.m1.1d">k</annotation></semantics></math>.</h5>

<div id="S4.SS2.SSS1.Px3.p1" class="ltx_para">
<p id="S4.SS2.SSS1.Px3.p1.4" class="ltx_p">Table <span class="ltx_ref ltx_missing_label ltx_ref_self">LABEL:tab:number_proposals</span> investigates the optimal <math id="S4.SS2.SSS1.Px3.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.SSS1.Px3.p1.1.m1.1a"><mi id="S4.SS2.SSS1.Px3.p1.1.m1.1.1" xref="S4.SS2.SSS1.Px3.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px3.p1.1.m1.1b"><ci id="S4.SS2.SSS1.Px3.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px3.p1.1.m1.1c">k</annotation></semantics></math> when selecting proposals. We vary <math id="S4.SS2.SSS1.Px3.p1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.SSS1.Px3.p1.2.m2.1a"><mi id="S4.SS2.SSS1.Px3.p1.2.m2.1.1" xref="S4.SS2.SSS1.Px3.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px3.p1.2.m2.1b"><ci id="S4.SS2.SSS1.Px3.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS1.Px3.p1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px3.p1.2.m2.1c">k</annotation></semantics></math> from 25 to 200. Using a large <math id="S4.SS2.SSS1.Px3.p1.3.m3.1" class="ltx_Math" alttext="k=200" display="inline"><semantics id="S4.SS2.SSS1.Px3.p1.3.m3.1a"><mrow id="S4.SS2.SSS1.Px3.p1.3.m3.1.1" xref="S4.SS2.SSS1.Px3.p1.3.m3.1.1.cmml"><mi id="S4.SS2.SSS1.Px3.p1.3.m3.1.1.2" xref="S4.SS2.SSS1.Px3.p1.3.m3.1.1.2.cmml">k</mi><mo id="S4.SS2.SSS1.Px3.p1.3.m3.1.1.1" xref="S4.SS2.SSS1.Px3.p1.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS2.SSS1.Px3.p1.3.m3.1.1.3" xref="S4.SS2.SSS1.Px3.p1.3.m3.1.1.3.cmml">200</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px3.p1.3.m3.1b"><apply id="S4.SS2.SSS1.Px3.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS1.Px3.p1.3.m3.1.1"><eq id="S4.SS2.SSS1.Px3.p1.3.m3.1.1.1.cmml" xref="S4.SS2.SSS1.Px3.p1.3.m3.1.1.1"></eq><ci id="S4.SS2.SSS1.Px3.p1.3.m3.1.1.2.cmml" xref="S4.SS2.SSS1.Px3.p1.3.m3.1.1.2">𝑘</ci><cn type="integer" id="S4.SS2.SSS1.Px3.p1.3.m3.1.1.3.cmml" xref="S4.SS2.SSS1.Px3.p1.3.m3.1.1.3">200</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px3.p1.3.m3.1c">k=200</annotation></semantics></math> results in too many low-quality candidates that slightly decreases the performance. A too small <math id="S4.SS2.SSS1.Px3.p1.4.m4.1" class="ltx_Math" alttext="k=25" display="inline"><semantics id="S4.SS2.SSS1.Px3.p1.4.m4.1a"><mrow id="S4.SS2.SSS1.Px3.p1.4.m4.1.1" xref="S4.SS2.SSS1.Px3.p1.4.m4.1.1.cmml"><mi id="S4.SS2.SSS1.Px3.p1.4.m4.1.1.2" xref="S4.SS2.SSS1.Px3.p1.4.m4.1.1.2.cmml">k</mi><mo id="S4.SS2.SSS1.Px3.p1.4.m4.1.1.1" xref="S4.SS2.SSS1.Px3.p1.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS2.SSS1.Px3.p1.4.m4.1.1.3" xref="S4.SS2.SSS1.Px3.p1.4.m4.1.1.3.cmml">25</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px3.p1.4.m4.1b"><apply id="S4.SS2.SSS1.Px3.p1.4.m4.1.1.cmml" xref="S4.SS2.SSS1.Px3.p1.4.m4.1.1"><eq id="S4.SS2.SSS1.Px3.p1.4.m4.1.1.1.cmml" xref="S4.SS2.SSS1.Px3.p1.4.m4.1.1.1"></eq><ci id="S4.SS2.SSS1.Px3.p1.4.m4.1.1.2.cmml" xref="S4.SS2.SSS1.Px3.p1.4.m4.1.1.2">𝑘</ci><cn type="integer" id="S4.SS2.SSS1.Px3.p1.4.m4.1.1.3.cmml" xref="S4.SS2.SSS1.Px3.p1.4.m4.1.1.3">25</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px3.p1.4.m4.1c">k=25</annotation></semantics></math> leads to insufficient region extraction which causes a noticeable performance drop. A modest design with 100 proposals achieves the best performance.</p>
</div>
</section>
<section id="S4.SS2.SSS1.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Contrastive loss design.</h5>

<div id="S4.SS2.SSS1.Px4.p1" class="ltx_para">
<p id="S4.SS2.SSS1.Px4.p1.1" class="ltx_p">Table <span class="ltx_ref ltx_missing_label ltx_ref_self">LABEL:tab:contrastive_loss</span> performs ablation experiments on different sides of the image-text contrastive loss (Eq. <a href="#S3.E5" title="Equation 5 ‣ Image-text contrastive loss. ‣ 3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>). 3 designs are considered: (1). only image-to-text side loss; (2) only text-to-image side loss; and (3) bilateral loss. As discussed in Sec. <a href="#S3.SS2" title="3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>, using only image-to-text contrastive loss can lead to a significant performance degradation (29.8 AP) due to the <span id="S4.SS2.SSS1.Px4.p1.1.1" class="ltx_text ltx_font_italic">partial labeling</span> problem of the image-text pair data. Excluding image-to-text contrastive loss can alleviate the problem and achieving a better performance of 31.3 AP.</p>
</div>
</section>
<section id="S4.SS2.SSS1.Px5" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Temperature and Loss weight.</h5>

<div id="S4.SS2.SSS1.Px5.p1" class="ltx_para">
<p id="S4.SS2.SSS1.Px5.p1.5" class="ltx_p">Table <span class="ltx_ref ltx_missing_label ltx_ref_self">LABEL:tab:temperature</span> and  <span class="ltx_ref ltx_missing_label ltx_ref_self">LABEL:tab:loss_weight</span> study the optimal values of temperature <math id="S4.SS2.SSS1.Px5.p1.1.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S4.SS2.SSS1.Px5.p1.1.m1.1a"><mi id="S4.SS2.SSS1.Px5.p1.1.m1.1.1" xref="S4.SS2.SSS1.Px5.p1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px5.p1.1.m1.1b"><ci id="S4.SS2.SSS1.Px5.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS1.Px5.p1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px5.p1.1.m1.1c">\tau</annotation></semantics></math> in Eq. <a href="#S3.E5" title="Equation 5 ‣ Image-text contrastive loss. ‣ 3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> and loss weight <math id="S4.SS2.SSS1.Px5.p1.2.m2.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS2.SSS1.Px5.p1.2.m2.1a"><mi id="S4.SS2.SSS1.Px5.p1.2.m2.1.1" xref="S4.SS2.SSS1.Px5.p1.2.m2.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px5.p1.2.m2.1b"><ci id="S4.SS2.SSS1.Px5.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS1.Px5.p1.2.m2.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px5.p1.2.m2.1c">\lambda</annotation></semantics></math> in Eq. <a href="#S3.E6" title="Equation 6 ‣ Training Objective. ‣ 3.3 Model Architecture and Training Objective ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, respectively. The default values of <math id="S4.SS2.SSS1.Px5.p1.3.m3.2" class="ltx_Math" alttext="\lambda=1,\ \tau=0.07" display="inline"><semantics id="S4.SS2.SSS1.Px5.p1.3.m3.2a"><mrow id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.3.cmml"><mrow id="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1" xref="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.cmml"><mi id="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.2" xref="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.2.cmml">λ</mi><mo id="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.1" xref="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.1.cmml">=</mo><mn id="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.3" xref="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.3.cmml">1</mn></mrow><mo rspace="0.667em" id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.3" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.3a.cmml">,</mo><mrow id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.cmml"><mi id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.2" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.2.cmml">τ</mi><mo id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.1" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.1.cmml">=</mo><mn id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.3" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.3.cmml">0.07</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px5.p1.3.m3.2b"><apply id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.3.cmml" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.3a.cmml" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.3">formulae-sequence</csymbol><apply id="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.cmml" xref="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1"><eq id="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.1"></eq><ci id="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.2">𝜆</ci><cn type="integer" id="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.Px5.p1.3.m3.1.1.1.1.3">1</cn></apply><apply id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.cmml" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2"><eq id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.1.cmml" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.1"></eq><ci id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.2.cmml" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.2">𝜏</ci><cn type="float" id="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.3.cmml" xref="S4.SS2.SSS1.Px5.p1.3.m3.2.2.2.2.3">0.07</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px5.p1.3.m3.2c">\lambda=1,\ \tau=0.07</annotation></semantics></math> commonly adopted in standard constastive learning methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite> perform poorly in our case. We use <math id="S4.SS2.SSS1.Px5.p1.4.m4.1" class="ltx_Math" alttext="\tau=0.5" display="inline"><semantics id="S4.SS2.SSS1.Px5.p1.4.m4.1a"><mrow id="S4.SS2.SSS1.Px5.p1.4.m4.1.1" xref="S4.SS2.SSS1.Px5.p1.4.m4.1.1.cmml"><mi id="S4.SS2.SSS1.Px5.p1.4.m4.1.1.2" xref="S4.SS2.SSS1.Px5.p1.4.m4.1.1.2.cmml">τ</mi><mo id="S4.SS2.SSS1.Px5.p1.4.m4.1.1.1" xref="S4.SS2.SSS1.Px5.p1.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS2.SSS1.Px5.p1.4.m4.1.1.3" xref="S4.SS2.SSS1.Px5.p1.4.m4.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px5.p1.4.m4.1b"><apply id="S4.SS2.SSS1.Px5.p1.4.m4.1.1.cmml" xref="S4.SS2.SSS1.Px5.p1.4.m4.1.1"><eq id="S4.SS2.SSS1.Px5.p1.4.m4.1.1.1.cmml" xref="S4.SS2.SSS1.Px5.p1.4.m4.1.1.1"></eq><ci id="S4.SS2.SSS1.Px5.p1.4.m4.1.1.2.cmml" xref="S4.SS2.SSS1.Px5.p1.4.m4.1.1.2">𝜏</ci><cn type="float" id="S4.SS2.SSS1.Px5.p1.4.m4.1.1.3.cmml" xref="S4.SS2.SSS1.Px5.p1.4.m4.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px5.p1.4.m4.1c">\tau=0.5</annotation></semantics></math> and <math id="S4.SS2.SSS1.Px5.p1.5.m5.1" class="ltx_Math" alttext="\lambda=0.1" display="inline"><semantics id="S4.SS2.SSS1.Px5.p1.5.m5.1a"><mrow id="S4.SS2.SSS1.Px5.p1.5.m5.1.1" xref="S4.SS2.SSS1.Px5.p1.5.m5.1.1.cmml"><mi id="S4.SS2.SSS1.Px5.p1.5.m5.1.1.2" xref="S4.SS2.SSS1.Px5.p1.5.m5.1.1.2.cmml">λ</mi><mo id="S4.SS2.SSS1.Px5.p1.5.m5.1.1.1" xref="S4.SS2.SSS1.Px5.p1.5.m5.1.1.1.cmml">=</mo><mn id="S4.SS2.SSS1.Px5.p1.5.m5.1.1.3" xref="S4.SS2.SSS1.Px5.p1.5.m5.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px5.p1.5.m5.1b"><apply id="S4.SS2.SSS1.Px5.p1.5.m5.1.1.cmml" xref="S4.SS2.SSS1.Px5.p1.5.m5.1.1"><eq id="S4.SS2.SSS1.Px5.p1.5.m5.1.1.1.cmml" xref="S4.SS2.SSS1.Px5.p1.5.m5.1.1.1"></eq><ci id="S4.SS2.SSS1.Px5.p1.5.m5.1.1.2.cmml" xref="S4.SS2.SSS1.Px5.p1.5.m5.1.1.2">𝜆</ci><cn type="float" id="S4.SS2.SSS1.Px5.p1.5.m5.1.1.3.cmml" xref="S4.SS2.SSS1.Px5.p1.5.m5.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px5.p1.5.m5.1c">\lambda=0.1</annotation></semantics></math> as our final setting.</p>
</div>
</section>
</section>
<section id="S4.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2 </span>Effectiveness of Deformable Module</h4>

<div id="S4.SS2.SSS2.p1" class="ltx_para">
<p id="S4.SS2.SSS2.p1.1" class="ltx_p">Table <a href="#S4.T3" title="Table 3 ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> studies the effectiveness of the proposed deformable module described in Sec. <a href="#S3.SS3" title="3.3 Model Architecture and Training Objective ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>. The deformable module effectively promotes the weakly supervised learning. Specifically, it presents negative effect when trained with strongly supervised detection data (row1 and 2), while demonstrating substantial performance improvement when incorporating grounding/image-text pair data without localization supervisions (row3 and 4). Besides, the lightweight deformable module introduces negligible computational cost in terms of training time.</p>
</div>
</section>
<section id="S4.SS2.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.3 </span>Incorporating More Data Helps Learning</h4>

<div id="S4.SS2.SSS3.p1" class="ltx_para">
<p id="S4.SS2.SSS3.p1.1" class="ltx_p">Table <a href="#S4.T4" title="Table 4 ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> reports the performance gains when scaling up the training data. With the proposed framework, incorporating
more training data from different sources can consistently improve the performance. Compared to training with only Objects365, including CC3M effectively improves the overall AP from 28.6 to 31.3, especially for rare categories (from 24.2 to 29.4, +5.2 AP). GoldG helps significantly improve the overall AP to 38.4 thanks to its instance-level annotations. Including CC12M pushes the envelop further, achieving a 40.4 overall AP which already surpasses the performance of the fully-supervised method (see Table <a href="#S4.T6" title="Table 6 ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>).</p>
</div>
</section>
<section id="S4.SS2.SSS4" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.4 </span>Training Efficiency</h4>

<div id="S4.SS2.SSS4.p1" class="ltx_para">
<p id="S4.SS2.SSS4.p1.2" class="ltx_p">We develop DetCLIPv2 with several designs that facilitate training efficiency, including using low-resolution inputs for image-text pairs, limiting the maximum token length of the text encoder to 16, etc. Table <a href="#S4.T5" title="Table 5 ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> compares the training efficiency of DetCLIPv2 with that of GLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> and DetCLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>. First, both DetCLIP and DetCLIPv2 are more efficient than GLIP due to the lightweight architecture design, as described in Sec. <a href="#S3.SS3" title="3.3 Model Architecture and Training Objective ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>.
Besides, DetCLIPv2 is much faster than DetCLIP: it exploits 13<math id="S4.SS2.SSS4.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.SS2.SSS4.p1.1.m1.1a"><mo id="S4.SS2.SSS4.p1.1.m1.1.1" xref="S4.SS2.SSS4.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS4.p1.1.m1.1b"><times id="S4.SS2.SSS4.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS4.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS4.p1.1.m1.1c">\times</annotation></semantics></math> more image-text pairs than DetCLIP with a similar training time, achieving more than 6<math id="S4.SS2.SSS4.p1.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.SS2.SSS4.p1.2.m2.1a"><mo id="S4.SS2.SSS4.p1.2.m2.1.1" xref="S4.SS2.SSS4.p1.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS4.p1.2.m2.1b"><times id="S4.SS2.SSS4.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS4.p1.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS4.p1.2.m2.1c">\times</annotation></semantics></math> FPS speed up (25.7 FPS v.s. 4.1 FPS). This indicates the great scaling property of our method and allows a possibility of incorporating a larger-scale image-text pairs to build a more powerful open-vocabulary detection system.</p>
</div>
</section>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Main Results</h3>

<section id="S4.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.1 </span>Zero-shot Performance on LVIS</h4>

<div id="S4.SS3.SSS1.p1" class="ltx_para">
<p id="S4.SS3.SSS1.p1.1" class="ltx_p">To compare with the existing works, We train DetCLIPv2 with the best setting reported in <a href="#S4.SS2.SSS1" title="4.2.1 Ablations for Image-text Contrastive Learning ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.1</span></a>. We vary models’ capacity by considering two backbones, i.e., swin-T and swin-L  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>, denoted as DetCLIPv2-T/L, respectively. Table <a href="#S4.T6" title="Table 6 ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> reports the comparison with MDETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>, GLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>, GLIPv2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>, and DetCLIP<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite> on zero-shot performance. For better demonstration, we also report the performances of the fully-supervised method on LVIS.</p>
</div>
<div id="S4.SS3.SSS1.p2" class="ltx_para">
<p id="S4.SS3.SSS1.p2.1" class="ltx_p">DetCLIPv2 outperforms the existing methods by a large margin. Compared to GLIP/GLIPv2, DetCLIPv2 uses a more lightweight backbone (without heavy DyHead <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> and cross-modal fusion) but still achieves better performances, e.g., DetCLIPv2-T outperforms GLIP-T/GLIPv2-T by 14.4/11.4 AP, respectively. Compared to DetCLIP, DetCLIPv2 achieves 4.5 (40.4 v.s. 35.9) and 6.1 (44.7 v.s. 38.6) AP performance gains for Swin-T- and Swin-L-based models, respectively. Despite using more training data, our total training cost is on par with DetCLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>, as reported in Table <a href="#S4.T5" title="Table 5 ‣ 4.2 Ablation Studies ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. <span id="S4.SS3.SSS1.p2.1.1" class="ltx_text ltx_font_italic">Notably, our models beat their fully-supervised conterparts in a zero-shot manner</span>, e.g, +6.8/0.8 AP for Swin-T- and Swin-L-based models, respectively. Especially, due to the long-tailed property of LVIS, the improvements over rare categories are significant, i.e., more than 10 AP improvements can be observed on both models.</p>
</div>
</section>
<section id="S4.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.2 </span>Transfer Results with Fine-tuning</h4>

<figure id="S4.T7" class="ltx_table">
<div id="S4.T7.6" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:215pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(53.4pt,-26.5pt) scale(1.32689772103608,1.32689772103608) ;">
<table id="S4.T7.6.6" class="ltx_tabular ltx_align_middle">
<tr id="S4.T7.6.6.7" class="ltx_tr">
<td id="S4.T7.6.6.7.1" class="ltx_td ltx_align_left ltx_border_tt" rowspan="2"><span id="S4.T7.6.6.7.1.1" class="ltx_text">Method</span></td>
<td id="S4.T7.6.6.7.2" class="ltx_td ltx_align_center ltx_border_tt">LVIS</td>
<td id="S4.T7.6.6.7.3" class="ltx_td ltx_align_center ltx_border_tt">ODinW13</td>
</tr>
<tr id="S4.T7.3.3.3" class="ltx_tr">
<td id="S4.T7.3.3.3.3" class="ltx_td ltx_align_center">AP (AP<sub id="S4.T7.3.3.3.3.1" class="ltx_sub"><span id="S4.T7.3.3.3.3.1.1" class="ltx_text ltx_font_italic">r</span></sub>/AP<sub id="S4.T7.3.3.3.3.2" class="ltx_sub"><span id="S4.T7.3.3.3.3.2.1" class="ltx_text ltx_font_italic">c</span></sub>/AP<sub id="S4.T7.3.3.3.3.3" class="ltx_sub"><span id="S4.T7.3.3.3.3.3.1" class="ltx_text ltx_font_italic">f</span></sub>)</td>
<td id="S4.T7.3.3.3.4" class="ltx_td ltx_align_center">average AP</td>
</tr>
<tr id="S4.T7.6.6.8" class="ltx_tr">
<td id="S4.T7.6.6.8.1" class="ltx_td ltx_align_left ltx_border_t">GLIP-T <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>
</td>
<td id="S4.T7.6.6.8.2" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T7.6.6.8.3" class="ltx_td ltx_align_center ltx_border_t">64.9</td>
</tr>
<tr id="S4.T7.4.4.4" class="ltx_tr">
<td id="S4.T7.4.4.4.2" class="ltx_td ltx_align_left">GLIPv2-T <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>
</td>
<td id="S4.T7.4.4.4.1" class="ltx_td ltx_align_center">
<sup id="S4.T7.4.4.4.1.1" class="ltx_sup"><span id="S4.T7.4.4.4.1.1.1" class="ltx_text ltx_font_italic">†</span></sup>50.6 ( - / - / - )</td>
<td id="S4.T7.4.4.4.3" class="ltx_td ltx_align_center">66.5</td>
</tr>
<tr id="S4.T7.6.6.9" class="ltx_tr" style="background-color:#FCE8F2;">
<td id="S4.T7.6.6.9.1" class="ltx_td ltx_align_left"><span id="S4.T7.6.6.9.1.1" class="ltx_text" style="background-color:#FCE8F2;">DetCLIPv2-T (ours)</span></td>
<td id="S4.T7.6.6.9.2" class="ltx_td ltx_align_center"><span id="S4.T7.6.6.9.2.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">50.7<span id="S4.T7.6.6.9.2.1.1" class="ltx_text ltx_font_medium"> (44.3/52.4/50.3)</span></span></td>
<td id="S4.T7.6.6.9.3" class="ltx_td ltx_align_center"><span id="S4.T7.6.6.9.3.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">68.0</span></td>
</tr>
<tr id="S4.T7.6.6.10" class="ltx_tr">
<td id="S4.T7.6.6.10.1" class="ltx_td ltx_align_left ltx_border_t">GLIP-L <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>
</td>
<td id="S4.T7.6.6.10.2" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T7.6.6.10.3" class="ltx_td ltx_align_center ltx_border_t">68.9</td>
</tr>
<tr id="S4.T7.5.5.5" class="ltx_tr">
<td id="S4.T7.5.5.5.2" class="ltx_td ltx_align_left">GLIPv2-B <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>
</td>
<td id="S4.T7.5.5.5.1" class="ltx_td ltx_align_center">
<sup id="S4.T7.5.5.5.1.1" class="ltx_sup"><span id="S4.T7.5.5.5.1.1.1" class="ltx_text ltx_font_italic">†</span></sup>57.3 ( - / - / - )</td>
<td id="S4.T7.5.5.5.3" class="ltx_td ltx_align_center">69.4</td>
</tr>
<tr id="S4.T7.6.6.6" class="ltx_tr">
<td id="S4.T7.6.6.6.2" class="ltx_td ltx_align_left">GLIPv2-H <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>
</td>
<td id="S4.T7.6.6.6.1" class="ltx_td ltx_align_center">
<sup id="S4.T7.6.6.6.1.1" class="ltx_sup"><span id="S4.T7.6.6.6.1.1.1" class="ltx_text ltx_font_italic">†</span></sup>59.8 ( - / - / - )</td>
<td id="S4.T7.6.6.6.3" class="ltx_td ltx_align_center"><span id="S4.T7.6.6.6.3.1" class="ltx_text ltx_font_bold">70.4</span></td>
</tr>
<tr id="S4.T7.6.6.11" class="ltx_tr" style="background-color:#FCE8F2;">
<td id="S4.T7.6.6.11.1" class="ltx_td ltx_align_left ltx_border_bb"><span id="S4.T7.6.6.11.1.1" class="ltx_text" style="background-color:#FCE8F2;">DetCLIPv2-L (ours)</span></td>
<td id="S4.T7.6.6.11.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T7.6.6.11.2.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">60.1<span id="S4.T7.6.6.11.2.1.1" class="ltx_text ltx_font_medium"> (58.3/61.7/59.1)</span></span></td>
<td id="S4.T7.6.6.11.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T7.6.6.11.3.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">70.4</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T7.13.2.1" class="ltx_text" style="font-size:90%;">Table 7</span>: </span><span id="S4.T7.8.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Fine-tuning performance<span id="S4.T7.8.1.1" class="ltx_text ltx_font_medium">. <span id="S4.T7.8.1.1.1" class="ltx_text ltx_font_italic">Fixed</span> AP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> on LVIS minival5k <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> and average AP on ODinW13 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> are reported. Numbers with <sup id="S4.T7.8.1.1.2" class="ltx_sup"><span id="S4.T7.8.1.1.2.1" class="ltx_text ltx_font_italic">†</span></sup> mean mask annotation are used for training. </span></span></figcaption>
</figure>
<div id="S4.SS3.SSS2.p1" class="ltx_para">
<p id="S4.SS3.SSS2.p1.1" class="ltx_p">We study the transferability of DetCLIPv2 by fine-tuning it on down-stream tasks. Specifically, we conduct full-shot fine-tuning on LVIS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> with 1203 categories and ODinW13 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite> containing 13 detection tasks. The results are shown in Table <a href="#S4.T7" title="Table 7 ‣ 4.3.2 Transfer Results with Fine-tuning ‣ 4.3 Main Results ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>. Without using mask annotation for training, DetCLIPv2 slightly outperforms GLIPv2 on LVIS, e.g., 50.7 AP of DetCLIPv2-T v.s. 50.6 AP of GLIPv2-T. On ODinW13, DetCLIPv2-T demonstrates superior performance compared to GLIP-T/GLIPv2-T, outperforming GLIP-T/GLIPv2-T by 3.1/1.5 average AP, respectively; and DetCLIPv2-L with Swin-L backbone achieves the same performance (70.4 average AP) with GLIPV2-H that uses a heavier Swin-H backbone.</p>
</div>
</section>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Visualizations and Analyses</h3>

<section id="S4.SS4.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Visualization of word-region alignment.</h5>

<div id="S4.SS4.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS4.SSS0.Px1.p1.1" class="ltx_p">Figure <a href="#S0.F1" title="Figure 1 ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> visualizes the learning results of word-region alignment on image-text pairs in CC12M <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>. For each textual concepts, we find its best matching with the highest similarity to it, as described in Sec. <a href="#S3.SS2" title="3.2 Learning from Image-text Pairs ‣ 3 The Proposed Approach ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>. Our approach achieves accurate word-region alignment (on instance-level) with great generalization, which is demonstrated by several aspects: (1) it successes to recognize concepts that do not covered by detection datasets, e.g., ‘parsley’ in case (b); (2) it works for images with <span id="S4.SS4.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_italic">natural distribution shifts</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite>, e.g., the sketch image in case (a) and the cartoon image in case (e); and (3) it is capable of resolving co-reference expressions, e.g., the ‘juvenile’ in case (h) refers to ‘young bird’ and ‘curator’ in case (c) refers to a person. These capabilities are critical for open-world detectors but cannot be reflected well in the commonly adopted evaluation benchmarks like LVIS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>.</p>
</div>
<figure id="S4.T8" class="ltx_table">
<table id="S4.T8.2" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T8.2.1" class="ltx_tr">
<td id="S4.T8.2.1.1" class="ltx_td ltx_align_left ltx_border_tt">Pretrain-data</td>
<td id="S4.T8.2.1.2" class="ltx_td ltx_align_center ltx_border_tt">AR (s/m/l)</td>
</tr>
<tr id="S4.T8.2.2" class="ltx_tr">
<td id="S4.T8.2.2.1" class="ltx_td ltx_align_left ltx_border_t">O365</td>
<td id="S4.T8.2.2.2" class="ltx_td ltx_align_center ltx_border_t">44.9 (35.2 / 52.9 / 62.0)</td>
</tr>
<tr id="S4.T8.2.3" class="ltx_tr">
<td id="S4.T8.2.3.1" class="ltx_td ltx_align_left">O365+GoldG</td>
<td id="S4.T8.2.3.2" class="ltx_td ltx_align_center">57.2 (42.1 / 67.0 / 76.2)</td>
</tr>
<tr id="S4.T8.2.4" class="ltx_tr">
<td id="S4.T8.2.4.1" class="ltx_td ltx_align_left ltx_border_bb">O365+GoldG+CC15M</td>
<td id="S4.T8.2.4.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T8.2.4.2.1" class="ltx_text ltx_font_bold">59.4 (44.5 / 69.4 / 76.8)</span></td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T8.4.1.1" class="ltx_text" style="font-size:90%;">Table 8</span>: </span><span id="S4.T8.5.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Average recall (AR)<span id="S4.T8.5.2.1" class="ltx_text ltx_font_medium"> across 0.5-0.95 IoU on LVIS. s/m/l denote for small/medium/large objects, respectively.</span></span></figcaption>
</figure>
</section>
<section id="S4.SS4.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Learning from image-text pairs benefits localization.</h5>

<div id="S4.SS4.SSS0.Px2.p1" class="ltx_para">
<p id="S4.SS4.SSS0.Px2.p1.1" class="ltx_p">Table <a href="#S4.T8" title="Table 8 ‣ Visualization of word-region alignment. ‣ 4.4 Visualizations and Analyses ‣ 4 Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> provides more evidences showing that learning from image-text pairs also helps localization. Specifically, we evaluate the average recall across 0.5-0.95 IoU on LVIS and compare models trained with different data. Incorporating image-text pairs brings a significant and comprehensive recall improvements for small, medium, and large objects.</p>
</div>
</section>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">Learning from massive Internet-crawled data to achieve generic visual/language understanding systems has always
been an important topic for both NLP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> and CV <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> fields. In this paper, we present DetCLIPv2, a unified end-to-end pre-training framework towards open-vocabulary object detection. By employing a best-matching set similarity between regions and words to guide the contrastive objective, we effectively leverage massive image-text pairs to serve the object detection task. Experiments demonstrate DetCLIPv2’s superior open-vocabulary performance and its broad domain coverage. Our method provides a possible way to achieve open-world detection by further scaling up image-text pairs and we leave it to future work.</p>
</div>
<section id="S5.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Acknowledgements</h5>

<div id="S5.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S5.SS0.SSS0.Px1.p1.1" class="ltx_p">We acknowledge the support of MindSpore<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://www.mindspore.cn/</span></span></span>, CANN (Compute
Architecture for Neural Networks) and Ascend AI Processor used for this research.</p>
</div>
</section>
</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Limitations</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.1" class="ltx_p">Our method provides a possible way to achieve open-world detection by scaling up image-text pairs. However, its localization capability still strongly relies on bounding box annotations provided in detection data.
To improve the generalization of localization, designing architectures like <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> for robust open-world region proposals is a promising direction for future work. Furthermore, image-text pairs crawled from the Internet are noisy and suffer from severe incomplete descriptions, which undermines the learning efficiency of word-region alignment and requires further designs like <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> for ameliorating data quality. When further scale up image-text pairs to overwhelm detection data, imbalanced training can potentially hurt the performance, which also calls for a future exploration.</p>
</div>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>More Implementation Details</h2>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">In this section, we provide more implementation details for both pre-training and fine-tuning experiments.</p>
</div>
<section id="A2.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Pre-training details.</h5>

<div id="A2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="A2.SS0.SSS0.Px1.p1.3" class="ltx_p">We pre-train DetCLIPv2 with AdamW <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite> optimizer. The leaning rate first warms up linearly to a peak value (2.8e-4/4e-4 for Swin-B/-L based models, respectively) and then decays following a cosine annealing schedule, where the peak <math id="A2.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="lr" display="inline"><semantics id="A2.SS0.SSS0.Px1.p1.1.m1.1a"><mrow id="A2.SS0.SSS0.Px1.p1.1.m1.1.1" xref="A2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="A2.SS0.SSS0.Px1.p1.1.m1.1.1.2" xref="A2.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.1.m1.1.1.1" xref="A2.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.1.m1.1.1.3" xref="A2.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml">r</mi></mrow><annotation-xml encoding="MathML-Content" id="A2.SS0.SSS0.Px1.p1.1.m1.1b"><apply id="A2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="A2.SS0.SSS0.Px1.p1.1.m1.1.1"><times id="A2.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="A2.SS0.SSS0.Px1.p1.1.m1.1.1.1"></times><ci id="A2.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="A2.SS0.SSS0.Px1.p1.1.m1.1.1.2">𝑙</ci><ci id="A2.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="A2.SS0.SSS0.Px1.p1.1.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS0.SSS0.Px1.p1.1.m1.1c">lr</annotation></semantics></math> values are obtained using a square root scaling rule: <math id="A2.SS0.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="lr=base\_lr\times\sqrt{\frac{\text{batchsize}}{16}}" display="inline"><semantics id="A2.SS0.SSS0.Px1.p1.2.m2.1a"><mrow id="A2.SS0.SSS0.Px1.p1.2.m2.1.1" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml"><mrow id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml"><mi id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.2" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.1" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.3" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.3.cmml">r</mi></mrow><mo id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.1" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml">=</mo><mrow id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml"><mrow id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.cmml"><mi id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.2" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.3" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1a" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.4" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1b" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.5" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1c" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1.cmml">​</mo><mi mathvariant="normal" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.6" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.6.cmml">_</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1d" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.7" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.7.cmml">l</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1e" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.8" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.8.cmml">r</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.1" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.1.cmml">×</mo><msqrt id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.cmml"><mfrac id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.cmml"><mtext id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.2" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.2a.cmml">batchsize</mtext><mn id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.3" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.3.cmml">16</mn></mfrac></msqrt></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS0.SSS0.Px1.p1.2.m2.1b"><apply id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1"><eq id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.1"></eq><apply id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2"><times id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.1.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.1"></times><ci id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.2.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.2">𝑙</ci><ci id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.3.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.2.3">𝑟</ci></apply><apply id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3"><times id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.1.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.1"></times><apply id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2"><times id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.1"></times><ci id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.2.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.2">𝑏</ci><ci id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.3.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.3">𝑎</ci><ci id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.4.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.4">𝑠</ci><ci id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.5.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.5">𝑒</ci><ci id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.6.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.6">_</ci><ci id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.7.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.7">𝑙</ci><ci id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.8.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.8">𝑟</ci></apply><apply id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3"><root id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3a.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3"></root><apply id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2"><divide id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.1.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2"></divide><ci id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.2a.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.2"><mtext mathsize="70%" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.2.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.2">batchsize</mtext></ci><cn type="integer" id="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.3.cmml" xref="A2.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.3">16</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS0.SSS0.Px1.p1.2.m2.1c">lr=base\_lr\times\sqrt{\frac{\text{batchsize}}{16}}</annotation></semantics></math>, where <math id="A2.SS0.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="base\_lr=\text{1e-4}" display="inline"><semantics id="A2.SS0.SSS0.Px1.p1.3.m3.1a"><mrow id="A2.SS0.SSS0.Px1.p1.3.m3.1.1" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml"><mrow id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.cmml"><mi id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.2" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.3" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1a" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.4" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1b" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.5" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1c" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.6" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.6.cmml">_</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1d" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.7" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.7.cmml">l</mi><mo lspace="0em" rspace="0em" id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1e" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.8" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.8.cmml">r</mi></mrow><mo id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.1" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.1.cmml">=</mo><mtext id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.3" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.3a.cmml">1e-4</mtext></mrow><annotation-xml encoding="MathML-Content" id="A2.SS0.SSS0.Px1.p1.3.m3.1b"><apply id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1"><eq id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.1"></eq><apply id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2"><times id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.1"></times><ci id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.2.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.2">𝑏</ci><ci id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.3.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.3">𝑎</ci><ci id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.4.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.4">𝑠</ci><ci id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.5.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.5">𝑒</ci><ci id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.6.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.6">_</ci><ci id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.7.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.7">𝑙</ci><ci id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.8.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.2.8">𝑟</ci></apply><ci id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.3a.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.3"><mtext id="A2.SS0.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="A2.SS0.SSS0.Px1.p1.3.m3.1.1.3">1e-4</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS0.SSS0.Px1.p1.3.m3.1c">base\_lr=\text{1e-4}</annotation></semantics></math>. We initialize the text encoder with a pre-trained FILIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite> model and reduce the learning rate of text encoder by a factor of 0.1 to preserve the language knowledge obtained in FILIP’s pre-training. To save the GPU memory cost and allow a large batch size for contrastive learning, we adopt automatic mixed-precision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> and gradient checkpointing <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> for training. Mmdetection <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> repository is used for implementation. Table <a href="#A2.T9" title="Table 9 ‣ Pre-training details. ‣ Appendix B More Implementation Details ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> summarizes the detailed training settings.</p>
</div>
<figure id="A2.T9" class="ltx_table">
<div id="A2.T9.7" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:516.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(48.4pt,-57.8pt) scale(1.28776514535807,1.28776514535807) ;">
<table id="A2.T9.7.7" class="ltx_tabular ltx_align_middle">
<tr id="A2.T9.7.7.8" class="ltx_tr">
<td id="A2.T9.7.7.8.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_tt">Config</td>
<td id="A2.T9.7.7.8.2" class="ltx_td ltx_align_right ltx_border_tt">Value</td>
</tr>
<tr id="A2.T9.7.7.9" class="ltx_tr">
<td id="A2.T9.7.7.9.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">GPUs (V100)</td>
<td id="A2.T9.7.7.9.2" class="ltx_td ltx_align_right ltx_border_t">32(T)/64(L)</td>
</tr>
<tr id="A2.T9.7.7.10" class="ltx_tr">
<td id="A2.T9.7.7.10.1" class="ltx_td ltx_align_left ltx_border_r">training epochs</td>
<td id="A2.T9.7.7.10.2" class="ltx_td ltx_align_right">12</td>
</tr>
<tr id="A2.T9.1.1.1" class="ltx_tr">
<td id="A2.T9.1.1.1.2" class="ltx_td ltx_align_left ltx_border_r">loss weight</td>
<td id="A2.T9.1.1.1.1" class="ltx_td ltx_align_right"><math id="A2.T9.1.1.1.1.m1.2" class="ltx_Math" alttext="\alpha=1,\beta=2,\lambda=0.1" display="inline"><semantics id="A2.T9.1.1.1.1.m1.2a"><mrow id="A2.T9.1.1.1.1.m1.2.2.2" xref="A2.T9.1.1.1.1.m1.2.2.3.cmml"><mrow id="A2.T9.1.1.1.1.m1.1.1.1.1" xref="A2.T9.1.1.1.1.m1.1.1.1.1.cmml"><mi id="A2.T9.1.1.1.1.m1.1.1.1.1.2" xref="A2.T9.1.1.1.1.m1.1.1.1.1.2.cmml">α</mi><mo id="A2.T9.1.1.1.1.m1.1.1.1.1.1" xref="A2.T9.1.1.1.1.m1.1.1.1.1.1.cmml">=</mo><mn id="A2.T9.1.1.1.1.m1.1.1.1.1.3" xref="A2.T9.1.1.1.1.m1.1.1.1.1.3.cmml">1</mn></mrow><mo id="A2.T9.1.1.1.1.m1.2.2.2.3" xref="A2.T9.1.1.1.1.m1.2.2.3a.cmml">,</mo><mrow id="A2.T9.1.1.1.1.m1.2.2.2.2.2" xref="A2.T9.1.1.1.1.m1.2.2.2.2.3.cmml"><mrow id="A2.T9.1.1.1.1.m1.2.2.2.2.1.1" xref="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.cmml"><mi id="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.2" xref="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.2.cmml">β</mi><mo id="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.1" xref="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.1.cmml">=</mo><mn id="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.3" xref="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.3.cmml">2</mn></mrow><mo id="A2.T9.1.1.1.1.m1.2.2.2.2.2.3" xref="A2.T9.1.1.1.1.m1.2.2.2.2.3a.cmml">,</mo><mrow id="A2.T9.1.1.1.1.m1.2.2.2.2.2.2" xref="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.cmml"><mi id="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.2" xref="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.2.cmml">λ</mi><mo id="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.1" xref="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.1.cmml">=</mo><mn id="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.3" xref="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.3.cmml">0.1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.T9.1.1.1.1.m1.2b"><apply id="A2.T9.1.1.1.1.m1.2.2.3.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2"><csymbol cd="ambiguous" id="A2.T9.1.1.1.1.m1.2.2.3a.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.3">formulae-sequence</csymbol><apply id="A2.T9.1.1.1.1.m1.1.1.1.1.cmml" xref="A2.T9.1.1.1.1.m1.1.1.1.1"><eq id="A2.T9.1.1.1.1.m1.1.1.1.1.1.cmml" xref="A2.T9.1.1.1.1.m1.1.1.1.1.1"></eq><ci id="A2.T9.1.1.1.1.m1.1.1.1.1.2.cmml" xref="A2.T9.1.1.1.1.m1.1.1.1.1.2">𝛼</ci><cn type="integer" id="A2.T9.1.1.1.1.m1.1.1.1.1.3.cmml" xref="A2.T9.1.1.1.1.m1.1.1.1.1.3">1</cn></apply><apply id="A2.T9.1.1.1.1.m1.2.2.2.2.3.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A2.T9.1.1.1.1.m1.2.2.2.2.3a.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.2.1.1"><eq id="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.1.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.1"></eq><ci id="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.2.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.2">𝛽</ci><cn type="integer" id="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.3.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.2.1.1.3">2</cn></apply><apply id="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.2.2.2"><eq id="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.1.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.1"></eq><ci id="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.2.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.2">𝜆</ci><cn type="float" id="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.3.cmml" xref="A2.T9.1.1.1.1.m1.2.2.2.2.2.2.3">0.1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.1.1.1.1.m1.2c">\alpha=1,\beta=2,\lambda=0.1</annotation></semantics></math></td>
</tr>
<tr id="A2.T9.7.7.11" class="ltx_tr">
<td id="A2.T9.7.7.11.1" class="ltx_td ltx_align_left ltx_border_r">optimizer</td>
<td id="A2.T9.7.7.11.2" class="ltx_td ltx_align_right">AdamW <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>
</td>
</tr>
<tr id="A2.T9.3.3.3" class="ltx_tr">
<td id="A2.T9.3.3.3.3" class="ltx_td ltx_align_left ltx_border_r">optimizer momentum</td>
<td id="A2.T9.3.3.3.2" class="ltx_td ltx_align_right">
<math id="A2.T9.2.2.2.1.m1.1" class="ltx_Math" alttext="\beta_{1}=0.9" display="inline"><semantics id="A2.T9.2.2.2.1.m1.1a"><mrow id="A2.T9.2.2.2.1.m1.1.1" xref="A2.T9.2.2.2.1.m1.1.1.cmml"><msub id="A2.T9.2.2.2.1.m1.1.1.2" xref="A2.T9.2.2.2.1.m1.1.1.2.cmml"><mi id="A2.T9.2.2.2.1.m1.1.1.2.2" xref="A2.T9.2.2.2.1.m1.1.1.2.2.cmml">β</mi><mn id="A2.T9.2.2.2.1.m1.1.1.2.3" xref="A2.T9.2.2.2.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="A2.T9.2.2.2.1.m1.1.1.1" xref="A2.T9.2.2.2.1.m1.1.1.1.cmml">=</mo><mn id="A2.T9.2.2.2.1.m1.1.1.3" xref="A2.T9.2.2.2.1.m1.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T9.2.2.2.1.m1.1b"><apply id="A2.T9.2.2.2.1.m1.1.1.cmml" xref="A2.T9.2.2.2.1.m1.1.1"><eq id="A2.T9.2.2.2.1.m1.1.1.1.cmml" xref="A2.T9.2.2.2.1.m1.1.1.1"></eq><apply id="A2.T9.2.2.2.1.m1.1.1.2.cmml" xref="A2.T9.2.2.2.1.m1.1.1.2"><csymbol cd="ambiguous" id="A2.T9.2.2.2.1.m1.1.1.2.1.cmml" xref="A2.T9.2.2.2.1.m1.1.1.2">subscript</csymbol><ci id="A2.T9.2.2.2.1.m1.1.1.2.2.cmml" xref="A2.T9.2.2.2.1.m1.1.1.2.2">𝛽</ci><cn type="integer" id="A2.T9.2.2.2.1.m1.1.1.2.3.cmml" xref="A2.T9.2.2.2.1.m1.1.1.2.3">1</cn></apply><cn type="float" id="A2.T9.2.2.2.1.m1.1.1.3.cmml" xref="A2.T9.2.2.2.1.m1.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.2.2.2.1.m1.1c">\beta_{1}=0.9</annotation></semantics></math>, <math id="A2.T9.3.3.3.2.m2.1" class="ltx_Math" alttext="\beta_{2}=0.999" display="inline"><semantics id="A2.T9.3.3.3.2.m2.1a"><mrow id="A2.T9.3.3.3.2.m2.1.1" xref="A2.T9.3.3.3.2.m2.1.1.cmml"><msub id="A2.T9.3.3.3.2.m2.1.1.2" xref="A2.T9.3.3.3.2.m2.1.1.2.cmml"><mi id="A2.T9.3.3.3.2.m2.1.1.2.2" xref="A2.T9.3.3.3.2.m2.1.1.2.2.cmml">β</mi><mn id="A2.T9.3.3.3.2.m2.1.1.2.3" xref="A2.T9.3.3.3.2.m2.1.1.2.3.cmml">2</mn></msub><mo id="A2.T9.3.3.3.2.m2.1.1.1" xref="A2.T9.3.3.3.2.m2.1.1.1.cmml">=</mo><mn id="A2.T9.3.3.3.2.m2.1.1.3" xref="A2.T9.3.3.3.2.m2.1.1.3.cmml">0.999</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T9.3.3.3.2.m2.1b"><apply id="A2.T9.3.3.3.2.m2.1.1.cmml" xref="A2.T9.3.3.3.2.m2.1.1"><eq id="A2.T9.3.3.3.2.m2.1.1.1.cmml" xref="A2.T9.3.3.3.2.m2.1.1.1"></eq><apply id="A2.T9.3.3.3.2.m2.1.1.2.cmml" xref="A2.T9.3.3.3.2.m2.1.1.2"><csymbol cd="ambiguous" id="A2.T9.3.3.3.2.m2.1.1.2.1.cmml" xref="A2.T9.3.3.3.2.m2.1.1.2">subscript</csymbol><ci id="A2.T9.3.3.3.2.m2.1.1.2.2.cmml" xref="A2.T9.3.3.3.2.m2.1.1.2.2">𝛽</ci><cn type="integer" id="A2.T9.3.3.3.2.m2.1.1.2.3.cmml" xref="A2.T9.3.3.3.2.m2.1.1.2.3">2</cn></apply><cn type="float" id="A2.T9.3.3.3.2.m2.1.1.3.cmml" xref="A2.T9.3.3.3.2.m2.1.1.3">0.999</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.3.3.3.2.m2.1c">\beta_{2}=0.999</annotation></semantics></math>
</td>
</tr>
<tr id="A2.T9.7.7.12" class="ltx_tr">
<td id="A2.T9.7.7.12.1" class="ltx_td ltx_align_left ltx_border_r">lr for image encoder</td>
<td id="A2.T9.7.7.12.2" class="ltx_td ltx_align_right">2.8e-4(T)/4e-4(L)</td>
</tr>
<tr id="A2.T9.7.7.13" class="ltx_tr">
<td id="A2.T9.7.7.13.1" class="ltx_td ltx_align_left ltx_border_r">lr for text encoder</td>
<td id="A2.T9.7.7.13.2" class="ltx_td ltx_align_right">2.8e-5(T)/4e-5(L)</td>
</tr>
<tr id="A2.T9.7.7.14" class="ltx_tr">
<td id="A2.T9.7.7.14.1" class="ltx_td ltx_align_left ltx_border_r">weight decay</td>
<td id="A2.T9.7.7.14.2" class="ltx_td ltx_align_right">0.05</td>
</tr>
<tr id="A2.T9.7.7.15" class="ltx_tr">
<td id="A2.T9.7.7.15.1" class="ltx_td ltx_align_left ltx_border_r">warmup iters</td>
<td id="A2.T9.7.7.15.2" class="ltx_td ltx_align_right">1000</td>
</tr>
<tr id="A2.T9.7.7.16" class="ltx_tr">
<td id="A2.T9.7.7.16.1" class="ltx_td ltx_align_left ltx_border_r">learning rate schedule</td>
<td id="A2.T9.7.7.16.2" class="ltx_td ltx_align_right">cosine decay</td>
</tr>
<tr id="A2.T9.7.7.17" class="ltx_tr">
<td id="A2.T9.7.7.17.1" class="ltx_td ltx_align_left ltx_border_r">batch size (det/grounding)</td>
<td id="A2.T9.7.7.17.2" class="ltx_td ltx_align_right">128(T)/256(L)</td>
</tr>
<tr id="A2.T9.7.7.18" class="ltx_tr">
<td id="A2.T9.7.7.18.1" class="ltx_td ltx_align_left ltx_border_r">batch size (image text pairs)</td>
<td id="A2.T9.7.7.18.2" class="ltx_td ltx_align_right">6144</td>
</tr>
<tr id="A2.T9.4.4.4" class="ltx_tr">
<td id="A2.T9.4.4.4.2" class="ltx_td ltx_align_left ltx_border_r">input resolution (det/grounding)</td>
<td id="A2.T9.4.4.4.1" class="ltx_td ltx_align_right"><math id="A2.T9.4.4.4.1.m1.1" class="ltx_Math" alttext="1333\times 800" display="inline"><semantics id="A2.T9.4.4.4.1.m1.1a"><mrow id="A2.T9.4.4.4.1.m1.1.1" xref="A2.T9.4.4.4.1.m1.1.1.cmml"><mn id="A2.T9.4.4.4.1.m1.1.1.2" xref="A2.T9.4.4.4.1.m1.1.1.2.cmml">1333</mn><mo lspace="0.222em" rspace="0.222em" id="A2.T9.4.4.4.1.m1.1.1.1" xref="A2.T9.4.4.4.1.m1.1.1.1.cmml">×</mo><mn id="A2.T9.4.4.4.1.m1.1.1.3" xref="A2.T9.4.4.4.1.m1.1.1.3.cmml">800</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T9.4.4.4.1.m1.1b"><apply id="A2.T9.4.4.4.1.m1.1.1.cmml" xref="A2.T9.4.4.4.1.m1.1.1"><times id="A2.T9.4.4.4.1.m1.1.1.1.cmml" xref="A2.T9.4.4.4.1.m1.1.1.1"></times><cn type="integer" id="A2.T9.4.4.4.1.m1.1.1.2.cmml" xref="A2.T9.4.4.4.1.m1.1.1.2">1333</cn><cn type="integer" id="A2.T9.4.4.4.1.m1.1.1.3.cmml" xref="A2.T9.4.4.4.1.m1.1.1.3">800</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.4.4.4.1.m1.1c">1333\times 800</annotation></semantics></math></td>
</tr>
<tr id="A2.T9.5.5.5" class="ltx_tr">
<td id="A2.T9.5.5.5.2" class="ltx_td ltx_align_left ltx_border_r">input resolution (image-text pairs)</td>
<td id="A2.T9.5.5.5.1" class="ltx_td ltx_align_right"><math id="A2.T9.5.5.5.1.m1.1" class="ltx_Math" alttext="320\times 320" display="inline"><semantics id="A2.T9.5.5.5.1.m1.1a"><mrow id="A2.T9.5.5.5.1.m1.1.1" xref="A2.T9.5.5.5.1.m1.1.1.cmml"><mn id="A2.T9.5.5.5.1.m1.1.1.2" xref="A2.T9.5.5.5.1.m1.1.1.2.cmml">320</mn><mo lspace="0.222em" rspace="0.222em" id="A2.T9.5.5.5.1.m1.1.1.1" xref="A2.T9.5.5.5.1.m1.1.1.1.cmml">×</mo><mn id="A2.T9.5.5.5.1.m1.1.1.3" xref="A2.T9.5.5.5.1.m1.1.1.3.cmml">320</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T9.5.5.5.1.m1.1b"><apply id="A2.T9.5.5.5.1.m1.1.1.cmml" xref="A2.T9.5.5.5.1.m1.1.1"><times id="A2.T9.5.5.5.1.m1.1.1.1.cmml" xref="A2.T9.5.5.5.1.m1.1.1.1"></times><cn type="integer" id="A2.T9.5.5.5.1.m1.1.1.2.cmml" xref="A2.T9.5.5.5.1.m1.1.1.2">320</cn><cn type="integer" id="A2.T9.5.5.5.1.m1.1.1.3.cmml" xref="A2.T9.5.5.5.1.m1.1.1.3">320</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.5.5.5.1.m1.1c">320\times 320</annotation></semantics></math></td>
</tr>
<tr id="A2.T9.7.7.19" class="ltx_tr">
<td id="A2.T9.7.7.19.1" class="ltx_td ltx_align_left ltx_border_r">drop path of visual backbone</td>
<td id="A2.T9.7.7.19.2" class="ltx_td ltx_align_right">0.2</td>
</tr>
<tr id="A2.T9.7.7.20" class="ltx_tr">
<td id="A2.T9.7.7.20.1" class="ltx_td ltx_align_left ltx_border_r">max text token length</td>
<td id="A2.T9.7.7.20.2" class="ltx_td ltx_align_right">16</td>
</tr>
<tr id="A2.T9.6.6.6" class="ltx_tr">
<td id="A2.T9.6.6.6.1" class="ltx_td ltx_align_left ltx_border_r"># of concepts <math id="A2.T9.6.6.6.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="A2.T9.6.6.6.1.m1.1a"><mi id="A2.T9.6.6.6.1.m1.1.1" xref="A2.T9.6.6.6.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="A2.T9.6.6.6.1.m1.1b"><ci id="A2.T9.6.6.6.1.m1.1.1.cmml" xref="A2.T9.6.6.6.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.6.6.6.1.m1.1c">M</annotation></semantics></math> (det)</td>
<td id="A2.T9.6.6.6.2" class="ltx_td ltx_align_right">150</td>
</tr>
<tr id="A2.T9.7.7.7" class="ltx_tr">
<td id="A2.T9.7.7.7.1" class="ltx_td ltx_align_left ltx_border_r"># of concepts <math id="A2.T9.7.7.7.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="A2.T9.7.7.7.1.m1.1a"><mi id="A2.T9.7.7.7.1.m1.1.1" xref="A2.T9.7.7.7.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="A2.T9.7.7.7.1.m1.1b"><ci id="A2.T9.7.7.7.1.m1.1.1.cmml" xref="A2.T9.7.7.7.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.7.7.7.1.m1.1c">M</annotation></semantics></math> (grounding)</td>
<td id="A2.T9.7.7.7.2" class="ltx_td ltx_align_right">100</td>
</tr>
<tr id="A2.T9.7.7.21" class="ltx_tr">
<td id="A2.T9.7.7.21.1" class="ltx_td ltx_align_left ltx_border_r">label smooth for contrastive loss</td>
<td id="A2.T9.7.7.21.2" class="ltx_td ltx_align_right">0.1</td>
</tr>
<tr id="A2.T9.7.7.22" class="ltx_tr">
<td id="A2.T9.7.7.22.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r">augmentation</td>
<td id="A2.T9.7.7.22.2" class="ltx_td ltx_align_right ltx_border_bb">
<span id="A2.T9.7.7.22.2.1" class="ltx_text"></span> <span id="A2.T9.7.7.22.2.2" class="ltx_text">
<span id="A2.T9.7.7.22.2.2.1" class="ltx_tabular ltx_align_middle">
<span id="A2.T9.7.7.22.2.2.1.1" class="ltx_tr">
<span id="A2.T9.7.7.22.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_right">multi-scale training,</span></span>
<span id="A2.T9.7.7.22.2.2.1.2" class="ltx_tr">
<span id="A2.T9.7.7.22.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_right">random flip</span></span>
</span></span><span id="A2.T9.7.7.22.2.3" class="ltx_text"></span>
</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A2.T9.10.1.1" class="ltx_text" style="font-size:90%;">Table 9</span>: </span><span id="A2.T9.11.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Detailed pre-training settings<span id="A2.T9.11.2.1" class="ltx_text ltx_font_medium"> of DetCLIPv2. T/L in parentheses denote Swin-T/L models, respectively. Det/grounding mean detection and grounding data, respectively.</span></span></figcaption>
</figure>
</section>
<section id="A2.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Fine-tuning details.</h5>

<div id="A2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="A2.SS0.SSS0.Px2.p1.2" class="ltx_p">We fine-tune DetCLIPv2 on 2 datasets, i.e., LVIS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> and ODinW13 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>. For LVIS, we follow most settings of pre-training except that we use a smaller learning rate and the total epochs are set to 24 (i.e., 2x schedule). Table <a href="#A2.T11" title="Table 11 ‣ Fine-tuning details. ‣ Appendix B More Implementation Details ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a> summarizes the detailed setting of fine-tuning LVIS. For ODinW13, since the number of training samples of different datasets varies a lot, we cannot set the same training epoch for all datasets. To avoid tedious hyper-parameter turning and ensure a sufficient training for all datasets, we adopt a long training schedule with early stop mechanism. Specifically, we assign a maximum training epoch with an auto-step learning rate schedule. We monitor the performance and decay the learning rate by 0.1 when the performance reaches a plateau for a tolerance of <math id="A2.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="t_{1}" display="inline"><semantics id="A2.SS0.SSS0.Px2.p1.1.m1.1a"><msub id="A2.SS0.SSS0.Px2.p1.1.m1.1.1" xref="A2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="A2.SS0.SSS0.Px2.p1.1.m1.1.1.2" xref="A2.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml">t</mi><mn id="A2.SS0.SSS0.Px2.p1.1.m1.1.1.3" xref="A2.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="A2.SS0.SSS0.Px2.p1.1.m1.1b"><apply id="A2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="A2.SS0.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS0.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="A2.SS0.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="A2.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="A2.SS0.SSS0.Px2.p1.1.m1.1.1.2">𝑡</ci><cn type="integer" id="A2.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="A2.SS0.SSS0.Px2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS0.SSS0.Px2.p1.1.m1.1c">t_{1}</annotation></semantics></math> epochs. If the learning rate reaches a given minimum value and there is no performance improvement for <math id="A2.SS0.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="t_{2}" display="inline"><semantics id="A2.SS0.SSS0.Px2.p1.2.m2.1a"><msub id="A2.SS0.SSS0.Px2.p1.2.m2.1.1" xref="A2.SS0.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="A2.SS0.SSS0.Px2.p1.2.m2.1.1.2" xref="A2.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml">t</mi><mn id="A2.SS0.SSS0.Px2.p1.2.m2.1.1.3" xref="A2.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A2.SS0.SSS0.Px2.p1.2.m2.1b"><apply id="A2.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="A2.SS0.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A2.SS0.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="A2.SS0.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="A2.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="A2.SS0.SSS0.Px2.p1.2.m2.1.1.2">𝑡</ci><cn type="integer" id="A2.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="A2.SS0.SSS0.Px2.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS0.SSS0.Px2.p1.2.m2.1c">t_{2}</annotation></semantics></math> epochs, the training exits. We use the same learning rate configuration for all datasets and <span id="A2.SS0.SSS0.Px2.p1.2.1" class="ltx_text ltx_font_italic">do not</span> search optimal hyper-parameters for each dataset separately.</p>
</div>
<figure id="A2.T10" class="ltx_table">
<div id="A2.T10.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:406.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(60.4pt,-56.7pt) scale(1.38647196345353,1.38647196345353) ;">
<table id="A2.T10.4.4" class="ltx_tabular ltx_align_middle">
<tr id="A2.T10.4.4.5" class="ltx_tr">
<td id="A2.T10.4.4.5.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_tt">Config</td>
<td id="A2.T10.4.4.5.2" class="ltx_td ltx_align_right ltx_border_tt">Value</td>
</tr>
<tr id="A2.T10.4.4.6" class="ltx_tr">
<td id="A2.T10.4.4.6.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">GPUs (V100)</td>
<td id="A2.T10.4.4.6.2" class="ltx_td ltx_align_right ltx_border_t">16</td>
</tr>
<tr id="A2.T10.4.4.7" class="ltx_tr">
<td id="A2.T10.4.4.7.1" class="ltx_td ltx_align_left ltx_border_r">training epochs</td>
<td id="A2.T10.4.4.7.2" class="ltx_td ltx_align_right">24</td>
</tr>
<tr id="A2.T10.4.4.8" class="ltx_tr">
<td id="A2.T10.4.4.8.1" class="ltx_td ltx_align_left ltx_border_r">optimizer</td>
<td id="A2.T10.4.4.8.2" class="ltx_td ltx_align_right">AdamW <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>
</td>
</tr>
<tr id="A2.T10.2.2.2" class="ltx_tr">
<td id="A2.T10.2.2.2.3" class="ltx_td ltx_align_left ltx_border_r">optimizer momentum</td>
<td id="A2.T10.2.2.2.2" class="ltx_td ltx_align_right">
<math id="A2.T10.1.1.1.1.m1.1" class="ltx_Math" alttext="\beta_{1}=0.9" display="inline"><semantics id="A2.T10.1.1.1.1.m1.1a"><mrow id="A2.T10.1.1.1.1.m1.1.1" xref="A2.T10.1.1.1.1.m1.1.1.cmml"><msub id="A2.T10.1.1.1.1.m1.1.1.2" xref="A2.T10.1.1.1.1.m1.1.1.2.cmml"><mi id="A2.T10.1.1.1.1.m1.1.1.2.2" xref="A2.T10.1.1.1.1.m1.1.1.2.2.cmml">β</mi><mn id="A2.T10.1.1.1.1.m1.1.1.2.3" xref="A2.T10.1.1.1.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="A2.T10.1.1.1.1.m1.1.1.1" xref="A2.T10.1.1.1.1.m1.1.1.1.cmml">=</mo><mn id="A2.T10.1.1.1.1.m1.1.1.3" xref="A2.T10.1.1.1.1.m1.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T10.1.1.1.1.m1.1b"><apply id="A2.T10.1.1.1.1.m1.1.1.cmml" xref="A2.T10.1.1.1.1.m1.1.1"><eq id="A2.T10.1.1.1.1.m1.1.1.1.cmml" xref="A2.T10.1.1.1.1.m1.1.1.1"></eq><apply id="A2.T10.1.1.1.1.m1.1.1.2.cmml" xref="A2.T10.1.1.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="A2.T10.1.1.1.1.m1.1.1.2.1.cmml" xref="A2.T10.1.1.1.1.m1.1.1.2">subscript</csymbol><ci id="A2.T10.1.1.1.1.m1.1.1.2.2.cmml" xref="A2.T10.1.1.1.1.m1.1.1.2.2">𝛽</ci><cn type="integer" id="A2.T10.1.1.1.1.m1.1.1.2.3.cmml" xref="A2.T10.1.1.1.1.m1.1.1.2.3">1</cn></apply><cn type="float" id="A2.T10.1.1.1.1.m1.1.1.3.cmml" xref="A2.T10.1.1.1.1.m1.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.1.1.1.1.m1.1c">\beta_{1}=0.9</annotation></semantics></math>, <math id="A2.T10.2.2.2.2.m2.1" class="ltx_Math" alttext="\beta_{2}=0.999" display="inline"><semantics id="A2.T10.2.2.2.2.m2.1a"><mrow id="A2.T10.2.2.2.2.m2.1.1" xref="A2.T10.2.2.2.2.m2.1.1.cmml"><msub id="A2.T10.2.2.2.2.m2.1.1.2" xref="A2.T10.2.2.2.2.m2.1.1.2.cmml"><mi id="A2.T10.2.2.2.2.m2.1.1.2.2" xref="A2.T10.2.2.2.2.m2.1.1.2.2.cmml">β</mi><mn id="A2.T10.2.2.2.2.m2.1.1.2.3" xref="A2.T10.2.2.2.2.m2.1.1.2.3.cmml">2</mn></msub><mo id="A2.T10.2.2.2.2.m2.1.1.1" xref="A2.T10.2.2.2.2.m2.1.1.1.cmml">=</mo><mn id="A2.T10.2.2.2.2.m2.1.1.3" xref="A2.T10.2.2.2.2.m2.1.1.3.cmml">0.999</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T10.2.2.2.2.m2.1b"><apply id="A2.T10.2.2.2.2.m2.1.1.cmml" xref="A2.T10.2.2.2.2.m2.1.1"><eq id="A2.T10.2.2.2.2.m2.1.1.1.cmml" xref="A2.T10.2.2.2.2.m2.1.1.1"></eq><apply id="A2.T10.2.2.2.2.m2.1.1.2.cmml" xref="A2.T10.2.2.2.2.m2.1.1.2"><csymbol cd="ambiguous" id="A2.T10.2.2.2.2.m2.1.1.2.1.cmml" xref="A2.T10.2.2.2.2.m2.1.1.2">subscript</csymbol><ci id="A2.T10.2.2.2.2.m2.1.1.2.2.cmml" xref="A2.T10.2.2.2.2.m2.1.1.2.2">𝛽</ci><cn type="integer" id="A2.T10.2.2.2.2.m2.1.1.2.3.cmml" xref="A2.T10.2.2.2.2.m2.1.1.2.3">2</cn></apply><cn type="float" id="A2.T10.2.2.2.2.m2.1.1.3.cmml" xref="A2.T10.2.2.2.2.m2.1.1.3">0.999</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.2.2.2.2.m2.1c">\beta_{2}=0.999</annotation></semantics></math>
</td>
</tr>
<tr id="A2.T10.4.4.9" class="ltx_tr">
<td id="A2.T10.4.4.9.1" class="ltx_td ltx_align_left ltx_border_r">lr for image encoder</td>
<td id="A2.T10.4.4.9.2" class="ltx_td ltx_align_right">4e-5</td>
</tr>
<tr id="A2.T10.4.4.10" class="ltx_tr">
<td id="A2.T10.4.4.10.1" class="ltx_td ltx_align_left ltx_border_r">lr for text encoder</td>
<td id="A2.T10.4.4.10.2" class="ltx_td ltx_align_right">4e-6</td>
</tr>
<tr id="A2.T10.4.4.11" class="ltx_tr">
<td id="A2.T10.4.4.11.1" class="ltx_td ltx_align_left ltx_border_r">weight decay</td>
<td id="A2.T10.4.4.11.2" class="ltx_td ltx_align_right">0.05</td>
</tr>
<tr id="A2.T10.4.4.12" class="ltx_tr">
<td id="A2.T10.4.4.12.1" class="ltx_td ltx_align_left ltx_border_r">warmup iters</td>
<td id="A2.T10.4.4.12.2" class="ltx_td ltx_align_right">1000</td>
</tr>
<tr id="A2.T10.4.4.13" class="ltx_tr">
<td id="A2.T10.4.4.13.1" class="ltx_td ltx_align_left ltx_border_r">learning rate schedule</td>
<td id="A2.T10.4.4.13.2" class="ltx_td ltx_align_right">cosine decay</td>
</tr>
<tr id="A2.T10.4.4.14" class="ltx_tr">
<td id="A2.T10.4.4.14.1" class="ltx_td ltx_align_left ltx_border_r">batch size</td>
<td id="A2.T10.4.4.14.2" class="ltx_td ltx_align_right">64</td>
</tr>
<tr id="A2.T10.3.3.3" class="ltx_tr">
<td id="A2.T10.3.3.3.2" class="ltx_td ltx_align_left ltx_border_r">input resolution</td>
<td id="A2.T10.3.3.3.1" class="ltx_td ltx_align_right"><math id="A2.T10.3.3.3.1.m1.1" class="ltx_Math" alttext="1333\times 800" display="inline"><semantics id="A2.T10.3.3.3.1.m1.1a"><mrow id="A2.T10.3.3.3.1.m1.1.1" xref="A2.T10.3.3.3.1.m1.1.1.cmml"><mn id="A2.T10.3.3.3.1.m1.1.1.2" xref="A2.T10.3.3.3.1.m1.1.1.2.cmml">1333</mn><mo lspace="0.222em" rspace="0.222em" id="A2.T10.3.3.3.1.m1.1.1.1" xref="A2.T10.3.3.3.1.m1.1.1.1.cmml">×</mo><mn id="A2.T10.3.3.3.1.m1.1.1.3" xref="A2.T10.3.3.3.1.m1.1.1.3.cmml">800</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T10.3.3.3.1.m1.1b"><apply id="A2.T10.3.3.3.1.m1.1.1.cmml" xref="A2.T10.3.3.3.1.m1.1.1"><times id="A2.T10.3.3.3.1.m1.1.1.1.cmml" xref="A2.T10.3.3.3.1.m1.1.1.1"></times><cn type="integer" id="A2.T10.3.3.3.1.m1.1.1.2.cmml" xref="A2.T10.3.3.3.1.m1.1.1.2">1333</cn><cn type="integer" id="A2.T10.3.3.3.1.m1.1.1.3.cmml" xref="A2.T10.3.3.3.1.m1.1.1.3">800</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.3.3.3.1.m1.1c">1333\times 800</annotation></semantics></math></td>
</tr>
<tr id="A2.T10.4.4.15" class="ltx_tr">
<td id="A2.T10.4.4.15.1" class="ltx_td ltx_align_left ltx_border_r">drop path of visual backbone</td>
<td id="A2.T10.4.4.15.2" class="ltx_td ltx_align_right">0.2</td>
</tr>
<tr id="A2.T10.4.4.4" class="ltx_tr">
<td id="A2.T10.4.4.4.1" class="ltx_td ltx_align_left ltx_border_r"># of concepts <math id="A2.T10.4.4.4.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="A2.T10.4.4.4.1.m1.1a"><mi id="A2.T10.4.4.4.1.m1.1.1" xref="A2.T10.4.4.4.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="A2.T10.4.4.4.1.m1.1b"><ci id="A2.T10.4.4.4.1.m1.1.1.cmml" xref="A2.T10.4.4.4.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.4.4.4.1.m1.1c">M</annotation></semantics></math>
</td>
<td id="A2.T10.4.4.4.2" class="ltx_td ltx_align_right">150</td>
</tr>
<tr id="A2.T10.4.4.16" class="ltx_tr">
<td id="A2.T10.4.4.16.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r">augmentation</td>
<td id="A2.T10.4.4.16.2" class="ltx_td ltx_align_right ltx_border_bb">
<span id="A2.T10.4.4.16.2.1" class="ltx_text"></span> <span id="A2.T10.4.4.16.2.2" class="ltx_text">
<span id="A2.T10.4.4.16.2.2.1" class="ltx_tabular ltx_align_middle">
<span id="A2.T10.4.4.16.2.2.1.1" class="ltx_tr">
<span id="A2.T10.4.4.16.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_right">multi-scale training,</span></span>
<span id="A2.T10.4.4.16.2.2.1.2" class="ltx_tr">
<span id="A2.T10.4.4.16.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_right">random flip</span></span>
</span></span><span id="A2.T10.4.4.16.2.3" class="ltx_text"></span>
</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A2.T10.7.1.1" class="ltx_text" style="font-size:90%;">Table 10</span>: </span><span id="A2.T10.8.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Detailed fine-tuning settings<span id="A2.T10.8.2.1" class="ltx_text ltx_font_medium"> for LVIS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>.</span></span></figcaption>
</figure>
<figure id="A2.T11" class="ltx_table">
<div id="A2.T11.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:429.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(50.7pt,-50.3pt) scale(1.30512098551245,1.30512098551245) ;">
<table id="A2.T11.5.5" class="ltx_tabular ltx_align_middle">
<tr id="A2.T11.5.5.6" class="ltx_tr">
<td id="A2.T11.5.5.6.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_tt">Config</td>
<td id="A2.T11.5.5.6.2" class="ltx_td ltx_align_right ltx_border_tt">Value</td>
</tr>
<tr id="A2.T11.5.5.7" class="ltx_tr">
<td id="A2.T11.5.5.7.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">GPUs (V100)</td>
<td id="A2.T11.5.5.7.2" class="ltx_td ltx_align_right ltx_border_t">8</td>
</tr>
<tr id="A2.T11.5.5.8" class="ltx_tr">
<td id="A2.T11.5.5.8.1" class="ltx_td ltx_align_left ltx_border_r">maximum training epochs</td>
<td id="A2.T11.5.5.8.2" class="ltx_td ltx_align_right">250</td>
</tr>
<tr id="A2.T11.5.5.9" class="ltx_tr">
<td id="A2.T11.5.5.9.1" class="ltx_td ltx_align_left ltx_border_r">optimizer</td>
<td id="A2.T11.5.5.9.2" class="ltx_td ltx_align_right">AdamW <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>
</td>
</tr>
<tr id="A2.T11.2.2.2" class="ltx_tr">
<td id="A2.T11.2.2.2.3" class="ltx_td ltx_align_left ltx_border_r">optimizer momentum</td>
<td id="A2.T11.2.2.2.2" class="ltx_td ltx_align_right">
<math id="A2.T11.1.1.1.1.m1.1" class="ltx_Math" alttext="\beta_{1}=0.9" display="inline"><semantics id="A2.T11.1.1.1.1.m1.1a"><mrow id="A2.T11.1.1.1.1.m1.1.1" xref="A2.T11.1.1.1.1.m1.1.1.cmml"><msub id="A2.T11.1.1.1.1.m1.1.1.2" xref="A2.T11.1.1.1.1.m1.1.1.2.cmml"><mi id="A2.T11.1.1.1.1.m1.1.1.2.2" xref="A2.T11.1.1.1.1.m1.1.1.2.2.cmml">β</mi><mn id="A2.T11.1.1.1.1.m1.1.1.2.3" xref="A2.T11.1.1.1.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="A2.T11.1.1.1.1.m1.1.1.1" xref="A2.T11.1.1.1.1.m1.1.1.1.cmml">=</mo><mn id="A2.T11.1.1.1.1.m1.1.1.3" xref="A2.T11.1.1.1.1.m1.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T11.1.1.1.1.m1.1b"><apply id="A2.T11.1.1.1.1.m1.1.1.cmml" xref="A2.T11.1.1.1.1.m1.1.1"><eq id="A2.T11.1.1.1.1.m1.1.1.1.cmml" xref="A2.T11.1.1.1.1.m1.1.1.1"></eq><apply id="A2.T11.1.1.1.1.m1.1.1.2.cmml" xref="A2.T11.1.1.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="A2.T11.1.1.1.1.m1.1.1.2.1.cmml" xref="A2.T11.1.1.1.1.m1.1.1.2">subscript</csymbol><ci id="A2.T11.1.1.1.1.m1.1.1.2.2.cmml" xref="A2.T11.1.1.1.1.m1.1.1.2.2">𝛽</ci><cn type="integer" id="A2.T11.1.1.1.1.m1.1.1.2.3.cmml" xref="A2.T11.1.1.1.1.m1.1.1.2.3">1</cn></apply><cn type="float" id="A2.T11.1.1.1.1.m1.1.1.3.cmml" xref="A2.T11.1.1.1.1.m1.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.1.1.1.1.m1.1c">\beta_{1}=0.9</annotation></semantics></math>, <math id="A2.T11.2.2.2.2.m2.1" class="ltx_Math" alttext="\beta_{2}=0.999" display="inline"><semantics id="A2.T11.2.2.2.2.m2.1a"><mrow id="A2.T11.2.2.2.2.m2.1.1" xref="A2.T11.2.2.2.2.m2.1.1.cmml"><msub id="A2.T11.2.2.2.2.m2.1.1.2" xref="A2.T11.2.2.2.2.m2.1.1.2.cmml"><mi id="A2.T11.2.2.2.2.m2.1.1.2.2" xref="A2.T11.2.2.2.2.m2.1.1.2.2.cmml">β</mi><mn id="A2.T11.2.2.2.2.m2.1.1.2.3" xref="A2.T11.2.2.2.2.m2.1.1.2.3.cmml">2</mn></msub><mo id="A2.T11.2.2.2.2.m2.1.1.1" xref="A2.T11.2.2.2.2.m2.1.1.1.cmml">=</mo><mn id="A2.T11.2.2.2.2.m2.1.1.3" xref="A2.T11.2.2.2.2.m2.1.1.3.cmml">0.999</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T11.2.2.2.2.m2.1b"><apply id="A2.T11.2.2.2.2.m2.1.1.cmml" xref="A2.T11.2.2.2.2.m2.1.1"><eq id="A2.T11.2.2.2.2.m2.1.1.1.cmml" xref="A2.T11.2.2.2.2.m2.1.1.1"></eq><apply id="A2.T11.2.2.2.2.m2.1.1.2.cmml" xref="A2.T11.2.2.2.2.m2.1.1.2"><csymbol cd="ambiguous" id="A2.T11.2.2.2.2.m2.1.1.2.1.cmml" xref="A2.T11.2.2.2.2.m2.1.1.2">subscript</csymbol><ci id="A2.T11.2.2.2.2.m2.1.1.2.2.cmml" xref="A2.T11.2.2.2.2.m2.1.1.2.2">𝛽</ci><cn type="integer" id="A2.T11.2.2.2.2.m2.1.1.2.3.cmml" xref="A2.T11.2.2.2.2.m2.1.1.2.3">2</cn></apply><cn type="float" id="A2.T11.2.2.2.2.m2.1.1.3.cmml" xref="A2.T11.2.2.2.2.m2.1.1.3">0.999</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.2.2.2.2.m2.1c">\beta_{2}=0.999</annotation></semantics></math>
</td>
</tr>
<tr id="A2.T11.5.5.10" class="ltx_tr">
<td id="A2.T11.5.5.10.1" class="ltx_td ltx_align_left ltx_border_r">lr for image encoder</td>
<td id="A2.T11.5.5.10.2" class="ltx_td ltx_align_right">4e-5</td>
</tr>
<tr id="A2.T11.5.5.11" class="ltx_tr">
<td id="A2.T11.5.5.11.1" class="ltx_td ltx_align_left ltx_border_r">lr for text encoder</td>
<td id="A2.T11.5.5.11.2" class="ltx_td ltx_align_right">4e-7</td>
</tr>
<tr id="A2.T11.5.5.12" class="ltx_tr">
<td id="A2.T11.5.5.12.1" class="ltx_td ltx_align_left ltx_border_r">weight decay</td>
<td id="A2.T11.5.5.12.2" class="ltx_td ltx_align_right">0.05</td>
</tr>
<tr id="A2.T11.5.5.13" class="ltx_tr">
<td id="A2.T11.5.5.13.1" class="ltx_td ltx_align_left ltx_border_r">warmup iters</td>
<td id="A2.T11.5.5.13.2" class="ltx_td ltx_align_right">500</td>
</tr>
<tr id="A2.T11.5.5.14" class="ltx_tr">
<td id="A2.T11.5.5.14.1" class="ltx_td ltx_align_left ltx_border_r">learning rate schedule</td>
<td id="A2.T11.5.5.14.2" class="ltx_td ltx_align_right">auto-step decay</td>
</tr>
<tr id="A2.T11.3.3.3" class="ltx_tr">
<td id="A2.T11.3.3.3.1" class="ltx_td ltx_align_left ltx_border_r">lr decay tolerance <math id="A2.T11.3.3.3.1.m1.1" class="ltx_Math" alttext="t_{1}" display="inline"><semantics id="A2.T11.3.3.3.1.m1.1a"><msub id="A2.T11.3.3.3.1.m1.1.1" xref="A2.T11.3.3.3.1.m1.1.1.cmml"><mi id="A2.T11.3.3.3.1.m1.1.1.2" xref="A2.T11.3.3.3.1.m1.1.1.2.cmml">t</mi><mn id="A2.T11.3.3.3.1.m1.1.1.3" xref="A2.T11.3.3.3.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="A2.T11.3.3.3.1.m1.1b"><apply id="A2.T11.3.3.3.1.m1.1.1.cmml" xref="A2.T11.3.3.3.1.m1.1.1"><csymbol cd="ambiguous" id="A2.T11.3.3.3.1.m1.1.1.1.cmml" xref="A2.T11.3.3.3.1.m1.1.1">subscript</csymbol><ci id="A2.T11.3.3.3.1.m1.1.1.2.cmml" xref="A2.T11.3.3.3.1.m1.1.1.2">𝑡</ci><cn type="integer" id="A2.T11.3.3.3.1.m1.1.1.3.cmml" xref="A2.T11.3.3.3.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.3.3.3.1.m1.1c">t_{1}</annotation></semantics></math> (epochs)</td>
<td id="A2.T11.3.3.3.2" class="ltx_td ltx_align_right">5</td>
</tr>
<tr id="A2.T11.4.4.4" class="ltx_tr">
<td id="A2.T11.4.4.4.1" class="ltx_td ltx_align_left ltx_border_r">training exit tolerance <math id="A2.T11.4.4.4.1.m1.1" class="ltx_Math" alttext="t_{2}" display="inline"><semantics id="A2.T11.4.4.4.1.m1.1a"><msub id="A2.T11.4.4.4.1.m1.1.1" xref="A2.T11.4.4.4.1.m1.1.1.cmml"><mi id="A2.T11.4.4.4.1.m1.1.1.2" xref="A2.T11.4.4.4.1.m1.1.1.2.cmml">t</mi><mn id="A2.T11.4.4.4.1.m1.1.1.3" xref="A2.T11.4.4.4.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A2.T11.4.4.4.1.m1.1b"><apply id="A2.T11.4.4.4.1.m1.1.1.cmml" xref="A2.T11.4.4.4.1.m1.1.1"><csymbol cd="ambiguous" id="A2.T11.4.4.4.1.m1.1.1.1.cmml" xref="A2.T11.4.4.4.1.m1.1.1">subscript</csymbol><ci id="A2.T11.4.4.4.1.m1.1.1.2.cmml" xref="A2.T11.4.4.4.1.m1.1.1.2">𝑡</ci><cn type="integer" id="A2.T11.4.4.4.1.m1.1.1.3.cmml" xref="A2.T11.4.4.4.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.4.4.4.1.m1.1c">t_{2}</annotation></semantics></math> (epochs)</td>
<td id="A2.T11.4.4.4.2" class="ltx_td ltx_align_right">8</td>
</tr>
<tr id="A2.T11.5.5.15" class="ltx_tr">
<td id="A2.T11.5.5.15.1" class="ltx_td ltx_align_left ltx_border_r">minimum lr to stop decay</td>
<td id="A2.T11.5.5.15.2" class="ltx_td ltx_align_right">1e-8</td>
</tr>
<tr id="A2.T11.5.5.16" class="ltx_tr">
<td id="A2.T11.5.5.16.1" class="ltx_td ltx_align_left ltx_border_r">batch size</td>
<td id="A2.T11.5.5.16.2" class="ltx_td ltx_align_right">32</td>
</tr>
<tr id="A2.T11.5.5.5" class="ltx_tr">
<td id="A2.T11.5.5.5.2" class="ltx_td ltx_align_left ltx_border_r">input resolution</td>
<td id="A2.T11.5.5.5.1" class="ltx_td ltx_align_right"><math id="A2.T11.5.5.5.1.m1.1" class="ltx_Math" alttext="1333\times 800" display="inline"><semantics id="A2.T11.5.5.5.1.m1.1a"><mrow id="A2.T11.5.5.5.1.m1.1.1" xref="A2.T11.5.5.5.1.m1.1.1.cmml"><mn id="A2.T11.5.5.5.1.m1.1.1.2" xref="A2.T11.5.5.5.1.m1.1.1.2.cmml">1333</mn><mo lspace="0.222em" rspace="0.222em" id="A2.T11.5.5.5.1.m1.1.1.1" xref="A2.T11.5.5.5.1.m1.1.1.1.cmml">×</mo><mn id="A2.T11.5.5.5.1.m1.1.1.3" xref="A2.T11.5.5.5.1.m1.1.1.3.cmml">800</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T11.5.5.5.1.m1.1b"><apply id="A2.T11.5.5.5.1.m1.1.1.cmml" xref="A2.T11.5.5.5.1.m1.1.1"><times id="A2.T11.5.5.5.1.m1.1.1.1.cmml" xref="A2.T11.5.5.5.1.m1.1.1.1"></times><cn type="integer" id="A2.T11.5.5.5.1.m1.1.1.2.cmml" xref="A2.T11.5.5.5.1.m1.1.1.2">1333</cn><cn type="integer" id="A2.T11.5.5.5.1.m1.1.1.3.cmml" xref="A2.T11.5.5.5.1.m1.1.1.3">800</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.5.5.5.1.m1.1c">1333\times 800</annotation></semantics></math></td>
</tr>
<tr id="A2.T11.5.5.17" class="ltx_tr">
<td id="A2.T11.5.5.17.1" class="ltx_td ltx_align_left ltx_border_r">drop path of visual backbone</td>
<td id="A2.T11.5.5.17.2" class="ltx_td ltx_align_right">0.2</td>
</tr>
<tr id="A2.T11.5.5.18" class="ltx_tr">
<td id="A2.T11.5.5.18.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r">augmentation</td>
<td id="A2.T11.5.5.18.2" class="ltx_td ltx_align_right ltx_border_bb">
<span id="A2.T11.5.5.18.2.1" class="ltx_text"></span> <span id="A2.T11.5.5.18.2.2" class="ltx_text">
<span id="A2.T11.5.5.18.2.2.1" class="ltx_tabular ltx_align_middle">
<span id="A2.T11.5.5.18.2.2.1.1" class="ltx_tr">
<span id="A2.T11.5.5.18.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_right">multi-scale training,</span></span>
<span id="A2.T11.5.5.18.2.2.1.2" class="ltx_tr">
<span id="A2.T11.5.5.18.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_right">random flip</span></span>
</span></span><span id="A2.T11.5.5.18.2.3" class="ltx_text"></span>
</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A2.T11.8.1.1" class="ltx_text" style="font-size:90%;">Table 11</span>: </span><span id="A2.T11.9.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Detailed fine-tuning settings<span id="A2.T11.9.2.1" class="ltx_text ltx_font_medium"> for ODinW13 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>.</span></span></figcaption>
</figure>
</section>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>More Experimental Results</h2>

<section id="A3.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Effect of input resolution of image-text pairs.</h5>

<div id="A3.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="A3.SS0.SSS0.Px1.p1.6" class="ltx_p">Reducing the input resolution of massive image-text pairs can significantly boost the training efficiency while may lead to performance degradation. Table <a href="#A3.T12" title="Table 12 ‣ Effect of input resolution of image-text pairs. ‣ Appendix C More Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a> studies the effect of input resolution change of image-text pairs, where we conduct experiments with the Swin-T-based model on O365+CC3M and vary the resolution of CC3M data from <math id="A3.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="224\times 224" display="inline"><semantics id="A3.SS0.SSS0.Px1.p1.1.m1.1a"><mrow id="A3.SS0.SSS0.Px1.p1.1.m1.1.1" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.cmml"><mn id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.2" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml">224</mn><mo lspace="0.222em" rspace="0.222em" id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.1" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml">×</mo><mn id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.3" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml">224</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px1.p1.1.m1.1b"><apply id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1"><times id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.1"></times><cn type="integer" id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.2">224</cn><cn type="integer" id="A3.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="A3.SS0.SSS0.Px1.p1.1.m1.1.1.3">224</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px1.p1.1.m1.1c">224\times 224</annotation></semantics></math> to <math id="A3.SS0.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="384\times 384" display="inline"><semantics id="A3.SS0.SSS0.Px1.p1.2.m2.1a"><mrow id="A3.SS0.SSS0.Px1.p1.2.m2.1.1" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.cmml"><mn id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.2" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml">384</mn><mo lspace="0.222em" rspace="0.222em" id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.1" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml">×</mo><mn id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.3" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml">384</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px1.p1.2.m2.1b"><apply id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1"><times id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.1"></times><cn type="integer" id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.2">384</cn><cn type="integer" id="A3.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="A3.SS0.SSS0.Px1.p1.2.m2.1.1.3">384</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px1.p1.2.m2.1c">384\times 384</annotation></semantics></math>. Increasing the resolution from <math id="A3.SS0.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="256" display="inline"><semantics id="A3.SS0.SSS0.Px1.p1.3.m3.1a"><mn id="A3.SS0.SSS0.Px1.p1.3.m3.1.1" xref="A3.SS0.SSS0.Px1.p1.3.m3.1.1.cmml">256</mn><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px1.p1.3.m3.1b"><cn type="integer" id="A3.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.3.m3.1.1">256</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px1.p1.3.m3.1c">256</annotation></semantics></math> to <math id="A3.SS0.SSS0.Px1.p1.4.m4.1" class="ltx_Math" alttext="320" display="inline"><semantics id="A3.SS0.SSS0.Px1.p1.4.m4.1a"><mn id="A3.SS0.SSS0.Px1.p1.4.m4.1.1" xref="A3.SS0.SSS0.Px1.p1.4.m4.1.1.cmml">320</mn><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px1.p1.4.m4.1b"><cn type="integer" id="A3.SS0.SSS0.Px1.p1.4.m4.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.4.m4.1.1">320</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px1.p1.4.m4.1c">320</annotation></semantics></math> leads to an obvious performance improvement (from 30.5 AP to 31.5 AP). However, further increasing it to <math id="A3.SS0.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="384" display="inline"><semantics id="A3.SS0.SSS0.Px1.p1.5.m5.1a"><mn id="A3.SS0.SSS0.Px1.p1.5.m5.1.1" xref="A3.SS0.SSS0.Px1.p1.5.m5.1.1.cmml">384</mn><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px1.p1.5.m5.1b"><cn type="integer" id="A3.SS0.SSS0.Px1.p1.5.m5.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.5.m5.1.1">384</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px1.p1.5.m5.1c">384</annotation></semantics></math> only brings limited performance gains and introduces considerable memory and training time overhead. Therefore, we choose <math id="A3.SS0.SSS0.Px1.p1.6.m6.1" class="ltx_Math" alttext="320\times 320" display="inline"><semantics id="A3.SS0.SSS0.Px1.p1.6.m6.1a"><mrow id="A3.SS0.SSS0.Px1.p1.6.m6.1.1" xref="A3.SS0.SSS0.Px1.p1.6.m6.1.1.cmml"><mn id="A3.SS0.SSS0.Px1.p1.6.m6.1.1.2" xref="A3.SS0.SSS0.Px1.p1.6.m6.1.1.2.cmml">320</mn><mo lspace="0.222em" rspace="0.222em" id="A3.SS0.SSS0.Px1.p1.6.m6.1.1.1" xref="A3.SS0.SSS0.Px1.p1.6.m6.1.1.1.cmml">×</mo><mn id="A3.SS0.SSS0.Px1.p1.6.m6.1.1.3" xref="A3.SS0.SSS0.Px1.p1.6.m6.1.1.3.cmml">320</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px1.p1.6.m6.1b"><apply id="A3.SS0.SSS0.Px1.p1.6.m6.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.6.m6.1.1"><times id="A3.SS0.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="A3.SS0.SSS0.Px1.p1.6.m6.1.1.1"></times><cn type="integer" id="A3.SS0.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="A3.SS0.SSS0.Px1.p1.6.m6.1.1.2">320</cn><cn type="integer" id="A3.SS0.SSS0.Px1.p1.6.m6.1.1.3.cmml" xref="A3.SS0.SSS0.Px1.p1.6.m6.1.1.3">320</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px1.p1.6.m6.1c">320\times 320</annotation></semantics></math> as our final setting.</p>
</div>
<figure id="A3.T12" class="ltx_table">
<table id="A3.T12.4" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A3.T12.4.5" class="ltx_tr">
<td id="A3.T12.4.5.1" class="ltx_td ltx_align_left ltx_border_tt">Input res</td>
<td id="A3.T12.4.5.2" class="ltx_td ltx_align_center ltx_border_tt">GPU Memory</td>
<td id="A3.T12.4.5.3" class="ltx_td ltx_align_center ltx_border_tt">
<span id="A3.T12.4.5.3.1" class="ltx_text"></span> <span id="A3.T12.4.5.3.2" class="ltx_text">
<span id="A3.T12.4.5.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="A3.T12.4.5.3.2.1.1" class="ltx_tr">
<span id="A3.T12.4.5.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Training time</span></span>
<span id="A3.T12.4.5.3.2.1.2" class="ltx_tr">
<span id="A3.T12.4.5.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(GPU hours)</span></span>
</span></span><span id="A3.T12.4.5.3.3" class="ltx_text"></span></td>
<td id="A3.T12.4.5.4" class="ltx_td ltx_align_center ltx_border_tt">AP</td>
</tr>
<tr id="A3.T12.1.1" class="ltx_tr">
<td id="A3.T12.1.1.1" class="ltx_td ltx_align_left ltx_border_t"><math id="A3.T12.1.1.1.m1.1" class="ltx_Math" alttext="224\times 224" display="inline"><semantics id="A3.T12.1.1.1.m1.1a"><mrow id="A3.T12.1.1.1.m1.1.1" xref="A3.T12.1.1.1.m1.1.1.cmml"><mn id="A3.T12.1.1.1.m1.1.1.2" xref="A3.T12.1.1.1.m1.1.1.2.cmml">224</mn><mo lspace="0.222em" rspace="0.222em" id="A3.T12.1.1.1.m1.1.1.1" xref="A3.T12.1.1.1.m1.1.1.1.cmml">×</mo><mn id="A3.T12.1.1.1.m1.1.1.3" xref="A3.T12.1.1.1.m1.1.1.3.cmml">224</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T12.1.1.1.m1.1b"><apply id="A3.T12.1.1.1.m1.1.1.cmml" xref="A3.T12.1.1.1.m1.1.1"><times id="A3.T12.1.1.1.m1.1.1.1.cmml" xref="A3.T12.1.1.1.m1.1.1.1"></times><cn type="integer" id="A3.T12.1.1.1.m1.1.1.2.cmml" xref="A3.T12.1.1.1.m1.1.1.2">224</cn><cn type="integer" id="A3.T12.1.1.1.m1.1.1.3.cmml" xref="A3.T12.1.1.1.m1.1.1.3">224</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T12.1.1.1.m1.1c">224\times 224</annotation></semantics></math></td>
<td id="A3.T12.1.1.2" class="ltx_td ltx_align_center ltx_border_t">14.1 GB</td>
<td id="A3.T12.1.1.3" class="ltx_td ltx_align_center ltx_border_t">697.6</td>
<td id="A3.T12.1.1.4" class="ltx_td ltx_align_center ltx_border_t">30.5</td>
</tr>
<tr id="A3.T12.2.2" class="ltx_tr">
<td id="A3.T12.2.2.1" class="ltx_td ltx_align_left"><math id="A3.T12.2.2.1.m1.1" class="ltx_Math" alttext="256\times 256" display="inline"><semantics id="A3.T12.2.2.1.m1.1a"><mrow id="A3.T12.2.2.1.m1.1.1" xref="A3.T12.2.2.1.m1.1.1.cmml"><mn id="A3.T12.2.2.1.m1.1.1.2" xref="A3.T12.2.2.1.m1.1.1.2.cmml">256</mn><mo lspace="0.222em" rspace="0.222em" id="A3.T12.2.2.1.m1.1.1.1" xref="A3.T12.2.2.1.m1.1.1.1.cmml">×</mo><mn id="A3.T12.2.2.1.m1.1.1.3" xref="A3.T12.2.2.1.m1.1.1.3.cmml">256</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T12.2.2.1.m1.1b"><apply id="A3.T12.2.2.1.m1.1.1.cmml" xref="A3.T12.2.2.1.m1.1.1"><times id="A3.T12.2.2.1.m1.1.1.1.cmml" xref="A3.T12.2.2.1.m1.1.1.1"></times><cn type="integer" id="A3.T12.2.2.1.m1.1.1.2.cmml" xref="A3.T12.2.2.1.m1.1.1.2">256</cn><cn type="integer" id="A3.T12.2.2.1.m1.1.1.3.cmml" xref="A3.T12.2.2.1.m1.1.1.3">256</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T12.2.2.1.m1.1c">256\times 256</annotation></semantics></math></td>
<td id="A3.T12.2.2.2" class="ltx_td ltx_align_center">16.0 GB</td>
<td id="A3.T12.2.2.3" class="ltx_td ltx_align_center">729.6</td>
<td id="A3.T12.2.2.4" class="ltx_td ltx_align_center">30.5</td>
</tr>
<tr id="A3.T12.3.3" class="ltx_tr" style="background-color:#E6E6E6;">
<td id="A3.T12.3.3.1" class="ltx_td ltx_align_left"><math id="A3.T12.3.3.1.m1.1" class="ltx_Math" style="background-color:#E6E6E6;" alttext="320\times 320" display="inline"><semantics id="A3.T12.3.3.1.m1.1a"><mrow id="A3.T12.3.3.1.m1.1.1" xref="A3.T12.3.3.1.m1.1.1.cmml"><mn mathbackground="#E6E6E6" id="A3.T12.3.3.1.m1.1.1.2" xref="A3.T12.3.3.1.m1.1.1.2.cmml">320</mn><mo lspace="0.222em" mathbackground="#E6E6E6" rspace="0.222em" id="A3.T12.3.3.1.m1.1.1.1" xref="A3.T12.3.3.1.m1.1.1.1.cmml">×</mo><mn mathbackground="#E6E6E6" id="A3.T12.3.3.1.m1.1.1.3" xref="A3.T12.3.3.1.m1.1.1.3.cmml">320</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T12.3.3.1.m1.1b"><apply id="A3.T12.3.3.1.m1.1.1.cmml" xref="A3.T12.3.3.1.m1.1.1"><times id="A3.T12.3.3.1.m1.1.1.1.cmml" xref="A3.T12.3.3.1.m1.1.1.1"></times><cn type="integer" id="A3.T12.3.3.1.m1.1.1.2.cmml" xref="A3.T12.3.3.1.m1.1.1.2">320</cn><cn type="integer" id="A3.T12.3.3.1.m1.1.1.3.cmml" xref="A3.T12.3.3.1.m1.1.1.3">320</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T12.3.3.1.m1.1c">320\times 320</annotation></semantics></math></td>
<td id="A3.T12.3.3.2" class="ltx_td ltx_align_center"><span id="A3.T12.3.3.2.1" class="ltx_text" style="background-color:#E6E6E6;">20.7 GB</span></td>
<td id="A3.T12.3.3.3" class="ltx_td ltx_align_center"><span id="A3.T12.3.3.3.1" class="ltx_text" style="background-color:#E6E6E6;">793.6</span></td>
<td id="A3.T12.3.3.4" class="ltx_td ltx_align_center"><span id="A3.T12.3.3.4.1" class="ltx_text" style="background-color:#E6E6E6;">31.3</span></td>
</tr>
<tr id="A3.T12.4.4" class="ltx_tr">
<td id="A3.T12.4.4.1" class="ltx_td ltx_align_left ltx_border_bb"><math id="A3.T12.4.4.1.m1.1" class="ltx_Math" alttext="384\times 384" display="inline"><semantics id="A3.T12.4.4.1.m1.1a"><mrow id="A3.T12.4.4.1.m1.1.1" xref="A3.T12.4.4.1.m1.1.1.cmml"><mn id="A3.T12.4.4.1.m1.1.1.2" xref="A3.T12.4.4.1.m1.1.1.2.cmml">384</mn><mo lspace="0.222em" rspace="0.222em" id="A3.T12.4.4.1.m1.1.1.1" xref="A3.T12.4.4.1.m1.1.1.1.cmml">×</mo><mn id="A3.T12.4.4.1.m1.1.1.3" xref="A3.T12.4.4.1.m1.1.1.3.cmml">384</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T12.4.4.1.m1.1b"><apply id="A3.T12.4.4.1.m1.1.1.cmml" xref="A3.T12.4.4.1.m1.1.1"><times id="A3.T12.4.4.1.m1.1.1.1.cmml" xref="A3.T12.4.4.1.m1.1.1.1"></times><cn type="integer" id="A3.T12.4.4.1.m1.1.1.2.cmml" xref="A3.T12.4.4.1.m1.1.1.2">384</cn><cn type="integer" id="A3.T12.4.4.1.m1.1.1.3.cmml" xref="A3.T12.4.4.1.m1.1.1.3">384</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T12.4.4.1.m1.1c">384\times 384</annotation></semantics></math></td>
<td id="A3.T12.4.4.2" class="ltx_td ltx_align_center ltx_border_bb">24.2 GB</td>
<td id="A3.T12.4.4.3" class="ltx_td ltx_align_center ltx_border_bb">876.8</td>
<td id="A3.T12.4.4.4" class="ltx_td ltx_align_center ltx_border_bb">31.5</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A3.T12.10.2.1" class="ltx_text" style="font-size:90%;">Table 12</span>: </span><span id="A3.T12.6.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Input resolution change of image-text pairs.<span id="A3.T12.6.1.1" class="ltx_text ltx_font_medium"> We use Swin-T-based model trained with O365+CC3M. Zero-shot AP on LVIS minival5k is reported. Using resolution of <math id="A3.T12.6.1.1.m1.1" class="ltx_Math" alttext="320\times 320" display="inline"><semantics id="A3.T12.6.1.1.m1.1b"><mrow id="A3.T12.6.1.1.m1.1.1" xref="A3.T12.6.1.1.m1.1.1.cmml"><mn id="A3.T12.6.1.1.m1.1.1.2" xref="A3.T12.6.1.1.m1.1.1.2.cmml">320</mn><mo lspace="0.222em" rspace="0.222em" id="A3.T12.6.1.1.m1.1.1.1" xref="A3.T12.6.1.1.m1.1.1.1.cmml">×</mo><mn id="A3.T12.6.1.1.m1.1.1.3" xref="A3.T12.6.1.1.m1.1.1.3.cmml">320</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T12.6.1.1.m1.1c"><apply id="A3.T12.6.1.1.m1.1.1.cmml" xref="A3.T12.6.1.1.m1.1.1"><times id="A3.T12.6.1.1.m1.1.1.1.cmml" xref="A3.T12.6.1.1.m1.1.1.1"></times><cn type="integer" id="A3.T12.6.1.1.m1.1.1.2.cmml" xref="A3.T12.6.1.1.m1.1.1.2">320</cn><cn type="integer" id="A3.T12.6.1.1.m1.1.1.3.cmml" xref="A3.T12.6.1.1.m1.1.1.3">320</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T12.6.1.1.m1.1d">320\times 320</annotation></semantics></math> (marked in <span id="A3.T12.6.1.1.1" class="ltx_text" style="background-color:#E6E6E6;">gray</span>) achieves the best trade-off between computational cost and model performance.</span></span></figcaption>
</figure>
<figure id="A3.T13" class="ltx_table">
<div id="A3.T13.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:268.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(62.9pt,-39.0pt) scale(1.40836234906529,1.40836234906529) ;">
<table id="A3.T13.2.1" class="ltx_tabular ltx_align_middle">
<tr id="A3.T13.2.1.1" class="ltx_tr">
<td id="A3.T13.2.1.1.1" class="ltx_td ltx_align_left ltx_border_tt">#</td>
<td id="A3.T13.2.1.1.2" class="ltx_td ltx_align_left ltx_border_tt">Backbone</td>
<td id="A3.T13.2.1.1.3" class="ltx_td ltx_align_left ltx_border_tt">Pretrain-data</td>
<td id="A3.T13.2.1.1.4" class="ltx_td ltx_align_center ltx_border_tt">AP (r/c/f)</td>
</tr>
<tr id="A3.T13.2.1.2" class="ltx_tr">
<td id="A3.T13.2.1.2.1" class="ltx_td ltx_align_left ltx_border_t">1</td>
<td id="A3.T13.2.1.2.2" class="ltx_td ltx_align_left ltx_border_t">Swin-T</td>
<td id="A3.T13.2.1.2.3" class="ltx_td ltx_align_left ltx_border_t">O365</td>
<td id="A3.T13.2.1.2.4" class="ltx_td ltx_align_center ltx_border_t">28.6 (24.2/27.1/30.6)</td>
</tr>
<tr id="A3.T13.2.1.3" class="ltx_tr">
<td id="A3.T13.2.1.3.1" class="ltx_td ltx_align_left">2</td>
<td id="A3.T13.2.1.3.2" class="ltx_td ltx_align_left">Swin-T</td>
<td id="A3.T13.2.1.3.3" class="ltx_td ltx_align_left">O365+IN1k</td>
<td id="A3.T13.2.1.3.4" class="ltx_td ltx_align_center">30.4 (<span id="A3.T13.2.1.3.4.1" class="ltx_text ltx_font_bold">32.2</span>/29.4/30.9)</td>
</tr>
<tr id="A3.T13.2.1.4" class="ltx_tr">
<td id="A3.T13.2.1.4.1" class="ltx_td ltx_align_left">3</td>
<td id="A3.T13.2.1.4.2" class="ltx_td ltx_align_left">Swin-T</td>
<td id="A3.T13.2.1.4.3" class="ltx_td ltx_align_left">O365+CC3M</td>
<td id="A3.T13.2.1.4.4" class="ltx_td ltx_align_center">
<span id="A3.T13.2.1.4.4.1" class="ltx_text ltx_font_bold">31.3</span> (29.4/<span id="A3.T13.2.1.4.4.2" class="ltx_text ltx_font_bold">31.7</span>/<span id="A3.T13.2.1.4.4.3" class="ltx_text ltx_font_bold">31.3</span>)</td>
</tr>
<tr id="A3.T13.2.1.5" class="ltx_tr">
<td id="A3.T13.2.1.5.1" class="ltx_td ltx_align_left ltx_border_t">4</td>
<td id="A3.T13.2.1.5.2" class="ltx_td ltx_align_left ltx_border_t">Swin-T</td>
<td id="A3.T13.2.1.5.3" class="ltx_td ltx_align_left ltx_border_t">O365+GoldG+CC15M</td>
<td id="A3.T13.2.1.5.4" class="ltx_td ltx_align_center ltx_border_t">40.4 (36.0/41.7/<span id="A3.T13.2.1.5.4.1" class="ltx_text ltx_font_bold">40.0</span>)</td>
</tr>
<tr id="A3.T13.2.1.6" class="ltx_tr">
<td id="A3.T13.2.1.6.1" class="ltx_td ltx_align_left">5</td>
<td id="A3.T13.2.1.6.2" class="ltx_td ltx_align_left">Swin-T</td>
<td id="A3.T13.2.1.6.3" class="ltx_td ltx_align_left">
<span id="A3.T13.2.1.6.3.1" class="ltx_text"></span><span id="A3.T13.2.1.6.3.2" class="ltx_text">
<span id="A3.T13.2.1.6.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="A3.T13.2.1.6.3.2.1.1" class="ltx_tr">
<span id="A3.T13.2.1.6.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">O365+GoldG+CC15M</span></span>
<span id="A3.T13.2.1.6.3.2.1.2" class="ltx_tr">
<span id="A3.T13.2.1.6.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">+IN1k</span></span>
</span></span><span id="A3.T13.2.1.6.3.3" class="ltx_text"></span></td>
<td id="A3.T13.2.1.6.4" class="ltx_td ltx_align_center">
<span id="A3.T13.2.1.6.4.1" class="ltx_text ltx_font_bold">40.6</span> (<span id="A3.T13.2.1.6.4.2" class="ltx_text ltx_font_bold">38.2</span>/<span id="A3.T13.2.1.6.4.3" class="ltx_text ltx_font_bold">42.0</span>/39.9)</td>
</tr>
<tr id="A3.T13.2.1.7" class="ltx_tr">
<td id="A3.T13.2.1.7.1" class="ltx_td ltx_align_left ltx_border_t">6</td>
<td id="A3.T13.2.1.7.2" class="ltx_td ltx_align_left ltx_border_t">Swin-L</td>
<td id="A3.T13.2.1.7.3" class="ltx_td ltx_align_left ltx_border_t">O365+GoldG+CC15M</td>
<td id="A3.T13.2.1.7.4" class="ltx_td ltx_align_center ltx_border_t">
<span id="A3.T13.2.1.7.4.1" class="ltx_text ltx_font_bold">44.7</span> (43.1/<span id="A3.T13.2.1.7.4.2" class="ltx_text ltx_font_bold">46.3</span>/43.7)</td>
</tr>
<tr id="A3.T13.2.1.8" class="ltx_tr">
<td id="A3.T13.2.1.8.1" class="ltx_td ltx_align_left ltx_border_bb">7</td>
<td id="A3.T13.2.1.8.2" class="ltx_td ltx_align_left ltx_border_bb">Swin-L</td>
<td id="A3.T13.2.1.8.3" class="ltx_td ltx_align_left ltx_border_bb">
<span id="A3.T13.2.1.8.3.1" class="ltx_text"></span><span id="A3.T13.2.1.8.3.2" class="ltx_text">
<span id="A3.T13.2.1.8.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="A3.T13.2.1.8.3.2.1.1" class="ltx_tr">
<span id="A3.T13.2.1.8.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">O365+GoldG+CC15M</span></span>
<span id="A3.T13.2.1.8.3.2.1.2" class="ltx_tr">
<span id="A3.T13.2.1.8.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">+IN1k</span></span>
</span></span><span id="A3.T13.2.1.8.3.3" class="ltx_text"></span></td>
<td id="A3.T13.2.1.8.4" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A3.T13.2.1.8.4.1" class="ltx_text ltx_font_bold">44.7</span> (<span id="A3.T13.2.1.8.4.2" class="ltx_text ltx_font_bold">43.8</span>/45.4/<span id="A3.T13.2.1.8.4.3" class="ltx_text ltx_font_bold">44.3</span>)</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A3.T13.4.1.1" class="ltx_text" style="font-size:90%;">Table 13</span>: </span><span id="A3.T13.5.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Effect of incorporating IN21k data for training<span id="A3.T13.5.2.1" class="ltx_text ltx_font_medium">. r/c/f indicate rare/common/frequent categories, respectively. Zero-shot AP on LVIS minival5k is reported. </span></span></figcaption>
</figure>
<figure id="A3.T14" class="ltx_table">
<table id="A3.T14.6" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A3.T14.6.7" class="ltx_tr">
<td id="A3.T14.6.7.1" class="ltx_td ltx_align_left ltx_border_tt" rowspan="2"><span id="A3.T14.6.7.1.1" class="ltx_text">Method</span></td>
<td id="A3.T14.6.7.2" class="ltx_td ltx_align_left ltx_border_tt" rowspan="2"><span id="A3.T14.6.7.2.1" class="ltx_text">Detector (Backbone)</span></td>
<td id="A3.T14.6.7.3" class="ltx_td ltx_align_center ltx_border_tt" colspan="2">LVIS (zero-shot)</td>
<td id="A3.T14.6.7.4" class="ltx_td ltx_align_center ltx_border_tt" colspan="2">LVIS (fine-tune)</td>
</tr>
<tr id="A3.T14.6.6" class="ltx_tr">
<td id="A3.T14.6.6.7" class="ltx_td ltx_align_center">AP</td>
<td id="A3.T14.3.3.3" class="ltx_td ltx_align_center">AP<sub id="A3.T14.3.3.3.1" class="ltx_sub"><span id="A3.T14.3.3.3.1.1" class="ltx_text ltx_font_italic">r</span></sub> / AP<sub id="A3.T14.3.3.3.2" class="ltx_sub"><span id="A3.T14.3.3.3.2.1" class="ltx_text ltx_font_italic">c</span></sub> / AP<sub id="A3.T14.3.3.3.3" class="ltx_sub"><span id="A3.T14.3.3.3.3.1" class="ltx_text ltx_font_italic">f</span></sub>
</td>
<td id="A3.T14.6.6.8" class="ltx_td ltx_align_center">AP</td>
<td id="A3.T14.6.6.6" class="ltx_td ltx_align_center">AP<sub id="A3.T14.6.6.6.1" class="ltx_sub"><span id="A3.T14.6.6.6.1.1" class="ltx_text ltx_font_italic">r</span></sub> / AP<sub id="A3.T14.6.6.6.2" class="ltx_sub"><span id="A3.T14.6.6.6.2.1" class="ltx_text ltx_font_italic">c</span></sub> / AP<sub id="A3.T14.6.6.6.3" class="ltx_sub"><span id="A3.T14.6.6.6.3.1" class="ltx_text ltx_font_italic">f</span></sub>
</td>
</tr>
<tr id="A3.T14.6.8" class="ltx_tr">
<td id="A3.T14.6.8.1" class="ltx_td ltx_align_left ltx_border_t"><span id="A3.T14.6.8.1.1" class="ltx_text" style="color:#999999;">Supervised</span></td>
<td id="A3.T14.6.8.2" class="ltx_td ltx_align_left ltx_border_t"><span id="A3.T14.6.8.2.1" class="ltx_text" style="color:#999999;">ATSS<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-T)</span></td>
<td id="A3.T14.6.8.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T14.6.8.3.1" class="ltx_text" style="color:#999999;">-</span></td>
<td id="A3.T14.6.8.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T14.6.8.4.1" class="ltx_text" style="color:#999999;">- / - / -</span></td>
<td id="A3.T14.6.8.5" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T14.6.8.5.1" class="ltx_text" style="color:#999999;">28.4</span></td>
<td id="A3.T14.6.8.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T14.6.8.6.1" class="ltx_text" style="color:#999999;">18.9 / 27.3 / 33.6</span></td>
</tr>
<tr id="A3.T14.6.9" class="ltx_tr">
<td id="A3.T14.6.9.1" class="ltx_td ltx_align_left">GLIP-T<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>
</td>
<td id="A3.T14.6.9.2" class="ltx_td ltx_align_left">DyHead <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> (Swin-T)</td>
<td id="A3.T14.6.9.3" class="ltx_td ltx_align_center">17.2</td>
<td id="A3.T14.6.9.4" class="ltx_td ltx_align_center">10.1 / 12.5 / 25.2</td>
<td id="A3.T14.6.9.5" class="ltx_td ltx_align_center">-</td>
<td id="A3.T14.6.9.6" class="ltx_td ltx_align_center">- / - / -</td>
</tr>
<tr id="A3.T14.6.10" class="ltx_tr">
<td id="A3.T14.6.10.1" class="ltx_td ltx_align_left">DetCLIP-T <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</td>
<td id="A3.T14.6.10.2" class="ltx_td ltx_align_left">ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-T)</td>
<td id="A3.T14.6.10.3" class="ltx_td ltx_align_center">28.4</td>
<td id="A3.T14.6.10.4" class="ltx_td ltx_align_center">25.0 / 27.0 / 31.6</td>
<td id="A3.T14.6.10.5" class="ltx_td ltx_align_center">-</td>
<td id="A3.T14.6.10.6" class="ltx_td ltx_align_center">- / - / -</td>
</tr>
<tr id="A3.T14.6.11" class="ltx_tr" style="background-color:#FCE8F2;">
<td id="A3.T14.6.11.1" class="ltx_td ltx_align_left"><span id="A3.T14.6.11.1.1" class="ltx_text" style="background-color:#FCE8F2;">DetCLIPv2-T (ours)</span></td>
<td id="A3.T14.6.11.2" class="ltx_td ltx_align_left"><span id="A3.T14.6.11.2.1" class="ltx_text" style="background-color:#FCE8F2;">ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-T)</span></td>
<td id="A3.T14.6.11.3" class="ltx_td ltx_align_center"><span id="A3.T14.6.11.3.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">32.8</span></td>
<td id="A3.T14.6.11.4" class="ltx_td ltx_align_center"><span id="A3.T14.6.11.4.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">31.0 / 31.7 / 34.8</span></td>
<td id="A3.T14.6.11.5" class="ltx_td ltx_align_center"><span id="A3.T14.6.11.5.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">43.7</span></td>
<td id="A3.T14.6.11.6" class="ltx_td ltx_align_center"><span id="A3.T14.6.11.6.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">40.2 / 42.7 / 46.3</span></td>
</tr>
<tr id="A3.T14.6.12" class="ltx_tr">
<td id="A3.T14.6.12.1" class="ltx_td ltx_align_left ltx_border_t"><span id="A3.T14.6.12.1.1" class="ltx_text" style="color:#999999;">Supervised</span></td>
<td id="A3.T14.6.12.2" class="ltx_td ltx_align_left ltx_border_t"><span id="A3.T14.6.12.2.1" class="ltx_text" style="color:#999999;">ATSS<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-L)</span></td>
<td id="A3.T14.6.12.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T14.6.12.3.1" class="ltx_text" style="color:#999999;">-</span></td>
<td id="A3.T14.6.12.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T14.6.12.4.1" class="ltx_text" style="color:#999999;">- / - / -</span></td>
<td id="A3.T14.6.12.5" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T14.6.12.5.1" class="ltx_text" style="color:#999999;">38.3</span></td>
<td id="A3.T14.6.12.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T14.6.12.6.1" class="ltx_text" style="color:#999999;">28.5 / 38.1 / 42.9</span></td>
</tr>
<tr id="A3.T14.6.13" class="ltx_tr">
<td id="A3.T14.6.13.1" class="ltx_td ltx_align_left">GLIP-L<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>
</td>
<td id="A3.T14.6.13.2" class="ltx_td ltx_align_left">DyHead <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> (Swin-L)</td>
<td id="A3.T14.6.13.3" class="ltx_td ltx_align_center">26.9</td>
<td id="A3.T14.6.13.4" class="ltx_td ltx_align_center">17.1 / 23.3 / 36.4</td>
<td id="A3.T14.6.13.5" class="ltx_td ltx_align_center">-</td>
<td id="A3.T14.6.13.6" class="ltx_td ltx_align_center">- / - / -</td>
</tr>
<tr id="A3.T14.6.14" class="ltx_tr">
<td id="A3.T14.6.14.1" class="ltx_td ltx_align_left">DetCLIP-L <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>
</td>
<td id="A3.T14.6.14.2" class="ltx_td ltx_align_left">ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-L)</td>
<td id="A3.T14.6.14.3" class="ltx_td ltx_align_center">31.2</td>
<td id="A3.T14.6.14.4" class="ltx_td ltx_align_center">27.6 / 29.6 / 34.5</td>
<td id="A3.T14.6.14.5" class="ltx_td ltx_align_center">-</td>
<td id="A3.T14.6.14.6" class="ltx_td ltx_align_center">- / - / -</td>
</tr>
<tr id="A3.T14.6.15" class="ltx_tr" style="background-color:#FCE8F2;">
<td id="A3.T14.6.15.1" class="ltx_td ltx_align_left ltx_border_bb"><span id="A3.T14.6.15.1.1" class="ltx_text" style="background-color:#FCE8F2;">DetCLIPv2-L (ours)</span></td>
<td id="A3.T14.6.15.2" class="ltx_td ltx_align_left ltx_border_bb"><span id="A3.T14.6.15.2.1" class="ltx_text" style="background-color:#FCE8F2;">ATSS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> (Swin-L)</span></td>
<td id="A3.T14.6.15.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T14.6.15.3.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">36.6</span></td>
<td id="A3.T14.6.15.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T14.6.15.4.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">33.3 / 36.2 / 38.5</span></td>
<td id="A3.T14.6.15.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T14.6.15.5.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">53.1</span></td>
<td id="A3.T14.6.15.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T14.6.15.6.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">49.0 / 53.2 / 54.9</span></td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A3.T14.10.1.1" class="ltx_text" style="font-size:90%;">Table 14</span>: </span><span id="A3.T14.11.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Performance on LVIS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> val split<span id="A3.T14.11.2.1" class="ltx_text ltx_font_medium">. <span id="A3.T14.11.2.1.1" class="ltx_text ltx_font_italic">Fixed</span> AP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> is reported. DetCLIPv2 achieves SoTA performance.</span></span></figcaption>
</figure>
<figure id="A3.T15" class="ltx_table">
<table id="A3.T15.2" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A3.T15.2.1" class="ltx_tr">
<td id="A3.T15.2.1.1" class="ltx_td ltx_align_left ltx_border_tt">Model</td>
<td id="A3.T15.2.1.2" class="ltx_td ltx_align_center ltx_border_tt">PascalVOC</td>
<td id="A3.T15.2.1.3" class="ltx_td ltx_align_center ltx_border_tt">AerialDrone</td>
<td id="A3.T15.2.1.4" class="ltx_td ltx_align_center ltx_border_tt">Aquarium</td>
<td id="A3.T15.2.1.5" class="ltx_td ltx_align_center ltx_border_tt">Rabbits</td>
<td id="A3.T15.2.1.6" class="ltx_td ltx_align_center ltx_border_tt">EgoHands</td>
<td id="A3.T15.2.1.7" class="ltx_td ltx_align_center ltx_border_tt">Mushrooms</td>
<td id="A3.T15.2.1.8" class="ltx_td ltx_align_center ltx_border_tt">Packages</td>
</tr>
<tr id="A3.T15.2.2" class="ltx_tr">
<td id="A3.T15.2.2.1" class="ltx_td ltx_align_left ltx_border_t">GLIP-T</td>
<td id="A3.T15.2.2.2" class="ltx_td ltx_align_center ltx_border_t">62.3</td>
<td id="A3.T15.2.2.3" class="ltx_td ltx_align_center ltx_border_t">31.2</td>
<td id="A3.T15.2.2.4" class="ltx_td ltx_align_center ltx_border_t">52.5</td>
<td id="A3.T15.2.2.5" class="ltx_td ltx_align_center ltx_border_t">70.8</td>
<td id="A3.T15.2.2.6" class="ltx_td ltx_align_center ltx_border_t">78.7</td>
<td id="A3.T15.2.2.7" class="ltx_td ltx_align_center ltx_border_t">88.1</td>
<td id="A3.T15.2.2.8" class="ltx_td ltx_align_center ltx_border_t">75.6</td>
</tr>
<tr id="A3.T15.2.3" class="ltx_tr">
<td id="A3.T15.2.3.1" class="ltx_td ltx_align_left">GLIPv2-T</td>
<td id="A3.T15.2.3.2" class="ltx_td ltx_align_center">66.4</td>
<td id="A3.T15.2.3.3" class="ltx_td ltx_align_center">30.2</td>
<td id="A3.T15.2.3.4" class="ltx_td ltx_align_center">52.5</td>
<td id="A3.T15.2.3.5" class="ltx_td ltx_align_center">74.8</td>
<td id="A3.T15.2.3.6" class="ltx_td ltx_align_center">80.0</td>
<td id="A3.T15.2.3.7" class="ltx_td ltx_align_center">88.1</td>
<td id="A3.T15.2.3.8" class="ltx_td ltx_align_center">74.3</td>
</tr>
<tr id="A3.T15.2.4" class="ltx_tr" style="background-color:#FCE8F2;">
<td id="A3.T15.2.4.1" class="ltx_td ltx_align_left"><span id="A3.T15.2.4.1.1" class="ltx_text" style="background-color:#FCE8F2;">DetCLIPv2-T (ours)</span></td>
<td id="A3.T15.2.4.2" class="ltx_td ltx_align_center"><span id="A3.T15.2.4.2.1" class="ltx_text" style="background-color:#FCE8F2;">67.5</span></td>
<td id="A3.T15.2.4.3" class="ltx_td ltx_align_center"><span id="A3.T15.2.4.3.1" class="ltx_text" style="background-color:#FCE8F2;">41.8</span></td>
<td id="A3.T15.2.4.4" class="ltx_td ltx_align_center"><span id="A3.T15.2.4.4.1" class="ltx_text" style="background-color:#FCE8F2;">50.8</span></td>
<td id="A3.T15.2.4.5" class="ltx_td ltx_align_center"><span id="A3.T15.2.4.5.1" class="ltx_text" style="background-color:#FCE8F2;">80.4</span></td>
<td id="A3.T15.2.4.6" class="ltx_td ltx_align_center"><span id="A3.T15.2.4.6.1" class="ltx_text" style="background-color:#FCE8F2;">79.8</span></td>
<td id="A3.T15.2.4.7" class="ltx_td ltx_align_center"><span id="A3.T15.2.4.7.1" class="ltx_text" style="background-color:#FCE8F2;">90.1</span></td>
<td id="A3.T15.2.4.8" class="ltx_td ltx_align_center"><span id="A3.T15.2.4.8.1" class="ltx_text" style="background-color:#FCE8F2;">73.7</span></td>
</tr>
<tr id="A3.T15.2.5" class="ltx_tr">
<td id="A3.T15.2.5.1" class="ltx_td ltx_align_left ltx_border_t">GLIP-L</td>
<td id="A3.T15.2.5.2" class="ltx_td ltx_align_center ltx_border_t">69.6</td>
<td id="A3.T15.2.5.3" class="ltx_td ltx_align_center ltx_border_t">32.6</td>
<td id="A3.T15.2.5.4" class="ltx_td ltx_align_center ltx_border_t">56.6</td>
<td id="A3.T15.2.5.5" class="ltx_td ltx_align_center ltx_border_t">76.4</td>
<td id="A3.T15.2.5.6" class="ltx_td ltx_align_center ltx_border_t">79.4</td>
<td id="A3.T15.2.5.7" class="ltx_td ltx_align_center ltx_border_t">88.1</td>
<td id="A3.T15.2.5.8" class="ltx_td ltx_align_center ltx_border_t">67.1</td>
</tr>
<tr id="A3.T15.2.6" class="ltx_tr">
<td id="A3.T15.2.6.1" class="ltx_td ltx_align_left">GLIPv2-B</td>
<td id="A3.T15.2.6.2" class="ltx_td ltx_align_center">71.1</td>
<td id="A3.T15.2.6.3" class="ltx_td ltx_align_center">32.6</td>
<td id="A3.T15.2.6.4" class="ltx_td ltx_align_center">57.5</td>
<td id="A3.T15.2.6.5" class="ltx_td ltx_align_center">73.6</td>
<td id="A3.T15.2.6.6" class="ltx_td ltx_align_center">80.0</td>
<td id="A3.T15.2.6.7" class="ltx_td ltx_align_center">88.1</td>
<td id="A3.T15.2.6.8" class="ltx_td ltx_align_center">74.9</td>
</tr>
<tr id="A3.T15.2.7" class="ltx_tr">
<td id="A3.T15.2.7.1" class="ltx_td ltx_align_left">GLIPv2-H</td>
<td id="A3.T15.2.7.2" class="ltx_td ltx_align_center">74.4</td>
<td id="A3.T15.2.7.3" class="ltx_td ltx_align_center">36.3</td>
<td id="A3.T15.2.7.4" class="ltx_td ltx_align_center">58.7</td>
<td id="A3.T15.2.7.5" class="ltx_td ltx_align_center">77.1</td>
<td id="A3.T15.2.7.6" class="ltx_td ltx_align_center">79.3</td>
<td id="A3.T15.2.7.7" class="ltx_td ltx_align_center">88.1</td>
<td id="A3.T15.2.7.8" class="ltx_td ltx_align_center">74.3</td>
</tr>
<tr id="A3.T15.2.8" class="ltx_tr" style="background-color:#FCE8F2;">
<td id="A3.T15.2.8.1" class="ltx_td ltx_align_left"><span id="A3.T15.2.8.1.1" class="ltx_text" style="background-color:#FCE8F2;">DetCLIPv2-L (ours)</span></td>
<td id="A3.T15.2.8.2" class="ltx_td ltx_align_center"><span id="A3.T15.2.8.2.1" class="ltx_text" style="background-color:#FCE8F2;">74.4</span></td>
<td id="A3.T15.2.8.3" class="ltx_td ltx_align_center"><span id="A3.T15.2.8.3.1" class="ltx_text" style="background-color:#FCE8F2;">44.1</span></td>
<td id="A3.T15.2.8.4" class="ltx_td ltx_align_center"><span id="A3.T15.2.8.4.1" class="ltx_text" style="background-color:#FCE8F2;">54.7</span></td>
<td id="A3.T15.2.8.5" class="ltx_td ltx_align_center"><span id="A3.T15.2.8.5.1" class="ltx_text" style="background-color:#FCE8F2;">80.9</span></td>
<td id="A3.T15.2.8.6" class="ltx_td ltx_align_center"><span id="A3.T15.2.8.6.1" class="ltx_text" style="background-color:#FCE8F2;">79.9</span></td>
<td id="A3.T15.2.8.7" class="ltx_td ltx_align_center"><span id="A3.T15.2.8.7.1" class="ltx_text" style="background-color:#FCE8F2;">90</span></td>
<td id="A3.T15.2.8.8" class="ltx_td ltx_align_center"><span id="A3.T15.2.8.8.1" class="ltx_text" style="background-color:#FCE8F2;">74.1</span></td>
</tr>
<tr id="A3.T15.2.9" class="ltx_tr">
<td id="A3.T15.2.9.1" class="ltx_td ltx_align_left ltx_border_tt ltx_border_tt">Model</td>
<td id="A3.T15.2.9.2" class="ltx_td ltx_align_center ltx_border_tt ltx_border_tt">Raccoon</td>
<td id="A3.T15.2.9.3" class="ltx_td ltx_align_center ltx_border_tt ltx_border_tt">Shellfish</td>
<td id="A3.T15.2.9.4" class="ltx_td ltx_align_center ltx_border_tt ltx_border_tt">Vehicles</td>
<td id="A3.T15.2.9.5" class="ltx_td ltx_align_center ltx_border_tt ltx_border_tt">Pistols</td>
<td id="A3.T15.2.9.6" class="ltx_td ltx_align_center ltx_border_tt ltx_border_tt">Pothole</td>
<td id="A3.T15.2.9.7" class="ltx_td ltx_align_center ltx_border_tt ltx_border_tt">Thermal</td>
<td id="A3.T15.2.9.8" class="ltx_td ltx_align_center ltx_border_tt ltx_border_tt">Avg</td>
</tr>
<tr id="A3.T15.2.10" class="ltx_tr">
<td id="A3.T15.2.10.1" class="ltx_td ltx_align_left ltx_border_t">GLIP-T</td>
<td id="A3.T15.2.10.2" class="ltx_td ltx_align_center ltx_border_t">61.4</td>
<td id="A3.T15.2.10.3" class="ltx_td ltx_align_center ltx_border_t">51.4</td>
<td id="A3.T15.2.10.4" class="ltx_td ltx_align_center ltx_border_t">65.3</td>
<td id="A3.T15.2.10.5" class="ltx_td ltx_align_center ltx_border_t">71.2</td>
<td id="A3.T15.2.10.6" class="ltx_td ltx_align_center ltx_border_t">58.7</td>
<td id="A3.T15.2.10.7" class="ltx_td ltx_align_center ltx_border_t">76.7</td>
<td id="A3.T15.2.10.8" class="ltx_td ltx_align_center ltx_border_t">64.9</td>
</tr>
<tr id="A3.T15.2.11" class="ltx_tr">
<td id="A3.T15.2.11.1" class="ltx_td ltx_align_left">GLIPv2-T</td>
<td id="A3.T15.2.11.2" class="ltx_td ltx_align_center">63.7</td>
<td id="A3.T15.2.11.3" class="ltx_td ltx_align_center">54.4</td>
<td id="A3.T15.2.11.4" class="ltx_td ltx_align_center">63.0</td>
<td id="A3.T15.2.11.5" class="ltx_td ltx_align_center">73.0</td>
<td id="A3.T15.2.11.6" class="ltx_td ltx_align_center">60.1</td>
<td id="A3.T15.2.11.7" class="ltx_td ltx_align_center">83.5</td>
<td id="A3.T15.2.11.8" class="ltx_td ltx_align_center">66.5</td>
</tr>
<tr id="A3.T15.2.12" class="ltx_tr" style="background-color:#FCE8F2;">
<td id="A3.T15.2.12.1" class="ltx_td ltx_align_left"><span id="A3.T15.2.12.1.1" class="ltx_text" style="background-color:#FCE8F2;">DetCLIPv2-T (ours)</span></td>
<td id="A3.T15.2.12.2" class="ltx_td ltx_align_center"><span id="A3.T15.2.12.2.1" class="ltx_text" style="background-color:#FCE8F2;">70.8</span></td>
<td id="A3.T15.2.12.3" class="ltx_td ltx_align_center"><span id="A3.T15.2.12.3.1" class="ltx_text" style="background-color:#FCE8F2;">54.8</span></td>
<td id="A3.T15.2.12.4" class="ltx_td ltx_align_center"><span id="A3.T15.2.12.4.1" class="ltx_text" style="background-color:#FCE8F2;">66.5</span></td>
<td id="A3.T15.2.12.5" class="ltx_td ltx_align_center"><span id="A3.T15.2.12.5.1" class="ltx_text" style="background-color:#FCE8F2;">77.7</span></td>
<td id="A3.T15.2.12.6" class="ltx_td ltx_align_center"><span id="A3.T15.2.12.6.1" class="ltx_text" style="background-color:#FCE8F2;">54.8</span></td>
<td id="A3.T15.2.12.7" class="ltx_td ltx_align_center"><span id="A3.T15.2.12.7.1" class="ltx_text" style="background-color:#FCE8F2;">82.2</span></td>
<td id="A3.T15.2.12.8" class="ltx_td ltx_align_center"><span id="A3.T15.2.12.8.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">68.5</span></td>
</tr>
<tr id="A3.T15.2.13" class="ltx_tr">
<td id="A3.T15.2.13.1" class="ltx_td ltx_align_left ltx_border_t">GLIP-L</td>
<td id="A3.T15.2.13.2" class="ltx_td ltx_align_center ltx_border_t">69.4</td>
<td id="A3.T15.2.13.3" class="ltx_td ltx_align_center ltx_border_t">65.8</td>
<td id="A3.T15.2.13.4" class="ltx_td ltx_align_center ltx_border_t">71.6</td>
<td id="A3.T15.2.13.5" class="ltx_td ltx_align_center ltx_border_t">75.7</td>
<td id="A3.T15.2.13.6" class="ltx_td ltx_align_center ltx_border_t">60.3</td>
<td id="A3.T15.2.13.7" class="ltx_td ltx_align_center ltx_border_t">83.1</td>
<td id="A3.T15.2.13.8" class="ltx_td ltx_align_center ltx_border_t">68.9</td>
</tr>
<tr id="A3.T15.2.14" class="ltx_tr">
<td id="A3.T15.2.14.1" class="ltx_td ltx_align_left">GLIPv2-B</td>
<td id="A3.T15.2.14.2" class="ltx_td ltx_align_center">68.2</td>
<td id="A3.T15.2.14.3" class="ltx_td ltx_align_center">70.6</td>
<td id="A3.T15.2.14.4" class="ltx_td ltx_align_center">71.2</td>
<td id="A3.T15.2.14.5" class="ltx_td ltx_align_center">76.5</td>
<td id="A3.T15.2.14.6" class="ltx_td ltx_align_center">58.7</td>
<td id="A3.T15.2.14.7" class="ltx_td ltx_align_center">79.6</td>
<td id="A3.T15.2.14.8" class="ltx_td ltx_align_center">69.4</td>
</tr>
<tr id="A3.T15.2.15" class="ltx_tr">
<td id="A3.T15.2.15.1" class="ltx_td ltx_align_left">GLIPv2-H</td>
<td id="A3.T15.2.15.2" class="ltx_td ltx_align_center">73.1</td>
<td id="A3.T15.2.15.3" class="ltx_td ltx_align_center">70.0</td>
<td id="A3.T15.2.15.4" class="ltx_td ltx_align_center">72.2</td>
<td id="A3.T15.2.15.5" class="ltx_td ltx_align_center">72.5</td>
<td id="A3.T15.2.15.6" class="ltx_td ltx_align_center">58.3</td>
<td id="A3.T15.2.15.7" class="ltx_td ltx_align_center">81.4</td>
<td id="A3.T15.2.15.8" class="ltx_td ltx_align_center"><span id="A3.T15.2.15.8.1" class="ltx_text ltx_font_bold">70.4</span></td>
</tr>
<tr id="A3.T15.2.16" class="ltx_tr" style="background-color:#FCE8F2;">
<td id="A3.T15.2.16.1" class="ltx_td ltx_align_left ltx_border_bb"><span id="A3.T15.2.16.1.1" class="ltx_text" style="background-color:#FCE8F2;">DetCLIPv2-L (ours)</span></td>
<td id="A3.T15.2.16.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T15.2.16.2.1" class="ltx_text" style="background-color:#FCE8F2;">69.4</span></td>
<td id="A3.T15.2.16.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T15.2.16.3.1" class="ltx_text" style="background-color:#FCE8F2;">61.2</span></td>
<td id="A3.T15.2.16.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T15.2.16.4.1" class="ltx_text" style="background-color:#FCE8F2;">68.1</span></td>
<td id="A3.T15.2.16.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T15.2.16.5.1" class="ltx_text" style="background-color:#FCE8F2;">80.3</span></td>
<td id="A3.T15.2.16.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T15.2.16.6.1" class="ltx_text" style="background-color:#FCE8F2;">57.1</span></td>
<td id="A3.T15.2.16.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T15.2.16.7.1" class="ltx_text" style="background-color:#FCE8F2;">81.1</span></td>
<td id="A3.T15.2.16.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T15.2.16.8.1" class="ltx_text ltx_font_bold" style="background-color:#FCE8F2;">70.4</span></td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A3.T15.4.1.1" class="ltx_text" style="font-size:90%;">Table 15</span>: </span><span id="A3.T15.5.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Detailed fine-tuning AP (%) performance on ODinW13.</span></figcaption>
</figure>
</section>
<section id="A3.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Incorporating classification dataset.</h5>

<div id="A3.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="A3.SS0.SSS0.Px2.p1.2" class="ltx_p">Our framework can be viewed as a more general design for weakly-supervised (WSOD) approaches, which eliminates the limit of pre-defined categories in traditional WSOD methods. By formulating classification data as a special type of image-text pair data, our method is capable of incorporating it into training.
Specifically, we use the category name as the caption for each image. To select region proposals, similar to image-text pair, we collect category names in a batch to calculate the similarity with a region and select the maximum value as the objectness score. Considering classification image typically contains only 1 main object, we select top <math id="A3.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="k=1" display="inline"><semantics id="A3.SS0.SSS0.Px2.p1.1.m1.1a"><mrow id="A3.SS0.SSS0.Px2.p1.1.m1.1.1" xref="A3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="A3.SS0.SSS0.Px2.p1.1.m1.1.1.2" xref="A3.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml">k</mi><mo id="A3.SS0.SSS0.Px2.p1.1.m1.1.1.1" xref="A3.SS0.SSS0.Px2.p1.1.m1.1.1.1.cmml">=</mo><mn id="A3.SS0.SSS0.Px2.p1.1.m1.1.1.3" xref="A3.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px2.p1.1.m1.1b"><apply id="A3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="A3.SS0.SSS0.Px2.p1.1.m1.1.1"><eq id="A3.SS0.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="A3.SS0.SSS0.Px2.p1.1.m1.1.1.1"></eq><ci id="A3.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="A3.SS0.SSS0.Px2.p1.1.m1.1.1.2">𝑘</ci><cn type="integer" id="A3.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="A3.SS0.SSS0.Px2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px2.p1.1.m1.1c">k=1</annotation></semantics></math> proposal. Finally, the contrastive loss for image-text pair is replaced with the cross entropy loss for classification, and we also set loss weight <math id="A3.SS0.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="\lambda=0.1" display="inline"><semantics id="A3.SS0.SSS0.Px2.p1.2.m2.1a"><mrow id="A3.SS0.SSS0.Px2.p1.2.m2.1.1" xref="A3.SS0.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="A3.SS0.SSS0.Px2.p1.2.m2.1.1.2" xref="A3.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml">λ</mi><mo id="A3.SS0.SSS0.Px2.p1.2.m2.1.1.1" xref="A3.SS0.SSS0.Px2.p1.2.m2.1.1.1.cmml">=</mo><mn id="A3.SS0.SSS0.Px2.p1.2.m2.1.1.3" xref="A3.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS0.SSS0.Px2.p1.2.m2.1b"><apply id="A3.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="A3.SS0.SSS0.Px2.p1.2.m2.1.1"><eq id="A3.SS0.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="A3.SS0.SSS0.Px2.p1.2.m2.1.1.1"></eq><ci id="A3.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="A3.SS0.SSS0.Px2.p1.2.m2.1.1.2">𝜆</ci><cn type="float" id="A3.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="A3.SS0.SSS0.Px2.p1.2.m2.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS0.SSS0.Px2.p1.2.m2.1c">\lambda=0.1</annotation></semantics></math>.</p>
</div>
<div id="A3.SS0.SSS0.Px2.p2" class="ltx_para">
<p id="A3.SS0.SSS0.Px2.p2.1" class="ltx_p">We perform experiments on ImageNet1k <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> (denoted as IN1k) and show the results in Table <a href="#A3.T13" title="Table 13 ‣ Effect of input resolution of image-text pairs. ‣ Appendix C More Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>. 2 settings are considered: 1. we train IN1k with only the detection data, i.e., O365; and 2. we incorporate IN1k into the final version of DetCLIPv2, i.e., all data including O365, CC15M, GoldG and IN1k are used. During training, we use the same image-text pair setting for IN1k and replicate IN1k by 3 times to make it have a similar size to CC3M.</p>
</div>
<div id="A3.SS0.SSS0.Px2.p3" class="ltx_para">
<p id="A3.SS0.SSS0.Px2.p3.1" class="ltx_p">First, incorporating classification data when using only detection data can significantly improve the performance from 28.6 to 30.4 (rows 1 and 2), especially for rare categories (from 24.4 to 32.2 AP, +8 AP), yet it is slightly worse than using CC3M in terms of overall AP (rows 2 and 3). However, when all data are used, the advantage of IN1k diminishes, i.e., it brings only 0.2 overall AP for Swin-T-based model (rows 4 and 5) and no performance gain is observed for Swin-L-based model (rows 6 and 7). Therefore, we exclude the classification data from our method to keep it as neat as possible.</p>
</div>
</section>
<section id="A3.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">More results on LVIS.</h5>

<div id="A3.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="A3.SS0.SSS0.Px3.p1.1" class="ltx_p">To make a comprehensive comparison with the existing methods, we also evaluate DetCLIPv2 with the complete validation set of LVIS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> (including 20k images with 1203 categories), on both zero-shot and fine-tuning settings. Table <a href="#A3.T14" title="Table 14 ‣ Effect of input resolution of image-text pairs. ‣ Appendix C More Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a> exhibits the results. DetCLIPv2 outperforms GLIP and DetCLIP by a large margin for both T/L models, e.g., DetCLIP-T surpasses GLIP-T/DetCLIP-T by 15.6/4.4 AP, respectively. Besides, by pre-training on large-scale hybrid data and fine-tuning on LVIS, DetCLIPv2 achieves significant improvements over the fully-supervised method, i.e., about 15 overall AP improvement can be observed for both T/L models.</p>
</div>
</section>
<section id="A3.SS0.SSS0.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Detailed fine-tuning results for ODinW13.</h5>

<div id="A3.SS0.SSS0.Px4.p1" class="ltx_para">
<p id="A3.SS0.SSS0.Px4.p1.1" class="ltx_p">Table <a href="#A3.T15" title="Table 15 ‣ Effect of input resolution of image-text pairs. ‣ Appendix C More Experimental Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">15</span></a> reports the detailed fine-tuning performance for 13 datasets contained in ODinW13, and we make a comparison between DetCLIPv2 and GLIP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>/GLIPv2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>. DetCLIPv2-L/T surpass their GLIP<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>/GLIPv2<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite> counterparts on average AP over 13 datasets.</p>
</div>
</section>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>More Visualization Results</h2>

<div id="A4.p1" class="ltx_para">
<p id="A4.p1.1" class="ltx_p">Figure <a href="#S4.F4" title="Figure 4 ‣ Appendix D More Visualization Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and <a href="#A4.F5" title="Figure 1-b ‣ Appendix D More Visualization Results ‣ DetCLIPv2: Scalable Open-Vocabulary Object Detection Pre-training via Word-Region Alignment" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1-b</span></a> provide more visualization examples of word-region alignment learnt by DetCLIPv2, using the images from CC12M. As mentioned in the main paper, we find the optimal-match region in the image for each textual concept in the caption. As can be seen, DetCLIPv2 learns to recognize and locate various concepts with broad domain coverage, including comic objects (i.e., Monkey King, Santa Claus, etc.), abstract concepts (i.e., ‘man’s best friend’ means a dog) and many concepts that are not covered by the detection/grounding data (i.e., tensioner, tattoos, lifebuoy and etc.), which demonstrates the effectiveness of learning from massive image-text pairs.</p>
</div>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2304.04514/assets/x4.png" id="S4.F4.1.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="528" height="684" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.4.1.1" class="ltx_text" style="font-size:90%;">Figure 1-a</span>: </span><span id="S4.F4.5.2" class="ltx_text ltx_font_bold" style="font-size:90%;">More visualizations for word-region alignment<span id="S4.F4.5.2.1" class="ltx_text ltx_font_medium">. DetCLIPv2 learns word-region alignment with broad domain coverage.</span></span></figcaption>
</figure>
<figure id="A4.F5" class="ltx_figure"><img src="/html/2304.04514/assets/x5.png" id="A4.F5.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="528" height="684" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A4.F5.3.1.1" class="ltx_text" style="font-size:90%;">Figure 1-b</span>: </span><span id="A4.F5.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">More visualizations for word-region alignment (cont.)<span id="A4.F5.4.2.1" class="ltx_text ltx_font_medium">. DetCLIPv2 learns word-region alignment with broad domain coverage.</span></span></figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography" style="font-size:90%;">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock"><span id="bib.bib1.1.1" class="ltx_text" style="font-size:90%;">
Peter Anderson, Xiaodong He, Chris Buehler, Damien Teney, Mark Johnson, Stephen
Gould, and Lei Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.2.1" class="ltx_text" style="font-size:90%;">Bottom-up and top-down attention for image captioning and visual
question answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib1.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib1.5.3" class="ltx_text" style="font-size:90%;">, pages 6077–6086, 2018.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_text" style="font-size:90%;">
Stanislaw Antol, Aishwarya Agrawal, Jiasen Lu, Margaret Mitchell, Dhruv Batra,
C Lawrence Zitnick, and Devi Parikh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.2.1" class="ltx_text" style="font-size:90%;">Vqa: Visual question answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib2.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE international conference on computer
vision</span><span id="bib.bib2.5.3" class="ltx_text" style="font-size:90%;">, pages 2425–2433, 2015.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_text" style="font-size:90%;">
Hakan Bilen and Andrea Vedaldi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.2.1" class="ltx_text" style="font-size:90%;">Weakly supervised deep detection networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib3.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib3.5.3" class="ltx_text" style="font-size:90%;">, pages 2846–2854, 2016.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text" style="font-size:90%;">
Tom B Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared Kaplan, Prafulla
Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell,
et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.2.1" class="ltx_text" style="font-size:90%;">Language models are few-shot learners.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib4.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS</span><span id="bib.bib4.5.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text" style="font-size:90%;">
Zhaowei Cai, Gukyeong Kwon, Avinash Ravichandran, Erhan Bas, Zhuowen Tu, Rahul
Bhotika, and Stefano Soatto.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.2.1" class="ltx_text" style="font-size:90%;">X-detr: A versatile architecture for instance-wise vision-language
tasks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2204.05626</span><span id="bib.bib5.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text" style="font-size:90%;">
Nicolas Carion, Francisco Massa, Gabriel Synnaeve, Nicolas Usunier, Alexander
Kirillov, and Sergey Zagoruyko.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.2.1" class="ltx_text" style="font-size:90%;">End-to-end object detection with transformers.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib6.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ECCV</span><span id="bib.bib6.5.3" class="ltx_text" style="font-size:90%;">, pages 213–229. Springer, 2020.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text" style="font-size:90%;">
Soravit Changpinyo, Piyush Sharma, Nan Ding, and Radu Soricut.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.2.1" class="ltx_text" style="font-size:90%;">Conceptual 12M: Pushing web-scale image-text pre-training to
recognize long-tail visual concepts.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib7.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib7.5.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text" style="font-size:90%;">
Kai Chen, Jiaqi Wang, Jiangmiao Pang, Yuhang Cao, Yu Xiong, Xiaoxiao Li,
Shuyang Sun, Wansen Feng, Ziwei Liu, Jiarui Xu, Zheng Zhang, Dazhi Cheng,
Chenchen Zhu, Tianheng Cheng, Qijie Zhao, Buyu Li, Xin Lu, Rui Zhu, Yue Wu,
Jifeng Dai, Jingdong Wang, Jianping Shi, Wanli Ouyang, Chen Change Loy, and
Dahua Lin.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.2.1" class="ltx_text" style="font-size:90%;">MMDetection: Open mmlab detection toolbox and benchmark.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1906.07155</span><span id="bib.bib8.4.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text" style="font-size:90%;">
Tianqi Chen, Bing Xu, Chiyuan Zhang, and Carlos Guestrin.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.2.1" class="ltx_text" style="font-size:90%;">Training deep nets with sublinear memory cost.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.3.1" class="ltx_text" style="font-size:90%;">preprint arXiv:1604.06174, 2016.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text" style="font-size:90%;">
Ze Chen, Zhihang Fu, Rongxin Jiang, Yaowu Chen, and Xian-Sheng Hua.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.2.1" class="ltx_text" style="font-size:90%;">Slv: Spatial likelihood voting for weakly supervised object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib10.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib10.5.3" class="ltx_text" style="font-size:90%;">, pages 12995–13004, 2020.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text" style="font-size:90%;">
Xiyang Dai, Yinpeng Chen, Bin Xiao, Dongdong Chen, Mengchen Liu, Lu Yuan, and
Lei Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.2.1" class="ltx_text" style="font-size:90%;">Dynamic head: Unifying object detection heads with attentions.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib11.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib11.5.3" class="ltx_text" style="font-size:90%;">, pages 7373–7382, 2021.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text" style="font-size:90%;">
Achal Dave, Piotr Dollár, Deva Ramanan, Alexander Kirillov, and Ross
Girshick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.2.1" class="ltx_text" style="font-size:90%;">Evaluating large-vocabulary object detectors: The devil is in the
details.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2102.01066</span><span id="bib.bib12.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text" style="font-size:90%;">
Jia Deng, Wei Dong, Richard Socher, Li-Jia Li, Kai Li, and Li Fei-Fei.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.2.1" class="ltx_text" style="font-size:90%;">Imagenet: A large-scale hierarchical image database.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib13.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib13.5.3" class="ltx_text" style="font-size:90%;">, pages 248–255. Ieee, 2009.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock"><span id="bib.bib14.1.1" class="ltx_text" style="font-size:90%;">
Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.2.1" class="ltx_text" style="font-size:90%;">Bert: Pre-training of deep bidirectional transformers for language
understanding.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib14.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ACL</span><span id="bib.bib14.5.3" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock"><span id="bib.bib15.1.1" class="ltx_text" style="font-size:90%;">
Zi-Yi Dou, Aishwarya Kamath, Zhe Gan, Pengchuan Zhang, Jianfeng Wang, Linjie
Li, Zicheng Liu, Ce Liu, Yann LeCun, Nanyun Peng, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.2.1" class="ltx_text" style="font-size:90%;">Coarse-to-fine vision-language pre-training with fusion in the
backbone.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2206.07643</span><span id="bib.bib15.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text" style="font-size:90%;">
Dario Fontanel, Matteo Tarantino, Fabio Cermelli, and Barbara Caputo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.2.1" class="ltx_text" style="font-size:90%;">Detecting the unknown in object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2208.11641</span><span id="bib.bib16.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text" style="font-size:90%;">
Mingfei Gao, Chen Xing, Juan Carlos Niebles, Junnan Li, Ran Xu, Wenhao Liu, and
Caiming Xiong.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.2.1" class="ltx_text" style="font-size:90%;">Towards open vocabulary object detection without human-provided
bounding boxes.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2111.09452</span><span id="bib.bib17.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text" style="font-size:90%;">
Peng Gao, Zhengkai Jiang, Haoxuan You, Pan Lu, Steven CH Hoi, Xiaogang Wang,
and Hongsheng Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.2.1" class="ltx_text" style="font-size:90%;">Dynamic fusion with intra-and inter-modality attention flow for
visual question answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib18.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib18.5.3" class="ltx_text" style="font-size:90%;">, pages 6639–6648, 2019.
</span>
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text" style="font-size:90%;">
Xiuye Gu, Tsung-Yi Lin, Weicheng Kuo, and Yin Cui.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.2.1" class="ltx_text" style="font-size:90%;">Open-vocabulary object detection via vision and language knowledge
distillation.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2104.13921</span><span id="bib.bib19.4.2" class="ltx_text" style="font-size:90%;">, 2, 2021.
</span>
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text" style="font-size:90%;">
Agrim Gupta, Piotr Dollar, and Ross Girshick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.2.1" class="ltx_text" style="font-size:90%;">Lvis: A dataset for large vocabulary instance segmentation.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib20.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib20.5.3" class="ltx_text" style="font-size:90%;">, pages 5356–5364, 2019.
</span>
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock"><span id="bib.bib21.1.1" class="ltx_text" style="font-size:90%;">
Matthew Honnibal, Ines Montani, Sofie Van Landeghem, and Adriane Boyd.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.2.1" class="ltx_text" style="font-size:90%;">spaCy: Industrial-strength Natural Language Processing in Python.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.3.1" class="ltx_text" style="font-size:90%;">2020.
</span>
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock"><span id="bib.bib22.1.1" class="ltx_text" style="font-size:90%;">
Matthew Inkawhich, Nathan Inkawhich, Hai Li, and Yiran Chen.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.2.1" class="ltx_text" style="font-size:90%;">Self-trained proposal networks for the open world.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2208.11050</span><span id="bib.bib22.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock"><span id="bib.bib23.1.1" class="ltx_text" style="font-size:90%;">
Chao Jia, Yinfei Yang, Ye Xia, Yi-Ting Chen, Zarana Parekh, Hieu Pham, Quoc V
Le, Yunhsuan Sung, Zhen Li, and Tom Duerig.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.2.1" class="ltx_text" style="font-size:90%;">Scaling up visual and vision-language representation learning with
noisy text supervision.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib23.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICML</span><span id="bib.bib23.5.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock"><span id="bib.bib24.1.1" class="ltx_text" style="font-size:90%;">
Borui Jiang, Ruixuan Luo, Jiayuan Mao, Tete Xiao, and Yuning Jiang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.2.1" class="ltx_text" style="font-size:90%;">Acquisition of localization confidence for accurate object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib24.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ECCV</span><span id="bib.bib24.5.3" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock"><span id="bib.bib25.1.1" class="ltx_text" style="font-size:90%;">
Aishwarya Kamath, Mannat Singh, Yann LeCun, Gabriel Synnaeve, Ishan Misra, and
Nicolas Carion.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.2.1" class="ltx_text" style="font-size:90%;">Mdetr-modulated detection for end-to-end multi-modal understanding.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib25.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib25.5.3" class="ltx_text" style="font-size:90%;">, pages 1780–1790, 2021.
</span>
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock"><span id="bib.bib26.1.1" class="ltx_text" style="font-size:90%;">
Dahun Kim, Tsung-Yi Lin, Anelia Angelova, In So Kweon, and Weicheng Kuo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.2.1" class="ltx_text" style="font-size:90%;">Learning open-world object proposals without learning to classify.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">IEEE Robotics and Automation Letters</span><span id="bib.bib26.4.2" class="ltx_text" style="font-size:90%;">, 7(2):5453–5460, 2022.
</span>
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock"><span id="bib.bib27.1.1" class="ltx_text" style="font-size:90%;">
Wonjae Kim, Bokyung Son, and Ildoo Kim.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.2.1" class="ltx_text" style="font-size:90%;">Vilt: Vision-and-language transformer without convolution or region
supervision.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib27.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICML</span><span id="bib.bib27.5.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock"><span id="bib.bib28.1.1" class="ltx_text" style="font-size:90%;">
Junnan Li, Dongxu Li, Caiming Xiong, and Steven Hoi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.2.1" class="ltx_text" style="font-size:90%;">Blip: Bootstrapping language-image pre-training for unified
vision-language understanding and generation.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2201.12086</span><span id="bib.bib28.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock"><span id="bib.bib29.1.1" class="ltx_text" style="font-size:90%;">
Kaican Li, Kai Chen, Haoyu Wang, Lanqing Hong, Chaoqiang Ye, Jianhua Han,
Yukuai Chen, Wei Zhang, Chunjing Xu, Dit-Yan Yeung, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.2.1" class="ltx_text" style="font-size:90%;">Coda: A real-world road corner case dataset for object detection in
autonomous driving.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv e-prints</span><span id="bib.bib29.4.2" class="ltx_text" style="font-size:90%;">, pages arXiv–2203, 2022.
</span>
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock"><span id="bib.bib30.1.1" class="ltx_text" style="font-size:90%;">
Liunian Harold Li, Pengchuan Zhang, Haotian Zhang, Jianwei Yang, Chunyuan Li,
Yiwu Zhong, Lijuan Wang, Lu Yuan, Lei Zhang, Jenq-Neng Hwang, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.2.1" class="ltx_text" style="font-size:90%;">Grounded language-image pre-training.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2112.03857</span><span id="bib.bib30.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock"><span id="bib.bib31.1.1" class="ltx_text" style="font-size:90%;">
Xiujun Li, Xi Yin, Chunyuan Li, Pengchuan Zhang, Xiaowei Hu, Lei Zhang, Lijuan
Wang, Houdong Hu, Li Dong, Furu Wei, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.2.1" class="ltx_text" style="font-size:90%;">Oscar: Object-semantics aligned pre-training for vision-language
tasks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib31.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ECCV</span><span id="bib.bib31.5.3" class="ltx_text" style="font-size:90%;">, pages 121–137. Springer, 2020.
</span>
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock"><span id="bib.bib32.1.1" class="ltx_text" style="font-size:90%;">
Tsung-Yi Lin, Michael Maire, Serge Belongie, James Hays, Pietro Perona, Deva
Ramanan, Piotr Dollár, and C Lawrence Zitnick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.2.1" class="ltx_text" style="font-size:90%;">Microsoft coco: Common objects in context.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib32.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ECCV</span><span id="bib.bib32.5.3" class="ltx_text" style="font-size:90%;">, 2014.
</span>
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock"><span id="bib.bib33.1.1" class="ltx_text" style="font-size:90%;">
Wei Liu, Sihan Chen, Longteng Guo, Xinxin Zhu, and Jing Liu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.2.1" class="ltx_text" style="font-size:90%;">Cptr: Full transformer network for image captioning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2101.10804</span><span id="bib.bib33.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock"><span id="bib.bib34.1.1" class="ltx_text" style="font-size:90%;">
Ze Liu, Yutong Lin, Yue Cao, Han Hu, Yixuan Wei, Zheng Zhang, Stephen Lin, and
Baining Guo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.2.1" class="ltx_text" style="font-size:90%;">Swin transformer: Hierarchical vision transformer using shifted
windows.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib34.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib34.5.3" class="ltx_text" style="font-size:90%;">, pages 10012–10022, 2021.
</span>
</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock"><span id="bib.bib35.1.1" class="ltx_text" style="font-size:90%;">
Ilya Loshchilov and Frank Hutter.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.2.1" class="ltx_text" style="font-size:90%;">Decoupled weight decay regularization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib35.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICLR</span><span id="bib.bib35.5.3" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock"><span id="bib.bib36.1.1" class="ltx_text" style="font-size:90%;">
Jinjie Mai, Meng Yang, and Wenfeng Luo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib36.2.1" class="ltx_text" style="font-size:90%;">Erasing integrated learning: A simple yet effective approach for
weakly supervised object localization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib36.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib36.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib36.5.3" class="ltx_text" style="font-size:90%;">, pages 8766–8775, 2020.
</span>
</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock"><span id="bib.bib37.1.1" class="ltx_text" style="font-size:90%;">
Paulius Micikevicius, Sharan Narang, Jonah Alben, Gregory Diamos, Erich Elsen,
David Garcia, Boris Ginsburg, Michael Houston, Oleksii Kuchaiev, Ganesh
Venkatesh, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib37.2.1" class="ltx_text" style="font-size:90%;">Mixed precision training.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib37.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib37.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICLR</span><span id="bib.bib37.5.3" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock"><span id="bib.bib38.1.1" class="ltx_text" style="font-size:90%;">
Alec Radford, Jong Wook Kim, Chris Hallacy, Aditya Ramesh, Gabriel Goh,
Sandhini Agarwal, Girish Sastry, Amanda Askell, Pamela Mishkin, Jack Clark,
et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.2.1" class="ltx_text" style="font-size:90%;">Learning transferable visual models from natural language
supervision.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib38.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICML</span><span id="bib.bib38.5.3" class="ltx_text" style="font-size:90%;">, pages 8748–8763. PMLR, 2021.
</span>
</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock"><span id="bib.bib39.1.1" class="ltx_text" style="font-size:90%;">
Alec Radford, Jeffrey Wu, Rewon Child, David Luan, Dario Amodei, Ilya
Sutskever, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib39.2.1" class="ltx_text" style="font-size:90%;">Language models are unsupervised multitask learners.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib39.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">OpenAI blog</span><span id="bib.bib39.4.2" class="ltx_text" style="font-size:90%;">, 1(8):9, 2019.
</span>
</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock"><span id="bib.bib40.1.1" class="ltx_text" style="font-size:90%;">
Joseph Redmon, Santosh Divvala, Ross Girshick, and Ali Farhadi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib40.2.1" class="ltx_text" style="font-size:90%;">You only look once: Unified, real-time object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib40.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib40.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib40.5.3" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock"><span id="bib.bib41.1.1" class="ltx_text" style="font-size:90%;">
Shaoqing Ren, Kaiming He, Ross Girshick, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib41.2.1" class="ltx_text" style="font-size:90%;">Faster r-cnn: Towards real-time object detection with region proposal
networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib41.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib41.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS</span><span id="bib.bib41.5.3" class="ltx_text" style="font-size:90%;">, 2015.
</span>
</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock"><span id="bib.bib42.1.1" class="ltx_text" style="font-size:90%;">
Hamid Rezatofighi, Nathan Tsoi, JunYoung Gwak, Amir Sadeghian, Ian Reid, and
Silvio Savarese.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib42.2.1" class="ltx_text" style="font-size:90%;">Generalized intersection over union: A metric and a loss for bounding
box regression.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib42.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib42.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib42.5.3" class="ltx_text" style="font-size:90%;">, pages 658–666, 2019.
</span>
</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock"><span id="bib.bib43.1.1" class="ltx_text" style="font-size:90%;">
Shuai Shao, Zeming Li, Tianyuan Zhang, Chao Peng, Gang Yu, Xiangyu Zhang, Jing
Li, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib43.2.1" class="ltx_text" style="font-size:90%;">Objects365: A large-scale, high-quality dataset for object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib43.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib43.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib43.5.3" class="ltx_text" style="font-size:90%;">, pages 8430–8439, 2019.
</span>
</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock"><span id="bib.bib44.1.1" class="ltx_text" style="font-size:90%;">
Piyush Sharma, Nan Ding, Sebastian Goodman, and Radu Soricut.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib44.2.1" class="ltx_text" style="font-size:90%;">Conceptual captions: A cleaned, hypernymed, image alt-text dataset
for automatic image captioning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib44.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib44.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ACL</span><span id="bib.bib44.5.3" class="ltx_text" style="font-size:90%;">, pages 2556–2565, 2018.
</span>
</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock"><span id="bib.bib45.1.1" class="ltx_text" style="font-size:90%;">
Kihyuk Sohn, Zizhao Zhang, Chun-Liang Li, Han Zhang, Chen-Yu Lee, and Tomas
Pfister.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib45.2.1" class="ltx_text" style="font-size:90%;">A simple semi-supervised learning framework for object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib45.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2005.04757</span><span id="bib.bib45.4.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[46]</span>
<span class="ltx_bibblock"><span id="bib.bib46.1.1" class="ltx_text" style="font-size:90%;">
Peng Tang, Chetan Ramaiah, Yan Wang, Ran Xu, and Caiming Xiong.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib46.2.1" class="ltx_text" style="font-size:90%;">Proposal learning for semi-supervised object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib46.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib46.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">WACV</span><span id="bib.bib46.5.3" class="ltx_text" style="font-size:90%;">, pages 2291–2301, 2021.
</span>
</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[47]</span>
<span class="ltx_bibblock"><span id="bib.bib47.1.1" class="ltx_text" style="font-size:90%;">
Rohan Taori, Achal Dave, Vaishaal Shankar, Nicholas Carlini, Benjamin Recht,
and Ludwig Schmidt.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib47.2.1" class="ltx_text" style="font-size:90%;">Measuring robustness to natural distribution shifts in image
classification.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib47.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib47.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS</span><span id="bib.bib47.5.3" class="ltx_text" style="font-size:90%;">, volume 33, pages 18583–18599, 2020.
</span>
</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[48]</span>
<span class="ltx_bibblock"><span id="bib.bib48.1.1" class="ltx_text" style="font-size:90%;">
Zhi Tian, Chunhua Shen, Hao Chen, and Tong He.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib48.2.1" class="ltx_text" style="font-size:90%;">Fcos: Fully convolutional one-stage object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib48.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib48.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib48.5.3" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[49]</span>
<span class="ltx_bibblock"><span id="bib.bib49.1.1" class="ltx_text" style="font-size:90%;">
Johnathan Xie and Shuai Zheng.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib49.2.1" class="ltx_text" style="font-size:90%;">Zsd-yolo: Zero-shot yolo detection using vision-language knowledge
distillation.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib49.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2109.12066</span><span id="bib.bib49.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[50]</span>
<span class="ltx_bibblock"><span id="bib.bib50.1.1" class="ltx_text" style="font-size:90%;">
Kelvin Xu, Jimmy Ba, Ryan Kiros, Kyunghyun Cho, Aaron Courville, Ruslan
Salakhudinov, Rich Zemel, and Yoshua Bengio.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib50.2.1" class="ltx_text" style="font-size:90%;">Show, attend and tell: Neural image caption generation with visual
attention.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib50.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib50.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICML</span><span id="bib.bib50.5.3" class="ltx_text" style="font-size:90%;">, pages 2048–2057. PMLR, 2015.
</span>
</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[51]</span>
<span class="ltx_bibblock"><span id="bib.bib51.1.1" class="ltx_text" style="font-size:90%;">
Mengde Xu, Zheng Zhang, Han Hu, Jianfeng Wang, Lijuan Wang, Fangyun Wei, Xiang
Bai, and Zicheng Liu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib51.2.1" class="ltx_text" style="font-size:90%;">End-to-end semi-supervised object detection with soft teacher.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib51.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib51.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICCV</span><span id="bib.bib51.5.3" class="ltx_text" style="font-size:90%;">, pages 3060–3069, 2021.
</span>
</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[52]</span>
<span class="ltx_bibblock"><span id="bib.bib52.1.1" class="ltx_text" style="font-size:90%;">
Jianwei Yang, Jiasen Lu, Dhruv Batra, and Devi Parikh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib52.2.1" class="ltx_text" style="font-size:90%;">A faster pytorch implementation of faster r-cnn.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib52.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">https://github.com/jwyang/faster-rcnn.pytorch</span><span id="bib.bib52.4.2" class="ltx_text" style="font-size:90%;">, 2017.
</span>
</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[53]</span>
<span class="ltx_bibblock"><span id="bib.bib53.1.1" class="ltx_text" style="font-size:90%;">
Lewei Yao, Jianhua Han, Youpeng Wen, Xiaodan Liang, Dan Xu, Wei Zhang, Zhenguo
Li, Chunjing Xu, and Hang Xu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib53.2.1" class="ltx_text" style="font-size:90%;">Detclip: Dictionary-enriched visual-concept paralleled pre-training
for open-world detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib53.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2209.09407</span><span id="bib.bib53.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[54]</span>
<span class="ltx_bibblock"><span id="bib.bib54.1.1" class="ltx_text" style="font-size:90%;">
Lewei Yao, Runhui Huang, Lu Hou, Guansong Lu, Minzhe Niu, Hang Xu, Xiaodan
Liang, Zhenguo Li, Xin Jiang, and Chunjing Xu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib54.2.1" class="ltx_text" style="font-size:90%;">Filip: Fine-grained interactive language-image pre-training.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib54.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib54.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ICLR</span><span id="bib.bib54.5.3" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[55]</span>
<span class="ltx_bibblock"><span id="bib.bib55.1.1" class="ltx_text" style="font-size:90%;">
Ting Yao, Yingwei Pan, Yehao Li, and Tao Mei.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib55.2.1" class="ltx_text" style="font-size:90%;">Exploring visual relationship for image captioning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib55.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib55.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">ECCV</span><span id="bib.bib55.5.3" class="ltx_text" style="font-size:90%;">, pages 684–699, 2018.
</span>
</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[56]</span>
<span class="ltx_bibblock"><span id="bib.bib56.1.1" class="ltx_text" style="font-size:90%;">
Yuhang Zang, Wei Li, Kaiyang Zhou, Chen Huang, and Chen Change Loy.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib56.2.1" class="ltx_text" style="font-size:90%;">Open-vocabulary detr with conditional matching.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib56.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2203.11876</span><span id="bib.bib56.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[57]</span>
<span class="ltx_bibblock"><span id="bib.bib57.1.1" class="ltx_text" style="font-size:90%;">
Haotian Zhang, Pengchuan Zhang, Xiaowei Hu, Yen-Chun Chen, Liunian Harold Li,
Xiyang Dai, Lijuan Wang, Lu Yuan, Jenq-Neng Hwang, and Jianfeng Gao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib57.2.1" class="ltx_text" style="font-size:90%;">Glipv2: Unifying localization and vision-language understanding.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib57.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2206.05836</span><span id="bib.bib57.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[58]</span>
<span class="ltx_bibblock"><span id="bib.bib58.1.1" class="ltx_text" style="font-size:90%;">
Shifeng Zhang, Cheng Chi, Yongqiang Yao, Zhen Lei, and Stan Z Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib58.2.1" class="ltx_text" style="font-size:90%;">Bridging the gap between anchor-based and anchor-free detection via
adaptive training sample selection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib58.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib58.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib58.5.3" class="ltx_text" style="font-size:90%;">, pages 9759–9768, 2020.
</span>
</span>
</li>
<li id="bib.bib59" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[59]</span>
<span class="ltx_bibblock"><span id="bib.bib59.1.1" class="ltx_text" style="font-size:90%;">
Yiwu Zhong, Jianwei Yang, Pengchuan Zhang, Chunyuan Li, Noel Codella,
Liunian Harold Li, Luowei Zhou, Xiyang Dai, Lu Yuan, Yin Li, and Jianfeng
Gao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib59.2.1" class="ltx_text" style="font-size:90%;">Regionclip: Region-based language-image pretraining.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib59.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib59.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition (CVPR)</span><span id="bib.bib59.5.3" class="ltx_text" style="font-size:90%;">, pages 16793–16803, June 2022.
</span>
</span>
</li>
<li id="bib.bib60" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[60]</span>
<span class="ltx_bibblock"><span id="bib.bib60.1.1" class="ltx_text" style="font-size:90%;">
Xingyi Zhou, Rohit Girdhar, Armand Joulin, Phillip Krähenbühl, and
Ishan Misra.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib60.2.1" class="ltx_text" style="font-size:90%;">Detecting twenty-thousand classes using image-level supervision.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib60.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2201.02605</span><span id="bib.bib60.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib61" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[61]</span>
<span class="ltx_bibblock"><span id="bib.bib61.1.1" class="ltx_text" style="font-size:90%;">
Xizhou Zhu, Han Hu, Stephen Lin, and Jifeng Dai.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib61.2.1" class="ltx_text" style="font-size:90%;">Deformable convnets v2: More deformable, better results.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib61.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib61.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">CVPR</span><span id="bib.bib61.5.3" class="ltx_text" style="font-size:90%;">, pages 9308–9316, 2019.
</span>
</span>
</li>
<li id="bib.bib62" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[62]</span>
<span class="ltx_bibblock"><span id="bib.bib62.1.1" class="ltx_text" style="font-size:90%;">
Xizhou Zhu, Weijie Su, Lewei Lu, Bin Li, Xiaogang Wang, and Jifeng Dai.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib62.2.1" class="ltx_text" style="font-size:90%;">Deformable detr: Deformable transformers for end-to-end object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib62.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2010.04159</span><span id="bib.bib62.4.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib63" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[63]</span>
<span class="ltx_bibblock"><span id="bib.bib63.1.1" class="ltx_text" style="font-size:90%;">
Barret Zoph, Golnaz Ghiasi, Tsung-Yi Lin, Yin Cui, Hanxiao Liu, Ekin Dogus
Cubuk, and Quoc Le.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib63.2.1" class="ltx_text" style="font-size:90%;">Rethinking pre-training and self-training.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib63.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib63.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">NeurIPS</span><span id="bib.bib63.5.3" class="ltx_text" style="font-size:90%;">, volume 33, pages 3833–3845, 2020.
</span>
</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2304.04513" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2304.04514" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2304.04514">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2304.04514" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2304.04515" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Feb 29 15:18:11 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
