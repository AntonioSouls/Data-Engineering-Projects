<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2107.13263] Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization</title><meta property="og:description" content="Gastroendoscopy has been a clinical standard for diagnosing and treating conditions that affect a part of a patient’s digestive system, such as the stomach. Despite the fact that gastroendoscopy has a lot of advantages…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2107.13263">

<!--Generated on Tue Mar 19 13:39:20 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line" lang="en">
<h1 class="ltx_title ltx_font_bold ltx_title_document" style="font-size:173%;">Learning-Based Depth and Pose Estimation for Monocular Endoscope
<br class="ltx_break">with Loss Generalization
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Aji Resindra Widya<sup id="id10.10.id1" class="ltx_sup"><span id="id10.10.id1.1" class="ltx_text ltx_font_italic">1</span></sup>, Yusuke Monno<sup id="id11.11.id2" class="ltx_sup"><span id="id11.11.id2.1" class="ltx_text ltx_font_italic">1</span></sup>, Masatoshi Okutomi<sup id="id12.12.id3" class="ltx_sup"><span id="id12.12.id3.1" class="ltx_text ltx_font_italic">1</span></sup>,
<br class="ltx_break">Sho Suzuki<sup id="id13.13.id4" class="ltx_sup"><span id="id13.13.id4.1" class="ltx_text ltx_font_italic">2</span></sup>, Takuji Gotoda<sup id="id14.14.id5" class="ltx_sup"><span id="id14.14.id5.1" class="ltx_text ltx_font_italic">2</span></sup>, and Kenji Miki<sup id="id15.15.id6" class="ltx_sup"><span id="id15.15.id6.1" class="ltx_text ltx_font_italic">3</span></sup>
</span><span class="ltx_author_notes">This work was supported by JSPS KAKENHI Grant Number 17H00744 and 21K12737.<sup id="id16.16.id1" class="ltx_sup"><span id="id16.16.id1.1" class="ltx_text ltx_font_italic">1</span></sup>A. R. Widya, Y. Monno, and M. Okutomi are with the Department of Systems and Control Engineering, School of Engineering, Tokyo Institute of Technology, Meguro-ku, Tokyo 152-8550, Japan
(e-mail: aresindra@ok.sc.e.titech.ac.jp; ymonno@ok.sc.e.titech.ac.jp; mxo@sc.e.titech.ac.jp).<sup id="id17.17.id1" class="ltx_sup"><span id="id17.17.id1.1" class="ltx_text ltx_font_italic">2</span></sup>S. Suzuki and T. Gotoda are with the Division of Gastroenterology and Hepatology, Department of Medicine, Nihon University School of Medicine, Chiyoda-ku, Tokyo 101-8309, Japan.<sup id="id18.18.id1" class="ltx_sup"><span id="id18.18.id1.1" class="ltx_text ltx_font_italic">3</span></sup>K. Miki is with the Department of Internal Medicine, Tsujinaka Hospital Kashiwanoha, Kashiwa-city, Chiba 277-0871, Japan.</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id19.id1" class="ltx_p"><span id="id19.id1.1" class="ltx_text">Gastroendoscopy has been a clinical standard for diagnosing and treating conditions that affect a part of a patient’s digestive system, such as the stomach. Despite the fact that gastroendoscopy has a lot of advantages for patients, there exist some challenges for practitioners, such as the lack of 3D perception, including the depth and the endoscope pose information. Such challenges make navigating the endoscope and localizing any found lesion in a digestive tract difficult. To tackle these problems, deep learning-based approaches have been proposed to provide monocular gastroendoscopy with additional yet important depth and pose information.
In this paper, we propose a novel supervised approach to train depth and pose estimation networks using consecutive endoscopy images to assist the endoscope navigation in the stomach. We firstly generate real depth and pose training data using our previously proposed whole stomach 3D reconstruction pipeline to avoid poor generalization ability between computer-generated (CG) models and real data for the stomach. In addition, we propose a novel generalized photometric loss function to avoid the complicated process of finding proper weights for balancing the depth and the pose loss terms, which is required for existing direct depth and pose supervision approaches. We then experimentally show that our proposed generalized loss performs better than existing direct supervision losses.</span></p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Gastroendoscopy is one of the golden standards for finding and treating abnormalities inside a patient’s digestive tract, including the stomach. Even though gastroendoscopy gives enormous advantages for the patient, such as no need for invasive surgeries, it is known that there exist some challenges for medical practitioners, such as the loss of depth perception and the difficulty in assessing the endoscope pose. These challenges lead to difficulties in navigating and understanding the scene captured by the endoscope system, making the localization of a found lesion hard for the practitioners.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Previous studies have proposed to reconstruct the 3D model of a whole stomach with its texture <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> to provide a global view of the stomach and the estimated endoscope trajectory. It enables medical practitioners to perform a second inspection with more degree of freedom after an initial gastroendoscopy procedure. While the whole stomach 3D reconstruction provides the depth and the endoscope trajectory, the methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> cannot be done alongside the gastroendoscopy procedure in real-time.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Recent developments in endoscopy systems introduce a stereo camera to provide real-time depth information <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>. While the stereo endoscope solves the lack of depth perception,
a monocular endoscope is still the mainstream system in clinical practice. As an alternative to the stereo endoscope, deep learning-based approaches have been proposed to provide depth information for monocular endoscopy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">To effectively tackle the endoscope navigation and the lesion localization challenges, only providing depth information is not enough. Both continuous depth and pose information are needed to address these challenges appropriately. Both supervised and self-supervised deep-learning-based approaches are heavily adopted to address simultaneous depth and pose estimation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>.
A commonly used supervision approach is to take the direct Euclidean distance losses for the predicted depth and pose in comparison with the respective ground truths or references <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. In this approach, computer-generated (CG) and/or phantom models are commonly used for the training of depth and pose estimation networks, affecting the network generalization between CG and real data. In addition, the direct supervision approach needs balancing weights for depth and pose loss terms, which are difficult to search <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">As a self-supervised approach, the study <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> uses consecutive frames as the inputs to train the network to simultaneously predict depth and pose by minimizing the photometric error of a view synthesis problem (image warping between consecutive frames based on the predicted depth and pose).
Using the same principle, the study <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> trains a recurrent neural network to predict the depth and the pose and uses them as the inputs for standard SLAM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> for further refinement. Since it needs an additional hand-crafted method bootstrapped to the network architecture, this approach is not trainable in an end-to-end manner.
Even though a self-supervised training approach does not need labeled data for training and thus it is generally more convenient to train, its performance is yet to beat the supervised approach.</p>
</div>
<figure id="S1.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S1.F1.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.13263/assets/x1.png" id="S1.F1.sf1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="482" height="393" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S1.F1.sf1.3.2" class="ltx_text" style="font-size:90%;">Network structure <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S1.F1.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.13263/assets/x2.png" id="S1.F1.sf2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="332" height="300" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S1.F1.sf2.3.2" class="ltx_text" style="font-size:90%;">Self-supervised photometric loss <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S1.F1.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.13263/assets/x3.png" id="S1.F1.sf3.g1" class="ltx_graphics ltx_centering ltx_img_square" width="332" height="306" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.sf3.2.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S1.F1.sf3.3.2" class="ltx_text" style="font-size:90%;">Direct depth and pose supervision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> + photometric loss.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S1.F1.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.13263/assets/x4.png" id="S1.F1.sf4.g1" class="ltx_graphics ltx_centering ltx_img_square" width="332" height="306" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.sf4.2.1.1" class="ltx_text" style="font-size:90%;">(d)</span> </span><span id="S1.F1.sf4.3.2" class="ltx_text" style="font-size:90%;">Proposed generalized photometric loss.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S1.F1.3.2" class="ltx_text" style="font-size:90%;">The network structure which consists of depth and pose estimation networks is shown in (a). Figures (b)-(d) show the comparison between the
existing self-supervised photometric loss, the existing direct depth and pose supervision loss, and our proposed generalized photometric loss. In both (c) and (d), the loss in the purple-colored box is used for training the depth estimation network and the loss in the pink-colored box is used for training the pose estimation network. The existing depth and pose supervision approach trains the depth and the pose estimation networks by directly taking the Euclidean distance between the predicted depth and its reference and also between the predicted pose and its reference, respectively. This direct supervision approach needs balancing the weights for each loss term, which are difficult to search, because their physical meanings are different. In our proposed generalize loss, we adjusted our loss terms so that each of them has the same physical meaning, i.e., the photometric error. This generalization eliminates the need for the balancing weight search.</span></figcaption>
</figure>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">In this paper, we propose a supervised approach to simultaneously train depth and pose networks using consecutive images for monocular endoscopy of the stomach. To avoid the generalization problem between CG and real data, we apply the whole stomach 3D reconstruction pipeline <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> to generate reference depth and pose from real endoscope data for network training. Additionally, we propose a novel loss generalization by unifying the depth and the pose losses into a photometric error loss for our supervised training to avoid the necessity of delicate weight balancing between the depth and the pose losses. Finally, we show that our supervised training with a novel generalized loss function has better performance than the existing direct depth and pose supervision.
Our method achieves up to 60fps at test time for depth and pose predictions.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Materials and Methods</span>
</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Figure <a href="#S1.F1" title="Figure 1 ‣ I Introduction ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>(a) overviews the network structures used in our experiment and Figure 1(b)-(d) show how we train them using three different methods, i.e., an existing self-supervised photometric loss <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, an existing direct depth and pose losses <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> combined with the photometric loss, and our proposed generalized photometric loss.
In this section, we firstly explain the endoscope dataset (Section <a href="#S2.SS1" title="II-A Training data generation ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">II-A</span></span></a>). We then review the existing self-supervision and direct supervision methods (Section <a href="#S2.SS2" title="II-B Self-supervised depth and pose estimation ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">II-B</span></span></a>, <a href="#S2.SS3" title="II-C Supervised depth and pose estimation ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">II-C</span></span></a>). Finally, we explain our proposed loss generalization (Section <a href="#S2.SS4" title="II-D Loss generalization ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">II-D</span></span></a>).</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS1.4.1.1" class="ltx_text">II-A</span> </span><span id="S2.SS1.5.2" class="ltx_text ltx_font_italic">Training data generation</span>
</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">In this work, we used the same endoscope video dataset from our previous work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. We used six subjects’ endoscope videos undergone general gastroendoscopy procedure.
We then extracted all the image frames from all the videos and used them as training and testing data. The experimental protocol was approved by the research ethics committee of Tokyo Institute of Technology and Nihon University Hospital.</p>
</div>
<figure id="S2.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S2.F2.8" class="ltx_p ltx_figure_panel ltx_align_center"><span id="S2.F2.8.1" class="ltx_text">
<span id="S2.F2.8.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:400.3pt;height:414pt;vertical-align:-414.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<span id="S2.F2.8.1.1.1" class="ltx_p"><span id="S2.F2.8.1.1.1.1" class="ltx_text"></span></span>
</span></span></span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S2.F2.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.13263/assets/images/rgb-gt/20180830_15274.png" id="S2.F2.1.g1" class="ltx_graphics ltx_img_square" width="568" height="505" alt="Refer to caption">
<br class="ltx_break ltx_centering">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S2.F2.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.13263/assets/images/rgb-gt/20180830_15445.png" id="S2.F2.2.g1" class="ltx_graphics ltx_img_square" width="568" height="505" alt="Refer to caption">
<br class="ltx_break ltx_centering">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S2.F2.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.13263/assets/images/rgb-gt/20181225_08716.png" id="S2.F2.3.g1" class="ltx_graphics ltx_img_square" width="568" height="505" alt="Refer to caption">
<br class="ltx_break ltx_centering">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S2.F2.9" class="ltx_p ltx_figure_panel ltx_align_center"><span id="S2.F2.9.1" class="ltx_text">
<span id="S2.F2.9.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:400.3pt;height:475.8pt;vertical-align:-475.8pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<span id="S2.F2.9.1.1.1" class="ltx_p"><span id="S2.F2.9.1.1.1.1" class="ltx_text"></span></span>
</span></span></span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S2.F2.4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.13263/assets/images/rgb-gt/20180830_15274_depth_withbar.png" id="S2.F2.4.g1" class="ltx_graphics ltx_img_square" width="568" height="574" alt="Refer to caption">
<br class="ltx_break ltx_centering">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S2.F2.5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.13263/assets/images/rgb-gt/20180830_15445_depth_withbar.png" id="S2.F2.5.g1" class="ltx_graphics ltx_img_square" width="568" height="574" alt="Refer to caption">
<br class="ltx_break ltx_centering">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S2.F2.6" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.13263/assets/images/rgb-gt/20181225_08716_depth_withbar.png" id="S2.F2.6.g1" class="ltx_graphics ltx_img_square" width="568" height="574" alt="Refer to caption">
<br class="ltx_break ltx_centering">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F2.10.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S2.F2.11.2" class="ltx_text" style="font-size:90%;">Some examples of the generated reference depth based on the estimated camera poses and the obtained whole stomach 3D model using <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. We can see that the generated reference depth images reflect the structures seen in the color images.</span></figcaption>
</figure>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">For the direct supervision (Section <a href="#S2.SS3" title="II-C Supervised depth and pose estimation ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">II-C</span></span></a>) and the proposed loss generalization (Section <a href="#S2.SS4" title="II-D Loss generalization ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">II-D</span></span></a>) methods, we used the previously extracted real endoscope image frames to generate the reference depth and pose. For this purpose, we firstly applied the whole stomach 3D reconstruction pipeline <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> and then extracted the reference depth and pose from the generated whole stomach 3D model and the estimated endoscope poses.
Figure <a href="#S2.F2" title="Figure 2 ‣ II-A Training data generation ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows some of the RGB images and the generated reference depths. We used the generated reference depth and pose for both training and testing.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS2.4.1.1" class="ltx_text">II-B</span> </span><span id="S2.SS2.5.2" class="ltx_text ltx_font_italic">Self-supervised depth and pose estimation</span>
</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">Our depth and pose estimation networks are inspired by monodepth2 architecture <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> shown in Figure <a href="#S1.F1" title="Figure 1 ‣ I Introduction ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>(a). It consists of two separate networks, each for depth and pose estimation purpose. Both networks are trained together to learn a view-synthesis problem, i.e., to predict the appearance of a target image given a view point of another image by minimizing its photometric error.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.4" class="ltx_p">Let <math id="S2.SS2.p2.1.m1.1" class="ltx_Math" alttext="I_{t}" display="inline"><semantics id="S2.SS2.p2.1.m1.1a"><msub id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml"><mi id="S2.SS2.p2.1.m1.1.1.2" xref="S2.SS2.p2.1.m1.1.1.2.cmml">I</mi><mi id="S2.SS2.p2.1.m1.1.1.3" xref="S2.SS2.p2.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.1b"><apply id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p2.1.m1.1.1.2.cmml" xref="S2.SS2.p2.1.m1.1.1.2">𝐼</ci><ci id="S2.SS2.p2.1.m1.1.1.3.cmml" xref="S2.SS2.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.1c">I_{t}</annotation></semantics></math> be a target frame and <math id="S2.SS2.p2.2.m2.1" class="ltx_Math" alttext="I_{t^{\prime}}" display="inline"><semantics id="S2.SS2.p2.2.m2.1a"><msub id="S2.SS2.p2.2.m2.1.1" xref="S2.SS2.p2.2.m2.1.1.cmml"><mi id="S2.SS2.p2.2.m2.1.1.2" xref="S2.SS2.p2.2.m2.1.1.2.cmml">I</mi><msup id="S2.SS2.p2.2.m2.1.1.3" xref="S2.SS2.p2.2.m2.1.1.3.cmml"><mi id="S2.SS2.p2.2.m2.1.1.3.2" xref="S2.SS2.p2.2.m2.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p2.2.m2.1.1.3.3" xref="S2.SS2.p2.2.m2.1.1.3.3.cmml">′</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.2.m2.1b"><apply id="S2.SS2.p2.2.m2.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.2.m2.1.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S2.SS2.p2.2.m2.1.1.2.cmml" xref="S2.SS2.p2.2.m2.1.1.2">𝐼</ci><apply id="S2.SS2.p2.2.m2.1.1.3.cmml" xref="S2.SS2.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p2.2.m2.1.1.3.1.cmml" xref="S2.SS2.p2.2.m2.1.1.3">superscript</csymbol><ci id="S2.SS2.p2.2.m2.1.1.3.2.cmml" xref="S2.SS2.p2.2.m2.1.1.3.2">𝑡</ci><ci id="S2.SS2.p2.2.m2.1.1.3.3.cmml" xref="S2.SS2.p2.2.m2.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.2.m2.1c">I_{t^{\prime}}</annotation></semantics></math> be a source frame. The objective of the network is to minimize a photometric error <span id="S2.SS2.p2.4.1" class="ltx_text ltx_font_italic">pe</span> between a target frame and a warped source frame.
In general, a photometric error <span id="S2.SS2.p2.4.2" class="ltx_text ltx_font_italic">pe</span> between two images <math id="S2.SS2.p2.3.m3.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S2.SS2.p2.3.m3.1a"><mi id="S2.SS2.p2.3.m3.1.1" xref="S2.SS2.p2.3.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.3.m3.1b"><ci id="S2.SS2.p2.3.m3.1.1.cmml" xref="S2.SS2.p2.3.m3.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.3.m3.1c">A</annotation></semantics></math> and <math id="S2.SS2.p2.4.m4.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S2.SS2.p2.4.m4.1a"><mi id="S2.SS2.p2.4.m4.1.1" xref="S2.SS2.p2.4.m4.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.4.m4.1b"><ci id="S2.SS2.p2.4.m4.1.1.cmml" xref="S2.SS2.p2.4.m4.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.4.m4.1c">B</annotation></semantics></math> can be defined using pixel value difference (L1) and structural similarity index measure (SSIM) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> such that</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.7" class="ltx_Math" alttext="pe(A,B)=\frac{\alpha}{2}(1-\textrm{SSIM}(A,B))+(1-\alpha)\|A-B\|_{1}" display="block"><semantics id="S2.E1.m1.7a"><mrow id="S2.E1.m1.7.7" xref="S2.E1.m1.7.7.cmml"><mrow id="S2.E1.m1.7.7.5" xref="S2.E1.m1.7.7.5.cmml"><mi id="S2.E1.m1.7.7.5.2" xref="S2.E1.m1.7.7.5.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.5.1" xref="S2.E1.m1.7.7.5.1.cmml">​</mo><mi id="S2.E1.m1.7.7.5.3" xref="S2.E1.m1.7.7.5.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.5.1a" xref="S2.E1.m1.7.7.5.1.cmml">​</mo><mrow id="S2.E1.m1.7.7.5.4.2" xref="S2.E1.m1.7.7.5.4.1.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.5.4.2.1" xref="S2.E1.m1.7.7.5.4.1.cmml">(</mo><mi id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml">A</mi><mo id="S2.E1.m1.7.7.5.4.2.2" xref="S2.E1.m1.7.7.5.4.1.cmml">,</mo><mi id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml">B</mi><mo stretchy="false" id="S2.E1.m1.7.7.5.4.2.3" xref="S2.E1.m1.7.7.5.4.1.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.7.7.4" xref="S2.E1.m1.7.7.4.cmml">=</mo><mrow id="S2.E1.m1.7.7.3" xref="S2.E1.m1.7.7.3.cmml"><mrow id="S2.E1.m1.5.5.1.1" xref="S2.E1.m1.5.5.1.1.cmml"><mfrac id="S2.E1.m1.5.5.1.1.3" xref="S2.E1.m1.5.5.1.1.3.cmml"><mi id="S2.E1.m1.5.5.1.1.3.2" xref="S2.E1.m1.5.5.1.1.3.2.cmml">α</mi><mn id="S2.E1.m1.5.5.1.1.3.3" xref="S2.E1.m1.5.5.1.1.3.3.cmml">2</mn></mfrac><mo lspace="0em" rspace="0em" id="S2.E1.m1.5.5.1.1.2" xref="S2.E1.m1.5.5.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.5.5.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E1.m1.5.5.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.5.5.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.1.cmml"><mn id="S2.E1.m1.5.5.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.1.2.cmml">1</mn><mo id="S2.E1.m1.5.5.1.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.1.1.cmml">−</mo><mrow id="S2.E1.m1.5.5.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.1.3.cmml"><mtext id="S2.E1.m1.5.5.1.1.1.1.1.3.2" xref="S2.E1.m1.5.5.1.1.1.1.1.3.2a.cmml">SSIM</mtext><mo lspace="0em" rspace="0em" id="S2.E1.m1.5.5.1.1.1.1.1.3.1" xref="S2.E1.m1.5.5.1.1.1.1.1.3.1.cmml">​</mo><mrow id="S2.E1.m1.5.5.1.1.1.1.1.3.3.2" xref="S2.E1.m1.5.5.1.1.1.1.1.3.3.1.cmml"><mo stretchy="false" id="S2.E1.m1.5.5.1.1.1.1.1.3.3.2.1" xref="S2.E1.m1.5.5.1.1.1.1.1.3.3.1.cmml">(</mo><mi id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml">A</mi><mo id="S2.E1.m1.5.5.1.1.1.1.1.3.3.2.2" xref="S2.E1.m1.5.5.1.1.1.1.1.3.3.1.cmml">,</mo><mi id="S2.E1.m1.4.4" xref="S2.E1.m1.4.4.cmml">B</mi><mo stretchy="false" id="S2.E1.m1.5.5.1.1.1.1.1.3.3.2.3" xref="S2.E1.m1.5.5.1.1.1.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S2.E1.m1.5.5.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.7.7.3.4" xref="S2.E1.m1.7.7.3.4.cmml">+</mo><mrow id="S2.E1.m1.7.7.3.3" xref="S2.E1.m1.7.7.3.3.cmml"><mrow id="S2.E1.m1.6.6.2.2.1.1" xref="S2.E1.m1.6.6.2.2.1.1.1.cmml"><mo stretchy="false" id="S2.E1.m1.6.6.2.2.1.1.2" xref="S2.E1.m1.6.6.2.2.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.6.6.2.2.1.1.1" xref="S2.E1.m1.6.6.2.2.1.1.1.cmml"><mn id="S2.E1.m1.6.6.2.2.1.1.1.2" xref="S2.E1.m1.6.6.2.2.1.1.1.2.cmml">1</mn><mo id="S2.E1.m1.6.6.2.2.1.1.1.1" xref="S2.E1.m1.6.6.2.2.1.1.1.1.cmml">−</mo><mi id="S2.E1.m1.6.6.2.2.1.1.1.3" xref="S2.E1.m1.6.6.2.2.1.1.1.3.cmml">α</mi></mrow><mo stretchy="false" id="S2.E1.m1.6.6.2.2.1.1.3" xref="S2.E1.m1.6.6.2.2.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.3.3.3" xref="S2.E1.m1.7.7.3.3.3.cmml">​</mo><msub id="S2.E1.m1.7.7.3.3.2" xref="S2.E1.m1.7.7.3.3.2.cmml"><mrow id="S2.E1.m1.7.7.3.3.2.1.1" xref="S2.E1.m1.7.7.3.3.2.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.3.3.2.1.1.2" xref="S2.E1.m1.7.7.3.3.2.1.2.1.cmml">‖</mo><mrow id="S2.E1.m1.7.7.3.3.2.1.1.1" xref="S2.E1.m1.7.7.3.3.2.1.1.1.cmml"><mi id="S2.E1.m1.7.7.3.3.2.1.1.1.2" xref="S2.E1.m1.7.7.3.3.2.1.1.1.2.cmml">A</mi><mo id="S2.E1.m1.7.7.3.3.2.1.1.1.1" xref="S2.E1.m1.7.7.3.3.2.1.1.1.1.cmml">−</mo><mi id="S2.E1.m1.7.7.3.3.2.1.1.1.3" xref="S2.E1.m1.7.7.3.3.2.1.1.1.3.cmml">B</mi></mrow><mo stretchy="false" id="S2.E1.m1.7.7.3.3.2.1.1.3" xref="S2.E1.m1.7.7.3.3.2.1.2.1.cmml">‖</mo></mrow><mn id="S2.E1.m1.7.7.3.3.2.3" xref="S2.E1.m1.7.7.3.3.2.3.cmml">1</mn></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.7b"><apply id="S2.E1.m1.7.7.cmml" xref="S2.E1.m1.7.7"><eq id="S2.E1.m1.7.7.4.cmml" xref="S2.E1.m1.7.7.4"></eq><apply id="S2.E1.m1.7.7.5.cmml" xref="S2.E1.m1.7.7.5"><times id="S2.E1.m1.7.7.5.1.cmml" xref="S2.E1.m1.7.7.5.1"></times><ci id="S2.E1.m1.7.7.5.2.cmml" xref="S2.E1.m1.7.7.5.2">𝑝</ci><ci id="S2.E1.m1.7.7.5.3.cmml" xref="S2.E1.m1.7.7.5.3">𝑒</ci><interval closure="open" id="S2.E1.m1.7.7.5.4.1.cmml" xref="S2.E1.m1.7.7.5.4.2"><ci id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1">𝐴</ci><ci id="S2.E1.m1.2.2.cmml" xref="S2.E1.m1.2.2">𝐵</ci></interval></apply><apply id="S2.E1.m1.7.7.3.cmml" xref="S2.E1.m1.7.7.3"><plus id="S2.E1.m1.7.7.3.4.cmml" xref="S2.E1.m1.7.7.3.4"></plus><apply id="S2.E1.m1.5.5.1.1.cmml" xref="S2.E1.m1.5.5.1.1"><times id="S2.E1.m1.5.5.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.2"></times><apply id="S2.E1.m1.5.5.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.3"><divide id="S2.E1.m1.5.5.1.1.3.1.cmml" xref="S2.E1.m1.5.5.1.1.3"></divide><ci id="S2.E1.m1.5.5.1.1.3.2.cmml" xref="S2.E1.m1.5.5.1.1.3.2">𝛼</ci><cn type="integer" id="S2.E1.m1.5.5.1.1.3.3.cmml" xref="S2.E1.m1.5.5.1.1.3.3">2</cn></apply><apply id="S2.E1.m1.5.5.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1"><minus id="S2.E1.m1.5.5.1.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1"></minus><cn type="integer" id="S2.E1.m1.5.5.1.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.2">1</cn><apply id="S2.E1.m1.5.5.1.1.1.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.3"><times id="S2.E1.m1.5.5.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.3.1"></times><ci id="S2.E1.m1.5.5.1.1.1.1.1.3.2a.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.3.2"><mtext id="S2.E1.m1.5.5.1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.3.2">SSIM</mtext></ci><interval closure="open" id="S2.E1.m1.5.5.1.1.1.1.1.3.3.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.3.3.2"><ci id="S2.E1.m1.3.3.cmml" xref="S2.E1.m1.3.3">𝐴</ci><ci id="S2.E1.m1.4.4.cmml" xref="S2.E1.m1.4.4">𝐵</ci></interval></apply></apply></apply><apply id="S2.E1.m1.7.7.3.3.cmml" xref="S2.E1.m1.7.7.3.3"><times id="S2.E1.m1.7.7.3.3.3.cmml" xref="S2.E1.m1.7.7.3.3.3"></times><apply id="S2.E1.m1.6.6.2.2.1.1.1.cmml" xref="S2.E1.m1.6.6.2.2.1.1"><minus id="S2.E1.m1.6.6.2.2.1.1.1.1.cmml" xref="S2.E1.m1.6.6.2.2.1.1.1.1"></minus><cn type="integer" id="S2.E1.m1.6.6.2.2.1.1.1.2.cmml" xref="S2.E1.m1.6.6.2.2.1.1.1.2">1</cn><ci id="S2.E1.m1.6.6.2.2.1.1.1.3.cmml" xref="S2.E1.m1.6.6.2.2.1.1.1.3">𝛼</ci></apply><apply id="S2.E1.m1.7.7.3.3.2.cmml" xref="S2.E1.m1.7.7.3.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.3.3.2.2.cmml" xref="S2.E1.m1.7.7.3.3.2">subscript</csymbol><apply id="S2.E1.m1.7.7.3.3.2.1.2.cmml" xref="S2.E1.m1.7.7.3.3.2.1.1"><csymbol cd="latexml" id="S2.E1.m1.7.7.3.3.2.1.2.1.cmml" xref="S2.E1.m1.7.7.3.3.2.1.1.2">norm</csymbol><apply id="S2.E1.m1.7.7.3.3.2.1.1.1.cmml" xref="S2.E1.m1.7.7.3.3.2.1.1.1"><minus id="S2.E1.m1.7.7.3.3.2.1.1.1.1.cmml" xref="S2.E1.m1.7.7.3.3.2.1.1.1.1"></minus><ci id="S2.E1.m1.7.7.3.3.2.1.1.1.2.cmml" xref="S2.E1.m1.7.7.3.3.2.1.1.1.2">𝐴</ci><ci id="S2.E1.m1.7.7.3.3.2.1.1.1.3.cmml" xref="S2.E1.m1.7.7.3.3.2.1.1.1.3">𝐵</ci></apply></apply><cn type="integer" id="S2.E1.m1.7.7.3.3.2.3.cmml" xref="S2.E1.m1.7.7.3.3.2.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.7c">pe(A,B)=\frac{\alpha}{2}(1-\textrm{SSIM}(A,B))+(1-\alpha)\|A-B\|_{1}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.p2.11" class="ltx_p">where <math id="S2.SS2.p2.5.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S2.SS2.p2.5.m1.1a"><mi id="S2.SS2.p2.5.m1.1.1" xref="S2.SS2.p2.5.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.5.m1.1b"><ci id="S2.SS2.p2.5.m1.1.1.cmml" xref="S2.SS2.p2.5.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.5.m1.1c">\alpha</annotation></semantics></math> is the balancing term between the L1 and the SSIM terms.
Let <math id="S2.SS2.p2.6.m2.1" class="ltx_Math" alttext="\hat{D}_{t}" display="inline"><semantics id="S2.SS2.p2.6.m2.1a"><msub id="S2.SS2.p2.6.m2.1.1" xref="S2.SS2.p2.6.m2.1.1.cmml"><mover accent="true" id="S2.SS2.p2.6.m2.1.1.2" xref="S2.SS2.p2.6.m2.1.1.2.cmml"><mi id="S2.SS2.p2.6.m2.1.1.2.2" xref="S2.SS2.p2.6.m2.1.1.2.2.cmml">D</mi><mo id="S2.SS2.p2.6.m2.1.1.2.1" xref="S2.SS2.p2.6.m2.1.1.2.1.cmml">^</mo></mover><mi id="S2.SS2.p2.6.m2.1.1.3" xref="S2.SS2.p2.6.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.6.m2.1b"><apply id="S2.SS2.p2.6.m2.1.1.cmml" xref="S2.SS2.p2.6.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.6.m2.1.1.1.cmml" xref="S2.SS2.p2.6.m2.1.1">subscript</csymbol><apply id="S2.SS2.p2.6.m2.1.1.2.cmml" xref="S2.SS2.p2.6.m2.1.1.2"><ci id="S2.SS2.p2.6.m2.1.1.2.1.cmml" xref="S2.SS2.p2.6.m2.1.1.2.1">^</ci><ci id="S2.SS2.p2.6.m2.1.1.2.2.cmml" xref="S2.SS2.p2.6.m2.1.1.2.2">𝐷</ci></apply><ci id="S2.SS2.p2.6.m2.1.1.3.cmml" xref="S2.SS2.p2.6.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.6.m2.1c">\hat{D}_{t}</annotation></semantics></math> be the predicted depth of the target frame <math id="S2.SS2.p2.7.m3.1" class="ltx_Math" alttext="I_{t}" display="inline"><semantics id="S2.SS2.p2.7.m3.1a"><msub id="S2.SS2.p2.7.m3.1.1" xref="S2.SS2.p2.7.m3.1.1.cmml"><mi id="S2.SS2.p2.7.m3.1.1.2" xref="S2.SS2.p2.7.m3.1.1.2.cmml">I</mi><mi id="S2.SS2.p2.7.m3.1.1.3" xref="S2.SS2.p2.7.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.7.m3.1b"><apply id="S2.SS2.p2.7.m3.1.1.cmml" xref="S2.SS2.p2.7.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.7.m3.1.1.1.cmml" xref="S2.SS2.p2.7.m3.1.1">subscript</csymbol><ci id="S2.SS2.p2.7.m3.1.1.2.cmml" xref="S2.SS2.p2.7.m3.1.1.2">𝐼</ci><ci id="S2.SS2.p2.7.m3.1.1.3.cmml" xref="S2.SS2.p2.7.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.7.m3.1c">I_{t}</annotation></semantics></math>, <math id="S2.SS2.p2.8.m4.1" class="ltx_Math" alttext="\hat{T}_{t\rightarrow t^{\prime}}" display="inline"><semantics id="S2.SS2.p2.8.m4.1a"><msub id="S2.SS2.p2.8.m4.1.1" xref="S2.SS2.p2.8.m4.1.1.cmml"><mover accent="true" id="S2.SS2.p2.8.m4.1.1.2" xref="S2.SS2.p2.8.m4.1.1.2.cmml"><mi id="S2.SS2.p2.8.m4.1.1.2.2" xref="S2.SS2.p2.8.m4.1.1.2.2.cmml">T</mi><mo id="S2.SS2.p2.8.m4.1.1.2.1" xref="S2.SS2.p2.8.m4.1.1.2.1.cmml">^</mo></mover><mrow id="S2.SS2.p2.8.m4.1.1.3" xref="S2.SS2.p2.8.m4.1.1.3.cmml"><mi id="S2.SS2.p2.8.m4.1.1.3.2" xref="S2.SS2.p2.8.m4.1.1.3.2.cmml">t</mi><mo stretchy="false" id="S2.SS2.p2.8.m4.1.1.3.1" xref="S2.SS2.p2.8.m4.1.1.3.1.cmml">→</mo><msup id="S2.SS2.p2.8.m4.1.1.3.3" xref="S2.SS2.p2.8.m4.1.1.3.3.cmml"><mi id="S2.SS2.p2.8.m4.1.1.3.3.2" xref="S2.SS2.p2.8.m4.1.1.3.3.2.cmml">t</mi><mo id="S2.SS2.p2.8.m4.1.1.3.3.3" xref="S2.SS2.p2.8.m4.1.1.3.3.3.cmml">′</mo></msup></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.8.m4.1b"><apply id="S2.SS2.p2.8.m4.1.1.cmml" xref="S2.SS2.p2.8.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.8.m4.1.1.1.cmml" xref="S2.SS2.p2.8.m4.1.1">subscript</csymbol><apply id="S2.SS2.p2.8.m4.1.1.2.cmml" xref="S2.SS2.p2.8.m4.1.1.2"><ci id="S2.SS2.p2.8.m4.1.1.2.1.cmml" xref="S2.SS2.p2.8.m4.1.1.2.1">^</ci><ci id="S2.SS2.p2.8.m4.1.1.2.2.cmml" xref="S2.SS2.p2.8.m4.1.1.2.2">𝑇</ci></apply><apply id="S2.SS2.p2.8.m4.1.1.3.cmml" xref="S2.SS2.p2.8.m4.1.1.3"><ci id="S2.SS2.p2.8.m4.1.1.3.1.cmml" xref="S2.SS2.p2.8.m4.1.1.3.1">→</ci><ci id="S2.SS2.p2.8.m4.1.1.3.2.cmml" xref="S2.SS2.p2.8.m4.1.1.3.2">𝑡</ci><apply id="S2.SS2.p2.8.m4.1.1.3.3.cmml" xref="S2.SS2.p2.8.m4.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS2.p2.8.m4.1.1.3.3.1.cmml" xref="S2.SS2.p2.8.m4.1.1.3.3">superscript</csymbol><ci id="S2.SS2.p2.8.m4.1.1.3.3.2.cmml" xref="S2.SS2.p2.8.m4.1.1.3.3.2">𝑡</ci><ci id="S2.SS2.p2.8.m4.1.1.3.3.3.cmml" xref="S2.SS2.p2.8.m4.1.1.3.3.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.8.m4.1c">\hat{T}_{t\rightarrow t^{\prime}}</annotation></semantics></math> be the predicted relative pose from the target frame <math id="S2.SS2.p2.9.m5.1" class="ltx_Math" alttext="I_{t}" display="inline"><semantics id="S2.SS2.p2.9.m5.1a"><msub id="S2.SS2.p2.9.m5.1.1" xref="S2.SS2.p2.9.m5.1.1.cmml"><mi id="S2.SS2.p2.9.m5.1.1.2" xref="S2.SS2.p2.9.m5.1.1.2.cmml">I</mi><mi id="S2.SS2.p2.9.m5.1.1.3" xref="S2.SS2.p2.9.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.9.m5.1b"><apply id="S2.SS2.p2.9.m5.1.1.cmml" xref="S2.SS2.p2.9.m5.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.9.m5.1.1.1.cmml" xref="S2.SS2.p2.9.m5.1.1">subscript</csymbol><ci id="S2.SS2.p2.9.m5.1.1.2.cmml" xref="S2.SS2.p2.9.m5.1.1.2">𝐼</ci><ci id="S2.SS2.p2.9.m5.1.1.3.cmml" xref="S2.SS2.p2.9.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.9.m5.1c">I_{t}</annotation></semantics></math> to the source frame <math id="S2.SS2.p2.10.m6.1" class="ltx_Math" alttext="I_{t^{\prime}}" display="inline"><semantics id="S2.SS2.p2.10.m6.1a"><msub id="S2.SS2.p2.10.m6.1.1" xref="S2.SS2.p2.10.m6.1.1.cmml"><mi id="S2.SS2.p2.10.m6.1.1.2" xref="S2.SS2.p2.10.m6.1.1.2.cmml">I</mi><msup id="S2.SS2.p2.10.m6.1.1.3" xref="S2.SS2.p2.10.m6.1.1.3.cmml"><mi id="S2.SS2.p2.10.m6.1.1.3.2" xref="S2.SS2.p2.10.m6.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p2.10.m6.1.1.3.3" xref="S2.SS2.p2.10.m6.1.1.3.3.cmml">′</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.10.m6.1b"><apply id="S2.SS2.p2.10.m6.1.1.cmml" xref="S2.SS2.p2.10.m6.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.10.m6.1.1.1.cmml" xref="S2.SS2.p2.10.m6.1.1">subscript</csymbol><ci id="S2.SS2.p2.10.m6.1.1.2.cmml" xref="S2.SS2.p2.10.m6.1.1.2">𝐼</ci><apply id="S2.SS2.p2.10.m6.1.1.3.cmml" xref="S2.SS2.p2.10.m6.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p2.10.m6.1.1.3.1.cmml" xref="S2.SS2.p2.10.m6.1.1.3">superscript</csymbol><ci id="S2.SS2.p2.10.m6.1.1.3.2.cmml" xref="S2.SS2.p2.10.m6.1.1.3.2">𝑡</ci><ci id="S2.SS2.p2.10.m6.1.1.3.3.cmml" xref="S2.SS2.p2.10.m6.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.10.m6.1c">I_{t^{\prime}}</annotation></semantics></math>, and <math id="S2.SS2.p2.11.m7.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.SS2.p2.11.m7.1a"><mi id="S2.SS2.p2.11.m7.1.1" xref="S2.SS2.p2.11.m7.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.11.m7.1b"><ci id="S2.SS2.p2.11.m7.1.1.cmml" xref="S2.SS2.p2.11.m7.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.11.m7.1c">K</annotation></semantics></math> be a calibrated camera intrinsic parameters. We then define the view synthesis (image warping) problem as</p>
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.3" class="ltx_Math" alttext="I_{t^{\prime}\rightarrow t}=\epsilon(I_{t^{\prime}},\pi(\hat{D}_{t},\hat{T}_{t\rightarrow t^{\prime}},K))" display="block"><semantics id="S2.E2.m1.3a"><mrow id="S2.E2.m1.3.3" xref="S2.E2.m1.3.3.cmml"><msub id="S2.E2.m1.3.3.4" xref="S2.E2.m1.3.3.4.cmml"><mi id="S2.E2.m1.3.3.4.2" xref="S2.E2.m1.3.3.4.2.cmml">I</mi><mrow id="S2.E2.m1.3.3.4.3" xref="S2.E2.m1.3.3.4.3.cmml"><msup id="S2.E2.m1.3.3.4.3.2" xref="S2.E2.m1.3.3.4.3.2.cmml"><mi id="S2.E2.m1.3.3.4.3.2.2" xref="S2.E2.m1.3.3.4.3.2.2.cmml">t</mi><mo id="S2.E2.m1.3.3.4.3.2.3" xref="S2.E2.m1.3.3.4.3.2.3.cmml">′</mo></msup><mo stretchy="false" id="S2.E2.m1.3.3.4.3.1" xref="S2.E2.m1.3.3.4.3.1.cmml">→</mo><mi id="S2.E2.m1.3.3.4.3.3" xref="S2.E2.m1.3.3.4.3.3.cmml">t</mi></mrow></msub><mo id="S2.E2.m1.3.3.3" xref="S2.E2.m1.3.3.3.cmml">=</mo><mrow id="S2.E2.m1.3.3.2" xref="S2.E2.m1.3.3.2.cmml"><mi id="S2.E2.m1.3.3.2.4" xref="S2.E2.m1.3.3.2.4.cmml">ϵ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.3.3.2.3" xref="S2.E2.m1.3.3.2.3.cmml">​</mo><mrow id="S2.E2.m1.3.3.2.2.2" xref="S2.E2.m1.3.3.2.2.3.cmml"><mo stretchy="false" id="S2.E2.m1.3.3.2.2.2.3" xref="S2.E2.m1.3.3.2.2.3.cmml">(</mo><msub id="S2.E2.m1.2.2.1.1.1.1" xref="S2.E2.m1.2.2.1.1.1.1.cmml"><mi id="S2.E2.m1.2.2.1.1.1.1.2" xref="S2.E2.m1.2.2.1.1.1.1.2.cmml">I</mi><msup id="S2.E2.m1.2.2.1.1.1.1.3" xref="S2.E2.m1.2.2.1.1.1.1.3.cmml"><mi id="S2.E2.m1.2.2.1.1.1.1.3.2" xref="S2.E2.m1.2.2.1.1.1.1.3.2.cmml">t</mi><mo id="S2.E2.m1.2.2.1.1.1.1.3.3" xref="S2.E2.m1.2.2.1.1.1.1.3.3.cmml">′</mo></msup></msub><mo id="S2.E2.m1.3.3.2.2.2.4" xref="S2.E2.m1.3.3.2.2.3.cmml">,</mo><mrow id="S2.E2.m1.3.3.2.2.2.2" xref="S2.E2.m1.3.3.2.2.2.2.cmml"><mi id="S2.E2.m1.3.3.2.2.2.2.4" xref="S2.E2.m1.3.3.2.2.2.2.4.cmml">π</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.3.3.2.2.2.2.3" xref="S2.E2.m1.3.3.2.2.2.2.3.cmml">​</mo><mrow id="S2.E2.m1.3.3.2.2.2.2.2.2" xref="S2.E2.m1.3.3.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E2.m1.3.3.2.2.2.2.2.2.3" xref="S2.E2.m1.3.3.2.2.2.2.2.3.cmml">(</mo><msub id="S2.E2.m1.3.3.2.2.2.2.1.1.1" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1.cmml"><mover accent="true" id="S2.E2.m1.3.3.2.2.2.2.1.1.1.2" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1.2.cmml"><mi id="S2.E2.m1.3.3.2.2.2.2.1.1.1.2.2" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1.2.2.cmml">D</mi><mo id="S2.E2.m1.3.3.2.2.2.2.1.1.1.2.1" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1.2.1.cmml">^</mo></mover><mi id="S2.E2.m1.3.3.2.2.2.2.1.1.1.3" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1.3.cmml">t</mi></msub><mo id="S2.E2.m1.3.3.2.2.2.2.2.2.4" xref="S2.E2.m1.3.3.2.2.2.2.2.3.cmml">,</mo><msub id="S2.E2.m1.3.3.2.2.2.2.2.2.2" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.cmml"><mover accent="true" id="S2.E2.m1.3.3.2.2.2.2.2.2.2.2" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.2.cmml"><mi id="S2.E2.m1.3.3.2.2.2.2.2.2.2.2.2" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.2.2.cmml">T</mi><mo id="S2.E2.m1.3.3.2.2.2.2.2.2.2.2.1" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.2.1.cmml">^</mo></mover><mrow id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.cmml"><mi id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.2" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.2.cmml">t</mi><mo stretchy="false" id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.1" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.1.cmml">→</mo><msup id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.cmml"><mi id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.2" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.2.cmml">t</mi><mo id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.3" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.3.cmml">′</mo></msup></mrow></msub><mo id="S2.E2.m1.3.3.2.2.2.2.2.2.5" xref="S2.E2.m1.3.3.2.2.2.2.2.3.cmml">,</mo><mi id="S2.E2.m1.1.1" xref="S2.E2.m1.1.1.cmml">K</mi><mo stretchy="false" id="S2.E2.m1.3.3.2.2.2.2.2.2.6" xref="S2.E2.m1.3.3.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E2.m1.3.3.2.2.2.5" xref="S2.E2.m1.3.3.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.3b"><apply id="S2.E2.m1.3.3.cmml" xref="S2.E2.m1.3.3"><eq id="S2.E2.m1.3.3.3.cmml" xref="S2.E2.m1.3.3.3"></eq><apply id="S2.E2.m1.3.3.4.cmml" xref="S2.E2.m1.3.3.4"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.4.1.cmml" xref="S2.E2.m1.3.3.4">subscript</csymbol><ci id="S2.E2.m1.3.3.4.2.cmml" xref="S2.E2.m1.3.3.4.2">𝐼</ci><apply id="S2.E2.m1.3.3.4.3.cmml" xref="S2.E2.m1.3.3.4.3"><ci id="S2.E2.m1.3.3.4.3.1.cmml" xref="S2.E2.m1.3.3.4.3.1">→</ci><apply id="S2.E2.m1.3.3.4.3.2.cmml" xref="S2.E2.m1.3.3.4.3.2"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.4.3.2.1.cmml" xref="S2.E2.m1.3.3.4.3.2">superscript</csymbol><ci id="S2.E2.m1.3.3.4.3.2.2.cmml" xref="S2.E2.m1.3.3.4.3.2.2">𝑡</ci><ci id="S2.E2.m1.3.3.4.3.2.3.cmml" xref="S2.E2.m1.3.3.4.3.2.3">′</ci></apply><ci id="S2.E2.m1.3.3.4.3.3.cmml" xref="S2.E2.m1.3.3.4.3.3">𝑡</ci></apply></apply><apply id="S2.E2.m1.3.3.2.cmml" xref="S2.E2.m1.3.3.2"><times id="S2.E2.m1.3.3.2.3.cmml" xref="S2.E2.m1.3.3.2.3"></times><ci id="S2.E2.m1.3.3.2.4.cmml" xref="S2.E2.m1.3.3.2.4">italic-ϵ</ci><interval closure="open" id="S2.E2.m1.3.3.2.2.3.cmml" xref="S2.E2.m1.3.3.2.2.2"><apply id="S2.E2.m1.2.2.1.1.1.1.cmml" xref="S2.E2.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.1.1.1.cmml" xref="S2.E2.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S2.E2.m1.2.2.1.1.1.1.2.cmml" xref="S2.E2.m1.2.2.1.1.1.1.2">𝐼</ci><apply id="S2.E2.m1.2.2.1.1.1.1.3.cmml" xref="S2.E2.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.1.1.3.1.cmml" xref="S2.E2.m1.2.2.1.1.1.1.3">superscript</csymbol><ci id="S2.E2.m1.2.2.1.1.1.1.3.2.cmml" xref="S2.E2.m1.2.2.1.1.1.1.3.2">𝑡</ci><ci id="S2.E2.m1.2.2.1.1.1.1.3.3.cmml" xref="S2.E2.m1.2.2.1.1.1.1.3.3">′</ci></apply></apply><apply id="S2.E2.m1.3.3.2.2.2.2.cmml" xref="S2.E2.m1.3.3.2.2.2.2"><times id="S2.E2.m1.3.3.2.2.2.2.3.cmml" xref="S2.E2.m1.3.3.2.2.2.2.3"></times><ci id="S2.E2.m1.3.3.2.2.2.2.4.cmml" xref="S2.E2.m1.3.3.2.2.2.2.4">𝜋</ci><vector id="S2.E2.m1.3.3.2.2.2.2.2.3.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2"><apply id="S2.E2.m1.3.3.2.2.2.2.1.1.1.cmml" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.2.2.2.2.1.1.1.1.cmml" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1">subscript</csymbol><apply id="S2.E2.m1.3.3.2.2.2.2.1.1.1.2.cmml" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1.2"><ci id="S2.E2.m1.3.3.2.2.2.2.1.1.1.2.1.cmml" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1.2.1">^</ci><ci id="S2.E2.m1.3.3.2.2.2.2.1.1.1.2.2.cmml" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1.2.2">𝐷</ci></apply><ci id="S2.E2.m1.3.3.2.2.2.2.1.1.1.3.cmml" xref="S2.E2.m1.3.3.2.2.2.2.1.1.1.3">𝑡</ci></apply><apply id="S2.E2.m1.3.3.2.2.2.2.2.2.2.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.2.2.2.2.2.2.2.1.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2">subscript</csymbol><apply id="S2.E2.m1.3.3.2.2.2.2.2.2.2.2.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.2"><ci id="S2.E2.m1.3.3.2.2.2.2.2.2.2.2.1.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.2.1">^</ci><ci id="S2.E2.m1.3.3.2.2.2.2.2.2.2.2.2.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.2.2">𝑇</ci></apply><apply id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3"><ci id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.1.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.1">→</ci><ci id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.2.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.2">𝑡</ci><apply id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.1.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3">superscript</csymbol><ci id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.2.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.2">𝑡</ci><ci id="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.3.cmml" xref="S2.E2.m1.3.3.2.2.2.2.2.2.2.3.3.3">′</ci></apply></apply></apply><ci id="S2.E2.m1.1.1.cmml" xref="S2.E2.m1.1.1">𝐾</ci></vector></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.3c">I_{t^{\prime}\rightarrow t}=\epsilon(I_{t^{\prime}},\pi(\hat{D}_{t},\hat{T}_{t\rightarrow t^{\prime}},K))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.p2.18" class="ltx_p">where <math id="S2.SS2.p2.12.m1.1" class="ltx_Math" alttext="\pi" display="inline"><semantics id="S2.SS2.p2.12.m1.1a"><mi id="S2.SS2.p2.12.m1.1.1" xref="S2.SS2.p2.12.m1.1.1.cmml">π</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.12.m1.1b"><ci id="S2.SS2.p2.12.m1.1.1.cmml" xref="S2.SS2.p2.12.m1.1.1">𝜋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.12.m1.1c">\pi</annotation></semantics></math> is a function to project the pixel coordinate of target image <math id="S2.SS2.p2.13.m2.1" class="ltx_Math" alttext="I_{t}" display="inline"><semantics id="S2.SS2.p2.13.m2.1a"><msub id="S2.SS2.p2.13.m2.1.1" xref="S2.SS2.p2.13.m2.1.1.cmml"><mi id="S2.SS2.p2.13.m2.1.1.2" xref="S2.SS2.p2.13.m2.1.1.2.cmml">I</mi><mi id="S2.SS2.p2.13.m2.1.1.3" xref="S2.SS2.p2.13.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.13.m2.1b"><apply id="S2.SS2.p2.13.m2.1.1.cmml" xref="S2.SS2.p2.13.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.13.m2.1.1.1.cmml" xref="S2.SS2.p2.13.m2.1.1">subscript</csymbol><ci id="S2.SS2.p2.13.m2.1.1.2.cmml" xref="S2.SS2.p2.13.m2.1.1.2">𝐼</ci><ci id="S2.SS2.p2.13.m2.1.1.3.cmml" xref="S2.SS2.p2.13.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.13.m2.1c">I_{t}</annotation></semantics></math> in source image <math id="S2.SS2.p2.14.m3.1" class="ltx_Math" alttext="I_{t^{\prime}}" display="inline"><semantics id="S2.SS2.p2.14.m3.1a"><msub id="S2.SS2.p2.14.m3.1.1" xref="S2.SS2.p2.14.m3.1.1.cmml"><mi id="S2.SS2.p2.14.m3.1.1.2" xref="S2.SS2.p2.14.m3.1.1.2.cmml">I</mi><msup id="S2.SS2.p2.14.m3.1.1.3" xref="S2.SS2.p2.14.m3.1.1.3.cmml"><mi id="S2.SS2.p2.14.m3.1.1.3.2" xref="S2.SS2.p2.14.m3.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p2.14.m3.1.1.3.3" xref="S2.SS2.p2.14.m3.1.1.3.3.cmml">′</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.14.m3.1b"><apply id="S2.SS2.p2.14.m3.1.1.cmml" xref="S2.SS2.p2.14.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.14.m3.1.1.1.cmml" xref="S2.SS2.p2.14.m3.1.1">subscript</csymbol><ci id="S2.SS2.p2.14.m3.1.1.2.cmml" xref="S2.SS2.p2.14.m3.1.1.2">𝐼</ci><apply id="S2.SS2.p2.14.m3.1.1.3.cmml" xref="S2.SS2.p2.14.m3.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p2.14.m3.1.1.3.1.cmml" xref="S2.SS2.p2.14.m3.1.1.3">superscript</csymbol><ci id="S2.SS2.p2.14.m3.1.1.3.2.cmml" xref="S2.SS2.p2.14.m3.1.1.3.2">𝑡</ci><ci id="S2.SS2.p2.14.m3.1.1.3.3.cmml" xref="S2.SS2.p2.14.m3.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.14.m3.1c">I_{t^{\prime}}</annotation></semantics></math> and <math id="S2.SS2.p2.15.m4.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S2.SS2.p2.15.m4.1a"><mi id="S2.SS2.p2.15.m4.1.1" xref="S2.SS2.p2.15.m4.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.15.m4.1b"><ci id="S2.SS2.p2.15.m4.1.1.cmml" xref="S2.SS2.p2.15.m4.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.15.m4.1c">\epsilon</annotation></semantics></math> is a pixel sampling function based on the projected pixel coordinate given by <math id="S2.SS2.p2.16.m5.1" class="ltx_Math" alttext="\pi" display="inline"><semantics id="S2.SS2.p2.16.m5.1a"><mi id="S2.SS2.p2.16.m5.1.1" xref="S2.SS2.p2.16.m5.1.1.cmml">π</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.16.m5.1b"><ci id="S2.SS2.p2.16.m5.1.1.cmml" xref="S2.SS2.p2.16.m5.1.1">𝜋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.16.m5.1c">\pi</annotation></semantics></math>.
In our implementation, we used two consecutive frames as our source frames, <span id="S2.SS2.p2.18.1" class="ltx_text ltx_font_italic">i.e.</span>, <math id="S2.SS2.p2.17.m6.1" class="ltx_Math" alttext="I_{t+1}" display="inline"><semantics id="S2.SS2.p2.17.m6.1a"><msub id="S2.SS2.p2.17.m6.1.1" xref="S2.SS2.p2.17.m6.1.1.cmml"><mi id="S2.SS2.p2.17.m6.1.1.2" xref="S2.SS2.p2.17.m6.1.1.2.cmml">I</mi><mrow id="S2.SS2.p2.17.m6.1.1.3" xref="S2.SS2.p2.17.m6.1.1.3.cmml"><mi id="S2.SS2.p2.17.m6.1.1.3.2" xref="S2.SS2.p2.17.m6.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p2.17.m6.1.1.3.1" xref="S2.SS2.p2.17.m6.1.1.3.1.cmml">+</mo><mn id="S2.SS2.p2.17.m6.1.1.3.3" xref="S2.SS2.p2.17.m6.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.17.m6.1b"><apply id="S2.SS2.p2.17.m6.1.1.cmml" xref="S2.SS2.p2.17.m6.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.17.m6.1.1.1.cmml" xref="S2.SS2.p2.17.m6.1.1">subscript</csymbol><ci id="S2.SS2.p2.17.m6.1.1.2.cmml" xref="S2.SS2.p2.17.m6.1.1.2">𝐼</ci><apply id="S2.SS2.p2.17.m6.1.1.3.cmml" xref="S2.SS2.p2.17.m6.1.1.3"><plus id="S2.SS2.p2.17.m6.1.1.3.1.cmml" xref="S2.SS2.p2.17.m6.1.1.3.1"></plus><ci id="S2.SS2.p2.17.m6.1.1.3.2.cmml" xref="S2.SS2.p2.17.m6.1.1.3.2">𝑡</ci><cn type="integer" id="S2.SS2.p2.17.m6.1.1.3.3.cmml" xref="S2.SS2.p2.17.m6.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.17.m6.1c">I_{t+1}</annotation></semantics></math> and <math id="S2.SS2.p2.18.m7.1" class="ltx_Math" alttext="I_{t-1}" display="inline"><semantics id="S2.SS2.p2.18.m7.1a"><msub id="S2.SS2.p2.18.m7.1.1" xref="S2.SS2.p2.18.m7.1.1.cmml"><mi id="S2.SS2.p2.18.m7.1.1.2" xref="S2.SS2.p2.18.m7.1.1.2.cmml">I</mi><mrow id="S2.SS2.p2.18.m7.1.1.3" xref="S2.SS2.p2.18.m7.1.1.3.cmml"><mi id="S2.SS2.p2.18.m7.1.1.3.2" xref="S2.SS2.p2.18.m7.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p2.18.m7.1.1.3.1" xref="S2.SS2.p2.18.m7.1.1.3.1.cmml">−</mo><mn id="S2.SS2.p2.18.m7.1.1.3.3" xref="S2.SS2.p2.18.m7.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.18.m7.1b"><apply id="S2.SS2.p2.18.m7.1.1.cmml" xref="S2.SS2.p2.18.m7.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.18.m7.1.1.1.cmml" xref="S2.SS2.p2.18.m7.1.1">subscript</csymbol><ci id="S2.SS2.p2.18.m7.1.1.2.cmml" xref="S2.SS2.p2.18.m7.1.1.2">𝐼</ci><apply id="S2.SS2.p2.18.m7.1.1.3.cmml" xref="S2.SS2.p2.18.m7.1.1.3"><minus id="S2.SS2.p2.18.m7.1.1.3.1.cmml" xref="S2.SS2.p2.18.m7.1.1.3.1"></minus><ci id="S2.SS2.p2.18.m7.1.1.3.2.cmml" xref="S2.SS2.p2.18.m7.1.1.3.2">𝑡</ci><cn type="integer" id="S2.SS2.p2.18.m7.1.1.3.3.cmml" xref="S2.SS2.p2.18.m7.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.18.m7.1c">I_{t-1}</annotation></semantics></math>. Instead of averaging the photometric error <span id="S2.SS2.p2.18.2" class="ltx_text ltx_font_italic">pe</span> for each warped source frame, we simply take the minimum such that the final pixel-wise photometric error can be expressed as</p>
<table id="S2.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E3.m1.4" class="ltx_Math" alttext="\mathcal{L}_{p}=\min_{t^{\prime}\in(t+1,t-1)}pe(I_{t},I_{t^{\prime}\rightarrow t})" display="block"><semantics id="S2.E3.m1.4a"><mrow id="S2.E3.m1.4.4" xref="S2.E3.m1.4.4.cmml"><msub id="S2.E3.m1.4.4.4" xref="S2.E3.m1.4.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.4.4.4.2" xref="S2.E3.m1.4.4.4.2.cmml">ℒ</mi><mi id="S2.E3.m1.4.4.4.3" xref="S2.E3.m1.4.4.4.3.cmml">p</mi></msub><mo id="S2.E3.m1.4.4.3" xref="S2.E3.m1.4.4.3.cmml">=</mo><mrow id="S2.E3.m1.4.4.2" xref="S2.E3.m1.4.4.2.cmml"><mrow id="S2.E3.m1.4.4.2.4" xref="S2.E3.m1.4.4.2.4.cmml"><munder id="S2.E3.m1.4.4.2.4.1" xref="S2.E3.m1.4.4.2.4.1.cmml"><mi id="S2.E3.m1.4.4.2.4.1.2" xref="S2.E3.m1.4.4.2.4.1.2.cmml">min</mi><mrow id="S2.E3.m1.2.2.2" xref="S2.E3.m1.2.2.2.cmml"><msup id="S2.E3.m1.2.2.2.4" xref="S2.E3.m1.2.2.2.4.cmml"><mi id="S2.E3.m1.2.2.2.4.2" xref="S2.E3.m1.2.2.2.4.2.cmml">t</mi><mo id="S2.E3.m1.2.2.2.4.3" xref="S2.E3.m1.2.2.2.4.3.cmml">′</mo></msup><mo id="S2.E3.m1.2.2.2.3" xref="S2.E3.m1.2.2.2.3.cmml">∈</mo><mrow id="S2.E3.m1.2.2.2.2.2" xref="S2.E3.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E3.m1.2.2.2.2.2.3" xref="S2.E3.m1.2.2.2.2.3.cmml">(</mo><mrow id="S2.E3.m1.1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.1.cmml"><mi id="S2.E3.m1.1.1.1.1.1.1.2" xref="S2.E3.m1.1.1.1.1.1.1.2.cmml">t</mi><mo id="S2.E3.m1.1.1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.1.1.cmml">+</mo><mn id="S2.E3.m1.1.1.1.1.1.1.3" xref="S2.E3.m1.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E3.m1.2.2.2.2.2.4" xref="S2.E3.m1.2.2.2.2.3.cmml">,</mo><mrow id="S2.E3.m1.2.2.2.2.2.2" xref="S2.E3.m1.2.2.2.2.2.2.cmml"><mi id="S2.E3.m1.2.2.2.2.2.2.2" xref="S2.E3.m1.2.2.2.2.2.2.2.cmml">t</mi><mo id="S2.E3.m1.2.2.2.2.2.2.1" xref="S2.E3.m1.2.2.2.2.2.2.1.cmml">−</mo><mn id="S2.E3.m1.2.2.2.2.2.2.3" xref="S2.E3.m1.2.2.2.2.2.2.3.cmml">1</mn></mrow><mo stretchy="false" id="S2.E3.m1.2.2.2.2.2.5" xref="S2.E3.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></munder><mo lspace="0.167em" id="S2.E3.m1.4.4.2.4a" xref="S2.E3.m1.4.4.2.4.cmml">⁡</mo><mrow id="S2.E3.m1.4.4.2.4.2" xref="S2.E3.m1.4.4.2.4.2.cmml"><mi id="S2.E3.m1.4.4.2.4.2.2" xref="S2.E3.m1.4.4.2.4.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.4.4.2.4.2.1" xref="S2.E3.m1.4.4.2.4.2.1.cmml">​</mo><mi id="S2.E3.m1.4.4.2.4.2.3" xref="S2.E3.m1.4.4.2.4.2.3.cmml">e</mi></mrow></mrow><mo lspace="0em" rspace="0em" id="S2.E3.m1.4.4.2.3" xref="S2.E3.m1.4.4.2.3.cmml">​</mo><mrow id="S2.E3.m1.4.4.2.2.2" xref="S2.E3.m1.4.4.2.2.3.cmml"><mo stretchy="false" id="S2.E3.m1.4.4.2.2.2.3" xref="S2.E3.m1.4.4.2.2.3.cmml">(</mo><msub id="S2.E3.m1.3.3.1.1.1.1" xref="S2.E3.m1.3.3.1.1.1.1.cmml"><mi id="S2.E3.m1.3.3.1.1.1.1.2" xref="S2.E3.m1.3.3.1.1.1.1.2.cmml">I</mi><mi id="S2.E3.m1.3.3.1.1.1.1.3" xref="S2.E3.m1.3.3.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.E3.m1.4.4.2.2.2.4" xref="S2.E3.m1.4.4.2.2.3.cmml">,</mo><msub id="S2.E3.m1.4.4.2.2.2.2" xref="S2.E3.m1.4.4.2.2.2.2.cmml"><mi id="S2.E3.m1.4.4.2.2.2.2.2" xref="S2.E3.m1.4.4.2.2.2.2.2.cmml">I</mi><mrow id="S2.E3.m1.4.4.2.2.2.2.3" xref="S2.E3.m1.4.4.2.2.2.2.3.cmml"><msup id="S2.E3.m1.4.4.2.2.2.2.3.2" xref="S2.E3.m1.4.4.2.2.2.2.3.2.cmml"><mi id="S2.E3.m1.4.4.2.2.2.2.3.2.2" xref="S2.E3.m1.4.4.2.2.2.2.3.2.2.cmml">t</mi><mo id="S2.E3.m1.4.4.2.2.2.2.3.2.3" xref="S2.E3.m1.4.4.2.2.2.2.3.2.3.cmml">′</mo></msup><mo stretchy="false" id="S2.E3.m1.4.4.2.2.2.2.3.1" xref="S2.E3.m1.4.4.2.2.2.2.3.1.cmml">→</mo><mi id="S2.E3.m1.4.4.2.2.2.2.3.3" xref="S2.E3.m1.4.4.2.2.2.2.3.3.cmml">t</mi></mrow></msub><mo stretchy="false" id="S2.E3.m1.4.4.2.2.2.5" xref="S2.E3.m1.4.4.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.4b"><apply id="S2.E3.m1.4.4.cmml" xref="S2.E3.m1.4.4"><eq id="S2.E3.m1.4.4.3.cmml" xref="S2.E3.m1.4.4.3"></eq><apply id="S2.E3.m1.4.4.4.cmml" xref="S2.E3.m1.4.4.4"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.4.1.cmml" xref="S2.E3.m1.4.4.4">subscript</csymbol><ci id="S2.E3.m1.4.4.4.2.cmml" xref="S2.E3.m1.4.4.4.2">ℒ</ci><ci id="S2.E3.m1.4.4.4.3.cmml" xref="S2.E3.m1.4.4.4.3">𝑝</ci></apply><apply id="S2.E3.m1.4.4.2.cmml" xref="S2.E3.m1.4.4.2"><times id="S2.E3.m1.4.4.2.3.cmml" xref="S2.E3.m1.4.4.2.3"></times><apply id="S2.E3.m1.4.4.2.4.cmml" xref="S2.E3.m1.4.4.2.4"><apply id="S2.E3.m1.4.4.2.4.1.cmml" xref="S2.E3.m1.4.4.2.4.1"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.2.4.1.1.cmml" xref="S2.E3.m1.4.4.2.4.1">subscript</csymbol><min id="S2.E3.m1.4.4.2.4.1.2.cmml" xref="S2.E3.m1.4.4.2.4.1.2"></min><apply id="S2.E3.m1.2.2.2.cmml" xref="S2.E3.m1.2.2.2"><in id="S2.E3.m1.2.2.2.3.cmml" xref="S2.E3.m1.2.2.2.3"></in><apply id="S2.E3.m1.2.2.2.4.cmml" xref="S2.E3.m1.2.2.2.4"><csymbol cd="ambiguous" id="S2.E3.m1.2.2.2.4.1.cmml" xref="S2.E3.m1.2.2.2.4">superscript</csymbol><ci id="S2.E3.m1.2.2.2.4.2.cmml" xref="S2.E3.m1.2.2.2.4.2">𝑡</ci><ci id="S2.E3.m1.2.2.2.4.3.cmml" xref="S2.E3.m1.2.2.2.4.3">′</ci></apply><interval closure="open" id="S2.E3.m1.2.2.2.2.3.cmml" xref="S2.E3.m1.2.2.2.2.2"><apply id="S2.E3.m1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1.1"><plus id="S2.E3.m1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1.1.1"></plus><ci id="S2.E3.m1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.1.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="S2.E3.m1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.1.1.1.1.1.1.3">1</cn></apply><apply id="S2.E3.m1.2.2.2.2.2.2.cmml" xref="S2.E3.m1.2.2.2.2.2.2"><minus id="S2.E3.m1.2.2.2.2.2.2.1.cmml" xref="S2.E3.m1.2.2.2.2.2.2.1"></minus><ci id="S2.E3.m1.2.2.2.2.2.2.2.cmml" xref="S2.E3.m1.2.2.2.2.2.2.2">𝑡</ci><cn type="integer" id="S2.E3.m1.2.2.2.2.2.2.3.cmml" xref="S2.E3.m1.2.2.2.2.2.2.3">1</cn></apply></interval></apply></apply><apply id="S2.E3.m1.4.4.2.4.2.cmml" xref="S2.E3.m1.4.4.2.4.2"><times id="S2.E3.m1.4.4.2.4.2.1.cmml" xref="S2.E3.m1.4.4.2.4.2.1"></times><ci id="S2.E3.m1.4.4.2.4.2.2.cmml" xref="S2.E3.m1.4.4.2.4.2.2">𝑝</ci><ci id="S2.E3.m1.4.4.2.4.2.3.cmml" xref="S2.E3.m1.4.4.2.4.2.3">𝑒</ci></apply></apply><interval closure="open" id="S2.E3.m1.4.4.2.2.3.cmml" xref="S2.E3.m1.4.4.2.2.2"><apply id="S2.E3.m1.3.3.1.1.1.1.cmml" xref="S2.E3.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.3.3.1.1.1.1.1.cmml" xref="S2.E3.m1.3.3.1.1.1.1">subscript</csymbol><ci id="S2.E3.m1.3.3.1.1.1.1.2.cmml" xref="S2.E3.m1.3.3.1.1.1.1.2">𝐼</ci><ci id="S2.E3.m1.3.3.1.1.1.1.3.cmml" xref="S2.E3.m1.3.3.1.1.1.1.3">𝑡</ci></apply><apply id="S2.E3.m1.4.4.2.2.2.2.cmml" xref="S2.E3.m1.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.2.2.2.2.1.cmml" xref="S2.E3.m1.4.4.2.2.2.2">subscript</csymbol><ci id="S2.E3.m1.4.4.2.2.2.2.2.cmml" xref="S2.E3.m1.4.4.2.2.2.2.2">𝐼</ci><apply id="S2.E3.m1.4.4.2.2.2.2.3.cmml" xref="S2.E3.m1.4.4.2.2.2.2.3"><ci id="S2.E3.m1.4.4.2.2.2.2.3.1.cmml" xref="S2.E3.m1.4.4.2.2.2.2.3.1">→</ci><apply id="S2.E3.m1.4.4.2.2.2.2.3.2.cmml" xref="S2.E3.m1.4.4.2.2.2.2.3.2"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.2.2.2.2.3.2.1.cmml" xref="S2.E3.m1.4.4.2.2.2.2.3.2">superscript</csymbol><ci id="S2.E3.m1.4.4.2.2.2.2.3.2.2.cmml" xref="S2.E3.m1.4.4.2.2.2.2.3.2.2">𝑡</ci><ci id="S2.E3.m1.4.4.2.2.2.2.3.2.3.cmml" xref="S2.E3.m1.4.4.2.2.2.2.3.2.3">′</ci></apply><ci id="S2.E3.m1.4.4.2.2.2.2.3.3.cmml" xref="S2.E3.m1.4.4.2.2.2.2.3.3">𝑡</ci></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.4c">\mathcal{L}_{p}=\min_{t^{\prime}\in(t+1,t-1)}pe(I_{t},I_{t^{\prime}\rightarrow t})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.9" class="ltx_p">To ensure that only the reliable pixels are optimized, we masked out the non-reliable pixel using the automask <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> defined by a logical operation as</p>
<table id="S2.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E4.m1.5" class="ltx_Math" alttext="\mu=[\min_{t^{\prime}\in(t+1,t-1)}pe(I_{t},I_{t^{\prime}\rightarrow t})&lt;\min_{t^{\prime}\in(t+1,t-1)}pe(I_{t},I_{t^{\prime}})]" display="block"><semantics id="S2.E4.m1.5a"><mrow id="S2.E4.m1.5.5" xref="S2.E4.m1.5.5.cmml"><mi id="S2.E4.m1.5.5.3" xref="S2.E4.m1.5.5.3.cmml">μ</mi><mo id="S2.E4.m1.5.5.2" xref="S2.E4.m1.5.5.2.cmml">=</mo><mrow id="S2.E4.m1.5.5.1.1" xref="S2.E4.m1.5.5.1.2.cmml"><mo stretchy="false" id="S2.E4.m1.5.5.1.1.2" xref="S2.E4.m1.5.5.1.2.1.cmml">[</mo><mrow id="S2.E4.m1.5.5.1.1.1" xref="S2.E4.m1.5.5.1.1.1.cmml"><mrow id="S2.E4.m1.5.5.1.1.1.2" xref="S2.E4.m1.5.5.1.1.1.2.cmml"><mrow id="S2.E4.m1.5.5.1.1.1.2.4" xref="S2.E4.m1.5.5.1.1.1.2.4.cmml"><munder id="S2.E4.m1.5.5.1.1.1.2.4.1" xref="S2.E4.m1.5.5.1.1.1.2.4.1.cmml"><mi id="S2.E4.m1.5.5.1.1.1.2.4.1.2" xref="S2.E4.m1.5.5.1.1.1.2.4.1.2.cmml">min</mi><mrow id="S2.E4.m1.2.2.2" xref="S2.E4.m1.2.2.2.cmml"><msup id="S2.E4.m1.2.2.2.4" xref="S2.E4.m1.2.2.2.4.cmml"><mi id="S2.E4.m1.2.2.2.4.2" xref="S2.E4.m1.2.2.2.4.2.cmml">t</mi><mo id="S2.E4.m1.2.2.2.4.3" xref="S2.E4.m1.2.2.2.4.3.cmml">′</mo></msup><mo id="S2.E4.m1.2.2.2.3" xref="S2.E4.m1.2.2.2.3.cmml">∈</mo><mrow id="S2.E4.m1.2.2.2.2.2" xref="S2.E4.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E4.m1.2.2.2.2.2.3" xref="S2.E4.m1.2.2.2.2.3.cmml">(</mo><mrow id="S2.E4.m1.1.1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.1.1.cmml"><mi id="S2.E4.m1.1.1.1.1.1.1.2" xref="S2.E4.m1.1.1.1.1.1.1.2.cmml">t</mi><mo id="S2.E4.m1.1.1.1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.1.1.1.cmml">+</mo><mn id="S2.E4.m1.1.1.1.1.1.1.3" xref="S2.E4.m1.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E4.m1.2.2.2.2.2.4" xref="S2.E4.m1.2.2.2.2.3.cmml">,</mo><mrow id="S2.E4.m1.2.2.2.2.2.2" xref="S2.E4.m1.2.2.2.2.2.2.cmml"><mi id="S2.E4.m1.2.2.2.2.2.2.2" xref="S2.E4.m1.2.2.2.2.2.2.2.cmml">t</mi><mo id="S2.E4.m1.2.2.2.2.2.2.1" xref="S2.E4.m1.2.2.2.2.2.2.1.cmml">−</mo><mn id="S2.E4.m1.2.2.2.2.2.2.3" xref="S2.E4.m1.2.2.2.2.2.2.3.cmml">1</mn></mrow><mo stretchy="false" id="S2.E4.m1.2.2.2.2.2.5" xref="S2.E4.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></munder><mo lspace="0.167em" id="S2.E4.m1.5.5.1.1.1.2.4a" xref="S2.E4.m1.5.5.1.1.1.2.4.cmml">⁡</mo><mrow id="S2.E4.m1.5.5.1.1.1.2.4.2" xref="S2.E4.m1.5.5.1.1.1.2.4.2.cmml"><mi id="S2.E4.m1.5.5.1.1.1.2.4.2.2" xref="S2.E4.m1.5.5.1.1.1.2.4.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E4.m1.5.5.1.1.1.2.4.2.1" xref="S2.E4.m1.5.5.1.1.1.2.4.2.1.cmml">​</mo><mi id="S2.E4.m1.5.5.1.1.1.2.4.2.3" xref="S2.E4.m1.5.5.1.1.1.2.4.2.3.cmml">e</mi></mrow></mrow><mo lspace="0em" rspace="0em" id="S2.E4.m1.5.5.1.1.1.2.3" xref="S2.E4.m1.5.5.1.1.1.2.3.cmml">​</mo><mrow id="S2.E4.m1.5.5.1.1.1.2.2.2" xref="S2.E4.m1.5.5.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S2.E4.m1.5.5.1.1.1.2.2.2.3" xref="S2.E4.m1.5.5.1.1.1.2.2.3.cmml">(</mo><msub id="S2.E4.m1.5.5.1.1.1.1.1.1.1" xref="S2.E4.m1.5.5.1.1.1.1.1.1.1.cmml"><mi id="S2.E4.m1.5.5.1.1.1.1.1.1.1.2" xref="S2.E4.m1.5.5.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S2.E4.m1.5.5.1.1.1.1.1.1.1.3" xref="S2.E4.m1.5.5.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.E4.m1.5.5.1.1.1.2.2.2.4" xref="S2.E4.m1.5.5.1.1.1.2.2.3.cmml">,</mo><msub id="S2.E4.m1.5.5.1.1.1.2.2.2.2" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.cmml"><mi id="S2.E4.m1.5.5.1.1.1.2.2.2.2.2" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.2.cmml">I</mi><mrow id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.cmml"><msup id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.cmml"><mi id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.2" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.2.cmml">t</mi><mo id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.3" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.3.cmml">′</mo></msup><mo stretchy="false" id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.1" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.1.cmml">→</mo><mi id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.3" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.3.cmml">t</mi></mrow></msub><mo stretchy="false" id="S2.E4.m1.5.5.1.1.1.2.2.2.5" xref="S2.E4.m1.5.5.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S2.E4.m1.5.5.1.1.1.5" xref="S2.E4.m1.5.5.1.1.1.5.cmml">&lt;</mo><mrow id="S2.E4.m1.5.5.1.1.1.4" xref="S2.E4.m1.5.5.1.1.1.4.cmml"><mrow id="S2.E4.m1.5.5.1.1.1.4.4" xref="S2.E4.m1.5.5.1.1.1.4.4.cmml"><munder id="S2.E4.m1.5.5.1.1.1.4.4.1" xref="S2.E4.m1.5.5.1.1.1.4.4.1.cmml"><mi id="S2.E4.m1.5.5.1.1.1.4.4.1.2" xref="S2.E4.m1.5.5.1.1.1.4.4.1.2.cmml">min</mi><mrow id="S2.E4.m1.4.4.2" xref="S2.E4.m1.4.4.2.cmml"><msup id="S2.E4.m1.4.4.2.4" xref="S2.E4.m1.4.4.2.4.cmml"><mi id="S2.E4.m1.4.4.2.4.2" xref="S2.E4.m1.4.4.2.4.2.cmml">t</mi><mo id="S2.E4.m1.4.4.2.4.3" xref="S2.E4.m1.4.4.2.4.3.cmml">′</mo></msup><mo id="S2.E4.m1.4.4.2.3" xref="S2.E4.m1.4.4.2.3.cmml">∈</mo><mrow id="S2.E4.m1.4.4.2.2.2" xref="S2.E4.m1.4.4.2.2.3.cmml"><mo stretchy="false" id="S2.E4.m1.4.4.2.2.2.3" xref="S2.E4.m1.4.4.2.2.3.cmml">(</mo><mrow id="S2.E4.m1.3.3.1.1.1.1" xref="S2.E4.m1.3.3.1.1.1.1.cmml"><mi id="S2.E4.m1.3.3.1.1.1.1.2" xref="S2.E4.m1.3.3.1.1.1.1.2.cmml">t</mi><mo id="S2.E4.m1.3.3.1.1.1.1.1" xref="S2.E4.m1.3.3.1.1.1.1.1.cmml">+</mo><mn id="S2.E4.m1.3.3.1.1.1.1.3" xref="S2.E4.m1.3.3.1.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E4.m1.4.4.2.2.2.4" xref="S2.E4.m1.4.4.2.2.3.cmml">,</mo><mrow id="S2.E4.m1.4.4.2.2.2.2" xref="S2.E4.m1.4.4.2.2.2.2.cmml"><mi id="S2.E4.m1.4.4.2.2.2.2.2" xref="S2.E4.m1.4.4.2.2.2.2.2.cmml">t</mi><mo id="S2.E4.m1.4.4.2.2.2.2.1" xref="S2.E4.m1.4.4.2.2.2.2.1.cmml">−</mo><mn id="S2.E4.m1.4.4.2.2.2.2.3" xref="S2.E4.m1.4.4.2.2.2.2.3.cmml">1</mn></mrow><mo stretchy="false" id="S2.E4.m1.4.4.2.2.2.5" xref="S2.E4.m1.4.4.2.2.3.cmml">)</mo></mrow></mrow></munder><mo lspace="0.167em" id="S2.E4.m1.5.5.1.1.1.4.4a" xref="S2.E4.m1.5.5.1.1.1.4.4.cmml">⁡</mo><mrow id="S2.E4.m1.5.5.1.1.1.4.4.2" xref="S2.E4.m1.5.5.1.1.1.4.4.2.cmml"><mi id="S2.E4.m1.5.5.1.1.1.4.4.2.2" xref="S2.E4.m1.5.5.1.1.1.4.4.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E4.m1.5.5.1.1.1.4.4.2.1" xref="S2.E4.m1.5.5.1.1.1.4.4.2.1.cmml">​</mo><mi id="S2.E4.m1.5.5.1.1.1.4.4.2.3" xref="S2.E4.m1.5.5.1.1.1.4.4.2.3.cmml">e</mi></mrow></mrow><mo lspace="0em" rspace="0em" id="S2.E4.m1.5.5.1.1.1.4.3" xref="S2.E4.m1.5.5.1.1.1.4.3.cmml">​</mo><mrow id="S2.E4.m1.5.5.1.1.1.4.2.2" xref="S2.E4.m1.5.5.1.1.1.4.2.3.cmml"><mo stretchy="false" id="S2.E4.m1.5.5.1.1.1.4.2.2.3" xref="S2.E4.m1.5.5.1.1.1.4.2.3.cmml">(</mo><msub id="S2.E4.m1.5.5.1.1.1.3.1.1.1" xref="S2.E4.m1.5.5.1.1.1.3.1.1.1.cmml"><mi id="S2.E4.m1.5.5.1.1.1.3.1.1.1.2" xref="S2.E4.m1.5.5.1.1.1.3.1.1.1.2.cmml">I</mi><mi id="S2.E4.m1.5.5.1.1.1.3.1.1.1.3" xref="S2.E4.m1.5.5.1.1.1.3.1.1.1.3.cmml">t</mi></msub><mo id="S2.E4.m1.5.5.1.1.1.4.2.2.4" xref="S2.E4.m1.5.5.1.1.1.4.2.3.cmml">,</mo><msub id="S2.E4.m1.5.5.1.1.1.4.2.2.2" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2.cmml"><mi id="S2.E4.m1.5.5.1.1.1.4.2.2.2.2" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2.2.cmml">I</mi><msup id="S2.E4.m1.5.5.1.1.1.4.2.2.2.3" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.cmml"><mi id="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.2" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.2.cmml">t</mi><mo id="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.3" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.3.cmml">′</mo></msup></msub><mo stretchy="false" id="S2.E4.m1.5.5.1.1.1.4.2.2.5" xref="S2.E4.m1.5.5.1.1.1.4.2.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S2.E4.m1.5.5.1.1.3" xref="S2.E4.m1.5.5.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E4.m1.5b"><apply id="S2.E4.m1.5.5.cmml" xref="S2.E4.m1.5.5"><eq id="S2.E4.m1.5.5.2.cmml" xref="S2.E4.m1.5.5.2"></eq><ci id="S2.E4.m1.5.5.3.cmml" xref="S2.E4.m1.5.5.3">𝜇</ci><apply id="S2.E4.m1.5.5.1.2.cmml" xref="S2.E4.m1.5.5.1.1"><csymbol cd="latexml" id="S2.E4.m1.5.5.1.2.1.cmml" xref="S2.E4.m1.5.5.1.1.2">delimited-[]</csymbol><apply id="S2.E4.m1.5.5.1.1.1.cmml" xref="S2.E4.m1.5.5.1.1.1"><lt id="S2.E4.m1.5.5.1.1.1.5.cmml" xref="S2.E4.m1.5.5.1.1.1.5"></lt><apply id="S2.E4.m1.5.5.1.1.1.2.cmml" xref="S2.E4.m1.5.5.1.1.1.2"><times id="S2.E4.m1.5.5.1.1.1.2.3.cmml" xref="S2.E4.m1.5.5.1.1.1.2.3"></times><apply id="S2.E4.m1.5.5.1.1.1.2.4.cmml" xref="S2.E4.m1.5.5.1.1.1.2.4"><apply id="S2.E4.m1.5.5.1.1.1.2.4.1.cmml" xref="S2.E4.m1.5.5.1.1.1.2.4.1"><csymbol cd="ambiguous" id="S2.E4.m1.5.5.1.1.1.2.4.1.1.cmml" xref="S2.E4.m1.5.5.1.1.1.2.4.1">subscript</csymbol><min id="S2.E4.m1.5.5.1.1.1.2.4.1.2.cmml" xref="S2.E4.m1.5.5.1.1.1.2.4.1.2"></min><apply id="S2.E4.m1.2.2.2.cmml" xref="S2.E4.m1.2.2.2"><in id="S2.E4.m1.2.2.2.3.cmml" xref="S2.E4.m1.2.2.2.3"></in><apply id="S2.E4.m1.2.2.2.4.cmml" xref="S2.E4.m1.2.2.2.4"><csymbol cd="ambiguous" id="S2.E4.m1.2.2.2.4.1.cmml" xref="S2.E4.m1.2.2.2.4">superscript</csymbol><ci id="S2.E4.m1.2.2.2.4.2.cmml" xref="S2.E4.m1.2.2.2.4.2">𝑡</ci><ci id="S2.E4.m1.2.2.2.4.3.cmml" xref="S2.E4.m1.2.2.2.4.3">′</ci></apply><interval closure="open" id="S2.E4.m1.2.2.2.2.3.cmml" xref="S2.E4.m1.2.2.2.2.2"><apply id="S2.E4.m1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.1.1.1.1.1.1"><plus id="S2.E4.m1.1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1"></plus><ci id="S2.E4.m1.1.1.1.1.1.1.2.cmml" xref="S2.E4.m1.1.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="S2.E4.m1.1.1.1.1.1.1.3.cmml" xref="S2.E4.m1.1.1.1.1.1.1.3">1</cn></apply><apply id="S2.E4.m1.2.2.2.2.2.2.cmml" xref="S2.E4.m1.2.2.2.2.2.2"><minus id="S2.E4.m1.2.2.2.2.2.2.1.cmml" xref="S2.E4.m1.2.2.2.2.2.2.1"></minus><ci id="S2.E4.m1.2.2.2.2.2.2.2.cmml" xref="S2.E4.m1.2.2.2.2.2.2.2">𝑡</ci><cn type="integer" id="S2.E4.m1.2.2.2.2.2.2.3.cmml" xref="S2.E4.m1.2.2.2.2.2.2.3">1</cn></apply></interval></apply></apply><apply id="S2.E4.m1.5.5.1.1.1.2.4.2.cmml" xref="S2.E4.m1.5.5.1.1.1.2.4.2"><times id="S2.E4.m1.5.5.1.1.1.2.4.2.1.cmml" xref="S2.E4.m1.5.5.1.1.1.2.4.2.1"></times><ci id="S2.E4.m1.5.5.1.1.1.2.4.2.2.cmml" xref="S2.E4.m1.5.5.1.1.1.2.4.2.2">𝑝</ci><ci id="S2.E4.m1.5.5.1.1.1.2.4.2.3.cmml" xref="S2.E4.m1.5.5.1.1.1.2.4.2.3">𝑒</ci></apply></apply><interval closure="open" id="S2.E4.m1.5.5.1.1.1.2.2.3.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2"><apply id="S2.E4.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.5.5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E4.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.5.5.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E4.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S2.E4.m1.5.5.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S2.E4.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="S2.E4.m1.5.5.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S2.E4.m1.5.5.1.1.1.2.2.2.2.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S2.E4.m1.5.5.1.1.1.2.2.2.2.1.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2">subscript</csymbol><ci id="S2.E4.m1.5.5.1.1.1.2.2.2.2.2.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.2">𝐼</ci><apply id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3"><ci id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.1.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.1">→</ci><apply id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2"><csymbol cd="ambiguous" id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.1.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2">superscript</csymbol><ci id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.2.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.2">𝑡</ci><ci id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.3.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.2.3">′</ci></apply><ci id="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.3.cmml" xref="S2.E4.m1.5.5.1.1.1.2.2.2.2.3.3">𝑡</ci></apply></apply></interval></apply><apply id="S2.E4.m1.5.5.1.1.1.4.cmml" xref="S2.E4.m1.5.5.1.1.1.4"><times id="S2.E4.m1.5.5.1.1.1.4.3.cmml" xref="S2.E4.m1.5.5.1.1.1.4.3"></times><apply id="S2.E4.m1.5.5.1.1.1.4.4.cmml" xref="S2.E4.m1.5.5.1.1.1.4.4"><apply id="S2.E4.m1.5.5.1.1.1.4.4.1.cmml" xref="S2.E4.m1.5.5.1.1.1.4.4.1"><csymbol cd="ambiguous" id="S2.E4.m1.5.5.1.1.1.4.4.1.1.cmml" xref="S2.E4.m1.5.5.1.1.1.4.4.1">subscript</csymbol><min id="S2.E4.m1.5.5.1.1.1.4.4.1.2.cmml" xref="S2.E4.m1.5.5.1.1.1.4.4.1.2"></min><apply id="S2.E4.m1.4.4.2.cmml" xref="S2.E4.m1.4.4.2"><in id="S2.E4.m1.4.4.2.3.cmml" xref="S2.E4.m1.4.4.2.3"></in><apply id="S2.E4.m1.4.4.2.4.cmml" xref="S2.E4.m1.4.4.2.4"><csymbol cd="ambiguous" id="S2.E4.m1.4.4.2.4.1.cmml" xref="S2.E4.m1.4.4.2.4">superscript</csymbol><ci id="S2.E4.m1.4.4.2.4.2.cmml" xref="S2.E4.m1.4.4.2.4.2">𝑡</ci><ci id="S2.E4.m1.4.4.2.4.3.cmml" xref="S2.E4.m1.4.4.2.4.3">′</ci></apply><interval closure="open" id="S2.E4.m1.4.4.2.2.3.cmml" xref="S2.E4.m1.4.4.2.2.2"><apply id="S2.E4.m1.3.3.1.1.1.1.cmml" xref="S2.E4.m1.3.3.1.1.1.1"><plus id="S2.E4.m1.3.3.1.1.1.1.1.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1"></plus><ci id="S2.E4.m1.3.3.1.1.1.1.2.cmml" xref="S2.E4.m1.3.3.1.1.1.1.2">𝑡</ci><cn type="integer" id="S2.E4.m1.3.3.1.1.1.1.3.cmml" xref="S2.E4.m1.3.3.1.1.1.1.3">1</cn></apply><apply id="S2.E4.m1.4.4.2.2.2.2.cmml" xref="S2.E4.m1.4.4.2.2.2.2"><minus id="S2.E4.m1.4.4.2.2.2.2.1.cmml" xref="S2.E4.m1.4.4.2.2.2.2.1"></minus><ci id="S2.E4.m1.4.4.2.2.2.2.2.cmml" xref="S2.E4.m1.4.4.2.2.2.2.2">𝑡</ci><cn type="integer" id="S2.E4.m1.4.4.2.2.2.2.3.cmml" xref="S2.E4.m1.4.4.2.2.2.2.3">1</cn></apply></interval></apply></apply><apply id="S2.E4.m1.5.5.1.1.1.4.4.2.cmml" xref="S2.E4.m1.5.5.1.1.1.4.4.2"><times id="S2.E4.m1.5.5.1.1.1.4.4.2.1.cmml" xref="S2.E4.m1.5.5.1.1.1.4.4.2.1"></times><ci id="S2.E4.m1.5.5.1.1.1.4.4.2.2.cmml" xref="S2.E4.m1.5.5.1.1.1.4.4.2.2">𝑝</ci><ci id="S2.E4.m1.5.5.1.1.1.4.4.2.3.cmml" xref="S2.E4.m1.5.5.1.1.1.4.4.2.3">𝑒</ci></apply></apply><interval closure="open" id="S2.E4.m1.5.5.1.1.1.4.2.3.cmml" xref="S2.E4.m1.5.5.1.1.1.4.2.2"><apply id="S2.E4.m1.5.5.1.1.1.3.1.1.1.cmml" xref="S2.E4.m1.5.5.1.1.1.3.1.1.1"><csymbol cd="ambiguous" id="S2.E4.m1.5.5.1.1.1.3.1.1.1.1.cmml" xref="S2.E4.m1.5.5.1.1.1.3.1.1.1">subscript</csymbol><ci id="S2.E4.m1.5.5.1.1.1.3.1.1.1.2.cmml" xref="S2.E4.m1.5.5.1.1.1.3.1.1.1.2">𝐼</ci><ci id="S2.E4.m1.5.5.1.1.1.3.1.1.1.3.cmml" xref="S2.E4.m1.5.5.1.1.1.3.1.1.1.3">𝑡</ci></apply><apply id="S2.E4.m1.5.5.1.1.1.4.2.2.2.cmml" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2"><csymbol cd="ambiguous" id="S2.E4.m1.5.5.1.1.1.4.2.2.2.1.cmml" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2">subscript</csymbol><ci id="S2.E4.m1.5.5.1.1.1.4.2.2.2.2.cmml" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2.2">𝐼</ci><apply id="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.cmml" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2.3"><csymbol cd="ambiguous" id="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.1.cmml" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2.3">superscript</csymbol><ci id="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.2.cmml" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.2">𝑡</ci><ci id="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.3.cmml" xref="S2.E4.m1.5.5.1.1.1.4.2.2.2.3.3">′</ci></apply></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E4.m1.5c">\mu=[\min_{t^{\prime}\in(t+1,t-1)}pe(I_{t},I_{t^{\prime}\rightarrow t})&lt;\min_{t^{\prime}\in(t+1,t-1)}pe(I_{t},I_{t^{\prime}})]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.p3.10" class="ltx_p">We also used edge-aware smoothness so that there is no discontinuities in the predicted depth <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> that can be expressed as</p>
<table id="S2.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E5.m1.4" class="ltx_Math" alttext="\mathcal{L}_{s}=|\partial_{x}\hat{d}^{*}_{t}|e^{-|\partial_{x}I_{t}|}+|\partial_{y}\hat{d}^{*}_{t}|e^{-|\partial_{y}I_{t}|}" display="block"><semantics id="S2.E5.m1.4a"><mrow id="S2.E5.m1.4.4" xref="S2.E5.m1.4.4.cmml"><msub id="S2.E5.m1.4.4.4" xref="S2.E5.m1.4.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E5.m1.4.4.4.2" xref="S2.E5.m1.4.4.4.2.cmml">ℒ</mi><mi id="S2.E5.m1.4.4.4.3" xref="S2.E5.m1.4.4.4.3.cmml">s</mi></msub><mo id="S2.E5.m1.4.4.3" xref="S2.E5.m1.4.4.3.cmml">=</mo><mrow id="S2.E5.m1.4.4.2" xref="S2.E5.m1.4.4.2.cmml"><mrow id="S2.E5.m1.3.3.1.1" xref="S2.E5.m1.3.3.1.1.cmml"><mrow id="S2.E5.m1.3.3.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.2.cmml"><mo stretchy="false" id="S2.E5.m1.3.3.1.1.1.1.2" xref="S2.E5.m1.3.3.1.1.1.2.1.cmml">|</mo><mrow id="S2.E5.m1.3.3.1.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.1.1.cmml"><msub id="S2.E5.m1.3.3.1.1.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.1.1.1.cmml"><mo lspace="0em" rspace="0em" id="S2.E5.m1.3.3.1.1.1.1.1.1.2" xref="S2.E5.m1.3.3.1.1.1.1.1.1.2.cmml">∂</mo><mi id="S2.E5.m1.3.3.1.1.1.1.1.1.3" xref="S2.E5.m1.3.3.1.1.1.1.1.1.3.cmml">x</mi></msub><msubsup id="S2.E5.m1.3.3.1.1.1.1.1.2" xref="S2.E5.m1.3.3.1.1.1.1.1.2.cmml"><mover accent="true" id="S2.E5.m1.3.3.1.1.1.1.1.2.2.2" xref="S2.E5.m1.3.3.1.1.1.1.1.2.2.2.cmml"><mi id="S2.E5.m1.3.3.1.1.1.1.1.2.2.2.2" xref="S2.E5.m1.3.3.1.1.1.1.1.2.2.2.2.cmml">d</mi><mo id="S2.E5.m1.3.3.1.1.1.1.1.2.2.2.1" xref="S2.E5.m1.3.3.1.1.1.1.1.2.2.2.1.cmml">^</mo></mover><mi id="S2.E5.m1.3.3.1.1.1.1.1.2.3" xref="S2.E5.m1.3.3.1.1.1.1.1.2.3.cmml">t</mi><mo id="S2.E5.m1.3.3.1.1.1.1.1.2.2.3" xref="S2.E5.m1.3.3.1.1.1.1.1.2.2.3.cmml">∗</mo></msubsup></mrow><mo stretchy="false" id="S2.E5.m1.3.3.1.1.1.1.3" xref="S2.E5.m1.3.3.1.1.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S2.E5.m1.3.3.1.1.2" xref="S2.E5.m1.3.3.1.1.2.cmml">​</mo><msup id="S2.E5.m1.3.3.1.1.3" xref="S2.E5.m1.3.3.1.1.3.cmml"><mi id="S2.E5.m1.3.3.1.1.3.2" xref="S2.E5.m1.3.3.1.1.3.2.cmml">e</mi><mrow id="S2.E5.m1.1.1.1" xref="S2.E5.m1.1.1.1.cmml"><mo id="S2.E5.m1.1.1.1a" xref="S2.E5.m1.1.1.1.cmml">−</mo><mrow id="S2.E5.m1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E5.m1.1.1.1.1.1.2" xref="S2.E5.m1.1.1.1.1.2.1.cmml">|</mo><mrow id="S2.E5.m1.1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.1.1.cmml"><msub id="S2.E5.m1.1.1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.1.1.1.cmml"><mo lspace="0em" rspace="0em" id="S2.E5.m1.1.1.1.1.1.1.1.2" xref="S2.E5.m1.1.1.1.1.1.1.1.2.cmml">∂</mo><mi id="S2.E5.m1.1.1.1.1.1.1.1.3" xref="S2.E5.m1.1.1.1.1.1.1.1.3.cmml">x</mi></msub><msub id="S2.E5.m1.1.1.1.1.1.1.2" xref="S2.E5.m1.1.1.1.1.1.1.2.cmml"><mi id="S2.E5.m1.1.1.1.1.1.1.2.2" xref="S2.E5.m1.1.1.1.1.1.1.2.2.cmml">I</mi><mi id="S2.E5.m1.1.1.1.1.1.1.2.3" xref="S2.E5.m1.1.1.1.1.1.1.2.3.cmml">t</mi></msub></mrow><mo stretchy="false" id="S2.E5.m1.1.1.1.1.1.3" xref="S2.E5.m1.1.1.1.1.2.1.cmml">|</mo></mrow></mrow></msup></mrow><mo id="S2.E5.m1.4.4.2.3" xref="S2.E5.m1.4.4.2.3.cmml">+</mo><mrow id="S2.E5.m1.4.4.2.2" xref="S2.E5.m1.4.4.2.2.cmml"><mrow id="S2.E5.m1.4.4.2.2.1.1" xref="S2.E5.m1.4.4.2.2.1.2.cmml"><mo stretchy="false" id="S2.E5.m1.4.4.2.2.1.1.2" xref="S2.E5.m1.4.4.2.2.1.2.1.cmml">|</mo><mrow id="S2.E5.m1.4.4.2.2.1.1.1" xref="S2.E5.m1.4.4.2.2.1.1.1.cmml"><msub id="S2.E5.m1.4.4.2.2.1.1.1.1" xref="S2.E5.m1.4.4.2.2.1.1.1.1.cmml"><mo lspace="0em" rspace="0em" id="S2.E5.m1.4.4.2.2.1.1.1.1.2" xref="S2.E5.m1.4.4.2.2.1.1.1.1.2.cmml">∂</mo><mi id="S2.E5.m1.4.4.2.2.1.1.1.1.3" xref="S2.E5.m1.4.4.2.2.1.1.1.1.3.cmml">y</mi></msub><msubsup id="S2.E5.m1.4.4.2.2.1.1.1.2" xref="S2.E5.m1.4.4.2.2.1.1.1.2.cmml"><mover accent="true" id="S2.E5.m1.4.4.2.2.1.1.1.2.2.2" xref="S2.E5.m1.4.4.2.2.1.1.1.2.2.2.cmml"><mi id="S2.E5.m1.4.4.2.2.1.1.1.2.2.2.2" xref="S2.E5.m1.4.4.2.2.1.1.1.2.2.2.2.cmml">d</mi><mo id="S2.E5.m1.4.4.2.2.1.1.1.2.2.2.1" xref="S2.E5.m1.4.4.2.2.1.1.1.2.2.2.1.cmml">^</mo></mover><mi id="S2.E5.m1.4.4.2.2.1.1.1.2.3" xref="S2.E5.m1.4.4.2.2.1.1.1.2.3.cmml">t</mi><mo id="S2.E5.m1.4.4.2.2.1.1.1.2.2.3" xref="S2.E5.m1.4.4.2.2.1.1.1.2.2.3.cmml">∗</mo></msubsup></mrow><mo stretchy="false" id="S2.E5.m1.4.4.2.2.1.1.3" xref="S2.E5.m1.4.4.2.2.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S2.E5.m1.4.4.2.2.2" xref="S2.E5.m1.4.4.2.2.2.cmml">​</mo><msup id="S2.E5.m1.4.4.2.2.3" xref="S2.E5.m1.4.4.2.2.3.cmml"><mi id="S2.E5.m1.4.4.2.2.3.2" xref="S2.E5.m1.4.4.2.2.3.2.cmml">e</mi><mrow id="S2.E5.m1.2.2.1" xref="S2.E5.m1.2.2.1.cmml"><mo id="S2.E5.m1.2.2.1a" xref="S2.E5.m1.2.2.1.cmml">−</mo><mrow id="S2.E5.m1.2.2.1.1.1" xref="S2.E5.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S2.E5.m1.2.2.1.1.1.2" xref="S2.E5.m1.2.2.1.1.2.1.cmml">|</mo><mrow id="S2.E5.m1.2.2.1.1.1.1" xref="S2.E5.m1.2.2.1.1.1.1.cmml"><msub id="S2.E5.m1.2.2.1.1.1.1.1" xref="S2.E5.m1.2.2.1.1.1.1.1.cmml"><mo lspace="0em" rspace="0em" id="S2.E5.m1.2.2.1.1.1.1.1.2" xref="S2.E5.m1.2.2.1.1.1.1.1.2.cmml">∂</mo><mi id="S2.E5.m1.2.2.1.1.1.1.1.3" xref="S2.E5.m1.2.2.1.1.1.1.1.3.cmml">y</mi></msub><msub id="S2.E5.m1.2.2.1.1.1.1.2" xref="S2.E5.m1.2.2.1.1.1.1.2.cmml"><mi id="S2.E5.m1.2.2.1.1.1.1.2.2" xref="S2.E5.m1.2.2.1.1.1.1.2.2.cmml">I</mi><mi id="S2.E5.m1.2.2.1.1.1.1.2.3" xref="S2.E5.m1.2.2.1.1.1.1.2.3.cmml">t</mi></msub></mrow><mo stretchy="false" id="S2.E5.m1.2.2.1.1.1.3" xref="S2.E5.m1.2.2.1.1.2.1.cmml">|</mo></mrow></mrow></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E5.m1.4b"><apply id="S2.E5.m1.4.4.cmml" xref="S2.E5.m1.4.4"><eq id="S2.E5.m1.4.4.3.cmml" xref="S2.E5.m1.4.4.3"></eq><apply id="S2.E5.m1.4.4.4.cmml" xref="S2.E5.m1.4.4.4"><csymbol cd="ambiguous" id="S2.E5.m1.4.4.4.1.cmml" xref="S2.E5.m1.4.4.4">subscript</csymbol><ci id="S2.E5.m1.4.4.4.2.cmml" xref="S2.E5.m1.4.4.4.2">ℒ</ci><ci id="S2.E5.m1.4.4.4.3.cmml" xref="S2.E5.m1.4.4.4.3">𝑠</ci></apply><apply id="S2.E5.m1.4.4.2.cmml" xref="S2.E5.m1.4.4.2"><plus id="S2.E5.m1.4.4.2.3.cmml" xref="S2.E5.m1.4.4.2.3"></plus><apply id="S2.E5.m1.3.3.1.1.cmml" xref="S2.E5.m1.3.3.1.1"><times id="S2.E5.m1.3.3.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.2"></times><apply id="S2.E5.m1.3.3.1.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1"><abs id="S2.E5.m1.3.3.1.1.1.2.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.2"></abs><apply id="S2.E5.m1.3.3.1.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1"><apply id="S2.E5.m1.3.3.1.1.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1">subscript</csymbol><partialdiff id="S2.E5.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1.2"></partialdiff><ci id="S2.E5.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1.3">𝑥</ci></apply><apply id="S2.E5.m1.3.3.1.1.1.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.1.1.1.2.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.2">subscript</csymbol><apply id="S2.E5.m1.3.3.1.1.1.1.1.2.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.1.1.1.2.2.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.2">superscript</csymbol><apply id="S2.E5.m1.3.3.1.1.1.1.1.2.2.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.2.2.2"><ci id="S2.E5.m1.3.3.1.1.1.1.1.2.2.2.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.2.2.2.1">^</ci><ci id="S2.E5.m1.3.3.1.1.1.1.1.2.2.2.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.2.2.2.2">𝑑</ci></apply><times id="S2.E5.m1.3.3.1.1.1.1.1.2.2.3.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.2.2.3"></times></apply><ci id="S2.E5.m1.3.3.1.1.1.1.1.2.3.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.2.3">𝑡</ci></apply></apply></apply><apply id="S2.E5.m1.3.3.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.3.1.cmml" xref="S2.E5.m1.3.3.1.1.3">superscript</csymbol><ci id="S2.E5.m1.3.3.1.1.3.2.cmml" xref="S2.E5.m1.3.3.1.1.3.2">𝑒</ci><apply id="S2.E5.m1.1.1.1.cmml" xref="S2.E5.m1.1.1.1"><minus id="S2.E5.m1.1.1.1.2.cmml" xref="S2.E5.m1.1.1.1"></minus><apply id="S2.E5.m1.1.1.1.1.2.cmml" xref="S2.E5.m1.1.1.1.1.1"><abs id="S2.E5.m1.1.1.1.1.2.1.cmml" xref="S2.E5.m1.1.1.1.1.1.2"></abs><apply id="S2.E5.m1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1.1.1"><apply id="S2.E5.m1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1">subscript</csymbol><partialdiff id="S2.E5.m1.1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.2"></partialdiff><ci id="S2.E5.m1.1.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.3">𝑥</ci></apply><apply id="S2.E5.m1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E5.m1.1.1.1.1.1.1.2.1.cmml" xref="S2.E5.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.E5.m1.1.1.1.1.1.1.2.2.cmml" xref="S2.E5.m1.1.1.1.1.1.1.2.2">𝐼</ci><ci id="S2.E5.m1.1.1.1.1.1.1.2.3.cmml" xref="S2.E5.m1.1.1.1.1.1.1.2.3">𝑡</ci></apply></apply></apply></apply></apply></apply><apply id="S2.E5.m1.4.4.2.2.cmml" xref="S2.E5.m1.4.4.2.2"><times id="S2.E5.m1.4.4.2.2.2.cmml" xref="S2.E5.m1.4.4.2.2.2"></times><apply id="S2.E5.m1.4.4.2.2.1.2.cmml" xref="S2.E5.m1.4.4.2.2.1.1"><abs id="S2.E5.m1.4.4.2.2.1.2.1.cmml" xref="S2.E5.m1.4.4.2.2.1.1.2"></abs><apply id="S2.E5.m1.4.4.2.2.1.1.1.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1"><apply id="S2.E5.m1.4.4.2.2.1.1.1.1.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.4.4.2.2.1.1.1.1.1.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.1">subscript</csymbol><partialdiff id="S2.E5.m1.4.4.2.2.1.1.1.1.2.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.1.2"></partialdiff><ci id="S2.E5.m1.4.4.2.2.1.1.1.1.3.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.1.3">𝑦</ci></apply><apply id="S2.E5.m1.4.4.2.2.1.1.1.2.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.E5.m1.4.4.2.2.1.1.1.2.1.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.2">subscript</csymbol><apply id="S2.E5.m1.4.4.2.2.1.1.1.2.2.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.E5.m1.4.4.2.2.1.1.1.2.2.1.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.2">superscript</csymbol><apply id="S2.E5.m1.4.4.2.2.1.1.1.2.2.2.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.2.2.2"><ci id="S2.E5.m1.4.4.2.2.1.1.1.2.2.2.1.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.2.2.2.1">^</ci><ci id="S2.E5.m1.4.4.2.2.1.1.1.2.2.2.2.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.2.2.2.2">𝑑</ci></apply><times id="S2.E5.m1.4.4.2.2.1.1.1.2.2.3.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.2.2.3"></times></apply><ci id="S2.E5.m1.4.4.2.2.1.1.1.2.3.cmml" xref="S2.E5.m1.4.4.2.2.1.1.1.2.3">𝑡</ci></apply></apply></apply><apply id="S2.E5.m1.4.4.2.2.3.cmml" xref="S2.E5.m1.4.4.2.2.3"><csymbol cd="ambiguous" id="S2.E5.m1.4.4.2.2.3.1.cmml" xref="S2.E5.m1.4.4.2.2.3">superscript</csymbol><ci id="S2.E5.m1.4.4.2.2.3.2.cmml" xref="S2.E5.m1.4.4.2.2.3.2">𝑒</ci><apply id="S2.E5.m1.2.2.1.cmml" xref="S2.E5.m1.2.2.1"><minus id="S2.E5.m1.2.2.1.2.cmml" xref="S2.E5.m1.2.2.1"></minus><apply id="S2.E5.m1.2.2.1.1.2.cmml" xref="S2.E5.m1.2.2.1.1.1"><abs id="S2.E5.m1.2.2.1.1.2.1.cmml" xref="S2.E5.m1.2.2.1.1.1.2"></abs><apply id="S2.E5.m1.2.2.1.1.1.1.cmml" xref="S2.E5.m1.2.2.1.1.1.1"><apply id="S2.E5.m1.2.2.1.1.1.1.1.cmml" xref="S2.E5.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.2.2.1.1.1.1.1.1.cmml" xref="S2.E5.m1.2.2.1.1.1.1.1">subscript</csymbol><partialdiff id="S2.E5.m1.2.2.1.1.1.1.1.2.cmml" xref="S2.E5.m1.2.2.1.1.1.1.1.2"></partialdiff><ci id="S2.E5.m1.2.2.1.1.1.1.1.3.cmml" xref="S2.E5.m1.2.2.1.1.1.1.1.3">𝑦</ci></apply><apply id="S2.E5.m1.2.2.1.1.1.1.2.cmml" xref="S2.E5.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E5.m1.2.2.1.1.1.1.2.1.cmml" xref="S2.E5.m1.2.2.1.1.1.1.2">subscript</csymbol><ci id="S2.E5.m1.2.2.1.1.1.1.2.2.cmml" xref="S2.E5.m1.2.2.1.1.1.1.2.2">𝐼</ci><ci id="S2.E5.m1.2.2.1.1.1.1.2.3.cmml" xref="S2.E5.m1.2.2.1.1.1.1.2.3">𝑡</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E5.m1.4c">\mathcal{L}_{s}=|\partial_{x}\hat{d}^{*}_{t}|e^{-|\partial_{x}I_{t}|}+|\partial_{y}\hat{d}^{*}_{t}|e^{-|\partial_{y}I_{t}|}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.p3.5" class="ltx_p">where <math id="S2.SS2.p3.1.m1.1" class="ltx_Math" alttext="\partial_{x}" display="inline"><semantics id="S2.SS2.p3.1.m1.1a"><msub id="S2.SS2.p3.1.m1.1.1" xref="S2.SS2.p3.1.m1.1.1.cmml"><mo id="S2.SS2.p3.1.m1.1.1.2" xref="S2.SS2.p3.1.m1.1.1.2.cmml">∂</mo><mi id="S2.SS2.p3.1.m1.1.1.3" xref="S2.SS2.p3.1.m1.1.1.3.cmml">x</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.1.m1.1b"><apply id="S2.SS2.p3.1.m1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.1.m1.1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1">subscript</csymbol><partialdiff id="S2.SS2.p3.1.m1.1.1.2.cmml" xref="S2.SS2.p3.1.m1.1.1.2"></partialdiff><ci id="S2.SS2.p3.1.m1.1.1.3.cmml" xref="S2.SS2.p3.1.m1.1.1.3">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.1.m1.1c">\partial_{x}</annotation></semantics></math> and <math id="S2.SS2.p3.2.m2.1" class="ltx_Math" alttext="\partial_{y}" display="inline"><semantics id="S2.SS2.p3.2.m2.1a"><msub id="S2.SS2.p3.2.m2.1.1" xref="S2.SS2.p3.2.m2.1.1.cmml"><mo id="S2.SS2.p3.2.m2.1.1.2" xref="S2.SS2.p3.2.m2.1.1.2.cmml">∂</mo><mi id="S2.SS2.p3.2.m2.1.1.3" xref="S2.SS2.p3.2.m2.1.1.3.cmml">y</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.2.m2.1b"><apply id="S2.SS2.p3.2.m2.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.2.m2.1.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1">subscript</csymbol><partialdiff id="S2.SS2.p3.2.m2.1.1.2.cmml" xref="S2.SS2.p3.2.m2.1.1.2"></partialdiff><ci id="S2.SS2.p3.2.m2.1.1.3.cmml" xref="S2.SS2.p3.2.m2.1.1.3">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.2.m2.1c">\partial_{y}</annotation></semantics></math> is the partial derivative on each <math id="S2.SS2.p3.3.m3.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.SS2.p3.3.m3.1a"><mi id="S2.SS2.p3.3.m3.1.1" xref="S2.SS2.p3.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.3.m3.1b"><ci id="S2.SS2.p3.3.m3.1.1.cmml" xref="S2.SS2.p3.3.m3.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.3.m3.1c">x</annotation></semantics></math> and <math id="S2.SS2.p3.4.m4.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S2.SS2.p3.4.m4.1a"><mi id="S2.SS2.p3.4.m4.1.1" xref="S2.SS2.p3.4.m4.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.4.m4.1b"><ci id="S2.SS2.p3.4.m4.1.1.cmml" xref="S2.SS2.p3.4.m4.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.4.m4.1c">y</annotation></semantics></math> direction and <math id="S2.SS2.p3.5.m5.1" class="ltx_Math" alttext="\hat{d}^{*}_{t}" display="inline"><semantics id="S2.SS2.p3.5.m5.1a"><msubsup id="S2.SS2.p3.5.m5.1.1" xref="S2.SS2.p3.5.m5.1.1.cmml"><mover accent="true" id="S2.SS2.p3.5.m5.1.1.2.2" xref="S2.SS2.p3.5.m5.1.1.2.2.cmml"><mi id="S2.SS2.p3.5.m5.1.1.2.2.2" xref="S2.SS2.p3.5.m5.1.1.2.2.2.cmml">d</mi><mo id="S2.SS2.p3.5.m5.1.1.2.2.1" xref="S2.SS2.p3.5.m5.1.1.2.2.1.cmml">^</mo></mover><mi id="S2.SS2.p3.5.m5.1.1.3" xref="S2.SS2.p3.5.m5.1.1.3.cmml">t</mi><mo id="S2.SS2.p3.5.m5.1.1.2.3" xref="S2.SS2.p3.5.m5.1.1.2.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.5.m5.1b"><apply id="S2.SS2.p3.5.m5.1.1.cmml" xref="S2.SS2.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.5.m5.1.1.1.cmml" xref="S2.SS2.p3.5.m5.1.1">subscript</csymbol><apply id="S2.SS2.p3.5.m5.1.1.2.cmml" xref="S2.SS2.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.5.m5.1.1.2.1.cmml" xref="S2.SS2.p3.5.m5.1.1">superscript</csymbol><apply id="S2.SS2.p3.5.m5.1.1.2.2.cmml" xref="S2.SS2.p3.5.m5.1.1.2.2"><ci id="S2.SS2.p3.5.m5.1.1.2.2.1.cmml" xref="S2.SS2.p3.5.m5.1.1.2.2.1">^</ci><ci id="S2.SS2.p3.5.m5.1.1.2.2.2.cmml" xref="S2.SS2.p3.5.m5.1.1.2.2.2">𝑑</ci></apply><times id="S2.SS2.p3.5.m5.1.1.2.3.cmml" xref="S2.SS2.p3.5.m5.1.1.2.3"></times></apply><ci id="S2.SS2.p3.5.m5.1.1.3.cmml" xref="S2.SS2.p3.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.5.m5.1c">\hat{d}^{*}_{t}</annotation></semantics></math> is the mean-normalized predicted inverse depth <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>.
The final self-supervised loss function consists of the masked photometric error and the smoothness term as</p>
<table id="S2.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E6.m1.1" class="ltx_Math" alttext="\mathcal{L}_{un}=\frac{1}{N}\sum_{i}^{N}\mu^{i}\mathcal{L}_{p}^{i}+\lambda\mathcal{L}_{s}^{i}" display="block"><semantics id="S2.E6.m1.1a"><mrow id="S2.E6.m1.1.1" xref="S2.E6.m1.1.1.cmml"><msub id="S2.E6.m1.1.1.2" xref="S2.E6.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E6.m1.1.1.2.2" xref="S2.E6.m1.1.1.2.2.cmml">ℒ</mi><mrow id="S2.E6.m1.1.1.2.3" xref="S2.E6.m1.1.1.2.3.cmml"><mi id="S2.E6.m1.1.1.2.3.2" xref="S2.E6.m1.1.1.2.3.2.cmml">u</mi><mo lspace="0em" rspace="0em" id="S2.E6.m1.1.1.2.3.1" xref="S2.E6.m1.1.1.2.3.1.cmml">​</mo><mi id="S2.E6.m1.1.1.2.3.3" xref="S2.E6.m1.1.1.2.3.3.cmml">n</mi></mrow></msub><mo id="S2.E6.m1.1.1.1" xref="S2.E6.m1.1.1.1.cmml">=</mo><mrow id="S2.E6.m1.1.1.3" xref="S2.E6.m1.1.1.3.cmml"><mrow id="S2.E6.m1.1.1.3.2" xref="S2.E6.m1.1.1.3.2.cmml"><mfrac id="S2.E6.m1.1.1.3.2.2" xref="S2.E6.m1.1.1.3.2.2.cmml"><mn id="S2.E6.m1.1.1.3.2.2.2" xref="S2.E6.m1.1.1.3.2.2.2.cmml">1</mn><mi id="S2.E6.m1.1.1.3.2.2.3" xref="S2.E6.m1.1.1.3.2.2.3.cmml">N</mi></mfrac><mo lspace="0em" rspace="0em" id="S2.E6.m1.1.1.3.2.1" xref="S2.E6.m1.1.1.3.2.1.cmml">​</mo><mrow id="S2.E6.m1.1.1.3.2.3" xref="S2.E6.m1.1.1.3.2.3.cmml"><munderover id="S2.E6.m1.1.1.3.2.3.1" xref="S2.E6.m1.1.1.3.2.3.1.cmml"><mo movablelimits="false" id="S2.E6.m1.1.1.3.2.3.1.2.2" xref="S2.E6.m1.1.1.3.2.3.1.2.2.cmml">∑</mo><mi id="S2.E6.m1.1.1.3.2.3.1.2.3" xref="S2.E6.m1.1.1.3.2.3.1.2.3.cmml">i</mi><mi id="S2.E6.m1.1.1.3.2.3.1.3" xref="S2.E6.m1.1.1.3.2.3.1.3.cmml">N</mi></munderover><mrow id="S2.E6.m1.1.1.3.2.3.2" xref="S2.E6.m1.1.1.3.2.3.2.cmml"><msup id="S2.E6.m1.1.1.3.2.3.2.2" xref="S2.E6.m1.1.1.3.2.3.2.2.cmml"><mi id="S2.E6.m1.1.1.3.2.3.2.2.2" xref="S2.E6.m1.1.1.3.2.3.2.2.2.cmml">μ</mi><mi id="S2.E6.m1.1.1.3.2.3.2.2.3" xref="S2.E6.m1.1.1.3.2.3.2.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S2.E6.m1.1.1.3.2.3.2.1" xref="S2.E6.m1.1.1.3.2.3.2.1.cmml">​</mo><msubsup id="S2.E6.m1.1.1.3.2.3.2.3" xref="S2.E6.m1.1.1.3.2.3.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E6.m1.1.1.3.2.3.2.3.2.2" xref="S2.E6.m1.1.1.3.2.3.2.3.2.2.cmml">ℒ</mi><mi id="S2.E6.m1.1.1.3.2.3.2.3.2.3" xref="S2.E6.m1.1.1.3.2.3.2.3.2.3.cmml">p</mi><mi id="S2.E6.m1.1.1.3.2.3.2.3.3" xref="S2.E6.m1.1.1.3.2.3.2.3.3.cmml">i</mi></msubsup></mrow></mrow></mrow><mo id="S2.E6.m1.1.1.3.1" xref="S2.E6.m1.1.1.3.1.cmml">+</mo><mrow id="S2.E6.m1.1.1.3.3" xref="S2.E6.m1.1.1.3.3.cmml"><mi id="S2.E6.m1.1.1.3.3.2" xref="S2.E6.m1.1.1.3.3.2.cmml">λ</mi><mo lspace="0em" rspace="0em" id="S2.E6.m1.1.1.3.3.1" xref="S2.E6.m1.1.1.3.3.1.cmml">​</mo><msubsup id="S2.E6.m1.1.1.3.3.3" xref="S2.E6.m1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E6.m1.1.1.3.3.3.2.2" xref="S2.E6.m1.1.1.3.3.3.2.2.cmml">ℒ</mi><mi id="S2.E6.m1.1.1.3.3.3.2.3" xref="S2.E6.m1.1.1.3.3.3.2.3.cmml">s</mi><mi id="S2.E6.m1.1.1.3.3.3.3" xref="S2.E6.m1.1.1.3.3.3.3.cmml">i</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E6.m1.1b"><apply id="S2.E6.m1.1.1.cmml" xref="S2.E6.m1.1.1"><eq id="S2.E6.m1.1.1.1.cmml" xref="S2.E6.m1.1.1.1"></eq><apply id="S2.E6.m1.1.1.2.cmml" xref="S2.E6.m1.1.1.2"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.2.1.cmml" xref="S2.E6.m1.1.1.2">subscript</csymbol><ci id="S2.E6.m1.1.1.2.2.cmml" xref="S2.E6.m1.1.1.2.2">ℒ</ci><apply id="S2.E6.m1.1.1.2.3.cmml" xref="S2.E6.m1.1.1.2.3"><times id="S2.E6.m1.1.1.2.3.1.cmml" xref="S2.E6.m1.1.1.2.3.1"></times><ci id="S2.E6.m1.1.1.2.3.2.cmml" xref="S2.E6.m1.1.1.2.3.2">𝑢</ci><ci id="S2.E6.m1.1.1.2.3.3.cmml" xref="S2.E6.m1.1.1.2.3.3">𝑛</ci></apply></apply><apply id="S2.E6.m1.1.1.3.cmml" xref="S2.E6.m1.1.1.3"><plus id="S2.E6.m1.1.1.3.1.cmml" xref="S2.E6.m1.1.1.3.1"></plus><apply id="S2.E6.m1.1.1.3.2.cmml" xref="S2.E6.m1.1.1.3.2"><times id="S2.E6.m1.1.1.3.2.1.cmml" xref="S2.E6.m1.1.1.3.2.1"></times><apply id="S2.E6.m1.1.1.3.2.2.cmml" xref="S2.E6.m1.1.1.3.2.2"><divide id="S2.E6.m1.1.1.3.2.2.1.cmml" xref="S2.E6.m1.1.1.3.2.2"></divide><cn type="integer" id="S2.E6.m1.1.1.3.2.2.2.cmml" xref="S2.E6.m1.1.1.3.2.2.2">1</cn><ci id="S2.E6.m1.1.1.3.2.2.3.cmml" xref="S2.E6.m1.1.1.3.2.2.3">𝑁</ci></apply><apply id="S2.E6.m1.1.1.3.2.3.cmml" xref="S2.E6.m1.1.1.3.2.3"><apply id="S2.E6.m1.1.1.3.2.3.1.cmml" xref="S2.E6.m1.1.1.3.2.3.1"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.3.2.3.1.1.cmml" xref="S2.E6.m1.1.1.3.2.3.1">superscript</csymbol><apply id="S2.E6.m1.1.1.3.2.3.1.2.cmml" xref="S2.E6.m1.1.1.3.2.3.1"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.3.2.3.1.2.1.cmml" xref="S2.E6.m1.1.1.3.2.3.1">subscript</csymbol><sum id="S2.E6.m1.1.1.3.2.3.1.2.2.cmml" xref="S2.E6.m1.1.1.3.2.3.1.2.2"></sum><ci id="S2.E6.m1.1.1.3.2.3.1.2.3.cmml" xref="S2.E6.m1.1.1.3.2.3.1.2.3">𝑖</ci></apply><ci id="S2.E6.m1.1.1.3.2.3.1.3.cmml" xref="S2.E6.m1.1.1.3.2.3.1.3">𝑁</ci></apply><apply id="S2.E6.m1.1.1.3.2.3.2.cmml" xref="S2.E6.m1.1.1.3.2.3.2"><times id="S2.E6.m1.1.1.3.2.3.2.1.cmml" xref="S2.E6.m1.1.1.3.2.3.2.1"></times><apply id="S2.E6.m1.1.1.3.2.3.2.2.cmml" xref="S2.E6.m1.1.1.3.2.3.2.2"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.3.2.3.2.2.1.cmml" xref="S2.E6.m1.1.1.3.2.3.2.2">superscript</csymbol><ci id="S2.E6.m1.1.1.3.2.3.2.2.2.cmml" xref="S2.E6.m1.1.1.3.2.3.2.2.2">𝜇</ci><ci id="S2.E6.m1.1.1.3.2.3.2.2.3.cmml" xref="S2.E6.m1.1.1.3.2.3.2.2.3">𝑖</ci></apply><apply id="S2.E6.m1.1.1.3.2.3.2.3.cmml" xref="S2.E6.m1.1.1.3.2.3.2.3"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.3.2.3.2.3.1.cmml" xref="S2.E6.m1.1.1.3.2.3.2.3">superscript</csymbol><apply id="S2.E6.m1.1.1.3.2.3.2.3.2.cmml" xref="S2.E6.m1.1.1.3.2.3.2.3"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.3.2.3.2.3.2.1.cmml" xref="S2.E6.m1.1.1.3.2.3.2.3">subscript</csymbol><ci id="S2.E6.m1.1.1.3.2.3.2.3.2.2.cmml" xref="S2.E6.m1.1.1.3.2.3.2.3.2.2">ℒ</ci><ci id="S2.E6.m1.1.1.3.2.3.2.3.2.3.cmml" xref="S2.E6.m1.1.1.3.2.3.2.3.2.3">𝑝</ci></apply><ci id="S2.E6.m1.1.1.3.2.3.2.3.3.cmml" xref="S2.E6.m1.1.1.3.2.3.2.3.3">𝑖</ci></apply></apply></apply></apply><apply id="S2.E6.m1.1.1.3.3.cmml" xref="S2.E6.m1.1.1.3.3"><times id="S2.E6.m1.1.1.3.3.1.cmml" xref="S2.E6.m1.1.1.3.3.1"></times><ci id="S2.E6.m1.1.1.3.3.2.cmml" xref="S2.E6.m1.1.1.3.3.2">𝜆</ci><apply id="S2.E6.m1.1.1.3.3.3.cmml" xref="S2.E6.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.3.3.3.1.cmml" xref="S2.E6.m1.1.1.3.3.3">superscript</csymbol><apply id="S2.E6.m1.1.1.3.3.3.2.cmml" xref="S2.E6.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.3.3.3.2.1.cmml" xref="S2.E6.m1.1.1.3.3.3">subscript</csymbol><ci id="S2.E6.m1.1.1.3.3.3.2.2.cmml" xref="S2.E6.m1.1.1.3.3.3.2.2">ℒ</ci><ci id="S2.E6.m1.1.1.3.3.3.2.3.cmml" xref="S2.E6.m1.1.1.3.3.3.2.3">𝑠</ci></apply><ci id="S2.E6.m1.1.1.3.3.3.3.cmml" xref="S2.E6.m1.1.1.3.3.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E6.m1.1c">\mathcal{L}_{un}=\frac{1}{N}\sum_{i}^{N}\mu^{i}\mathcal{L}_{p}^{i}+\lambda\mathcal{L}_{s}^{i}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.p3.8" class="ltx_p">where <math id="S2.SS2.p3.6.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS2.p3.6.m1.1a"><mi id="S2.SS2.p3.6.m1.1.1" xref="S2.SS2.p3.6.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.6.m1.1b"><ci id="S2.SS2.p3.6.m1.1.1.cmml" xref="S2.SS2.p3.6.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.6.m1.1c">i</annotation></semantics></math> represents a pixel index, <math id="S2.SS2.p3.7.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS2.p3.7.m2.1a"><mi id="S2.SS2.p3.7.m2.1.1" xref="S2.SS2.p3.7.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.7.m2.1b"><ci id="S2.SS2.p3.7.m2.1.1.cmml" xref="S2.SS2.p3.7.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.7.m2.1c">N</annotation></semantics></math> is the total number of the pixels, and <math id="S2.SS2.p3.8.m3.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S2.SS2.p3.8.m3.1a"><mi id="S2.SS2.p3.8.m3.1.1" xref="S2.SS2.p3.8.m3.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.8.m3.1b"><ci id="S2.SS2.p3.8.m3.1.1.cmml" xref="S2.SS2.p3.8.m3.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.8.m3.1c">\lambda</annotation></semantics></math> is the balancing weight between the photometric error and the depth smoothness loss.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS3.4.1.1" class="ltx_text">II-C</span> </span><span id="S2.SS3.5.2" class="ltx_text ltx_font_italic">Supervised depth and pose estimation</span>
</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.4" class="ltx_p">To supervise the depth estimation network, we followed the method <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> and used inverse depth <math id="S2.SS3.p1.1.m1.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S2.SS3.p1.1.m1.1a"><mi id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.1b"><ci id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.1c">d</annotation></semantics></math> instead of depth <math id="S2.SS3.p1.2.m2.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S2.SS3.p1.2.m2.1a"><mi id="S2.SS3.p1.2.m2.1.1" xref="S2.SS3.p1.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m2.1b"><ci id="S2.SS3.p1.2.m2.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m2.1c">D</annotation></semantics></math>. We followed a standard inverse depth error loss function which compares the inverse depth prediction <math id="S2.SS3.p1.3.m3.1" class="ltx_Math" alttext="\hat{d}_{t}" display="inline"><semantics id="S2.SS3.p1.3.m3.1a"><msub id="S2.SS3.p1.3.m3.1.1" xref="S2.SS3.p1.3.m3.1.1.cmml"><mover accent="true" id="S2.SS3.p1.3.m3.1.1.2" xref="S2.SS3.p1.3.m3.1.1.2.cmml"><mi id="S2.SS3.p1.3.m3.1.1.2.2" xref="S2.SS3.p1.3.m3.1.1.2.2.cmml">d</mi><mo id="S2.SS3.p1.3.m3.1.1.2.1" xref="S2.SS3.p1.3.m3.1.1.2.1.cmml">^</mo></mover><mi id="S2.SS3.p1.3.m3.1.1.3" xref="S2.SS3.p1.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.3.m3.1b"><apply id="S2.SS3.p1.3.m3.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.3.m3.1.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1">subscript</csymbol><apply id="S2.SS3.p1.3.m3.1.1.2.cmml" xref="S2.SS3.p1.3.m3.1.1.2"><ci id="S2.SS3.p1.3.m3.1.1.2.1.cmml" xref="S2.SS3.p1.3.m3.1.1.2.1">^</ci><ci id="S2.SS3.p1.3.m3.1.1.2.2.cmml" xref="S2.SS3.p1.3.m3.1.1.2.2">𝑑</ci></apply><ci id="S2.SS3.p1.3.m3.1.1.3.cmml" xref="S2.SS3.p1.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.3.m3.1c">\hat{d}_{t}</annotation></semantics></math> and its reference inverse depth <math id="S2.SS3.p1.4.m4.1" class="ltx_Math" alttext="d_{t}" display="inline"><semantics id="S2.SS3.p1.4.m4.1a"><msub id="S2.SS3.p1.4.m4.1.1" xref="S2.SS3.p1.4.m4.1.1.cmml"><mi id="S2.SS3.p1.4.m4.1.1.2" xref="S2.SS3.p1.4.m4.1.1.2.cmml">d</mi><mi id="S2.SS3.p1.4.m4.1.1.3" xref="S2.SS3.p1.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.4.m4.1b"><apply id="S2.SS3.p1.4.m4.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.4.m4.1.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS3.p1.4.m4.1.1.2.cmml" xref="S2.SS3.p1.4.m4.1.1.2">𝑑</ci><ci id="S2.SS3.p1.4.m4.1.1.3.cmml" xref="S2.SS3.p1.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.4.m4.1c">d_{t}</annotation></semantics></math>. It consists of three sub-components which can be formulated as follows</p>
<table id="S2.E7" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S4.EGx1" class="ltx_eqn_row"><td class="ltx_eqn_cell" colspan="5"></td></tr>
<tr id="S2.E7.1" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.E7.1.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{d}" display="inline"><semantics id="S2.E7.1.m1.1a"><msub id="S2.E7.1.m1.1.1" xref="S2.E7.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.1.m1.1.1.2" xref="S2.E7.1.m1.1.1.2.cmml">ℒ</mi><mi id="S2.E7.1.m1.1.1.3" xref="S2.E7.1.m1.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S2.E7.1.m1.1b"><apply id="S2.E7.1.m1.1.1.cmml" xref="S2.E7.1.m1.1.1"><csymbol cd="ambiguous" id="S2.E7.1.m1.1.1.1.cmml" xref="S2.E7.1.m1.1.1">subscript</csymbol><ci id="S2.E7.1.m1.1.1.2.cmml" xref="S2.E7.1.m1.1.1.2">ℒ</ci><ci id="S2.E7.1.m1.1.1.3.cmml" xref="S2.E7.1.m1.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E7.1.m1.1c">\displaystyle\mathcal{L}_{d}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.E7.1.m2.1" class="ltx_Math" alttext="\displaystyle=|\hat{d}_{t}-d_{t}|," display="inline"><semantics id="S2.E7.1.m2.1a"><mrow id="S2.E7.1.m2.1.1.1" xref="S2.E7.1.m2.1.1.1.1.cmml"><mrow id="S2.E7.1.m2.1.1.1.1" xref="S2.E7.1.m2.1.1.1.1.cmml"><mi id="S2.E7.1.m2.1.1.1.1.3" xref="S2.E7.1.m2.1.1.1.1.3.cmml"></mi><mo id="S2.E7.1.m2.1.1.1.1.2" xref="S2.E7.1.m2.1.1.1.1.2.cmml">=</mo><mrow id="S2.E7.1.m2.1.1.1.1.1.1" xref="S2.E7.1.m2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E7.1.m2.1.1.1.1.1.1.2" xref="S2.E7.1.m2.1.1.1.1.1.2.1.cmml">|</mo><mrow id="S2.E7.1.m2.1.1.1.1.1.1.1" xref="S2.E7.1.m2.1.1.1.1.1.1.1.cmml"><msub id="S2.E7.1.m2.1.1.1.1.1.1.1.2" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2.cmml"><mover accent="true" id="S2.E7.1.m2.1.1.1.1.1.1.1.2.2" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.E7.1.m2.1.1.1.1.1.1.1.2.2.2" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2.2.2.cmml">d</mi><mo id="S2.E7.1.m2.1.1.1.1.1.1.1.2.2.1" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mi id="S2.E7.1.m2.1.1.1.1.1.1.1.2.3" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2.3.cmml">t</mi></msub><mo id="S2.E7.1.m2.1.1.1.1.1.1.1.1" xref="S2.E7.1.m2.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S2.E7.1.m2.1.1.1.1.1.1.1.3" xref="S2.E7.1.m2.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E7.1.m2.1.1.1.1.1.1.1.3.2" xref="S2.E7.1.m2.1.1.1.1.1.1.1.3.2.cmml">d</mi><mi id="S2.E7.1.m2.1.1.1.1.1.1.1.3.3" xref="S2.E7.1.m2.1.1.1.1.1.1.1.3.3.cmml">t</mi></msub></mrow><mo stretchy="false" id="S2.E7.1.m2.1.1.1.1.1.1.3" xref="S2.E7.1.m2.1.1.1.1.1.2.1.cmml">|</mo></mrow></mrow><mo id="S2.E7.1.m2.1.1.1.2" xref="S2.E7.1.m2.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E7.1.m2.1b"><apply id="S2.E7.1.m2.1.1.1.1.cmml" xref="S2.E7.1.m2.1.1.1"><eq id="S2.E7.1.m2.1.1.1.1.2.cmml" xref="S2.E7.1.m2.1.1.1.1.2"></eq><csymbol cd="latexml" id="S2.E7.1.m2.1.1.1.1.3.cmml" xref="S2.E7.1.m2.1.1.1.1.3">absent</csymbol><apply id="S2.E7.1.m2.1.1.1.1.1.2.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1"><abs id="S2.E7.1.m2.1.1.1.1.1.2.1.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.2"></abs><apply id="S2.E7.1.m2.1.1.1.1.1.1.1.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1"><minus id="S2.E7.1.m2.1.1.1.1.1.1.1.1.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.1"></minus><apply id="S2.E7.1.m2.1.1.1.1.1.1.1.2.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E7.1.m2.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S2.E7.1.m2.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2.2"><ci id="S2.E7.1.m2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2.2.1">^</ci><ci id="S2.E7.1.m2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2.2.2">𝑑</ci></apply><ci id="S2.E7.1.m2.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S2.E7.1.m2.1.1.1.1.1.1.1.3.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E7.1.m2.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E7.1.m2.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.3.2">𝑑</ci><ci id="S2.E7.1.m2.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E7.1.m2.1.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E7.1.m2.1c">\displaystyle=|\hat{d}_{t}-d_{t}|,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7a)</span></td>
</tr>
<tr id="S2.E7.2" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.E7.2.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{g}" display="inline"><semantics id="S2.E7.2.m1.1a"><msub id="S2.E7.2.m1.1.1" xref="S2.E7.2.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.2.m1.1.1.2" xref="S2.E7.2.m1.1.1.2.cmml">ℒ</mi><mi id="S2.E7.2.m1.1.1.3" xref="S2.E7.2.m1.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S2.E7.2.m1.1b"><apply id="S2.E7.2.m1.1.1.cmml" xref="S2.E7.2.m1.1.1"><csymbol cd="ambiguous" id="S2.E7.2.m1.1.1.1.cmml" xref="S2.E7.2.m1.1.1">subscript</csymbol><ci id="S2.E7.2.m1.1.1.2.cmml" xref="S2.E7.2.m1.1.1.2">ℒ</ci><ci id="S2.E7.2.m1.1.1.3.cmml" xref="S2.E7.2.m1.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E7.2.m1.1c">\displaystyle\mathcal{L}_{g}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.E7.2.m2.1" class="ltx_Math" alttext="\displaystyle=|\partial_{x}(\hat{d}_{t},d_{t})|+|\partial_{y}(\hat{d}_{t},d_{t})|," display="inline"><semantics id="S2.E7.2.m2.1a"><mrow id="S2.E7.2.m2.1.1.1" xref="S2.E7.2.m2.1.1.1.1.cmml"><mrow id="S2.E7.2.m2.1.1.1.1" xref="S2.E7.2.m2.1.1.1.1.cmml"><mi id="S2.E7.2.m2.1.1.1.1.4" xref="S2.E7.2.m2.1.1.1.1.4.cmml"></mi><mo id="S2.E7.2.m2.1.1.1.1.3" xref="S2.E7.2.m2.1.1.1.1.3.cmml">=</mo><mrow id="S2.E7.2.m2.1.1.1.1.2" xref="S2.E7.2.m2.1.1.1.1.2.cmml"><mrow id="S2.E7.2.m2.1.1.1.1.1.1.1" xref="S2.E7.2.m2.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E7.2.m2.1.1.1.1.1.1.1.2" xref="S2.E7.2.m2.1.1.1.1.1.1.2.1.cmml">|</mo><mrow id="S2.E7.2.m2.1.1.1.1.1.1.1.1" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E7.2.m2.1.1.1.1.1.1.1.1.3" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.cmml"><mo lspace="0em" rspace="0em" id="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.2" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.2.cmml">∂</mo><mi id="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.3" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.3.cmml">x</mi></msub><mrow id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.3.cmml"><mo stretchy="false" id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.3" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">d</mi><mo id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2.1" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.4" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.2" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.2.cmml">d</mi><mi id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.3" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.3.cmml">t</mi></msub><mo stretchy="false" id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.5" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E7.2.m2.1.1.1.1.1.1.1.3" xref="S2.E7.2.m2.1.1.1.1.1.1.2.1.cmml">|</mo></mrow><mo id="S2.E7.2.m2.1.1.1.1.2.3" xref="S2.E7.2.m2.1.1.1.1.2.3.cmml">+</mo><mrow id="S2.E7.2.m2.1.1.1.1.2.2.1" xref="S2.E7.2.m2.1.1.1.1.2.2.2.cmml"><mo stretchy="false" id="S2.E7.2.m2.1.1.1.1.2.2.1.2" xref="S2.E7.2.m2.1.1.1.1.2.2.2.1.cmml">|</mo><mrow id="S2.E7.2.m2.1.1.1.1.2.2.1.1" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.cmml"><msub id="S2.E7.2.m2.1.1.1.1.2.2.1.1.3" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.cmml"><mo lspace="0em" rspace="0em" id="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.2" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.2.cmml">∂</mo><mi id="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.3" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.3.cmml">y</mi></msub><mrow id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.3.cmml"><mo stretchy="false" id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.3" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.3.cmml">(</mo><msub id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.cmml"><mover accent="true" id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2.cmml"><mi id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2.2" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2.2.cmml">d</mi><mo id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2.1" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.3" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.4" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.3.cmml">,</mo><msub id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.cmml"><mi id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.2" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.2.cmml">d</mi><mi id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.3" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.3.cmml">t</mi></msub><mo stretchy="false" id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.5" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E7.2.m2.1.1.1.1.2.2.1.3" xref="S2.E7.2.m2.1.1.1.1.2.2.2.1.cmml">|</mo></mrow></mrow></mrow><mo id="S2.E7.2.m2.1.1.1.2" xref="S2.E7.2.m2.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E7.2.m2.1b"><apply id="S2.E7.2.m2.1.1.1.1.cmml" xref="S2.E7.2.m2.1.1.1"><eq id="S2.E7.2.m2.1.1.1.1.3.cmml" xref="S2.E7.2.m2.1.1.1.1.3"></eq><csymbol cd="latexml" id="S2.E7.2.m2.1.1.1.1.4.cmml" xref="S2.E7.2.m2.1.1.1.1.4">absent</csymbol><apply id="S2.E7.2.m2.1.1.1.1.2.cmml" xref="S2.E7.2.m2.1.1.1.1.2"><plus id="S2.E7.2.m2.1.1.1.1.2.3.cmml" xref="S2.E7.2.m2.1.1.1.1.2.3"></plus><apply id="S2.E7.2.m2.1.1.1.1.1.1.2.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1"><abs id="S2.E7.2.m2.1.1.1.1.1.1.2.1.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.2"></abs><apply id="S2.E7.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1"><apply id="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.3">subscript</csymbol><partialdiff id="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.2"></partialdiff><ci id="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.3.3">𝑥</ci></apply><interval closure="open" id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2"><apply id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2"><ci id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2.1">^</ci><ci id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.2.2">𝑑</ci></apply><ci id="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.2">𝑑</ci><ci id="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S2.E7.2.m2.1.1.1.1.1.1.1.1.2.2.2.3">𝑡</ci></apply></interval></apply></apply><apply id="S2.E7.2.m2.1.1.1.1.2.2.2.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1"><abs id="S2.E7.2.m2.1.1.1.1.2.2.2.1.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.2"></abs><apply id="S2.E7.2.m2.1.1.1.1.2.2.1.1.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1"><apply id="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.3"><csymbol cd="ambiguous" id="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.1.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.3">subscript</csymbol><partialdiff id="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.2.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.2"></partialdiff><ci id="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.3.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.3.3">𝑦</ci></apply><interval closure="open" id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.3.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2"><apply id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.1.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1">subscript</csymbol><apply id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2"><ci id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2.1.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2.1">^</ci><ci id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2.2.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.2.2">𝑑</ci></apply><ci id="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.3.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.1.1.1.3">𝑡</ci></apply><apply id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.1.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2">subscript</csymbol><ci id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.2.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.2">𝑑</ci><ci id="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.3.cmml" xref="S2.E7.2.m2.1.1.1.1.2.2.1.1.2.2.2.3">𝑡</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E7.2.m2.1c">\displaystyle=|\partial_{x}(\hat{d}_{t},d_{t})|+|\partial_{y}(\hat{d}_{t},d_{t})|,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7b)</span></td>
</tr>
<tr id="S2.E7.3" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.E7.3.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{\textrm{SSIM}}" display="inline"><semantics id="S2.E7.3.m1.1a"><msub id="S2.E7.3.m1.1.1" xref="S2.E7.3.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.3.m1.1.1.2" xref="S2.E7.3.m1.1.1.2.cmml">ℒ</mi><mtext id="S2.E7.3.m1.1.1.3" xref="S2.E7.3.m1.1.1.3a.cmml">SSIM</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.E7.3.m1.1b"><apply id="S2.E7.3.m1.1.1.cmml" xref="S2.E7.3.m1.1.1"><csymbol cd="ambiguous" id="S2.E7.3.m1.1.1.1.cmml" xref="S2.E7.3.m1.1.1">subscript</csymbol><ci id="S2.E7.3.m1.1.1.2.cmml" xref="S2.E7.3.m1.1.1.2">ℒ</ci><ci id="S2.E7.3.m1.1.1.3a.cmml" xref="S2.E7.3.m1.1.1.3"><mtext mathsize="70%" id="S2.E7.3.m1.1.1.3.cmml" xref="S2.E7.3.m1.1.1.3">SSIM</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E7.3.m1.1c">\displaystyle\mathcal{L}_{\textrm{SSIM}}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.E7.3.m2.2" class="ltx_Math" alttext="\displaystyle=\frac{1-\textrm{SSIM}(\hat{d}_{t},d)}{2}" display="inline"><semantics id="S2.E7.3.m2.2a"><mrow id="S2.E7.3.m2.2.3" xref="S2.E7.3.m2.2.3.cmml"><mi id="S2.E7.3.m2.2.3.2" xref="S2.E7.3.m2.2.3.2.cmml"></mi><mo id="S2.E7.3.m2.2.3.1" xref="S2.E7.3.m2.2.3.1.cmml">=</mo><mstyle displaystyle="true" id="S2.E7.3.m2.2.2" xref="S2.E7.3.m2.2.2.cmml"><mfrac id="S2.E7.3.m2.2.2a" xref="S2.E7.3.m2.2.2.cmml"><mrow id="S2.E7.3.m2.2.2.2" xref="S2.E7.3.m2.2.2.2.cmml"><mn id="S2.E7.3.m2.2.2.2.4" xref="S2.E7.3.m2.2.2.2.4.cmml">1</mn><mo id="S2.E7.3.m2.2.2.2.3" xref="S2.E7.3.m2.2.2.2.3.cmml">−</mo><mrow id="S2.E7.3.m2.2.2.2.2" xref="S2.E7.3.m2.2.2.2.2.cmml"><mtext id="S2.E7.3.m2.2.2.2.2.3" xref="S2.E7.3.m2.2.2.2.2.3a.cmml">SSIM</mtext><mo lspace="0em" rspace="0em" id="S2.E7.3.m2.2.2.2.2.2" xref="S2.E7.3.m2.2.2.2.2.2.cmml">​</mo><mrow id="S2.E7.3.m2.2.2.2.2.1.1" xref="S2.E7.3.m2.2.2.2.2.1.2.cmml"><mo stretchy="false" id="S2.E7.3.m2.2.2.2.2.1.1.2" xref="S2.E7.3.m2.2.2.2.2.1.2.cmml">(</mo><msub id="S2.E7.3.m2.2.2.2.2.1.1.1" xref="S2.E7.3.m2.2.2.2.2.1.1.1.cmml"><mover accent="true" id="S2.E7.3.m2.2.2.2.2.1.1.1.2" xref="S2.E7.3.m2.2.2.2.2.1.1.1.2.cmml"><mi id="S2.E7.3.m2.2.2.2.2.1.1.1.2.2" xref="S2.E7.3.m2.2.2.2.2.1.1.1.2.2.cmml">d</mi><mo id="S2.E7.3.m2.2.2.2.2.1.1.1.2.1" xref="S2.E7.3.m2.2.2.2.2.1.1.1.2.1.cmml">^</mo></mover><mi id="S2.E7.3.m2.2.2.2.2.1.1.1.3" xref="S2.E7.3.m2.2.2.2.2.1.1.1.3.cmml">t</mi></msub><mo id="S2.E7.3.m2.2.2.2.2.1.1.3" xref="S2.E7.3.m2.2.2.2.2.1.2.cmml">,</mo><mi id="S2.E7.3.m2.1.1.1.1" xref="S2.E7.3.m2.1.1.1.1.cmml">d</mi><mo stretchy="false" id="S2.E7.3.m2.2.2.2.2.1.1.4" xref="S2.E7.3.m2.2.2.2.2.1.2.cmml">)</mo></mrow></mrow></mrow><mn id="S2.E7.3.m2.2.2.4" xref="S2.E7.3.m2.2.2.4.cmml">2</mn></mfrac></mstyle></mrow><annotation-xml encoding="MathML-Content" id="S2.E7.3.m2.2b"><apply id="S2.E7.3.m2.2.3.cmml" xref="S2.E7.3.m2.2.3"><eq id="S2.E7.3.m2.2.3.1.cmml" xref="S2.E7.3.m2.2.3.1"></eq><csymbol cd="latexml" id="S2.E7.3.m2.2.3.2.cmml" xref="S2.E7.3.m2.2.3.2">absent</csymbol><apply id="S2.E7.3.m2.2.2.cmml" xref="S2.E7.3.m2.2.2"><divide id="S2.E7.3.m2.2.2.3.cmml" xref="S2.E7.3.m2.2.2"></divide><apply id="S2.E7.3.m2.2.2.2.cmml" xref="S2.E7.3.m2.2.2.2"><minus id="S2.E7.3.m2.2.2.2.3.cmml" xref="S2.E7.3.m2.2.2.2.3"></minus><cn type="integer" id="S2.E7.3.m2.2.2.2.4.cmml" xref="S2.E7.3.m2.2.2.2.4">1</cn><apply id="S2.E7.3.m2.2.2.2.2.cmml" xref="S2.E7.3.m2.2.2.2.2"><times id="S2.E7.3.m2.2.2.2.2.2.cmml" xref="S2.E7.3.m2.2.2.2.2.2"></times><ci id="S2.E7.3.m2.2.2.2.2.3a.cmml" xref="S2.E7.3.m2.2.2.2.2.3"><mtext id="S2.E7.3.m2.2.2.2.2.3.cmml" xref="S2.E7.3.m2.2.2.2.2.3">SSIM</mtext></ci><interval closure="open" id="S2.E7.3.m2.2.2.2.2.1.2.cmml" xref="S2.E7.3.m2.2.2.2.2.1.1"><apply id="S2.E7.3.m2.2.2.2.2.1.1.1.cmml" xref="S2.E7.3.m2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.E7.3.m2.2.2.2.2.1.1.1.1.cmml" xref="S2.E7.3.m2.2.2.2.2.1.1.1">subscript</csymbol><apply id="S2.E7.3.m2.2.2.2.2.1.1.1.2.cmml" xref="S2.E7.3.m2.2.2.2.2.1.1.1.2"><ci id="S2.E7.3.m2.2.2.2.2.1.1.1.2.1.cmml" xref="S2.E7.3.m2.2.2.2.2.1.1.1.2.1">^</ci><ci id="S2.E7.3.m2.2.2.2.2.1.1.1.2.2.cmml" xref="S2.E7.3.m2.2.2.2.2.1.1.1.2.2">𝑑</ci></apply><ci id="S2.E7.3.m2.2.2.2.2.1.1.1.3.cmml" xref="S2.E7.3.m2.2.2.2.2.1.1.1.3">𝑡</ci></apply><ci id="S2.E7.3.m2.1.1.1.1.cmml" xref="S2.E7.3.m2.1.1.1.1">𝑑</ci></interval></apply></apply><cn type="integer" id="S2.E7.3.m2.2.2.4.cmml" xref="S2.E7.3.m2.2.2.4">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E7.3.m2.2c">\displaystyle=\frac{1-\textrm{SSIM}(\hat{d}_{t},d)}{2}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7c)</span></td>
</tr>
</tbody>
</table>
<p id="S2.SS3.p1.5" class="ltx_p">The total loss for depth supervision can finally be expressed as</p>
<table id="S4.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S2.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.E8.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{d_{t}}=\frac{1}{N}\sum_{i}^{N}0.1\mathcal{L}_{d}^{i}+\mathcal{L}_{g}^{i}+\mathcal{L}_{\textrm{SSIM}}^{i}." display="inline"><semantics id="S2.E8.m1.1a"><mrow id="S2.E8.m1.1.1.1" xref="S2.E8.m1.1.1.1.1.cmml"><mrow id="S2.E8.m1.1.1.1.1" xref="S2.E8.m1.1.1.1.1.cmml"><msub id="S2.E8.m1.1.1.1.1.2" xref="S2.E8.m1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E8.m1.1.1.1.1.2.2" xref="S2.E8.m1.1.1.1.1.2.2.cmml">ℒ</mi><msub id="S2.E8.m1.1.1.1.1.2.3" xref="S2.E8.m1.1.1.1.1.2.3.cmml"><mi id="S2.E8.m1.1.1.1.1.2.3.2" xref="S2.E8.m1.1.1.1.1.2.3.2.cmml">d</mi><mi id="S2.E8.m1.1.1.1.1.2.3.3" xref="S2.E8.m1.1.1.1.1.2.3.3.cmml">t</mi></msub></msub><mo id="S2.E8.m1.1.1.1.1.1" xref="S2.E8.m1.1.1.1.1.1.cmml">=</mo><mrow id="S2.E8.m1.1.1.1.1.3" xref="S2.E8.m1.1.1.1.1.3.cmml"><mrow id="S2.E8.m1.1.1.1.1.3.2" xref="S2.E8.m1.1.1.1.1.3.2.cmml"><mstyle displaystyle="true" id="S2.E8.m1.1.1.1.1.3.2.2" xref="S2.E8.m1.1.1.1.1.3.2.2.cmml"><mfrac id="S2.E8.m1.1.1.1.1.3.2.2a" xref="S2.E8.m1.1.1.1.1.3.2.2.cmml"><mn id="S2.E8.m1.1.1.1.1.3.2.2.2" xref="S2.E8.m1.1.1.1.1.3.2.2.2.cmml">1</mn><mi id="S2.E8.m1.1.1.1.1.3.2.2.3" xref="S2.E8.m1.1.1.1.1.3.2.2.3.cmml">N</mi></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S2.E8.m1.1.1.1.1.3.2.1" xref="S2.E8.m1.1.1.1.1.3.2.1.cmml">​</mo><mrow id="S2.E8.m1.1.1.1.1.3.2.3" xref="S2.E8.m1.1.1.1.1.3.2.3.cmml"><mstyle displaystyle="true" id="S2.E8.m1.1.1.1.1.3.2.3.1" xref="S2.E8.m1.1.1.1.1.3.2.3.1.cmml"><munderover id="S2.E8.m1.1.1.1.1.3.2.3.1a" xref="S2.E8.m1.1.1.1.1.3.2.3.1.cmml"><mo movablelimits="false" id="S2.E8.m1.1.1.1.1.3.2.3.1.2.2" xref="S2.E8.m1.1.1.1.1.3.2.3.1.2.2.cmml">∑</mo><mi id="S2.E8.m1.1.1.1.1.3.2.3.1.2.3" xref="S2.E8.m1.1.1.1.1.3.2.3.1.2.3.cmml">i</mi><mi id="S2.E8.m1.1.1.1.1.3.2.3.1.3" xref="S2.E8.m1.1.1.1.1.3.2.3.1.3.cmml">N</mi></munderover></mstyle><mrow id="S2.E8.m1.1.1.1.1.3.2.3.2" xref="S2.E8.m1.1.1.1.1.3.2.3.2.cmml"><mn id="S2.E8.m1.1.1.1.1.3.2.3.2.2" xref="S2.E8.m1.1.1.1.1.3.2.3.2.2.cmml">0.1</mn><mo lspace="0em" rspace="0em" id="S2.E8.m1.1.1.1.1.3.2.3.2.1" xref="S2.E8.m1.1.1.1.1.3.2.3.2.1.cmml">​</mo><msubsup id="S2.E8.m1.1.1.1.1.3.2.3.2.3" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E8.m1.1.1.1.1.3.2.3.2.3.2.2" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3.2.2.cmml">ℒ</mi><mi id="S2.E8.m1.1.1.1.1.3.2.3.2.3.2.3" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3.2.3.cmml">d</mi><mi id="S2.E8.m1.1.1.1.1.3.2.3.2.3.3" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3.3.cmml">i</mi></msubsup></mrow></mrow></mrow><mo id="S2.E8.m1.1.1.1.1.3.1" xref="S2.E8.m1.1.1.1.1.3.1.cmml">+</mo><msubsup id="S2.E8.m1.1.1.1.1.3.3" xref="S2.E8.m1.1.1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E8.m1.1.1.1.1.3.3.2.2" xref="S2.E8.m1.1.1.1.1.3.3.2.2.cmml">ℒ</mi><mi id="S2.E8.m1.1.1.1.1.3.3.2.3" xref="S2.E8.m1.1.1.1.1.3.3.2.3.cmml">g</mi><mi id="S2.E8.m1.1.1.1.1.3.3.3" xref="S2.E8.m1.1.1.1.1.3.3.3.cmml">i</mi></msubsup><mo id="S2.E8.m1.1.1.1.1.3.1a" xref="S2.E8.m1.1.1.1.1.3.1.cmml">+</mo><msubsup id="S2.E8.m1.1.1.1.1.3.4" xref="S2.E8.m1.1.1.1.1.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E8.m1.1.1.1.1.3.4.2.2" xref="S2.E8.m1.1.1.1.1.3.4.2.2.cmml">ℒ</mi><mtext id="S2.E8.m1.1.1.1.1.3.4.2.3" xref="S2.E8.m1.1.1.1.1.3.4.2.3a.cmml">SSIM</mtext><mi id="S2.E8.m1.1.1.1.1.3.4.3" xref="S2.E8.m1.1.1.1.1.3.4.3.cmml">i</mi></msubsup></mrow></mrow><mo lspace="0em" id="S2.E8.m1.1.1.1.2" xref="S2.E8.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E8.m1.1b"><apply id="S2.E8.m1.1.1.1.1.cmml" xref="S2.E8.m1.1.1.1"><eq id="S2.E8.m1.1.1.1.1.1.cmml" xref="S2.E8.m1.1.1.1.1.1"></eq><apply id="S2.E8.m1.1.1.1.1.2.cmml" xref="S2.E8.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E8.m1.1.1.1.1.2.1.cmml" xref="S2.E8.m1.1.1.1.1.2">subscript</csymbol><ci id="S2.E8.m1.1.1.1.1.2.2.cmml" xref="S2.E8.m1.1.1.1.1.2.2">ℒ</ci><apply id="S2.E8.m1.1.1.1.1.2.3.cmml" xref="S2.E8.m1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S2.E8.m1.1.1.1.1.2.3.1.cmml" xref="S2.E8.m1.1.1.1.1.2.3">subscript</csymbol><ci id="S2.E8.m1.1.1.1.1.2.3.2.cmml" xref="S2.E8.m1.1.1.1.1.2.3.2">𝑑</ci><ci id="S2.E8.m1.1.1.1.1.2.3.3.cmml" xref="S2.E8.m1.1.1.1.1.2.3.3">𝑡</ci></apply></apply><apply id="S2.E8.m1.1.1.1.1.3.cmml" xref="S2.E8.m1.1.1.1.1.3"><plus id="S2.E8.m1.1.1.1.1.3.1.cmml" xref="S2.E8.m1.1.1.1.1.3.1"></plus><apply id="S2.E8.m1.1.1.1.1.3.2.cmml" xref="S2.E8.m1.1.1.1.1.3.2"><times id="S2.E8.m1.1.1.1.1.3.2.1.cmml" xref="S2.E8.m1.1.1.1.1.3.2.1"></times><apply id="S2.E8.m1.1.1.1.1.3.2.2.cmml" xref="S2.E8.m1.1.1.1.1.3.2.2"><divide id="S2.E8.m1.1.1.1.1.3.2.2.1.cmml" xref="S2.E8.m1.1.1.1.1.3.2.2"></divide><cn type="integer" id="S2.E8.m1.1.1.1.1.3.2.2.2.cmml" xref="S2.E8.m1.1.1.1.1.3.2.2.2">1</cn><ci id="S2.E8.m1.1.1.1.1.3.2.2.3.cmml" xref="S2.E8.m1.1.1.1.1.3.2.2.3">𝑁</ci></apply><apply id="S2.E8.m1.1.1.1.1.3.2.3.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3"><apply id="S2.E8.m1.1.1.1.1.3.2.3.1.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.1"><csymbol cd="ambiguous" id="S2.E8.m1.1.1.1.1.3.2.3.1.1.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.1">superscript</csymbol><apply id="S2.E8.m1.1.1.1.1.3.2.3.1.2.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.1"><csymbol cd="ambiguous" id="S2.E8.m1.1.1.1.1.3.2.3.1.2.1.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.1">subscript</csymbol><sum id="S2.E8.m1.1.1.1.1.3.2.3.1.2.2.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.1.2.2"></sum><ci id="S2.E8.m1.1.1.1.1.3.2.3.1.2.3.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.1.2.3">𝑖</ci></apply><ci id="S2.E8.m1.1.1.1.1.3.2.3.1.3.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.1.3">𝑁</ci></apply><apply id="S2.E8.m1.1.1.1.1.3.2.3.2.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.2"><times id="S2.E8.m1.1.1.1.1.3.2.3.2.1.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.2.1"></times><cn type="float" id="S2.E8.m1.1.1.1.1.3.2.3.2.2.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.2.2">0.1</cn><apply id="S2.E8.m1.1.1.1.1.3.2.3.2.3.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3"><csymbol cd="ambiguous" id="S2.E8.m1.1.1.1.1.3.2.3.2.3.1.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3">superscript</csymbol><apply id="S2.E8.m1.1.1.1.1.3.2.3.2.3.2.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3"><csymbol cd="ambiguous" id="S2.E8.m1.1.1.1.1.3.2.3.2.3.2.1.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3">subscript</csymbol><ci id="S2.E8.m1.1.1.1.1.3.2.3.2.3.2.2.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3.2.2">ℒ</ci><ci id="S2.E8.m1.1.1.1.1.3.2.3.2.3.2.3.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3.2.3">𝑑</ci></apply><ci id="S2.E8.m1.1.1.1.1.3.2.3.2.3.3.cmml" xref="S2.E8.m1.1.1.1.1.3.2.3.2.3.3">𝑖</ci></apply></apply></apply></apply><apply id="S2.E8.m1.1.1.1.1.3.3.cmml" xref="S2.E8.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E8.m1.1.1.1.1.3.3.1.cmml" xref="S2.E8.m1.1.1.1.1.3.3">superscript</csymbol><apply id="S2.E8.m1.1.1.1.1.3.3.2.cmml" xref="S2.E8.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E8.m1.1.1.1.1.3.3.2.1.cmml" xref="S2.E8.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.E8.m1.1.1.1.1.3.3.2.2.cmml" xref="S2.E8.m1.1.1.1.1.3.3.2.2">ℒ</ci><ci id="S2.E8.m1.1.1.1.1.3.3.2.3.cmml" xref="S2.E8.m1.1.1.1.1.3.3.2.3">𝑔</ci></apply><ci id="S2.E8.m1.1.1.1.1.3.3.3.cmml" xref="S2.E8.m1.1.1.1.1.3.3.3">𝑖</ci></apply><apply id="S2.E8.m1.1.1.1.1.3.4.cmml" xref="S2.E8.m1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="S2.E8.m1.1.1.1.1.3.4.1.cmml" xref="S2.E8.m1.1.1.1.1.3.4">superscript</csymbol><apply id="S2.E8.m1.1.1.1.1.3.4.2.cmml" xref="S2.E8.m1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="S2.E8.m1.1.1.1.1.3.4.2.1.cmml" xref="S2.E8.m1.1.1.1.1.3.4">subscript</csymbol><ci id="S2.E8.m1.1.1.1.1.3.4.2.2.cmml" xref="S2.E8.m1.1.1.1.1.3.4.2.2">ℒ</ci><ci id="S2.E8.m1.1.1.1.1.3.4.2.3a.cmml" xref="S2.E8.m1.1.1.1.1.3.4.2.3"><mtext mathsize="70%" id="S2.E8.m1.1.1.1.1.3.4.2.3.cmml" xref="S2.E8.m1.1.1.1.1.3.4.2.3">SSIM</mtext></ci></apply><ci id="S2.E8.m1.1.1.1.1.3.4.3.cmml" xref="S2.E8.m1.1.1.1.1.3.4.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E8.m1.1c">\displaystyle\mathcal{L}_{d_{t}}=\frac{1}{N}\sum_{i}^{N}0.1\mathcal{L}_{d}^{i}+\mathcal{L}_{g}^{i}+\mathcal{L}_{\textrm{SSIM}}^{i}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">For the pose estimation supervision, the common practice is to directly supervise the pose estimation network by measuring Euclidean distance between the predicted relative pose and its reference pose <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>, i.e.,</p>
</div>
<div id="S2.SS3.p3" class="ltx_para">
<table id="S2.E9" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E9.m1.2" class="ltx_Math" alttext="\mathcal{L}_{pose}^{t\rightarrow t^{\prime}}=\zeta\|\hat{\textbf{x}}_{t\rightarrow t^{\prime}}-\textbf{x}_{t\rightarrow t^{\prime}}\|_{2}+\theta\|\hat{\textbf{r}}_{t\rightarrow t^{\prime}}-\textbf{r}_{t\rightarrow t^{\prime}}\|_{2}" display="block"><semantics id="S2.E9.m1.2a"><mrow id="S2.E9.m1.2.2" xref="S2.E9.m1.2.2.cmml"><msubsup id="S2.E9.m1.2.2.4" xref="S2.E9.m1.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E9.m1.2.2.4.2.2" xref="S2.E9.m1.2.2.4.2.2.cmml">ℒ</mi><mrow id="S2.E9.m1.2.2.4.2.3" xref="S2.E9.m1.2.2.4.2.3.cmml"><mi id="S2.E9.m1.2.2.4.2.3.2" xref="S2.E9.m1.2.2.4.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E9.m1.2.2.4.2.3.1" xref="S2.E9.m1.2.2.4.2.3.1.cmml">​</mo><mi id="S2.E9.m1.2.2.4.2.3.3" xref="S2.E9.m1.2.2.4.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S2.E9.m1.2.2.4.2.3.1a" xref="S2.E9.m1.2.2.4.2.3.1.cmml">​</mo><mi id="S2.E9.m1.2.2.4.2.3.4" xref="S2.E9.m1.2.2.4.2.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.E9.m1.2.2.4.2.3.1b" xref="S2.E9.m1.2.2.4.2.3.1.cmml">​</mo><mi id="S2.E9.m1.2.2.4.2.3.5" xref="S2.E9.m1.2.2.4.2.3.5.cmml">e</mi></mrow><mrow id="S2.E9.m1.2.2.4.3" xref="S2.E9.m1.2.2.4.3.cmml"><mi id="S2.E9.m1.2.2.4.3.2" xref="S2.E9.m1.2.2.4.3.2.cmml">t</mi><mo stretchy="false" id="S2.E9.m1.2.2.4.3.1" xref="S2.E9.m1.2.2.4.3.1.cmml">→</mo><msup id="S2.E9.m1.2.2.4.3.3" xref="S2.E9.m1.2.2.4.3.3.cmml"><mi id="S2.E9.m1.2.2.4.3.3.2" xref="S2.E9.m1.2.2.4.3.3.2.cmml">t</mi><mo id="S2.E9.m1.2.2.4.3.3.3" xref="S2.E9.m1.2.2.4.3.3.3.cmml">′</mo></msup></mrow></msubsup><mo id="S2.E9.m1.2.2.3" xref="S2.E9.m1.2.2.3.cmml">=</mo><mrow id="S2.E9.m1.2.2.2" xref="S2.E9.m1.2.2.2.cmml"><mrow id="S2.E9.m1.1.1.1.1" xref="S2.E9.m1.1.1.1.1.cmml"><mi id="S2.E9.m1.1.1.1.1.3" xref="S2.E9.m1.1.1.1.1.3.cmml">ζ</mi><mo lspace="0em" rspace="0em" id="S2.E9.m1.1.1.1.1.2" xref="S2.E9.m1.1.1.1.1.2.cmml">​</mo><msub id="S2.E9.m1.1.1.1.1.1" xref="S2.E9.m1.1.1.1.1.1.cmml"><mrow id="S2.E9.m1.1.1.1.1.1.1.1" xref="S2.E9.m1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E9.m1.1.1.1.1.1.1.1.2" xref="S2.E9.m1.1.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S2.E9.m1.1.1.1.1.1.1.1.1" xref="S2.E9.m1.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E9.m1.1.1.1.1.1.1.1.1.2" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.cmml"><mover accent="true" id="S2.E9.m1.1.1.1.1.1.1.1.1.2.2" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.cmml"><mtext class="ltx_mathvariant_bold" id="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.2" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.2a.cmml">x</mtext><mo id="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.1" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mrow id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.2" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.2.cmml">t</mi><mo stretchy="false" id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.1" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.1.cmml">→</mo><msup id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.2" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">t</mi><mo id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.3" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">′</mo></msup></mrow></msub><mo id="S2.E9.m1.1.1.1.1.1.1.1.1.1" xref="S2.E9.m1.1.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S2.E9.m1.1.1.1.1.1.1.1.1.3" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="S2.E9.m1.1.1.1.1.1.1.1.1.3.2" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.2a.cmml">x</mtext><mrow id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.2" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.2.cmml">t</mi><mo stretchy="false" id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.1" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.1.cmml">→</mo><msup id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.2" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.2.cmml">t</mi><mo id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.3" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.3.cmml">′</mo></msup></mrow></msub></mrow><mo stretchy="false" id="S2.E9.m1.1.1.1.1.1.1.1.3" xref="S2.E9.m1.1.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S2.E9.m1.1.1.1.1.1.3" xref="S2.E9.m1.1.1.1.1.1.3.cmml">2</mn></msub></mrow><mo id="S2.E9.m1.2.2.2.3" xref="S2.E9.m1.2.2.2.3.cmml">+</mo><mrow id="S2.E9.m1.2.2.2.2" xref="S2.E9.m1.2.2.2.2.cmml"><mi id="S2.E9.m1.2.2.2.2.3" xref="S2.E9.m1.2.2.2.2.3.cmml">θ</mi><mo lspace="0em" rspace="0em" id="S2.E9.m1.2.2.2.2.2" xref="S2.E9.m1.2.2.2.2.2.cmml">​</mo><msub id="S2.E9.m1.2.2.2.2.1" xref="S2.E9.m1.2.2.2.2.1.cmml"><mrow id="S2.E9.m1.2.2.2.2.1.1.1" xref="S2.E9.m1.2.2.2.2.1.1.2.cmml"><mo stretchy="false" id="S2.E9.m1.2.2.2.2.1.1.1.2" xref="S2.E9.m1.2.2.2.2.1.1.2.1.cmml">‖</mo><mrow id="S2.E9.m1.2.2.2.2.1.1.1.1" xref="S2.E9.m1.2.2.2.2.1.1.1.1.cmml"><msub id="S2.E9.m1.2.2.2.2.1.1.1.1.2" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.cmml"><mover accent="true" id="S2.E9.m1.2.2.2.2.1.1.1.1.2.2" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.cmml"><mtext class="ltx_mathvariant_bold" id="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.2" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.2a.cmml">r</mtext><mo id="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.1" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.1.cmml">^</mo></mover><mrow id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.cmml"><mi id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.2" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.2.cmml">t</mi><mo stretchy="false" id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.1" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.1.cmml">→</mo><msup id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.cmml"><mi id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.2" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.2.cmml">t</mi><mo id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.3" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.3.cmml">′</mo></msup></mrow></msub><mo id="S2.E9.m1.2.2.2.2.1.1.1.1.1" xref="S2.E9.m1.2.2.2.2.1.1.1.1.1.cmml">−</mo><msub id="S2.E9.m1.2.2.2.2.1.1.1.1.3" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="S2.E9.m1.2.2.2.2.1.1.1.1.3.2" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.2a.cmml">r</mtext><mrow id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.cmml"><mi id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.2" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.2.cmml">t</mi><mo stretchy="false" id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.1" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.1.cmml">→</mo><msup id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.cmml"><mi id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.2" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.2.cmml">t</mi><mo id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.3" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.3.cmml">′</mo></msup></mrow></msub></mrow><mo stretchy="false" id="S2.E9.m1.2.2.2.2.1.1.1.3" xref="S2.E9.m1.2.2.2.2.1.1.2.1.cmml">‖</mo></mrow><mn id="S2.E9.m1.2.2.2.2.1.3" xref="S2.E9.m1.2.2.2.2.1.3.cmml">2</mn></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E9.m1.2b"><apply id="S2.E9.m1.2.2.cmml" xref="S2.E9.m1.2.2"><eq id="S2.E9.m1.2.2.3.cmml" xref="S2.E9.m1.2.2.3"></eq><apply id="S2.E9.m1.2.2.4.cmml" xref="S2.E9.m1.2.2.4"><csymbol cd="ambiguous" id="S2.E9.m1.2.2.4.1.cmml" xref="S2.E9.m1.2.2.4">superscript</csymbol><apply id="S2.E9.m1.2.2.4.2.cmml" xref="S2.E9.m1.2.2.4"><csymbol cd="ambiguous" id="S2.E9.m1.2.2.4.2.1.cmml" xref="S2.E9.m1.2.2.4">subscript</csymbol><ci id="S2.E9.m1.2.2.4.2.2.cmml" xref="S2.E9.m1.2.2.4.2.2">ℒ</ci><apply id="S2.E9.m1.2.2.4.2.3.cmml" xref="S2.E9.m1.2.2.4.2.3"><times id="S2.E9.m1.2.2.4.2.3.1.cmml" xref="S2.E9.m1.2.2.4.2.3.1"></times><ci id="S2.E9.m1.2.2.4.2.3.2.cmml" xref="S2.E9.m1.2.2.4.2.3.2">𝑝</ci><ci id="S2.E9.m1.2.2.4.2.3.3.cmml" xref="S2.E9.m1.2.2.4.2.3.3">𝑜</ci><ci id="S2.E9.m1.2.2.4.2.3.4.cmml" xref="S2.E9.m1.2.2.4.2.3.4">𝑠</ci><ci id="S2.E9.m1.2.2.4.2.3.5.cmml" xref="S2.E9.m1.2.2.4.2.3.5">𝑒</ci></apply></apply><apply id="S2.E9.m1.2.2.4.3.cmml" xref="S2.E9.m1.2.2.4.3"><ci id="S2.E9.m1.2.2.4.3.1.cmml" xref="S2.E9.m1.2.2.4.3.1">→</ci><ci id="S2.E9.m1.2.2.4.3.2.cmml" xref="S2.E9.m1.2.2.4.3.2">𝑡</ci><apply id="S2.E9.m1.2.2.4.3.3.cmml" xref="S2.E9.m1.2.2.4.3.3"><csymbol cd="ambiguous" id="S2.E9.m1.2.2.4.3.3.1.cmml" xref="S2.E9.m1.2.2.4.3.3">superscript</csymbol><ci id="S2.E9.m1.2.2.4.3.3.2.cmml" xref="S2.E9.m1.2.2.4.3.3.2">𝑡</ci><ci id="S2.E9.m1.2.2.4.3.3.3.cmml" xref="S2.E9.m1.2.2.4.3.3.3">′</ci></apply></apply></apply><apply id="S2.E9.m1.2.2.2.cmml" xref="S2.E9.m1.2.2.2"><plus id="S2.E9.m1.2.2.2.3.cmml" xref="S2.E9.m1.2.2.2.3"></plus><apply id="S2.E9.m1.1.1.1.1.cmml" xref="S2.E9.m1.1.1.1.1"><times id="S2.E9.m1.1.1.1.1.2.cmml" xref="S2.E9.m1.1.1.1.1.2"></times><ci id="S2.E9.m1.1.1.1.1.3.cmml" xref="S2.E9.m1.1.1.1.1.3">𝜁</ci><apply id="S2.E9.m1.1.1.1.1.1.cmml" xref="S2.E9.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E9.m1.1.1.1.1.1.2.cmml" xref="S2.E9.m1.1.1.1.1.1">subscript</csymbol><apply id="S2.E9.m1.1.1.1.1.1.1.2.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E9.m1.1.1.1.1.1.1.2.1.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.2">norm</csymbol><apply id="S2.E9.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1"><minus id="S2.E9.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.1"></minus><apply id="S2.E9.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E9.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.2"><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.1">^</ci><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.2a.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.2"><mtext class="ltx_mathvariant_bold" id="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.2.2">x</mtext></ci></apply><apply id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3"><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.1">→</ci><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.2">𝑡</ci><apply id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3">superscript</csymbol><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.2">𝑡</ci><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.2.3.3.3">′</ci></apply></apply></apply><apply id="S2.E9.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E9.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.2"><mtext class="ltx_mathvariant_bold" id="S2.E9.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.2">x</mtext></ci><apply id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3"><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.1">→</ci><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.2">𝑡</ci><apply id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3">superscript</csymbol><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.2">𝑡</ci><ci id="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="S2.E9.m1.1.1.1.1.1.1.1.1.3.3.3.3">′</ci></apply></apply></apply></apply></apply><cn type="integer" id="S2.E9.m1.1.1.1.1.1.3.cmml" xref="S2.E9.m1.1.1.1.1.1.3">2</cn></apply></apply><apply id="S2.E9.m1.2.2.2.2.cmml" xref="S2.E9.m1.2.2.2.2"><times id="S2.E9.m1.2.2.2.2.2.cmml" xref="S2.E9.m1.2.2.2.2.2"></times><ci id="S2.E9.m1.2.2.2.2.3.cmml" xref="S2.E9.m1.2.2.2.2.3">𝜃</ci><apply id="S2.E9.m1.2.2.2.2.1.cmml" xref="S2.E9.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="S2.E9.m1.2.2.2.2.1.2.cmml" xref="S2.E9.m1.2.2.2.2.1">subscript</csymbol><apply id="S2.E9.m1.2.2.2.2.1.1.2.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1"><csymbol cd="latexml" id="S2.E9.m1.2.2.2.2.1.1.2.1.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.2">norm</csymbol><apply id="S2.E9.m1.2.2.2.2.1.1.1.1.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1"><minus id="S2.E9.m1.2.2.2.2.1.1.1.1.1.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.1"></minus><apply id="S2.E9.m1.2.2.2.2.1.1.1.1.2.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E9.m1.2.2.2.2.1.1.1.1.2.1.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2">subscript</csymbol><apply id="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.2"><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.1.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.1">^</ci><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.2a.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.2"><mtext class="ltx_mathvariant_bold" id="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.2.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.2.2">r</mtext></ci></apply><apply id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3"><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.1.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.1">→</ci><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.2.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.2">𝑡</ci><apply id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.1.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3">superscript</csymbol><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.2.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.2">𝑡</ci><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.3.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.2.3.3.3">′</ci></apply></apply></apply><apply id="S2.E9.m1.2.2.2.2.1.1.1.1.3.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E9.m1.2.2.2.2.1.1.1.1.3.1.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3">subscript</csymbol><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.3.2a.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.2"><mtext class="ltx_mathvariant_bold" id="S2.E9.m1.2.2.2.2.1.1.1.1.3.2.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.2">r</mtext></ci><apply id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3"><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.1.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.1">→</ci><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.2.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.2">𝑡</ci><apply id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.1.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3">superscript</csymbol><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.2.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.2">𝑡</ci><ci id="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.3.cmml" xref="S2.E9.m1.2.2.2.2.1.1.1.1.3.3.3.3">′</ci></apply></apply></apply></apply></apply><cn type="integer" id="S2.E9.m1.2.2.2.2.1.3.cmml" xref="S2.E9.m1.2.2.2.2.1.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E9.m1.2c">\mathcal{L}_{pose}^{t\rightarrow t^{\prime}}=\zeta\|\hat{\textbf{x}}_{t\rightarrow t^{\prime}}-\textbf{x}_{t\rightarrow t^{\prime}}\|_{2}+\theta\|\hat{\textbf{r}}_{t\rightarrow t^{\prime}}-\textbf{r}_{t\rightarrow t^{\prime}}\|_{2}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p id="S2.SS3.p3.8" class="ltx_p">where <span id="S2.SS3.p3.8.1" class="ltx_text ltx_markedasmath ltx_font_bold">x</span> is the translation vector component and <span id="S2.SS3.p3.8.2" class="ltx_text ltx_markedasmath ltx_font_bold">r</span> is the rotation vector components in the axis-angle representation from the relative pose <math id="S2.SS3.p3.3.m3.1" class="ltx_Math" alttext="T_{t\rightarrow t^{\prime}}" display="inline"><semantics id="S2.SS3.p3.3.m3.1a"><msub id="S2.SS3.p3.3.m3.1.1" xref="S2.SS3.p3.3.m3.1.1.cmml"><mi id="S2.SS3.p3.3.m3.1.1.2" xref="S2.SS3.p3.3.m3.1.1.2.cmml">T</mi><mrow id="S2.SS3.p3.3.m3.1.1.3" xref="S2.SS3.p3.3.m3.1.1.3.cmml"><mi id="S2.SS3.p3.3.m3.1.1.3.2" xref="S2.SS3.p3.3.m3.1.1.3.2.cmml">t</mi><mo stretchy="false" id="S2.SS3.p3.3.m3.1.1.3.1" xref="S2.SS3.p3.3.m3.1.1.3.1.cmml">→</mo><msup id="S2.SS3.p3.3.m3.1.1.3.3" xref="S2.SS3.p3.3.m3.1.1.3.3.cmml"><mi id="S2.SS3.p3.3.m3.1.1.3.3.2" xref="S2.SS3.p3.3.m3.1.1.3.3.2.cmml">t</mi><mo id="S2.SS3.p3.3.m3.1.1.3.3.3" xref="S2.SS3.p3.3.m3.1.1.3.3.3.cmml">′</mo></msup></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.3.m3.1b"><apply id="S2.SS3.p3.3.m3.1.1.cmml" xref="S2.SS3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.3.m3.1.1.1.cmml" xref="S2.SS3.p3.3.m3.1.1">subscript</csymbol><ci id="S2.SS3.p3.3.m3.1.1.2.cmml" xref="S2.SS3.p3.3.m3.1.1.2">𝑇</ci><apply id="S2.SS3.p3.3.m3.1.1.3.cmml" xref="S2.SS3.p3.3.m3.1.1.3"><ci id="S2.SS3.p3.3.m3.1.1.3.1.cmml" xref="S2.SS3.p3.3.m3.1.1.3.1">→</ci><ci id="S2.SS3.p3.3.m3.1.1.3.2.cmml" xref="S2.SS3.p3.3.m3.1.1.3.2">𝑡</ci><apply id="S2.SS3.p3.3.m3.1.1.3.3.cmml" xref="S2.SS3.p3.3.m3.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS3.p3.3.m3.1.1.3.3.1.cmml" xref="S2.SS3.p3.3.m3.1.1.3.3">superscript</csymbol><ci id="S2.SS3.p3.3.m3.1.1.3.3.2.cmml" xref="S2.SS3.p3.3.m3.1.1.3.3.2">𝑡</ci><ci id="S2.SS3.p3.3.m3.1.1.3.3.3.cmml" xref="S2.SS3.p3.3.m3.1.1.3.3.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.3.m3.1c">T_{t\rightarrow t^{\prime}}</annotation></semantics></math>. The translation and rotation terms are balanced by <math id="S2.SS3.p3.4.m4.1" class="ltx_Math" alttext="\zeta" display="inline"><semantics id="S2.SS3.p3.4.m4.1a"><mi id="S2.SS3.p3.4.m4.1.1" xref="S2.SS3.p3.4.m4.1.1.cmml">ζ</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.4.m4.1b"><ci id="S2.SS3.p3.4.m4.1.1.cmml" xref="S2.SS3.p3.4.m4.1.1">𝜁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.4.m4.1c">\zeta</annotation></semantics></math> and <math id="S2.SS3.p3.5.m5.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S2.SS3.p3.5.m5.1a"><mi id="S2.SS3.p3.5.m5.1.1" xref="S2.SS3.p3.5.m5.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.5.m5.1b"><ci id="S2.SS3.p3.5.m5.1.1.cmml" xref="S2.SS3.p3.5.m5.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.5.m5.1c">\theta</annotation></semantics></math> as weights.
To tie <math id="S2.SS3.p3.6.m6.1" class="ltx_Math" alttext="\mathcal{L}_{d}" display="inline"><semantics id="S2.SS3.p3.6.m6.1a"><msub id="S2.SS3.p3.6.m6.1.1" xref="S2.SS3.p3.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS3.p3.6.m6.1.1.2" xref="S2.SS3.p3.6.m6.1.1.2.cmml">ℒ</mi><mi id="S2.SS3.p3.6.m6.1.1.3" xref="S2.SS3.p3.6.m6.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.6.m6.1b"><apply id="S2.SS3.p3.6.m6.1.1.cmml" xref="S2.SS3.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.6.m6.1.1.1.cmml" xref="S2.SS3.p3.6.m6.1.1">subscript</csymbol><ci id="S2.SS3.p3.6.m6.1.1.2.cmml" xref="S2.SS3.p3.6.m6.1.1.2">ℒ</ci><ci id="S2.SS3.p3.6.m6.1.1.3.cmml" xref="S2.SS3.p3.6.m6.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.6.m6.1c">\mathcal{L}_{d}</annotation></semantics></math> and <math id="S2.SS3.p3.7.m7.1" class="ltx_Math" alttext="\mathcal{L}_{pose}" display="inline"><semantics id="S2.SS3.p3.7.m7.1a"><msub id="S2.SS3.p3.7.m7.1.1" xref="S2.SS3.p3.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS3.p3.7.m7.1.1.2" xref="S2.SS3.p3.7.m7.1.1.2.cmml">ℒ</mi><mrow id="S2.SS3.p3.7.m7.1.1.3" xref="S2.SS3.p3.7.m7.1.1.3.cmml"><mi id="S2.SS3.p3.7.m7.1.1.3.2" xref="S2.SS3.p3.7.m7.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p3.7.m7.1.1.3.1" xref="S2.SS3.p3.7.m7.1.1.3.1.cmml">​</mo><mi id="S2.SS3.p3.7.m7.1.1.3.3" xref="S2.SS3.p3.7.m7.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p3.7.m7.1.1.3.1a" xref="S2.SS3.p3.7.m7.1.1.3.1.cmml">​</mo><mi id="S2.SS3.p3.7.m7.1.1.3.4" xref="S2.SS3.p3.7.m7.1.1.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p3.7.m7.1.1.3.1b" xref="S2.SS3.p3.7.m7.1.1.3.1.cmml">​</mo><mi id="S2.SS3.p3.7.m7.1.1.3.5" xref="S2.SS3.p3.7.m7.1.1.3.5.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.7.m7.1b"><apply id="S2.SS3.p3.7.m7.1.1.cmml" xref="S2.SS3.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.7.m7.1.1.1.cmml" xref="S2.SS3.p3.7.m7.1.1">subscript</csymbol><ci id="S2.SS3.p3.7.m7.1.1.2.cmml" xref="S2.SS3.p3.7.m7.1.1.2">ℒ</ci><apply id="S2.SS3.p3.7.m7.1.1.3.cmml" xref="S2.SS3.p3.7.m7.1.1.3"><times id="S2.SS3.p3.7.m7.1.1.3.1.cmml" xref="S2.SS3.p3.7.m7.1.1.3.1"></times><ci id="S2.SS3.p3.7.m7.1.1.3.2.cmml" xref="S2.SS3.p3.7.m7.1.1.3.2">𝑝</ci><ci id="S2.SS3.p3.7.m7.1.1.3.3.cmml" xref="S2.SS3.p3.7.m7.1.1.3.3">𝑜</ci><ci id="S2.SS3.p3.7.m7.1.1.3.4.cmml" xref="S2.SS3.p3.7.m7.1.1.3.4">𝑠</ci><ci id="S2.SS3.p3.7.m7.1.1.3.5.cmml" xref="S2.SS3.p3.7.m7.1.1.3.5">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.7.m7.1c">\mathcal{L}_{pose}</annotation></semantics></math> together, a photometric loss <math id="S2.SS3.p3.8.m8.1" class="ltx_Math" alttext="\mathcal{L}_{p}" display="inline"><semantics id="S2.SS3.p3.8.m8.1a"><msub id="S2.SS3.p3.8.m8.1.1" xref="S2.SS3.p3.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS3.p3.8.m8.1.1.2" xref="S2.SS3.p3.8.m8.1.1.2.cmml">ℒ</mi><mi id="S2.SS3.p3.8.m8.1.1.3" xref="S2.SS3.p3.8.m8.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.8.m8.1b"><apply id="S2.SS3.p3.8.m8.1.1.cmml" xref="S2.SS3.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.8.m8.1.1.1.cmml" xref="S2.SS3.p3.8.m8.1.1">subscript</csymbol><ci id="S2.SS3.p3.8.m8.1.1.2.cmml" xref="S2.SS3.p3.8.m8.1.1.2">ℒ</ci><ci id="S2.SS3.p3.8.m8.1.1.3.cmml" xref="S2.SS3.p3.8.m8.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.8.m8.1c">\mathcal{L}_{p}</annotation></semantics></math> is added to the direct supervision loss. Finally, the total supervised loss can be expressed as</p>
<table id="S2.E10" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E10.m1.1" class="ltx_Math" alttext="\mathcal{L}_{su}=\frac{1}{N}\sum_{i}^{N}(\psi\mu^{i}\mathcal{L}_{p}^{i}+\gamma\mathcal{L}_{d_{t}}^{i})+\sum_{j\in t^{\prime}}\mathcal{L}_{pose}^{t\rightarrow j}" display="block"><semantics id="S2.E10.m1.1a"><mrow id="S2.E10.m1.1.1" xref="S2.E10.m1.1.1.cmml"><msub id="S2.E10.m1.1.1.3" xref="S2.E10.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E10.m1.1.1.3.2" xref="S2.E10.m1.1.1.3.2.cmml">ℒ</mi><mrow id="S2.E10.m1.1.1.3.3" xref="S2.E10.m1.1.1.3.3.cmml"><mi id="S2.E10.m1.1.1.3.3.2" xref="S2.E10.m1.1.1.3.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.E10.m1.1.1.3.3.1" xref="S2.E10.m1.1.1.3.3.1.cmml">​</mo><mi id="S2.E10.m1.1.1.3.3.3" xref="S2.E10.m1.1.1.3.3.3.cmml">u</mi></mrow></msub><mo id="S2.E10.m1.1.1.2" xref="S2.E10.m1.1.1.2.cmml">=</mo><mrow id="S2.E10.m1.1.1.1" xref="S2.E10.m1.1.1.1.cmml"><mrow id="S2.E10.m1.1.1.1.1" xref="S2.E10.m1.1.1.1.1.cmml"><mfrac id="S2.E10.m1.1.1.1.1.3" xref="S2.E10.m1.1.1.1.1.3.cmml"><mn id="S2.E10.m1.1.1.1.1.3.2" xref="S2.E10.m1.1.1.1.1.3.2.cmml">1</mn><mi id="S2.E10.m1.1.1.1.1.3.3" xref="S2.E10.m1.1.1.1.1.3.3.cmml">N</mi></mfrac><mo lspace="0em" rspace="0em" id="S2.E10.m1.1.1.1.1.2" xref="S2.E10.m1.1.1.1.1.2.cmml">​</mo><mrow id="S2.E10.m1.1.1.1.1.1" xref="S2.E10.m1.1.1.1.1.1.cmml"><munderover id="S2.E10.m1.1.1.1.1.1.2" xref="S2.E10.m1.1.1.1.1.1.2.cmml"><mo movablelimits="false" rspace="0em" id="S2.E10.m1.1.1.1.1.1.2.2.2" xref="S2.E10.m1.1.1.1.1.1.2.2.2.cmml">∑</mo><mi id="S2.E10.m1.1.1.1.1.1.2.2.3" xref="S2.E10.m1.1.1.1.1.1.2.2.3.cmml">i</mi><mi id="S2.E10.m1.1.1.1.1.1.2.3" xref="S2.E10.m1.1.1.1.1.1.2.3.cmml">N</mi></munderover><mrow id="S2.E10.m1.1.1.1.1.1.1.1" xref="S2.E10.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E10.m1.1.1.1.1.1.1.1.2" xref="S2.E10.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E10.m1.1.1.1.1.1.1.1.1" xref="S2.E10.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S2.E10.m1.1.1.1.1.1.1.1.1.2" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E10.m1.1.1.1.1.1.1.1.1.2.2" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.2.cmml">ψ</mi><mo lspace="0em" rspace="0em" id="S2.E10.m1.1.1.1.1.1.1.1.1.2.1" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.1.cmml">​</mo><msup id="S2.E10.m1.1.1.1.1.1.1.1.1.2.3" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.2" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.2.cmml">μ</mi><mi id="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.3" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S2.E10.m1.1.1.1.1.1.1.1.1.2.1a" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.1.cmml">​</mo><msubsup id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.2.2" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.2.2.cmml">ℒ</mi><mi id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.2.3" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.2.3.cmml">p</mi><mi id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.3" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.3.cmml">i</mi></msubsup></mrow><mo id="S2.E10.m1.1.1.1.1.1.1.1.1.1" xref="S2.E10.m1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S2.E10.m1.1.1.1.1.1.1.1.1.3" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E10.m1.1.1.1.1.1.1.1.1.3.2" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.2.cmml">γ</mi><mo lspace="0em" rspace="0em" id="S2.E10.m1.1.1.1.1.1.1.1.1.3.1" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.1.cmml">​</mo><msubsup id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.2" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.2.cmml">ℒ</mi><msub id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.cmml"><mi id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.2" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.2.cmml">d</mi><mi id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.3" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.3.cmml">t</mi></msub><mi id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.3" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.3.cmml">i</mi></msubsup></mrow></mrow><mo stretchy="false" id="S2.E10.m1.1.1.1.1.1.1.1.3" xref="S2.E10.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo rspace="0.055em" id="S2.E10.m1.1.1.1.2" xref="S2.E10.m1.1.1.1.2.cmml">+</mo><mrow id="S2.E10.m1.1.1.1.3" xref="S2.E10.m1.1.1.1.3.cmml"><munder id="S2.E10.m1.1.1.1.3.1" xref="S2.E10.m1.1.1.1.3.1.cmml"><mo movablelimits="false" id="S2.E10.m1.1.1.1.3.1.2" xref="S2.E10.m1.1.1.1.3.1.2.cmml">∑</mo><mrow id="S2.E10.m1.1.1.1.3.1.3" xref="S2.E10.m1.1.1.1.3.1.3.cmml"><mi id="S2.E10.m1.1.1.1.3.1.3.2" xref="S2.E10.m1.1.1.1.3.1.3.2.cmml">j</mi><mo id="S2.E10.m1.1.1.1.3.1.3.1" xref="S2.E10.m1.1.1.1.3.1.3.1.cmml">∈</mo><msup id="S2.E10.m1.1.1.1.3.1.3.3" xref="S2.E10.m1.1.1.1.3.1.3.3.cmml"><mi id="S2.E10.m1.1.1.1.3.1.3.3.2" xref="S2.E10.m1.1.1.1.3.1.3.3.2.cmml">t</mi><mo id="S2.E10.m1.1.1.1.3.1.3.3.3" xref="S2.E10.m1.1.1.1.3.1.3.3.3.cmml">′</mo></msup></mrow></munder><msubsup id="S2.E10.m1.1.1.1.3.2" xref="S2.E10.m1.1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E10.m1.1.1.1.3.2.2.2" xref="S2.E10.m1.1.1.1.3.2.2.2.cmml">ℒ</mi><mrow id="S2.E10.m1.1.1.1.3.2.2.3" xref="S2.E10.m1.1.1.1.3.2.2.3.cmml"><mi id="S2.E10.m1.1.1.1.3.2.2.3.2" xref="S2.E10.m1.1.1.1.3.2.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E10.m1.1.1.1.3.2.2.3.1" xref="S2.E10.m1.1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S2.E10.m1.1.1.1.3.2.2.3.3" xref="S2.E10.m1.1.1.1.3.2.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S2.E10.m1.1.1.1.3.2.2.3.1a" xref="S2.E10.m1.1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S2.E10.m1.1.1.1.3.2.2.3.4" xref="S2.E10.m1.1.1.1.3.2.2.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.E10.m1.1.1.1.3.2.2.3.1b" xref="S2.E10.m1.1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S2.E10.m1.1.1.1.3.2.2.3.5" xref="S2.E10.m1.1.1.1.3.2.2.3.5.cmml">e</mi></mrow><mrow id="S2.E10.m1.1.1.1.3.2.3" xref="S2.E10.m1.1.1.1.3.2.3.cmml"><mi id="S2.E10.m1.1.1.1.3.2.3.2" xref="S2.E10.m1.1.1.1.3.2.3.2.cmml">t</mi><mo stretchy="false" id="S2.E10.m1.1.1.1.3.2.3.1" xref="S2.E10.m1.1.1.1.3.2.3.1.cmml">→</mo><mi id="S2.E10.m1.1.1.1.3.2.3.3" xref="S2.E10.m1.1.1.1.3.2.3.3.cmml">j</mi></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E10.m1.1b"><apply id="S2.E10.m1.1.1.cmml" xref="S2.E10.m1.1.1"><eq id="S2.E10.m1.1.1.2.cmml" xref="S2.E10.m1.1.1.2"></eq><apply id="S2.E10.m1.1.1.3.cmml" xref="S2.E10.m1.1.1.3"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.3.1.cmml" xref="S2.E10.m1.1.1.3">subscript</csymbol><ci id="S2.E10.m1.1.1.3.2.cmml" xref="S2.E10.m1.1.1.3.2">ℒ</ci><apply id="S2.E10.m1.1.1.3.3.cmml" xref="S2.E10.m1.1.1.3.3"><times id="S2.E10.m1.1.1.3.3.1.cmml" xref="S2.E10.m1.1.1.3.3.1"></times><ci id="S2.E10.m1.1.1.3.3.2.cmml" xref="S2.E10.m1.1.1.3.3.2">𝑠</ci><ci id="S2.E10.m1.1.1.3.3.3.cmml" xref="S2.E10.m1.1.1.3.3.3">𝑢</ci></apply></apply><apply id="S2.E10.m1.1.1.1.cmml" xref="S2.E10.m1.1.1.1"><plus id="S2.E10.m1.1.1.1.2.cmml" xref="S2.E10.m1.1.1.1.2"></plus><apply id="S2.E10.m1.1.1.1.1.cmml" xref="S2.E10.m1.1.1.1.1"><times id="S2.E10.m1.1.1.1.1.2.cmml" xref="S2.E10.m1.1.1.1.1.2"></times><apply id="S2.E10.m1.1.1.1.1.3.cmml" xref="S2.E10.m1.1.1.1.1.3"><divide id="S2.E10.m1.1.1.1.1.3.1.cmml" xref="S2.E10.m1.1.1.1.1.3"></divide><cn type="integer" id="S2.E10.m1.1.1.1.1.3.2.cmml" xref="S2.E10.m1.1.1.1.1.3.2">1</cn><ci id="S2.E10.m1.1.1.1.1.3.3.cmml" xref="S2.E10.m1.1.1.1.1.3.3">𝑁</ci></apply><apply id="S2.E10.m1.1.1.1.1.1.cmml" xref="S2.E10.m1.1.1.1.1.1"><apply id="S2.E10.m1.1.1.1.1.1.2.cmml" xref="S2.E10.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.1.1.2.1.cmml" xref="S2.E10.m1.1.1.1.1.1.2">superscript</csymbol><apply id="S2.E10.m1.1.1.1.1.1.2.2.cmml" xref="S2.E10.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.1.1.2.2.1.cmml" xref="S2.E10.m1.1.1.1.1.1.2">subscript</csymbol><sum id="S2.E10.m1.1.1.1.1.1.2.2.2.cmml" xref="S2.E10.m1.1.1.1.1.1.2.2.2"></sum><ci id="S2.E10.m1.1.1.1.1.1.2.2.3.cmml" xref="S2.E10.m1.1.1.1.1.1.2.2.3">𝑖</ci></apply><ci id="S2.E10.m1.1.1.1.1.1.2.3.cmml" xref="S2.E10.m1.1.1.1.1.1.2.3">𝑁</ci></apply><apply id="S2.E10.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1"><plus id="S2.E10.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.1"></plus><apply id="S2.E10.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2"><times id="S2.E10.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.1"></times><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.2">𝜓</ci><apply id="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.3">superscript</csymbol><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.2">𝜇</ci><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.3.3">𝑖</ci></apply><apply id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.1.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4">superscript</csymbol><apply id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.2.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.2.1.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4">subscript</csymbol><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.2.2.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.2.2">ℒ</ci><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.2.3.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.2.3">𝑝</ci></apply><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.3.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.2.4.3">𝑖</ci></apply></apply><apply id="S2.E10.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3"><times id="S2.E10.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.2">𝛾</ci><apply id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3">superscript</csymbol><apply id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.1.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.2.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.2">ℒ</ci><apply id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.1.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3">subscript</csymbol><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.2.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.2">𝑑</ci><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.3.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.2.3.3">𝑡</ci></apply></apply><ci id="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E10.m1.1.1.1.1.1.1.1.1.3.3.3">𝑖</ci></apply></apply></apply></apply></apply><apply id="S2.E10.m1.1.1.1.3.cmml" xref="S2.E10.m1.1.1.1.3"><apply id="S2.E10.m1.1.1.1.3.1.cmml" xref="S2.E10.m1.1.1.1.3.1"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.3.1.1.cmml" xref="S2.E10.m1.1.1.1.3.1">subscript</csymbol><sum id="S2.E10.m1.1.1.1.3.1.2.cmml" xref="S2.E10.m1.1.1.1.3.1.2"></sum><apply id="S2.E10.m1.1.1.1.3.1.3.cmml" xref="S2.E10.m1.1.1.1.3.1.3"><in id="S2.E10.m1.1.1.1.3.1.3.1.cmml" xref="S2.E10.m1.1.1.1.3.1.3.1"></in><ci id="S2.E10.m1.1.1.1.3.1.3.2.cmml" xref="S2.E10.m1.1.1.1.3.1.3.2">𝑗</ci><apply id="S2.E10.m1.1.1.1.3.1.3.3.cmml" xref="S2.E10.m1.1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.3.1.3.3.1.cmml" xref="S2.E10.m1.1.1.1.3.1.3.3">superscript</csymbol><ci id="S2.E10.m1.1.1.1.3.1.3.3.2.cmml" xref="S2.E10.m1.1.1.1.3.1.3.3.2">𝑡</ci><ci id="S2.E10.m1.1.1.1.3.1.3.3.3.cmml" xref="S2.E10.m1.1.1.1.3.1.3.3.3">′</ci></apply></apply></apply><apply id="S2.E10.m1.1.1.1.3.2.cmml" xref="S2.E10.m1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.3.2.1.cmml" xref="S2.E10.m1.1.1.1.3.2">superscript</csymbol><apply id="S2.E10.m1.1.1.1.3.2.2.cmml" xref="S2.E10.m1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E10.m1.1.1.1.3.2.2.1.cmml" xref="S2.E10.m1.1.1.1.3.2">subscript</csymbol><ci id="S2.E10.m1.1.1.1.3.2.2.2.cmml" xref="S2.E10.m1.1.1.1.3.2.2.2">ℒ</ci><apply id="S2.E10.m1.1.1.1.3.2.2.3.cmml" xref="S2.E10.m1.1.1.1.3.2.2.3"><times id="S2.E10.m1.1.1.1.3.2.2.3.1.cmml" xref="S2.E10.m1.1.1.1.3.2.2.3.1"></times><ci id="S2.E10.m1.1.1.1.3.2.2.3.2.cmml" xref="S2.E10.m1.1.1.1.3.2.2.3.2">𝑝</ci><ci id="S2.E10.m1.1.1.1.3.2.2.3.3.cmml" xref="S2.E10.m1.1.1.1.3.2.2.3.3">𝑜</ci><ci id="S2.E10.m1.1.1.1.3.2.2.3.4.cmml" xref="S2.E10.m1.1.1.1.3.2.2.3.4">𝑠</ci><ci id="S2.E10.m1.1.1.1.3.2.2.3.5.cmml" xref="S2.E10.m1.1.1.1.3.2.2.3.5">𝑒</ci></apply></apply><apply id="S2.E10.m1.1.1.1.3.2.3.cmml" xref="S2.E10.m1.1.1.1.3.2.3"><ci id="S2.E10.m1.1.1.1.3.2.3.1.cmml" xref="S2.E10.m1.1.1.1.3.2.3.1">→</ci><ci id="S2.E10.m1.1.1.1.3.2.3.2.cmml" xref="S2.E10.m1.1.1.1.3.2.3.2">𝑡</ci><ci id="S2.E10.m1.1.1.1.3.2.3.3.cmml" xref="S2.E10.m1.1.1.1.3.2.3.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E10.m1.1c">\mathcal{L}_{su}=\frac{1}{N}\sum_{i}^{N}(\psi\mu^{i}\mathcal{L}_{p}^{i}+\gamma\mathcal{L}_{d_{t}}^{i})+\sum_{j\in t^{\prime}}\mathcal{L}_{pose}^{t\rightarrow j}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p id="S2.SS3.p3.10" class="ltx_p">where <math id="S2.SS3.p3.9.m1.1" class="ltx_Math" alttext="\psi" display="inline"><semantics id="S2.SS3.p3.9.m1.1a"><mi id="S2.SS3.p3.9.m1.1.1" xref="S2.SS3.p3.9.m1.1.1.cmml">ψ</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.9.m1.1b"><ci id="S2.SS3.p3.9.m1.1.1.cmml" xref="S2.SS3.p3.9.m1.1.1">𝜓</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.9.m1.1c">\psi</annotation></semantics></math> and <math id="S2.SS3.p3.10.m2.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S2.SS3.p3.10.m2.1a"><mi id="S2.SS3.p3.10.m2.1.1" xref="S2.SS3.p3.10.m2.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.10.m2.1b"><ci id="S2.SS3.p3.10.m2.1.1.cmml" xref="S2.SS3.p3.10.m2.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.10.m2.1c">\gamma</annotation></semantics></math> are balancing weights for depth and pose losses.</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS4.4.1.1" class="ltx_text">II-D</span> </span><span id="S2.SS4.5.2" class="ltx_text ltx_font_italic">Loss generalization</span>
</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p id="S2.SS4.p1.1" class="ltx_p">Since each of the components in (<a href="#S2.E10" title="In II-C Supervised depth and pose estimation ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>) in the commonly used supervised loss has different physical meaning, the weight of each component has to be carefully selected, which is very difficult and usually performed in an empirical manner. It is also common that different weight balancing is needed for different kinds of environment such as outdoor and indoor scenes <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>. To address this limitation, we propose a novel depth and pose supervision loss function by generalizing the depth and the pose errors into the same physical meaning, i.e, a photometric error.</p>
</div>
<figure id="S2.F3" class="ltx_figure"><svg id="S2.F3.1.pic1" class="ltx_picture ltx_centering" height="419.48" overflow="visible" version="1.1" width="534.17"><g transform="translate(0,419.48) matrix(1 0 0 -1 0 0) translate(46.61,0) translate(0,47.11)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><g transform="matrix(1.0 0.0 0.0 1.0 -29.37 353.59)" fill="#000000" stroke="#000000"><foreignObject width="58.73" height="9.72" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S2.F3.1.pic1.21.21.21.1.1" class="ltx_text" style="font-size:80%;">Input image</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 86.93 345.46)" fill="#000000" stroke="#000000"><foreignObject width="46.62" height="21.68" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible">
<span id="S2.F3.1.pic1.22.22.22.1.1" class="ltx_inline-block">
<span id="S2.F3.1.pic1.22.22.22.1.1.1" class="ltx_p"><span id="S2.F3.1.pic1.22.22.22.1.1.1.1" class="ltx_text" style="font-size:80%;">Reference</span></span>
<span id="S2.F3.1.pic1.22.22.22.1.1.2" class="ltx_p"><span id="S2.F3.1.pic1.22.22.22.1.1.2.1" class="ltx_text" style="font-size:80%;">depth</span></span>
</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 124.71 353.53)" fill="#000000" stroke="#000000"><foreignObject width="191.44" height="11.07" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S2.F3.1.pic1.23.23.23.1.1" class="ltx_text" style="font-size:80%;">Self-supervised <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite></span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 216.78 344.91)" fill="#000000" stroke="#000000"><foreignObject width="227.87" height="22.78" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible">
<span id="S2.F3.1.pic1.24.24.24.1.1" class="ltx_inline-block">
<span id="S2.F3.1.pic1.24.24.24.1.1.1" class="ltx_p"><span id="S2.F3.1.pic1.24.24.24.1.1.1.1" class="ltx_text" style="font-size:80%;">Direct</span></span>
<span id="S2.F3.1.pic1.24.24.24.1.1.2" class="ltx_p"><span id="S2.F3.1.pic1.24.24.24.1.1.2.1" class="ltx_text" style="font-size:80%;">supervision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite></span></span>
</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 412.09 344.84)" fill="#000000" stroke="#000000"><foreignObject width="57.72" height="22.91" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible">
<span id="S2.F3.1.pic1.25.25.25.1.1" class="ltx_inline-block">
<span id="S2.F3.1.pic1.25.25.25.1.1.1" class="ltx_p"><span id="S2.F3.1.pic1.25.25.25.1.1.1.1" class="ltx_text" style="font-size:80%;">Generalized</span></span>
<span id="S2.F3.1.pic1.25.25.25.1.1.2" class="ltx_p"><span id="S2.F3.1.pic1.25.25.25.1.1.2.1" class="ltx_text" style="font-size:80%;">loss (Ours)</span></span>
</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -42 257.78)" fill="#000000" stroke="#000000"><foreignObject width="84" height="75" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/20180830_15543.png" id="S2.F3.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="75" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -42 159.35)" fill="#000000" stroke="#000000"><foreignObject width="84" height="75" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/20180830_17077.png" id="S2.F3.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="75" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -42 60.93)" fill="#000000" stroke="#000000"><foreignObject width="84" height="75" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/20180904_15631.png" id="S2.F3.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="75" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -42 -37.5)" fill="#000000" stroke="#000000"><foreignObject width="84" height="75" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/20180904_17088.png" id="S2.F3.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="75" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 68.24 252.78)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/20180830_15543_RGBplt.png" id="S2.F3.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 68.24 154.35)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/20180830_17077_RGBplt.png" id="S2.F3.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 68.24 55.93)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/20180904_15631_RGBplt.png" id="S2.F3.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 68.24 -42.5)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/20180904_17088_RGBplt.png" id="S2.F3.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 178.47 252.78)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/original_20180830_15543_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 178.47 154.35)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/original_20180830_17077_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 178.47 55.93)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/original_20180904_15631_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 178.47 -42.5)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/original_20180904_17088_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 288.71 252.78)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/demon_20180830_15543_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 288.71 154.35)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/demon_20180830_17077_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 288.71 55.93)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/demon_20180904_15631_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.15.15.15.15.15.15.15.15.15.15.15.15.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 288.71 -42.5)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/demon_20180904_17088_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.16.16.16.16.16.16.16.16.16.16.16.16.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 398.95 252.78)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/proposed_20180830_15543_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.17.17.17.17.17.17.17.17.17.17.17.17.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 398.95 154.35)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/proposed_20180830_17077_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.18.18.18.18.18.18.18.18.18.18.18.18.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 398.95 55.93)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/proposed_20180904_15631_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.19.19.19.19.19.19.19.19.19.19.19.19.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 398.95 -42.5)" fill="#000000" stroke="#000000"><foreignObject width="84" height="85" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred-globalscale/proposed_20180904_17088_L_linearscalled_RGBplt.png" id="S2.F3.1.pic1.20.20.20.20.20.20.20.20.20.20.20.20.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="84" height="85" alt="Refer to caption"></foreignObject></g></g></svg>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S2.F3.3.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S2.F3.4.2" class="ltx_text" style="font-size:90%;">Some examples of depth estimation results. Here we show the RGB images for better visualization, though we actually used red channel images as the input of the network according to the finding in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. We compare the depth prediction results of the self-supervision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, the direct supervision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, and our proposed generalized loss supervision. As we can see, our proposed method not only estimates closer depth to the reference, but also better estimates the structures and the boundaries, including the endoscope rod. In some cases, the direct supervision results are too smooth.</span></figcaption>
</figure>
<div id="S2.SS4.p2" class="ltx_para">
<p id="S2.SS4.p2.2" class="ltx_p">As illustrated in Figure 1(d), in order to generalize the loss into a photometric error, we use the reference relative pose <math id="S2.SS4.p2.1.m1.1" class="ltx_Math" alttext="T_{t\rightarrow t^{\prime}}" display="inline"><semantics id="S2.SS4.p2.1.m1.1a"><msub id="S2.SS4.p2.1.m1.1.1" xref="S2.SS4.p2.1.m1.1.1.cmml"><mi id="S2.SS4.p2.1.m1.1.1.2" xref="S2.SS4.p2.1.m1.1.1.2.cmml">T</mi><mrow id="S2.SS4.p2.1.m1.1.1.3" xref="S2.SS4.p2.1.m1.1.1.3.cmml"><mi id="S2.SS4.p2.1.m1.1.1.3.2" xref="S2.SS4.p2.1.m1.1.1.3.2.cmml">t</mi><mo stretchy="false" id="S2.SS4.p2.1.m1.1.1.3.1" xref="S2.SS4.p2.1.m1.1.1.3.1.cmml">→</mo><msup id="S2.SS4.p2.1.m1.1.1.3.3" xref="S2.SS4.p2.1.m1.1.1.3.3.cmml"><mi id="S2.SS4.p2.1.m1.1.1.3.3.2" xref="S2.SS4.p2.1.m1.1.1.3.3.2.cmml">t</mi><mo id="S2.SS4.p2.1.m1.1.1.3.3.3" xref="S2.SS4.p2.1.m1.1.1.3.3.3.cmml">′</mo></msup></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p2.1.m1.1b"><apply id="S2.SS4.p2.1.m1.1.1.cmml" xref="S2.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p2.1.m1.1.1.1.cmml" xref="S2.SS4.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS4.p2.1.m1.1.1.2.cmml" xref="S2.SS4.p2.1.m1.1.1.2">𝑇</ci><apply id="S2.SS4.p2.1.m1.1.1.3.cmml" xref="S2.SS4.p2.1.m1.1.1.3"><ci id="S2.SS4.p2.1.m1.1.1.3.1.cmml" xref="S2.SS4.p2.1.m1.1.1.3.1">→</ci><ci id="S2.SS4.p2.1.m1.1.1.3.2.cmml" xref="S2.SS4.p2.1.m1.1.1.3.2">𝑡</ci><apply id="S2.SS4.p2.1.m1.1.1.3.3.cmml" xref="S2.SS4.p2.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS4.p2.1.m1.1.1.3.3.1.cmml" xref="S2.SS4.p2.1.m1.1.1.3.3">superscript</csymbol><ci id="S2.SS4.p2.1.m1.1.1.3.3.2.cmml" xref="S2.SS4.p2.1.m1.1.1.3.3.2">𝑡</ci><ci id="S2.SS4.p2.1.m1.1.1.3.3.3.cmml" xref="S2.SS4.p2.1.m1.1.1.3.3.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p2.1.m1.1c">T_{t\rightarrow t^{\prime}}</annotation></semantics></math> to train the depth estimation network by optimizing the predicted depth <math id="S2.SS4.p2.2.m2.1" class="ltx_Math" alttext="\hat{D}_{t}" display="inline"><semantics id="S2.SS4.p2.2.m2.1a"><msub id="S2.SS4.p2.2.m2.1.1" xref="S2.SS4.p2.2.m2.1.1.cmml"><mover accent="true" id="S2.SS4.p2.2.m2.1.1.2" xref="S2.SS4.p2.2.m2.1.1.2.cmml"><mi id="S2.SS4.p2.2.m2.1.1.2.2" xref="S2.SS4.p2.2.m2.1.1.2.2.cmml">D</mi><mo id="S2.SS4.p2.2.m2.1.1.2.1" xref="S2.SS4.p2.2.m2.1.1.2.1.cmml">^</mo></mover><mi id="S2.SS4.p2.2.m2.1.1.3" xref="S2.SS4.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p2.2.m2.1b"><apply id="S2.SS4.p2.2.m2.1.1.cmml" xref="S2.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS4.p2.2.m2.1.1.1.cmml" xref="S2.SS4.p2.2.m2.1.1">subscript</csymbol><apply id="S2.SS4.p2.2.m2.1.1.2.cmml" xref="S2.SS4.p2.2.m2.1.1.2"><ci id="S2.SS4.p2.2.m2.1.1.2.1.cmml" xref="S2.SS4.p2.2.m2.1.1.2.1">^</ci><ci id="S2.SS4.p2.2.m2.1.1.2.2.cmml" xref="S2.SS4.p2.2.m2.1.1.2.2">𝐷</ci></apply><ci id="S2.SS4.p2.2.m2.1.1.3.cmml" xref="S2.SS4.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p2.2.m2.1c">\hat{D}_{t}</annotation></semantics></math> such that</p>
<table id="S2.E11" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E11.m1.5" class="ltx_Math" alttext="\mathcal{L}_{d\rightarrow p}=\min_{t^{\prime}\in(t+1,t-1)}pe(I_{t},\epsilon(I_{t^{\prime}},\pi(\hat{D}_{t},T_{t\rightarrow t^{\prime}},K)))" display="block"><semantics id="S2.E11.m1.5a"><mrow id="S2.E11.m1.5.5" xref="S2.E11.m1.5.5.cmml"><msub id="S2.E11.m1.5.5.4" xref="S2.E11.m1.5.5.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E11.m1.5.5.4.2" xref="S2.E11.m1.5.5.4.2.cmml">ℒ</mi><mrow id="S2.E11.m1.5.5.4.3" xref="S2.E11.m1.5.5.4.3.cmml"><mi id="S2.E11.m1.5.5.4.3.2" xref="S2.E11.m1.5.5.4.3.2.cmml">d</mi><mo stretchy="false" id="S2.E11.m1.5.5.4.3.1" xref="S2.E11.m1.5.5.4.3.1.cmml">→</mo><mi id="S2.E11.m1.5.5.4.3.3" xref="S2.E11.m1.5.5.4.3.3.cmml">p</mi></mrow></msub><mo id="S2.E11.m1.5.5.3" xref="S2.E11.m1.5.5.3.cmml">=</mo><mrow id="S2.E11.m1.5.5.2" xref="S2.E11.m1.5.5.2.cmml"><mrow id="S2.E11.m1.5.5.2.4" xref="S2.E11.m1.5.5.2.4.cmml"><munder id="S2.E11.m1.5.5.2.4.1" xref="S2.E11.m1.5.5.2.4.1.cmml"><mi id="S2.E11.m1.5.5.2.4.1.2" xref="S2.E11.m1.5.5.2.4.1.2.cmml">min</mi><mrow id="S2.E11.m1.2.2.2" xref="S2.E11.m1.2.2.2.cmml"><msup id="S2.E11.m1.2.2.2.4" xref="S2.E11.m1.2.2.2.4.cmml"><mi id="S2.E11.m1.2.2.2.4.2" xref="S2.E11.m1.2.2.2.4.2.cmml">t</mi><mo id="S2.E11.m1.2.2.2.4.3" xref="S2.E11.m1.2.2.2.4.3.cmml">′</mo></msup><mo id="S2.E11.m1.2.2.2.3" xref="S2.E11.m1.2.2.2.3.cmml">∈</mo><mrow id="S2.E11.m1.2.2.2.2.2" xref="S2.E11.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E11.m1.2.2.2.2.2.3" xref="S2.E11.m1.2.2.2.2.3.cmml">(</mo><mrow id="S2.E11.m1.1.1.1.1.1.1" xref="S2.E11.m1.1.1.1.1.1.1.cmml"><mi id="S2.E11.m1.1.1.1.1.1.1.2" xref="S2.E11.m1.1.1.1.1.1.1.2.cmml">t</mi><mo id="S2.E11.m1.1.1.1.1.1.1.1" xref="S2.E11.m1.1.1.1.1.1.1.1.cmml">+</mo><mn id="S2.E11.m1.1.1.1.1.1.1.3" xref="S2.E11.m1.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E11.m1.2.2.2.2.2.4" xref="S2.E11.m1.2.2.2.2.3.cmml">,</mo><mrow id="S2.E11.m1.2.2.2.2.2.2" xref="S2.E11.m1.2.2.2.2.2.2.cmml"><mi id="S2.E11.m1.2.2.2.2.2.2.2" xref="S2.E11.m1.2.2.2.2.2.2.2.cmml">t</mi><mo id="S2.E11.m1.2.2.2.2.2.2.1" xref="S2.E11.m1.2.2.2.2.2.2.1.cmml">−</mo><mn id="S2.E11.m1.2.2.2.2.2.2.3" xref="S2.E11.m1.2.2.2.2.2.2.3.cmml">1</mn></mrow><mo stretchy="false" id="S2.E11.m1.2.2.2.2.2.5" xref="S2.E11.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></munder><mo lspace="0.167em" id="S2.E11.m1.5.5.2.4a" xref="S2.E11.m1.5.5.2.4.cmml">⁡</mo><mrow id="S2.E11.m1.5.5.2.4.2" xref="S2.E11.m1.5.5.2.4.2.cmml"><mi id="S2.E11.m1.5.5.2.4.2.2" xref="S2.E11.m1.5.5.2.4.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E11.m1.5.5.2.4.2.1" xref="S2.E11.m1.5.5.2.4.2.1.cmml">​</mo><mi id="S2.E11.m1.5.5.2.4.2.3" xref="S2.E11.m1.5.5.2.4.2.3.cmml">e</mi></mrow></mrow><mo lspace="0em" rspace="0em" id="S2.E11.m1.5.5.2.3" xref="S2.E11.m1.5.5.2.3.cmml">​</mo><mrow id="S2.E11.m1.5.5.2.2.2" xref="S2.E11.m1.5.5.2.2.3.cmml"><mo stretchy="false" id="S2.E11.m1.5.5.2.2.2.3" xref="S2.E11.m1.5.5.2.2.3.cmml">(</mo><msub id="S2.E11.m1.4.4.1.1.1.1" xref="S2.E11.m1.4.4.1.1.1.1.cmml"><mi id="S2.E11.m1.4.4.1.1.1.1.2" xref="S2.E11.m1.4.4.1.1.1.1.2.cmml">I</mi><mi id="S2.E11.m1.4.4.1.1.1.1.3" xref="S2.E11.m1.4.4.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.E11.m1.5.5.2.2.2.4" xref="S2.E11.m1.5.5.2.2.3.cmml">,</mo><mrow id="S2.E11.m1.5.5.2.2.2.2" xref="S2.E11.m1.5.5.2.2.2.2.cmml"><mi id="S2.E11.m1.5.5.2.2.2.2.4" xref="S2.E11.m1.5.5.2.2.2.2.4.cmml">ϵ</mi><mo lspace="0em" rspace="0em" id="S2.E11.m1.5.5.2.2.2.2.3" xref="S2.E11.m1.5.5.2.2.2.2.3.cmml">​</mo><mrow id="S2.E11.m1.5.5.2.2.2.2.2.2" xref="S2.E11.m1.5.5.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E11.m1.5.5.2.2.2.2.2.2.3" xref="S2.E11.m1.5.5.2.2.2.2.2.3.cmml">(</mo><msub id="S2.E11.m1.5.5.2.2.2.2.1.1.1" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1.cmml"><mi id="S2.E11.m1.5.5.2.2.2.2.1.1.1.2" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1.2.cmml">I</mi><msup id="S2.E11.m1.5.5.2.2.2.2.1.1.1.3" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.cmml"><mi id="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.2" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.2.cmml">t</mi><mo id="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.3" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.3.cmml">′</mo></msup></msub><mo id="S2.E11.m1.5.5.2.2.2.2.2.2.4" xref="S2.E11.m1.5.5.2.2.2.2.2.3.cmml">,</mo><mrow id="S2.E11.m1.5.5.2.2.2.2.2.2.2" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.cmml"><mi id="S2.E11.m1.5.5.2.2.2.2.2.2.2.4" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.4.cmml">π</mi><mo lspace="0em" rspace="0em" id="S2.E11.m1.5.5.2.2.2.2.2.2.2.3" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.3.cmml">​</mo><mrow id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.3" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.3.cmml">(</mo><msub id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.cmml"><mover accent="true" id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.cmml"><mi id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.2" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.2.cmml">D</mi><mo id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.1" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.1.cmml">^</mo></mover><mi id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.3" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.3.cmml">t</mi></msub><mo id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.4" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.3.cmml">,</mo><msub id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.cmml"><mi id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.2" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.cmml">T</mi><mrow id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.cmml"><mi id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.2" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.2.cmml">t</mi><mo stretchy="false" id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.1" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.1.cmml">→</mo><msup id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.cmml"><mi id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.2" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.2.cmml">t</mi><mo id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.3" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.3.cmml">′</mo></msup></mrow></msub><mo id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.5" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.3.cmml">,</mo><mi id="S2.E11.m1.3.3" xref="S2.E11.m1.3.3.cmml">K</mi><mo stretchy="false" id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.6" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E11.m1.5.5.2.2.2.2.2.2.5" xref="S2.E11.m1.5.5.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E11.m1.5.5.2.2.2.5" xref="S2.E11.m1.5.5.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E11.m1.5b"><apply id="S2.E11.m1.5.5.cmml" xref="S2.E11.m1.5.5"><eq id="S2.E11.m1.5.5.3.cmml" xref="S2.E11.m1.5.5.3"></eq><apply id="S2.E11.m1.5.5.4.cmml" xref="S2.E11.m1.5.5.4"><csymbol cd="ambiguous" id="S2.E11.m1.5.5.4.1.cmml" xref="S2.E11.m1.5.5.4">subscript</csymbol><ci id="S2.E11.m1.5.5.4.2.cmml" xref="S2.E11.m1.5.5.4.2">ℒ</ci><apply id="S2.E11.m1.5.5.4.3.cmml" xref="S2.E11.m1.5.5.4.3"><ci id="S2.E11.m1.5.5.4.3.1.cmml" xref="S2.E11.m1.5.5.4.3.1">→</ci><ci id="S2.E11.m1.5.5.4.3.2.cmml" xref="S2.E11.m1.5.5.4.3.2">𝑑</ci><ci id="S2.E11.m1.5.5.4.3.3.cmml" xref="S2.E11.m1.5.5.4.3.3">𝑝</ci></apply></apply><apply id="S2.E11.m1.5.5.2.cmml" xref="S2.E11.m1.5.5.2"><times id="S2.E11.m1.5.5.2.3.cmml" xref="S2.E11.m1.5.5.2.3"></times><apply id="S2.E11.m1.5.5.2.4.cmml" xref="S2.E11.m1.5.5.2.4"><apply id="S2.E11.m1.5.5.2.4.1.cmml" xref="S2.E11.m1.5.5.2.4.1"><csymbol cd="ambiguous" id="S2.E11.m1.5.5.2.4.1.1.cmml" xref="S2.E11.m1.5.5.2.4.1">subscript</csymbol><min id="S2.E11.m1.5.5.2.4.1.2.cmml" xref="S2.E11.m1.5.5.2.4.1.2"></min><apply id="S2.E11.m1.2.2.2.cmml" xref="S2.E11.m1.2.2.2"><in id="S2.E11.m1.2.2.2.3.cmml" xref="S2.E11.m1.2.2.2.3"></in><apply id="S2.E11.m1.2.2.2.4.cmml" xref="S2.E11.m1.2.2.2.4"><csymbol cd="ambiguous" id="S2.E11.m1.2.2.2.4.1.cmml" xref="S2.E11.m1.2.2.2.4">superscript</csymbol><ci id="S2.E11.m1.2.2.2.4.2.cmml" xref="S2.E11.m1.2.2.2.4.2">𝑡</ci><ci id="S2.E11.m1.2.2.2.4.3.cmml" xref="S2.E11.m1.2.2.2.4.3">′</ci></apply><interval closure="open" id="S2.E11.m1.2.2.2.2.3.cmml" xref="S2.E11.m1.2.2.2.2.2"><apply id="S2.E11.m1.1.1.1.1.1.1.cmml" xref="S2.E11.m1.1.1.1.1.1.1"><plus id="S2.E11.m1.1.1.1.1.1.1.1.cmml" xref="S2.E11.m1.1.1.1.1.1.1.1"></plus><ci id="S2.E11.m1.1.1.1.1.1.1.2.cmml" xref="S2.E11.m1.1.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="S2.E11.m1.1.1.1.1.1.1.3.cmml" xref="S2.E11.m1.1.1.1.1.1.1.3">1</cn></apply><apply id="S2.E11.m1.2.2.2.2.2.2.cmml" xref="S2.E11.m1.2.2.2.2.2.2"><minus id="S2.E11.m1.2.2.2.2.2.2.1.cmml" xref="S2.E11.m1.2.2.2.2.2.2.1"></minus><ci id="S2.E11.m1.2.2.2.2.2.2.2.cmml" xref="S2.E11.m1.2.2.2.2.2.2.2">𝑡</ci><cn type="integer" id="S2.E11.m1.2.2.2.2.2.2.3.cmml" xref="S2.E11.m1.2.2.2.2.2.2.3">1</cn></apply></interval></apply></apply><apply id="S2.E11.m1.5.5.2.4.2.cmml" xref="S2.E11.m1.5.5.2.4.2"><times id="S2.E11.m1.5.5.2.4.2.1.cmml" xref="S2.E11.m1.5.5.2.4.2.1"></times><ci id="S2.E11.m1.5.5.2.4.2.2.cmml" xref="S2.E11.m1.5.5.2.4.2.2">𝑝</ci><ci id="S2.E11.m1.5.5.2.4.2.3.cmml" xref="S2.E11.m1.5.5.2.4.2.3">𝑒</ci></apply></apply><interval closure="open" id="S2.E11.m1.5.5.2.2.3.cmml" xref="S2.E11.m1.5.5.2.2.2"><apply id="S2.E11.m1.4.4.1.1.1.1.cmml" xref="S2.E11.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S2.E11.m1.4.4.1.1.1.1.1.cmml" xref="S2.E11.m1.4.4.1.1.1.1">subscript</csymbol><ci id="S2.E11.m1.4.4.1.1.1.1.2.cmml" xref="S2.E11.m1.4.4.1.1.1.1.2">𝐼</ci><ci id="S2.E11.m1.4.4.1.1.1.1.3.cmml" xref="S2.E11.m1.4.4.1.1.1.1.3">𝑡</ci></apply><apply id="S2.E11.m1.5.5.2.2.2.2.cmml" xref="S2.E11.m1.5.5.2.2.2.2"><times id="S2.E11.m1.5.5.2.2.2.2.3.cmml" xref="S2.E11.m1.5.5.2.2.2.2.3"></times><ci id="S2.E11.m1.5.5.2.2.2.2.4.cmml" xref="S2.E11.m1.5.5.2.2.2.2.4">italic-ϵ</ci><interval closure="open" id="S2.E11.m1.5.5.2.2.2.2.2.3.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2"><apply id="S2.E11.m1.5.5.2.2.2.2.1.1.1.cmml" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.E11.m1.5.5.2.2.2.2.1.1.1.1.cmml" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1">subscript</csymbol><ci id="S2.E11.m1.5.5.2.2.2.2.1.1.1.2.cmml" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1.2">𝐼</ci><apply id="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.cmml" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.1.cmml" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1.3">superscript</csymbol><ci id="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.2.cmml" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.2">𝑡</ci><ci id="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.3.cmml" xref="S2.E11.m1.5.5.2.2.2.2.1.1.1.3.3">′</ci></apply></apply><apply id="S2.E11.m1.5.5.2.2.2.2.2.2.2.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2"><times id="S2.E11.m1.5.5.2.2.2.2.2.2.2.3.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.3"></times><ci id="S2.E11.m1.5.5.2.2.2.2.2.2.2.4.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.4">𝜋</ci><vector id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.3.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2"><apply id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.1.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1">subscript</csymbol><apply id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2"><ci id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.1.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.1">^</ci><ci id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.2.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.2">𝐷</ci></apply><ci id="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.3.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.1.1.1.3">𝑡</ci></apply><apply id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.2">𝑇</ci><apply id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3"><ci id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.1.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.1">→</ci><ci id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.2.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.2">𝑡</ci><apply id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.1.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3">superscript</csymbol><ci id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.2.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.2">𝑡</ci><ci id="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.3.cmml" xref="S2.E11.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.3">′</ci></apply></apply></apply><ci id="S2.E11.m1.3.3.cmml" xref="S2.E11.m1.3.3">𝐾</ci></vector></apply></interval></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E11.m1.5c">\mathcal{L}_{d\rightarrow p}=\min_{t^{\prime}\in(t+1,t-1)}pe(I_{t},\epsilon(I_{t^{\prime}},\pi(\hat{D}_{t},T_{t\rightarrow t^{\prime}},K)))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
<p id="S2.SS4.p2.4" class="ltx_p">Conversely, we use the reference depth <math id="S2.SS4.p2.3.m1.1" class="ltx_Math" alttext="D_{t}" display="inline"><semantics id="S2.SS4.p2.3.m1.1a"><msub id="S2.SS4.p2.3.m1.1.1" xref="S2.SS4.p2.3.m1.1.1.cmml"><mi id="S2.SS4.p2.3.m1.1.1.2" xref="S2.SS4.p2.3.m1.1.1.2.cmml">D</mi><mi id="S2.SS4.p2.3.m1.1.1.3" xref="S2.SS4.p2.3.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p2.3.m1.1b"><apply id="S2.SS4.p2.3.m1.1.1.cmml" xref="S2.SS4.p2.3.m1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p2.3.m1.1.1.1.cmml" xref="S2.SS4.p2.3.m1.1.1">subscript</csymbol><ci id="S2.SS4.p2.3.m1.1.1.2.cmml" xref="S2.SS4.p2.3.m1.1.1.2">𝐷</ci><ci id="S2.SS4.p2.3.m1.1.1.3.cmml" xref="S2.SS4.p2.3.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p2.3.m1.1c">D_{t}</annotation></semantics></math> to train the pose estimation network by optimizing the predicted relative pose <math id="S2.SS4.p2.4.m2.1" class="ltx_Math" alttext="\hat{T}_{t\rightarrow t^{\prime}}" display="inline"><semantics id="S2.SS4.p2.4.m2.1a"><msub id="S2.SS4.p2.4.m2.1.1" xref="S2.SS4.p2.4.m2.1.1.cmml"><mover accent="true" id="S2.SS4.p2.4.m2.1.1.2" xref="S2.SS4.p2.4.m2.1.1.2.cmml"><mi id="S2.SS4.p2.4.m2.1.1.2.2" xref="S2.SS4.p2.4.m2.1.1.2.2.cmml">T</mi><mo id="S2.SS4.p2.4.m2.1.1.2.1" xref="S2.SS4.p2.4.m2.1.1.2.1.cmml">^</mo></mover><mrow id="S2.SS4.p2.4.m2.1.1.3" xref="S2.SS4.p2.4.m2.1.1.3.cmml"><mi id="S2.SS4.p2.4.m2.1.1.3.2" xref="S2.SS4.p2.4.m2.1.1.3.2.cmml">t</mi><mo stretchy="false" id="S2.SS4.p2.4.m2.1.1.3.1" xref="S2.SS4.p2.4.m2.1.1.3.1.cmml">→</mo><msup id="S2.SS4.p2.4.m2.1.1.3.3" xref="S2.SS4.p2.4.m2.1.1.3.3.cmml"><mi id="S2.SS4.p2.4.m2.1.1.3.3.2" xref="S2.SS4.p2.4.m2.1.1.3.3.2.cmml">t</mi><mo id="S2.SS4.p2.4.m2.1.1.3.3.3" xref="S2.SS4.p2.4.m2.1.1.3.3.3.cmml">′</mo></msup></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p2.4.m2.1b"><apply id="S2.SS4.p2.4.m2.1.1.cmml" xref="S2.SS4.p2.4.m2.1.1"><csymbol cd="ambiguous" id="S2.SS4.p2.4.m2.1.1.1.cmml" xref="S2.SS4.p2.4.m2.1.1">subscript</csymbol><apply id="S2.SS4.p2.4.m2.1.1.2.cmml" xref="S2.SS4.p2.4.m2.1.1.2"><ci id="S2.SS4.p2.4.m2.1.1.2.1.cmml" xref="S2.SS4.p2.4.m2.1.1.2.1">^</ci><ci id="S2.SS4.p2.4.m2.1.1.2.2.cmml" xref="S2.SS4.p2.4.m2.1.1.2.2">𝑇</ci></apply><apply id="S2.SS4.p2.4.m2.1.1.3.cmml" xref="S2.SS4.p2.4.m2.1.1.3"><ci id="S2.SS4.p2.4.m2.1.1.3.1.cmml" xref="S2.SS4.p2.4.m2.1.1.3.1">→</ci><ci id="S2.SS4.p2.4.m2.1.1.3.2.cmml" xref="S2.SS4.p2.4.m2.1.1.3.2">𝑡</ci><apply id="S2.SS4.p2.4.m2.1.1.3.3.cmml" xref="S2.SS4.p2.4.m2.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS4.p2.4.m2.1.1.3.3.1.cmml" xref="S2.SS4.p2.4.m2.1.1.3.3">superscript</csymbol><ci id="S2.SS4.p2.4.m2.1.1.3.3.2.cmml" xref="S2.SS4.p2.4.m2.1.1.3.3.2">𝑡</ci><ci id="S2.SS4.p2.4.m2.1.1.3.3.3.cmml" xref="S2.SS4.p2.4.m2.1.1.3.3.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p2.4.m2.1c">\hat{T}_{t\rightarrow t^{\prime}}</annotation></semantics></math> such that</p>
<table id="S2.E12" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E12.m1.5" class="ltx_Math" alttext="\mathcal{L}_{r\rightarrow p}=\min_{t^{\prime}\in(t+1,t-1)}pe(I_{t},\epsilon(I_{t^{\prime}},\pi(D_{t},\hat{T}_{t\rightarrow t^{\prime}},K)))" display="block"><semantics id="S2.E12.m1.5a"><mrow id="S2.E12.m1.5.5" xref="S2.E12.m1.5.5.cmml"><msub id="S2.E12.m1.5.5.4" xref="S2.E12.m1.5.5.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E12.m1.5.5.4.2" xref="S2.E12.m1.5.5.4.2.cmml">ℒ</mi><mrow id="S2.E12.m1.5.5.4.3" xref="S2.E12.m1.5.5.4.3.cmml"><mi id="S2.E12.m1.5.5.4.3.2" xref="S2.E12.m1.5.5.4.3.2.cmml">r</mi><mo stretchy="false" id="S2.E12.m1.5.5.4.3.1" xref="S2.E12.m1.5.5.4.3.1.cmml">→</mo><mi id="S2.E12.m1.5.5.4.3.3" xref="S2.E12.m1.5.5.4.3.3.cmml">p</mi></mrow></msub><mo id="S2.E12.m1.5.5.3" xref="S2.E12.m1.5.5.3.cmml">=</mo><mrow id="S2.E12.m1.5.5.2" xref="S2.E12.m1.5.5.2.cmml"><mrow id="S2.E12.m1.5.5.2.4" xref="S2.E12.m1.5.5.2.4.cmml"><munder id="S2.E12.m1.5.5.2.4.1" xref="S2.E12.m1.5.5.2.4.1.cmml"><mi id="S2.E12.m1.5.5.2.4.1.2" xref="S2.E12.m1.5.5.2.4.1.2.cmml">min</mi><mrow id="S2.E12.m1.2.2.2" xref="S2.E12.m1.2.2.2.cmml"><msup id="S2.E12.m1.2.2.2.4" xref="S2.E12.m1.2.2.2.4.cmml"><mi id="S2.E12.m1.2.2.2.4.2" xref="S2.E12.m1.2.2.2.4.2.cmml">t</mi><mo id="S2.E12.m1.2.2.2.4.3" xref="S2.E12.m1.2.2.2.4.3.cmml">′</mo></msup><mo id="S2.E12.m1.2.2.2.3" xref="S2.E12.m1.2.2.2.3.cmml">∈</mo><mrow id="S2.E12.m1.2.2.2.2.2" xref="S2.E12.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E12.m1.2.2.2.2.2.3" xref="S2.E12.m1.2.2.2.2.3.cmml">(</mo><mrow id="S2.E12.m1.1.1.1.1.1.1" xref="S2.E12.m1.1.1.1.1.1.1.cmml"><mi id="S2.E12.m1.1.1.1.1.1.1.2" xref="S2.E12.m1.1.1.1.1.1.1.2.cmml">t</mi><mo id="S2.E12.m1.1.1.1.1.1.1.1" xref="S2.E12.m1.1.1.1.1.1.1.1.cmml">+</mo><mn id="S2.E12.m1.1.1.1.1.1.1.3" xref="S2.E12.m1.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E12.m1.2.2.2.2.2.4" xref="S2.E12.m1.2.2.2.2.3.cmml">,</mo><mrow id="S2.E12.m1.2.2.2.2.2.2" xref="S2.E12.m1.2.2.2.2.2.2.cmml"><mi id="S2.E12.m1.2.2.2.2.2.2.2" xref="S2.E12.m1.2.2.2.2.2.2.2.cmml">t</mi><mo id="S2.E12.m1.2.2.2.2.2.2.1" xref="S2.E12.m1.2.2.2.2.2.2.1.cmml">−</mo><mn id="S2.E12.m1.2.2.2.2.2.2.3" xref="S2.E12.m1.2.2.2.2.2.2.3.cmml">1</mn></mrow><mo stretchy="false" id="S2.E12.m1.2.2.2.2.2.5" xref="S2.E12.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></munder><mo lspace="0.167em" id="S2.E12.m1.5.5.2.4a" xref="S2.E12.m1.5.5.2.4.cmml">⁡</mo><mrow id="S2.E12.m1.5.5.2.4.2" xref="S2.E12.m1.5.5.2.4.2.cmml"><mi id="S2.E12.m1.5.5.2.4.2.2" xref="S2.E12.m1.5.5.2.4.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E12.m1.5.5.2.4.2.1" xref="S2.E12.m1.5.5.2.4.2.1.cmml">​</mo><mi id="S2.E12.m1.5.5.2.4.2.3" xref="S2.E12.m1.5.5.2.4.2.3.cmml">e</mi></mrow></mrow><mo lspace="0em" rspace="0em" id="S2.E12.m1.5.5.2.3" xref="S2.E12.m1.5.5.2.3.cmml">​</mo><mrow id="S2.E12.m1.5.5.2.2.2" xref="S2.E12.m1.5.5.2.2.3.cmml"><mo stretchy="false" id="S2.E12.m1.5.5.2.2.2.3" xref="S2.E12.m1.5.5.2.2.3.cmml">(</mo><msub id="S2.E12.m1.4.4.1.1.1.1" xref="S2.E12.m1.4.4.1.1.1.1.cmml"><mi id="S2.E12.m1.4.4.1.1.1.1.2" xref="S2.E12.m1.4.4.1.1.1.1.2.cmml">I</mi><mi id="S2.E12.m1.4.4.1.1.1.1.3" xref="S2.E12.m1.4.4.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.E12.m1.5.5.2.2.2.4" xref="S2.E12.m1.5.5.2.2.3.cmml">,</mo><mrow id="S2.E12.m1.5.5.2.2.2.2" xref="S2.E12.m1.5.5.2.2.2.2.cmml"><mi id="S2.E12.m1.5.5.2.2.2.2.4" xref="S2.E12.m1.5.5.2.2.2.2.4.cmml">ϵ</mi><mo lspace="0em" rspace="0em" id="S2.E12.m1.5.5.2.2.2.2.3" xref="S2.E12.m1.5.5.2.2.2.2.3.cmml">​</mo><mrow id="S2.E12.m1.5.5.2.2.2.2.2.2" xref="S2.E12.m1.5.5.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E12.m1.5.5.2.2.2.2.2.2.3" xref="S2.E12.m1.5.5.2.2.2.2.2.3.cmml">(</mo><msub id="S2.E12.m1.5.5.2.2.2.2.1.1.1" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1.cmml"><mi id="S2.E12.m1.5.5.2.2.2.2.1.1.1.2" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1.2.cmml">I</mi><msup id="S2.E12.m1.5.5.2.2.2.2.1.1.1.3" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.cmml"><mi id="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.2" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.2.cmml">t</mi><mo id="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.3" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.3.cmml">′</mo></msup></msub><mo id="S2.E12.m1.5.5.2.2.2.2.2.2.4" xref="S2.E12.m1.5.5.2.2.2.2.2.3.cmml">,</mo><mrow id="S2.E12.m1.5.5.2.2.2.2.2.2.2" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.cmml"><mi id="S2.E12.m1.5.5.2.2.2.2.2.2.2.4" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.4.cmml">π</mi><mo lspace="0em" rspace="0em" id="S2.E12.m1.5.5.2.2.2.2.2.2.2.3" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.3.cmml">​</mo><mrow id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.3" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.3.cmml">(</mo><msub id="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.cmml"><mi id="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.2" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.cmml">D</mi><mi id="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.3" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.3.cmml">t</mi></msub><mo id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.4" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.3.cmml">,</mo><msub id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.cmml"><mover accent="true" id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.cmml"><mi id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.2" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.2.cmml">T</mi><mo id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.1" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.1.cmml">^</mo></mover><mrow id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.cmml"><mi id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.2" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.2.cmml">t</mi><mo stretchy="false" id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.1" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.1.cmml">→</mo><msup id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.cmml"><mi id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.2" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.2.cmml">t</mi><mo id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.3" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.3.cmml">′</mo></msup></mrow></msub><mo id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.5" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.3.cmml">,</mo><mi id="S2.E12.m1.3.3" xref="S2.E12.m1.3.3.cmml">K</mi><mo stretchy="false" id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.6" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E12.m1.5.5.2.2.2.2.2.2.5" xref="S2.E12.m1.5.5.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E12.m1.5.5.2.2.2.5" xref="S2.E12.m1.5.5.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E12.m1.5b"><apply id="S2.E12.m1.5.5.cmml" xref="S2.E12.m1.5.5"><eq id="S2.E12.m1.5.5.3.cmml" xref="S2.E12.m1.5.5.3"></eq><apply id="S2.E12.m1.5.5.4.cmml" xref="S2.E12.m1.5.5.4"><csymbol cd="ambiguous" id="S2.E12.m1.5.5.4.1.cmml" xref="S2.E12.m1.5.5.4">subscript</csymbol><ci id="S2.E12.m1.5.5.4.2.cmml" xref="S2.E12.m1.5.5.4.2">ℒ</ci><apply id="S2.E12.m1.5.5.4.3.cmml" xref="S2.E12.m1.5.5.4.3"><ci id="S2.E12.m1.5.5.4.3.1.cmml" xref="S2.E12.m1.5.5.4.3.1">→</ci><ci id="S2.E12.m1.5.5.4.3.2.cmml" xref="S2.E12.m1.5.5.4.3.2">𝑟</ci><ci id="S2.E12.m1.5.5.4.3.3.cmml" xref="S2.E12.m1.5.5.4.3.3">𝑝</ci></apply></apply><apply id="S2.E12.m1.5.5.2.cmml" xref="S2.E12.m1.5.5.2"><times id="S2.E12.m1.5.5.2.3.cmml" xref="S2.E12.m1.5.5.2.3"></times><apply id="S2.E12.m1.5.5.2.4.cmml" xref="S2.E12.m1.5.5.2.4"><apply id="S2.E12.m1.5.5.2.4.1.cmml" xref="S2.E12.m1.5.5.2.4.1"><csymbol cd="ambiguous" id="S2.E12.m1.5.5.2.4.1.1.cmml" xref="S2.E12.m1.5.5.2.4.1">subscript</csymbol><min id="S2.E12.m1.5.5.2.4.1.2.cmml" xref="S2.E12.m1.5.5.2.4.1.2"></min><apply id="S2.E12.m1.2.2.2.cmml" xref="S2.E12.m1.2.2.2"><in id="S2.E12.m1.2.2.2.3.cmml" xref="S2.E12.m1.2.2.2.3"></in><apply id="S2.E12.m1.2.2.2.4.cmml" xref="S2.E12.m1.2.2.2.4"><csymbol cd="ambiguous" id="S2.E12.m1.2.2.2.4.1.cmml" xref="S2.E12.m1.2.2.2.4">superscript</csymbol><ci id="S2.E12.m1.2.2.2.4.2.cmml" xref="S2.E12.m1.2.2.2.4.2">𝑡</ci><ci id="S2.E12.m1.2.2.2.4.3.cmml" xref="S2.E12.m1.2.2.2.4.3">′</ci></apply><interval closure="open" id="S2.E12.m1.2.2.2.2.3.cmml" xref="S2.E12.m1.2.2.2.2.2"><apply id="S2.E12.m1.1.1.1.1.1.1.cmml" xref="S2.E12.m1.1.1.1.1.1.1"><plus id="S2.E12.m1.1.1.1.1.1.1.1.cmml" xref="S2.E12.m1.1.1.1.1.1.1.1"></plus><ci id="S2.E12.m1.1.1.1.1.1.1.2.cmml" xref="S2.E12.m1.1.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="S2.E12.m1.1.1.1.1.1.1.3.cmml" xref="S2.E12.m1.1.1.1.1.1.1.3">1</cn></apply><apply id="S2.E12.m1.2.2.2.2.2.2.cmml" xref="S2.E12.m1.2.2.2.2.2.2"><minus id="S2.E12.m1.2.2.2.2.2.2.1.cmml" xref="S2.E12.m1.2.2.2.2.2.2.1"></minus><ci id="S2.E12.m1.2.2.2.2.2.2.2.cmml" xref="S2.E12.m1.2.2.2.2.2.2.2">𝑡</ci><cn type="integer" id="S2.E12.m1.2.2.2.2.2.2.3.cmml" xref="S2.E12.m1.2.2.2.2.2.2.3">1</cn></apply></interval></apply></apply><apply id="S2.E12.m1.5.5.2.4.2.cmml" xref="S2.E12.m1.5.5.2.4.2"><times id="S2.E12.m1.5.5.2.4.2.1.cmml" xref="S2.E12.m1.5.5.2.4.2.1"></times><ci id="S2.E12.m1.5.5.2.4.2.2.cmml" xref="S2.E12.m1.5.5.2.4.2.2">𝑝</ci><ci id="S2.E12.m1.5.5.2.4.2.3.cmml" xref="S2.E12.m1.5.5.2.4.2.3">𝑒</ci></apply></apply><interval closure="open" id="S2.E12.m1.5.5.2.2.3.cmml" xref="S2.E12.m1.5.5.2.2.2"><apply id="S2.E12.m1.4.4.1.1.1.1.cmml" xref="S2.E12.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S2.E12.m1.4.4.1.1.1.1.1.cmml" xref="S2.E12.m1.4.4.1.1.1.1">subscript</csymbol><ci id="S2.E12.m1.4.4.1.1.1.1.2.cmml" xref="S2.E12.m1.4.4.1.1.1.1.2">𝐼</ci><ci id="S2.E12.m1.4.4.1.1.1.1.3.cmml" xref="S2.E12.m1.4.4.1.1.1.1.3">𝑡</ci></apply><apply id="S2.E12.m1.5.5.2.2.2.2.cmml" xref="S2.E12.m1.5.5.2.2.2.2"><times id="S2.E12.m1.5.5.2.2.2.2.3.cmml" xref="S2.E12.m1.5.5.2.2.2.2.3"></times><ci id="S2.E12.m1.5.5.2.2.2.2.4.cmml" xref="S2.E12.m1.5.5.2.2.2.2.4">italic-ϵ</ci><interval closure="open" id="S2.E12.m1.5.5.2.2.2.2.2.3.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2"><apply id="S2.E12.m1.5.5.2.2.2.2.1.1.1.cmml" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.E12.m1.5.5.2.2.2.2.1.1.1.1.cmml" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1">subscript</csymbol><ci id="S2.E12.m1.5.5.2.2.2.2.1.1.1.2.cmml" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1.2">𝐼</ci><apply id="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.cmml" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.1.cmml" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1.3">superscript</csymbol><ci id="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.2.cmml" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.2">𝑡</ci><ci id="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.3.cmml" xref="S2.E12.m1.5.5.2.2.2.2.1.1.1.3.3">′</ci></apply></apply><apply id="S2.E12.m1.5.5.2.2.2.2.2.2.2.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2"><times id="S2.E12.m1.5.5.2.2.2.2.2.2.2.3.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.3"></times><ci id="S2.E12.m1.5.5.2.2.2.2.2.2.2.4.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.4">𝜋</ci><vector id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.3.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2"><apply id="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.1.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1">subscript</csymbol><ci id="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.2.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.2">𝐷</ci><ci id="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.3.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.1.1.1.3">𝑡</ci></apply><apply id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2">subscript</csymbol><apply id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2"><ci id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.1">^</ci><ci id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.2.2">𝑇</ci></apply><apply id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3"><ci id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.1.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.1">→</ci><ci id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.2.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.2">𝑡</ci><apply id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.1.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3">superscript</csymbol><ci id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.2.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.2">𝑡</ci><ci id="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.3.cmml" xref="S2.E12.m1.5.5.2.2.2.2.2.2.2.2.2.2.3.3.3">′</ci></apply></apply></apply><ci id="S2.E12.m1.3.3.cmml" xref="S2.E12.m1.3.3">𝐾</ci></vector></apply></interval></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E12.m1.5c">\mathcal{L}_{r\rightarrow p}=\min_{t^{\prime}\in(t+1,t-1)}pe(I_{t},\epsilon(I_{t^{\prime}},\pi(D_{t},\hat{T}_{t\rightarrow t^{\prime}},K)))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p id="S2.SS4.p2.8" class="ltx_p">The term described in (<a href="#S2.E11" title="In II-D Loss generalization ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>) can be defined as <span id="S2.SS4.p2.8.1" class="ltx_text ltx_font_italic">depth loss w.r.t reference pose as photometric loss</span> while the term described in (<a href="#S2.E12" title="In II-D Loss generalization ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>) as <span id="S2.SS4.p2.8.2" class="ltx_text ltx_font_italic">pose loss w.r.t reference depth as photometric loss</span>. We also calculate the reliable pixel masks, <math id="S2.SS4.p2.5.m1.1" class="ltx_Math" alttext="\mu_{d\rightarrow p}" display="inline"><semantics id="S2.SS4.p2.5.m1.1a"><msub id="S2.SS4.p2.5.m1.1.1" xref="S2.SS4.p2.5.m1.1.1.cmml"><mi id="S2.SS4.p2.5.m1.1.1.2" xref="S2.SS4.p2.5.m1.1.1.2.cmml">μ</mi><mrow id="S2.SS4.p2.5.m1.1.1.3" xref="S2.SS4.p2.5.m1.1.1.3.cmml"><mi id="S2.SS4.p2.5.m1.1.1.3.2" xref="S2.SS4.p2.5.m1.1.1.3.2.cmml">d</mi><mo stretchy="false" id="S2.SS4.p2.5.m1.1.1.3.1" xref="S2.SS4.p2.5.m1.1.1.3.1.cmml">→</mo><mi id="S2.SS4.p2.5.m1.1.1.3.3" xref="S2.SS4.p2.5.m1.1.1.3.3.cmml">p</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p2.5.m1.1b"><apply id="S2.SS4.p2.5.m1.1.1.cmml" xref="S2.SS4.p2.5.m1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p2.5.m1.1.1.1.cmml" xref="S2.SS4.p2.5.m1.1.1">subscript</csymbol><ci id="S2.SS4.p2.5.m1.1.1.2.cmml" xref="S2.SS4.p2.5.m1.1.1.2">𝜇</ci><apply id="S2.SS4.p2.5.m1.1.1.3.cmml" xref="S2.SS4.p2.5.m1.1.1.3"><ci id="S2.SS4.p2.5.m1.1.1.3.1.cmml" xref="S2.SS4.p2.5.m1.1.1.3.1">→</ci><ci id="S2.SS4.p2.5.m1.1.1.3.2.cmml" xref="S2.SS4.p2.5.m1.1.1.3.2">𝑑</ci><ci id="S2.SS4.p2.5.m1.1.1.3.3.cmml" xref="S2.SS4.p2.5.m1.1.1.3.3">𝑝</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p2.5.m1.1c">\mu_{d\rightarrow p}</annotation></semantics></math> and <math id="S2.SS4.p2.6.m2.1" class="ltx_Math" alttext="\mu_{r\rightarrow p}" display="inline"><semantics id="S2.SS4.p2.6.m2.1a"><msub id="S2.SS4.p2.6.m2.1.1" xref="S2.SS4.p2.6.m2.1.1.cmml"><mi id="S2.SS4.p2.6.m2.1.1.2" xref="S2.SS4.p2.6.m2.1.1.2.cmml">μ</mi><mrow id="S2.SS4.p2.6.m2.1.1.3" xref="S2.SS4.p2.6.m2.1.1.3.cmml"><mi id="S2.SS4.p2.6.m2.1.1.3.2" xref="S2.SS4.p2.6.m2.1.1.3.2.cmml">r</mi><mo stretchy="false" id="S2.SS4.p2.6.m2.1.1.3.1" xref="S2.SS4.p2.6.m2.1.1.3.1.cmml">→</mo><mi id="S2.SS4.p2.6.m2.1.1.3.3" xref="S2.SS4.p2.6.m2.1.1.3.3.cmml">p</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p2.6.m2.1b"><apply id="S2.SS4.p2.6.m2.1.1.cmml" xref="S2.SS4.p2.6.m2.1.1"><csymbol cd="ambiguous" id="S2.SS4.p2.6.m2.1.1.1.cmml" xref="S2.SS4.p2.6.m2.1.1">subscript</csymbol><ci id="S2.SS4.p2.6.m2.1.1.2.cmml" xref="S2.SS4.p2.6.m2.1.1.2">𝜇</ci><apply id="S2.SS4.p2.6.m2.1.1.3.cmml" xref="S2.SS4.p2.6.m2.1.1.3"><ci id="S2.SS4.p2.6.m2.1.1.3.1.cmml" xref="S2.SS4.p2.6.m2.1.1.3.1">→</ci><ci id="S2.SS4.p2.6.m2.1.1.3.2.cmml" xref="S2.SS4.p2.6.m2.1.1.3.2">𝑟</ci><ci id="S2.SS4.p2.6.m2.1.1.3.3.cmml" xref="S2.SS4.p2.6.m2.1.1.3.3">𝑝</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p2.6.m2.1c">\mu_{r\rightarrow p}</annotation></semantics></math>, for each <math id="S2.SS4.p2.7.m3.1" class="ltx_Math" alttext="\mathcal{L}_{d\rightarrow p}" display="inline"><semantics id="S2.SS4.p2.7.m3.1a"><msub id="S2.SS4.p2.7.m3.1.1" xref="S2.SS4.p2.7.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS4.p2.7.m3.1.1.2" xref="S2.SS4.p2.7.m3.1.1.2.cmml">ℒ</mi><mrow id="S2.SS4.p2.7.m3.1.1.3" xref="S2.SS4.p2.7.m3.1.1.3.cmml"><mi id="S2.SS4.p2.7.m3.1.1.3.2" xref="S2.SS4.p2.7.m3.1.1.3.2.cmml">d</mi><mo stretchy="false" id="S2.SS4.p2.7.m3.1.1.3.1" xref="S2.SS4.p2.7.m3.1.1.3.1.cmml">→</mo><mi id="S2.SS4.p2.7.m3.1.1.3.3" xref="S2.SS4.p2.7.m3.1.1.3.3.cmml">p</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p2.7.m3.1b"><apply id="S2.SS4.p2.7.m3.1.1.cmml" xref="S2.SS4.p2.7.m3.1.1"><csymbol cd="ambiguous" id="S2.SS4.p2.7.m3.1.1.1.cmml" xref="S2.SS4.p2.7.m3.1.1">subscript</csymbol><ci id="S2.SS4.p2.7.m3.1.1.2.cmml" xref="S2.SS4.p2.7.m3.1.1.2">ℒ</ci><apply id="S2.SS4.p2.7.m3.1.1.3.cmml" xref="S2.SS4.p2.7.m3.1.1.3"><ci id="S2.SS4.p2.7.m3.1.1.3.1.cmml" xref="S2.SS4.p2.7.m3.1.1.3.1">→</ci><ci id="S2.SS4.p2.7.m3.1.1.3.2.cmml" xref="S2.SS4.p2.7.m3.1.1.3.2">𝑑</ci><ci id="S2.SS4.p2.7.m3.1.1.3.3.cmml" xref="S2.SS4.p2.7.m3.1.1.3.3">𝑝</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p2.7.m3.1c">\mathcal{L}_{d\rightarrow p}</annotation></semantics></math> and <math id="S2.SS4.p2.8.m4.1" class="ltx_Math" alttext="\mathcal{L}_{r\rightarrow p}" display="inline"><semantics id="S2.SS4.p2.8.m4.1a"><msub id="S2.SS4.p2.8.m4.1.1" xref="S2.SS4.p2.8.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS4.p2.8.m4.1.1.2" xref="S2.SS4.p2.8.m4.1.1.2.cmml">ℒ</mi><mrow id="S2.SS4.p2.8.m4.1.1.3" xref="S2.SS4.p2.8.m4.1.1.3.cmml"><mi id="S2.SS4.p2.8.m4.1.1.3.2" xref="S2.SS4.p2.8.m4.1.1.3.2.cmml">r</mi><mo stretchy="false" id="S2.SS4.p2.8.m4.1.1.3.1" xref="S2.SS4.p2.8.m4.1.1.3.1.cmml">→</mo><mi id="S2.SS4.p2.8.m4.1.1.3.3" xref="S2.SS4.p2.8.m4.1.1.3.3.cmml">p</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p2.8.m4.1b"><apply id="S2.SS4.p2.8.m4.1.1.cmml" xref="S2.SS4.p2.8.m4.1.1"><csymbol cd="ambiguous" id="S2.SS4.p2.8.m4.1.1.1.cmml" xref="S2.SS4.p2.8.m4.1.1">subscript</csymbol><ci id="S2.SS4.p2.8.m4.1.1.2.cmml" xref="S2.SS4.p2.8.m4.1.1.2">ℒ</ci><apply id="S2.SS4.p2.8.m4.1.1.3.cmml" xref="S2.SS4.p2.8.m4.1.1.3"><ci id="S2.SS4.p2.8.m4.1.1.3.1.cmml" xref="S2.SS4.p2.8.m4.1.1.3.1">→</ci><ci id="S2.SS4.p2.8.m4.1.1.3.2.cmml" xref="S2.SS4.p2.8.m4.1.1.3.2">𝑟</ci><ci id="S2.SS4.p2.8.m4.1.1.3.3.cmml" xref="S2.SS4.p2.8.m4.1.1.3.3">𝑝</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p2.8.m4.1c">\mathcal{L}_{r\rightarrow p}</annotation></semantics></math> respectively using the same principle as (<a href="#S2.E4" title="In II-B Self-supervised depth and pose estimation ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).</p>
</div>
<div id="S2.SS4.p3" class="ltx_para">
<p id="S2.SS4.p3.1" class="ltx_p">Combining (<a href="#S2.E11" title="In II-D Loss generalization ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>) and (<a href="#S2.E12" title="In II-D Loss generalization ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>) with (<a href="#S2.E3" title="In II-B Self-supervised depth and pose estimation ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>) to tie the depth and the pose network training together, we can write the final loss function as</p>
<table id="S2.E13" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E13.m1.26" class="ltx_Math" alttext="\begin{split}\mathcal{L}_{gen}&amp;=\frac{1}{N}\sum_{i}^{N}(\mu_{d\rightarrow p}^{i}\mathcal{L}_{d\rightarrow p}^{i}+\mu_{r\rightarrow p}^{i}\mathcal{L}_{r\rightarrow p}^{i}\\
&amp;+\underbrace{\mu^{i}\mathcal{L}_{p}^{i}+\lambda\mathcal{L}_{s}^{i}}_{\mathcal{L}_{un}\leavevmode\nobreak\ (\ref{eq:monodepthloss})})\end{split}" display="block"><semantics id="S2.E13.m1.26a"><mtable columnspacing="0pt" displaystyle="true" rowspacing="0pt" id="S2.E13.m1.25.25" xref="S2.E13.m1.26.26.1.cmml"><mtr id="S2.E13.m1.25.25a" xref="S2.E13.m1.26.26.1.cmml"><mtd class="ltx_align_right" columnalign="right" id="S2.E13.m1.25.25b" xref="S2.E13.m1.26.26.1.cmml"><msub id="S2.E13.m1.2.2.2.2.2" xref="S2.E13.m1.26.26.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E13.m1.1.1.1.1.1.1" xref="S2.E13.m1.1.1.1.1.1.1.cmml">ℒ</mi><mrow id="S2.E13.m1.2.2.2.2.2.2.1" xref="S2.E13.m1.2.2.2.2.2.2.1.cmml"><mi id="S2.E13.m1.2.2.2.2.2.2.1.2" xref="S2.E13.m1.2.2.2.2.2.2.1.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.E13.m1.2.2.2.2.2.2.1.1" xref="S2.E13.m1.2.2.2.2.2.2.1.1.cmml">​</mo><mi id="S2.E13.m1.2.2.2.2.2.2.1.3" xref="S2.E13.m1.2.2.2.2.2.2.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E13.m1.2.2.2.2.2.2.1.1a" xref="S2.E13.m1.2.2.2.2.2.2.1.1.cmml">​</mo><mi id="S2.E13.m1.2.2.2.2.2.2.1.4" xref="S2.E13.m1.2.2.2.2.2.2.1.4.cmml">n</mi></mrow></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E13.m1.25.25c" xref="S2.E13.m1.26.26.1.cmml"><mrow id="S2.E13.m1.21.21.21.21.19" xref="S2.E13.m1.26.26.1.cmml"><mo id="S2.E13.m1.3.3.3.3.1.1" xref="S2.E13.m1.3.3.3.3.1.1.cmml">=</mo><mfrac id="S2.E13.m1.4.4.4.4.2.2" xref="S2.E13.m1.4.4.4.4.2.2.cmml"><mn id="S2.E13.m1.4.4.4.4.2.2.2" xref="S2.E13.m1.4.4.4.4.2.2.2.cmml">1</mn><mi id="S2.E13.m1.4.4.4.4.2.2.3" xref="S2.E13.m1.4.4.4.4.2.2.3.cmml">N</mi></mfrac><munderover id="S2.E13.m1.21.21.21.21.19.20" xref="S2.E13.m1.26.26.1.cmml"><mo movablelimits="false" rspace="0em" id="S2.E13.m1.5.5.5.5.3.3" xref="S2.E13.m1.5.5.5.5.3.3.cmml">∑</mo><mi id="S2.E13.m1.6.6.6.6.4.4.1" xref="S2.E13.m1.6.6.6.6.4.4.1.cmml">i</mi><mi id="S2.E13.m1.7.7.7.7.5.5.1" xref="S2.E13.m1.7.7.7.7.5.5.1.cmml">N</mi></munderover><mrow id="S2.E13.m1.21.21.21.21.19.21" xref="S2.E13.m1.26.26.1.cmml"><mo stretchy="false" id="S2.E13.m1.8.8.8.8.6.6" xref="S2.E13.m1.26.26.1.cmml">(</mo><msubsup id="S2.E13.m1.21.21.21.21.19.21.1" xref="S2.E13.m1.26.26.1.cmml"><mi id="S2.E13.m1.9.9.9.9.7.7" xref="S2.E13.m1.9.9.9.9.7.7.cmml">μ</mi><mrow id="S2.E13.m1.10.10.10.10.8.8.1" xref="S2.E13.m1.10.10.10.10.8.8.1.cmml"><mi id="S2.E13.m1.10.10.10.10.8.8.1.2" xref="S2.E13.m1.10.10.10.10.8.8.1.2.cmml">d</mi><mo stretchy="false" id="S2.E13.m1.10.10.10.10.8.8.1.1" xref="S2.E13.m1.10.10.10.10.8.8.1.1.cmml">→</mo><mi id="S2.E13.m1.10.10.10.10.8.8.1.3" xref="S2.E13.m1.10.10.10.10.8.8.1.3.cmml">p</mi></mrow><mi id="S2.E13.m1.11.11.11.11.9.9.1" xref="S2.E13.m1.11.11.11.11.9.9.1.cmml">i</mi></msubsup><msubsup id="S2.E13.m1.21.21.21.21.19.21.2" xref="S2.E13.m1.26.26.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E13.m1.12.12.12.12.10.10" xref="S2.E13.m1.12.12.12.12.10.10.cmml">ℒ</mi><mrow id="S2.E13.m1.13.13.13.13.11.11.1" xref="S2.E13.m1.13.13.13.13.11.11.1.cmml"><mi id="S2.E13.m1.13.13.13.13.11.11.1.2" xref="S2.E13.m1.13.13.13.13.11.11.1.2.cmml">d</mi><mo stretchy="false" id="S2.E13.m1.13.13.13.13.11.11.1.1" xref="S2.E13.m1.13.13.13.13.11.11.1.1.cmml">→</mo><mi id="S2.E13.m1.13.13.13.13.11.11.1.3" xref="S2.E13.m1.13.13.13.13.11.11.1.3.cmml">p</mi></mrow><mi id="S2.E13.m1.14.14.14.14.12.12.1" xref="S2.E13.m1.14.14.14.14.12.12.1.cmml">i</mi></msubsup><mo id="S2.E13.m1.15.15.15.15.13.13" xref="S2.E13.m1.15.15.15.15.13.13.cmml">+</mo><msubsup id="S2.E13.m1.21.21.21.21.19.21.3" xref="S2.E13.m1.26.26.1.cmml"><mi id="S2.E13.m1.16.16.16.16.14.14" xref="S2.E13.m1.16.16.16.16.14.14.cmml">μ</mi><mrow id="S2.E13.m1.17.17.17.17.15.15.1" xref="S2.E13.m1.17.17.17.17.15.15.1.cmml"><mi id="S2.E13.m1.17.17.17.17.15.15.1.2" xref="S2.E13.m1.17.17.17.17.15.15.1.2.cmml">r</mi><mo stretchy="false" id="S2.E13.m1.17.17.17.17.15.15.1.1" xref="S2.E13.m1.17.17.17.17.15.15.1.1.cmml">→</mo><mi id="S2.E13.m1.17.17.17.17.15.15.1.3" xref="S2.E13.m1.17.17.17.17.15.15.1.3.cmml">p</mi></mrow><mi id="S2.E13.m1.18.18.18.18.16.16.1" xref="S2.E13.m1.18.18.18.18.16.16.1.cmml">i</mi></msubsup><msubsup id="S2.E13.m1.21.21.21.21.19.21.4" xref="S2.E13.m1.26.26.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E13.m1.19.19.19.19.17.17" xref="S2.E13.m1.19.19.19.19.17.17.cmml">ℒ</mi><mrow id="S2.E13.m1.20.20.20.20.18.18.1" xref="S2.E13.m1.20.20.20.20.18.18.1.cmml"><mi id="S2.E13.m1.20.20.20.20.18.18.1.2" xref="S2.E13.m1.20.20.20.20.18.18.1.2.cmml">r</mi><mo stretchy="false" id="S2.E13.m1.20.20.20.20.18.18.1.1" xref="S2.E13.m1.20.20.20.20.18.18.1.1.cmml">→</mo><mi id="S2.E13.m1.20.20.20.20.18.18.1.3" xref="S2.E13.m1.20.20.20.20.18.18.1.3.cmml">p</mi></mrow><mi id="S2.E13.m1.21.21.21.21.19.19.1" xref="S2.E13.m1.21.21.21.21.19.19.1.cmml">i</mi></msubsup></mrow></mrow></mtd></mtr><mtr id="S2.E13.m1.25.25d" xref="S2.E13.m1.26.26.1.cmml"><mtd id="S2.E13.m1.25.25e" xref="S2.E13.m1.26.26.1.cmml"></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E13.m1.25.25f" xref="S2.E13.m1.26.26.1.cmml"><mrow id="S2.E13.m1.25.25.25.4.4" xref="S2.E13.m1.26.26.1.cmml"><mo id="S2.E13.m1.22.22.22.1.1.1" xref="S2.E13.m1.26.26.1.cmml">+</mo><munder id="S2.E13.m1.25.25.25.4.4.5" xref="S2.E13.m1.26.26.1.cmml"><munder accentunder="true" id="S2.E13.m1.23.23.23.2.2.2" xref="S2.E13.m1.23.23.23.2.2.2.cmml"><mrow id="S2.E13.m1.23.23.23.2.2.2.2" xref="S2.E13.m1.23.23.23.2.2.2.2.cmml"><mrow id="S2.E13.m1.23.23.23.2.2.2.2.2" xref="S2.E13.m1.23.23.23.2.2.2.2.2.cmml"><msup id="S2.E13.m1.23.23.23.2.2.2.2.2.2" xref="S2.E13.m1.23.23.23.2.2.2.2.2.2.cmml"><mi id="S2.E13.m1.23.23.23.2.2.2.2.2.2.2" xref="S2.E13.m1.23.23.23.2.2.2.2.2.2.2.cmml">μ</mi><mi id="S2.E13.m1.23.23.23.2.2.2.2.2.2.3" xref="S2.E13.m1.23.23.23.2.2.2.2.2.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S2.E13.m1.23.23.23.2.2.2.2.2.1" xref="S2.E13.m1.23.23.23.2.2.2.2.2.1.cmml">​</mo><msubsup id="S2.E13.m1.23.23.23.2.2.2.2.2.3" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E13.m1.23.23.23.2.2.2.2.2.3.2.2" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3.2.2.cmml">ℒ</mi><mi id="S2.E13.m1.23.23.23.2.2.2.2.2.3.2.3" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3.2.3.cmml">p</mi><mi id="S2.E13.m1.23.23.23.2.2.2.2.2.3.3" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3.3.cmml">i</mi></msubsup></mrow><mo id="S2.E13.m1.23.23.23.2.2.2.2.1" xref="S2.E13.m1.23.23.23.2.2.2.2.1.cmml">+</mo><mrow id="S2.E13.m1.23.23.23.2.2.2.2.3" xref="S2.E13.m1.23.23.23.2.2.2.2.3.cmml"><mi id="S2.E13.m1.23.23.23.2.2.2.2.3.2" xref="S2.E13.m1.23.23.23.2.2.2.2.3.2.cmml">λ</mi><mo lspace="0em" rspace="0em" id="S2.E13.m1.23.23.23.2.2.2.2.3.1" xref="S2.E13.m1.23.23.23.2.2.2.2.3.1.cmml">​</mo><msubsup id="S2.E13.m1.23.23.23.2.2.2.2.3.3" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E13.m1.23.23.23.2.2.2.2.3.3.2.2" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3.2.2.cmml">ℒ</mi><mi id="S2.E13.m1.23.23.23.2.2.2.2.3.3.2.3" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3.2.3.cmml">s</mi><mi id="S2.E13.m1.23.23.23.2.2.2.2.3.3.3" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3.3.cmml">i</mi></msubsup></mrow></mrow><mo id="S2.E13.m1.23.23.23.2.2.2.1" xref="S2.E13.m1.23.23.23.2.2.2.1.cmml">⏟</mo></munder><mrow id="S2.E13.m1.24.24.24.3.3.3.1" xref="S2.E13.m1.24.24.24.3.3.3.1.cmml"><msub id="S2.E13.m1.24.24.24.3.3.3.1.3" xref="S2.E13.m1.24.24.24.3.3.3.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E13.m1.24.24.24.3.3.3.1.3.2" xref="S2.E13.m1.24.24.24.3.3.3.1.3.2.cmml">ℒ</mi><mrow id="S2.E13.m1.24.24.24.3.3.3.1.3.3" xref="S2.E13.m1.24.24.24.3.3.3.1.3.3.cmml"><mi id="S2.E13.m1.24.24.24.3.3.3.1.3.3.2" xref="S2.E13.m1.24.24.24.3.3.3.1.3.3.2.cmml">u</mi><mo lspace="0em" rspace="0em" id="S2.E13.m1.24.24.24.3.3.3.1.3.3.1" xref="S2.E13.m1.24.24.24.3.3.3.1.3.3.1.cmml">​</mo><mi id="S2.E13.m1.24.24.24.3.3.3.1.3.3.3" xref="S2.E13.m1.24.24.24.3.3.3.1.3.3.3.cmml">n</mi></mrow></msub><mo lspace="0.350em" rspace="0em" id="S2.E13.m1.24.24.24.3.3.3.1.2" xref="S2.E13.m1.24.24.24.3.3.3.1.2.cmml">​</mo><mrow id="S2.E13.m1.24.24.24.3.3.3.1.4.2" xref="S2.E13.m1.24.24.24.3.3.3.1.1c.cmml"><mo stretchy="false" id="S2.E13.m1.24.24.24.3.3.3.1.4.2.1" xref="S2.E13.m1.24.24.24.3.3.3.1.1c.cmml">(</mo><mtext class="ltx_mathvariant_italic" id="S2.E13.m1.24.24.24.3.3.3.1.1" xref="S2.E13.m1.24.24.24.3.3.3.1.1c.cmml"><a href="#S2.E6" title="In II-B Self-supervised depth and pose estimation ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref ltx_font_italic" style="font-size:70%;"><span class="ltx_text ltx_ref_tag">6</span></a></mtext><mo stretchy="false" id="S2.E13.m1.24.24.24.3.3.3.1.4.2.2" xref="S2.E13.m1.24.24.24.3.3.3.1.1c.cmml">)</mo></mrow></mrow></munder><mo stretchy="false" id="S2.E13.m1.25.25.25.4.4.4" xref="S2.E13.m1.26.26.1.cmml">)</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S2.E13.m1.26b"><apply id="S2.E13.m1.26.26.1.cmml" xref="S2.E13.m1.25.25"><eq id="S2.E13.m1.3.3.3.3.1.1.cmml" xref="S2.E13.m1.3.3.3.3.1.1"></eq><apply id="S2.E13.m1.26.26.1.3.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.3.1.cmml" xref="S2.E13.m1.25.25">subscript</csymbol><ci id="S2.E13.m1.1.1.1.1.1.1.cmml" xref="S2.E13.m1.1.1.1.1.1.1">ℒ</ci><apply id="S2.E13.m1.2.2.2.2.2.2.1.cmml" xref="S2.E13.m1.2.2.2.2.2.2.1"><times id="S2.E13.m1.2.2.2.2.2.2.1.1.cmml" xref="S2.E13.m1.2.2.2.2.2.2.1.1"></times><ci id="S2.E13.m1.2.2.2.2.2.2.1.2.cmml" xref="S2.E13.m1.2.2.2.2.2.2.1.2">𝑔</ci><ci id="S2.E13.m1.2.2.2.2.2.2.1.3.cmml" xref="S2.E13.m1.2.2.2.2.2.2.1.3">𝑒</ci><ci id="S2.E13.m1.2.2.2.2.2.2.1.4.cmml" xref="S2.E13.m1.2.2.2.2.2.2.1.4">𝑛</ci></apply></apply><apply id="S2.E13.m1.26.26.1.1.cmml" xref="S2.E13.m1.25.25"><times id="S2.E13.m1.26.26.1.1.2.cmml" xref="S2.E13.m1.25.25"></times><apply id="S2.E13.m1.4.4.4.4.2.2.cmml" xref="S2.E13.m1.4.4.4.4.2.2"><divide id="S2.E13.m1.4.4.4.4.2.2.1.cmml" xref="S2.E13.m1.4.4.4.4.2.2"></divide><cn type="integer" id="S2.E13.m1.4.4.4.4.2.2.2.cmml" xref="S2.E13.m1.4.4.4.4.2.2.2">1</cn><ci id="S2.E13.m1.4.4.4.4.2.2.3.cmml" xref="S2.E13.m1.4.4.4.4.2.2.3">𝑁</ci></apply><apply id="S2.E13.m1.26.26.1.1.1.cmml" xref="S2.E13.m1.25.25"><apply id="S2.E13.m1.26.26.1.1.1.2.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.2.1.cmml" xref="S2.E13.m1.25.25">superscript</csymbol><apply id="S2.E13.m1.26.26.1.1.1.2.2.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.2.2.1.cmml" xref="S2.E13.m1.25.25">subscript</csymbol><sum id="S2.E13.m1.5.5.5.5.3.3.cmml" xref="S2.E13.m1.5.5.5.5.3.3"></sum><ci id="S2.E13.m1.6.6.6.6.4.4.1.cmml" xref="S2.E13.m1.6.6.6.6.4.4.1">𝑖</ci></apply><ci id="S2.E13.m1.7.7.7.7.5.5.1.cmml" xref="S2.E13.m1.7.7.7.7.5.5.1">𝑁</ci></apply><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.cmml" xref="S2.E13.m1.25.25"><plus id="S2.E13.m1.15.15.15.15.13.13.cmml" xref="S2.E13.m1.15.15.15.15.13.13"></plus><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.2.cmml" xref="S2.E13.m1.25.25"><times id="S2.E13.m1.26.26.1.1.1.1.1.1.2.1.cmml" xref="S2.E13.m1.25.25"></times><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.2.2.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E13.m1.25.25">superscript</csymbol><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.1.1.1.2.2.2.1.cmml" xref="S2.E13.m1.25.25">subscript</csymbol><ci id="S2.E13.m1.9.9.9.9.7.7.cmml" xref="S2.E13.m1.9.9.9.9.7.7">𝜇</ci><apply id="S2.E13.m1.10.10.10.10.8.8.1.cmml" xref="S2.E13.m1.10.10.10.10.8.8.1"><ci id="S2.E13.m1.10.10.10.10.8.8.1.1.cmml" xref="S2.E13.m1.10.10.10.10.8.8.1.1">→</ci><ci id="S2.E13.m1.10.10.10.10.8.8.1.2.cmml" xref="S2.E13.m1.10.10.10.10.8.8.1.2">𝑑</ci><ci id="S2.E13.m1.10.10.10.10.8.8.1.3.cmml" xref="S2.E13.m1.10.10.10.10.8.8.1.3">𝑝</ci></apply></apply><ci id="S2.E13.m1.11.11.11.11.9.9.1.cmml" xref="S2.E13.m1.11.11.11.11.9.9.1">𝑖</ci></apply><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.2.3.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.1.1.1.2.3.1.cmml" xref="S2.E13.m1.25.25">superscript</csymbol><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.2.3.2.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.1.1.1.2.3.2.1.cmml" xref="S2.E13.m1.25.25">subscript</csymbol><ci id="S2.E13.m1.12.12.12.12.10.10.cmml" xref="S2.E13.m1.12.12.12.12.10.10">ℒ</ci><apply id="S2.E13.m1.13.13.13.13.11.11.1.cmml" xref="S2.E13.m1.13.13.13.13.11.11.1"><ci id="S2.E13.m1.13.13.13.13.11.11.1.1.cmml" xref="S2.E13.m1.13.13.13.13.11.11.1.1">→</ci><ci id="S2.E13.m1.13.13.13.13.11.11.1.2.cmml" xref="S2.E13.m1.13.13.13.13.11.11.1.2">𝑑</ci><ci id="S2.E13.m1.13.13.13.13.11.11.1.3.cmml" xref="S2.E13.m1.13.13.13.13.11.11.1.3">𝑝</ci></apply></apply><ci id="S2.E13.m1.14.14.14.14.12.12.1.cmml" xref="S2.E13.m1.14.14.14.14.12.12.1">𝑖</ci></apply></apply><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.3.cmml" xref="S2.E13.m1.25.25"><times id="S2.E13.m1.26.26.1.1.1.1.1.1.3.1.cmml" xref="S2.E13.m1.25.25"></times><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.3.2.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.1.1.1.3.2.1.cmml" xref="S2.E13.m1.25.25">superscript</csymbol><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.3.2.2.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.1.1.1.3.2.2.1.cmml" xref="S2.E13.m1.25.25">subscript</csymbol><ci id="S2.E13.m1.16.16.16.16.14.14.cmml" xref="S2.E13.m1.16.16.16.16.14.14">𝜇</ci><apply id="S2.E13.m1.17.17.17.17.15.15.1.cmml" xref="S2.E13.m1.17.17.17.17.15.15.1"><ci id="S2.E13.m1.17.17.17.17.15.15.1.1.cmml" xref="S2.E13.m1.17.17.17.17.15.15.1.1">→</ci><ci id="S2.E13.m1.17.17.17.17.15.15.1.2.cmml" xref="S2.E13.m1.17.17.17.17.15.15.1.2">𝑟</ci><ci id="S2.E13.m1.17.17.17.17.15.15.1.3.cmml" xref="S2.E13.m1.17.17.17.17.15.15.1.3">𝑝</ci></apply></apply><ci id="S2.E13.m1.18.18.18.18.16.16.1.cmml" xref="S2.E13.m1.18.18.18.18.16.16.1">𝑖</ci></apply><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.3.3.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E13.m1.25.25">superscript</csymbol><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.1.1.1.3.3.2.1.cmml" xref="S2.E13.m1.25.25">subscript</csymbol><ci id="S2.E13.m1.19.19.19.19.17.17.cmml" xref="S2.E13.m1.19.19.19.19.17.17">ℒ</ci><apply id="S2.E13.m1.20.20.20.20.18.18.1.cmml" xref="S2.E13.m1.20.20.20.20.18.18.1"><ci id="S2.E13.m1.20.20.20.20.18.18.1.1.cmml" xref="S2.E13.m1.20.20.20.20.18.18.1.1">→</ci><ci id="S2.E13.m1.20.20.20.20.18.18.1.2.cmml" xref="S2.E13.m1.20.20.20.20.18.18.1.2">𝑟</ci><ci id="S2.E13.m1.20.20.20.20.18.18.1.3.cmml" xref="S2.E13.m1.20.20.20.20.18.18.1.3">𝑝</ci></apply></apply><ci id="S2.E13.m1.21.21.21.21.19.19.1.cmml" xref="S2.E13.m1.21.21.21.21.19.19.1">𝑖</ci></apply></apply><apply id="S2.E13.m1.26.26.1.1.1.1.1.1.4.cmml" xref="S2.E13.m1.25.25"><csymbol cd="ambiguous" id="S2.E13.m1.26.26.1.1.1.1.1.1.4.1.cmml" xref="S2.E13.m1.25.25">subscript</csymbol><apply id="S2.E13.m1.23.23.23.2.2.2.cmml" xref="S2.E13.m1.23.23.23.2.2.2"><ci id="S2.E13.m1.23.23.23.2.2.2.1.cmml" xref="S2.E13.m1.23.23.23.2.2.2.1">⏟</ci><apply id="S2.E13.m1.23.23.23.2.2.2.2.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2"><plus id="S2.E13.m1.23.23.23.2.2.2.2.1.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.1"></plus><apply id="S2.E13.m1.23.23.23.2.2.2.2.2.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2"><times id="S2.E13.m1.23.23.23.2.2.2.2.2.1.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.1"></times><apply id="S2.E13.m1.23.23.23.2.2.2.2.2.2.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E13.m1.23.23.23.2.2.2.2.2.2.1.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.2">superscript</csymbol><ci id="S2.E13.m1.23.23.23.2.2.2.2.2.2.2.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.2.2">𝜇</ci><ci id="S2.E13.m1.23.23.23.2.2.2.2.2.2.3.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.2.3">𝑖</ci></apply><apply id="S2.E13.m1.23.23.23.2.2.2.2.2.3.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S2.E13.m1.23.23.23.2.2.2.2.2.3.1.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3">superscript</csymbol><apply id="S2.E13.m1.23.23.23.2.2.2.2.2.3.2.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S2.E13.m1.23.23.23.2.2.2.2.2.3.2.1.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3">subscript</csymbol><ci id="S2.E13.m1.23.23.23.2.2.2.2.2.3.2.2.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3.2.2">ℒ</ci><ci id="S2.E13.m1.23.23.23.2.2.2.2.2.3.2.3.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3.2.3">𝑝</ci></apply><ci id="S2.E13.m1.23.23.23.2.2.2.2.2.3.3.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.2.3.3">𝑖</ci></apply></apply><apply id="S2.E13.m1.23.23.23.2.2.2.2.3.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.3"><times id="S2.E13.m1.23.23.23.2.2.2.2.3.1.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.3.1"></times><ci id="S2.E13.m1.23.23.23.2.2.2.2.3.2.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.3.2">𝜆</ci><apply id="S2.E13.m1.23.23.23.2.2.2.2.3.3.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S2.E13.m1.23.23.23.2.2.2.2.3.3.1.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3">superscript</csymbol><apply id="S2.E13.m1.23.23.23.2.2.2.2.3.3.2.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S2.E13.m1.23.23.23.2.2.2.2.3.3.2.1.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3">subscript</csymbol><ci id="S2.E13.m1.23.23.23.2.2.2.2.3.3.2.2.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3.2.2">ℒ</ci><ci id="S2.E13.m1.23.23.23.2.2.2.2.3.3.2.3.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3.2.3">𝑠</ci></apply><ci id="S2.E13.m1.23.23.23.2.2.2.2.3.3.3.cmml" xref="S2.E13.m1.23.23.23.2.2.2.2.3.3.3">𝑖</ci></apply></apply></apply></apply><apply id="S2.E13.m1.24.24.24.3.3.3.1.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1"><times id="S2.E13.m1.24.24.24.3.3.3.1.2.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1.2"></times><apply id="S2.E13.m1.24.24.24.3.3.3.1.3.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1.3"><csymbol cd="ambiguous" id="S2.E13.m1.24.24.24.3.3.3.1.3.1.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1.3">subscript</csymbol><ci id="S2.E13.m1.24.24.24.3.3.3.1.3.2.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1.3.2">ℒ</ci><apply id="S2.E13.m1.24.24.24.3.3.3.1.3.3.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1.3.3"><times id="S2.E13.m1.24.24.24.3.3.3.1.3.3.1.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1.3.3.1"></times><ci id="S2.E13.m1.24.24.24.3.3.3.1.3.3.2.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1.3.3.2">𝑢</ci><ci id="S2.E13.m1.24.24.24.3.3.3.1.3.3.3.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1.3.3.3">𝑛</ci></apply></apply><ci id="S2.E13.m1.24.24.24.3.3.3.1.1c.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1.4.2"><mtext class="ltx_mathvariant_italic" mathsize="70%" id="S2.E13.m1.24.24.24.3.3.3.1.1.cmml" xref="S2.E13.m1.24.24.24.3.3.3.1.4.2"><a href="#S2.E6" title="In II-B Self-supervised depth and pose estimation ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref ltx_font_italic" style="font-size:70%;"><span class="ltx_text ltx_ref_tag">6</span></a></mtext></ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E13.m1.26c">\begin{split}\mathcal{L}_{gen}&amp;=\frac{1}{N}\sum_{i}^{N}(\mu_{d\rightarrow p}^{i}\mathcal{L}_{d\rightarrow p}^{i}+\mu_{r\rightarrow p}^{i}\mathcal{L}_{r\rightarrow p}^{i}\\
&amp;+\underbrace{\mu^{i}\mathcal{L}_{p}^{i}+\lambda\mathcal{L}_{s}^{i}}_{\mathcal{L}_{un}\leavevmode\nobreak\ (\ref{eq:monodepthloss})})\end{split}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
</table>
<p id="S2.SS4.p3.2" class="ltx_p">which eliminates the intricate search of balancing weights for the depth and the pose loss terms.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">Results and Discussion</span>
</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS1.4.1.1" class="ltx_text">III-A</span> </span><span id="S3.SS1.5.2" class="ltx_text ltx_font_italic">Implementation details</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.7" class="ltx_p">Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, we used ResNet-18 architecture <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> for our depth and pose estimation networks. We simultaneously trained our depth and pose estimation networks using a single NVIDIA GeForce GTX 1080Ti GPU. Our networks were trained for 100 epochs with the learning rate of <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="10^{-4}" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><msup id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mn id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">10</mn><mrow id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml"><mo id="S3.SS1.p1.1.m1.1.1.3a" xref="S3.SS1.p1.1.m1.1.1.3.cmml">−</mo><mn id="S3.SS1.p1.1.m1.1.1.3.2" xref="S3.SS1.p1.1.m1.1.1.3.2.cmml">4</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">superscript</csymbol><cn type="integer" id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">10</cn><apply id="S3.SS1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3"><minus id="S3.SS1.p1.1.m1.1.1.3.1.cmml" xref="S3.SS1.p1.1.m1.1.1.3"></minus><cn type="integer" id="S3.SS1.p1.1.m1.1.1.3.2.cmml" xref="S3.SS1.p1.1.m1.1.1.3.2">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">10^{-4}</annotation></semantics></math> with the decay factor of <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="10^{-1}" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><msup id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mn id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">10</mn><mrow id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml"><mo id="S3.SS1.p1.2.m2.1.1.3a" xref="S3.SS1.p1.2.m2.1.1.3.cmml">−</mo><mn id="S3.SS1.p1.2.m2.1.1.3.2" xref="S3.SS1.p1.2.m2.1.1.3.2.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">superscript</csymbol><cn type="integer" id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">10</cn><apply id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3"><minus id="S3.SS1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3"></minus><cn type="integer" id="S3.SS1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">10^{-1}</annotation></semantics></math> after 50 epochs. We set the term weights for the self-supervised and the generalized loss training as <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="\alpha=0.85" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><mrow id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">α</mi><mo id="S3.SS1.p1.3.m3.1.1.1" xref="S3.SS1.p1.3.m3.1.1.1.cmml">=</mo><mn id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml">0.85</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><eq id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1"></eq><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">𝛼</ci><cn type="float" id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3">0.85</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">\alpha=0.85</annotation></semantics></math> and <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="\lambda=0.001" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><mrow id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml">λ</mi><mo id="S3.SS1.p1.4.m4.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.cmml">=</mo><mn id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">0.001</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><eq id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1"></eq><ci id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2">𝜆</ci><cn type="float" id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">0.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">\lambda=0.001</annotation></semantics></math>.
Additionally, we set the extra balancing weights for the direct supervision as <math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="\gamma=30" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><mrow id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.p1.5.m5.1.1.2" xref="S3.SS1.p1.5.m5.1.1.2.cmml">γ</mi><mo id="S3.SS1.p1.5.m5.1.1.1" xref="S3.SS1.p1.5.m5.1.1.1.cmml">=</mo><mn id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><eq id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1.1"></eq><ci id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2">𝛾</ci><cn type="integer" id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">\gamma=30</annotation></semantics></math>, <math id="S3.SS1.p1.6.m6.1" class="ltx_Math" alttext="\zeta=\psi=15" display="inline"><semantics id="S3.SS1.p1.6.m6.1a"><mrow id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">ζ</mi><mo id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml">=</mo><mi id="S3.SS1.p1.6.m6.1.1.4" xref="S3.SS1.p1.6.m6.1.1.4.cmml">ψ</mi><mo id="S3.SS1.p1.6.m6.1.1.5" xref="S3.SS1.p1.6.m6.1.1.5.cmml">=</mo><mn id="S3.SS1.p1.6.m6.1.1.6" xref="S3.SS1.p1.6.m6.1.1.6.cmml">15</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><and id="S3.SS1.p1.6.m6.1.1a.cmml" xref="S3.SS1.p1.6.m6.1.1"></and><apply id="S3.SS1.p1.6.m6.1.1b.cmml" xref="S3.SS1.p1.6.m6.1.1"><eq id="S3.SS1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3"></eq><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">𝜁</ci><ci id="S3.SS1.p1.6.m6.1.1.4.cmml" xref="S3.SS1.p1.6.m6.1.1.4">𝜓</ci></apply><apply id="S3.SS1.p1.6.m6.1.1c.cmml" xref="S3.SS1.p1.6.m6.1.1"><eq id="S3.SS1.p1.6.m6.1.1.5.cmml" xref="S3.SS1.p1.6.m6.1.1.5"></eq><share href="#S3.SS1.p1.6.m6.1.1.4.cmml" id="S3.SS1.p1.6.m6.1.1d.cmml" xref="S3.SS1.p1.6.m6.1.1"></share><cn type="integer" id="S3.SS1.p1.6.m6.1.1.6.cmml" xref="S3.SS1.p1.6.m6.1.1.6">15</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">\zeta=\psi=15</annotation></semantics></math>, and <math id="S3.SS1.p1.7.m7.1" class="ltx_Math" alttext="\theta=160" display="inline"><semantics id="S3.SS1.p1.7.m7.1a"><mrow id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml"><mi id="S3.SS1.p1.7.m7.1.1.2" xref="S3.SS1.p1.7.m7.1.1.2.cmml">θ</mi><mo id="S3.SS1.p1.7.m7.1.1.1" xref="S3.SS1.p1.7.m7.1.1.1.cmml">=</mo><mn id="S3.SS1.p1.7.m7.1.1.3" xref="S3.SS1.p1.7.m7.1.1.3.cmml">160</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><apply id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1"><eq id="S3.SS1.p1.7.m7.1.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1.1"></eq><ci id="S3.SS1.p1.7.m7.1.1.2.cmml" xref="S3.SS1.p1.7.m7.1.1.2">𝜃</ci><cn type="integer" id="S3.SS1.p1.7.m7.1.1.3.cmml" xref="S3.SS1.p1.7.m7.1.1.3">160</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">\theta=160</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.1" class="ltx_p">We divided six subjects into four subjects for training (Subjects 3-6, 9000 images) and two subject for testing (Subjects 1-2, 2350 images). The image resolution is <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="288\times 256" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mrow id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mn id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">288</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p2.1.m1.1.1.1" xref="S3.SS1.p2.1.m1.1.1.1.cmml">×</mo><mn id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">256</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><times id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1"></times><cn type="integer" id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">288</cn><cn type="integer" id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">256</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">288\times 256</annotation></semantics></math> pixels. Following the finding of our previous research to tackle the color channel misalignment problem <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>, we used only red channel images to train the networks.</p>
</div>
<figure id="S3.F4" class="ltx_figure"><svg id="S3.F4.1.pic1" class="ltx_picture ltx_centering" height="339.71" overflow="visible" version="1.1" width="386.44"><g transform="translate(0,339.71) matrix(1 0 0 -1 0 0) translate(128.35,0) translate(0,81.92)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><g transform="matrix(1.0 0.0 0.0 1.0 -96 50.18)" fill="#000000" stroke="#000000"><foreignObject width="192" height="202" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/pcl/16237_GT_edit.png" id="S3.F4.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="192" height="202" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 61.48 49.18)" fill="#000000" stroke="#000000"><foreignObject width="192" height="204" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/pcl/16237_proposed_edit.png" id="S3.F4.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="192" height="204" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -123.74 148.98)" fill="#000000" stroke="#000000"><foreignObject width="90" height="80" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt/20180830_16237.png" id="S3.F4.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="90" height="80" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -108.11 213.99)" fill="#000000" stroke="#000000"><foreignObject width="58.73" height="9.72" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.F4.1.pic1.11.11.11.1.1" class="ltx_text" style="font-size:80%;">Input image</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -123.74 85.98)" fill="#000000" stroke="#000000"><foreignObject width="90" height="80" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred/20180830_16237plt.png" id="S3.F4.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="90" height="80" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -104.18 150.93)" fill="#000000" stroke="#000000"><foreignObject width="50.89" height="9.84" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.F4.1.pic1.12.12.12.1.1" class="ltx_text" style="font-size:80%;">Ref. depth</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 41.61 148.98)" fill="#000000" stroke="#000000"><foreignObject width="90" height="80" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred/20180830_16237_proposed_depth.png" id="S3.F4.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="90" height="80" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 57.93 213.93)" fill="#000000" stroke="#000000"><foreignObject width="57.38" height="9.84" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.F4.1.pic1.13.13.13.1.1" class="ltx_text" style="font-size:80%;">Pred. depth</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -96 -77.3)" fill="#000000" stroke="#000000"><foreignObject width="192" height="205" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/pcl/17139_GT_edit.png" id="S3.F4.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="192" height="205" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 61.48 -75.8)" fill="#000000" stroke="#000000"><foreignObject width="192" height="202" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/pcl/17139_proposed_edit.png" id="S3.F4.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="192" height="202" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -123.74 22.99)" fill="#000000" stroke="#000000"><foreignObject width="90" height="80" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt/20180830_17139.png" id="S3.F4.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="90" height="80" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -108.11 88)" fill="#000000" stroke="#000000"><foreignObject width="58.73" height="9.72" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.F4.1.pic1.14.14.14.1.1" class="ltx_text" style="font-size:80%;">Input image</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -123.74 -38.74)" fill="#000000" stroke="#000000"><foreignObject width="90" height="80" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred/20180830_17139plt.png" id="S3.F4.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="90" height="80" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -104.18 24.95)" fill="#000000" stroke="#000000"><foreignObject width="50.89" height="9.84" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.F4.1.pic1.15.15.15.1.1" class="ltx_text" style="font-size:80%;">Ref. depth</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 41.61 10.39)" fill="#000000" stroke="#000000"><foreignObject width="90" height="80" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><img src="/html/2107.13263/assets/images/rgb-gt-pred/20180830_17139_proposed_depth.png" id="S3.F4.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="90" height="80" alt="Refer to caption"></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 57.93 75.34)" fill="#000000" stroke="#000000"><foreignObject width="57.38" height="9.84" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.F4.1.pic1.16.16.16.1.1" class="ltx_text" style="font-size:80%;">Pred. depth</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 -75.63 -34.96)" fill="#000000" stroke="#000000"><foreignObject width="119.77" height="13.84" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.F4.1.pic1.17.17.17.1.1" class="ltx_text">(a) Reference depth</span></foreignObject></g><g transform="matrix(1.0 0.0 0.0 1.0 59.28 -34.96)" fill="#000000" stroke="#000000"><foreignObject width="164.91" height="13.84" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S3.F4.1.pic1.18.18.18.1.1" class="ltx_text">(b) Generalized loss (Ours)</span></foreignObject></g></g></svg>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F4.3.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S3.F4.4.2" class="ltx_text" style="font-size:90%;">Comparison of the generated 3D point clouds using the reference depth and the predicted depth by our proposed method. As we can see, both the depth and the structure from the predicted depth are close to the ones generated from the reference depth.</span></figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS2.4.1.1" class="ltx_text">III-B</span> </span><span id="S3.SS2.5.2" class="ltx_text ltx_font_italic">Depth estimation evaluation</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.5" class="ltx_p">Figure <a href="#S2.F3" title="Figure 3 ‣ II-D Loss generalization ‣ II Materials and Methods ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the subjective evaluation results. We evaluated the relative depth error and the depth accuracy as</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p">Relative error: <math id="S3.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="\frac{|\hat{D}_{t}-D_{t}|}{D_{t}}" display="inline"><semantics id="S3.I1.i1.p1.1.m1.1a"><mfrac id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml"><mrow id="S3.I1.i1.p1.1.m1.1.1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.I1.i1.p1.1.m1.1.1.1.1.2" xref="S3.I1.i1.p1.1.m1.1.1.1.2.1.cmml">|</mo><mrow id="S3.I1.i1.p1.1.m1.1.1.1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.cmml"><msub id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.cmml"><mover accent="true" id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2.cmml"><mi id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2.2" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2.2.cmml">D</mi><mo id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2.1" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.3" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.3.cmml">t</mi></msub><mo id="S3.I1.i1.p1.1.m1.1.1.1.1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.I1.i1.p1.1.m1.1.1.1.1.1.3" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.cmml"><mi id="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.2" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.2.cmml">D</mi><mi id="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.3" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.3.cmml">t</mi></msub></mrow><mo stretchy="false" id="S3.I1.i1.p1.1.m1.1.1.1.1.3" xref="S3.I1.i1.p1.1.m1.1.1.1.2.1.cmml">|</mo></mrow><msub id="S3.I1.i1.p1.1.m1.1.1.3" xref="S3.I1.i1.p1.1.m1.1.1.3.cmml"><mi id="S3.I1.i1.p1.1.m1.1.1.3.2" xref="S3.I1.i1.p1.1.m1.1.1.3.2.cmml">D</mi><mi id="S3.I1.i1.p1.1.m1.1.1.3.3" xref="S3.I1.i1.p1.1.m1.1.1.3.3.cmml">t</mi></msub></mfrac><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b"><apply id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1"><divide id="S3.I1.i1.p1.1.m1.1.1.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1"></divide><apply id="S3.I1.i1.p1.1.m1.1.1.1.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1"><abs id="S3.I1.i1.p1.1.m1.1.1.1.2.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.2"></abs><apply id="S3.I1.i1.p1.1.m1.1.1.1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1"><minus id="S3.I1.i1.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.1"></minus><apply id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2">subscript</csymbol><apply id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2"><ci id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2.1">^</ci><ci id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.2.2">𝐷</ci></apply><ci id="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.3.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.2">𝐷</ci><ci id="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.3.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply><apply id="S3.I1.i1.p1.1.m1.1.1.3.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.1.1.3.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.I1.i1.p1.1.m1.1.1.3.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3.2">𝐷</ci><ci id="S3.I1.i1.p1.1.m1.1.1.3.3.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">\frac{|\hat{D}_{t}-D_{t}|}{D_{t}}</annotation></semantics></math></p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p">Depth accuracy: <math id="S3.I1.i2.p1.1.m1.3" class="ltx_Math" alttext="\delta=\max(\frac{D_{t}}{\hat{D}_{t}},\frac{\hat{D}_{t}}{D_{t}})" display="inline"><semantics id="S3.I1.i2.p1.1.m1.3a"><mrow id="S3.I1.i2.p1.1.m1.3.4" xref="S3.I1.i2.p1.1.m1.3.4.cmml"><mi id="S3.I1.i2.p1.1.m1.3.4.2" xref="S3.I1.i2.p1.1.m1.3.4.2.cmml">δ</mi><mo id="S3.I1.i2.p1.1.m1.3.4.1" xref="S3.I1.i2.p1.1.m1.3.4.1.cmml">=</mo><mrow id="S3.I1.i2.p1.1.m1.3.4.3.2" xref="S3.I1.i2.p1.1.m1.3.4.3.1.cmml"><mi id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml">max</mi><mo id="S3.I1.i2.p1.1.m1.3.4.3.2a" xref="S3.I1.i2.p1.1.m1.3.4.3.1.cmml">⁡</mo><mrow id="S3.I1.i2.p1.1.m1.3.4.3.2.1" xref="S3.I1.i2.p1.1.m1.3.4.3.1.cmml"><mo stretchy="false" id="S3.I1.i2.p1.1.m1.3.4.3.2.1.1" xref="S3.I1.i2.p1.1.m1.3.4.3.1.cmml">(</mo><mfrac id="S3.I1.i2.p1.1.m1.2.2" xref="S3.I1.i2.p1.1.m1.2.2.cmml"><msub id="S3.I1.i2.p1.1.m1.2.2.2" xref="S3.I1.i2.p1.1.m1.2.2.2.cmml"><mi id="S3.I1.i2.p1.1.m1.2.2.2.2" xref="S3.I1.i2.p1.1.m1.2.2.2.2.cmml">D</mi><mi id="S3.I1.i2.p1.1.m1.2.2.2.3" xref="S3.I1.i2.p1.1.m1.2.2.2.3.cmml">t</mi></msub><msub id="S3.I1.i2.p1.1.m1.2.2.3" xref="S3.I1.i2.p1.1.m1.2.2.3.cmml"><mover accent="true" id="S3.I1.i2.p1.1.m1.2.2.3.2" xref="S3.I1.i2.p1.1.m1.2.2.3.2.cmml"><mi id="S3.I1.i2.p1.1.m1.2.2.3.2.2" xref="S3.I1.i2.p1.1.m1.2.2.3.2.2.cmml">D</mi><mo id="S3.I1.i2.p1.1.m1.2.2.3.2.1" xref="S3.I1.i2.p1.1.m1.2.2.3.2.1.cmml">^</mo></mover><mi id="S3.I1.i2.p1.1.m1.2.2.3.3" xref="S3.I1.i2.p1.1.m1.2.2.3.3.cmml">t</mi></msub></mfrac><mo id="S3.I1.i2.p1.1.m1.3.4.3.2.1.2" xref="S3.I1.i2.p1.1.m1.3.4.3.1.cmml">,</mo><mfrac id="S3.I1.i2.p1.1.m1.3.3" xref="S3.I1.i2.p1.1.m1.3.3.cmml"><msub id="S3.I1.i2.p1.1.m1.3.3.2" xref="S3.I1.i2.p1.1.m1.3.3.2.cmml"><mover accent="true" id="S3.I1.i2.p1.1.m1.3.3.2.2" xref="S3.I1.i2.p1.1.m1.3.3.2.2.cmml"><mi id="S3.I1.i2.p1.1.m1.3.3.2.2.2" xref="S3.I1.i2.p1.1.m1.3.3.2.2.2.cmml">D</mi><mo id="S3.I1.i2.p1.1.m1.3.3.2.2.1" xref="S3.I1.i2.p1.1.m1.3.3.2.2.1.cmml">^</mo></mover><mi id="S3.I1.i2.p1.1.m1.3.3.2.3" xref="S3.I1.i2.p1.1.m1.3.3.2.3.cmml">t</mi></msub><msub id="S3.I1.i2.p1.1.m1.3.3.3" xref="S3.I1.i2.p1.1.m1.3.3.3.cmml"><mi id="S3.I1.i2.p1.1.m1.3.3.3.2" xref="S3.I1.i2.p1.1.m1.3.3.3.2.cmml">D</mi><mi id="S3.I1.i2.p1.1.m1.3.3.3.3" xref="S3.I1.i2.p1.1.m1.3.3.3.3.cmml">t</mi></msub></mfrac><mo stretchy="false" id="S3.I1.i2.p1.1.m1.3.4.3.2.1.3" xref="S3.I1.i2.p1.1.m1.3.4.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.3b"><apply id="S3.I1.i2.p1.1.m1.3.4.cmml" xref="S3.I1.i2.p1.1.m1.3.4"><eq id="S3.I1.i2.p1.1.m1.3.4.1.cmml" xref="S3.I1.i2.p1.1.m1.3.4.1"></eq><ci id="S3.I1.i2.p1.1.m1.3.4.2.cmml" xref="S3.I1.i2.p1.1.m1.3.4.2">𝛿</ci><apply id="S3.I1.i2.p1.1.m1.3.4.3.1.cmml" xref="S3.I1.i2.p1.1.m1.3.4.3.2"><max id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1"></max><apply id="S3.I1.i2.p1.1.m1.2.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2"><divide id="S3.I1.i2.p1.1.m1.2.2.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2"></divide><apply id="S3.I1.i2.p1.1.m1.2.2.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.2"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.2.2.2.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.2">subscript</csymbol><ci id="S3.I1.i2.p1.1.m1.2.2.2.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.2.2">𝐷</ci><ci id="S3.I1.i2.p1.1.m1.2.2.2.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.2.3">𝑡</ci></apply><apply id="S3.I1.i2.p1.1.m1.2.2.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.2.2.3.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3">subscript</csymbol><apply id="S3.I1.i2.p1.1.m1.2.2.3.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.2"><ci id="S3.I1.i2.p1.1.m1.2.2.3.2.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.2.1">^</ci><ci id="S3.I1.i2.p1.1.m1.2.2.3.2.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.2.2">𝐷</ci></apply><ci id="S3.I1.i2.p1.1.m1.2.2.3.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.3">𝑡</ci></apply></apply><apply id="S3.I1.i2.p1.1.m1.3.3.cmml" xref="S3.I1.i2.p1.1.m1.3.3"><divide id="S3.I1.i2.p1.1.m1.3.3.1.cmml" xref="S3.I1.i2.p1.1.m1.3.3"></divide><apply id="S3.I1.i2.p1.1.m1.3.3.2.cmml" xref="S3.I1.i2.p1.1.m1.3.3.2"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.3.3.2.1.cmml" xref="S3.I1.i2.p1.1.m1.3.3.2">subscript</csymbol><apply id="S3.I1.i2.p1.1.m1.3.3.2.2.cmml" xref="S3.I1.i2.p1.1.m1.3.3.2.2"><ci id="S3.I1.i2.p1.1.m1.3.3.2.2.1.cmml" xref="S3.I1.i2.p1.1.m1.3.3.2.2.1">^</ci><ci id="S3.I1.i2.p1.1.m1.3.3.2.2.2.cmml" xref="S3.I1.i2.p1.1.m1.3.3.2.2.2">𝐷</ci></apply><ci id="S3.I1.i2.p1.1.m1.3.3.2.3.cmml" xref="S3.I1.i2.p1.1.m1.3.3.2.3">𝑡</ci></apply><apply id="S3.I1.i2.p1.1.m1.3.3.3.cmml" xref="S3.I1.i2.p1.1.m1.3.3.3"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.3.3.3.1.cmml" xref="S3.I1.i2.p1.1.m1.3.3.3">subscript</csymbol><ci id="S3.I1.i2.p1.1.m1.3.3.3.2.cmml" xref="S3.I1.i2.p1.1.m1.3.3.3.2">𝐷</ci><ci id="S3.I1.i2.p1.1.m1.3.3.3.3.cmml" xref="S3.I1.i2.p1.1.m1.3.3.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.3c">\delta=\max(\frac{D_{t}}{\hat{D}_{t}},\frac{\hat{D}_{t}}{D_{t}})</annotation></semantics></math></p>
</div>
</li>
</ul>
<p id="S3.SS2.p1.4" class="ltx_p">where <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="D_{t}" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><msub id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mi id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">D</mi><mi id="S3.SS2.p1.1.m1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2">𝐷</ci><ci id="S3.SS2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">D_{t}</annotation></semantics></math> is the reference depth and <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="\hat{D}_{t}" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mover accent="true" id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml"><mi id="S3.SS2.p1.2.m2.1.1.2.2" xref="S3.SS2.p1.2.m2.1.1.2.2.cmml">D</mi><mo id="S3.SS2.p1.2.m2.1.1.2.1" xref="S3.SS2.p1.2.m2.1.1.2.1.cmml">^</mo></mover><mi id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><apply id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2"><ci id="S3.SS2.p1.2.m2.1.1.2.1.cmml" xref="S3.SS2.p1.2.m2.1.1.2.1">^</ci><ci id="S3.SS2.p1.2.m2.1.1.2.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2.2">𝐷</ci></apply><ci id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">\hat{D}_{t}</annotation></semantics></math> is the predicted depth. For the relative error, we calculated the errors for all the pixels of all the frames and evaluated the mean, the maximum, and the median values. For the depth accuracy evaluation, we measured the ratio between the number of pixels that have a lower error than a threshold controlled by <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">k</annotation></semantics></math> (i.e., <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="\delta&lt;1.25^{k}" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><mrow id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml"><mi id="S3.SS2.p1.4.m4.1.1.2" xref="S3.SS2.p1.4.m4.1.1.2.cmml">δ</mi><mo id="S3.SS2.p1.4.m4.1.1.1" xref="S3.SS2.p1.4.m4.1.1.1.cmml">&lt;</mo><msup id="S3.SS2.p1.4.m4.1.1.3" xref="S3.SS2.p1.4.m4.1.1.3.cmml"><mn id="S3.SS2.p1.4.m4.1.1.3.2" xref="S3.SS2.p1.4.m4.1.1.3.2.cmml">1.25</mn><mi id="S3.SS2.p1.4.m4.1.1.3.3" xref="S3.SS2.p1.4.m4.1.1.3.3.cmml">k</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1"><lt id="S3.SS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1"></lt><ci id="S3.SS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.2">𝛿</ci><apply id="S3.SS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.3.1.cmml" xref="S3.SS2.p1.4.m4.1.1.3">superscript</csymbol><cn type="float" id="S3.SS2.p1.4.m4.1.1.3.2.cmml" xref="S3.SS2.p1.4.m4.1.1.3.2">1.25</cn><ci id="S3.SS2.p1.4.m4.1.1.3.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">\delta&lt;1.25^{k}</annotation></semantics></math>) and the total number of the pixels.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T1.10.1.1" class="ltx_text" style="font-size:90%;">Table I</span>: </span><span id="S3.T1.11.2" class="ltx_text" style="font-size:90%;">Depth estimation objective evaluation.</span></figcaption>
<div id="S3.T1.8" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:239.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-48.3pt,26.7pt) scale(0.817789999887768,0.817789999887768) ;">
<table id="S3.T1.8.8" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T1.2.2.2" class="ltx_tr">
<th id="S3.T1.2.2.2.3" class="ltx_td ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></th>
<td id="S3.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;" colspan="3">Accuracy <math id="S3.T1.1.1.1.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S3.T1.1.1.1.1.m1.1a"><mo stretchy="false" id="S3.T1.1.1.1.1.m1.1.1" xref="S3.T1.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.1.m1.1b"><ci id="S3.T1.1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.1.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S3.T1.2.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;" colspan="3">Relative errors <math id="S3.T1.2.2.2.2.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S3.T1.2.2.2.2.m1.1a"><mo stretchy="false" id="S3.T1.2.2.2.2.m1.1.1" xref="S3.T1.2.2.2.2.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.2.2.m1.1b"><ci id="S3.T1.2.2.2.2.m1.1.1.cmml" xref="S3.T1.2.2.2.2.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.2.2.m1.1c">\downarrow</annotation></semantics></math>
</td>
</tr>
<tr id="S3.T1.8.8.8" class="ltx_tr">
<th id="S3.T1.8.8.8.7" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">Method</th>
<td id="S3.T1.4.4.4.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">
<table id="S3.T1.4.4.4.2.2" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.3.3.3.1.1.1" class="ltx_tr">
<td id="S3.T1.3.3.3.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><math id="S3.T1.3.3.3.1.1.1.1.m1.1" class="ltx_Math" alttext="\delta" display="inline"><semantics id="S3.T1.3.3.3.1.1.1.1.m1.1a"><mi id="S3.T1.3.3.3.1.1.1.1.m1.1.1" xref="S3.T1.3.3.3.1.1.1.1.m1.1.1.cmml">δ</mi><annotation-xml encoding="MathML-Content" id="S3.T1.3.3.3.1.1.1.1.m1.1b"><ci id="S3.T1.3.3.3.1.1.1.1.m1.1.1.cmml" xref="S3.T1.3.3.3.1.1.1.1.m1.1.1">𝛿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.3.3.3.1.1.1.1.m1.1c">\delta</annotation></semantics></math></td>
</tr>
<tr id="S3.T1.4.4.4.2.2.2" class="ltx_tr">
<td id="S3.T1.4.4.4.2.2.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><math id="S3.T1.4.4.4.2.2.2.1.m1.1" class="ltx_Math" alttext="&lt;1.25^{1}" display="inline"><semantics id="S3.T1.4.4.4.2.2.2.1.m1.1a"><mrow id="S3.T1.4.4.4.2.2.2.1.m1.1.1" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.cmml"><mi id="S3.T1.4.4.4.2.2.2.1.m1.1.1.2" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.2.cmml"></mi><mo id="S3.T1.4.4.4.2.2.2.1.m1.1.1.1" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.1.cmml">&lt;</mo><msup id="S3.T1.4.4.4.2.2.2.1.m1.1.1.3" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.cmml"><mn id="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.2" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.2.cmml">1.25</mn><mn id="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.3" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.3.cmml">1</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.4.4.4.2.2.2.1.m1.1b"><apply id="S3.T1.4.4.4.2.2.2.1.m1.1.1.cmml" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1"><lt id="S3.T1.4.4.4.2.2.2.1.m1.1.1.1.cmml" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.1"></lt><csymbol cd="latexml" id="S3.T1.4.4.4.2.2.2.1.m1.1.1.2.cmml" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.2">absent</csymbol><apply id="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.cmml" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.1.cmml" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.3">superscript</csymbol><cn type="float" id="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.2.cmml" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.2">1.25</cn><cn type="integer" id="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.3.cmml" xref="S3.T1.4.4.4.2.2.2.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.4.4.4.2.2.2.1.m1.1c">&lt;1.25^{1}</annotation></semantics></math></td>
</tr>
</table>
</td>
<td id="S3.T1.6.6.6.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">
<table id="S3.T1.6.6.6.4.2" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.5.5.5.3.1.1" class="ltx_tr">
<td id="S3.T1.5.5.5.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><math id="S3.T1.5.5.5.3.1.1.1.m1.1" class="ltx_Math" alttext="\delta" display="inline"><semantics id="S3.T1.5.5.5.3.1.1.1.m1.1a"><mi id="S3.T1.5.5.5.3.1.1.1.m1.1.1" xref="S3.T1.5.5.5.3.1.1.1.m1.1.1.cmml">δ</mi><annotation-xml encoding="MathML-Content" id="S3.T1.5.5.5.3.1.1.1.m1.1b"><ci id="S3.T1.5.5.5.3.1.1.1.m1.1.1.cmml" xref="S3.T1.5.5.5.3.1.1.1.m1.1.1">𝛿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.5.5.5.3.1.1.1.m1.1c">\delta</annotation></semantics></math></td>
</tr>
<tr id="S3.T1.6.6.6.4.2.2" class="ltx_tr">
<td id="S3.T1.6.6.6.4.2.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><math id="S3.T1.6.6.6.4.2.2.1.m1.1" class="ltx_Math" alttext="&lt;1.25^{2}" display="inline"><semantics id="S3.T1.6.6.6.4.2.2.1.m1.1a"><mrow id="S3.T1.6.6.6.4.2.2.1.m1.1.1" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.cmml"><mi id="S3.T1.6.6.6.4.2.2.1.m1.1.1.2" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.2.cmml"></mi><mo id="S3.T1.6.6.6.4.2.2.1.m1.1.1.1" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.1.cmml">&lt;</mo><msup id="S3.T1.6.6.6.4.2.2.1.m1.1.1.3" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.cmml"><mn id="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.2" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.2.cmml">1.25</mn><mn id="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.3" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.3.cmml">2</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.6.6.6.4.2.2.1.m1.1b"><apply id="S3.T1.6.6.6.4.2.2.1.m1.1.1.cmml" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1"><lt id="S3.T1.6.6.6.4.2.2.1.m1.1.1.1.cmml" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.1"></lt><csymbol cd="latexml" id="S3.T1.6.6.6.4.2.2.1.m1.1.1.2.cmml" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.2">absent</csymbol><apply id="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.cmml" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.1.cmml" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.3">superscript</csymbol><cn type="float" id="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.2.cmml" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.2">1.25</cn><cn type="integer" id="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.3.cmml" xref="S3.T1.6.6.6.4.2.2.1.m1.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.6.6.6.4.2.2.1.m1.1c">&lt;1.25^{2}</annotation></semantics></math></td>
</tr>
</table>
</td>
<td id="S3.T1.8.8.8.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">
<table id="S3.T1.8.8.8.6.2" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.7.7.7.5.1.1" class="ltx_tr">
<td id="S3.T1.7.7.7.5.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><math id="S3.T1.7.7.7.5.1.1.1.m1.1" class="ltx_Math" alttext="\delta" display="inline"><semantics id="S3.T1.7.7.7.5.1.1.1.m1.1a"><mi id="S3.T1.7.7.7.5.1.1.1.m1.1.1" xref="S3.T1.7.7.7.5.1.1.1.m1.1.1.cmml">δ</mi><annotation-xml encoding="MathML-Content" id="S3.T1.7.7.7.5.1.1.1.m1.1b"><ci id="S3.T1.7.7.7.5.1.1.1.m1.1.1.cmml" xref="S3.T1.7.7.7.5.1.1.1.m1.1.1">𝛿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.7.7.7.5.1.1.1.m1.1c">\delta</annotation></semantics></math></td>
</tr>
<tr id="S3.T1.8.8.8.6.2.2" class="ltx_tr">
<td id="S3.T1.8.8.8.6.2.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><math id="S3.T1.8.8.8.6.2.2.1.m1.1" class="ltx_Math" alttext="&lt;1.25^{3}" display="inline"><semantics id="S3.T1.8.8.8.6.2.2.1.m1.1a"><mrow id="S3.T1.8.8.8.6.2.2.1.m1.1.1" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.cmml"><mi id="S3.T1.8.8.8.6.2.2.1.m1.1.1.2" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.2.cmml"></mi><mo id="S3.T1.8.8.8.6.2.2.1.m1.1.1.1" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.1.cmml">&lt;</mo><msup id="S3.T1.8.8.8.6.2.2.1.m1.1.1.3" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.cmml"><mn id="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.2" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.2.cmml">1.25</mn><mn id="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.3" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.3.cmml">3</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.8.8.8.6.2.2.1.m1.1b"><apply id="S3.T1.8.8.8.6.2.2.1.m1.1.1.cmml" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1"><lt id="S3.T1.8.8.8.6.2.2.1.m1.1.1.1.cmml" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.1"></lt><csymbol cd="latexml" id="S3.T1.8.8.8.6.2.2.1.m1.1.1.2.cmml" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.2">absent</csymbol><apply id="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.cmml" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.1.cmml" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.3">superscript</csymbol><cn type="float" id="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.2.cmml" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.2">1.25</cn><cn type="integer" id="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.3.cmml" xref="S3.T1.8.8.8.6.2.2.1.m1.1.1.3.3">3</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.8.8.8.6.2.2.1.m1.1c">&lt;1.25^{3}</annotation></semantics></math></td>
</tr>
</table>
</td>
<td id="S3.T1.8.8.8.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">mean</td>
<td id="S3.T1.8.8.8.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">max</td>
<td id="S3.T1.8.8.8.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">median</td>
</tr>
<tr id="S3.T1.8.8.9.1" class="ltx_tr">
<th id="S3.T1.8.8.9.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;" colspan="7">Test on Subject 1</th>
</tr>
<tr id="S3.T1.8.8.10.2" class="ltx_tr">
<th id="S3.T1.8.8.10.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">Self-supervised <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>
</th>
<td id="S3.T1.8.8.10.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.374</td>
<td id="S3.T1.8.8.10.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.703</td>
<td id="S3.T1.8.8.10.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.838</td>
<td id="S3.T1.8.8.10.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.635</td>
<td id="S3.T1.8.8.10.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">8.812</td>
<td id="S3.T1.8.8.10.2.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.286</td>
</tr>
<tr id="S3.T1.8.8.11.3" class="ltx_tr">
<th id="S3.T1.8.8.11.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Direct supervision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>
</th>
<td id="S3.T1.8.8.11.3.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.525</td>
<td id="S3.T1.8.8.11.3.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.11.3.3.1" class="ltx_text ltx_font_bold">0.814</span></td>
<td id="S3.T1.8.8.11.3.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">0.900</td>
<td id="S3.T1.8.8.11.3.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.432</td>
<td id="S3.T1.8.8.11.3.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">6.628</td>
<td id="S3.T1.8.8.11.3.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.11.3.7.1" class="ltx_text ltx_font_bold">0.209</span></td>
</tr>
<tr id="S3.T1.8.8.12.4" class="ltx_tr">
<th id="S3.T1.8.8.12.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Generalized loss (Ours)</th>
<td id="S3.T1.8.8.12.4.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.12.4.2.1" class="ltx_text ltx_font_bold">0.540</span></td>
<td id="S3.T1.8.8.12.4.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.804</td>
<td id="S3.T1.8.8.12.4.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.12.4.4.1" class="ltx_text ltx_font_bold">0.902</span></td>
<td id="S3.T1.8.8.12.4.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.12.4.5.1" class="ltx_text ltx_font_bold">0.416</span></td>
<td id="S3.T1.8.8.12.4.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.12.4.6.1" class="ltx_text ltx_font_bold">5.445</span></td>
<td id="S3.T1.8.8.12.4.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.212</td>
</tr>
<tr id="S3.T1.8.8.13.5" class="ltx_tr">
<th id="S3.T1.8.8.13.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;" colspan="7">Test on Subject 2</th>
</tr>
<tr id="S3.T1.8.8.14.6" class="ltx_tr">
<th id="S3.T1.8.8.14.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">Self-supervised <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>
</th>
<td id="S3.T1.8.8.14.6.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.477</td>
<td id="S3.T1.8.8.14.6.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.767</td>
<td id="S3.T1.8.8.14.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.867</td>
<td id="S3.T1.8.8.14.6.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.472</td>
<td id="S3.T1.8.8.14.6.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">8.673</td>
<td id="S3.T1.8.8.14.6.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.227</td>
</tr>
<tr id="S3.T1.8.8.15.7" class="ltx_tr">
<th id="S3.T1.8.8.15.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Direct supervision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>
</th>
<td id="S3.T1.8.8.15.7.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.536</td>
<td id="S3.T1.8.8.15.7.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.806</td>
<td id="S3.T1.8.8.15.7.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">0.910</td>
<td id="S3.T1.8.8.15.7.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.349</td>
<td id="S3.T1.8.8.15.7.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">6.717</td>
<td id="S3.T1.8.8.15.7.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.15.7.7.1" class="ltx_text ltx_font_bold">0.210</span></td>
</tr>
<tr id="S3.T1.8.8.16.8" class="ltx_tr">
<th id="S3.T1.8.8.16.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Generalized loss (Ours)</th>
<td id="S3.T1.8.8.16.8.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.16.8.2.1" class="ltx_text ltx_font_bold">0.579</span></td>
<td id="S3.T1.8.8.16.8.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.16.8.3.1" class="ltx_text ltx_font_bold">0.822</span></td>
<td id="S3.T1.8.8.16.8.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.16.8.4.1" class="ltx_text ltx_font_bold">0.916</span></td>
<td id="S3.T1.8.8.16.8.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.16.8.5.1" class="ltx_text ltx_font_bold">0.336</span></td>
<td id="S3.T1.8.8.16.8.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.16.8.6.1" class="ltx_text ltx_font_bold">6.632</span></td>
<td id="S3.T1.8.8.16.8.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.213</td>
</tr>
<tr id="S3.T1.8.8.17.9" class="ltx_tr">
<th id="S3.T1.8.8.17.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;" colspan="7">Test on Training data</th>
</tr>
<tr id="S3.T1.8.8.18.10" class="ltx_tr">
<th id="S3.T1.8.8.18.10.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">Self-supervised <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>
</th>
<td id="S3.T1.8.8.18.10.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.565</td>
<td id="S3.T1.8.8.18.10.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.819</td>
<td id="S3.T1.8.8.18.10.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.912</td>
<td id="S3.T1.8.8.18.10.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.342</td>
<td id="S3.T1.8.8.18.10.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">3.602</td>
<td id="S3.T1.8.8.18.10.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.204</td>
</tr>
<tr id="S3.T1.8.8.19.11" class="ltx_tr">
<th id="S3.T1.8.8.19.11.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Direct supervision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>
</th>
<td id="S3.T1.8.8.19.11.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.19.11.2.1" class="ltx_text ltx_font_bold">0.961</span></td>
<td id="S3.T1.8.8.19.11.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.19.11.3.1" class="ltx_text ltx_font_bold">0.992</span></td>
<td id="S3.T1.8.8.19.11.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.19.11.4.1" class="ltx_text ltx_font_bold">0.996</span></td>
<td id="S3.T1.8.8.19.11.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.19.11.5.1" class="ltx_text ltx_font_bold">0.064</span></td>
<td id="S3.T1.8.8.19.11.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.19.11.6.1" class="ltx_text ltx_font_bold">0.465</span></td>
<td id="S3.T1.8.8.19.11.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T1.8.8.19.11.7.1" class="ltx_text ltx_font_bold">0.059</span></td>
</tr>
<tr id="S3.T1.8.8.20.12" class="ltx_tr">
<th id="S3.T1.8.8.20.12.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Generalized loss (Ours)</th>
<td id="S3.T1.8.8.20.12.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.791</td>
<td id="S3.T1.8.8.20.12.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.916</td>
<td id="S3.T1.8.8.20.12.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">0.956</td>
<td id="S3.T1.8.8.20.12.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.168</td>
<td id="S3.T1.8.8.20.12.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">1.313</td>
<td id="S3.T1.8.8.20.12.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.114</td>
</tr>
<tr id="S3.T1.8.8.21.13" class="ltx_tr">
<th id="S3.T1.8.8.21.13.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">
<div id="S3.T1.8.8.21.13.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:111.0pt;height:6.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-6.2pt,0.4pt) scale(0.9,0.9) ;">
<p id="S3.T1.8.8.21.13.1.1.1" class="ltx_p">*Numbers are dimensionless</p>
</span></div>
</th>
<td id="S3.T1.8.8.21.13.2" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
<td id="S3.T1.8.8.21.13.3" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
<td id="S3.T1.8.8.21.13.4" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
<td id="S3.T1.8.8.21.13.5" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
<td id="S3.T1.8.8.21.13.6" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
<td id="S3.T1.8.8.21.13.7" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">Table <a href="#S3.T1" title="Table I ‣ III-B Depth estimation evaluation ‣ III Results and Discussion ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a> shows the objective evaluation results. Since the predicted depth is only up to scale, we scaled the predicted depth by minimizing the average RMSE for the entire sequence.
From Table <a href="#S3.T1" title="Table I ‣ III-B Depth estimation evaluation ‣ III Results and Discussion ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>, we can see that our proposed method has better performance compared to the self-supervised method by a fair margin. In addition, our proposed method generally shows better performance compared to the direct supervision method. Even though our proposed method comes seconds in the median relative error, the values are very close. In addition to the testing on the test data (Subject 1 and 2), we also tested each of the trained networks on the training data. As we can see, the direct supervision has the best results for this evaluation. However, it can be noticed that the performance of the direct supervision on the test data falls sharply compared to its performance on the training data. It shows that the depth estimation network trained with the direct supervision has poor generalization to the data that have never been seen during the training.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.1" class="ltx_p">Figure <a href="#S3.F4" title="Figure 4 ‣ III-A Implementation details ‣ III Results and Discussion ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows the resulting color point clouds by fusing a single image with its predicted depth. As we can see, the resulting point cloud from our predicted depth is very close to the point cloud from the reference depth.</p>
</div>
<figure id="S3.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T2.4.1.1" class="ltx_text" style="font-size:90%;">Table II</span>: </span><span id="S3.T2.5.2" class="ltx_text" style="font-size:90%;">Pose estimation objective evaluation.</span></figcaption>
<div id="S3.T2.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:244.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-22.3pt,12.6pt) scale(0.906626243588542,0.906626243588542) ;">
<table id="S3.T2.2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T2.2.2.2" class="ltx_tr">
<th id="S3.T2.2.2.2.3" class="ltx_td ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></th>
<td id="S3.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;" colspan="3">Rotation error <math id="S3.T2.1.1.1.1.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S3.T2.1.1.1.1.m1.1a"><mo stretchy="false" id="S3.T2.1.1.1.1.m1.1.1" xref="S3.T2.1.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S3.T2.1.1.1.1.m1.1b"><ci id="S3.T2.1.1.1.1.m1.1.1.cmml" xref="S3.T2.1.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.1.1.1.1.m1.1c">\downarrow</annotation></semantics></math>
</td>
<td id="S3.T2.2.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;" colspan="3">Translation error <math id="S3.T2.2.2.2.2.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S3.T2.2.2.2.2.m1.1a"><mo stretchy="false" id="S3.T2.2.2.2.2.m1.1.1" xref="S3.T2.2.2.2.2.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S3.T2.2.2.2.2.m1.1b"><ci id="S3.T2.2.2.2.2.m1.1.1.cmml" xref="S3.T2.2.2.2.2.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.2.2.2.2.m1.1c">\downarrow</annotation></semantics></math>
</td>
</tr>
<tr id="S3.T2.2.2.3.1" class="ltx_tr">
<th id="S3.T2.2.2.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">Method</th>
<td id="S3.T2.2.2.3.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">mean</td>
<td id="S3.T2.2.2.3.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">max</td>
<td id="S3.T2.2.2.3.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">median</td>
<td id="S3.T2.2.2.3.1.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">mean</td>
<td id="S3.T2.2.2.3.1.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">max</td>
<td id="S3.T2.2.2.3.1.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">median</td>
</tr>
<tr id="S3.T2.2.2.4.2" class="ltx_tr">
<th id="S3.T2.2.2.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;" colspan="7">Test on Subject 1</th>
</tr>
<tr id="S3.T2.2.2.5.3" class="ltx_tr">
<th id="S3.T2.2.2.5.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">Self-supervised <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>
</th>
<td id="S3.T2.2.2.5.3.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.562</td>
<td id="S3.T2.2.2.5.3.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.809</td>
<td id="S3.T2.2.2.5.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.519</td>
<td id="S3.T2.2.2.5.3.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.253</td>
<td id="S3.T2.2.2.5.3.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.531</td>
<td id="S3.T2.2.2.5.3.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.211</td>
</tr>
<tr id="S3.T2.2.2.6.4" class="ltx_tr">
<th id="S3.T2.2.2.6.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Direct supervision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>
</th>
<td id="S3.T2.2.2.6.4.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.579</td>
<td id="S3.T2.2.2.6.4.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.887</td>
<td id="S3.T2.2.2.6.4.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">0.539</td>
<td id="S3.T2.2.2.6.4.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.274</td>
<td id="S3.T2.2.2.6.4.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.555</td>
<td id="S3.T2.2.2.6.4.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.226</td>
</tr>
<tr id="S3.T2.2.2.7.5" class="ltx_tr">
<th id="S3.T2.2.2.7.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Generalized loss (Ours)</th>
<td id="S3.T2.2.2.7.5.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.7.5.2.1" class="ltx_text ltx_font_bold">0.458</span></td>
<td id="S3.T2.2.2.7.5.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.7.5.3.1" class="ltx_text ltx_font_bold">0.714</span></td>
<td id="S3.T2.2.2.7.5.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.7.5.4.1" class="ltx_text ltx_font_bold">0.426</span></td>
<td id="S3.T2.2.2.7.5.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.7.5.5.1" class="ltx_text ltx_font_bold">0.222</span></td>
<td id="S3.T2.2.2.7.5.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.7.5.6.1" class="ltx_text ltx_font_bold">0.471</span></td>
<td id="S3.T2.2.2.7.5.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.7.5.7.1" class="ltx_text ltx_font_bold">0.178</span></td>
</tr>
<tr id="S3.T2.2.2.8.6" class="ltx_tr">
<th id="S3.T2.2.2.8.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;" colspan="7">Test on Subject 2</th>
</tr>
<tr id="S3.T2.2.2.9.7" class="ltx_tr">
<th id="S3.T2.2.2.9.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">Self-supervised <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>
</th>
<td id="S3.T2.2.2.9.7.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.581</td>
<td id="S3.T2.2.2.9.7.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.802</td>
<td id="S3.T2.2.2.9.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.564</td>
<td id="S3.T2.2.2.9.7.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.283</td>
<td id="S3.T2.2.2.9.7.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.587</td>
<td id="S3.T2.2.2.9.7.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.239</td>
</tr>
<tr id="S3.T2.2.2.10.8" class="ltx_tr">
<th id="S3.T2.2.2.10.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Direct supervision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>
</th>
<td id="S3.T2.2.2.10.8.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.606</td>
<td id="S3.T2.2.2.10.8.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.836</td>
<td id="S3.T2.2.2.10.8.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">0.588</td>
<td id="S3.T2.2.2.10.8.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.296</td>
<td id="S3.T2.2.2.10.8.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.578</td>
<td id="S3.T2.2.2.10.8.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.243</td>
</tr>
<tr id="S3.T2.2.2.11.9" class="ltx_tr">
<th id="S3.T2.2.2.11.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Generalized loss (Ours)</th>
<td id="S3.T2.2.2.11.9.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.11.9.2.1" class="ltx_text ltx_font_bold">0.517</span></td>
<td id="S3.T2.2.2.11.9.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.11.9.3.1" class="ltx_text ltx_font_bold">0.742</span></td>
<td id="S3.T2.2.2.11.9.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.11.9.4.1" class="ltx_text ltx_font_bold">0.491</span></td>
<td id="S3.T2.2.2.11.9.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.11.9.5.1" class="ltx_text ltx_font_bold">0.246</span></td>
<td id="S3.T2.2.2.11.9.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.11.9.6.1" class="ltx_text ltx_font_bold">0.495</span></td>
<td id="S3.T2.2.2.11.9.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.11.9.7.1" class="ltx_text ltx_font_bold">0.206</span></td>
</tr>
<tr id="S3.T2.2.2.12.10" class="ltx_tr">
<th id="S3.T2.2.2.12.10.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;" colspan="7">Test on Training data</th>
</tr>
<tr id="S3.T2.2.2.13.11" class="ltx_tr">
<th id="S3.T2.2.2.13.11.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">Self-supervised <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>
</th>
<td id="S3.T2.2.2.13.11.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.554</td>
<td id="S3.T2.2.2.13.11.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.769</td>
<td id="S3.T2.2.2.13.11.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.511</td>
<td id="S3.T2.2.2.13.11.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.276</td>
<td id="S3.T2.2.2.13.11.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.585</td>
<td id="S3.T2.2.2.13.11.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">0.231</td>
</tr>
<tr id="S3.T2.2.2.14.12" class="ltx_tr">
<th id="S3.T2.2.2.14.12.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Direct supervision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>
</th>
<td id="S3.T2.2.2.14.12.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.14.12.2.1" class="ltx_text ltx_font_bold">0.195</span></td>
<td id="S3.T2.2.2.14.12.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.14.12.3.1" class="ltx_text ltx_font_bold">0.324</span></td>
<td id="S3.T2.2.2.14.12.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.14.12.4.1" class="ltx_text ltx_font_bold">0.172</span></td>
<td id="S3.T2.2.2.14.12.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.14.12.5.1" class="ltx_text ltx_font_bold">0.116</span></td>
<td id="S3.T2.2.2.14.12.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.14.12.6.1" class="ltx_text ltx_font_bold">0.265</span></td>
<td id="S3.T2.2.2.14.12.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;"><span id="S3.T2.2.2.14.12.7.1" class="ltx_text ltx_font_bold">0.093</span></td>
</tr>
<tr id="S3.T2.2.2.15.13" class="ltx_tr">
<th id="S3.T2.2.2.15.13.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">Generalized loss (Ours)</th>
<td id="S3.T2.2.2.15.13.2" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.385</td>
<td id="S3.T2.2.2.15.13.3" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.544</td>
<td id="S3.T2.2.2.15.13.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-top:2pt;padding-bottom:2pt;">0.355</td>
<td id="S3.T2.2.2.15.13.5" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.182</td>
<td id="S3.T2.2.2.15.13.6" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.371</td>
<td id="S3.T2.2.2.15.13.7" class="ltx_td ltx_align_center" style="padding-top:2pt;padding-bottom:2pt;">0.154</td>
</tr>
<tr id="S3.T2.2.2.16.14" class="ltx_tr">
<th id="S3.T2.2.2.16.14.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;">
<div id="S3.T2.2.2.16.14.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:111.0pt;height:6.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-6.2pt,0.4pt) scale(0.9,0.9) ;">
<p id="S3.T2.2.2.16.14.1.1.1" class="ltx_p">*Numbers are dimensionless</p>
</span></div>
</th>
<td id="S3.T2.2.2.16.14.2" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
<td id="S3.T2.2.2.16.14.3" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
<td id="S3.T2.2.2.16.14.4" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
<td id="S3.T2.2.2.16.14.5" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
<td id="S3.T2.2.2.16.14.6" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
<td id="S3.T2.2.2.16.14.7" class="ltx_td ltx_border_t" style="padding-top:2pt;padding-bottom:2pt;"></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS3.4.1.1" class="ltx_text">III-C</span> </span><span id="S3.SS3.5.2" class="ltx_text ltx_font_italic">Pose estimation evaluation</span>
</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.3" class="ltx_p">For pose estimation evaluation, we first split the full sequences of Subject 1 and 2 into the groups of 150 consecutive frames. The predicted poses were then aligned with the reference poses using Umeyama transform <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>.
We then used absolute pose error (APE) to evaluate the translation and rotation components of the predicted poses <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="\hat{P}\in\textrm{SE(3)}" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mrow id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><mover accent="true" id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2.2" xref="S3.SS3.p1.1.m1.1.1.2.2.cmml">P</mi><mo id="S3.SS3.p1.1.m1.1.1.2.1" xref="S3.SS3.p1.1.m1.1.1.2.1.cmml">^</mo></mover><mo id="S3.SS3.p1.1.m1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.cmml">∈</mo><mtext id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3a.cmml">SE(3)</mtext></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><in id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1"></in><apply id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2"><ci id="S3.SS3.p1.1.m1.1.1.2.1.cmml" xref="S3.SS3.p1.1.m1.1.1.2.1">^</ci><ci id="S3.SS3.p1.1.m1.1.1.2.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2.2">𝑃</ci></apply><ci id="S3.SS3.p1.1.m1.1.1.3a.cmml" xref="S3.SS3.p1.1.m1.1.1.3"><mtext id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3">SE(3)</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">\hat{P}\in\textrm{SE(3)}</annotation></semantics></math> against the reference poses <math id="S3.SS3.p1.2.m2.1" class="ltx_Math" alttext="P\in\textrm{SE(3)}" display="inline"><semantics id="S3.SS3.p1.2.m2.1a"><mrow id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml"><mi id="S3.SS3.p1.2.m2.1.1.2" xref="S3.SS3.p1.2.m2.1.1.2.cmml">P</mi><mo id="S3.SS3.p1.2.m2.1.1.1" xref="S3.SS3.p1.2.m2.1.1.1.cmml">∈</mo><mtext id="S3.SS3.p1.2.m2.1.1.3" xref="S3.SS3.p1.2.m2.1.1.3a.cmml">SE(3)</mtext></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1"><in id="S3.SS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1.1"></in><ci id="S3.SS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2">𝑃</ci><ci id="S3.SS3.p1.2.m2.1.1.3a.cmml" xref="S3.SS3.p1.2.m2.1.1.3"><mtext id="S3.SS3.p1.2.m2.1.1.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3">SE(3)</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">P\in\textrm{SE(3)}</annotation></semantics></math>. Given the absolute relative pose between a pair of predicted pose and its ground truth <math id="S3.SS3.p1.3.m3.1" class="ltx_Math" alttext="E=P^{-1}\hat{P}" display="inline"><semantics id="S3.SS3.p1.3.m3.1a"><mrow id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml"><mi id="S3.SS3.p1.3.m3.1.1.2" xref="S3.SS3.p1.3.m3.1.1.2.cmml">E</mi><mo id="S3.SS3.p1.3.m3.1.1.1" xref="S3.SS3.p1.3.m3.1.1.1.cmml">=</mo><mrow id="S3.SS3.p1.3.m3.1.1.3" xref="S3.SS3.p1.3.m3.1.1.3.cmml"><msup id="S3.SS3.p1.3.m3.1.1.3.2" xref="S3.SS3.p1.3.m3.1.1.3.2.cmml"><mi id="S3.SS3.p1.3.m3.1.1.3.2.2" xref="S3.SS3.p1.3.m3.1.1.3.2.2.cmml">P</mi><mrow id="S3.SS3.p1.3.m3.1.1.3.2.3" xref="S3.SS3.p1.3.m3.1.1.3.2.3.cmml"><mo id="S3.SS3.p1.3.m3.1.1.3.2.3a" xref="S3.SS3.p1.3.m3.1.1.3.2.3.cmml">−</mo><mn id="S3.SS3.p1.3.m3.1.1.3.2.3.2" xref="S3.SS3.p1.3.m3.1.1.3.2.3.2.cmml">1</mn></mrow></msup><mo lspace="0em" rspace="0em" id="S3.SS3.p1.3.m3.1.1.3.1" xref="S3.SS3.p1.3.m3.1.1.3.1.cmml">​</mo><mover accent="true" id="S3.SS3.p1.3.m3.1.1.3.3" xref="S3.SS3.p1.3.m3.1.1.3.3.cmml"><mi id="S3.SS3.p1.3.m3.1.1.3.3.2" xref="S3.SS3.p1.3.m3.1.1.3.3.2.cmml">P</mi><mo id="S3.SS3.p1.3.m3.1.1.3.3.1" xref="S3.SS3.p1.3.m3.1.1.3.3.1.cmml">^</mo></mover></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><apply id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1"><eq id="S3.SS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1.1"></eq><ci id="S3.SS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1.2">𝐸</ci><apply id="S3.SS3.p1.3.m3.1.1.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3"><times id="S3.SS3.p1.3.m3.1.1.3.1.cmml" xref="S3.SS3.p1.3.m3.1.1.3.1"></times><apply id="S3.SS3.p1.3.m3.1.1.3.2.cmml" xref="S3.SS3.p1.3.m3.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.3.2.1.cmml" xref="S3.SS3.p1.3.m3.1.1.3.2">superscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.3.2.2.cmml" xref="S3.SS3.p1.3.m3.1.1.3.2.2">𝑃</ci><apply id="S3.SS3.p1.3.m3.1.1.3.2.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3.2.3"><minus id="S3.SS3.p1.3.m3.1.1.3.2.3.1.cmml" xref="S3.SS3.p1.3.m3.1.1.3.2.3"></minus><cn type="integer" id="S3.SS3.p1.3.m3.1.1.3.2.3.2.cmml" xref="S3.SS3.p1.3.m3.1.1.3.2.3.2">1</cn></apply></apply><apply id="S3.SS3.p1.3.m3.1.1.3.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3.3"><ci id="S3.SS3.p1.3.m3.1.1.3.3.1.cmml" xref="S3.SS3.p1.3.m3.1.1.3.3.1">^</ci><ci id="S3.SS3.p1.3.m3.1.1.3.3.2.cmml" xref="S3.SS3.p1.3.m3.1.1.3.3.2">𝑃</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">E=P^{-1}\hat{P}</annotation></semantics></math>, the translation and the rotation errors can be defined as</p>
<table id="S3.E14" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E14.m1.2" class="ltx_Math" alttext="APE_{rot}=\|\textrm{rot}(E)-I_{3\times 3}\|_{F}" display="block"><semantics id="S3.E14.m1.2a"><mrow id="S3.E14.m1.2.2" xref="S3.E14.m1.2.2.cmml"><mrow id="S3.E14.m1.2.2.3" xref="S3.E14.m1.2.2.3.cmml"><mi id="S3.E14.m1.2.2.3.2" xref="S3.E14.m1.2.2.3.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.2.2.3.1" xref="S3.E14.m1.2.2.3.1.cmml">​</mo><mi id="S3.E14.m1.2.2.3.3" xref="S3.E14.m1.2.2.3.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.2.2.3.1a" xref="S3.E14.m1.2.2.3.1.cmml">​</mo><msub id="S3.E14.m1.2.2.3.4" xref="S3.E14.m1.2.2.3.4.cmml"><mi id="S3.E14.m1.2.2.3.4.2" xref="S3.E14.m1.2.2.3.4.2.cmml">E</mi><mrow id="S3.E14.m1.2.2.3.4.3" xref="S3.E14.m1.2.2.3.4.3.cmml"><mi id="S3.E14.m1.2.2.3.4.3.2" xref="S3.E14.m1.2.2.3.4.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.2.2.3.4.3.1" xref="S3.E14.m1.2.2.3.4.3.1.cmml">​</mo><mi id="S3.E14.m1.2.2.3.4.3.3" xref="S3.E14.m1.2.2.3.4.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.2.2.3.4.3.1a" xref="S3.E14.m1.2.2.3.4.3.1.cmml">​</mo><mi id="S3.E14.m1.2.2.3.4.3.4" xref="S3.E14.m1.2.2.3.4.3.4.cmml">t</mi></mrow></msub></mrow><mo id="S3.E14.m1.2.2.2" xref="S3.E14.m1.2.2.2.cmml">=</mo><msub id="S3.E14.m1.2.2.1" xref="S3.E14.m1.2.2.1.cmml"><mrow id="S3.E14.m1.2.2.1.1.1" xref="S3.E14.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.E14.m1.2.2.1.1.1.2" xref="S3.E14.m1.2.2.1.1.2.1.cmml">‖</mo><mrow id="S3.E14.m1.2.2.1.1.1.1" xref="S3.E14.m1.2.2.1.1.1.1.cmml"><mrow id="S3.E14.m1.2.2.1.1.1.1.2" xref="S3.E14.m1.2.2.1.1.1.1.2.cmml"><mtext id="S3.E14.m1.2.2.1.1.1.1.2.2" xref="S3.E14.m1.2.2.1.1.1.1.2.2a.cmml">rot</mtext><mo lspace="0em" rspace="0em" id="S3.E14.m1.2.2.1.1.1.1.2.1" xref="S3.E14.m1.2.2.1.1.1.1.2.1.cmml">​</mo><mrow id="S3.E14.m1.2.2.1.1.1.1.2.3.2" xref="S3.E14.m1.2.2.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E14.m1.2.2.1.1.1.1.2.3.2.1" xref="S3.E14.m1.2.2.1.1.1.1.2.cmml">(</mo><mi id="S3.E14.m1.1.1" xref="S3.E14.m1.1.1.cmml">E</mi><mo stretchy="false" id="S3.E14.m1.2.2.1.1.1.1.2.3.2.2" xref="S3.E14.m1.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E14.m1.2.2.1.1.1.1.1" xref="S3.E14.m1.2.2.1.1.1.1.1.cmml">−</mo><msub id="S3.E14.m1.2.2.1.1.1.1.3" xref="S3.E14.m1.2.2.1.1.1.1.3.cmml"><mi id="S3.E14.m1.2.2.1.1.1.1.3.2" xref="S3.E14.m1.2.2.1.1.1.1.3.2.cmml">I</mi><mrow id="S3.E14.m1.2.2.1.1.1.1.3.3" xref="S3.E14.m1.2.2.1.1.1.1.3.3.cmml"><mn id="S3.E14.m1.2.2.1.1.1.1.3.3.2" xref="S3.E14.m1.2.2.1.1.1.1.3.3.2.cmml">3</mn><mo lspace="0.222em" rspace="0.222em" id="S3.E14.m1.2.2.1.1.1.1.3.3.1" xref="S3.E14.m1.2.2.1.1.1.1.3.3.1.cmml">×</mo><mn id="S3.E14.m1.2.2.1.1.1.1.3.3.3" xref="S3.E14.m1.2.2.1.1.1.1.3.3.3.cmml">3</mn></mrow></msub></mrow><mo stretchy="false" id="S3.E14.m1.2.2.1.1.1.3" xref="S3.E14.m1.2.2.1.1.2.1.cmml">‖</mo></mrow><mi id="S3.E14.m1.2.2.1.3" xref="S3.E14.m1.2.2.1.3.cmml">F</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.E14.m1.2b"><apply id="S3.E14.m1.2.2.cmml" xref="S3.E14.m1.2.2"><eq id="S3.E14.m1.2.2.2.cmml" xref="S3.E14.m1.2.2.2"></eq><apply id="S3.E14.m1.2.2.3.cmml" xref="S3.E14.m1.2.2.3"><times id="S3.E14.m1.2.2.3.1.cmml" xref="S3.E14.m1.2.2.3.1"></times><ci id="S3.E14.m1.2.2.3.2.cmml" xref="S3.E14.m1.2.2.3.2">𝐴</ci><ci id="S3.E14.m1.2.2.3.3.cmml" xref="S3.E14.m1.2.2.3.3">𝑃</ci><apply id="S3.E14.m1.2.2.3.4.cmml" xref="S3.E14.m1.2.2.3.4"><csymbol cd="ambiguous" id="S3.E14.m1.2.2.3.4.1.cmml" xref="S3.E14.m1.2.2.3.4">subscript</csymbol><ci id="S3.E14.m1.2.2.3.4.2.cmml" xref="S3.E14.m1.2.2.3.4.2">𝐸</ci><apply id="S3.E14.m1.2.2.3.4.3.cmml" xref="S3.E14.m1.2.2.3.4.3"><times id="S3.E14.m1.2.2.3.4.3.1.cmml" xref="S3.E14.m1.2.2.3.4.3.1"></times><ci id="S3.E14.m1.2.2.3.4.3.2.cmml" xref="S3.E14.m1.2.2.3.4.3.2">𝑟</ci><ci id="S3.E14.m1.2.2.3.4.3.3.cmml" xref="S3.E14.m1.2.2.3.4.3.3">𝑜</ci><ci id="S3.E14.m1.2.2.3.4.3.4.cmml" xref="S3.E14.m1.2.2.3.4.3.4">𝑡</ci></apply></apply></apply><apply id="S3.E14.m1.2.2.1.cmml" xref="S3.E14.m1.2.2.1"><csymbol cd="ambiguous" id="S3.E14.m1.2.2.1.2.cmml" xref="S3.E14.m1.2.2.1">subscript</csymbol><apply id="S3.E14.m1.2.2.1.1.2.cmml" xref="S3.E14.m1.2.2.1.1.1"><csymbol cd="latexml" id="S3.E14.m1.2.2.1.1.2.1.cmml" xref="S3.E14.m1.2.2.1.1.1.2">norm</csymbol><apply id="S3.E14.m1.2.2.1.1.1.1.cmml" xref="S3.E14.m1.2.2.1.1.1.1"><minus id="S3.E14.m1.2.2.1.1.1.1.1.cmml" xref="S3.E14.m1.2.2.1.1.1.1.1"></minus><apply id="S3.E14.m1.2.2.1.1.1.1.2.cmml" xref="S3.E14.m1.2.2.1.1.1.1.2"><times id="S3.E14.m1.2.2.1.1.1.1.2.1.cmml" xref="S3.E14.m1.2.2.1.1.1.1.2.1"></times><ci id="S3.E14.m1.2.2.1.1.1.1.2.2a.cmml" xref="S3.E14.m1.2.2.1.1.1.1.2.2"><mtext id="S3.E14.m1.2.2.1.1.1.1.2.2.cmml" xref="S3.E14.m1.2.2.1.1.1.1.2.2">rot</mtext></ci><ci id="S3.E14.m1.1.1.cmml" xref="S3.E14.m1.1.1">𝐸</ci></apply><apply id="S3.E14.m1.2.2.1.1.1.1.3.cmml" xref="S3.E14.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E14.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E14.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E14.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E14.m1.2.2.1.1.1.1.3.2">𝐼</ci><apply id="S3.E14.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E14.m1.2.2.1.1.1.1.3.3"><times id="S3.E14.m1.2.2.1.1.1.1.3.3.1.cmml" xref="S3.E14.m1.2.2.1.1.1.1.3.3.1"></times><cn type="integer" id="S3.E14.m1.2.2.1.1.1.1.3.3.2.cmml" xref="S3.E14.m1.2.2.1.1.1.1.3.3.2">3</cn><cn type="integer" id="S3.E14.m1.2.2.1.1.1.1.3.3.3.cmml" xref="S3.E14.m1.2.2.1.1.1.1.3.3.3">3</cn></apply></apply></apply></apply><ci id="S3.E14.m1.2.2.1.3.cmml" xref="S3.E14.m1.2.2.1.3">𝐹</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E14.m1.2c">APE_{rot}=\|\textrm{rot}(E)-I_{3\times 3}\|_{F}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(14)</span></td>
</tr></tbody>
</table>
<table id="S3.E15" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E15.m1.2" class="ltx_Math" alttext="APE_{trans}=\|\textrm{trans}(E)\|_{2}" display="block"><semantics id="S3.E15.m1.2a"><mrow id="S3.E15.m1.2.2" xref="S3.E15.m1.2.2.cmml"><mrow id="S3.E15.m1.2.2.3" xref="S3.E15.m1.2.2.3.cmml"><mi id="S3.E15.m1.2.2.3.2" xref="S3.E15.m1.2.2.3.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.2.2.3.1" xref="S3.E15.m1.2.2.3.1.cmml">​</mo><mi id="S3.E15.m1.2.2.3.3" xref="S3.E15.m1.2.2.3.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.2.2.3.1a" xref="S3.E15.m1.2.2.3.1.cmml">​</mo><msub id="S3.E15.m1.2.2.3.4" xref="S3.E15.m1.2.2.3.4.cmml"><mi id="S3.E15.m1.2.2.3.4.2" xref="S3.E15.m1.2.2.3.4.2.cmml">E</mi><mrow id="S3.E15.m1.2.2.3.4.3" xref="S3.E15.m1.2.2.3.4.3.cmml"><mi id="S3.E15.m1.2.2.3.4.3.2" xref="S3.E15.m1.2.2.3.4.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.2.2.3.4.3.1" xref="S3.E15.m1.2.2.3.4.3.1.cmml">​</mo><mi id="S3.E15.m1.2.2.3.4.3.3" xref="S3.E15.m1.2.2.3.4.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.2.2.3.4.3.1a" xref="S3.E15.m1.2.2.3.4.3.1.cmml">​</mo><mi id="S3.E15.m1.2.2.3.4.3.4" xref="S3.E15.m1.2.2.3.4.3.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.2.2.3.4.3.1b" xref="S3.E15.m1.2.2.3.4.3.1.cmml">​</mo><mi id="S3.E15.m1.2.2.3.4.3.5" xref="S3.E15.m1.2.2.3.4.3.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E15.m1.2.2.3.4.3.1c" xref="S3.E15.m1.2.2.3.4.3.1.cmml">​</mo><mi id="S3.E15.m1.2.2.3.4.3.6" xref="S3.E15.m1.2.2.3.4.3.6.cmml">s</mi></mrow></msub></mrow><mo id="S3.E15.m1.2.2.2" xref="S3.E15.m1.2.2.2.cmml">=</mo><msub id="S3.E15.m1.2.2.1" xref="S3.E15.m1.2.2.1.cmml"><mrow id="S3.E15.m1.2.2.1.1.1" xref="S3.E15.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.E15.m1.2.2.1.1.1.2" xref="S3.E15.m1.2.2.1.1.2.1.cmml">‖</mo><mrow id="S3.E15.m1.2.2.1.1.1.1" xref="S3.E15.m1.2.2.1.1.1.1.cmml"><mtext id="S3.E15.m1.2.2.1.1.1.1.2" xref="S3.E15.m1.2.2.1.1.1.1.2a.cmml">trans</mtext><mo lspace="0em" rspace="0em" id="S3.E15.m1.2.2.1.1.1.1.1" xref="S3.E15.m1.2.2.1.1.1.1.1.cmml">​</mo><mrow id="S3.E15.m1.2.2.1.1.1.1.3.2" xref="S3.E15.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E15.m1.2.2.1.1.1.1.3.2.1" xref="S3.E15.m1.2.2.1.1.1.1.cmml">(</mo><mi id="S3.E15.m1.1.1" xref="S3.E15.m1.1.1.cmml">E</mi><mo stretchy="false" id="S3.E15.m1.2.2.1.1.1.1.3.2.2" xref="S3.E15.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E15.m1.2.2.1.1.1.3" xref="S3.E15.m1.2.2.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E15.m1.2.2.1.3" xref="S3.E15.m1.2.2.1.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.E15.m1.2b"><apply id="S3.E15.m1.2.2.cmml" xref="S3.E15.m1.2.2"><eq id="S3.E15.m1.2.2.2.cmml" xref="S3.E15.m1.2.2.2"></eq><apply id="S3.E15.m1.2.2.3.cmml" xref="S3.E15.m1.2.2.3"><times id="S3.E15.m1.2.2.3.1.cmml" xref="S3.E15.m1.2.2.3.1"></times><ci id="S3.E15.m1.2.2.3.2.cmml" xref="S3.E15.m1.2.2.3.2">𝐴</ci><ci id="S3.E15.m1.2.2.3.3.cmml" xref="S3.E15.m1.2.2.3.3">𝑃</ci><apply id="S3.E15.m1.2.2.3.4.cmml" xref="S3.E15.m1.2.2.3.4"><csymbol cd="ambiguous" id="S3.E15.m1.2.2.3.4.1.cmml" xref="S3.E15.m1.2.2.3.4">subscript</csymbol><ci id="S3.E15.m1.2.2.3.4.2.cmml" xref="S3.E15.m1.2.2.3.4.2">𝐸</ci><apply id="S3.E15.m1.2.2.3.4.3.cmml" xref="S3.E15.m1.2.2.3.4.3"><times id="S3.E15.m1.2.2.3.4.3.1.cmml" xref="S3.E15.m1.2.2.3.4.3.1"></times><ci id="S3.E15.m1.2.2.3.4.3.2.cmml" xref="S3.E15.m1.2.2.3.4.3.2">𝑡</ci><ci id="S3.E15.m1.2.2.3.4.3.3.cmml" xref="S3.E15.m1.2.2.3.4.3.3">𝑟</ci><ci id="S3.E15.m1.2.2.3.4.3.4.cmml" xref="S3.E15.m1.2.2.3.4.3.4">𝑎</ci><ci id="S3.E15.m1.2.2.3.4.3.5.cmml" xref="S3.E15.m1.2.2.3.4.3.5">𝑛</ci><ci id="S3.E15.m1.2.2.3.4.3.6.cmml" xref="S3.E15.m1.2.2.3.4.3.6">𝑠</ci></apply></apply></apply><apply id="S3.E15.m1.2.2.1.cmml" xref="S3.E15.m1.2.2.1"><csymbol cd="ambiguous" id="S3.E15.m1.2.2.1.2.cmml" xref="S3.E15.m1.2.2.1">subscript</csymbol><apply id="S3.E15.m1.2.2.1.1.2.cmml" xref="S3.E15.m1.2.2.1.1.1"><csymbol cd="latexml" id="S3.E15.m1.2.2.1.1.2.1.cmml" xref="S3.E15.m1.2.2.1.1.1.2">norm</csymbol><apply id="S3.E15.m1.2.2.1.1.1.1.cmml" xref="S3.E15.m1.2.2.1.1.1.1"><times id="S3.E15.m1.2.2.1.1.1.1.1.cmml" xref="S3.E15.m1.2.2.1.1.1.1.1"></times><ci id="S3.E15.m1.2.2.1.1.1.1.2a.cmml" xref="S3.E15.m1.2.2.1.1.1.1.2"><mtext id="S3.E15.m1.2.2.1.1.1.1.2.cmml" xref="S3.E15.m1.2.2.1.1.1.1.2">trans</mtext></ci><ci id="S3.E15.m1.1.1.cmml" xref="S3.E15.m1.1.1">𝐸</ci></apply></apply><cn type="integer" id="S3.E15.m1.2.2.1.3.cmml" xref="S3.E15.m1.2.2.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E15.m1.2c">APE_{trans}=\|\textrm{trans}(E)\|_{2}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(15)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p1.4" class="ltx_p">where <math id="S3.SS3.p1.4.m1.1" class="ltx_math_unparsed" alttext="\|.\|_{F}" display="inline"><semantics id="S3.SS3.p1.4.m1.1a"><mrow id="S3.SS3.p1.4.m1.1b"><mo rspace="0.0835em" id="S3.SS3.p1.4.m1.1.1">∥</mo><mo lspace="0.0835em" rspace="0.0835em" id="S3.SS3.p1.4.m1.1.2">.</mo><msub id="S3.SS3.p1.4.m1.1.3"><mo lspace="0.0835em" id="S3.SS3.p1.4.m1.1.3.2">∥</mo><mi id="S3.SS3.p1.4.m1.1.3.3">F</mi></msub></mrow><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m1.1c">\|.\|_{F}</annotation></semantics></math> is Frobenius norm. We then averaged all the obtained APEs over all of the evaluation points. The objective evaluation results can be seen in Table <a href="#S3.T2" title="Table II ‣ III-B Depth estimation evaluation ‣ III Results and Discussion ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a>.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.1" class="ltx_p">From Table <a href="#S3.T2" title="Table II ‣ III-B Depth estimation evaluation ‣ III Results and Discussion ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a>, we can see that, based on the evaluation on the test data, our proposed generalized loss has better performance compared to the self-supervised and the direct supervision methods. Even though it is evident that the direct supervision has the best result when tested on the training data, its performance drops sharply when tested on the test data. This characteristic is consistent with the results previously shown in the depth estimation evaluation. This is because that the direct supervision losses induce poor generalization performance. In addition, even without the intricate search of the term-balancing weights, our method could achieve the best result for the test data.</p>
</div>
<div id="S3.SS3.p3" class="ltx_para">
<p id="S3.SS3.p3.1" class="ltx_p">Finally, we show the trajectory prediction results in Figure <a href="#S3.F5" title="Figure 5 ‣ III-C Pose estimation evaluation ‣ III Results and Discussion ‣ Learning-Based Depth and Pose Estimation for Monocular Endoscope with Loss Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, including the trajectory prediction result from ORB-SLAM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>. As we can see, our prediction result is the closest to the reference, while ORB-SLAM could only predict the poses of 16 frames among the 150 input frames.</p>
</div>
<figure id="S3.F5" class="ltx_figure"><img src="/html/2107.13263/assets/images/trajectories/2-9_update_210408_edit.png" id="S3.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="449" height="336" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F5.2.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S3.F5.3.2" class="ltx_text" style="font-size:90%;">The predicted trajectory for a sample sequence. As we can see, our prediction result is the closest to the reference. ORB-SLAM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> could only predict the poses of 16 frames among 150 input frames.</span></figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Conclusions</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In this paper, we have presented a novel generalized photometric loss for learning-based depth and pose estimation with monocular endoscopy. Compared to commonly used direct depth and pose supervision losses, which have different physical meanings for each loss term, we have proposed the generalized loss so that each of the loss terms has the same physical meaning, which is a photometric error. We have experimentally shown that our generalized loss supervision performs better than the direct depth and pose supervision without the need for an intricate search of term-balancing weights. We have also found that the generalization performance from train to test data of our proposed method is better than that of the direct supervision. In future work, we plan to fuse both depth and pose predictions from multiple frames for real-time 3D reconstruction and use the light source information to improve the depth and pose estimation. Additional related results be accessed from (<span id="S4.p1.1.1" class="ltx_text" style="color:#0000FF;">http://www.ok.sc.e.titech.ac.jp/res/Stomach3D/</span>).</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
A. R. Widya, Y. Monno, M. Okutomi, S. Suzuki, T. Gotoda, and K. Miki, “Stomach
3D reconstruction using virtual chromoendoscopic images,” <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">IEEE
Journal of Translational Engineering in Health and Medicine</em>, vol. 9, no.
1700211, pp. 1–11, 2021.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
——, “Whole stomach 3D reconstruction and frame localization from
monocular endoscope video,” <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">IEEE Journal of Translational Engineering
in Health and Medicine</em>, vol. 7, no. 3300310, pp. 1–10, 2019.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
——, “Stomach 3d reconstruction using virtual chromoendoscopic images,”
<em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">IEEE Journal of Translational Engineering in Health and Medicine</em>,
vol. 9, pp. 1–11, 2021.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
L. Maier-Hein, P. Mountney, A. Bartoli, H. Elhawary, D. Elson, A. Groch,
A. Kolb, M. Rodrigues, J. Sorger, S. Speidel, and D. Stoyanov, “Optical
techniques for 3D surface reconstruction in computer-assisted laparoscopic
surgery,” <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Medical Image Analysis</em>, vol. 17, no. 8, pp. 974–996, 2013.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
J. Geng and J. Xie, “Review of 3-D endoscopic surface imaging techniques,”
<em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">IEEE Sensors Journal</em>, vol. 14, no. 4, pp. 945–960, 2014.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
S.-P. Yang, J.-J. Kim, K.-W. Jang, W.-K. Song, and K.-H. Jeong, “Compact
stereo endoscopic camera using microprism arrays,” <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Optics Letters</em>,
vol. 41, no. 6, pp. 1285–1288, 2016.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
N. Mahmoud, C. Toby, A. Hostettler, L. Soler, C. Doignon, and J. M. M. Montiel,
“Live tracking and dense reconstruction for handheld monocular endoscopy,”
<em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">IEEE Trans. on Medical Imaging</em>, vol. 38, no. 1, pp. 79–88, 2019.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
A. Rau, P. E. Edwards, O. F. Ahmad, P. Riordan, M. Janatka, L. B. Lovat, and
D. Stoyanov, “Implicit domain adaptation with conditional generative
adversarial networks for depth prediction in endoscopy,” <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Int. Journal
of Computer Assisted Radiology and Surgery</em>, vol. 14, no. 7, pp. 1167–1176,
2019.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
F. Mahmood and N. J. Durr, “Deep learning and conditional random fields-based
depth estimation and topographical reconstruction from conventional
endoscopy,” <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">Medical Image Analysis</em>, vol. 48, pp. 230–243, 2018.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
A. R. Widya, Y. Monno, M. Okutomi, S. Suzuki, T. Gotoda, and K. Miki,
“Self-supervised monocular depth estimation in gastroendoscopy using
GAN-augmented images,” in <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">Proc. of SPIE (Medical Imaging: Image
Processing)</em>, vol. 11596, pp. 1 159 616–1–10, 2021.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
M. Turan, Y. Almalioglu, H. Araujo, E. Konukoglu, and M. Sitti, “Deep
EndoVO: A recurrent convolutional neural network (RCNN) based visual
odometry approach for endoscopic capsule robots,” <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Neurocomputing</em>,
vol. 275, pp. 1861–1870, 2018.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
M. Turan, E. P. Ornek, N. Ibrahimli, C. Giracoglu, Y. Almalioglu, M. F. Yanik,
and M. Sitti, “Unsupervised odometry and depth learning for endoscopic
capsule robots,” in <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Proc. of IEEE/RSJ Int. Conf. on Intelligent Robots
and Systems (IROS)</em>, pp. 1801–1807, 2018.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
R. J. Chen, T. L. Bobrow, T. Athey, F. Mahmood, and N. J. Durr, “SLAM
endoscopy enhanced by adversarial depth prediction,” in <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">Proc. of KDD
Workshop on Applied Data Science for Healthcare</em>, 2019.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
R. Ma, R. Wang, S. Pizer, J. Rosenman, S. K. McGill, and J.-M. Frahm,
“Real-time 3D reconstruction of colonoscopic surfaces for determining
missing regions,” in <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">Proc. of Int. Conf. on Medical Image Computing
and Computer-Assisted Intervention (MICCAI)</em>, pp. 573–582, 2019.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
K. B. Ozyoruk, G. I. Gokceler, G. Coskun, K. Incetan, Y. Almalioglu,
F. Mahmood, E. Curto, L. Perdigoto, M. Oliveira, H. Sahin, H. Araujo,
H. Alexandrino, N. J. Durr, H. B. Gilbert, and M. Turan, “EndoSLAM dataset
and an unsupervised monocular visual odometry and depth estimation approach
for endoscopic videos,” <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Medical Image Analysis</em>, 2021.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
A. Kendall, M. Grimes, and R. Cipolla, “PoseNet: A convolutional network
for real-time 6-DoF camera relocalization,” in <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Proc. of IEEE Int.
Conf. on Computer Vision (ICCV)</em>, pp. 2938–2946, 2015.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
J. Engel, V. Koltun, and D. Cremers, “Direct sparse odometry,” <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">IEEE
Trans. on Pattern Analysis and Machine Intelligence</em>, vol. 40, no. 3, pp.
611–625, 2017.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
C. Godard, O. Mac Aodha, M. Firman, and G. J. Brostow, “Digging into
self-supervised monocular depth estimation,” in <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Proc. of IEEE Int.
Conf. on Computer Vision (ICCV)</em>, pp. 3828–3838, 2019.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Z. Wang, A. C. Bovik, H. R. Sheikh, and E. P. Simoncelli, “Image quality
assessment: From error visibility to structural similarity,” <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">IEEE
Trans. on Image Processing</em>, vol. 13, no. 4, pp. 600–612, 2004.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
C. Godard, O. Mac Aodha, and G. J. Brostow, “Unsupervised monocular depth
estimation with left-right consistency,” in <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Proc. of IEEE Conf. on
Computer Vision and Pattern Recognition (CVPR)</em>, pp. 270–279, 2017.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
C. Wang, J. M. Buenaposada, R. Zhu, and S. Lucey, “Learning depth from
monocular videos using direct methods,” in <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Proc. of IEEE Conf. on
Computer Vision and Pattern Recognition (CVPR)</em>, pp. 2022–2030, 2018.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
I. Alhashim and P. Wonka, “High quality monocular depth estimation via
transfer learning,” <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1812.11941</em>, 2018.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
B. Ummenhofer, H. Zhou, J. Uhrig, N. Mayer, E. Ilg, A. Dosovitskiy, and
T. Brox, “DeMoN: Depth and motion network for learning monocular stereo,”
in <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Proc. of IEEE Conf. on Computer Vision and Pattern Recognition
(CVPR)</em>, pp. 5038–5047, 2017.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
K. He, X. Zhang, S. Ren, and J. Sun, “Deep residual learning for image
recognition,” in <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">Proc. of IEEE Conf. on Computer Vision and Pattern
Recognition (CVPR)</em>, pp. 770–778, 2016.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
S. Umeyama, “Least-squares estimation of transformation parameters between two
point patterns,” <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">IEEE Computer Architecture Letters</em>, vol. 13, no. 4,
pp. 376–380, 1991.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
R. Mur-Artal, J. M. M. Montiel, and J. D. Tardos, “ORB-SLAM: A versatile
and accurate monocular SLAM system,” <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">IEEE Trans. on Robotics</em>,
vol. 31, no. 5, pp. 1147–1163, 2015.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2107.13262" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2107.13263" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2107.13263">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2107.13263" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2107.13264" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Mar 19 13:39:20 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
