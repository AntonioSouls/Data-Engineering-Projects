<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe</title>
<!--Generated on Sat Oct  5 21:05:40 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css">




<base href="https://arxiv.org/html/2410.05248v1/"></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S1" title="In SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S2" title="In SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S2.SS0.SSS0.Px1" title="In 2 Related Work ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">LLM Instruction Tuning.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S2.SS0.SSS0.Px2" title="In 2 Related Work ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">Data Characterization via Training Dynamics.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S2.SS0.SSS0.Px3" title="In 2 Related Work ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">Mixup-Based Learning.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3" title="In SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>SFTMix</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.SS1" title="In 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Preliminaries of the Conventional NTP Instruction-Tuning Paradigm</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.SS2" title="In 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Training Dynamics Identify Subsets with Distinct Confidence Levels</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.SS2.SSS0.Px1" title="In 3.2 Training Dynamics Identify Subsets with Distinct Confidence Levels ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">LLMs Exhibit Uneven Confidence across the Semantic Representation Space.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.SS2.SSS0.Px2" title="In 3.2 Training Dynamics Identify Subsets with Distinct Confidence Levels ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">Data with Distinct Confidence Levels Should Play Different Roles during Instruction Tuning.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.SS3" title="In 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>A Mixup-Based Regularization Facilitates LLM Instruction Tuning</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4" title="In SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS1" title="In 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Instruction-Following SFT</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS1.SSS0.Px1" title="In 4.1 Instruction-Following SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">Datasets.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS1.SSS0.Px2" title="In 4.1 Instruction-Following SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">Implementation Details.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS1.SSS0.Px3" title="In 4.1 Instruction-Following SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">Evaluation Benchmarks.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS1.SSS0.Px4" title="In 4.1 Instruction-Following SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">SFTMix Enhances LLMs’ Instruction-Following Capabilities.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS1.SSS0.Px5" title="In 4.1 Instruction-Following SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">Case Study from MT-Bench.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS2" title="In 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Domain-Specific SFT</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS2.SSS0.Px1" title="In 4.2 Domain-Specific SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">Dataset.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS2.SSS0.Px2" title="In 4.2 Domain-Specific SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">Evaluation Benchmarks.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS2.SSS0.Px3" title="In 4.2 Domain-Specific SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title">SFTMix Adapts LLMs to Domain-Specific Tasks More Effectively.</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S5" title="In SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Ablation and Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S5.SS1" title="In 5 Ablation and Analysis ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Generalizing the Training Dynamics from a Weaker Reference LLM</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S5.SS2" title="In 5 Ablation and Analysis ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Incorporating Mixup as a Regularization is More Effective</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S5.SS3" title="In 5 Ablation and Analysis ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>SFTMix Effectively Utilizes Entire Instruction-Tuning Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S5.SS4" title="In 5 Ablation and Analysis ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Training Dynamics Are Crucial for Performing Mixup</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S6" title="In SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#A1" title="In SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Experiment Details</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">SFTMix: Elevating Language Model
<br class="ltx_break">Instruction Tuning with Mixup Recipe</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yuxin Xiao<sup class="ltx_sup" id="id8.8.id1"><span class="ltx_text ltx_font_italic" id="id8.8.id1.1">1</span></sup> , Shujian Zhang<sup class="ltx_sup" id="id9.9.id2"><span class="ltx_text ltx_font_italic" id="id9.9.id2.1">2</span></sup>, Wenxuan Zhou<sup class="ltx_sup" id="id10.10.id3"><span class="ltx_text ltx_font_italic" id="id10.10.id3.1">2</span></sup>, Marzyeh Ghassemi<sup class="ltx_sup" id="id11.11.id4"><span class="ltx_text ltx_font_italic" id="id11.11.id4.1">1</span></sup>, Sanqiang Zhao<sup class="ltx_sup" id="id12.12.id5"><span class="ltx_text ltx_font_italic" id="id12.12.id5.1">2</span></sup>
<br class="ltx_break"><sup class="ltx_sup" id="id13.13.id6"><span class="ltx_text ltx_font_italic" id="id13.13.id6.1">1</span></sup>Massachusetts Institute of Technology, <sup class="ltx_sup" id="id14.14.id7"><span class="ltx_text ltx_font_italic" id="id14.14.id7.1">2</span></sup>Zoom Video Communications
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter" id="id15.15.id8">{yuxin102, mghassem}@mit.edu
<br class="ltx_break">{shujian.zhang, wenxuan.zhou, sanqiang.zhao}@zoom.com</span>
</span><span class="ltx_author_notes">Work done during an internship at Zoom.Corresponding author.</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id16.id1">To induce desired behaviors in large language models (LLMs) for interaction-driven tasks, the instruction-tuning stage typically trains LLMs on instruction-response pairs using the next-token prediction (NTP) loss.
Previous work aiming to improve instruction-tuning performance often emphasizes the need for higher-quality supervised fine-tuning (SFT) datasets, which typically involves expensive data filtering with proprietary LLMs or labor-intensive data generation by human annotators.
However, these approaches do not fully leverage the datasets’ intrinsic properties, resulting in high computational and labor costs, thereby limiting scalability and performance gains.
In this paper, we propose SFTMix, a novel recipe that elevates instruction-tuning performance beyond the conventional NTP paradigm, without the need for well-curated datasets.
Observing that LLMs exhibit uneven confidence across the semantic representation space, we argue that examples with different confidence levels should play distinct roles during the instruction-tuning process.
Based on this insight, SFTMix leverages training dynamics to identify examples with varying confidence levels, then applies a Mixup-based regularization to mitigate overfitting on confident examples while propagating supervision signals to improve learning on relatively unconfident ones.
This approach enables SFTMix to significantly outperform NTP across a wide range of instruction-following and healthcare domain-specific SFT tasks, demonstrating its adaptability to diverse LLM families and scalability to datasets of any size.
Comprehensive ablation studies further verify the robustness of SFTMix’s design choices, underscoring its versatility in consistently enhancing performance across different LLMs and datasets in broader natural language processing applications.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para ltx_noindent" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Large language models (LLMs) have recently demonstrated outstanding performance across a broad spectrum of natural language processing (NLP) tasks <cite class="ltx_cite ltx_citemacro_citep">(Zhao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib69" title="">2023</a>; Minaee et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib38" title="">2024</a>)</cite>.
After being pre-trained on large corpora of raw text, LLMs undergo a critical instruction-tuning stage <cite class="ltx_cite ltx_citemacro_citep">(Ouyang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib39" title="">2022</a>; Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib66" title="">2023</a>)</cite> to develop their instruction-following capabilities based on supervised fine-tuning (SFT) datasets, making them more suitable for interaction-driven applications.
SFT datasets <cite class="ltx_cite ltx_citemacro_citep">(Taori et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib52" title="">2023</a>; Wang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib59" title="">2023</a>; Xu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib61" title="">2024</a>)</cite> typically consist of instruction-response pairs spanning various task types, aligning LLMs toward desired behavior.
During this stage, LLMs are usually trained through next-token prediction (NTP), where LLMs predict the next token in a response given both the instruction and the preceding tokens in that response.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Previous research efforts in this field have predominantly focused on enhancing the quality of instruction-tuning datasets.
One line of research direction seeks to better understand the intrinsic properties of these datasets <cite class="ltx_cite ltx_citemacro_citep">(Kung et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib30" title="">2023</a>; Lin et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib35" title="">2024</a>)</cite> and selects informative instruction-response pairs through heuristics-based filters <cite class="ltx_cite ltx_citemacro_citep">(Zhao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib68" title="">2024</a>)</cite> or LLM scoring <cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib10" title="">2024</a>)</cite>.
Another line of work generates high-quality responses by querying advanced proprietary LLMs <cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib10" title="">2024</a>)</cite> or relying on human annotators <cite class="ltx_cite ltx_citemacro_citep">(Zhou et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib71" title="">2023</a>)</cite>.
However, both strategies come with significant computational or labor costs, limiting the scalability of SFT datasets.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">In this paper, we take a different perspective by exploring how to elevate instruction-tuning performance beyond the conventional NTP training paradigm, without relying on well-curated datasets
To address this challenge, we propose SFTMix, a novel Mixup-based recipe for language model instruction tuning.
Our design builds upon the key observation that an LLM’s confidence distribution over its instruction-tuning dataset is uneven across the semantic representation space.
We argue that data with varying confidence levels should contribute differently during the instruction-tuning process.
Hence, we extend data cartography <cite class="ltx_cite ltx_citemacro_citep">(Swayamdipta et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib51" title="">2020</a>)</cite> to the realm of causal language generation as training dynamics and leverage a reference LLM to derive the confidence of each instruction-response pair, based on the perplexities computed over the instruction-tuning process.
Using this information, we divide the original SFT dataset into a confident subset and a relatively unconfident subset of equal size.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">To guide the learning of the unconfident examples by propagating supervision signals, and to mitigate overfitting to the confident semantic regions, we design a Mixup-based <cite class="ltx_cite ltx_citemacro_citep">(Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib63" title="">2018</a>)</cite> regularization for LLM instruction tuning.
This approach explores the utility of Mixup in causal language generation and improves its effectiveness by exploiting the confidence information derived from training dynamics.
Specifically, consider an instruction-response pair from the confident subset and another from the unconfident subset.
We interpolate them linearly at the token level in the representation space and generate a convex combination of the representations from the LLM under instruction tuning.
The one-hot encodings of the corresponding tokens are interpolated in a similar fashion.
We then compute a regularization between the interpolated encodings and representations, in addition to the original NTP loss during instruction tuning.
In this way, SFTMix fosters the synergy between the two subsets with diverging confidence levels and enhances the interaction capabilities of LLMs across diverse downstream applications.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">We demonstrate the effectiveness of our proposed SFTMix recipe in both instruction-following and domain-specific SFT settings.
In particular, SFTMix significantly surpasses the conventional NTP instruction-tuning baseline in both single- and multi-turn conversations, as measured in MT-Bench <cite class="ltx_cite ltx_citemacro_citep">(Zheng et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib70" title="">2024</a>)</cite> and AlpacaEval-2 <cite class="ltx_cite ltx_citemacro_citep">(Dubois et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib20" title="">2024</a>)</cite>.
This improvement is consistent across different LLM families (e.g., Llama <cite class="ltx_cite ltx_citemacro_citep">(Dubey et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib19" title="">2024</a>)</cite> and Mistral <cite class="ltx_cite ltx_citemacro_citep">(Jiang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib27" title="">2023</a>)</cite>) and scales of SFT datasets (e.g., Alpaca-52K <cite class="ltx_cite ltx_citemacro_citep">(Taori et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib52" title="">2023</a>)</cite> and UltraChat-200K <cite class="ltx_cite ltx_citemacro_citep">(Tunstall et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib54" title="">2023</a>)</cite>).
Moreover, in the healthcare domain, Llama-3.1-8B <cite class="ltx_cite ltx_citemacro_citep">(Dubey et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib19" title="">2024</a>)</cite> and Mistral-7B-v0.1 <cite class="ltx_cite ltx_citemacro_citep">(Jiang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib27" title="">2023</a>)</cite>, instruction-tuned on MedAlpaca-263K <cite class="ltx_cite ltx_citemacro_citep">(Han et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib22" title="">2023</a>)</cite> using SFTMix, achieve an average of <math alttext="1.5\%" class="ltx_Math" display="inline" id="S1.p5.1.m1.1"><semantics id="S1.p5.1.m1.1a"><mrow id="S1.p5.1.m1.1.1" xref="S1.p5.1.m1.1.1.cmml"><mn id="S1.p5.1.m1.1.1.2" xref="S1.p5.1.m1.1.1.2.cmml">1.5</mn><mo id="S1.p5.1.m1.1.1.1" xref="S1.p5.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S1.p5.1.m1.1b"><apply id="S1.p5.1.m1.1.1.cmml" xref="S1.p5.1.m1.1.1"><csymbol cd="latexml" id="S1.p5.1.m1.1.1.1.cmml" xref="S1.p5.1.m1.1.1.1">percent</csymbol><cn id="S1.p5.1.m1.1.1.2.cmml" type="float" xref="S1.p5.1.m1.1.1.2">1.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.1.m1.1c">1.5\%</annotation><annotation encoding="application/x-llamapun" id="S1.p5.1.m1.1d">1.5 %</annotation></semantics></math> absolute increase in accuracy across four benchmarks compared to baselines.
We further explore the applicability of SFTMix’s variants through extensive ablations and illustrate the potential of this LLM instruction-tuning recipe for broader use cases.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">We summarize our contributions in this paper as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We introduce SFTMix, a novel recipe designed to elevate LLM instruction-tuning performance beyond the conventional NTP paradigm, without relying on well-curated datasets.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">Motivated by the observation that LLMs exhibit varying confidence levels across the semantic space, SFTMix leverages LLMs’ training dynamics for more insightful data interpretation and confidence-based splitting, facilitating more effective instruction tuning.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">SFTMix further incorporates a Mixup-based regularization that interpolates between examples with different confidence levels during instruction tuning, mitigating overfitting to confident examples while improving generalization on relatively unconfident ones.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1">We demonstrate that SFTMix significantly outperforms the NTP baseline across a variety of instruction-following and healthcare domain-specific SFT tasks, with consistent improvements across different LLM families and dataset sizes.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para ltx_noindent" id="S1.I1.i5.p1">
<p class="ltx_p" id="S1.I1.i5.p1.1">Comprehensive ablation analysis substantiates the robustness of our design choices in SFTMix, shedding light on its potential for broader NLP applications.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">LLM Instruction Tuning.</h4>
<div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p1.1">To align LLMs with users’ open-ended intents or adapt them to specific domains, <cite class="ltx_cite ltx_citemacro_citet">Ouyang et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib39" title="">2022</a>)</cite> proposed instruction-tuning LLMs on human-annotated demonstrations using supervised learning.
More specifically, given a pair of instructions and desired responses, the conventional NTP paradigm trains an LLM to predict each token in the response sequentially during the instruction-tuning stage <cite class="ltx_cite ltx_citemacro_citep">(Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib66" title="">2023</a>)</cite>.
<cite class="ltx_cite ltx_citemacro_citet">Jain et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib26" title="">2024</a>)</cite> improved instruction-tuning performance by adding noise to the token embeddings during training, while <cite class="ltx_cite ltx_citemacro_citet">Shi et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib48" title="">2024</a>)</cite> further suggested modeling the instructions as well.
On this basis, previous work <cite class="ltx_cite ltx_citemacro_citep">(Chiang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib12" title="">2023</a>; Ding et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib18" title="">2023</a>; Taori et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib52" title="">2023</a>; Wang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib59" title="">2023</a>; Xu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib61" title="">2024</a>)</cite> collected instruction-following datasets by distilling powerful proprietary LLMs or crowdsourcing user conversations.
To enhance data quality, the community has employed various techniques, including heuristic-based filters <cite class="ltx_cite ltx_citemacro_citep">(Schoch et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib46" title="">2023</a>; Zhao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib68" title="">2024</a>)</cite>, LLM scoring <cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib10" title="">2024</a>)</cite>, and human curation <cite class="ltx_cite ltx_citemacro_citep">(Zhou et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib71" title="">2023</a>)</cite>.
Other efforts <cite class="ltx_cite ltx_citemacro_citep">(Kung et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib30" title="">2023</a>; Lin et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib35" title="">2024</a>)</cite> have focused on gaining a deeper understanding of the intrinsic properties of SFT datasets.
However, acquiring high-quality SFT data often entails substantial computational and labor costs.
In this paper, we aim to optimize data utilization through insightful data interpretation and improve the effectiveness of instruction tuning beyond the conventional NTP paradigm, without relying on well-curated datasets.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Data Characterization via Training Dynamics.</h4>
<div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p1.1">Data characterization <cite class="ltx_cite ltx_citemacro_citep">(Albalak et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib2" title="">2024</a>; Wang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib58" title="">2024</a>)</cite> seeks to assess and analyze the quality and relevance of training data, enabling more effective data filtering and elevated model performance.
In particular, <cite class="ltx_cite ltx_citemacro_citet">Swayamdipta et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib51" title="">2020</a>)</cite> leveraged the training dynamics of a pre-trained language model <cite class="ltx_cite ltx_citemacro_citep">(Liu, <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib36" title="">2019</a>)</cite> to create data maps, which have subsequently inspired advancements in active learning <cite class="ltx_cite ltx_citemacro_citep">(Zhang &amp; Plank, <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib65" title="">2021</a>; Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib67" title="">2022</a>; Kung et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib30" title="">2023</a>)</cite>, curriculum learning <cite class="ltx_cite ltx_citemacro_citep">(Christopoulou et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib16" title="">2022</a>; Lin et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib35" title="">2024</a>; Poesina et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib45" title="">2024</a>)</cite>, and dataset pruning <cite class="ltx_cite ltx_citemacro_citep">(Chimoto et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib14" title="">2024</a>; He et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib23" title="">2024</a>; Lin et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib35" title="">2024</a>; Seedat et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib47" title="">2024</a>)</cite>.
Here, we explore applying training dynamics to causal language generation by categorizing an SFT dataset into confident and relatively unconfident subsets, which facilitates the subsequent Mixup-based regularization during LLM instruction tuning.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Mixup-Based Learning.</h4>
<div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px3.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p1.1">To alleviate memorization and sensitivity to adversarial examples during training, <cite class="ltx_cite ltx_citemacro_citet">Zhang et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib63" title="">2018</a>)</cite> proposed Mixup, which trains models on convex combinations of pairs of input features and their corresponding labels.
Its variants <cite class="ltx_cite ltx_citemacro_citep">(Verma et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib57" title="">2019</a>; Hendrycks et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib24" title="">2020</a>; Uddin et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib55" title="">2021</a>; Choi et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib15" title="">2022</a>)</cite> further suggest interpolating feature representations at different stages, guided by various training signals.
Theoretical analyses <cite class="ltx_cite ltx_citemacro_citep">(Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib64" title="">2021</a>; Carratino et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib7" title="">2022</a>; Chidambaram et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib13" title="">2022</a>; Park et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib41" title="">2022</a>; Pinto et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib44" title="">2022</a>)</cite> have demonstrated its data-adaptive regularization and generalization effects, leading to strong out-of-distribution robustness and well-calibrated uncertainty estimation.
Empirical studies have further validated its effectiveness under the semi-supervised learning setting <cite class="ltx_cite ltx_citemacro_citep">(Berthelot et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib4" title="">2019</a>; <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib5" title="">2020</a>; Li et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib33" title="">2020</a>; <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib32" title="">2022</a>)</cite> and in diverse NLP applications <cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib9" title="">2020</a>; Guo et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib21" title="">2020</a>; Sun et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib50" title="">2020</a>; Park &amp; Caragea, <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib42" title="">2022</a>; Yang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib62" title="">2022</a>)</cite>.
Building on this success, we explore its utility in LLM instruction tuning and propose a Mixup-based regularization to reduce overfitting to confident examples and support the learning of relatively unconfident ones.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>SFTMix</h2>
<div class="ltx_para ltx_noindent" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.SS1" title="3.1 Preliminaries of the Conventional NTP Instruction-Tuning Paradigm ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">3.1</span></a>, we begin by reviewing the conventional instruction-tuning task of NTP.
We then introduce SFTMix, a novel recipe for LLM instruction tuning.
SFTMix first leverages training dynamics to determine subspaces with distinct confidence levels (Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.SS2" title="3.2 Training Dynamics Identify Subsets with Distinct Confidence Levels ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">3.2</span></a>).
Subsequently, it incorporates a Mixup-based regularization (Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.SS3" title="3.3 A Mixup-Based Regularization Facilitates LLM Instruction Tuning ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">3.3</span></a>) to mitigate overfitting to confident examples and propagate their supervision signals to promote the learning of relatively unconfident ones.
We illustrate the overall pipeline of SFTMix in Figure&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.F1" title="Figure 1 ‣ 3.1 Preliminaries of the Conventional NTP Instruction-Tuning Paradigm ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Preliminaries of the Conventional NTP Instruction-Tuning Paradigm</h3>
<div class="ltx_para ltx_noindent" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.9">Consider an SFT dataset <math alttext="\mathcal{D}=\{(\mathcal{X}_{i},\mathcal{Y}_{i})\}_{i=1}^{|\mathcal{D}|}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.2"><semantics id="S3.SS1.p1.1.m1.2a"><mrow id="S3.SS1.p1.1.m1.2.2" xref="S3.SS1.p1.1.m1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.2.2.3" xref="S3.SS1.p1.1.m1.2.2.3.cmml">𝒟</mi><mo id="S3.SS1.p1.1.m1.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.cmml">=</mo><msubsup id="S3.SS1.p1.1.m1.2.2.1" xref="S3.SS1.p1.1.m1.2.2.1.cmml"><mrow id="S3.SS1.p1.1.m1.2.2.1.1.1.1" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml"><mo id="S3.SS1.p1.1.m1.2.2.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml">{</mo><mrow id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.3.cmml"><mo id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.3" stretchy="false" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.3.cmml">(</mo><msub id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml">𝒳</mi><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.4" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.3.cmml">,</mo><msub id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.2.cmml">𝒴</mi><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.3" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.5" stretchy="false" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.3.cmml">)</mo></mrow><mo id="S3.SS1.p1.1.m1.2.2.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.1.m1.2.2.1.1.3" xref="S3.SS1.p1.1.m1.2.2.1.1.3.cmml"><mi id="S3.SS1.p1.1.m1.2.2.1.1.3.2" xref="S3.SS1.p1.1.m1.2.2.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p1.1.m1.2.2.1.1.3.1" xref="S3.SS1.p1.1.m1.2.2.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.1.m1.2.2.1.1.3.3" xref="S3.SS1.p1.1.m1.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S3.SS1.p1.1.m1.1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.1.2.cmml"><mo id="S3.SS1.p1.1.m1.1.1.1.3.1" stretchy="false" xref="S3.SS1.p1.1.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.1.cmml">𝒟</mi><mo id="S3.SS1.p1.1.m1.1.1.1.3.2" stretchy="false" xref="S3.SS1.p1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.2b"><apply id="S3.SS1.p1.1.m1.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2"><eq id="S3.SS1.p1.1.m1.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2"></eq><ci id="S3.SS1.p1.1.m1.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.3">𝒟</ci><apply id="S3.SS1.p1.1.m1.2.2.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1">superscript</csymbol><apply id="S3.SS1.p1.1.m1.2.2.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1">subscript</csymbol><set id="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1"><interval closure="open" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2"><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2">𝒳</ci><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.2">𝒴</ci><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.1.2.2.3">𝑖</ci></apply></interval></set><apply id="S3.SS1.p1.1.m1.2.2.1.1.3.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.3"><eq id="S3.SS1.p1.1.m1.2.2.1.1.3.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.3.1"></eq><ci id="S3.SS1.p1.1.m1.2.2.1.1.3.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.3.2">𝑖</ci><cn id="S3.SS1.p1.1.m1.2.2.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.2.2.1.1.3.3">1</cn></apply></apply><apply id="S3.SS1.p1.1.m1.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.1.3"><abs id="S3.SS1.p1.1.m1.1.1.1.2.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.3.1"></abs><ci id="S3.SS1.p1.1.m1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1">𝒟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.2c">\mathcal{D}=\{(\mathcal{X}_{i},\mathcal{Y}_{i})\}_{i=1}^{|\mathcal{D}|}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.2d">caligraphic_D = { ( caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_D | end_POSTSUPERSCRIPT</annotation></semantics></math>, consisting of pairs of instructions <math alttext="\mathcal{X}_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><msub id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">𝒳</mi><mi id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">𝒳</ci><ci id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">\mathcal{X}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and desired responses <math alttext="\mathcal{Y}_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><msub id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">𝒴</mi><mi id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">𝒴</ci><ci id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">\mathcal{Y}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.
Here, both <math alttext="\mathcal{X}_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.1"><semantics id="S3.SS1.p1.4.m4.1a"><msub id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml">𝒳</mi><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2">𝒳</ci><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">\mathcal{X}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{Y}_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><msub id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.5.m5.1.1.2" xref="S3.SS1.p1.5.m5.1.1.2.cmml">𝒴</mi><mi id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2">𝒴</ci><ci id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">\mathcal{Y}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> are sequences of tokens, where <math alttext="\mathcal{X}_{i}=(x_{1},\dots,x_{M_{i}})" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.3"><semantics id="S3.SS1.p1.6.m6.3a"><mrow id="S3.SS1.p1.6.m6.3.3" xref="S3.SS1.p1.6.m6.3.3.cmml"><msub id="S3.SS1.p1.6.m6.3.3.4" xref="S3.SS1.p1.6.m6.3.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.6.m6.3.3.4.2" xref="S3.SS1.p1.6.m6.3.3.4.2.cmml">𝒳</mi><mi id="S3.SS1.p1.6.m6.3.3.4.3" xref="S3.SS1.p1.6.m6.3.3.4.3.cmml">i</mi></msub><mo id="S3.SS1.p1.6.m6.3.3.3" xref="S3.SS1.p1.6.m6.3.3.3.cmml">=</mo><mrow id="S3.SS1.p1.6.m6.3.3.2.2" xref="S3.SS1.p1.6.m6.3.3.2.3.cmml"><mo id="S3.SS1.p1.6.m6.3.3.2.2.3" stretchy="false" xref="S3.SS1.p1.6.m6.3.3.2.3.cmml">(</mo><msub id="S3.SS1.p1.6.m6.2.2.1.1.1" xref="S3.SS1.p1.6.m6.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.6.m6.2.2.1.1.1.2" xref="S3.SS1.p1.6.m6.2.2.1.1.1.2.cmml">x</mi><mn id="S3.SS1.p1.6.m6.2.2.1.1.1.3" xref="S3.SS1.p1.6.m6.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.6.m6.3.3.2.2.4" xref="S3.SS1.p1.6.m6.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p1.6.m6.1.1" mathvariant="normal" xref="S3.SS1.p1.6.m6.1.1.cmml">…</mi><mo id="S3.SS1.p1.6.m6.3.3.2.2.5" xref="S3.SS1.p1.6.m6.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p1.6.m6.3.3.2.2.2" xref="S3.SS1.p1.6.m6.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.6.m6.3.3.2.2.2.2" xref="S3.SS1.p1.6.m6.3.3.2.2.2.2.cmml">x</mi><msub id="S3.SS1.p1.6.m6.3.3.2.2.2.3" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3.cmml"><mi id="S3.SS1.p1.6.m6.3.3.2.2.2.3.2" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3.2.cmml">M</mi><mi id="S3.SS1.p1.6.m6.3.3.2.2.2.3.3" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3.3.cmml">i</mi></msub></msub><mo id="S3.SS1.p1.6.m6.3.3.2.2.6" stretchy="false" xref="S3.SS1.p1.6.m6.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.3b"><apply id="S3.SS1.p1.6.m6.3.3.cmml" xref="S3.SS1.p1.6.m6.3.3"><eq id="S3.SS1.p1.6.m6.3.3.3.cmml" xref="S3.SS1.p1.6.m6.3.3.3"></eq><apply id="S3.SS1.p1.6.m6.3.3.4.cmml" xref="S3.SS1.p1.6.m6.3.3.4"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.3.3.4.1.cmml" xref="S3.SS1.p1.6.m6.3.3.4">subscript</csymbol><ci id="S3.SS1.p1.6.m6.3.3.4.2.cmml" xref="S3.SS1.p1.6.m6.3.3.4.2">𝒳</ci><ci id="S3.SS1.p1.6.m6.3.3.4.3.cmml" xref="S3.SS1.p1.6.m6.3.3.4.3">𝑖</ci></apply><vector id="S3.SS1.p1.6.m6.3.3.2.3.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2"><apply id="S3.SS1.p1.6.m6.2.2.1.1.1.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1.2">𝑥</ci><cn id="S3.SS1.p1.6.m6.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">…</ci><apply id="S3.SS1.p1.6.m6.3.3.2.2.2.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.6.m6.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2.2">𝑥</ci><apply id="S3.SS1.p1.6.m6.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.3.3.2.2.2.3.1.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3">subscript</csymbol><ci id="S3.SS1.p1.6.m6.3.3.2.2.2.3.2.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3.2">𝑀</ci><ci id="S3.SS1.p1.6.m6.3.3.2.2.2.3.3.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3.3">𝑖</ci></apply></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.3c">\mathcal{X}_{i}=(x_{1},\dots,x_{M_{i}})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.3d">caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = ( italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math> and <math alttext="\mathcal{Y}_{i}=(y_{1},\dots,y_{N_{i}})" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m7.3"><semantics id="S3.SS1.p1.7.m7.3a"><mrow id="S3.SS1.p1.7.m7.3.3" xref="S3.SS1.p1.7.m7.3.3.cmml"><msub id="S3.SS1.p1.7.m7.3.3.4" xref="S3.SS1.p1.7.m7.3.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.7.m7.3.3.4.2" xref="S3.SS1.p1.7.m7.3.3.4.2.cmml">𝒴</mi><mi id="S3.SS1.p1.7.m7.3.3.4.3" xref="S3.SS1.p1.7.m7.3.3.4.3.cmml">i</mi></msub><mo id="S3.SS1.p1.7.m7.3.3.3" xref="S3.SS1.p1.7.m7.3.3.3.cmml">=</mo><mrow id="S3.SS1.p1.7.m7.3.3.2.2" xref="S3.SS1.p1.7.m7.3.3.2.3.cmml"><mo id="S3.SS1.p1.7.m7.3.3.2.2.3" stretchy="false" xref="S3.SS1.p1.7.m7.3.3.2.3.cmml">(</mo><msub id="S3.SS1.p1.7.m7.2.2.1.1.1" xref="S3.SS1.p1.7.m7.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.7.m7.2.2.1.1.1.2" xref="S3.SS1.p1.7.m7.2.2.1.1.1.2.cmml">y</mi><mn id="S3.SS1.p1.7.m7.2.2.1.1.1.3" xref="S3.SS1.p1.7.m7.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.7.m7.3.3.2.2.4" xref="S3.SS1.p1.7.m7.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p1.7.m7.1.1" mathvariant="normal" xref="S3.SS1.p1.7.m7.1.1.cmml">…</mi><mo id="S3.SS1.p1.7.m7.3.3.2.2.5" xref="S3.SS1.p1.7.m7.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p1.7.m7.3.3.2.2.2" xref="S3.SS1.p1.7.m7.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.7.m7.3.3.2.2.2.2" xref="S3.SS1.p1.7.m7.3.3.2.2.2.2.cmml">y</mi><msub id="S3.SS1.p1.7.m7.3.3.2.2.2.3" xref="S3.SS1.p1.7.m7.3.3.2.2.2.3.cmml"><mi id="S3.SS1.p1.7.m7.3.3.2.2.2.3.2" xref="S3.SS1.p1.7.m7.3.3.2.2.2.3.2.cmml">N</mi><mi id="S3.SS1.p1.7.m7.3.3.2.2.2.3.3" xref="S3.SS1.p1.7.m7.3.3.2.2.2.3.3.cmml">i</mi></msub></msub><mo id="S3.SS1.p1.7.m7.3.3.2.2.6" stretchy="false" xref="S3.SS1.p1.7.m7.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.3b"><apply id="S3.SS1.p1.7.m7.3.3.cmml" xref="S3.SS1.p1.7.m7.3.3"><eq id="S3.SS1.p1.7.m7.3.3.3.cmml" xref="S3.SS1.p1.7.m7.3.3.3"></eq><apply id="S3.SS1.p1.7.m7.3.3.4.cmml" xref="S3.SS1.p1.7.m7.3.3.4"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.3.3.4.1.cmml" xref="S3.SS1.p1.7.m7.3.3.4">subscript</csymbol><ci id="S3.SS1.p1.7.m7.3.3.4.2.cmml" xref="S3.SS1.p1.7.m7.3.3.4.2">𝒴</ci><ci id="S3.SS1.p1.7.m7.3.3.4.3.cmml" xref="S3.SS1.p1.7.m7.3.3.4.3">𝑖</ci></apply><vector id="S3.SS1.p1.7.m7.3.3.2.3.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2"><apply id="S3.SS1.p1.7.m7.2.2.1.1.1.cmml" xref="S3.SS1.p1.7.m7.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.7.m7.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.7.m7.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.7.m7.2.2.1.1.1.2">𝑦</ci><cn id="S3.SS1.p1.7.m7.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.7.m7.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">…</ci><apply id="S3.SS1.p1.7.m7.3.3.2.2.2.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.7.m7.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2.2">𝑦</ci><apply id="S3.SS1.p1.7.m7.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.3.3.2.2.2.3.1.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2.3">subscript</csymbol><ci id="S3.SS1.p1.7.m7.3.3.2.2.2.3.2.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2.3.2">𝑁</ci><ci id="S3.SS1.p1.7.m7.3.3.2.2.2.3.3.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2.3.3">𝑖</ci></apply></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.3c">\mathcal{Y}_{i}=(y_{1},\dots,y_{N_{i}})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.3d">caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = ( italic_y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_y start_POSTSUBSCRIPT italic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math>.
The conventional NTP task minimizes the following loss for predicting <math alttext="\mathcal{Y}_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m8.1"><semantics id="S3.SS1.p1.8.m8.1a"><msub id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.8.m8.1.1.2" xref="S3.SS1.p1.8.m8.1.1.2.cmml">𝒴</mi><mi id="S3.SS1.p1.8.m8.1.1.3" xref="S3.SS1.p1.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><apply id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2">𝒴</ci><ci id="S3.SS1.p1.8.m8.1.1.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">\mathcal{Y}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m8.1d">caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> given <math alttext="\mathcal{X}_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m9.1"><semantics id="S3.SS1.p1.9.m9.1a"><msub id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.9.m9.1.1.2" xref="S3.SS1.p1.9.m9.1.1.2.cmml">𝒳</mi><mi id="S3.SS1.p1.9.m9.1.1.3" xref="S3.SS1.p1.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.1b"><apply id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.1.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS1.p1.9.m9.1.1.2.cmml" xref="S3.SS1.p1.9.m9.1.1.2">𝒳</ci><ci id="S3.SS1.p1.9.m9.1.1.3.cmml" xref="S3.SS1.p1.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.1c">\mathcal{X}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m9.1d">caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="A1.EGx1">
<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle\ell_{\text{NTP}}(\mathcal{D})=-\sum_{i=1}^{|\mathcal{D}|}\sum_{n%
=1}^{N_{i}}\log p(y_{n}\,|\,\mathcal{X}_{i},y_{1},\dots,y_{n-1})=-\sum_{i=1}^{%
|\mathcal{D}|}\sum_{n=1}^{N_{i}}H(\mathbf{Y}_{n},\sigma(\mathbf{Z}_{n}))\text{.}" class="ltx_Math" display="block" id="S3.E1.m1.7"><semantics id="S3.E1.m1.7a"><mrow id="S3.E1.m1.7.7" xref="S3.E1.m1.7.7.cmml"><mrow id="S3.E1.m1.7.7.5" xref="S3.E1.m1.7.7.5.cmml"><msub id="S3.E1.m1.7.7.5.2" xref="S3.E1.m1.7.7.5.2.cmml"><mi id="S3.E1.m1.7.7.5.2.2" mathvariant="normal" xref="S3.E1.m1.7.7.5.2.2.cmml">ℓ</mi><mtext id="S3.E1.m1.7.7.5.2.3" xref="S3.E1.m1.7.7.5.2.3a.cmml">NTP</mtext></msub><mo id="S3.E1.m1.7.7.5.1" xref="S3.E1.m1.7.7.5.1.cmml">⁢</mo><mrow id="S3.E1.m1.7.7.5.3.2" xref="S3.E1.m1.7.7.5.cmml"><mo id="S3.E1.m1.7.7.5.3.2.1" stretchy="false" xref="S3.E1.m1.7.7.5.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml">𝒟</mi><mo id="S3.E1.m1.7.7.5.3.2.2" stretchy="false" xref="S3.E1.m1.7.7.5.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.7.7.6" xref="S3.E1.m1.7.7.6.cmml">=</mo><mrow id="S3.E1.m1.5.5.1" xref="S3.E1.m1.5.5.1.cmml"><mo id="S3.E1.m1.5.5.1a" xref="S3.E1.m1.5.5.1.cmml">−</mo><mrow id="S3.E1.m1.5.5.1.1" xref="S3.E1.m1.5.5.1.1.cmml"><munderover id="S3.E1.m1.5.5.1.1.2" xref="S3.E1.m1.5.5.1.1.2.cmml"><mo id="S3.E1.m1.5.5.1.1.2.2.2" movablelimits="false" rspace="0em" xref="S3.E1.m1.5.5.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E1.m1.5.5.1.1.2.2.3" xref="S3.E1.m1.5.5.1.1.2.2.3.cmml"><mi id="S3.E1.m1.5.5.1.1.2.2.3.2" xref="S3.E1.m1.5.5.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E1.m1.5.5.1.1.2.2.3.1" xref="S3.E1.m1.5.5.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E1.m1.5.5.1.1.2.2.3.3" xref="S3.E1.m1.5.5.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.E1.m1.1.1.1.3" xref="S3.E1.m1.1.1.1.2.cmml"><mo id="S3.E1.m1.1.1.1.3.1" stretchy="false" xref="S3.E1.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">𝒟</mi><mo id="S3.E1.m1.1.1.1.3.2" stretchy="false" xref="S3.E1.m1.1.1.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S3.E1.m1.5.5.1.1.1" xref="S3.E1.m1.5.5.1.1.1.cmml"><munderover id="S3.E1.m1.5.5.1.1.1.2" xref="S3.E1.m1.5.5.1.1.1.2.cmml"><mo id="S3.E1.m1.5.5.1.1.1.2.2.2" movablelimits="false" xref="S3.E1.m1.5.5.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E1.m1.5.5.1.1.1.2.2.3" xref="S3.E1.m1.5.5.1.1.1.2.2.3.cmml"><mi id="S3.E1.m1.5.5.1.1.1.2.2.3.2" xref="S3.E1.m1.5.5.1.1.1.2.2.3.2.cmml">n</mi><mo id="S3.E1.m1.5.5.1.1.1.2.2.3.1" xref="S3.E1.m1.5.5.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E1.m1.5.5.1.1.1.2.2.3.3" xref="S3.E1.m1.5.5.1.1.1.2.2.3.3.cmml">1</mn></mrow><msub id="S3.E1.m1.5.5.1.1.1.2.3" xref="S3.E1.m1.5.5.1.1.1.2.3.cmml"><mi id="S3.E1.m1.5.5.1.1.1.2.3.2" xref="S3.E1.m1.5.5.1.1.1.2.3.2.cmml">N</mi><mi id="S3.E1.m1.5.5.1.1.1.2.3.3" xref="S3.E1.m1.5.5.1.1.1.2.3.3.cmml">i</mi></msub></munderover><mrow id="S3.E1.m1.5.5.1.1.1.1" xref="S3.E1.m1.5.5.1.1.1.1.cmml"><mrow id="S3.E1.m1.5.5.1.1.1.1.3" xref="S3.E1.m1.5.5.1.1.1.1.3.cmml"><mi id="S3.E1.m1.5.5.1.1.1.1.3.1" xref="S3.E1.m1.5.5.1.1.1.1.3.1.cmml">log</mi><mo id="S3.E1.m1.5.5.1.1.1.1.3a" lspace="0.167em" xref="S3.E1.m1.5.5.1.1.1.1.3.cmml">⁡</mo><mi id="S3.E1.m1.5.5.1.1.1.1.3.2" xref="S3.E1.m1.5.5.1.1.1.1.3.2.cmml">p</mi></mrow><mo id="S3.E1.m1.5.5.1.1.1.1.2" xref="S3.E1.m1.5.5.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.5.5.1.1.1.1.1.1" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.5.5.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.5.5.1.1.1.1.1.1.1" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.cmml"><msub id="S3.E1.m1.5.5.1.1.1.1.1.1.1.5" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.cmml"><mi id="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.2" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.2.cmml">y</mi><mi id="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.3" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.3.cmml">n</mi></msub><mo fence="false" id="S3.E1.m1.5.5.1.1.1.1.1.1.1.4" rspace="0.448em" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.4.cmml">|</mo><mrow id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.4.cmml"><msub id="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒳</mi><mi id="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.4" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.2.cmml">y</mi><mn id="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.5" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.4.cmml">,</mo><mi id="S3.E1.m1.4.4" mathvariant="normal" xref="S3.E1.m1.4.4.cmml">…</mi><mo id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.6" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.2" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.2.cmml">y</mi><mrow id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.cmml"><mi id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.2" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.2.cmml">n</mi><mo id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.1" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.1.cmml">−</mo><mn id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.3" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo id="S3.E1.m1.5.5.1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E1.m1.7.7.7" xref="S3.E1.m1.7.7.7.cmml">=</mo><mrow id="S3.E1.m1.7.7.3" xref="S3.E1.m1.7.7.3.cmml"><mo id="S3.E1.m1.7.7.3a" xref="S3.E1.m1.7.7.3.cmml">−</mo><mrow id="S3.E1.m1.7.7.3.2" xref="S3.E1.m1.7.7.3.2.cmml"><munderover id="S3.E1.m1.7.7.3.2.3" xref="S3.E1.m1.7.7.3.2.3.cmml"><mo id="S3.E1.m1.7.7.3.2.3.2.2" movablelimits="false" rspace="0em" xref="S3.E1.m1.7.7.3.2.3.2.2.cmml">∑</mo><mrow id="S3.E1.m1.7.7.3.2.3.2.3" xref="S3.E1.m1.7.7.3.2.3.2.3.cmml"><mi id="S3.E1.m1.7.7.3.2.3.2.3.2" xref="S3.E1.m1.7.7.3.2.3.2.3.2.cmml">i</mi><mo id="S3.E1.m1.7.7.3.2.3.2.3.1" xref="S3.E1.m1.7.7.3.2.3.2.3.1.cmml">=</mo><mn id="S3.E1.m1.7.7.3.2.3.2.3.3" xref="S3.E1.m1.7.7.3.2.3.2.3.3.cmml">1</mn></mrow><mrow id="S3.E1.m1.2.2.1.3" xref="S3.E1.m1.2.2.1.2.cmml"><mo id="S3.E1.m1.2.2.1.3.1" stretchy="false" xref="S3.E1.m1.2.2.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2.1.1" xref="S3.E1.m1.2.2.1.1.cmml">𝒟</mi><mo id="S3.E1.m1.2.2.1.3.2" stretchy="false" xref="S3.E1.m1.2.2.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S3.E1.m1.7.7.3.2.2" xref="S3.E1.m1.7.7.3.2.2.cmml"><munderover id="S3.E1.m1.7.7.3.2.2.3" xref="S3.E1.m1.7.7.3.2.2.3.cmml"><mo id="S3.E1.m1.7.7.3.2.2.3.2.2" movablelimits="false" xref="S3.E1.m1.7.7.3.2.2.3.2.2.cmml">∑</mo><mrow id="S3.E1.m1.7.7.3.2.2.3.2.3" xref="S3.E1.m1.7.7.3.2.2.3.2.3.cmml"><mi id="S3.E1.m1.7.7.3.2.2.3.2.3.2" xref="S3.E1.m1.7.7.3.2.2.3.2.3.2.cmml">n</mi><mo id="S3.E1.m1.7.7.3.2.2.3.2.3.1" xref="S3.E1.m1.7.7.3.2.2.3.2.3.1.cmml">=</mo><mn id="S3.E1.m1.7.7.3.2.2.3.2.3.3" xref="S3.E1.m1.7.7.3.2.2.3.2.3.3.cmml">1</mn></mrow><msub id="S3.E1.m1.7.7.3.2.2.3.3" xref="S3.E1.m1.7.7.3.2.2.3.3.cmml"><mi id="S3.E1.m1.7.7.3.2.2.3.3.2" xref="S3.E1.m1.7.7.3.2.2.3.3.2.cmml">N</mi><mi id="S3.E1.m1.7.7.3.2.2.3.3.3" xref="S3.E1.m1.7.7.3.2.2.3.3.3.cmml">i</mi></msub></munderover><mrow id="S3.E1.m1.7.7.3.2.2.2" xref="S3.E1.m1.7.7.3.2.2.2.cmml"><mi id="S3.E1.m1.7.7.3.2.2.2.4" xref="S3.E1.m1.7.7.3.2.2.2.4.cmml">H</mi><mo id="S3.E1.m1.7.7.3.2.2.2.3" xref="S3.E1.m1.7.7.3.2.2.2.3.cmml">⁢</mo><mrow id="S3.E1.m1.7.7.3.2.2.2.2.2" xref="S3.E1.m1.7.7.3.2.2.2.2.3.cmml"><mo id="S3.E1.m1.7.7.3.2.2.2.2.2.3" stretchy="false" xref="S3.E1.m1.7.7.3.2.2.2.2.3.cmml">(</mo><msub id="S3.E1.m1.6.6.2.1.1.1.1.1.1" xref="S3.E1.m1.6.6.2.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.6.6.2.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.2.1.1.1.1.1.1.2.cmml">𝐘</mi><mi id="S3.E1.m1.6.6.2.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.2.1.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.E1.m1.7.7.3.2.2.2.2.2.4" xref="S3.E1.m1.7.7.3.2.2.2.2.3.cmml">,</mo><mrow id="S3.E1.m1.7.7.3.2.2.2.2.2.2" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.cmml"><mi id="S3.E1.m1.7.7.3.2.2.2.2.2.2.3" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.3.cmml">σ</mi><mo id="S3.E1.m1.7.7.3.2.2.2.2.2.2.2" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.2.cmml">⁢</mo><mrow id="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.cmml"><mo id="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.2" stretchy="false" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.cmml">(</mo><msub id="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.cmml"><mi id="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.2" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.2.cmml">𝐙</mi><mi id="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.3" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.3.cmml">n</mi></msub><mo id="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.3" stretchy="false" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.7.7.3.2.2.2.2.2.5" stretchy="false" xref="S3.E1.m1.7.7.3.2.2.2.2.3.cmml">)</mo></mrow><mo id="S3.E1.m1.7.7.3.2.2.2.3a" xref="S3.E1.m1.7.7.3.2.2.2.3.cmml">⁢</mo><mtext id="S3.E1.m1.7.7.3.2.2.2.5" xref="S3.E1.m1.7.7.3.2.2.2.5a.cmml">.</mtext></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.7b"><apply id="S3.E1.m1.7.7.cmml" xref="S3.E1.m1.7.7"><and id="S3.E1.m1.7.7a.cmml" xref="S3.E1.m1.7.7"></and><apply id="S3.E1.m1.7.7b.cmml" xref="S3.E1.m1.7.7"><eq id="S3.E1.m1.7.7.6.cmml" xref="S3.E1.m1.7.7.6"></eq><apply id="S3.E1.m1.7.7.5.cmml" xref="S3.E1.m1.7.7.5"><times id="S3.E1.m1.7.7.5.1.cmml" xref="S3.E1.m1.7.7.5.1"></times><apply id="S3.E1.m1.7.7.5.2.cmml" xref="S3.E1.m1.7.7.5.2"><csymbol cd="ambiguous" id="S3.E1.m1.7.7.5.2.1.cmml" xref="S3.E1.m1.7.7.5.2">subscript</csymbol><ci id="S3.E1.m1.7.7.5.2.2.cmml" xref="S3.E1.m1.7.7.5.2.2">ℓ</ci><ci id="S3.E1.m1.7.7.5.2.3a.cmml" xref="S3.E1.m1.7.7.5.2.3"><mtext id="S3.E1.m1.7.7.5.2.3.cmml" mathsize="70%" xref="S3.E1.m1.7.7.5.2.3">NTP</mtext></ci></apply><ci id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3">𝒟</ci></apply><apply id="S3.E1.m1.5.5.1.cmml" xref="S3.E1.m1.5.5.1"><minus id="S3.E1.m1.5.5.1.2.cmml" xref="S3.E1.m1.5.5.1"></minus><apply id="S3.E1.m1.5.5.1.1.cmml" xref="S3.E1.m1.5.5.1.1"><apply id="S3.E1.m1.5.5.1.1.2.cmml" xref="S3.E1.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.2.1.cmml" xref="S3.E1.m1.5.5.1.1.2">superscript</csymbol><apply id="S3.E1.m1.5.5.1.1.2.2.cmml" xref="S3.E1.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.2.2.1.cmml" xref="S3.E1.m1.5.5.1.1.2">subscript</csymbol><sum id="S3.E1.m1.5.5.1.1.2.2.2.cmml" xref="S3.E1.m1.5.5.1.1.2.2.2"></sum><apply id="S3.E1.m1.5.5.1.1.2.2.3.cmml" xref="S3.E1.m1.5.5.1.1.2.2.3"><eq id="S3.E1.m1.5.5.1.1.2.2.3.1.cmml" xref="S3.E1.m1.5.5.1.1.2.2.3.1"></eq><ci id="S3.E1.m1.5.5.1.1.2.2.3.2.cmml" xref="S3.E1.m1.5.5.1.1.2.2.3.2">𝑖</ci><cn id="S3.E1.m1.5.5.1.1.2.2.3.3.cmml" type="integer" xref="S3.E1.m1.5.5.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E1.m1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.3"><abs id="S3.E1.m1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.3.1"></abs><ci id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1">𝒟</ci></apply></apply><apply id="S3.E1.m1.5.5.1.1.1.cmml" xref="S3.E1.m1.5.5.1.1.1"><apply id="S3.E1.m1.5.5.1.1.1.2.cmml" xref="S3.E1.m1.5.5.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.1.2.1.cmml" xref="S3.E1.m1.5.5.1.1.1.2">superscript</csymbol><apply id="S3.E1.m1.5.5.1.1.1.2.2.cmml" xref="S3.E1.m1.5.5.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.1.2.2.1.cmml" xref="S3.E1.m1.5.5.1.1.1.2">subscript</csymbol><sum id="S3.E1.m1.5.5.1.1.1.2.2.2.cmml" xref="S3.E1.m1.5.5.1.1.1.2.2.2"></sum><apply id="S3.E1.m1.5.5.1.1.1.2.2.3.cmml" xref="S3.E1.m1.5.5.1.1.1.2.2.3"><eq id="S3.E1.m1.5.5.1.1.1.2.2.3.1.cmml" xref="S3.E1.m1.5.5.1.1.1.2.2.3.1"></eq><ci id="S3.E1.m1.5.5.1.1.1.2.2.3.2.cmml" xref="S3.E1.m1.5.5.1.1.1.2.2.3.2">𝑛</ci><cn id="S3.E1.m1.5.5.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E1.m1.5.5.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E1.m1.5.5.1.1.1.2.3.cmml" xref="S3.E1.m1.5.5.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.1.2.3.1.cmml" xref="S3.E1.m1.5.5.1.1.1.2.3">subscript</csymbol><ci id="S3.E1.m1.5.5.1.1.1.2.3.2.cmml" xref="S3.E1.m1.5.5.1.1.1.2.3.2">𝑁</ci><ci id="S3.E1.m1.5.5.1.1.1.2.3.3.cmml" xref="S3.E1.m1.5.5.1.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.E1.m1.5.5.1.1.1.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1"><times id="S3.E1.m1.5.5.1.1.1.1.2.cmml" xref="S3.E1.m1.5.5.1.1.1.1.2"></times><apply id="S3.E1.m1.5.5.1.1.1.1.3.cmml" xref="S3.E1.m1.5.5.1.1.1.1.3"><log id="S3.E1.m1.5.5.1.1.1.1.3.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1.3.1"></log><ci id="S3.E1.m1.5.5.1.1.1.1.3.2.cmml" xref="S3.E1.m1.5.5.1.1.1.1.3.2">𝑝</ci></apply><apply id="S3.E1.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.5.5.1.1.1.1.1.1.1.4.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.4">conditional</csymbol><apply id="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.5">subscript</csymbol><ci id="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.2.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.2">𝑦</ci><ci id="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.3.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.5.3">𝑛</ci></apply><list id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.4.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3"><apply id="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.2">𝒳</ci><ci id="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.2">𝑦</ci><cn id="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.2.2.2.3">1</cn></apply><ci id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4">…</ci><apply id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.2">𝑦</ci><apply id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3"><minus id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.1"></minus><ci id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.2.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.2">𝑛</ci><cn id="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.3.cmml" type="integer" xref="S3.E1.m1.5.5.1.1.1.1.1.1.1.3.3.3.3.3">1</cn></apply></apply></list></apply></apply></apply></apply></apply></apply><apply id="S3.E1.m1.7.7c.cmml" xref="S3.E1.m1.7.7"><eq id="S3.E1.m1.7.7.7.cmml" xref="S3.E1.m1.7.7.7"></eq><share href="https://arxiv.org/html/2410.05248v1#S3.E1.m1.5.5.1.cmml" id="S3.E1.m1.7.7d.cmml" xref="S3.E1.m1.7.7"></share><apply id="S3.E1.m1.7.7.3.cmml" xref="S3.E1.m1.7.7.3"><minus id="S3.E1.m1.7.7.3.3.cmml" xref="S3.E1.m1.7.7.3"></minus><apply id="S3.E1.m1.7.7.3.2.cmml" xref="S3.E1.m1.7.7.3.2"><apply id="S3.E1.m1.7.7.3.2.3.cmml" xref="S3.E1.m1.7.7.3.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.7.7.3.2.3.1.cmml" xref="S3.E1.m1.7.7.3.2.3">superscript</csymbol><apply id="S3.E1.m1.7.7.3.2.3.2.cmml" xref="S3.E1.m1.7.7.3.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.7.7.3.2.3.2.1.cmml" xref="S3.E1.m1.7.7.3.2.3">subscript</csymbol><sum id="S3.E1.m1.7.7.3.2.3.2.2.cmml" xref="S3.E1.m1.7.7.3.2.3.2.2"></sum><apply id="S3.E1.m1.7.7.3.2.3.2.3.cmml" xref="S3.E1.m1.7.7.3.2.3.2.3"><eq id="S3.E1.m1.7.7.3.2.3.2.3.1.cmml" xref="S3.E1.m1.7.7.3.2.3.2.3.1"></eq><ci id="S3.E1.m1.7.7.3.2.3.2.3.2.cmml" xref="S3.E1.m1.7.7.3.2.3.2.3.2">𝑖</ci><cn id="S3.E1.m1.7.7.3.2.3.2.3.3.cmml" type="integer" xref="S3.E1.m1.7.7.3.2.3.2.3.3">1</cn></apply></apply><apply id="S3.E1.m1.2.2.1.2.cmml" xref="S3.E1.m1.2.2.1.3"><abs id="S3.E1.m1.2.2.1.2.1.cmml" xref="S3.E1.m1.2.2.1.3.1"></abs><ci id="S3.E1.m1.2.2.1.1.cmml" xref="S3.E1.m1.2.2.1.1">𝒟</ci></apply></apply><apply id="S3.E1.m1.7.7.3.2.2.cmml" xref="S3.E1.m1.7.7.3.2.2"><apply id="S3.E1.m1.7.7.3.2.2.3.cmml" xref="S3.E1.m1.7.7.3.2.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.7.7.3.2.2.3.1.cmml" xref="S3.E1.m1.7.7.3.2.2.3">superscript</csymbol><apply id="S3.E1.m1.7.7.3.2.2.3.2.cmml" xref="S3.E1.m1.7.7.3.2.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.7.7.3.2.2.3.2.1.cmml" xref="S3.E1.m1.7.7.3.2.2.3">subscript</csymbol><sum id="S3.E1.m1.7.7.3.2.2.3.2.2.cmml" xref="S3.E1.m1.7.7.3.2.2.3.2.2"></sum><apply id="S3.E1.m1.7.7.3.2.2.3.2.3.cmml" xref="S3.E1.m1.7.7.3.2.2.3.2.3"><eq id="S3.E1.m1.7.7.3.2.2.3.2.3.1.cmml" xref="S3.E1.m1.7.7.3.2.2.3.2.3.1"></eq><ci id="S3.E1.m1.7.7.3.2.2.3.2.3.2.cmml" xref="S3.E1.m1.7.7.3.2.2.3.2.3.2">𝑛</ci><cn id="S3.E1.m1.7.7.3.2.2.3.2.3.3.cmml" type="integer" xref="S3.E1.m1.7.7.3.2.2.3.2.3.3">1</cn></apply></apply><apply id="S3.E1.m1.7.7.3.2.2.3.3.cmml" xref="S3.E1.m1.7.7.3.2.2.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.7.7.3.2.2.3.3.1.cmml" xref="S3.E1.m1.7.7.3.2.2.3.3">subscript</csymbol><ci id="S3.E1.m1.7.7.3.2.2.3.3.2.cmml" xref="S3.E1.m1.7.7.3.2.2.3.3.2">𝑁</ci><ci id="S3.E1.m1.7.7.3.2.2.3.3.3.cmml" xref="S3.E1.m1.7.7.3.2.2.3.3.3">𝑖</ci></apply></apply><apply id="S3.E1.m1.7.7.3.2.2.2.cmml" xref="S3.E1.m1.7.7.3.2.2.2"><times id="S3.E1.m1.7.7.3.2.2.2.3.cmml" xref="S3.E1.m1.7.7.3.2.2.2.3"></times><ci id="S3.E1.m1.7.7.3.2.2.2.4.cmml" xref="S3.E1.m1.7.7.3.2.2.2.4">𝐻</ci><interval closure="open" id="S3.E1.m1.7.7.3.2.2.2.2.3.cmml" xref="S3.E1.m1.7.7.3.2.2.2.2.2"><apply id="S3.E1.m1.6.6.2.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.2.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.6.6.2.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.2.1.1.1.1.1.1.2">𝐘</ci><ci id="S3.E1.m1.6.6.2.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.6.6.2.1.1.1.1.1.1.3">𝑛</ci></apply><apply id="S3.E1.m1.7.7.3.2.2.2.2.2.2.cmml" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2"><times id="S3.E1.m1.7.7.3.2.2.2.2.2.2.2.cmml" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.2"></times><ci id="S3.E1.m1.7.7.3.2.2.2.2.2.2.3.cmml" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.3">𝜎</ci><apply id="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.cmml" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.1.cmml" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1">subscript</csymbol><ci id="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.2.cmml" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.2">𝐙</ci><ci id="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.3.cmml" xref="S3.E1.m1.7.7.3.2.2.2.2.2.2.1.1.1.3">𝑛</ci></apply></apply></interval><ci id="S3.E1.m1.7.7.3.2.2.2.5a.cmml" xref="S3.E1.m1.7.7.3.2.2.2.5"><mtext id="S3.E1.m1.7.7.3.2.2.2.5.cmml" xref="S3.E1.m1.7.7.3.2.2.2.5">.</mtext></ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.7c">\displaystyle\ell_{\text{NTP}}(\mathcal{D})=-\sum_{i=1}^{|\mathcal{D}|}\sum_{n%
=1}^{N_{i}}\log p(y_{n}\,|\,\mathcal{X}_{i},y_{1},\dots,y_{n-1})=-\sum_{i=1}^{%
|\mathcal{D}|}\sum_{n=1}^{N_{i}}H(\mathbf{Y}_{n},\sigma(\mathbf{Z}_{n}))\text{.}</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.7d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( caligraphic_D ) = - ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_D | end_POSTSUPERSCRIPT ∑ start_POSTSUBSCRIPT italic_n = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUPERSCRIPT roman_log italic_p ( italic_y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT | caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_y start_POSTSUBSCRIPT italic_n - 1 end_POSTSUBSCRIPT ) = - ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_D | end_POSTSUPERSCRIPT ∑ start_POSTSUBSCRIPT italic_n = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUPERSCRIPT italic_H ( bold_Y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_σ ( bold_Z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p1.17">This loss equals the sum of negative cross-entropy <math alttext="H" class="ltx_Math" display="inline" id="S3.SS1.p1.10.m1.1"><semantics id="S3.SS1.p1.10.m1.1a"><mi id="S3.SS1.p1.10.m1.1.1" xref="S3.SS1.p1.10.m1.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m1.1b"><ci id="S3.SS1.p1.10.m1.1.1.cmml" xref="S3.SS1.p1.10.m1.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m1.1c">H</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.10.m1.1d">italic_H</annotation></semantics></math> between <math alttext="\mathbf{Y}_{n}" class="ltx_Math" display="inline" id="S3.SS1.p1.11.m2.1"><semantics id="S3.SS1.p1.11.m2.1a"><msub id="S3.SS1.p1.11.m2.1.1" xref="S3.SS1.p1.11.m2.1.1.cmml"><mi id="S3.SS1.p1.11.m2.1.1.2" xref="S3.SS1.p1.11.m2.1.1.2.cmml">𝐘</mi><mi id="S3.SS1.p1.11.m2.1.1.3" xref="S3.SS1.p1.11.m2.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m2.1b"><apply id="S3.SS1.p1.11.m2.1.1.cmml" xref="S3.SS1.p1.11.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m2.1.1.1.cmml" xref="S3.SS1.p1.11.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.11.m2.1.1.2.cmml" xref="S3.SS1.p1.11.m2.1.1.2">𝐘</ci><ci id="S3.SS1.p1.11.m2.1.1.3.cmml" xref="S3.SS1.p1.11.m2.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m2.1c">\mathbf{Y}_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.11.m2.1d">bold_Y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathbf{Z}_{n}" class="ltx_Math" display="inline" id="S3.SS1.p1.12.m3.1"><semantics id="S3.SS1.p1.12.m3.1a"><msub id="S3.SS1.p1.12.m3.1.1" xref="S3.SS1.p1.12.m3.1.1.cmml"><mi id="S3.SS1.p1.12.m3.1.1.2" xref="S3.SS1.p1.12.m3.1.1.2.cmml">𝐙</mi><mi id="S3.SS1.p1.12.m3.1.1.3" xref="S3.SS1.p1.12.m3.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m3.1b"><apply id="S3.SS1.p1.12.m3.1.1.cmml" xref="S3.SS1.p1.12.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m3.1.1.1.cmml" xref="S3.SS1.p1.12.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.12.m3.1.1.2.cmml" xref="S3.SS1.p1.12.m3.1.1.2">𝐙</ci><ci id="S3.SS1.p1.12.m3.1.1.3.cmml" xref="S3.SS1.p1.12.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m3.1c">\mathbf{Z}_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.12.m3.1d">bold_Z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> after softmax <math alttext="\sigma" class="ltx_Math" display="inline" id="S3.SS1.p1.13.m4.1"><semantics id="S3.SS1.p1.13.m4.1a"><mi id="S3.SS1.p1.13.m4.1.1" xref="S3.SS1.p1.13.m4.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.13.m4.1b"><ci id="S3.SS1.p1.13.m4.1.1.cmml" xref="S3.SS1.p1.13.m4.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m4.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.13.m4.1d">italic_σ</annotation></semantics></math>, where <math alttext="\mathbf{Y}_{n}" class="ltx_Math" display="inline" id="S3.SS1.p1.14.m5.1"><semantics id="S3.SS1.p1.14.m5.1a"><msub id="S3.SS1.p1.14.m5.1.1" xref="S3.SS1.p1.14.m5.1.1.cmml"><mi id="S3.SS1.p1.14.m5.1.1.2" xref="S3.SS1.p1.14.m5.1.1.2.cmml">𝐘</mi><mi id="S3.SS1.p1.14.m5.1.1.3" xref="S3.SS1.p1.14.m5.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.14.m5.1b"><apply id="S3.SS1.p1.14.m5.1.1.cmml" xref="S3.SS1.p1.14.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.14.m5.1.1.1.cmml" xref="S3.SS1.p1.14.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.14.m5.1.1.2.cmml" xref="S3.SS1.p1.14.m5.1.1.2">𝐘</ci><ci id="S3.SS1.p1.14.m5.1.1.3.cmml" xref="S3.SS1.p1.14.m5.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.14.m5.1c">\mathbf{Y}_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.14.m5.1d">bold_Y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> is the one-hot encoding of the <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p1.15.m6.1"><semantics id="S3.SS1.p1.15.m6.1a"><mi id="S3.SS1.p1.15.m6.1.1" xref="S3.SS1.p1.15.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.15.m6.1b"><ci id="S3.SS1.p1.15.m6.1.1.cmml" xref="S3.SS1.p1.15.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.15.m6.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.15.m6.1d">italic_n</annotation></semantics></math>-th token in <math alttext="\mathcal{Y}_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.16.m7.1"><semantics id="S3.SS1.p1.16.m7.1a"><msub id="S3.SS1.p1.16.m7.1.1" xref="S3.SS1.p1.16.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.16.m7.1.1.2" xref="S3.SS1.p1.16.m7.1.1.2.cmml">𝒴</mi><mi id="S3.SS1.p1.16.m7.1.1.3" xref="S3.SS1.p1.16.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.16.m7.1b"><apply id="S3.SS1.p1.16.m7.1.1.cmml" xref="S3.SS1.p1.16.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.16.m7.1.1.1.cmml" xref="S3.SS1.p1.16.m7.1.1">subscript</csymbol><ci id="S3.SS1.p1.16.m7.1.1.2.cmml" xref="S3.SS1.p1.16.m7.1.1.2">𝒴</ci><ci id="S3.SS1.p1.16.m7.1.1.3.cmml" xref="S3.SS1.p1.16.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.16.m7.1c">\mathcal{Y}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.16.m7.1d">caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, and <math alttext="\mathbf{Z}_{n}=\text{LLM}(\mathcal{X}_{i},y_{1},\dots,y_{n-1})" class="ltx_Math" display="inline" id="S3.SS1.p1.17.m8.4"><semantics id="S3.SS1.p1.17.m8.4a"><mrow id="S3.SS1.p1.17.m8.4.4" xref="S3.SS1.p1.17.m8.4.4.cmml"><msub id="S3.SS1.p1.17.m8.4.4.5" xref="S3.SS1.p1.17.m8.4.4.5.cmml"><mi id="S3.SS1.p1.17.m8.4.4.5.2" xref="S3.SS1.p1.17.m8.4.4.5.2.cmml">𝐙</mi><mi id="S3.SS1.p1.17.m8.4.4.5.3" xref="S3.SS1.p1.17.m8.4.4.5.3.cmml">n</mi></msub><mo id="S3.SS1.p1.17.m8.4.4.4" xref="S3.SS1.p1.17.m8.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.17.m8.4.4.3" xref="S3.SS1.p1.17.m8.4.4.3.cmml"><mtext id="S3.SS1.p1.17.m8.4.4.3.5" xref="S3.SS1.p1.17.m8.4.4.3.5a.cmml">LLM</mtext><mo id="S3.SS1.p1.17.m8.4.4.3.4" xref="S3.SS1.p1.17.m8.4.4.3.4.cmml">⁢</mo><mrow id="S3.SS1.p1.17.m8.4.4.3.3.3" xref="S3.SS1.p1.17.m8.4.4.3.3.4.cmml"><mo id="S3.SS1.p1.17.m8.4.4.3.3.3.4" stretchy="false" xref="S3.SS1.p1.17.m8.4.4.3.3.4.cmml">(</mo><msub id="S3.SS1.p1.17.m8.2.2.1.1.1.1" xref="S3.SS1.p1.17.m8.2.2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.17.m8.2.2.1.1.1.1.2" xref="S3.SS1.p1.17.m8.2.2.1.1.1.1.2.cmml">𝒳</mi><mi id="S3.SS1.p1.17.m8.2.2.1.1.1.1.3" xref="S3.SS1.p1.17.m8.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.p1.17.m8.4.4.3.3.3.5" xref="S3.SS1.p1.17.m8.4.4.3.3.4.cmml">,</mo><msub id="S3.SS1.p1.17.m8.3.3.2.2.2.2" xref="S3.SS1.p1.17.m8.3.3.2.2.2.2.cmml"><mi id="S3.SS1.p1.17.m8.3.3.2.2.2.2.2" xref="S3.SS1.p1.17.m8.3.3.2.2.2.2.2.cmml">y</mi><mn id="S3.SS1.p1.17.m8.3.3.2.2.2.2.3" xref="S3.SS1.p1.17.m8.3.3.2.2.2.2.3.cmml">1</mn></msub><mo id="S3.SS1.p1.17.m8.4.4.3.3.3.6" xref="S3.SS1.p1.17.m8.4.4.3.3.4.cmml">,</mo><mi id="S3.SS1.p1.17.m8.1.1" mathvariant="normal" xref="S3.SS1.p1.17.m8.1.1.cmml">…</mi><mo id="S3.SS1.p1.17.m8.4.4.3.3.3.7" xref="S3.SS1.p1.17.m8.4.4.3.3.4.cmml">,</mo><msub id="S3.SS1.p1.17.m8.4.4.3.3.3.3" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.cmml"><mi id="S3.SS1.p1.17.m8.4.4.3.3.3.3.2" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.2.cmml">y</mi><mrow id="S3.SS1.p1.17.m8.4.4.3.3.3.3.3" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.cmml"><mi id="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.2" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.2.cmml">n</mi><mo id="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.1" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.1.cmml">−</mo><mn id="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.3" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS1.p1.17.m8.4.4.3.3.3.8" stretchy="false" xref="S3.SS1.p1.17.m8.4.4.3.3.4.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.17.m8.4b"><apply id="S3.SS1.p1.17.m8.4.4.cmml" xref="S3.SS1.p1.17.m8.4.4"><eq id="S3.SS1.p1.17.m8.4.4.4.cmml" xref="S3.SS1.p1.17.m8.4.4.4"></eq><apply id="S3.SS1.p1.17.m8.4.4.5.cmml" xref="S3.SS1.p1.17.m8.4.4.5"><csymbol cd="ambiguous" id="S3.SS1.p1.17.m8.4.4.5.1.cmml" xref="S3.SS1.p1.17.m8.4.4.5">subscript</csymbol><ci id="S3.SS1.p1.17.m8.4.4.5.2.cmml" xref="S3.SS1.p1.17.m8.4.4.5.2">𝐙</ci><ci id="S3.SS1.p1.17.m8.4.4.5.3.cmml" xref="S3.SS1.p1.17.m8.4.4.5.3">𝑛</ci></apply><apply id="S3.SS1.p1.17.m8.4.4.3.cmml" xref="S3.SS1.p1.17.m8.4.4.3"><times id="S3.SS1.p1.17.m8.4.4.3.4.cmml" xref="S3.SS1.p1.17.m8.4.4.3.4"></times><ci id="S3.SS1.p1.17.m8.4.4.3.5a.cmml" xref="S3.SS1.p1.17.m8.4.4.3.5"><mtext id="S3.SS1.p1.17.m8.4.4.3.5.cmml" xref="S3.SS1.p1.17.m8.4.4.3.5">LLM</mtext></ci><vector id="S3.SS1.p1.17.m8.4.4.3.3.4.cmml" xref="S3.SS1.p1.17.m8.4.4.3.3.3"><apply id="S3.SS1.p1.17.m8.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.17.m8.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.17.m8.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p1.17.m8.2.2.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.17.m8.2.2.1.1.1.1.2.cmml" xref="S3.SS1.p1.17.m8.2.2.1.1.1.1.2">𝒳</ci><ci id="S3.SS1.p1.17.m8.2.2.1.1.1.1.3.cmml" xref="S3.SS1.p1.17.m8.2.2.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.p1.17.m8.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.17.m8.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.17.m8.3.3.2.2.2.2.1.cmml" xref="S3.SS1.p1.17.m8.3.3.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.17.m8.3.3.2.2.2.2.2.cmml" xref="S3.SS1.p1.17.m8.3.3.2.2.2.2.2">𝑦</ci><cn id="S3.SS1.p1.17.m8.3.3.2.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.17.m8.3.3.2.2.2.2.3">1</cn></apply><ci id="S3.SS1.p1.17.m8.1.1.cmml" xref="S3.SS1.p1.17.m8.1.1">…</ci><apply id="S3.SS1.p1.17.m8.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.17.m8.4.4.3.3.3.3.1.cmml" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.17.m8.4.4.3.3.3.3.2.cmml" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.2">𝑦</ci><apply id="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.cmml" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.3"><minus id="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.1.cmml" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.1"></minus><ci id="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.2.cmml" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.2">𝑛</ci><cn id="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.3.cmml" type="integer" xref="S3.SS1.p1.17.m8.4.4.3.3.3.3.3.3">1</cn></apply></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.17.m8.4c">\mathbf{Z}_{n}=\text{LLM}(\mathcal{X}_{i},y_{1},\dots,y_{n-1})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.17.m8.4d">bold_Z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT = LLM ( caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_y start_POSTSUBSCRIPT italic_n - 1 end_POSTSUBSCRIPT )</annotation></semantics></math> is the corresponding representation generated by the LLM’s causal language modeling head.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1">To improve the effectiveness of SFT, existing work <cite class="ltx_cite ltx_citemacro_citep">(Zhou et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib71" title="">2023</a>; Chen et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib10" title="">2024</a>)</cite> has primarily focused on providing higher-quality SFT datasets.
However, these approaches often lack an insightful understanding of SFT datasets and incur significant computational and labor costs, limiting scalability and performance gains.
In response, we propose SFTMix, a novel instruction-tuning recipe in the following sections, which enhances instruction-tuning performance beyond the conventional NTP paradigm without relying on well-curated datasets.</p>
</div>
<figure class="ltx_figure" id="S3.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="325" id="S3.F1.g1" src="https://arxiv.org/html/2410.05248v1/x1.png" width="761">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>The overall pipeline of the proposed SFTMix recipe for LLM instruction tuning. Given an SFT dataset <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.F1.10.m1.1"><semantics id="S3.F1.10.m1.1b"><mi class="ltx_font_mathcaligraphic" id="S3.F1.10.m1.1.1" xref="S3.F1.10.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.F1.10.m1.1c"><ci id="S3.F1.10.m1.1.1.cmml" xref="S3.F1.10.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.10.m1.1d">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.F1.10.m1.1e">caligraphic_D</annotation></semantics></math>, we (1) train a reference LLM on <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.F1.11.m2.1"><semantics id="S3.F1.11.m2.1b"><mi class="ltx_font_mathcaligraphic" id="S3.F1.11.m2.1.1" xref="S3.F1.11.m2.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.F1.11.m2.1c"><ci id="S3.F1.11.m2.1.1.cmml" xref="S3.F1.11.m2.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.11.m2.1d">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.F1.11.m2.1e">caligraphic_D</annotation></semantics></math> using NTP and (2) compute <math alttext="\text{Conf}\,(\mathcal{Y}_{i}\,|\,\mathcal{X}_{i})" class="ltx_Math" display="inline" id="S3.F1.12.m3.1"><semantics id="S3.F1.12.m3.1b"><mrow id="S3.F1.12.m3.1.1" xref="S3.F1.12.m3.1.1.cmml"><mtext id="S3.F1.12.m3.1.1.3" xref="S3.F1.12.m3.1.1.3a.cmml">Conf</mtext><mo id="S3.F1.12.m3.1.1.2" lspace="0.170em" xref="S3.F1.12.m3.1.1.2.cmml">⁢</mo><mrow id="S3.F1.12.m3.1.1.1.1" xref="S3.F1.12.m3.1.1.1.1.1.cmml"><mo id="S3.F1.12.m3.1.1.1.1.2" stretchy="false" xref="S3.F1.12.m3.1.1.1.1.1.cmml">(</mo><mrow id="S3.F1.12.m3.1.1.1.1.1" xref="S3.F1.12.m3.1.1.1.1.1.cmml"><msub id="S3.F1.12.m3.1.1.1.1.1.2" xref="S3.F1.12.m3.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.F1.12.m3.1.1.1.1.1.2.2" xref="S3.F1.12.m3.1.1.1.1.1.2.2.cmml">𝒴</mi><mi id="S3.F1.12.m3.1.1.1.1.1.2.3" xref="S3.F1.12.m3.1.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S3.F1.12.m3.1.1.1.1.1.1" rspace="0.448em" xref="S3.F1.12.m3.1.1.1.1.1.1.cmml">|</mo><msub id="S3.F1.12.m3.1.1.1.1.1.3" xref="S3.F1.12.m3.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.F1.12.m3.1.1.1.1.1.3.2" xref="S3.F1.12.m3.1.1.1.1.1.3.2.cmml">𝒳</mi><mi id="S3.F1.12.m3.1.1.1.1.1.3.3" xref="S3.F1.12.m3.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.F1.12.m3.1.1.1.1.3" stretchy="false" xref="S3.F1.12.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.F1.12.m3.1c"><apply id="S3.F1.12.m3.1.1.cmml" xref="S3.F1.12.m3.1.1"><times id="S3.F1.12.m3.1.1.2.cmml" xref="S3.F1.12.m3.1.1.2"></times><ci id="S3.F1.12.m3.1.1.3a.cmml" xref="S3.F1.12.m3.1.1.3"><mtext id="S3.F1.12.m3.1.1.3.cmml" xref="S3.F1.12.m3.1.1.3">Conf</mtext></ci><apply id="S3.F1.12.m3.1.1.1.1.1.cmml" xref="S3.F1.12.m3.1.1.1.1"><csymbol cd="latexml" id="S3.F1.12.m3.1.1.1.1.1.1.cmml" xref="S3.F1.12.m3.1.1.1.1.1.1">conditional</csymbol><apply id="S3.F1.12.m3.1.1.1.1.1.2.cmml" xref="S3.F1.12.m3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.F1.12.m3.1.1.1.1.1.2.1.cmml" xref="S3.F1.12.m3.1.1.1.1.1.2">subscript</csymbol><ci id="S3.F1.12.m3.1.1.1.1.1.2.2.cmml" xref="S3.F1.12.m3.1.1.1.1.1.2.2">𝒴</ci><ci id="S3.F1.12.m3.1.1.1.1.1.2.3.cmml" xref="S3.F1.12.m3.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.F1.12.m3.1.1.1.1.1.3.cmml" xref="S3.F1.12.m3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.F1.12.m3.1.1.1.1.1.3.1.cmml" xref="S3.F1.12.m3.1.1.1.1.1.3">subscript</csymbol><ci id="S3.F1.12.m3.1.1.1.1.1.3.2.cmml" xref="S3.F1.12.m3.1.1.1.1.1.3.2">𝒳</ci><ci id="S3.F1.12.m3.1.1.1.1.1.3.3.cmml" xref="S3.F1.12.m3.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.12.m3.1d">\text{Conf}\,(\mathcal{Y}_{i}\,|\,\mathcal{X}_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.F1.12.m3.1e">Conf ( caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> for <math alttext="(\mathcal{X}_{i},\mathcal{Y}_{i})\in\mathcal{D}" class="ltx_Math" display="inline" id="S3.F1.13.m4.2"><semantics id="S3.F1.13.m4.2b"><mrow id="S3.F1.13.m4.2.2" xref="S3.F1.13.m4.2.2.cmml"><mrow id="S3.F1.13.m4.2.2.2.2" xref="S3.F1.13.m4.2.2.2.3.cmml"><mo id="S3.F1.13.m4.2.2.2.2.3" stretchy="false" xref="S3.F1.13.m4.2.2.2.3.cmml">(</mo><msub id="S3.F1.13.m4.1.1.1.1.1" xref="S3.F1.13.m4.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.F1.13.m4.1.1.1.1.1.2" xref="S3.F1.13.m4.1.1.1.1.1.2.cmml">𝒳</mi><mi id="S3.F1.13.m4.1.1.1.1.1.3" xref="S3.F1.13.m4.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.F1.13.m4.2.2.2.2.4" xref="S3.F1.13.m4.2.2.2.3.cmml">,</mo><msub id="S3.F1.13.m4.2.2.2.2.2" xref="S3.F1.13.m4.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.F1.13.m4.2.2.2.2.2.2" xref="S3.F1.13.m4.2.2.2.2.2.2.cmml">𝒴</mi><mi id="S3.F1.13.m4.2.2.2.2.2.3" xref="S3.F1.13.m4.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.F1.13.m4.2.2.2.2.5" stretchy="false" xref="S3.F1.13.m4.2.2.2.3.cmml">)</mo></mrow><mo id="S3.F1.13.m4.2.2.3" xref="S3.F1.13.m4.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.F1.13.m4.2.2.4" xref="S3.F1.13.m4.2.2.4.cmml">𝒟</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.F1.13.m4.2c"><apply id="S3.F1.13.m4.2.2.cmml" xref="S3.F1.13.m4.2.2"><in id="S3.F1.13.m4.2.2.3.cmml" xref="S3.F1.13.m4.2.2.3"></in><interval closure="open" id="S3.F1.13.m4.2.2.2.3.cmml" xref="S3.F1.13.m4.2.2.2.2"><apply id="S3.F1.13.m4.1.1.1.1.1.cmml" xref="S3.F1.13.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.F1.13.m4.1.1.1.1.1.1.cmml" xref="S3.F1.13.m4.1.1.1.1.1">subscript</csymbol><ci id="S3.F1.13.m4.1.1.1.1.1.2.cmml" xref="S3.F1.13.m4.1.1.1.1.1.2">𝒳</ci><ci id="S3.F1.13.m4.1.1.1.1.1.3.cmml" xref="S3.F1.13.m4.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.F1.13.m4.2.2.2.2.2.cmml" xref="S3.F1.13.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.F1.13.m4.2.2.2.2.2.1.cmml" xref="S3.F1.13.m4.2.2.2.2.2">subscript</csymbol><ci id="S3.F1.13.m4.2.2.2.2.2.2.cmml" xref="S3.F1.13.m4.2.2.2.2.2.2">𝒴</ci><ci id="S3.F1.13.m4.2.2.2.2.2.3.cmml" xref="S3.F1.13.m4.2.2.2.2.2.3">𝑖</ci></apply></interval><ci id="S3.F1.13.m4.2.2.4.cmml" xref="S3.F1.13.m4.2.2.4">𝒟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.13.m4.2d">(\mathcal{X}_{i},\mathcal{Y}_{i})\in\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.F1.13.m4.2e">( caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ∈ caligraphic_D</annotation></semantics></math> based on the training dynamics of the reference LLM. On this basis, we (3) divide <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.F1.14.m5.1"><semantics id="S3.F1.14.m5.1b"><mi class="ltx_font_mathcaligraphic" id="S3.F1.14.m5.1.1" xref="S3.F1.14.m5.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.F1.14.m5.1c"><ci id="S3.F1.14.m5.1.1.cmml" xref="S3.F1.14.m5.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.14.m5.1d">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.F1.14.m5.1e">caligraphic_D</annotation></semantics></math> into a confident subset <math alttext="\mathcal{D}^{\text{c}}" class="ltx_Math" display="inline" id="S3.F1.15.m6.1"><semantics id="S3.F1.15.m6.1b"><msup id="S3.F1.15.m6.1.1" xref="S3.F1.15.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.F1.15.m6.1.1.2" xref="S3.F1.15.m6.1.1.2.cmml">𝒟</mi><mtext id="S3.F1.15.m6.1.1.3" xref="S3.F1.15.m6.1.1.3a.cmml">c</mtext></msup><annotation-xml encoding="MathML-Content" id="S3.F1.15.m6.1c"><apply id="S3.F1.15.m6.1.1.cmml" xref="S3.F1.15.m6.1.1"><csymbol cd="ambiguous" id="S3.F1.15.m6.1.1.1.cmml" xref="S3.F1.15.m6.1.1">superscript</csymbol><ci id="S3.F1.15.m6.1.1.2.cmml" xref="S3.F1.15.m6.1.1.2">𝒟</ci><ci id="S3.F1.15.m6.1.1.3a.cmml" xref="S3.F1.15.m6.1.1.3"><mtext id="S3.F1.15.m6.1.1.3.cmml" mathsize="70%" xref="S3.F1.15.m6.1.1.3">c</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.15.m6.1d">\mathcal{D}^{\text{c}}</annotation><annotation encoding="application/x-llamapun" id="S3.F1.15.m6.1e">caligraphic_D start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT</annotation></semantics></math> and a relatively unconfident one <math alttext="\mathcal{D}^{\text{u}}" class="ltx_Math" display="inline" id="S3.F1.16.m7.1"><semantics id="S3.F1.16.m7.1b"><msup id="S3.F1.16.m7.1.1" xref="S3.F1.16.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.F1.16.m7.1.1.2" xref="S3.F1.16.m7.1.1.2.cmml">𝒟</mi><mtext id="S3.F1.16.m7.1.1.3" xref="S3.F1.16.m7.1.1.3a.cmml">u</mtext></msup><annotation-xml encoding="MathML-Content" id="S3.F1.16.m7.1c"><apply id="S3.F1.16.m7.1.1.cmml" xref="S3.F1.16.m7.1.1"><csymbol cd="ambiguous" id="S3.F1.16.m7.1.1.1.cmml" xref="S3.F1.16.m7.1.1">superscript</csymbol><ci id="S3.F1.16.m7.1.1.2.cmml" xref="S3.F1.16.m7.1.1.2">𝒟</ci><ci id="S3.F1.16.m7.1.1.3a.cmml" xref="S3.F1.16.m7.1.1.3"><mtext id="S3.F1.16.m7.1.1.3.cmml" mathsize="70%" xref="S3.F1.16.m7.1.1.3">u</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.16.m7.1d">\mathcal{D}^{\text{u}}</annotation><annotation encoding="application/x-llamapun" id="S3.F1.16.m7.1e">caligraphic_D start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT</annotation></semantics></math> of equal size. Finally, given pairs of examples from each subset, we (4) interpolate their one-hot encodings and predicted representations linearly at the token level and (5) incorporate a Mixup-based regularization <math alttext="\ell_{\text{Mixup}}(\mathcal{D}^{\text{c}},\mathcal{D}^{\text{u}})" class="ltx_Math" display="inline" id="S3.F1.17.m8.2"><semantics id="S3.F1.17.m8.2b"><mrow id="S3.F1.17.m8.2.2" xref="S3.F1.17.m8.2.2.cmml"><msub id="S3.F1.17.m8.2.2.4" xref="S3.F1.17.m8.2.2.4.cmml"><mi id="S3.F1.17.m8.2.2.4.2" mathvariant="normal" xref="S3.F1.17.m8.2.2.4.2.cmml">ℓ</mi><mtext id="S3.F1.17.m8.2.2.4.3" xref="S3.F1.17.m8.2.2.4.3a.cmml">Mixup</mtext></msub><mo id="S3.F1.17.m8.2.2.3" xref="S3.F1.17.m8.2.2.3.cmml">⁢</mo><mrow id="S3.F1.17.m8.2.2.2.2" xref="S3.F1.17.m8.2.2.2.3.cmml"><mo id="S3.F1.17.m8.2.2.2.2.3" stretchy="false" xref="S3.F1.17.m8.2.2.2.3.cmml">(</mo><msup id="S3.F1.17.m8.1.1.1.1.1" xref="S3.F1.17.m8.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.F1.17.m8.1.1.1.1.1.2" xref="S3.F1.17.m8.1.1.1.1.1.2.cmml">𝒟</mi><mtext id="S3.F1.17.m8.1.1.1.1.1.3" xref="S3.F1.17.m8.1.1.1.1.1.3a.cmml">c</mtext></msup><mo id="S3.F1.17.m8.2.2.2.2.4" xref="S3.F1.17.m8.2.2.2.3.cmml">,</mo><msup id="S3.F1.17.m8.2.2.2.2.2" xref="S3.F1.17.m8.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.F1.17.m8.2.2.2.2.2.2" xref="S3.F1.17.m8.2.2.2.2.2.2.cmml">𝒟</mi><mtext id="S3.F1.17.m8.2.2.2.2.2.3" xref="S3.F1.17.m8.2.2.2.2.2.3a.cmml">u</mtext></msup><mo id="S3.F1.17.m8.2.2.2.2.5" stretchy="false" xref="S3.F1.17.m8.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.F1.17.m8.2c"><apply id="S3.F1.17.m8.2.2.cmml" xref="S3.F1.17.m8.2.2"><times id="S3.F1.17.m8.2.2.3.cmml" xref="S3.F1.17.m8.2.2.3"></times><apply id="S3.F1.17.m8.2.2.4.cmml" xref="S3.F1.17.m8.2.2.4"><csymbol cd="ambiguous" id="S3.F1.17.m8.2.2.4.1.cmml" xref="S3.F1.17.m8.2.2.4">subscript</csymbol><ci id="S3.F1.17.m8.2.2.4.2.cmml" xref="S3.F1.17.m8.2.2.4.2">ℓ</ci><ci id="S3.F1.17.m8.2.2.4.3a.cmml" xref="S3.F1.17.m8.2.2.4.3"><mtext id="S3.F1.17.m8.2.2.4.3.cmml" mathsize="70%" xref="S3.F1.17.m8.2.2.4.3">Mixup</mtext></ci></apply><interval closure="open" id="S3.F1.17.m8.2.2.2.3.cmml" xref="S3.F1.17.m8.2.2.2.2"><apply id="S3.F1.17.m8.1.1.1.1.1.cmml" xref="S3.F1.17.m8.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.F1.17.m8.1.1.1.1.1.1.cmml" xref="S3.F1.17.m8.1.1.1.1.1">superscript</csymbol><ci id="S3.F1.17.m8.1.1.1.1.1.2.cmml" xref="S3.F1.17.m8.1.1.1.1.1.2">𝒟</ci><ci id="S3.F1.17.m8.1.1.1.1.1.3a.cmml" xref="S3.F1.17.m8.1.1.1.1.1.3"><mtext id="S3.F1.17.m8.1.1.1.1.1.3.cmml" mathsize="70%" xref="S3.F1.17.m8.1.1.1.1.1.3">c</mtext></ci></apply><apply id="S3.F1.17.m8.2.2.2.2.2.cmml" xref="S3.F1.17.m8.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.F1.17.m8.2.2.2.2.2.1.cmml" xref="S3.F1.17.m8.2.2.2.2.2">superscript</csymbol><ci id="S3.F1.17.m8.2.2.2.2.2.2.cmml" xref="S3.F1.17.m8.2.2.2.2.2.2">𝒟</ci><ci id="S3.F1.17.m8.2.2.2.2.2.3a.cmml" xref="S3.F1.17.m8.2.2.2.2.2.3"><mtext id="S3.F1.17.m8.2.2.2.2.2.3.cmml" mathsize="70%" xref="S3.F1.17.m8.2.2.2.2.2.3">u</mtext></ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.17.m8.2d">\ell_{\text{Mixup}}(\mathcal{D}^{\text{c}},\mathcal{D}^{\text{u}})</annotation><annotation encoding="application/x-llamapun" id="S3.F1.17.m8.2e">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( caligraphic_D start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT , caligraphic_D start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT )</annotation></semantics></math> in addition to the NTP loss <math alttext="\ell_{\text{NTP}}(\mathcal{D})" class="ltx_Math" display="inline" id="S3.F1.18.m9.1"><semantics id="S3.F1.18.m9.1b"><mrow id="S3.F1.18.m9.1.2" xref="S3.F1.18.m9.1.2.cmml"><msub id="S3.F1.18.m9.1.2.2" xref="S3.F1.18.m9.1.2.2.cmml"><mi id="S3.F1.18.m9.1.2.2.2" mathvariant="normal" xref="S3.F1.18.m9.1.2.2.2.cmml">ℓ</mi><mtext id="S3.F1.18.m9.1.2.2.3" xref="S3.F1.18.m9.1.2.2.3a.cmml">NTP</mtext></msub><mo id="S3.F1.18.m9.1.2.1" xref="S3.F1.18.m9.1.2.1.cmml">⁢</mo><mrow id="S3.F1.18.m9.1.2.3.2" xref="S3.F1.18.m9.1.2.cmml"><mo id="S3.F1.18.m9.1.2.3.2.1" stretchy="false" xref="S3.F1.18.m9.1.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.F1.18.m9.1.1" xref="S3.F1.18.m9.1.1.cmml">𝒟</mi><mo id="S3.F1.18.m9.1.2.3.2.2" stretchy="false" xref="S3.F1.18.m9.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.F1.18.m9.1c"><apply id="S3.F1.18.m9.1.2.cmml" xref="S3.F1.18.m9.1.2"><times id="S3.F1.18.m9.1.2.1.cmml" xref="S3.F1.18.m9.1.2.1"></times><apply id="S3.F1.18.m9.1.2.2.cmml" xref="S3.F1.18.m9.1.2.2"><csymbol cd="ambiguous" id="S3.F1.18.m9.1.2.2.1.cmml" xref="S3.F1.18.m9.1.2.2">subscript</csymbol><ci id="S3.F1.18.m9.1.2.2.2.cmml" xref="S3.F1.18.m9.1.2.2.2">ℓ</ci><ci id="S3.F1.18.m9.1.2.2.3a.cmml" xref="S3.F1.18.m9.1.2.2.3"><mtext id="S3.F1.18.m9.1.2.2.3.cmml" mathsize="70%" xref="S3.F1.18.m9.1.2.2.3">NTP</mtext></ci></apply><ci id="S3.F1.18.m9.1.1.cmml" xref="S3.F1.18.m9.1.1">𝒟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.18.m9.1d">\ell_{\text{NTP}}(\mathcal{D})</annotation><annotation encoding="application/x-llamapun" id="S3.F1.18.m9.1e">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( caligraphic_D )</annotation></semantics></math> during LLM instruction tuning.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Training Dynamics Identify Subsets with Distinct Confidence Levels</h3>
<div class="ltx_para ltx_noindent" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.5">Suppose we identify <math alttext="C" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">italic_C</annotation></semantics></math> checkpoints of a reference LLM when instruction-tuning it using the NTP task in Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.SS1" title="3.1 Preliminaries of the Conventional NTP Instruction-Tuning Paradigm ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">3.1</span></a>.
We aim to capture the training dynamics of the reference LLM by computing its confidence in generating each pair <math alttext="(\mathcal{X}_{i},\mathcal{Y}_{i})\in\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.2"><semantics id="S3.SS2.p1.2.m2.2a"><mrow id="S3.SS2.p1.2.m2.2.2" xref="S3.SS2.p1.2.m2.2.2.cmml"><mrow id="S3.SS2.p1.2.m2.2.2.2.2" xref="S3.SS2.p1.2.m2.2.2.2.3.cmml"><mo id="S3.SS2.p1.2.m2.2.2.2.2.3" stretchy="false" xref="S3.SS2.p1.2.m2.2.2.2.3.cmml">(</mo><msub id="S3.SS2.p1.2.m2.1.1.1.1.1" xref="S3.SS2.p1.2.m2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.2.m2.1.1.1.1.1.2" xref="S3.SS2.p1.2.m2.1.1.1.1.1.2.cmml">𝒳</mi><mi id="S3.SS2.p1.2.m2.1.1.1.1.1.3" xref="S3.SS2.p1.2.m2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS2.p1.2.m2.2.2.2.2.4" xref="S3.SS2.p1.2.m2.2.2.2.3.cmml">,</mo><msub id="S3.SS2.p1.2.m2.2.2.2.2.2" xref="S3.SS2.p1.2.m2.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.2.m2.2.2.2.2.2.2" xref="S3.SS2.p1.2.m2.2.2.2.2.2.2.cmml">𝒴</mi><mi id="S3.SS2.p1.2.m2.2.2.2.2.2.3" xref="S3.SS2.p1.2.m2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.SS2.p1.2.m2.2.2.2.2.5" stretchy="false" xref="S3.SS2.p1.2.m2.2.2.2.3.cmml">)</mo></mrow><mo id="S3.SS2.p1.2.m2.2.2.3" xref="S3.SS2.p1.2.m2.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.2.m2.2.2.4" xref="S3.SS2.p1.2.m2.2.2.4.cmml">𝒟</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.2b"><apply id="S3.SS2.p1.2.m2.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2"><in id="S3.SS2.p1.2.m2.2.2.3.cmml" xref="S3.SS2.p1.2.m2.2.2.3"></in><interval closure="open" id="S3.SS2.p1.2.m2.2.2.2.3.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2"><apply id="S3.SS2.p1.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.2">𝒳</ci><ci id="S3.SS2.p1.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS2.p1.2.m2.2.2.2.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.2.2.2.2.2.1.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p1.2.m2.2.2.2.2.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2.2.2">𝒴</ci><ci id="S3.SS2.p1.2.m2.2.2.2.2.2.3.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2.2.3">𝑖</ci></apply></interval><ci id="S3.SS2.p1.2.m2.2.2.4.cmml" xref="S3.SS2.p1.2.m2.2.2.4">𝒟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.2c">(\mathcal{X}_{i},\mathcal{Y}_{i})\in\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.2d">( caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ∈ caligraphic_D</annotation></semantics></math>.
More specifically, we define confidence based on the perplexity of <math alttext="\mathcal{Y}_{i}" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1"><semantics id="S3.SS2.p1.3.m3.1a"><msub id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.3.m3.1.1.2" xref="S3.SS2.p1.3.m3.1.1.2.cmml">𝒴</mi><mi id="S3.SS2.p1.3.m3.1.1.3" xref="S3.SS2.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><apply id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.2">𝒴</ci><ci id="S3.SS2.p1.3.m3.1.1.3.cmml" xref="S3.SS2.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">\mathcal{Y}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.1d">caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> given <math alttext="\mathcal{X}_{i}" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m4.1"><semantics id="S3.SS2.p1.4.m4.1a"><msub id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.4.m4.1.1.2" xref="S3.SS2.p1.4.m4.1.1.2.cmml">𝒳</mi><mi id="S3.SS2.p1.4.m4.1.1.3" xref="S3.SS2.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.2">𝒳</ci><ci id="S3.SS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">\mathcal{X}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.4.m4.1d">caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> at each checkpoint <math alttext="c\in\{1,\dots,C\}" class="ltx_Math" display="inline" id="S3.SS2.p1.5.m5.3"><semantics id="S3.SS2.p1.5.m5.3a"><mrow id="S3.SS2.p1.5.m5.3.4" xref="S3.SS2.p1.5.m5.3.4.cmml"><mi id="S3.SS2.p1.5.m5.3.4.2" xref="S3.SS2.p1.5.m5.3.4.2.cmml">c</mi><mo id="S3.SS2.p1.5.m5.3.4.1" xref="S3.SS2.p1.5.m5.3.4.1.cmml">∈</mo><mrow id="S3.SS2.p1.5.m5.3.4.3.2" xref="S3.SS2.p1.5.m5.3.4.3.1.cmml"><mo id="S3.SS2.p1.5.m5.3.4.3.2.1" stretchy="false" xref="S3.SS2.p1.5.m5.3.4.3.1.cmml">{</mo><mn id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml">1</mn><mo id="S3.SS2.p1.5.m5.3.4.3.2.2" xref="S3.SS2.p1.5.m5.3.4.3.1.cmml">,</mo><mi id="S3.SS2.p1.5.m5.2.2" mathvariant="normal" xref="S3.SS2.p1.5.m5.2.2.cmml">…</mi><mo id="S3.SS2.p1.5.m5.3.4.3.2.3" xref="S3.SS2.p1.5.m5.3.4.3.1.cmml">,</mo><mi id="S3.SS2.p1.5.m5.3.3" xref="S3.SS2.p1.5.m5.3.3.cmml">C</mi><mo id="S3.SS2.p1.5.m5.3.4.3.2.4" stretchy="false" xref="S3.SS2.p1.5.m5.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.3b"><apply id="S3.SS2.p1.5.m5.3.4.cmml" xref="S3.SS2.p1.5.m5.3.4"><in id="S3.SS2.p1.5.m5.3.4.1.cmml" xref="S3.SS2.p1.5.m5.3.4.1"></in><ci id="S3.SS2.p1.5.m5.3.4.2.cmml" xref="S3.SS2.p1.5.m5.3.4.2">𝑐</ci><set id="S3.SS2.p1.5.m5.3.4.3.1.cmml" xref="S3.SS2.p1.5.m5.3.4.3.2"><cn id="S3.SS2.p1.5.m5.1.1.cmml" type="integer" xref="S3.SS2.p1.5.m5.1.1">1</cn><ci id="S3.SS2.p1.5.m5.2.2.cmml" xref="S3.SS2.p1.5.m5.2.2">…</ci><ci id="S3.SS2.p1.5.m5.3.3.cmml" xref="S3.SS2.p1.5.m5.3.3">𝐶</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.3c">c\in\{1,\dots,C\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.5.m5.3d">italic_c ∈ { 1 , … , italic_C }</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="A1.EGx2">
<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle\text{Perp}_{c}(\mathcal{Y}_{i}\,|\,\mathcal{X}_{i})=-\frac{1}{N_%
{i}}\sum_{n=1}^{N_{i}}\log p(y_{n}\,|\,\mathcal{X}_{i},y_{1},\dots,y_{n-1})=-%
\frac{1}{N_{i}}\sum_{n=1}^{N_{i}}\mathbf{Y}_{n}^{\top}\log\sigma(\mathbf{Z}_{n%
})\text{,}" class="ltx_Math" display="block" id="S3.E2.m1.4"><semantics id="S3.E2.m1.4a"><mrow id="S3.E2.m1.4.4" xref="S3.E2.m1.4.4.cmml"><mrow id="S3.E2.m1.2.2.1" xref="S3.E2.m1.2.2.1.cmml"><msub id="S3.E2.m1.2.2.1.3" xref="S3.E2.m1.2.2.1.3.cmml"><mtext id="S3.E2.m1.2.2.1.3.2" xref="S3.E2.m1.2.2.1.3.2a.cmml">Perp</mtext><mi id="S3.E2.m1.2.2.1.3.3" xref="S3.E2.m1.2.2.1.3.3.cmml">c</mi></msub><mo id="S3.E2.m1.2.2.1.2" xref="S3.E2.m1.2.2.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.2.2.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.cmml"><mo id="S3.E2.m1.2.2.1.1.1.2" stretchy="false" xref="S3.E2.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.2.2.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.cmml"><msub id="S3.E2.m1.2.2.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.2.2.1.1.1.1.2.2" xref="S3.E2.m1.2.2.1.1.1.1.2.2.cmml">𝒴</mi><mi id="S3.E2.m1.2.2.1.1.1.1.2.3" xref="S3.E2.m1.2.2.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S3.E2.m1.2.2.1.1.1.1.1" rspace="0.448em" xref="S3.E2.m1.2.2.1.1.1.1.1.cmml">|</mo><msub id="S3.E2.m1.2.2.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.2.2.1.1.1.1.3.2" xref="S3.E2.m1.2.2.1.1.1.1.3.2.cmml">𝒳</mi><mi id="S3.E2.m1.2.2.1.1.1.1.3.3" xref="S3.E2.m1.2.2.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E2.m1.2.2.1.1.1.3" stretchy="false" xref="S3.E2.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.4.4.5" xref="S3.E2.m1.4.4.5.cmml">=</mo><mrow id="S3.E2.m1.3.3.2" xref="S3.E2.m1.3.3.2.cmml"><mo id="S3.E2.m1.3.3.2a" xref="S3.E2.m1.3.3.2.cmml">−</mo><mrow id="S3.E2.m1.3.3.2.1" xref="S3.E2.m1.3.3.2.1.cmml"><mfrac id="S3.E2.m1.3.3.2.1.3" xref="S3.E2.m1.3.3.2.1.3.cmml"><mn id="S3.E2.m1.3.3.2.1.3.2" xref="S3.E2.m1.3.3.2.1.3.2.cmml">1</mn><msub id="S3.E2.m1.3.3.2.1.3.3" xref="S3.E2.m1.3.3.2.1.3.3.cmml"><mi id="S3.E2.m1.3.3.2.1.3.3.2" xref="S3.E2.m1.3.3.2.1.3.3.2.cmml">N</mi><mi id="S3.E2.m1.3.3.2.1.3.3.3" xref="S3.E2.m1.3.3.2.1.3.3.3.cmml">i</mi></msub></mfrac><mo id="S3.E2.m1.3.3.2.1.2" xref="S3.E2.m1.3.3.2.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.3.3.2.1.1" xref="S3.E2.m1.3.3.2.1.1.cmml"><munderover id="S3.E2.m1.3.3.2.1.1.2" xref="S3.E2.m1.3.3.2.1.1.2.cmml"><mo id="S3.E2.m1.3.3.2.1.1.2.2.2" movablelimits="false" xref="S3.E2.m1.3.3.2.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E2.m1.3.3.2.1.1.2.2.3" xref="S3.E2.m1.3.3.2.1.1.2.2.3.cmml"><mi id="S3.E2.m1.3.3.2.1.1.2.2.3.2" xref="S3.E2.m1.3.3.2.1.1.2.2.3.2.cmml">n</mi><mo id="S3.E2.m1.3.3.2.1.1.2.2.3.1" xref="S3.E2.m1.3.3.2.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.3.3.2.1.1.2.2.3.3" xref="S3.E2.m1.3.3.2.1.1.2.2.3.3.cmml">1</mn></mrow><msub id="S3.E2.m1.3.3.2.1.1.2.3" xref="S3.E2.m1.3.3.2.1.1.2.3.cmml"><mi id="S3.E2.m1.3.3.2.1.1.2.3.2" xref="S3.E2.m1.3.3.2.1.1.2.3.2.cmml">N</mi><mi id="S3.E2.m1.3.3.2.1.1.2.3.3" xref="S3.E2.m1.3.3.2.1.1.2.3.3.cmml">i</mi></msub></munderover><mrow id="S3.E2.m1.3.3.2.1.1.1" xref="S3.E2.m1.3.3.2.1.1.1.cmml"><mrow id="S3.E2.m1.3.3.2.1.1.1.3" xref="S3.E2.m1.3.3.2.1.1.1.3.cmml"><mi id="S3.E2.m1.3.3.2.1.1.1.3.1" xref="S3.E2.m1.3.3.2.1.1.1.3.1.cmml">log</mi><mo id="S3.E2.m1.3.3.2.1.1.1.3a" lspace="0.167em" xref="S3.E2.m1.3.3.2.1.1.1.3.cmml">⁡</mo><mi id="S3.E2.m1.3.3.2.1.1.1.3.2" xref="S3.E2.m1.3.3.2.1.1.1.3.2.cmml">p</mi></mrow><mo id="S3.E2.m1.3.3.2.1.1.1.2" xref="S3.E2.m1.3.3.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.3.3.2.1.1.1.1.1" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.3.3.2.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.3.3.2.1.1.1.1.1.1" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.cmml"><msub id="S3.E2.m1.3.3.2.1.1.1.1.1.1.5" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.cmml"><mi id="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.2" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.2.cmml">y</mi><mi id="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.3" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.3.cmml">n</mi></msub><mo fence="false" id="S3.E2.m1.3.3.2.1.1.1.1.1.1.4" rspace="0.448em" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.4.cmml">|</mo><mrow id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.4.cmml"><msub id="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.2.cmml">𝒳</mi><mi id="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.4" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.2" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.2.cmml">y</mi><mn id="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.3" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.5" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.4.cmml">,</mo><mi id="S3.E2.m1.1.1" mathvariant="normal" xref="S3.E2.m1.1.1.cmml">…</mi><mo id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.6" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.2" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.2.cmml">y</mi><mrow id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.cmml"><mi id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.2" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.2.cmml">n</mi><mo id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.1" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.1.cmml">−</mo><mn id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.3" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo id="S3.E2.m1.3.3.2.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E2.m1.4.4.6" xref="S3.E2.m1.4.4.6.cmml">=</mo><mrow id="S3.E2.m1.4.4.3" xref="S3.E2.m1.4.4.3.cmml"><mo id="S3.E2.m1.4.4.3a" xref="S3.E2.m1.4.4.3.cmml">−</mo><mrow id="S3.E2.m1.4.4.3.1" xref="S3.E2.m1.4.4.3.1.cmml"><mfrac id="S3.E2.m1.4.4.3.1.3" xref="S3.E2.m1.4.4.3.1.3.cmml"><mn id="S3.E2.m1.4.4.3.1.3.2" xref="S3.E2.m1.4.4.3.1.3.2.cmml">1</mn><msub id="S3.E2.m1.4.4.3.1.3.3" xref="S3.E2.m1.4.4.3.1.3.3.cmml"><mi id="S3.E2.m1.4.4.3.1.3.3.2" xref="S3.E2.m1.4.4.3.1.3.3.2.cmml">N</mi><mi id="S3.E2.m1.4.4.3.1.3.3.3" xref="S3.E2.m1.4.4.3.1.3.3.3.cmml">i</mi></msub></mfrac><mo id="S3.E2.m1.4.4.3.1.2" xref="S3.E2.m1.4.4.3.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.4.4.3.1.1" xref="S3.E2.m1.4.4.3.1.1.cmml"><munderover id="S3.E2.m1.4.4.3.1.1.2" xref="S3.E2.m1.4.4.3.1.1.2.cmml"><mo id="S3.E2.m1.4.4.3.1.1.2.2.2" movablelimits="false" xref="S3.E2.m1.4.4.3.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E2.m1.4.4.3.1.1.2.2.3" xref="S3.E2.m1.4.4.3.1.1.2.2.3.cmml"><mi id="S3.E2.m1.4.4.3.1.1.2.2.3.2" xref="S3.E2.m1.4.4.3.1.1.2.2.3.2.cmml">n</mi><mo id="S3.E2.m1.4.4.3.1.1.2.2.3.1" xref="S3.E2.m1.4.4.3.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.4.4.3.1.1.2.2.3.3" xref="S3.E2.m1.4.4.3.1.1.2.2.3.3.cmml">1</mn></mrow><msub id="S3.E2.m1.4.4.3.1.1.2.3" xref="S3.E2.m1.4.4.3.1.1.2.3.cmml"><mi id="S3.E2.m1.4.4.3.1.1.2.3.2" xref="S3.E2.m1.4.4.3.1.1.2.3.2.cmml">N</mi><mi id="S3.E2.m1.4.4.3.1.1.2.3.3" xref="S3.E2.m1.4.4.3.1.1.2.3.3.cmml">i</mi></msub></munderover><mrow id="S3.E2.m1.4.4.3.1.1.1" xref="S3.E2.m1.4.4.3.1.1.1.cmml"><msubsup id="S3.E2.m1.4.4.3.1.1.1.3" xref="S3.E2.m1.4.4.3.1.1.1.3.cmml"><mi id="S3.E2.m1.4.4.3.1.1.1.3.2.2" xref="S3.E2.m1.4.4.3.1.1.1.3.2.2.cmml">𝐘</mi><mi id="S3.E2.m1.4.4.3.1.1.1.3.2.3" xref="S3.E2.m1.4.4.3.1.1.1.3.2.3.cmml">n</mi><mo id="S3.E2.m1.4.4.3.1.1.1.3.3" xref="S3.E2.m1.4.4.3.1.1.1.3.3.cmml">⊤</mo></msubsup><mo id="S3.E2.m1.4.4.3.1.1.1.2" lspace="0.167em" xref="S3.E2.m1.4.4.3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.4.4.3.1.1.1.4" xref="S3.E2.m1.4.4.3.1.1.1.4.cmml"><mi id="S3.E2.m1.4.4.3.1.1.1.4.1" xref="S3.E2.m1.4.4.3.1.1.1.4.1.cmml">log</mi><mo id="S3.E2.m1.4.4.3.1.1.1.4a" lspace="0.167em" xref="S3.E2.m1.4.4.3.1.1.1.4.cmml">⁡</mo><mi id="S3.E2.m1.4.4.3.1.1.1.4.2" xref="S3.E2.m1.4.4.3.1.1.1.4.2.cmml">σ</mi></mrow><mo id="S3.E2.m1.4.4.3.1.1.1.2a" xref="S3.E2.m1.4.4.3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.4.4.3.1.1.1.1.1" xref="S3.E2.m1.4.4.3.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.4.4.3.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.4.4.3.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E2.m1.4.4.3.1.1.1.1.1.1" xref="S3.E2.m1.4.4.3.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.4.4.3.1.1.1.1.1.1.2" xref="S3.E2.m1.4.4.3.1.1.1.1.1.1.2.cmml">𝐙</mi><mi id="S3.E2.m1.4.4.3.1.1.1.1.1.1.3" xref="S3.E2.m1.4.4.3.1.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.E2.m1.4.4.3.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.4.4.3.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E2.m1.4.4.3.1.1.1.2b" xref="S3.E2.m1.4.4.3.1.1.1.2.cmml">⁢</mo><mtext id="S3.E2.m1.4.4.3.1.1.1.5" xref="S3.E2.m1.4.4.3.1.1.1.5a.cmml">,</mtext></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.4b"><apply id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4"><and id="S3.E2.m1.4.4a.cmml" xref="S3.E2.m1.4.4"></and><apply id="S3.E2.m1.4.4b.cmml" xref="S3.E2.m1.4.4"><eq id="S3.E2.m1.4.4.5.cmml" xref="S3.E2.m1.4.4.5"></eq><apply id="S3.E2.m1.2.2.1.cmml" xref="S3.E2.m1.2.2.1"><times id="S3.E2.m1.2.2.1.2.cmml" xref="S3.E2.m1.2.2.1.2"></times><apply id="S3.E2.m1.2.2.1.3.cmml" xref="S3.E2.m1.2.2.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.3.1.cmml" xref="S3.E2.m1.2.2.1.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.3.2a.cmml" xref="S3.E2.m1.2.2.1.3.2"><mtext id="S3.E2.m1.2.2.1.3.2.cmml" xref="S3.E2.m1.2.2.1.3.2">Perp</mtext></ci><ci id="S3.E2.m1.2.2.1.3.3.cmml" xref="S3.E2.m1.2.2.1.3.3">𝑐</ci></apply><apply id="S3.E2.m1.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.2.2.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1">conditional</csymbol><apply id="S3.E2.m1.2.2.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2">𝒴</ci><ci id="S3.E2.m1.2.2.1.1.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E2.m1.2.2.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.2">𝒳</ci><ci id="S3.E2.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S3.E2.m1.3.3.2.cmml" xref="S3.E2.m1.3.3.2"><minus id="S3.E2.m1.3.3.2.2.cmml" xref="S3.E2.m1.3.3.2"></minus><apply id="S3.E2.m1.3.3.2.1.cmml" xref="S3.E2.m1.3.3.2.1"><times id="S3.E2.m1.3.3.2.1.2.cmml" xref="S3.E2.m1.3.3.2.1.2"></times><apply id="S3.E2.m1.3.3.2.1.3.cmml" xref="S3.E2.m1.3.3.2.1.3"><divide id="S3.E2.m1.3.3.2.1.3.1.cmml" xref="S3.E2.m1.3.3.2.1.3"></divide><cn id="S3.E2.m1.3.3.2.1.3.2.cmml" type="integer" xref="S3.E2.m1.3.3.2.1.3.2">1</cn><apply id="S3.E2.m1.3.3.2.1.3.3.cmml" xref="S3.E2.m1.3.3.2.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.1.3.3.1.cmml" xref="S3.E2.m1.3.3.2.1.3.3">subscript</csymbol><ci id="S3.E2.m1.3.3.2.1.3.3.2.cmml" xref="S3.E2.m1.3.3.2.1.3.3.2">𝑁</ci><ci id="S3.E2.m1.3.3.2.1.3.3.3.cmml" xref="S3.E2.m1.3.3.2.1.3.3.3">𝑖</ci></apply></apply><apply id="S3.E2.m1.3.3.2.1.1.cmml" xref="S3.E2.m1.3.3.2.1.1"><apply id="S3.E2.m1.3.3.2.1.1.2.cmml" xref="S3.E2.m1.3.3.2.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.1.1.2.1.cmml" xref="S3.E2.m1.3.3.2.1.1.2">superscript</csymbol><apply id="S3.E2.m1.3.3.2.1.1.2.2.cmml" xref="S3.E2.m1.3.3.2.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.1.1.2.2.1.cmml" xref="S3.E2.m1.3.3.2.1.1.2">subscript</csymbol><sum id="S3.E2.m1.3.3.2.1.1.2.2.2.cmml" xref="S3.E2.m1.3.3.2.1.1.2.2.2"></sum><apply id="S3.E2.m1.3.3.2.1.1.2.2.3.cmml" xref="S3.E2.m1.3.3.2.1.1.2.2.3"><eq id="S3.E2.m1.3.3.2.1.1.2.2.3.1.cmml" xref="S3.E2.m1.3.3.2.1.1.2.2.3.1"></eq><ci id="S3.E2.m1.3.3.2.1.1.2.2.3.2.cmml" xref="S3.E2.m1.3.3.2.1.1.2.2.3.2">𝑛</ci><cn id="S3.E2.m1.3.3.2.1.1.2.2.3.3.cmml" type="integer" xref="S3.E2.m1.3.3.2.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.3.3.2.1.1.2.3.cmml" xref="S3.E2.m1.3.3.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.1.1.2.3.1.cmml" xref="S3.E2.m1.3.3.2.1.1.2.3">subscript</csymbol><ci id="S3.E2.m1.3.3.2.1.1.2.3.2.cmml" xref="S3.E2.m1.3.3.2.1.1.2.3.2">𝑁</ci><ci id="S3.E2.m1.3.3.2.1.1.2.3.3.cmml" xref="S3.E2.m1.3.3.2.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.E2.m1.3.3.2.1.1.1.cmml" xref="S3.E2.m1.3.3.2.1.1.1"><times id="S3.E2.m1.3.3.2.1.1.1.2.cmml" xref="S3.E2.m1.3.3.2.1.1.1.2"></times><apply id="S3.E2.m1.3.3.2.1.1.1.3.cmml" xref="S3.E2.m1.3.3.2.1.1.1.3"><log id="S3.E2.m1.3.3.2.1.1.1.3.1.cmml" xref="S3.E2.m1.3.3.2.1.1.1.3.1"></log><ci id="S3.E2.m1.3.3.2.1.1.1.3.2.cmml" xref="S3.E2.m1.3.3.2.1.1.1.3.2">𝑝</ci></apply><apply id="S3.E2.m1.3.3.2.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.3.3.2.1.1.1.1.1.1.4.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.4">conditional</csymbol><apply id="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.1.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.5">subscript</csymbol><ci id="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.2.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.2">𝑦</ci><ci id="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.3.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.5.3">𝑛</ci></apply><list id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.4.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3"><apply id="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.2">𝒳</ci><ci id="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.2">𝑦</ci><cn id="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.2.2.2.3">1</cn></apply><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">…</ci><apply id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.2">𝑦</ci><apply id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3"><minus id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.1.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.1"></minus><ci id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.2.cmml" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.2">𝑛</ci><cn id="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.3.cmml" type="integer" xref="S3.E2.m1.3.3.2.1.1.1.1.1.1.3.3.3.3.3">1</cn></apply></apply></list></apply></apply></apply></apply></apply></apply><apply id="S3.E2.m1.4.4c.cmml" xref="S3.E2.m1.4.4"><eq id="S3.E2.m1.4.4.6.cmml" xref="S3.E2.m1.4.4.6"></eq><share href="https://arxiv.org/html/2410.05248v1#S3.E2.m1.3.3.2.cmml" id="S3.E2.m1.4.4d.cmml" xref="S3.E2.m1.4.4"></share><apply id="S3.E2.m1.4.4.3.cmml" xref="S3.E2.m1.4.4.3"><minus id="S3.E2.m1.4.4.3.2.cmml" xref="S3.E2.m1.4.4.3"></minus><apply id="S3.E2.m1.4.4.3.1.cmml" xref="S3.E2.m1.4.4.3.1"><times id="S3.E2.m1.4.4.3.1.2.cmml" xref="S3.E2.m1.4.4.3.1.2"></times><apply id="S3.E2.m1.4.4.3.1.3.cmml" xref="S3.E2.m1.4.4.3.1.3"><divide id="S3.E2.m1.4.4.3.1.3.1.cmml" xref="S3.E2.m1.4.4.3.1.3"></divide><cn id="S3.E2.m1.4.4.3.1.3.2.cmml" type="integer" xref="S3.E2.m1.4.4.3.1.3.2">1</cn><apply id="S3.E2.m1.4.4.3.1.3.3.cmml" xref="S3.E2.m1.4.4.3.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.3.1.3.3.1.cmml" xref="S3.E2.m1.4.4.3.1.3.3">subscript</csymbol><ci id="S3.E2.m1.4.4.3.1.3.3.2.cmml" xref="S3.E2.m1.4.4.3.1.3.3.2">𝑁</ci><ci id="S3.E2.m1.4.4.3.1.3.3.3.cmml" xref="S3.E2.m1.4.4.3.1.3.3.3">𝑖</ci></apply></apply><apply id="S3.E2.m1.4.4.3.1.1.cmml" xref="S3.E2.m1.4.4.3.1.1"><apply id="S3.E2.m1.4.4.3.1.1.2.cmml" xref="S3.E2.m1.4.4.3.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.3.1.1.2.1.cmml" xref="S3.E2.m1.4.4.3.1.1.2">superscript</csymbol><apply id="S3.E2.m1.4.4.3.1.1.2.2.cmml" xref="S3.E2.m1.4.4.3.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.3.1.1.2.2.1.cmml" xref="S3.E2.m1.4.4.3.1.1.2">subscript</csymbol><sum id="S3.E2.m1.4.4.3.1.1.2.2.2.cmml" xref="S3.E2.m1.4.4.3.1.1.2.2.2"></sum><apply id="S3.E2.m1.4.4.3.1.1.2.2.3.cmml" xref="S3.E2.m1.4.4.3.1.1.2.2.3"><eq id="S3.E2.m1.4.4.3.1.1.2.2.3.1.cmml" xref="S3.E2.m1.4.4.3.1.1.2.2.3.1"></eq><ci id="S3.E2.m1.4.4.3.1.1.2.2.3.2.cmml" xref="S3.E2.m1.4.4.3.1.1.2.2.3.2">𝑛</ci><cn id="S3.E2.m1.4.4.3.1.1.2.2.3.3.cmml" type="integer" xref="S3.E2.m1.4.4.3.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.4.4.3.1.1.2.3.cmml" xref="S3.E2.m1.4.4.3.1.1.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.3.1.1.2.3.1.cmml" xref="S3.E2.m1.4.4.3.1.1.2.3">subscript</csymbol><ci id="S3.E2.m1.4.4.3.1.1.2.3.2.cmml" xref="S3.E2.m1.4.4.3.1.1.2.3.2">𝑁</ci><ci id="S3.E2.m1.4.4.3.1.1.2.3.3.cmml" xref="S3.E2.m1.4.4.3.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.E2.m1.4.4.3.1.1.1.cmml" xref="S3.E2.m1.4.4.3.1.1.1"><times id="S3.E2.m1.4.4.3.1.1.1.2.cmml" xref="S3.E2.m1.4.4.3.1.1.1.2"></times><apply id="S3.E2.m1.4.4.3.1.1.1.3.cmml" xref="S3.E2.m1.4.4.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.3.1.1.1.3.1.cmml" xref="S3.E2.m1.4.4.3.1.1.1.3">superscript</csymbol><apply id="S3.E2.m1.4.4.3.1.1.1.3.2.cmml" xref="S3.E2.m1.4.4.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.3.1.1.1.3.2.1.cmml" xref="S3.E2.m1.4.4.3.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.4.4.3.1.1.1.3.2.2.cmml" xref="S3.E2.m1.4.4.3.1.1.1.3.2.2">𝐘</ci><ci id="S3.E2.m1.4.4.3.1.1.1.3.2.3.cmml" xref="S3.E2.m1.4.4.3.1.1.1.3.2.3">𝑛</ci></apply><csymbol cd="latexml" id="S3.E2.m1.4.4.3.1.1.1.3.3.cmml" xref="S3.E2.m1.4.4.3.1.1.1.3.3">top</csymbol></apply><apply id="S3.E2.m1.4.4.3.1.1.1.4.cmml" xref="S3.E2.m1.4.4.3.1.1.1.4"><log id="S3.E2.m1.4.4.3.1.1.1.4.1.cmml" xref="S3.E2.m1.4.4.3.1.1.1.4.1"></log><ci id="S3.E2.m1.4.4.3.1.1.1.4.2.cmml" xref="S3.E2.m1.4.4.3.1.1.1.4.2">𝜎</ci></apply><apply id="S3.E2.m1.4.4.3.1.1.1.1.1.1.cmml" xref="S3.E2.m1.4.4.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.3.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.4.4.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.4.4.3.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.4.4.3.1.1.1.1.1.1.2">𝐙</ci><ci id="S3.E2.m1.4.4.3.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.4.4.3.1.1.1.1.1.1.3">𝑛</ci></apply><ci id="S3.E2.m1.4.4.3.1.1.1.5a.cmml" xref="S3.E2.m1.4.4.3.1.1.1.5"><mtext id="S3.E2.m1.4.4.3.1.1.1.5.cmml" xref="S3.E2.m1.4.4.3.1.1.1.5">,</mtext></ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.4c">\displaystyle\text{Perp}_{c}(\mathcal{Y}_{i}\,|\,\mathcal{X}_{i})=-\frac{1}{N_%
{i}}\sum_{n=1}^{N_{i}}\log p(y_{n}\,|\,\mathcal{X}_{i},y_{1},\dots,y_{n-1})=-%
\frac{1}{N_{i}}\sum_{n=1}^{N_{i}}\mathbf{Y}_{n}^{\top}\log\sigma(\mathbf{Z}_{n%
})\text{,}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.4d">Perp start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ( caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) = - divide start_ARG 1 end_ARG start_ARG italic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG ∑ start_POSTSUBSCRIPT italic_n = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUPERSCRIPT roman_log italic_p ( italic_y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT | caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_y start_POSTSUBSCRIPT italic_n - 1 end_POSTSUBSCRIPT ) = - divide start_ARG 1 end_ARG start_ARG italic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG ∑ start_POSTSUBSCRIPT italic_n = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUPERSCRIPT bold_Y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT roman_log italic_σ ( bold_Z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle\text{Conf}\,(\mathcal{Y}_{i}\,|\,\mathcal{X}_{i})=-\frac{1}{C}%
\sum_{c=1}^{C}\text{Perp}_{c}(\mathcal{Y}_{i}\,|\,\mathcal{X}_{i})\text{.}" class="ltx_Math" display="block" id="S3.E3.m1.2"><semantics id="S3.E3.m1.2a"><mrow id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml"><mrow id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.cmml"><mtext id="S3.E3.m1.1.1.1.3" xref="S3.E3.m1.1.1.1.3a.cmml">Conf</mtext><mo id="S3.E3.m1.1.1.1.2" lspace="0.170em" xref="S3.E3.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml"><msub id="S3.E3.m1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.1.1.2.2.cmml">𝒴</mi><mi id="S3.E3.m1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S3.E3.m1.1.1.1.1.1.1.1" rspace="0.448em" xref="S3.E3.m1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.E3.m1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.1.1.3.2.cmml">𝒳</mi><mi id="S3.E3.m1.1.1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E3.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E3.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.2.2.3" xref="S3.E3.m1.2.2.3.cmml">=</mo><mrow id="S3.E3.m1.2.2.2" xref="S3.E3.m1.2.2.2.cmml"><mo id="S3.E3.m1.2.2.2a" xref="S3.E3.m1.2.2.2.cmml">−</mo><mrow id="S3.E3.m1.2.2.2.1" xref="S3.E3.m1.2.2.2.1.cmml"><mfrac id="S3.E3.m1.2.2.2.1.3" xref="S3.E3.m1.2.2.2.1.3.cmml"><mn id="S3.E3.m1.2.2.2.1.3.2" xref="S3.E3.m1.2.2.2.1.3.2.cmml">1</mn><mi id="S3.E3.m1.2.2.2.1.3.3" xref="S3.E3.m1.2.2.2.1.3.3.cmml">C</mi></mfrac><mo id="S3.E3.m1.2.2.2.1.2" xref="S3.E3.m1.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.2.2.2.1.1" xref="S3.E3.m1.2.2.2.1.1.cmml"><munderover id="S3.E3.m1.2.2.2.1.1.2" xref="S3.E3.m1.2.2.2.1.1.2.cmml"><mo id="S3.E3.m1.2.2.2.1.1.2.2.2" movablelimits="false" xref="S3.E3.m1.2.2.2.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E3.m1.2.2.2.1.1.2.2.3" xref="S3.E3.m1.2.2.2.1.1.2.2.3.cmml"><mi id="S3.E3.m1.2.2.2.1.1.2.2.3.2" xref="S3.E3.m1.2.2.2.1.1.2.2.3.2.cmml">c</mi><mo id="S3.E3.m1.2.2.2.1.1.2.2.3.1" xref="S3.E3.m1.2.2.2.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E3.m1.2.2.2.1.1.2.2.3.3" xref="S3.E3.m1.2.2.2.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E3.m1.2.2.2.1.1.2.3" xref="S3.E3.m1.2.2.2.1.1.2.3.cmml">C</mi></munderover><mrow id="S3.E3.m1.2.2.2.1.1.1" xref="S3.E3.m1.2.2.2.1.1.1.cmml"><msub id="S3.E3.m1.2.2.2.1.1.1.3" xref="S3.E3.m1.2.2.2.1.1.1.3.cmml"><mtext id="S3.E3.m1.2.2.2.1.1.1.3.2" xref="S3.E3.m1.2.2.2.1.1.1.3.2a.cmml">Perp</mtext><mi id="S3.E3.m1.2.2.2.1.1.1.3.3" xref="S3.E3.m1.2.2.2.1.1.1.3.3.cmml">c</mi></msub><mo id="S3.E3.m1.2.2.2.1.1.1.2" xref="S3.E3.m1.2.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.2.2.2.1.1.1.1.1" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.2.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.2.2.2.1.1.1.1.1.1" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.cmml"><msub id="S3.E3.m1.2.2.2.1.1.1.1.1.1.2" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.2" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.2.cmml">𝒴</mi><mi id="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.3" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S3.E3.m1.2.2.2.1.1.1.1.1.1.1" rspace="0.448em" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.E3.m1.2.2.2.1.1.1.1.1.1.3" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.2" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.2.cmml">𝒳</mi><mi id="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.3" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E3.m1.2.2.2.1.1.1.1.1.3" stretchy="false" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E3.m1.2.2.2.1.1.1.2a" xref="S3.E3.m1.2.2.2.1.1.1.2.cmml">⁢</mo><mtext id="S3.E3.m1.2.2.2.1.1.1.4" xref="S3.E3.m1.2.2.2.1.1.1.4a.cmml">.</mtext></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.2b"><apply id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2"><eq id="S3.E3.m1.2.2.3.cmml" xref="S3.E3.m1.2.2.3"></eq><apply id="S3.E3.m1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"><times id="S3.E3.m1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.2"></times><ci id="S3.E3.m1.1.1.1.3a.cmml" xref="S3.E3.m1.1.1.1.3"><mtext id="S3.E3.m1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.3">Conf</mtext></ci><apply id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E3.m1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2.2">𝒴</ci><ci id="S3.E3.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E3.m1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.2">𝒳</ci><ci id="S3.E3.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S3.E3.m1.2.2.2.cmml" xref="S3.E3.m1.2.2.2"><minus id="S3.E3.m1.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2"></minus><apply id="S3.E3.m1.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.1"><times id="S3.E3.m1.2.2.2.1.2.cmml" xref="S3.E3.m1.2.2.2.1.2"></times><apply id="S3.E3.m1.2.2.2.1.3.cmml" xref="S3.E3.m1.2.2.2.1.3"><divide id="S3.E3.m1.2.2.2.1.3.1.cmml" xref="S3.E3.m1.2.2.2.1.3"></divide><cn id="S3.E3.m1.2.2.2.1.3.2.cmml" type="integer" xref="S3.E3.m1.2.2.2.1.3.2">1</cn><ci id="S3.E3.m1.2.2.2.1.3.3.cmml" xref="S3.E3.m1.2.2.2.1.3.3">𝐶</ci></apply><apply id="S3.E3.m1.2.2.2.1.1.cmml" xref="S3.E3.m1.2.2.2.1.1"><apply id="S3.E3.m1.2.2.2.1.1.2.cmml" xref="S3.E3.m1.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.1.1.2.1.cmml" xref="S3.E3.m1.2.2.2.1.1.2">superscript</csymbol><apply id="S3.E3.m1.2.2.2.1.1.2.2.cmml" xref="S3.E3.m1.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.1.1.2.2.1.cmml" xref="S3.E3.m1.2.2.2.1.1.2">subscript</csymbol><sum id="S3.E3.m1.2.2.2.1.1.2.2.2.cmml" xref="S3.E3.m1.2.2.2.1.1.2.2.2"></sum><apply id="S3.E3.m1.2.2.2.1.1.2.2.3.cmml" xref="S3.E3.m1.2.2.2.1.1.2.2.3"><eq id="S3.E3.m1.2.2.2.1.1.2.2.3.1.cmml" xref="S3.E3.m1.2.2.2.1.1.2.2.3.1"></eq><ci id="S3.E3.m1.2.2.2.1.1.2.2.3.2.cmml" xref="S3.E3.m1.2.2.2.1.1.2.2.3.2">𝑐</ci><cn id="S3.E3.m1.2.2.2.1.1.2.2.3.3.cmml" type="integer" xref="S3.E3.m1.2.2.2.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E3.m1.2.2.2.1.1.2.3.cmml" xref="S3.E3.m1.2.2.2.1.1.2.3">𝐶</ci></apply><apply id="S3.E3.m1.2.2.2.1.1.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1"><times id="S3.E3.m1.2.2.2.1.1.1.2.cmml" xref="S3.E3.m1.2.2.2.1.1.1.2"></times><apply id="S3.E3.m1.2.2.2.1.1.1.3.cmml" xref="S3.E3.m1.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.1.1.1.3.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.2.2.2.1.1.1.3.2a.cmml" xref="S3.E3.m1.2.2.2.1.1.1.3.2"><mtext id="S3.E3.m1.2.2.2.1.1.1.3.2.cmml" xref="S3.E3.m1.2.2.2.1.1.1.3.2">Perp</mtext></ci><ci id="S3.E3.m1.2.2.2.1.1.1.3.3.cmml" xref="S3.E3.m1.2.2.2.1.1.1.3.3">𝑐</ci></apply><apply id="S3.E3.m1.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.2">𝒴</ci><ci id="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.2">𝒳</ci><ci id="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><ci id="S3.E3.m1.2.2.2.1.1.1.4a.cmml" xref="S3.E3.m1.2.2.2.1.1.1.4"><mtext id="S3.E3.m1.2.2.2.1.1.1.4.cmml" xref="S3.E3.m1.2.2.2.1.1.1.4">.</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.2c">\displaystyle\text{Conf}\,(\mathcal{Y}_{i}\,|\,\mathcal{X}_{i})=-\frac{1}{C}%
\sum_{c=1}^{C}\text{Perp}_{c}(\mathcal{Y}_{i}\,|\,\mathcal{X}_{i})\text{.}</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.2d">Conf ( caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) = - divide start_ARG 1 end_ARG start_ARG italic_C end_ARG ∑ start_POSTSUBSCRIPT italic_c = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_C end_POSTSUPERSCRIPT Perp start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ( caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.10">Note that <math alttext="\mathbf{Z}_{n}" class="ltx_Math" display="inline" id="S3.SS2.p1.6.m1.1"><semantics id="S3.SS2.p1.6.m1.1a"><msub id="S3.SS2.p1.6.m1.1.1" xref="S3.SS2.p1.6.m1.1.1.cmml"><mi id="S3.SS2.p1.6.m1.1.1.2" xref="S3.SS2.p1.6.m1.1.1.2.cmml">𝐙</mi><mi id="S3.SS2.p1.6.m1.1.1.3" xref="S3.SS2.p1.6.m1.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m1.1b"><apply id="S3.SS2.p1.6.m1.1.1.cmml" xref="S3.SS2.p1.6.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m1.1.1.1.cmml" xref="S3.SS2.p1.6.m1.1.1">subscript</csymbol><ci id="S3.SS2.p1.6.m1.1.1.2.cmml" xref="S3.SS2.p1.6.m1.1.1.2">𝐙</ci><ci id="S3.SS2.p1.6.m1.1.1.3.cmml" xref="S3.SS2.p1.6.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m1.1c">\mathbf{Z}_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.6.m1.1d">bold_Z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> here is produced by the reference LLM at checkpoint <math alttext="c" class="ltx_Math" display="inline" id="S3.SS2.p1.7.m2.1"><semantics id="S3.SS2.p1.7.m2.1a"><mi id="S3.SS2.p1.7.m2.1.1" xref="S3.SS2.p1.7.m2.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m2.1b"><ci id="S3.SS2.p1.7.m2.1.1.cmml" xref="S3.SS2.p1.7.m2.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m2.1c">c</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.7.m2.1d">italic_c</annotation></semantics></math>.
The reference LLM’s confidence in predicting <math alttext="\mathcal{Y}_{i}" class="ltx_Math" display="inline" id="S3.SS2.p1.8.m3.1"><semantics id="S3.SS2.p1.8.m3.1a"><msub id="S3.SS2.p1.8.m3.1.1" xref="S3.SS2.p1.8.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.8.m3.1.1.2" xref="S3.SS2.p1.8.m3.1.1.2.cmml">𝒴</mi><mi id="S3.SS2.p1.8.m3.1.1.3" xref="S3.SS2.p1.8.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m3.1b"><apply id="S3.SS2.p1.8.m3.1.1.cmml" xref="S3.SS2.p1.8.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.8.m3.1.1.1.cmml" xref="S3.SS2.p1.8.m3.1.1">subscript</csymbol><ci id="S3.SS2.p1.8.m3.1.1.2.cmml" xref="S3.SS2.p1.8.m3.1.1.2">𝒴</ci><ci id="S3.SS2.p1.8.m3.1.1.3.cmml" xref="S3.SS2.p1.8.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m3.1c">\mathcal{Y}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.8.m3.1d">caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> given <math alttext="\mathcal{X}_{i}" class="ltx_Math" display="inline" id="S3.SS2.p1.9.m4.1"><semantics id="S3.SS2.p1.9.m4.1a"><msub id="S3.SS2.p1.9.m4.1.1" xref="S3.SS2.p1.9.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.9.m4.1.1.2" xref="S3.SS2.p1.9.m4.1.1.2.cmml">𝒳</mi><mi id="S3.SS2.p1.9.m4.1.1.3" xref="S3.SS2.p1.9.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m4.1b"><apply id="S3.SS2.p1.9.m4.1.1.cmml" xref="S3.SS2.p1.9.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.9.m4.1.1.1.cmml" xref="S3.SS2.p1.9.m4.1.1">subscript</csymbol><ci id="S3.SS2.p1.9.m4.1.1.2.cmml" xref="S3.SS2.p1.9.m4.1.1.2">𝒳</ci><ci id="S3.SS2.p1.9.m4.1.1.3.cmml" xref="S3.SS2.p1.9.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m4.1c">\mathcal{X}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.9.m4.1d">caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the negative average perplexity over the <math alttext="C" class="ltx_Math" display="inline" id="S3.SS2.p1.10.m5.1"><semantics id="S3.SS2.p1.10.m5.1a"><mi id="S3.SS2.p1.10.m5.1.1" xref="S3.SS2.p1.10.m5.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m5.1b"><ci id="S3.SS2.p1.10.m5.1.1.cmml" xref="S3.SS2.p1.10.m5.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.10.m5.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.10.m5.1d">italic_C</annotation></semantics></math> checkpoints, as a lower perplexity indicates a higher likelihood of generation.</p>
</div>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">LLMs Exhibit Uneven Confidence across the Semantic Representation Space.</h4>
<div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p1.3">Here, we present a case study by instruction-tuning Llama-3.1-8B <cite class="ltx_cite ltx_citemacro_citep">(Dubey et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib19" title="">2024</a>)</cite> on Alpaca-52K <cite class="ltx_cite ltx_citemacro_citep">(Taori et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib52" title="">2023</a>)</cite> and collect the LLM’s confidence for each training data point across five checkpoints.
We use the last hidden state of the final token in <math alttext="(\mathcal{X}_{i},\mathcal{Y}_{i})" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p1.1.m1.2"><semantics id="S3.SS2.SSS0.Px1.p1.1.m1.2a"><mrow id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.3.cmml"><mo id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.3" stretchy="false" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.3.cmml">(</mo><msub id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2.cmml">𝒳</mi><mi id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.4" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.3.cmml">,</mo><msub id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.2.cmml">𝒴</mi><mi id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.5" stretchy="false" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.1.m1.2b"><interval closure="open" id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2"><apply id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2">𝒳</ci><ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.2">𝒴</ci><ci id="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.2.2.2.2.3">𝑖</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.1.m1.2c">(\mathcal{X}_{i},\mathcal{Y}_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p1.1.m1.2d">( caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> as its embedding and plot <math alttext="2{,}500" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p1.2.m2.2"><semantics id="S3.SS2.SSS0.Px1.p1.2.m2.2a"><mrow id="S3.SS2.SSS0.Px1.p1.2.m2.2.3.2" xref="S3.SS2.SSS0.Px1.p1.2.m2.2.3.1.cmml"><mn id="S3.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">2</mn><mo id="S3.SS2.SSS0.Px1.p1.2.m2.2.3.2.1" xref="S3.SS2.SSS0.Px1.p1.2.m2.2.3.1.cmml">,</mo><mn id="S3.SS2.SSS0.Px1.p1.2.m2.2.2" xref="S3.SS2.SSS0.Px1.p1.2.m2.2.2.cmml">500</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.2.m2.2b"><list id="S3.SS2.SSS0.Px1.p1.2.m2.2.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.2.3.2"><cn id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" type="integer" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1">2</cn><cn id="S3.SS2.SSS0.Px1.p1.2.m2.2.2.cmml" type="integer" xref="S3.SS2.SSS0.Px1.p1.2.m2.2.2">500</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.2.m2.2c">2{,}500</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p1.2.m2.2d">2 , 500</annotation></semantics></math> high-confidence and <math alttext="2{,}500" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p1.3.m3.2"><semantics id="S3.SS2.SSS0.Px1.p1.3.m3.2a"><mrow id="S3.SS2.SSS0.Px1.p1.3.m3.2.3.2" xref="S3.SS2.SSS0.Px1.p1.3.m3.2.3.1.cmml"><mn id="S3.SS2.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.cmml">2</mn><mo id="S3.SS2.SSS0.Px1.p1.3.m3.2.3.2.1" xref="S3.SS2.SSS0.Px1.p1.3.m3.2.3.1.cmml">,</mo><mn id="S3.SS2.SSS0.Px1.p1.3.m3.2.2" xref="S3.SS2.SSS0.Px1.p1.3.m3.2.2.cmml">500</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.3.m3.2b"><list id="S3.SS2.SSS0.Px1.p1.3.m3.2.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m3.2.3.2"><cn id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.cmml" type="integer" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1">2</cn><cn id="S3.SS2.SSS0.Px1.p1.3.m3.2.2.cmml" type="integer" xref="S3.SS2.SSS0.Px1.p1.3.m3.2.2">500</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.3.m3.2c">2{,}500</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p1.3.m3.2d">2 , 500</annotation></semantics></math> low-confidence data points in Figure&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.F2" title="Figure 2 ‣ LLMs Exhibit Uneven Confidence across the Semantic Representation Space. ‣ 3.2 Training Dynamics Identify Subsets with Distinct Confidence Levels ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">2</span></a> (a) via t-SNE <cite class="ltx_cite ltx_citemacro_citep">(Van&nbsp;der Maaten &amp; Hinton, <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib56" title="">2008</a>)</cite>.
Correspondingly, we present one confident and one unconfident example from these data points in Figure&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.F2" title="Figure 2 ‣ LLMs Exhibit Uneven Confidence across the Semantic Representation Space. ‣ 3.2 Training Dynamics Identify Subsets with Distinct Confidence Levels ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">2</span></a> (b).
We observe that embeddings of data points with contrasting confidence levels are clearly separated in Figure&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.F2" title="Figure 2 ‣ LLMs Exhibit Uneven Confidence across the Semantic Representation Space. ‣ 3.2 Training Dynamics Identify Subsets with Distinct Confidence Levels ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">2</span></a> (a), indicating that the distribution of the LLM’s confidence is uneven across the semantic representation space.
This observation is further supported by the examples in Figure&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.F2" title="Figure 2 ‣ LLMs Exhibit Uneven Confidence across the Semantic Representation Space. ‣ 3.2 Training Dynamics Identify Subsets with Distinct Confidence Levels ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">2</span></a> (b), where the LLM exhibits high confidence in the example discussing deterministic grammar rules and low confidence in the example concerning creative content in e-commerce.</p>
</div>
<figure class="ltx_figure" id="S3.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F2.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="609" id="S3.F2.sf1.g1" src="https://arxiv.org/html/2410.05248v1/x2.png" width="761">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F2.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="1599" id="S3.F2.sf2.g1" src="https://arxiv.org/html/2410.05248v1/x3.png" width="761">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>(a) Embeddings of <math alttext="2{,}500" class="ltx_Math" display="inline" id="S3.F2.3.m1.2"><semantics id="S3.F2.3.m1.2b"><mrow id="S3.F2.3.m1.2.3.2" xref="S3.F2.3.m1.2.3.1.cmml"><mn id="S3.F2.3.m1.1.1" xref="S3.F2.3.m1.1.1.cmml">2</mn><mo id="S3.F2.3.m1.2.3.2.1" xref="S3.F2.3.m1.2.3.1.cmml">,</mo><mn id="S3.F2.3.m1.2.2" xref="S3.F2.3.m1.2.2.cmml">500</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.3.m1.2c"><list id="S3.F2.3.m1.2.3.1.cmml" xref="S3.F2.3.m1.2.3.2"><cn id="S3.F2.3.m1.1.1.cmml" type="integer" xref="S3.F2.3.m1.1.1">2</cn><cn id="S3.F2.3.m1.2.2.cmml" type="integer" xref="S3.F2.3.m1.2.2">500</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.3.m1.2d">2{,}500</annotation><annotation encoding="application/x-llamapun" id="S3.F2.3.m1.2e">2 , 500</annotation></semantics></math> high-confidence and <math alttext="2{,}500" class="ltx_Math" display="inline" id="S3.F2.4.m2.2"><semantics id="S3.F2.4.m2.2b"><mrow id="S3.F2.4.m2.2.3.2" xref="S3.F2.4.m2.2.3.1.cmml"><mn id="S3.F2.4.m2.1.1" xref="S3.F2.4.m2.1.1.cmml">2</mn><mo id="S3.F2.4.m2.2.3.2.1" xref="S3.F2.4.m2.2.3.1.cmml">,</mo><mn id="S3.F2.4.m2.2.2" xref="S3.F2.4.m2.2.2.cmml">500</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.4.m2.2c"><list id="S3.F2.4.m2.2.3.1.cmml" xref="S3.F2.4.m2.2.3.2"><cn id="S3.F2.4.m2.1.1.cmml" type="integer" xref="S3.F2.4.m2.1.1">2</cn><cn id="S3.F2.4.m2.2.2.cmml" type="integer" xref="S3.F2.4.m2.2.2">500</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.4.m2.2d">2{,}500</annotation><annotation encoding="application/x-llamapun" id="S3.F2.4.m2.2e">2 , 500</annotation></semantics></math> low-confidence examples in Alpaca-52K by Llama-3.1-8B trained on Alpaca-52k using NTP. (b) Corresponding confident and unconfident examples. The clear separation between embeddings of high-confidence and low-confidence examples suggests that the LLM exhibits varying confidence levels across different semantic regions, as further illustrated by the different topics in the provided examples.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Data with Distinct Confidence Levels Should Play Different Roles during Instruction Tuning.</h4>
<div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px2.p1.4">The insight from the case study motivates us to contend that data with varying confidence levels should contribute differently during instruction tuning.
Highly confident data points typically lie further from the classification decision boundary, posing a higher risk of overfitting.
In contrast, less confident data points are often closer to the boundary, making them harder to learn.
To address this, we propose promoting the flow of supervision signals between confident and less confident regions to mitigate overfitting and enhance generalization during LLM instruction tuning.
On this basis, we divide the original SFT dataset <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p1.1.m1.1"><semantics id="S3.SS2.SSS0.Px2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.1.m1.1b"><ci id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.1.m1.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px2.p1.1.m1.1d">caligraphic_D</annotation></semantics></math> into a confident subset <math alttext="\mathcal{D}^{\text{c}}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p1.2.m2.1"><semantics id="S3.SS2.SSS0.Px2.p1.2.m2.1a"><msup id="S3.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml">𝒟</mi><mtext id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3a.cmml">c</mtext></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.2.m2.1b"><apply id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2">𝒟</ci><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3a.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3"><mtext id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3">c</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.2.m2.1c">\mathcal{D}^{\text{c}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px2.p1.2.m2.1d">caligraphic_D start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT</annotation></semantics></math> and a relatively unconfident subset <math alttext="\mathcal{D}^{\text{u}}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p1.3.m3.1"><semantics id="S3.SS2.SSS0.Px2.p1.3.m3.1a"><msup id="S3.SS2.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.2" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml">𝒟</mi><mtext id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3a.cmml">u</mtext></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.3.m3.1b"><apply id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.2">𝒟</ci><ci id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3a.cmml" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3"><mtext id="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml" mathsize="70%" xref="S3.SS2.SSS0.Px2.p1.3.m3.1.1.3">u</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.3.m3.1c">\mathcal{D}^{\text{u}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px2.p1.3.m3.1d">caligraphic_D start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT</annotation></semantics></math> of equal size according to <math alttext="\text{Conf}\,(\mathcal{Y}_{i}\,|\,\mathcal{X}_{i})" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p1.4.m4.1"><semantics id="S3.SS2.SSS0.Px2.p1.4.m4.1a"><mrow id="S3.SS2.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.cmml"><mtext id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.3" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.3a.cmml">Conf</mtext><mo id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.2" lspace="0.170em" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.cmml"><mo id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.2" stretchy="false" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.cmml"><msub id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.2" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.2.cmml">𝒴</mi><mi id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.3" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.1" rspace="0.448em" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.2" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.2.cmml">𝒳</mi><mi id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.3" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.3" stretchy="false" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.4.m4.1b"><apply id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1"><times id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.2"></times><ci id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.3a.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.3"><mtext id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.3">Conf</mtext></ci><apply id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.2">𝒴</ci><ci id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.2">𝒳</ci><ci id="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.4.m4.1c">\text{Conf}\,(\mathcal{Y}_{i}\,|\,\mathcal{X}_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px2.p1.4.m4.1d">Conf ( caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math>.
To foster synergy between them, we design a Mixup-based regularization tailored to the specific challenges of instruction tuning, detailed in the next section.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>A Mixup-Based Regularization Facilitates LLM Instruction Tuning</h3>
<div class="ltx_para ltx_noindent" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.11">To instruction-tune an LLM (different from the reference LLM used to obtain learning dynamics) with our SFTMix recipe, we introduce a novel regularization <math alttext="\ell_{\text{Mixup}}" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><msub id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2" mathvariant="normal" xref="S3.SS3.p1.1.m1.1.1.2.cmml">ℓ</mi><mtext id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3a.cmml">Mixup</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2">ℓ</ci><ci id="S3.SS3.p1.1.m1.1.1.3a.cmml" xref="S3.SS3.p1.1.m1.1.1.3"><mtext id="S3.SS3.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.1.m1.1.1.3">Mixup</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">\ell_{\text{Mixup}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT</annotation></semantics></math> in addition to the conventional NTP loss <math alttext="\ell_{\text{NTP}}" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.1"><semantics id="S3.SS3.p1.2.m2.1a"><msub id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml"><mi id="S3.SS3.p1.2.m2.1.1.2" mathvariant="normal" xref="S3.SS3.p1.2.m2.1.1.2.cmml">ℓ</mi><mtext id="S3.SS3.p1.2.m2.1.1.3" xref="S3.SS3.p1.2.m2.1.1.3a.cmml">NTP</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2">ℓ</ci><ci id="S3.SS3.p1.2.m2.1.1.3a.cmml" xref="S3.SS3.p1.2.m2.1.1.3"><mtext id="S3.SS3.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.2.m2.1.1.3">NTP</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">\ell_{\text{NTP}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m2.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT</annotation></semantics></math>.
Specifically, consider a confident instruction-response pair <math alttext="(\mathcal{X}_{i}^{\text{c}},\mathcal{Y}_{i}^{\text{c}})\in\mathcal{D}^{\text{c}}" class="ltx_Math" display="inline" id="S3.SS3.p1.3.m3.2"><semantics id="S3.SS3.p1.3.m3.2a"><mrow id="S3.SS3.p1.3.m3.2.2" xref="S3.SS3.p1.3.m3.2.2.cmml"><mrow id="S3.SS3.p1.3.m3.2.2.2.2" xref="S3.SS3.p1.3.m3.2.2.2.3.cmml"><mo id="S3.SS3.p1.3.m3.2.2.2.2.3" stretchy="false" xref="S3.SS3.p1.3.m3.2.2.2.3.cmml">(</mo><msubsup id="S3.SS3.p1.3.m3.1.1.1.1.1" xref="S3.SS3.p1.3.m3.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.3.m3.1.1.1.1.1.2.2" xref="S3.SS3.p1.3.m3.1.1.1.1.1.2.2.cmml">𝒳</mi><mi id="S3.SS3.p1.3.m3.1.1.1.1.1.2.3" xref="S3.SS3.p1.3.m3.1.1.1.1.1.2.3.cmml">i</mi><mtext id="S3.SS3.p1.3.m3.1.1.1.1.1.3" xref="S3.SS3.p1.3.m3.1.1.1.1.1.3a.cmml">c</mtext></msubsup><mo id="S3.SS3.p1.3.m3.2.2.2.2.4" xref="S3.SS3.p1.3.m3.2.2.2.3.cmml">,</mo><msubsup id="S3.SS3.p1.3.m3.2.2.2.2.2" xref="S3.SS3.p1.3.m3.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.3.m3.2.2.2.2.2.2.2" xref="S3.SS3.p1.3.m3.2.2.2.2.2.2.2.cmml">𝒴</mi><mi id="S3.SS3.p1.3.m3.2.2.2.2.2.2.3" xref="S3.SS3.p1.3.m3.2.2.2.2.2.2.3.cmml">i</mi><mtext id="S3.SS3.p1.3.m3.2.2.2.2.2.3" xref="S3.SS3.p1.3.m3.2.2.2.2.2.3a.cmml">c</mtext></msubsup><mo id="S3.SS3.p1.3.m3.2.2.2.2.5" stretchy="false" xref="S3.SS3.p1.3.m3.2.2.2.3.cmml">)</mo></mrow><mo id="S3.SS3.p1.3.m3.2.2.3" xref="S3.SS3.p1.3.m3.2.2.3.cmml">∈</mo><msup id="S3.SS3.p1.3.m3.2.2.4" xref="S3.SS3.p1.3.m3.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.3.m3.2.2.4.2" xref="S3.SS3.p1.3.m3.2.2.4.2.cmml">𝒟</mi><mtext id="S3.SS3.p1.3.m3.2.2.4.3" xref="S3.SS3.p1.3.m3.2.2.4.3a.cmml">c</mtext></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.2b"><apply id="S3.SS3.p1.3.m3.2.2.cmml" xref="S3.SS3.p1.3.m3.2.2"><in id="S3.SS3.p1.3.m3.2.2.3.cmml" xref="S3.SS3.p1.3.m3.2.2.3"></in><interval closure="open" id="S3.SS3.p1.3.m3.2.2.2.3.cmml" xref="S3.SS3.p1.3.m3.2.2.2.2"><apply id="S3.SS3.p1.3.m3.1.1.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1.1.1.1">superscript</csymbol><apply id="S3.SS3.p1.3.m3.1.1.1.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p1.3.m3.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p1.3.m3.1.1.1.1.1.2.2">𝒳</ci><ci id="S3.SS3.p1.3.m3.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p1.3.m3.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS3.p1.3.m3.1.1.1.1.1.3a.cmml" xref="S3.SS3.p1.3.m3.1.1.1.1.1.3"><mtext id="S3.SS3.p1.3.m3.1.1.1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.3.m3.1.1.1.1.1.3">c</mtext></ci></apply><apply id="S3.SS3.p1.3.m3.2.2.2.2.2.cmml" xref="S3.SS3.p1.3.m3.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.3.m3.2.2.2.2.2">superscript</csymbol><apply id="S3.SS3.p1.3.m3.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.3.m3.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.2.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.3.m3.2.2.2.2.2">subscript</csymbol><ci id="S3.SS3.p1.3.m3.2.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.3.m3.2.2.2.2.2.2.2">𝒴</ci><ci id="S3.SS3.p1.3.m3.2.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.3.m3.2.2.2.2.2.2.3">𝑖</ci></apply><ci id="S3.SS3.p1.3.m3.2.2.2.2.2.3a.cmml" xref="S3.SS3.p1.3.m3.2.2.2.2.2.3"><mtext id="S3.SS3.p1.3.m3.2.2.2.2.2.3.cmml" mathsize="70%" xref="S3.SS3.p1.3.m3.2.2.2.2.2.3">c</mtext></ci></apply></interval><apply id="S3.SS3.p1.3.m3.2.2.4.cmml" xref="S3.SS3.p1.3.m3.2.2.4"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.2.2.4.1.cmml" xref="S3.SS3.p1.3.m3.2.2.4">superscript</csymbol><ci id="S3.SS3.p1.3.m3.2.2.4.2.cmml" xref="S3.SS3.p1.3.m3.2.2.4.2">𝒟</ci><ci id="S3.SS3.p1.3.m3.2.2.4.3a.cmml" xref="S3.SS3.p1.3.m3.2.2.4.3"><mtext id="S3.SS3.p1.3.m3.2.2.4.3.cmml" mathsize="70%" xref="S3.SS3.p1.3.m3.2.2.4.3">c</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.2c">(\mathcal{X}_{i}^{\text{c}},\mathcal{Y}_{i}^{\text{c}})\in\mathcal{D}^{\text{c}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.3.m3.2d">( caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT , caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT ) ∈ caligraphic_D start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT</annotation></semantics></math> and a relatively unconfident pair <math alttext="(\mathcal{X}_{i}^{\text{u}},\mathcal{Y}_{i}^{\text{u}})\in\mathcal{D}^{\text{u}}" class="ltx_Math" display="inline" id="S3.SS3.p1.4.m4.2"><semantics id="S3.SS3.p1.4.m4.2a"><mrow id="S3.SS3.p1.4.m4.2.2" xref="S3.SS3.p1.4.m4.2.2.cmml"><mrow id="S3.SS3.p1.4.m4.2.2.2.2" xref="S3.SS3.p1.4.m4.2.2.2.3.cmml"><mo id="S3.SS3.p1.4.m4.2.2.2.2.3" stretchy="false" xref="S3.SS3.p1.4.m4.2.2.2.3.cmml">(</mo><msubsup id="S3.SS3.p1.4.m4.1.1.1.1.1" xref="S3.SS3.p1.4.m4.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.4.m4.1.1.1.1.1.2.2" xref="S3.SS3.p1.4.m4.1.1.1.1.1.2.2.cmml">𝒳</mi><mi id="S3.SS3.p1.4.m4.1.1.1.1.1.2.3" xref="S3.SS3.p1.4.m4.1.1.1.1.1.2.3.cmml">i</mi><mtext id="S3.SS3.p1.4.m4.1.1.1.1.1.3" xref="S3.SS3.p1.4.m4.1.1.1.1.1.3a.cmml">u</mtext></msubsup><mo id="S3.SS3.p1.4.m4.2.2.2.2.4" xref="S3.SS3.p1.4.m4.2.2.2.3.cmml">,</mo><msubsup id="S3.SS3.p1.4.m4.2.2.2.2.2" xref="S3.SS3.p1.4.m4.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.4.m4.2.2.2.2.2.2.2" xref="S3.SS3.p1.4.m4.2.2.2.2.2.2.2.cmml">𝒴</mi><mi id="S3.SS3.p1.4.m4.2.2.2.2.2.2.3" xref="S3.SS3.p1.4.m4.2.2.2.2.2.2.3.cmml">i</mi><mtext id="S3.SS3.p1.4.m4.2.2.2.2.2.3" xref="S3.SS3.p1.4.m4.2.2.2.2.2.3a.cmml">u</mtext></msubsup><mo id="S3.SS3.p1.4.m4.2.2.2.2.5" stretchy="false" xref="S3.SS3.p1.4.m4.2.2.2.3.cmml">)</mo></mrow><mo id="S3.SS3.p1.4.m4.2.2.3" xref="S3.SS3.p1.4.m4.2.2.3.cmml">∈</mo><msup id="S3.SS3.p1.4.m4.2.2.4" xref="S3.SS3.p1.4.m4.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.4.m4.2.2.4.2" xref="S3.SS3.p1.4.m4.2.2.4.2.cmml">𝒟</mi><mtext id="S3.SS3.p1.4.m4.2.2.4.3" xref="S3.SS3.p1.4.m4.2.2.4.3a.cmml">u</mtext></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.2b"><apply id="S3.SS3.p1.4.m4.2.2.cmml" xref="S3.SS3.p1.4.m4.2.2"><in id="S3.SS3.p1.4.m4.2.2.3.cmml" xref="S3.SS3.p1.4.m4.2.2.3"></in><interval closure="open" id="S3.SS3.p1.4.m4.2.2.2.3.cmml" xref="S3.SS3.p1.4.m4.2.2.2.2"><apply id="S3.SS3.p1.4.m4.1.1.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1">superscript</csymbol><apply id="S3.SS3.p1.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p1.4.m4.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1.2.2">𝒳</ci><ci id="S3.SS3.p1.4.m4.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS3.p1.4.m4.1.1.1.1.1.3a.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1.3"><mtext id="S3.SS3.p1.4.m4.1.1.1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.4.m4.1.1.1.1.1.3">u</mtext></ci></apply><apply id="S3.SS3.p1.4.m4.2.2.2.2.2.cmml" xref="S3.SS3.p1.4.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.4.m4.2.2.2.2.2">superscript</csymbol><apply id="S3.SS3.p1.4.m4.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.4.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.2.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.4.m4.2.2.2.2.2">subscript</csymbol><ci id="S3.SS3.p1.4.m4.2.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.4.m4.2.2.2.2.2.2.2">𝒴</ci><ci id="S3.SS3.p1.4.m4.2.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.4.m4.2.2.2.2.2.2.3">𝑖</ci></apply><ci id="S3.SS3.p1.4.m4.2.2.2.2.2.3a.cmml" xref="S3.SS3.p1.4.m4.2.2.2.2.2.3"><mtext id="S3.SS3.p1.4.m4.2.2.2.2.2.3.cmml" mathsize="70%" xref="S3.SS3.p1.4.m4.2.2.2.2.2.3">u</mtext></ci></apply></interval><apply id="S3.SS3.p1.4.m4.2.2.4.cmml" xref="S3.SS3.p1.4.m4.2.2.4"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.2.2.4.1.cmml" xref="S3.SS3.p1.4.m4.2.2.4">superscript</csymbol><ci id="S3.SS3.p1.4.m4.2.2.4.2.cmml" xref="S3.SS3.p1.4.m4.2.2.4.2">𝒟</ci><ci id="S3.SS3.p1.4.m4.2.2.4.3a.cmml" xref="S3.SS3.p1.4.m4.2.2.4.3"><mtext id="S3.SS3.p1.4.m4.2.2.4.3.cmml" mathsize="70%" xref="S3.SS3.p1.4.m4.2.2.4.3">u</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.2c">(\mathcal{X}_{i}^{\text{u}},\mathcal{Y}_{i}^{\text{u}})\in\mathcal{D}^{\text{u}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.4.m4.2d">( caligraphic_X start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT , caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT ) ∈ caligraphic_D start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT</annotation></semantics></math>.
Let <math alttext="\mathbf{Y}_{n}^{\text{c}}" class="ltx_Math" display="inline" id="S3.SS3.p1.5.m5.1"><semantics id="S3.SS3.p1.5.m5.1a"><msubsup id="S3.SS3.p1.5.m5.1.1" xref="S3.SS3.p1.5.m5.1.1.cmml"><mi id="S3.SS3.p1.5.m5.1.1.2.2" xref="S3.SS3.p1.5.m5.1.1.2.2.cmml">𝐘</mi><mi id="S3.SS3.p1.5.m5.1.1.2.3" xref="S3.SS3.p1.5.m5.1.1.2.3.cmml">n</mi><mtext id="S3.SS3.p1.5.m5.1.1.3" xref="S3.SS3.p1.5.m5.1.1.3a.cmml">c</mtext></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m5.1b"><apply id="S3.SS3.p1.5.m5.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.5.m5.1.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1">superscript</csymbol><apply id="S3.SS3.p1.5.m5.1.1.2.cmml" xref="S3.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.5.m5.1.1.2.1.cmml" xref="S3.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p1.5.m5.1.1.2.2.cmml" xref="S3.SS3.p1.5.m5.1.1.2.2">𝐘</ci><ci id="S3.SS3.p1.5.m5.1.1.2.3.cmml" xref="S3.SS3.p1.5.m5.1.1.2.3">𝑛</ci></apply><ci id="S3.SS3.p1.5.m5.1.1.3a.cmml" xref="S3.SS3.p1.5.m5.1.1.3"><mtext id="S3.SS3.p1.5.m5.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.5.m5.1.1.3">c</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m5.1c">\mathbf{Y}_{n}^{\text{c}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.5.m5.1d">bold_Y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\mathbf{Y}_{n}^{\text{u}}" class="ltx_Math" display="inline" id="S3.SS3.p1.6.m6.1"><semantics id="S3.SS3.p1.6.m6.1a"><msubsup id="S3.SS3.p1.6.m6.1.1" xref="S3.SS3.p1.6.m6.1.1.cmml"><mi id="S3.SS3.p1.6.m6.1.1.2.2" xref="S3.SS3.p1.6.m6.1.1.2.2.cmml">𝐘</mi><mi id="S3.SS3.p1.6.m6.1.1.2.3" xref="S3.SS3.p1.6.m6.1.1.2.3.cmml">n</mi><mtext id="S3.SS3.p1.6.m6.1.1.3" xref="S3.SS3.p1.6.m6.1.1.3a.cmml">u</mtext></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m6.1b"><apply id="S3.SS3.p1.6.m6.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.6.m6.1.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1">superscript</csymbol><apply id="S3.SS3.p1.6.m6.1.1.2.cmml" xref="S3.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.6.m6.1.1.2.1.cmml" xref="S3.SS3.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.p1.6.m6.1.1.2.2.cmml" xref="S3.SS3.p1.6.m6.1.1.2.2">𝐘</ci><ci id="S3.SS3.p1.6.m6.1.1.2.3.cmml" xref="S3.SS3.p1.6.m6.1.1.2.3">𝑛</ci></apply><ci id="S3.SS3.p1.6.m6.1.1.3a.cmml" xref="S3.SS3.p1.6.m6.1.1.3"><mtext id="S3.SS3.p1.6.m6.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.6.m6.1.1.3">u</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.6.m6.1c">\mathbf{Y}_{n}^{\text{u}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.6.m6.1d">bold_Y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT</annotation></semantics></math> be the one-hot encoding vectors of the <math alttext="n" class="ltx_Math" display="inline" id="S3.SS3.p1.7.m7.1"><semantics id="S3.SS3.p1.7.m7.1a"><mi id="S3.SS3.p1.7.m7.1.1" xref="S3.SS3.p1.7.m7.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m7.1b"><ci id="S3.SS3.p1.7.m7.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.7.m7.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.7.m7.1d">italic_n</annotation></semantics></math>-th token in <math alttext="\mathcal{Y}^{\text{c}}" class="ltx_Math" display="inline" id="S3.SS3.p1.8.m8.1"><semantics id="S3.SS3.p1.8.m8.1a"><msup id="S3.SS3.p1.8.m8.1.1" xref="S3.SS3.p1.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.8.m8.1.1.2" xref="S3.SS3.p1.8.m8.1.1.2.cmml">𝒴</mi><mtext id="S3.SS3.p1.8.m8.1.1.3" xref="S3.SS3.p1.8.m8.1.1.3a.cmml">c</mtext></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.8.m8.1b"><apply id="S3.SS3.p1.8.m8.1.1.cmml" xref="S3.SS3.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.8.m8.1.1.1.cmml" xref="S3.SS3.p1.8.m8.1.1">superscript</csymbol><ci id="S3.SS3.p1.8.m8.1.1.2.cmml" xref="S3.SS3.p1.8.m8.1.1.2">𝒴</ci><ci id="S3.SS3.p1.8.m8.1.1.3a.cmml" xref="S3.SS3.p1.8.m8.1.1.3"><mtext id="S3.SS3.p1.8.m8.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.8.m8.1.1.3">c</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.8.m8.1c">\mathcal{Y}^{\text{c}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.8.m8.1d">caligraphic_Y start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{Y}^{\text{u}}" class="ltx_Math" display="inline" id="S3.SS3.p1.9.m9.1"><semantics id="S3.SS3.p1.9.m9.1a"><msup id="S3.SS3.p1.9.m9.1.1" xref="S3.SS3.p1.9.m9.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.9.m9.1.1.2" xref="S3.SS3.p1.9.m9.1.1.2.cmml">𝒴</mi><mtext id="S3.SS3.p1.9.m9.1.1.3" xref="S3.SS3.p1.9.m9.1.1.3a.cmml">u</mtext></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.9.m9.1b"><apply id="S3.SS3.p1.9.m9.1.1.cmml" xref="S3.SS3.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m9.1.1.1.cmml" xref="S3.SS3.p1.9.m9.1.1">superscript</csymbol><ci id="S3.SS3.p1.9.m9.1.1.2.cmml" xref="S3.SS3.p1.9.m9.1.1.2">𝒴</ci><ci id="S3.SS3.p1.9.m9.1.1.3a.cmml" xref="S3.SS3.p1.9.m9.1.1.3"><mtext id="S3.SS3.p1.9.m9.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.9.m9.1.1.3">u</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.9.m9.1c">\mathcal{Y}^{\text{u}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.9.m9.1d">caligraphic_Y start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT</annotation></semantics></math>, respectively, with <math alttext="\mathbf{Z}_{n}^{\text{c}}" class="ltx_Math" display="inline" id="S3.SS3.p1.10.m10.1"><semantics id="S3.SS3.p1.10.m10.1a"><msubsup id="S3.SS3.p1.10.m10.1.1" xref="S3.SS3.p1.10.m10.1.1.cmml"><mi id="S3.SS3.p1.10.m10.1.1.2.2" xref="S3.SS3.p1.10.m10.1.1.2.2.cmml">𝐙</mi><mi id="S3.SS3.p1.10.m10.1.1.2.3" xref="S3.SS3.p1.10.m10.1.1.2.3.cmml">n</mi><mtext id="S3.SS3.p1.10.m10.1.1.3" xref="S3.SS3.p1.10.m10.1.1.3a.cmml">c</mtext></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.10.m10.1b"><apply id="S3.SS3.p1.10.m10.1.1.cmml" xref="S3.SS3.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.10.m10.1.1.1.cmml" xref="S3.SS3.p1.10.m10.1.1">superscript</csymbol><apply id="S3.SS3.p1.10.m10.1.1.2.cmml" xref="S3.SS3.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.10.m10.1.1.2.1.cmml" xref="S3.SS3.p1.10.m10.1.1">subscript</csymbol><ci id="S3.SS3.p1.10.m10.1.1.2.2.cmml" xref="S3.SS3.p1.10.m10.1.1.2.2">𝐙</ci><ci id="S3.SS3.p1.10.m10.1.1.2.3.cmml" xref="S3.SS3.p1.10.m10.1.1.2.3">𝑛</ci></apply><ci id="S3.SS3.p1.10.m10.1.1.3a.cmml" xref="S3.SS3.p1.10.m10.1.1.3"><mtext id="S3.SS3.p1.10.m10.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.10.m10.1.1.3">c</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.10.m10.1c">\mathbf{Z}_{n}^{\text{c}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.10.m10.1d">bold_Z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\mathbf{Z}_{n}^{\text{u}}" class="ltx_Math" display="inline" id="S3.SS3.p1.11.m11.1"><semantics id="S3.SS3.p1.11.m11.1a"><msubsup id="S3.SS3.p1.11.m11.1.1" xref="S3.SS3.p1.11.m11.1.1.cmml"><mi id="S3.SS3.p1.11.m11.1.1.2.2" xref="S3.SS3.p1.11.m11.1.1.2.2.cmml">𝐙</mi><mi id="S3.SS3.p1.11.m11.1.1.2.3" xref="S3.SS3.p1.11.m11.1.1.2.3.cmml">n</mi><mtext id="S3.SS3.p1.11.m11.1.1.3" xref="S3.SS3.p1.11.m11.1.1.3a.cmml">u</mtext></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.11.m11.1b"><apply id="S3.SS3.p1.11.m11.1.1.cmml" xref="S3.SS3.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.11.m11.1.1.1.cmml" xref="S3.SS3.p1.11.m11.1.1">superscript</csymbol><apply id="S3.SS3.p1.11.m11.1.1.2.cmml" xref="S3.SS3.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.11.m11.1.1.2.1.cmml" xref="S3.SS3.p1.11.m11.1.1">subscript</csymbol><ci id="S3.SS3.p1.11.m11.1.1.2.2.cmml" xref="S3.SS3.p1.11.m11.1.1.2.2">𝐙</ci><ci id="S3.SS3.p1.11.m11.1.1.2.3.cmml" xref="S3.SS3.p1.11.m11.1.1.2.3">𝑛</ci></apply><ci id="S3.SS3.p1.11.m11.1.1.3a.cmml" xref="S3.SS3.p1.11.m11.1.1.3"><mtext id="S3.SS3.p1.11.m11.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.11.m11.1.1.3">u</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.11.m11.1c">\mathbf{Z}_{n}^{\text{u}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.11.m11.1d">bold_Z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT</annotation></semantics></math> as the corresponding representations predicted by the instruction-tuning LLM.
We linearly interpolate the two pairs as follows:</p>
<table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="A1.EGx3">
<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle\tilde{\mathbf{Z}}_{n}=\lambda\mathbf{Z}_{n}^{\text{c}}+(1-%
\lambda)\mathbf{Z}_{n}^{\text{u}}\text{,}\;\;\tilde{\mathbf{Y}}_{n}=\lambda%
\mathbf{Y}_{n}^{\text{c}}+(1-\lambda)\mathbf{Y}_{n}^{\text{u}}\text{,}" class="ltx_Math" display="block" id="S3.E4.m1.2"><semantics id="S3.E4.m1.2a"><mrow id="S3.E4.m1.2.2" xref="S3.E4.m1.2.2.cmml"><msub id="S3.E4.m1.2.2.4" xref="S3.E4.m1.2.2.4.cmml"><mover accent="true" id="S3.E4.m1.2.2.4.2" xref="S3.E4.m1.2.2.4.2.cmml"><mi id="S3.E4.m1.2.2.4.2.2" xref="S3.E4.m1.2.2.4.2.2.cmml">𝐙</mi><mo id="S3.E4.m1.2.2.4.2.1" xref="S3.E4.m1.2.2.4.2.1.cmml">~</mo></mover><mi id="S3.E4.m1.2.2.4.3" xref="S3.E4.m1.2.2.4.3.cmml">n</mi></msub><mo id="S3.E4.m1.2.2.5" xref="S3.E4.m1.2.2.5.cmml">=</mo><mrow id="S3.E4.m1.1.1.1" xref="S3.E4.m1.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.3" xref="S3.E4.m1.1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.3.2.cmml">λ</mi><mo id="S3.E4.m1.1.1.1.3.1" xref="S3.E4.m1.1.1.1.3.1.cmml">⁢</mo><msubsup id="S3.E4.m1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.3.3.cmml"><mi id="S3.E4.m1.1.1.1.3.3.2.2" xref="S3.E4.m1.1.1.1.3.3.2.2.cmml">𝐙</mi><mi id="S3.E4.m1.1.1.1.3.3.2.3" xref="S3.E4.m1.1.1.1.3.3.2.3.cmml">n</mi><mtext id="S3.E4.m1.1.1.1.3.3.3" xref="S3.E4.m1.1.1.1.3.3.3a.cmml">c</mtext></msubsup></mrow><mo id="S3.E4.m1.1.1.1.2" xref="S3.E4.m1.1.1.1.2.cmml">+</mo><mrow id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E4.m1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml"><mn id="S3.E4.m1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E4.m1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.E4.m1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.3.cmml">λ</mi></mrow><mo id="S3.E4.m1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E4.m1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.2.cmml">⁢</mo><msubsup id="S3.E4.m1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.1.1.3.2.2" xref="S3.E4.m1.1.1.1.1.3.2.2.cmml">𝐙</mi><mi id="S3.E4.m1.1.1.1.1.3.2.3" xref="S3.E4.m1.1.1.1.1.3.2.3.cmml">n</mi><mtext id="S3.E4.m1.1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.3.3a.cmml">u</mtext></msubsup><mo id="S3.E4.m1.1.1.1.1.2a" xref="S3.E4.m1.1.1.1.1.2.cmml">⁢</mo><mtext id="S3.E4.m1.1.1.1.1.4" xref="S3.E4.m1.1.1.1.1.4a.cmml">,</mtext><mo id="S3.E4.m1.1.1.1.1.2b" lspace="0.560em" xref="S3.E4.m1.1.1.1.1.2.cmml">⁢</mo><msub id="S3.E4.m1.1.1.1.1.5" xref="S3.E4.m1.1.1.1.1.5.cmml"><mover accent="true" id="S3.E4.m1.1.1.1.1.5.2" xref="S3.E4.m1.1.1.1.1.5.2.cmml"><mi id="S3.E4.m1.1.1.1.1.5.2.2" xref="S3.E4.m1.1.1.1.1.5.2.2.cmml">𝐘</mi><mo id="S3.E4.m1.1.1.1.1.5.2.1" xref="S3.E4.m1.1.1.1.1.5.2.1.cmml">~</mo></mover><mi id="S3.E4.m1.1.1.1.1.5.3" xref="S3.E4.m1.1.1.1.1.5.3.cmml">n</mi></msub></mrow></mrow><mo id="S3.E4.m1.2.2.6" xref="S3.E4.m1.2.2.6.cmml">=</mo><mrow id="S3.E4.m1.2.2.2" xref="S3.E4.m1.2.2.2.cmml"><mrow id="S3.E4.m1.2.2.2.3" xref="S3.E4.m1.2.2.2.3.cmml"><mi id="S3.E4.m1.2.2.2.3.2" xref="S3.E4.m1.2.2.2.3.2.cmml">λ</mi><mo id="S3.E4.m1.2.2.2.3.1" xref="S3.E4.m1.2.2.2.3.1.cmml">⁢</mo><msubsup id="S3.E4.m1.2.2.2.3.3" xref="S3.E4.m1.2.2.2.3.3.cmml"><mi id="S3.E4.m1.2.2.2.3.3.2.2" xref="S3.E4.m1.2.2.2.3.3.2.2.cmml">𝐘</mi><mi id="S3.E4.m1.2.2.2.3.3.2.3" xref="S3.E4.m1.2.2.2.3.3.2.3.cmml">n</mi><mtext id="S3.E4.m1.2.2.2.3.3.3" xref="S3.E4.m1.2.2.2.3.3.3a.cmml">c</mtext></msubsup></mrow><mo id="S3.E4.m1.2.2.2.2" xref="S3.E4.m1.2.2.2.2.cmml">+</mo><mrow id="S3.E4.m1.2.2.2.1" xref="S3.E4.m1.2.2.2.1.cmml"><mrow id="S3.E4.m1.2.2.2.1.1.1" xref="S3.E4.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E4.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E4.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.2.2.2.1.1.1.1" xref="S3.E4.m1.2.2.2.1.1.1.1.cmml"><mn id="S3.E4.m1.2.2.2.1.1.1.1.2" xref="S3.E4.m1.2.2.2.1.1.1.1.2.cmml">1</mn><mo id="S3.E4.m1.2.2.2.1.1.1.1.1" xref="S3.E4.m1.2.2.2.1.1.1.1.1.cmml">−</mo><mi id="S3.E4.m1.2.2.2.1.1.1.1.3" xref="S3.E4.m1.2.2.2.1.1.1.1.3.cmml">λ</mi></mrow><mo id="S3.E4.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E4.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E4.m1.2.2.2.1.2" xref="S3.E4.m1.2.2.2.1.2.cmml">⁢</mo><msubsup id="S3.E4.m1.2.2.2.1.3" xref="S3.E4.m1.2.2.2.1.3.cmml"><mi id="S3.E4.m1.2.2.2.1.3.2.2" xref="S3.E4.m1.2.2.2.1.3.2.2.cmml">𝐘</mi><mi id="S3.E4.m1.2.2.2.1.3.2.3" xref="S3.E4.m1.2.2.2.1.3.2.3.cmml">n</mi><mtext id="S3.E4.m1.2.2.2.1.3.3" xref="S3.E4.m1.2.2.2.1.3.3a.cmml">u</mtext></msubsup><mo id="S3.E4.m1.2.2.2.1.2a" xref="S3.E4.m1.2.2.2.1.2.cmml">⁢</mo><mtext id="S3.E4.m1.2.2.2.1.4" xref="S3.E4.m1.2.2.2.1.4a.cmml">,</mtext></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.2b"><apply id="S3.E4.m1.2.2.cmml" xref="S3.E4.m1.2.2"><and id="S3.E4.m1.2.2a.cmml" xref="S3.E4.m1.2.2"></and><apply id="S3.E4.m1.2.2b.cmml" xref="S3.E4.m1.2.2"><eq id="S3.E4.m1.2.2.5.cmml" xref="S3.E4.m1.2.2.5"></eq><apply id="S3.E4.m1.2.2.4.cmml" xref="S3.E4.m1.2.2.4"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.4.1.cmml" xref="S3.E4.m1.2.2.4">subscript</csymbol><apply id="S3.E4.m1.2.2.4.2.cmml" xref="S3.E4.m1.2.2.4.2"><ci id="S3.E4.m1.2.2.4.2.1.cmml" xref="S3.E4.m1.2.2.4.2.1">~</ci><ci id="S3.E4.m1.2.2.4.2.2.cmml" xref="S3.E4.m1.2.2.4.2.2">𝐙</ci></apply><ci id="S3.E4.m1.2.2.4.3.cmml" xref="S3.E4.m1.2.2.4.3">𝑛</ci></apply><apply id="S3.E4.m1.1.1.1.cmml" xref="S3.E4.m1.1.1.1"><plus id="S3.E4.m1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.2"></plus><apply id="S3.E4.m1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.3"><times id="S3.E4.m1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.3.1"></times><ci id="S3.E4.m1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.3.2">𝜆</ci><apply id="S3.E4.m1.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.1.1.1.3.3">superscript</csymbol><apply id="S3.E4.m1.1.1.1.3.3.2.cmml" xref="S3.E4.m1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.3.3.2.1.cmml" xref="S3.E4.m1.1.1.1.3.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.3.3.2.2.cmml" xref="S3.E4.m1.1.1.1.3.3.2.2">𝐙</ci><ci id="S3.E4.m1.1.1.1.3.3.2.3.cmml" xref="S3.E4.m1.1.1.1.3.3.2.3">𝑛</ci></apply><ci id="S3.E4.m1.1.1.1.3.3.3a.cmml" xref="S3.E4.m1.1.1.1.3.3.3"><mtext id="S3.E4.m1.1.1.1.3.3.3.cmml" mathsize="70%" xref="S3.E4.m1.1.1.1.3.3.3">c</mtext></ci></apply></apply><apply id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1"><times id="S3.E4.m1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.2"></times><apply id="S3.E4.m1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1"><minus id="S3.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1"></minus><cn id="S3.E4.m1.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S3.E4.m1.1.1.1.1.1.1.1.2">1</cn><ci id="S3.E4.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3">𝜆</ci></apply><apply id="S3.E4.m1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.3">superscript</csymbol><apply id="S3.E4.m1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.3.2.1.cmml" xref="S3.E4.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.3.2.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.2">𝐙</ci><ci id="S3.E4.m1.1.1.1.1.3.2.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.3">𝑛</ci></apply><ci id="S3.E4.m1.1.1.1.1.3.3a.cmml" xref="S3.E4.m1.1.1.1.1.3.3"><mtext id="S3.E4.m1.1.1.1.1.3.3.cmml" mathsize="70%" xref="S3.E4.m1.1.1.1.1.3.3">u</mtext></ci></apply><ci id="S3.E4.m1.1.1.1.1.4a.cmml" xref="S3.E4.m1.1.1.1.1.4"><mtext id="S3.E4.m1.1.1.1.1.4.cmml" xref="S3.E4.m1.1.1.1.1.4">,</mtext></ci><apply id="S3.E4.m1.1.1.1.1.5.cmml" xref="S3.E4.m1.1.1.1.1.5"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.5.1.cmml" xref="S3.E4.m1.1.1.1.1.5">subscript</csymbol><apply id="S3.E4.m1.1.1.1.1.5.2.cmml" xref="S3.E4.m1.1.1.1.1.5.2"><ci id="S3.E4.m1.1.1.1.1.5.2.1.cmml" xref="S3.E4.m1.1.1.1.1.5.2.1">~</ci><ci id="S3.E4.m1.1.1.1.1.5.2.2.cmml" xref="S3.E4.m1.1.1.1.1.5.2.2">𝐘</ci></apply><ci id="S3.E4.m1.1.1.1.1.5.3.cmml" xref="S3.E4.m1.1.1.1.1.5.3">𝑛</ci></apply></apply></apply></apply><apply id="S3.E4.m1.2.2c.cmml" xref="S3.E4.m1.2.2"><eq id="S3.E4.m1.2.2.6.cmml" xref="S3.E4.m1.2.2.6"></eq><share href="https://arxiv.org/html/2410.05248v1#S3.E4.m1.1.1.1.cmml" id="S3.E4.m1.2.2d.cmml" xref="S3.E4.m1.2.2"></share><apply id="S3.E4.m1.2.2.2.cmml" xref="S3.E4.m1.2.2.2"><plus id="S3.E4.m1.2.2.2.2.cmml" xref="S3.E4.m1.2.2.2.2"></plus><apply id="S3.E4.m1.2.2.2.3.cmml" xref="S3.E4.m1.2.2.2.3"><times id="S3.E4.m1.2.2.2.3.1.cmml" xref="S3.E4.m1.2.2.2.3.1"></times><ci id="S3.E4.m1.2.2.2.3.2.cmml" xref="S3.E4.m1.2.2.2.3.2">𝜆</ci><apply id="S3.E4.m1.2.2.2.3.3.cmml" xref="S3.E4.m1.2.2.2.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.3.3.1.cmml" xref="S3.E4.m1.2.2.2.3.3">superscript</csymbol><apply id="S3.E4.m1.2.2.2.3.3.2.cmml" xref="S3.E4.m1.2.2.2.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.3.3.2.1.cmml" xref="S3.E4.m1.2.2.2.3.3">subscript</csymbol><ci id="S3.E4.m1.2.2.2.3.3.2.2.cmml" xref="S3.E4.m1.2.2.2.3.3.2.2">𝐘</ci><ci id="S3.E4.m1.2.2.2.3.3.2.3.cmml" xref="S3.E4.m1.2.2.2.3.3.2.3">𝑛</ci></apply><ci id="S3.E4.m1.2.2.2.3.3.3a.cmml" xref="S3.E4.m1.2.2.2.3.3.3"><mtext id="S3.E4.m1.2.2.2.3.3.3.cmml" mathsize="70%" xref="S3.E4.m1.2.2.2.3.3.3">c</mtext></ci></apply></apply><apply id="S3.E4.m1.2.2.2.1.cmml" xref="S3.E4.m1.2.2.2.1"><times id="S3.E4.m1.2.2.2.1.2.cmml" xref="S3.E4.m1.2.2.2.1.2"></times><apply id="S3.E4.m1.2.2.2.1.1.1.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1"><minus id="S3.E4.m1.2.2.2.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.1"></minus><cn id="S3.E4.m1.2.2.2.1.1.1.1.2.cmml" type="integer" xref="S3.E4.m1.2.2.2.1.1.1.1.2">1</cn><ci id="S3.E4.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.3">𝜆</ci></apply><apply id="S3.E4.m1.2.2.2.1.3.cmml" xref="S3.E4.m1.2.2.2.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.1.3.1.cmml" xref="S3.E4.m1.2.2.2.1.3">superscript</csymbol><apply id="S3.E4.m1.2.2.2.1.3.2.cmml" xref="S3.E4.m1.2.2.2.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.1.3.2.1.cmml" xref="S3.E4.m1.2.2.2.1.3">subscript</csymbol><ci id="S3.E4.m1.2.2.2.1.3.2.2.cmml" xref="S3.E4.m1.2.2.2.1.3.2.2">𝐘</ci><ci id="S3.E4.m1.2.2.2.1.3.2.3.cmml" xref="S3.E4.m1.2.2.2.1.3.2.3">𝑛</ci></apply><ci id="S3.E4.m1.2.2.2.1.3.3a.cmml" xref="S3.E4.m1.2.2.2.1.3.3"><mtext id="S3.E4.m1.2.2.2.1.3.3.cmml" mathsize="70%" xref="S3.E4.m1.2.2.2.1.3.3">u</mtext></ci></apply><ci id="S3.E4.m1.2.2.2.1.4a.cmml" xref="S3.E4.m1.2.2.2.1.4"><mtext id="S3.E4.m1.2.2.2.1.4.cmml" xref="S3.E4.m1.2.2.2.1.4">,</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.2c">\displaystyle\tilde{\mathbf{Z}}_{n}=\lambda\mathbf{Z}_{n}^{\text{c}}+(1-%
\lambda)\mathbf{Z}_{n}^{\text{u}}\text{,}\;\;\tilde{\mathbf{Y}}_{n}=\lambda%
\mathbf{Y}_{n}^{\text{c}}+(1-\lambda)\mathbf{Y}_{n}^{\text{u}}\text{,}</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.2d">over~ start_ARG bold_Z end_ARG start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT = italic_λ bold_Z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT + ( 1 - italic_λ ) bold_Z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT , over~ start_ARG bold_Y end_ARG start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT = italic_λ bold_Y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT + ( 1 - italic_λ ) bold_Y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p1.18">where <math alttext="\lambda\sim\text{Beta}(\alpha,\alpha)" class="ltx_Math" display="inline" id="S3.SS3.p1.12.m1.2"><semantics id="S3.SS3.p1.12.m1.2a"><mrow id="S3.SS3.p1.12.m1.2.3" xref="S3.SS3.p1.12.m1.2.3.cmml"><mi id="S3.SS3.p1.12.m1.2.3.2" xref="S3.SS3.p1.12.m1.2.3.2.cmml">λ</mi><mo id="S3.SS3.p1.12.m1.2.3.1" xref="S3.SS3.p1.12.m1.2.3.1.cmml">∼</mo><mrow id="S3.SS3.p1.12.m1.2.3.3" xref="S3.SS3.p1.12.m1.2.3.3.cmml"><mtext id="S3.SS3.p1.12.m1.2.3.3.2" xref="S3.SS3.p1.12.m1.2.3.3.2a.cmml">Beta</mtext><mo id="S3.SS3.p1.12.m1.2.3.3.1" xref="S3.SS3.p1.12.m1.2.3.3.1.cmml">⁢</mo><mrow id="S3.SS3.p1.12.m1.2.3.3.3.2" xref="S3.SS3.p1.12.m1.2.3.3.3.1.cmml"><mo id="S3.SS3.p1.12.m1.2.3.3.3.2.1" stretchy="false" xref="S3.SS3.p1.12.m1.2.3.3.3.1.cmml">(</mo><mi id="S3.SS3.p1.12.m1.1.1" xref="S3.SS3.p1.12.m1.1.1.cmml">α</mi><mo id="S3.SS3.p1.12.m1.2.3.3.3.2.2" xref="S3.SS3.p1.12.m1.2.3.3.3.1.cmml">,</mo><mi id="S3.SS3.p1.12.m1.2.2" xref="S3.SS3.p1.12.m1.2.2.cmml">α</mi><mo id="S3.SS3.p1.12.m1.2.3.3.3.2.3" stretchy="false" xref="S3.SS3.p1.12.m1.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.12.m1.2b"><apply id="S3.SS3.p1.12.m1.2.3.cmml" xref="S3.SS3.p1.12.m1.2.3"><csymbol cd="latexml" id="S3.SS3.p1.12.m1.2.3.1.cmml" xref="S3.SS3.p1.12.m1.2.3.1">similar-to</csymbol><ci id="S3.SS3.p1.12.m1.2.3.2.cmml" xref="S3.SS3.p1.12.m1.2.3.2">𝜆</ci><apply id="S3.SS3.p1.12.m1.2.3.3.cmml" xref="S3.SS3.p1.12.m1.2.3.3"><times id="S3.SS3.p1.12.m1.2.3.3.1.cmml" xref="S3.SS3.p1.12.m1.2.3.3.1"></times><ci id="S3.SS3.p1.12.m1.2.3.3.2a.cmml" xref="S3.SS3.p1.12.m1.2.3.3.2"><mtext id="S3.SS3.p1.12.m1.2.3.3.2.cmml" xref="S3.SS3.p1.12.m1.2.3.3.2">Beta</mtext></ci><interval closure="open" id="S3.SS3.p1.12.m1.2.3.3.3.1.cmml" xref="S3.SS3.p1.12.m1.2.3.3.3.2"><ci id="S3.SS3.p1.12.m1.1.1.cmml" xref="S3.SS3.p1.12.m1.1.1">𝛼</ci><ci id="S3.SS3.p1.12.m1.2.2.cmml" xref="S3.SS3.p1.12.m1.2.2">𝛼</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.12.m1.2c">\lambda\sim\text{Beta}(\alpha,\alpha)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.12.m1.2d">italic_λ ∼ Beta ( italic_α , italic_α )</annotation></semantics></math> and <math alttext="\alpha" class="ltx_Math" display="inline" id="S3.SS3.p1.13.m2.1"><semantics id="S3.SS3.p1.13.m2.1a"><mi id="S3.SS3.p1.13.m2.1.1" xref="S3.SS3.p1.13.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.13.m2.1b"><ci id="S3.SS3.p1.13.m2.1.1.cmml" xref="S3.SS3.p1.13.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.13.m2.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.13.m2.1d">italic_α</annotation></semantics></math> is a hyperparameter.
Suppose that <math alttext="N^{\prime}_{i}=\min(N_{i}^{\text{c}},N_{i}^{\text{u}})" class="ltx_Math" display="inline" id="S3.SS3.p1.14.m3.3"><semantics id="S3.SS3.p1.14.m3.3a"><mrow id="S3.SS3.p1.14.m3.3.3" xref="S3.SS3.p1.14.m3.3.3.cmml"><msubsup id="S3.SS3.p1.14.m3.3.3.4" xref="S3.SS3.p1.14.m3.3.3.4.cmml"><mi id="S3.SS3.p1.14.m3.3.3.4.2.2" xref="S3.SS3.p1.14.m3.3.3.4.2.2.cmml">N</mi><mi id="S3.SS3.p1.14.m3.3.3.4.3" xref="S3.SS3.p1.14.m3.3.3.4.3.cmml">i</mi><mo id="S3.SS3.p1.14.m3.3.3.4.2.3" xref="S3.SS3.p1.14.m3.3.3.4.2.3.cmml">′</mo></msubsup><mo id="S3.SS3.p1.14.m3.3.3.3" xref="S3.SS3.p1.14.m3.3.3.3.cmml">=</mo><mrow id="S3.SS3.p1.14.m3.3.3.2.2" xref="S3.SS3.p1.14.m3.3.3.2.3.cmml"><mi id="S3.SS3.p1.14.m3.1.1" xref="S3.SS3.p1.14.m3.1.1.cmml">min</mi><mo id="S3.SS3.p1.14.m3.3.3.2.2a" xref="S3.SS3.p1.14.m3.3.3.2.3.cmml">⁡</mo><mrow id="S3.SS3.p1.14.m3.3.3.2.2.2" xref="S3.SS3.p1.14.m3.3.3.2.3.cmml"><mo id="S3.SS3.p1.14.m3.3.3.2.2.2.3" stretchy="false" xref="S3.SS3.p1.14.m3.3.3.2.3.cmml">(</mo><msubsup id="S3.SS3.p1.14.m3.2.2.1.1.1.1" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1.cmml"><mi id="S3.SS3.p1.14.m3.2.2.1.1.1.1.2.2" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1.2.2.cmml">N</mi><mi id="S3.SS3.p1.14.m3.2.2.1.1.1.1.2.3" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1.2.3.cmml">i</mi><mtext id="S3.SS3.p1.14.m3.2.2.1.1.1.1.3" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1.3a.cmml">c</mtext></msubsup><mo id="S3.SS3.p1.14.m3.3.3.2.2.2.4" xref="S3.SS3.p1.14.m3.3.3.2.3.cmml">,</mo><msubsup id="S3.SS3.p1.14.m3.3.3.2.2.2.2" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2.cmml"><mi id="S3.SS3.p1.14.m3.3.3.2.2.2.2.2.2" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2.2.2.cmml">N</mi><mi id="S3.SS3.p1.14.m3.3.3.2.2.2.2.2.3" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2.2.3.cmml">i</mi><mtext id="S3.SS3.p1.14.m3.3.3.2.2.2.2.3" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2.3a.cmml">u</mtext></msubsup><mo id="S3.SS3.p1.14.m3.3.3.2.2.2.5" stretchy="false" xref="S3.SS3.p1.14.m3.3.3.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.14.m3.3b"><apply id="S3.SS3.p1.14.m3.3.3.cmml" xref="S3.SS3.p1.14.m3.3.3"><eq id="S3.SS3.p1.14.m3.3.3.3.cmml" xref="S3.SS3.p1.14.m3.3.3.3"></eq><apply id="S3.SS3.p1.14.m3.3.3.4.cmml" xref="S3.SS3.p1.14.m3.3.3.4"><csymbol cd="ambiguous" id="S3.SS3.p1.14.m3.3.3.4.1.cmml" xref="S3.SS3.p1.14.m3.3.3.4">subscript</csymbol><apply id="S3.SS3.p1.14.m3.3.3.4.2.cmml" xref="S3.SS3.p1.14.m3.3.3.4"><csymbol cd="ambiguous" id="S3.SS3.p1.14.m3.3.3.4.2.1.cmml" xref="S3.SS3.p1.14.m3.3.3.4">superscript</csymbol><ci id="S3.SS3.p1.14.m3.3.3.4.2.2.cmml" xref="S3.SS3.p1.14.m3.3.3.4.2.2">𝑁</ci><ci id="S3.SS3.p1.14.m3.3.3.4.2.3.cmml" xref="S3.SS3.p1.14.m3.3.3.4.2.3">′</ci></apply><ci id="S3.SS3.p1.14.m3.3.3.4.3.cmml" xref="S3.SS3.p1.14.m3.3.3.4.3">𝑖</ci></apply><apply id="S3.SS3.p1.14.m3.3.3.2.3.cmml" xref="S3.SS3.p1.14.m3.3.3.2.2"><min id="S3.SS3.p1.14.m3.1.1.cmml" xref="S3.SS3.p1.14.m3.1.1"></min><apply id="S3.SS3.p1.14.m3.2.2.1.1.1.1.cmml" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.14.m3.2.2.1.1.1.1.1.cmml" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1">superscript</csymbol><apply id="S3.SS3.p1.14.m3.2.2.1.1.1.1.2.cmml" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.14.m3.2.2.1.1.1.1.2.1.cmml" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p1.14.m3.2.2.1.1.1.1.2.2.cmml" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1.2.2">𝑁</ci><ci id="S3.SS3.p1.14.m3.2.2.1.1.1.1.2.3.cmml" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS3.p1.14.m3.2.2.1.1.1.1.3a.cmml" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1.3"><mtext id="S3.SS3.p1.14.m3.2.2.1.1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.14.m3.2.2.1.1.1.1.3">c</mtext></ci></apply><apply id="S3.SS3.p1.14.m3.3.3.2.2.2.2.cmml" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.14.m3.3.3.2.2.2.2.1.cmml" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2">superscript</csymbol><apply id="S3.SS3.p1.14.m3.3.3.2.2.2.2.2.cmml" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.14.m3.3.3.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2">subscript</csymbol><ci id="S3.SS3.p1.14.m3.3.3.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2.2.2">𝑁</ci><ci id="S3.SS3.p1.14.m3.3.3.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2.2.3">𝑖</ci></apply><ci id="S3.SS3.p1.14.m3.3.3.2.2.2.2.3a.cmml" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2.3"><mtext id="S3.SS3.p1.14.m3.3.3.2.2.2.2.3.cmml" mathsize="70%" xref="S3.SS3.p1.14.m3.3.3.2.2.2.2.3">u</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.14.m3.3c">N^{\prime}_{i}=\min(N_{i}^{\text{c}},N_{i}^{\text{u}})</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.14.m3.3d">italic_N start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = roman_min ( italic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT , italic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT )</annotation></semantics></math> represents the length of the shorter response between <math alttext="\mathcal{Y}_{i}^{\text{c}}" class="ltx_Math" display="inline" id="S3.SS3.p1.15.m4.1"><semantics id="S3.SS3.p1.15.m4.1a"><msubsup id="S3.SS3.p1.15.m4.1.1" xref="S3.SS3.p1.15.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.15.m4.1.1.2.2" xref="S3.SS3.p1.15.m4.1.1.2.2.cmml">𝒴</mi><mi id="S3.SS3.p1.15.m4.1.1.2.3" xref="S3.SS3.p1.15.m4.1.1.2.3.cmml">i</mi><mtext id="S3.SS3.p1.15.m4.1.1.3" xref="S3.SS3.p1.15.m4.1.1.3a.cmml">c</mtext></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.15.m4.1b"><apply id="S3.SS3.p1.15.m4.1.1.cmml" xref="S3.SS3.p1.15.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.15.m4.1.1.1.cmml" xref="S3.SS3.p1.15.m4.1.1">superscript</csymbol><apply id="S3.SS3.p1.15.m4.1.1.2.cmml" xref="S3.SS3.p1.15.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.15.m4.1.1.2.1.cmml" xref="S3.SS3.p1.15.m4.1.1">subscript</csymbol><ci id="S3.SS3.p1.15.m4.1.1.2.2.cmml" xref="S3.SS3.p1.15.m4.1.1.2.2">𝒴</ci><ci id="S3.SS3.p1.15.m4.1.1.2.3.cmml" xref="S3.SS3.p1.15.m4.1.1.2.3">𝑖</ci></apply><ci id="S3.SS3.p1.15.m4.1.1.3a.cmml" xref="S3.SS3.p1.15.m4.1.1.3"><mtext id="S3.SS3.p1.15.m4.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.15.m4.1.1.3">c</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.15.m4.1c">\mathcal{Y}_{i}^{\text{c}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.15.m4.1d">caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{Y}_{i}^{\text{u}}" class="ltx_Math" display="inline" id="S3.SS3.p1.16.m5.1"><semantics id="S3.SS3.p1.16.m5.1a"><msubsup id="S3.SS3.p1.16.m5.1.1" xref="S3.SS3.p1.16.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.16.m5.1.1.2.2" xref="S3.SS3.p1.16.m5.1.1.2.2.cmml">𝒴</mi><mi id="S3.SS3.p1.16.m5.1.1.2.3" xref="S3.SS3.p1.16.m5.1.1.2.3.cmml">i</mi><mtext id="S3.SS3.p1.16.m5.1.1.3" xref="S3.SS3.p1.16.m5.1.1.3a.cmml">u</mtext></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.16.m5.1b"><apply id="S3.SS3.p1.16.m5.1.1.cmml" xref="S3.SS3.p1.16.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.16.m5.1.1.1.cmml" xref="S3.SS3.p1.16.m5.1.1">superscript</csymbol><apply id="S3.SS3.p1.16.m5.1.1.2.cmml" xref="S3.SS3.p1.16.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.16.m5.1.1.2.1.cmml" xref="S3.SS3.p1.16.m5.1.1">subscript</csymbol><ci id="S3.SS3.p1.16.m5.1.1.2.2.cmml" xref="S3.SS3.p1.16.m5.1.1.2.2">𝒴</ci><ci id="S3.SS3.p1.16.m5.1.1.2.3.cmml" xref="S3.SS3.p1.16.m5.1.1.2.3">𝑖</ci></apply><ci id="S3.SS3.p1.16.m5.1.1.3a.cmml" xref="S3.SS3.p1.16.m5.1.1.3"><mtext id="S3.SS3.p1.16.m5.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.16.m5.1.1.3">u</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.16.m5.1c">\mathcal{Y}_{i}^{\text{u}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.16.m5.1d">caligraphic_Y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT</annotation></semantics></math>.
We define the Mixup-based regularization <math alttext="\ell_{\text{Mixup}}(\mathcal{D}^{\text{c}},\mathcal{D}^{\text{u}})" class="ltx_Math" display="inline" id="S3.SS3.p1.17.m6.2"><semantics id="S3.SS3.p1.17.m6.2a"><mrow id="S3.SS3.p1.17.m6.2.2" xref="S3.SS3.p1.17.m6.2.2.cmml"><msub id="S3.SS3.p1.17.m6.2.2.4" xref="S3.SS3.p1.17.m6.2.2.4.cmml"><mi id="S3.SS3.p1.17.m6.2.2.4.2" mathvariant="normal" xref="S3.SS3.p1.17.m6.2.2.4.2.cmml">ℓ</mi><mtext id="S3.SS3.p1.17.m6.2.2.4.3" xref="S3.SS3.p1.17.m6.2.2.4.3a.cmml">Mixup</mtext></msub><mo id="S3.SS3.p1.17.m6.2.2.3" xref="S3.SS3.p1.17.m6.2.2.3.cmml">⁢</mo><mrow id="S3.SS3.p1.17.m6.2.2.2.2" xref="S3.SS3.p1.17.m6.2.2.2.3.cmml"><mo id="S3.SS3.p1.17.m6.2.2.2.2.3" stretchy="false" xref="S3.SS3.p1.17.m6.2.2.2.3.cmml">(</mo><msup id="S3.SS3.p1.17.m6.1.1.1.1.1" xref="S3.SS3.p1.17.m6.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.17.m6.1.1.1.1.1.2" xref="S3.SS3.p1.17.m6.1.1.1.1.1.2.cmml">𝒟</mi><mtext id="S3.SS3.p1.17.m6.1.1.1.1.1.3" xref="S3.SS3.p1.17.m6.1.1.1.1.1.3a.cmml">c</mtext></msup><mo id="S3.SS3.p1.17.m6.2.2.2.2.4" xref="S3.SS3.p1.17.m6.2.2.2.3.cmml">,</mo><msup id="S3.SS3.p1.17.m6.2.2.2.2.2" xref="S3.SS3.p1.17.m6.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.17.m6.2.2.2.2.2.2" xref="S3.SS3.p1.17.m6.2.2.2.2.2.2.cmml">𝒟</mi><mtext id="S3.SS3.p1.17.m6.2.2.2.2.2.3" xref="S3.SS3.p1.17.m6.2.2.2.2.2.3a.cmml">u</mtext></msup><mo id="S3.SS3.p1.17.m6.2.2.2.2.5" stretchy="false" xref="S3.SS3.p1.17.m6.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.17.m6.2b"><apply id="S3.SS3.p1.17.m6.2.2.cmml" xref="S3.SS3.p1.17.m6.2.2"><times id="S3.SS3.p1.17.m6.2.2.3.cmml" xref="S3.SS3.p1.17.m6.2.2.3"></times><apply id="S3.SS3.p1.17.m6.2.2.4.cmml" xref="S3.SS3.p1.17.m6.2.2.4"><csymbol cd="ambiguous" id="S3.SS3.p1.17.m6.2.2.4.1.cmml" xref="S3.SS3.p1.17.m6.2.2.4">subscript</csymbol><ci id="S3.SS3.p1.17.m6.2.2.4.2.cmml" xref="S3.SS3.p1.17.m6.2.2.4.2">ℓ</ci><ci id="S3.SS3.p1.17.m6.2.2.4.3a.cmml" xref="S3.SS3.p1.17.m6.2.2.4.3"><mtext id="S3.SS3.p1.17.m6.2.2.4.3.cmml" mathsize="70%" xref="S3.SS3.p1.17.m6.2.2.4.3">Mixup</mtext></ci></apply><interval closure="open" id="S3.SS3.p1.17.m6.2.2.2.3.cmml" xref="S3.SS3.p1.17.m6.2.2.2.2"><apply id="S3.SS3.p1.17.m6.1.1.1.1.1.cmml" xref="S3.SS3.p1.17.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.17.m6.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.17.m6.1.1.1.1.1">superscript</csymbol><ci id="S3.SS3.p1.17.m6.1.1.1.1.1.2.cmml" xref="S3.SS3.p1.17.m6.1.1.1.1.1.2">𝒟</ci><ci id="S3.SS3.p1.17.m6.1.1.1.1.1.3a.cmml" xref="S3.SS3.p1.17.m6.1.1.1.1.1.3"><mtext id="S3.SS3.p1.17.m6.1.1.1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.17.m6.1.1.1.1.1.3">c</mtext></ci></apply><apply id="S3.SS3.p1.17.m6.2.2.2.2.2.cmml" xref="S3.SS3.p1.17.m6.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.17.m6.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.17.m6.2.2.2.2.2">superscript</csymbol><ci id="S3.SS3.p1.17.m6.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.17.m6.2.2.2.2.2.2">𝒟</ci><ci id="S3.SS3.p1.17.m6.2.2.2.2.2.3a.cmml" xref="S3.SS3.p1.17.m6.2.2.2.2.2.3"><mtext id="S3.SS3.p1.17.m6.2.2.2.2.2.3.cmml" mathsize="70%" xref="S3.SS3.p1.17.m6.2.2.2.2.2.3">u</mtext></ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.17.m6.2c">\ell_{\text{Mixup}}(\mathcal{D}^{\text{c}},\mathcal{D}^{\text{u}})</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.17.m6.2d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( caligraphic_D start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT , caligraphic_D start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT )</annotation></semantics></math> between the confident and relatively unconfident subsets and the overall instruction-tuning loss <math alttext="\ell_{\text{SFTMix}}" class="ltx_Math" display="inline" id="S3.SS3.p1.18.m7.1"><semantics id="S3.SS3.p1.18.m7.1a"><msub id="S3.SS3.p1.18.m7.1.1" xref="S3.SS3.p1.18.m7.1.1.cmml"><mi id="S3.SS3.p1.18.m7.1.1.2" mathvariant="normal" xref="S3.SS3.p1.18.m7.1.1.2.cmml">ℓ</mi><mtext id="S3.SS3.p1.18.m7.1.1.3" xref="S3.SS3.p1.18.m7.1.1.3a.cmml">SFTMix</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.18.m7.1b"><apply id="S3.SS3.p1.18.m7.1.1.cmml" xref="S3.SS3.p1.18.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.18.m7.1.1.1.cmml" xref="S3.SS3.p1.18.m7.1.1">subscript</csymbol><ci id="S3.SS3.p1.18.m7.1.1.2.cmml" xref="S3.SS3.p1.18.m7.1.1.2">ℓ</ci><ci id="S3.SS3.p1.18.m7.1.1.3a.cmml" xref="S3.SS3.p1.18.m7.1.1.3"><mtext id="S3.SS3.p1.18.m7.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.18.m7.1.1.3">SFTMix</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.18.m7.1c">\ell_{\text{SFTMix}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.18.m7.1d">roman_ℓ start_POSTSUBSCRIPT SFTMix end_POSTSUBSCRIPT</annotation></semantics></math> used in our SFTMix recipe as follows:</p>
<table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="A1.EGx4">
<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle\ell_{\text{Mixup}}(\mathcal{D}^{\text{c}},\mathcal{D}^{\text{u}}%
)=-\sum_{i=1}^{|D|/2}\sum_{n=1}^{N^{\prime}_{i}}H(\tilde{\mathbf{Y}}_{n},%
\sigma(\tilde{\mathbf{Z}}_{n}))\text{,}\;\;\ell_{\text{SFTMix}}(\mathcal{D})=%
\ell_{\text{NTP}}(\mathcal{D})+\mu\,\ell_{\text{Mixup}}(\mathcal{D}^{\text{c}}%
,\mathcal{D}^{\text{u}})\text{.}" class="ltx_Math" display="block" id="S3.E5.m1.9"><semantics id="S3.E5.m1.9a"><mrow id="S3.E5.m1.9.9" xref="S3.E5.m1.9.9.cmml"><mrow id="S3.E5.m1.5.5.2" xref="S3.E5.m1.5.5.2.cmml"><msub id="S3.E5.m1.5.5.2.4" xref="S3.E5.m1.5.5.2.4.cmml"><mi id="S3.E5.m1.5.5.2.4.2" mathvariant="normal" xref="S3.E5.m1.5.5.2.4.2.cmml">ℓ</mi><mtext id="S3.E5.m1.5.5.2.4.3" xref="S3.E5.m1.5.5.2.4.3a.cmml">Mixup</mtext></msub><mo id="S3.E5.m1.5.5.2.3" xref="S3.E5.m1.5.5.2.3.cmml">⁢</mo><mrow id="S3.E5.m1.5.5.2.2.2" xref="S3.E5.m1.5.5.2.2.3.cmml"><mo id="S3.E5.m1.5.5.2.2.2.3" stretchy="false" xref="S3.E5.m1.5.5.2.2.3.cmml">(</mo><msup id="S3.E5.m1.4.4.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.4.4.1.1.1.1.2" xref="S3.E5.m1.4.4.1.1.1.1.2.cmml">𝒟</mi><mtext id="S3.E5.m1.4.4.1.1.1.1.3" xref="S3.E5.m1.4.4.1.1.1.1.3a.cmml">c</mtext></msup><mo id="S3.E5.m1.5.5.2.2.2.4" xref="S3.E5.m1.5.5.2.2.3.cmml">,</mo><msup id="S3.E5.m1.5.5.2.2.2.2" xref="S3.E5.m1.5.5.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.5.5.2.2.2.2.2" xref="S3.E5.m1.5.5.2.2.2.2.2.cmml">𝒟</mi><mtext id="S3.E5.m1.5.5.2.2.2.2.3" xref="S3.E5.m1.5.5.2.2.2.2.3a.cmml">u</mtext></msup><mo id="S3.E5.m1.5.5.2.2.2.5" stretchy="false" xref="S3.E5.m1.5.5.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.9.9.8" xref="S3.E5.m1.9.9.8.cmml">=</mo><mrow id="S3.E5.m1.7.7.4" xref="S3.E5.m1.7.7.4.cmml"><mo id="S3.E5.m1.7.7.4a" xref="S3.E5.m1.7.7.4.cmml">−</mo><mrow id="S3.E5.m1.7.7.4.2" xref="S3.E5.m1.7.7.4.2.cmml"><munderover id="S3.E5.m1.7.7.4.2.3" xref="S3.E5.m1.7.7.4.2.3.cmml"><mo id="S3.E5.m1.7.7.4.2.3.2.2" movablelimits="false" rspace="0em" xref="S3.E5.m1.7.7.4.2.3.2.2.cmml">∑</mo><mrow id="S3.E5.m1.7.7.4.2.3.2.3" xref="S3.E5.m1.7.7.4.2.3.2.3.cmml"><mi id="S3.E5.m1.7.7.4.2.3.2.3.2" xref="S3.E5.m1.7.7.4.2.3.2.3.2.cmml">i</mi><mo id="S3.E5.m1.7.7.4.2.3.2.3.1" xref="S3.E5.m1.7.7.4.2.3.2.3.1.cmml">=</mo><mn id="S3.E5.m1.7.7.4.2.3.2.3.3" xref="S3.E5.m1.7.7.4.2.3.2.3.3.cmml">1</mn></mrow><mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.3.1.cmml"><mo id="S3.E5.m1.1.1.1.3.2.1" stretchy="false" xref="S3.E5.m1.1.1.1.3.1.1.cmml">|</mo><mi id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml">D</mi><mo id="S3.E5.m1.1.1.1.3.2.2" stretchy="false" xref="S3.E5.m1.1.1.1.3.1.1.cmml">|</mo></mrow><mo id="S3.E5.m1.1.1.1.2" xref="S3.E5.m1.1.1.1.2.cmml">/</mo><mn id="S3.E5.m1.1.1.1.4" xref="S3.E5.m1.1.1.1.4.cmml">2</mn></mrow></munderover><mrow id="S3.E5.m1.7.7.4.2.2" xref="S3.E5.m1.7.7.4.2.2.cmml"><munderover id="S3.E5.m1.7.7.4.2.2.3" xref="S3.E5.m1.7.7.4.2.2.3.cmml"><mo id="S3.E5.m1.7.7.4.2.2.3.2.2" movablelimits="false" xref="S3.E5.m1.7.7.4.2.2.3.2.2.cmml">∑</mo><mrow id="S3.E5.m1.7.7.4.2.2.3.2.3" xref="S3.E5.m1.7.7.4.2.2.3.2.3.cmml"><mi id="S3.E5.m1.7.7.4.2.2.3.2.3.2" xref="S3.E5.m1.7.7.4.2.2.3.2.3.2.cmml">n</mi><mo id="S3.E5.m1.7.7.4.2.2.3.2.3.1" xref="S3.E5.m1.7.7.4.2.2.3.2.3.1.cmml">=</mo><mn id="S3.E5.m1.7.7.4.2.2.3.2.3.3" xref="S3.E5.m1.7.7.4.2.2.3.2.3.3.cmml">1</mn></mrow><msubsup id="S3.E5.m1.7.7.4.2.2.3.3" xref="S3.E5.m1.7.7.4.2.2.3.3.cmml"><mi id="S3.E5.m1.7.7.4.2.2.3.3.2.2" xref="S3.E5.m1.7.7.4.2.2.3.3.2.2.cmml">N</mi><mi id="S3.E5.m1.7.7.4.2.2.3.3.3" xref="S3.E5.m1.7.7.4.2.2.3.3.3.cmml">i</mi><mo id="S3.E5.m1.7.7.4.2.2.3.3.2.3" xref="S3.E5.m1.7.7.4.2.2.3.3.2.3.cmml">′</mo></msubsup></munderover><mrow id="S3.E5.m1.7.7.4.2.2.2" xref="S3.E5.m1.7.7.4.2.2.2.cmml"><mi id="S3.E5.m1.7.7.4.2.2.2.4" xref="S3.E5.m1.7.7.4.2.2.2.4.cmml">H</mi><mo id="S3.E5.m1.7.7.4.2.2.2.3" xref="S3.E5.m1.7.7.4.2.2.2.3.cmml">⁢</mo><mrow id="S3.E5.m1.7.7.4.2.2.2.2.2" xref="S3.E5.m1.7.7.4.2.2.2.2.3.cmml"><mo id="S3.E5.m1.7.7.4.2.2.2.2.2.3" stretchy="false" xref="S3.E5.m1.7.7.4.2.2.2.2.3.cmml">(</mo><msub id="S3.E5.m1.6.6.3.1.1.1.1.1.1" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E5.m1.6.6.3.1.1.1.1.1.1.2" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1.2.cmml"><mi id="S3.E5.m1.6.6.3.1.1.1.1.1.1.2.2" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1.2.2.cmml">𝐘</mi><mo id="S3.E5.m1.6.6.3.1.1.1.1.1.1.2.1" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S3.E5.m1.6.6.3.1.1.1.1.1.1.3" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.E5.m1.7.7.4.2.2.2.2.2.4" xref="S3.E5.m1.7.7.4.2.2.2.2.3.cmml">,</mo><mrow id="S3.E5.m1.7.7.4.2.2.2.2.2.2" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.cmml"><mi id="S3.E5.m1.7.7.4.2.2.2.2.2.2.3" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.3.cmml">σ</mi><mo id="S3.E5.m1.7.7.4.2.2.2.2.2.2.2" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.2.cmml">⁢</mo><mrow id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.cmml"><mo id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.2" stretchy="false" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.cmml">(</mo><msub id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.cmml"><mover accent="true" id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2.cmml"><mi id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2.2" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2.2.cmml">𝐙</mi><mo id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2.1" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2.1.cmml">~</mo></mover><mi id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.3" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.3.cmml">n</mi></msub><mo id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.3" stretchy="false" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.7.7.4.2.2.2.2.2.5" stretchy="false" xref="S3.E5.m1.7.7.4.2.2.2.2.3.cmml">)</mo></mrow><mo id="S3.E5.m1.7.7.4.2.2.2.3a" xref="S3.E5.m1.7.7.4.2.2.2.3.cmml">⁢</mo><mtext id="S3.E5.m1.7.7.4.2.2.2.5" xref="S3.E5.m1.7.7.4.2.2.2.5a.cmml">,</mtext><mo id="S3.E5.m1.7.7.4.2.2.2.3b" lspace="0.560em" xref="S3.E5.m1.7.7.4.2.2.2.3.cmml">⁢</mo><msub id="S3.E5.m1.7.7.4.2.2.2.6" xref="S3.E5.m1.7.7.4.2.2.2.6.cmml"><mi id="S3.E5.m1.7.7.4.2.2.2.6.2" mathvariant="normal" xref="S3.E5.m1.7.7.4.2.2.2.6.2.cmml">ℓ</mi><mtext id="S3.E5.m1.7.7.4.2.2.2.6.3" xref="S3.E5.m1.7.7.4.2.2.2.6.3a.cmml">SFTMix</mtext></msub><mo id="S3.E5.m1.7.7.4.2.2.2.3c" xref="S3.E5.m1.7.7.4.2.2.2.3.cmml">⁢</mo><mrow id="S3.E5.m1.7.7.4.2.2.2.7.2" xref="S3.E5.m1.7.7.4.2.2.2.cmml"><mo id="S3.E5.m1.7.7.4.2.2.2.7.2.1" stretchy="false" xref="S3.E5.m1.7.7.4.2.2.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.2.2" xref="S3.E5.m1.2.2.cmml">𝒟</mi><mo id="S3.E5.m1.7.7.4.2.2.2.7.2.2" stretchy="false" xref="S3.E5.m1.7.7.4.2.2.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E5.m1.9.9.9" xref="S3.E5.m1.9.9.9.cmml">=</mo><mrow id="S3.E5.m1.9.9.6" xref="S3.E5.m1.9.9.6.cmml"><mrow id="S3.E5.m1.9.9.6.4" xref="S3.E5.m1.9.9.6.4.cmml"><msub id="S3.E5.m1.9.9.6.4.2" xref="S3.E5.m1.9.9.6.4.2.cmml"><mi id="S3.E5.m1.9.9.6.4.2.2" mathvariant="normal" xref="S3.E5.m1.9.9.6.4.2.2.cmml">ℓ</mi><mtext id="S3.E5.m1.9.9.6.4.2.3" xref="S3.E5.m1.9.9.6.4.2.3a.cmml">NTP</mtext></msub><mo id="S3.E5.m1.9.9.6.4.1" xref="S3.E5.m1.9.9.6.4.1.cmml">⁢</mo><mrow id="S3.E5.m1.9.9.6.4.3.2" xref="S3.E5.m1.9.9.6.4.cmml"><mo id="S3.E5.m1.9.9.6.4.3.2.1" stretchy="false" xref="S3.E5.m1.9.9.6.4.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.3.3" xref="S3.E5.m1.3.3.cmml">𝒟</mi><mo id="S3.E5.m1.9.9.6.4.3.2.2" stretchy="false" xref="S3.E5.m1.9.9.6.4.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.9.9.6.3" xref="S3.E5.m1.9.9.6.3.cmml">+</mo><mrow id="S3.E5.m1.9.9.6.2" xref="S3.E5.m1.9.9.6.2.cmml"><mi id="S3.E5.m1.9.9.6.2.4" xref="S3.E5.m1.9.9.6.2.4.cmml">μ</mi><mo id="S3.E5.m1.9.9.6.2.3" lspace="0.170em" xref="S3.E5.m1.9.9.6.2.3.cmml">⁢</mo><msub id="S3.E5.m1.9.9.6.2.5" xref="S3.E5.m1.9.9.6.2.5.cmml"><mi id="S3.E5.m1.9.9.6.2.5.2" mathvariant="normal" xref="S3.E5.m1.9.9.6.2.5.2.cmml">ℓ</mi><mtext id="S3.E5.m1.9.9.6.2.5.3" xref="S3.E5.m1.9.9.6.2.5.3a.cmml">Mixup</mtext></msub><mo id="S3.E5.m1.9.9.6.2.3a" xref="S3.E5.m1.9.9.6.2.3.cmml">⁢</mo><mrow id="S3.E5.m1.9.9.6.2.2.2" xref="S3.E5.m1.9.9.6.2.2.3.cmml"><mo id="S3.E5.m1.9.9.6.2.2.2.3" stretchy="false" xref="S3.E5.m1.9.9.6.2.2.3.cmml">(</mo><msup id="S3.E5.m1.8.8.5.1.1.1.1" xref="S3.E5.m1.8.8.5.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.8.8.5.1.1.1.1.2" xref="S3.E5.m1.8.8.5.1.1.1.1.2.cmml">𝒟</mi><mtext id="S3.E5.m1.8.8.5.1.1.1.1.3" xref="S3.E5.m1.8.8.5.1.1.1.1.3a.cmml">c</mtext></msup><mo id="S3.E5.m1.9.9.6.2.2.2.4" xref="S3.E5.m1.9.9.6.2.2.3.cmml">,</mo><msup id="S3.E5.m1.9.9.6.2.2.2.2" xref="S3.E5.m1.9.9.6.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.9.9.6.2.2.2.2.2" xref="S3.E5.m1.9.9.6.2.2.2.2.2.cmml">𝒟</mi><mtext id="S3.E5.m1.9.9.6.2.2.2.2.3" xref="S3.E5.m1.9.9.6.2.2.2.2.3a.cmml">u</mtext></msup><mo id="S3.E5.m1.9.9.6.2.2.2.5" stretchy="false" xref="S3.E5.m1.9.9.6.2.2.3.cmml">)</mo></mrow><mo id="S3.E5.m1.9.9.6.2.3b" xref="S3.E5.m1.9.9.6.2.3.cmml">⁢</mo><mtext id="S3.E5.m1.9.9.6.2.6" xref="S3.E5.m1.9.9.6.2.6a.cmml">.</mtext></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.9b"><apply id="S3.E5.m1.9.9.cmml" xref="S3.E5.m1.9.9"><and id="S3.E5.m1.9.9a.cmml" xref="S3.E5.m1.9.9"></and><apply id="S3.E5.m1.9.9b.cmml" xref="S3.E5.m1.9.9"><eq id="S3.E5.m1.9.9.8.cmml" xref="S3.E5.m1.9.9.8"></eq><apply id="S3.E5.m1.5.5.2.cmml" xref="S3.E5.m1.5.5.2"><times id="S3.E5.m1.5.5.2.3.cmml" xref="S3.E5.m1.5.5.2.3"></times><apply id="S3.E5.m1.5.5.2.4.cmml" xref="S3.E5.m1.5.5.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.2.4.1.cmml" xref="S3.E5.m1.5.5.2.4">subscript</csymbol><ci id="S3.E5.m1.5.5.2.4.2.cmml" xref="S3.E5.m1.5.5.2.4.2">ℓ</ci><ci id="S3.E5.m1.5.5.2.4.3a.cmml" xref="S3.E5.m1.5.5.2.4.3"><mtext id="S3.E5.m1.5.5.2.4.3.cmml" mathsize="70%" xref="S3.E5.m1.5.5.2.4.3">Mixup</mtext></ci></apply><interval closure="open" id="S3.E5.m1.5.5.2.2.3.cmml" xref="S3.E5.m1.5.5.2.2.2"><apply id="S3.E5.m1.4.4.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1">superscript</csymbol><ci id="S3.E5.m1.4.4.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.2">𝒟</ci><ci id="S3.E5.m1.4.4.1.1.1.1.3a.cmml" xref="S3.E5.m1.4.4.1.1.1.1.3"><mtext id="S3.E5.m1.4.4.1.1.1.1.3.cmml" mathsize="70%" xref="S3.E5.m1.4.4.1.1.1.1.3">c</mtext></ci></apply><apply id="S3.E5.m1.5.5.2.2.2.2.cmml" xref="S3.E5.m1.5.5.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.2.2.2.2.1.cmml" xref="S3.E5.m1.5.5.2.2.2.2">superscript</csymbol><ci id="S3.E5.m1.5.5.2.2.2.2.2.cmml" xref="S3.E5.m1.5.5.2.2.2.2.2">𝒟</ci><ci id="S3.E5.m1.5.5.2.2.2.2.3a.cmml" xref="S3.E5.m1.5.5.2.2.2.2.3"><mtext id="S3.E5.m1.5.5.2.2.2.2.3.cmml" mathsize="70%" xref="S3.E5.m1.5.5.2.2.2.2.3">u</mtext></ci></apply></interval></apply><apply id="S3.E5.m1.7.7.4.cmml" xref="S3.E5.m1.7.7.4"><minus id="S3.E5.m1.7.7.4.3.cmml" xref="S3.E5.m1.7.7.4"></minus><apply id="S3.E5.m1.7.7.4.2.cmml" xref="S3.E5.m1.7.7.4.2"><apply id="S3.E5.m1.7.7.4.2.3.cmml" xref="S3.E5.m1.7.7.4.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.4.2.3.1.cmml" xref="S3.E5.m1.7.7.4.2.3">superscript</csymbol><apply id="S3.E5.m1.7.7.4.2.3.2.cmml" xref="S3.E5.m1.7.7.4.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.4.2.3.2.1.cmml" xref="S3.E5.m1.7.7.4.2.3">subscript</csymbol><sum id="S3.E5.m1.7.7.4.2.3.2.2.cmml" xref="S3.E5.m1.7.7.4.2.3.2.2"></sum><apply id="S3.E5.m1.7.7.4.2.3.2.3.cmml" xref="S3.E5.m1.7.7.4.2.3.2.3"><eq id="S3.E5.m1.7.7.4.2.3.2.3.1.cmml" xref="S3.E5.m1.7.7.4.2.3.2.3.1"></eq><ci id="S3.E5.m1.7.7.4.2.3.2.3.2.cmml" xref="S3.E5.m1.7.7.4.2.3.2.3.2">𝑖</ci><cn id="S3.E5.m1.7.7.4.2.3.2.3.3.cmml" type="integer" xref="S3.E5.m1.7.7.4.2.3.2.3.3">1</cn></apply></apply><apply id="S3.E5.m1.1.1.1.cmml" xref="S3.E5.m1.1.1.1"><divide id="S3.E5.m1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.2"></divide><apply id="S3.E5.m1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.3.2"><abs id="S3.E5.m1.1.1.1.3.1.1.cmml" xref="S3.E5.m1.1.1.1.3.2.1"></abs><ci id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1">𝐷</ci></apply><cn id="S3.E5.m1.1.1.1.4.cmml" type="integer" xref="S3.E5.m1.1.1.1.4">2</cn></apply></apply><apply id="S3.E5.m1.7.7.4.2.2.cmml" xref="S3.E5.m1.7.7.4.2.2"><apply id="S3.E5.m1.7.7.4.2.2.3.cmml" xref="S3.E5.m1.7.7.4.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.4.2.2.3.1.cmml" xref="S3.E5.m1.7.7.4.2.2.3">superscript</csymbol><apply id="S3.E5.m1.7.7.4.2.2.3.2.cmml" xref="S3.E5.m1.7.7.4.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.4.2.2.3.2.1.cmml" xref="S3.E5.m1.7.7.4.2.2.3">subscript</csymbol><sum id="S3.E5.m1.7.7.4.2.2.3.2.2.cmml" xref="S3.E5.m1.7.7.4.2.2.3.2.2"></sum><apply id="S3.E5.m1.7.7.4.2.2.3.2.3.cmml" xref="S3.E5.m1.7.7.4.2.2.3.2.3"><eq id="S3.E5.m1.7.7.4.2.2.3.2.3.1.cmml" xref="S3.E5.m1.7.7.4.2.2.3.2.3.1"></eq><ci id="S3.E5.m1.7.7.4.2.2.3.2.3.2.cmml" xref="S3.E5.m1.7.7.4.2.2.3.2.3.2">𝑛</ci><cn id="S3.E5.m1.7.7.4.2.2.3.2.3.3.cmml" type="integer" xref="S3.E5.m1.7.7.4.2.2.3.2.3.3">1</cn></apply></apply><apply id="S3.E5.m1.7.7.4.2.2.3.3.cmml" xref="S3.E5.m1.7.7.4.2.2.3.3"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.4.2.2.3.3.1.cmml" xref="S3.E5.m1.7.7.4.2.2.3.3">subscript</csymbol><apply id="S3.E5.m1.7.7.4.2.2.3.3.2.cmml" xref="S3.E5.m1.7.7.4.2.2.3.3"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.4.2.2.3.3.2.1.cmml" xref="S3.E5.m1.7.7.4.2.2.3.3">superscript</csymbol><ci id="S3.E5.m1.7.7.4.2.2.3.3.2.2.cmml" xref="S3.E5.m1.7.7.4.2.2.3.3.2.2">𝑁</ci><ci id="S3.E5.m1.7.7.4.2.2.3.3.2.3.cmml" xref="S3.E5.m1.7.7.4.2.2.3.3.2.3">′</ci></apply><ci id="S3.E5.m1.7.7.4.2.2.3.3.3.cmml" xref="S3.E5.m1.7.7.4.2.2.3.3.3">𝑖</ci></apply></apply><apply id="S3.E5.m1.7.7.4.2.2.2.cmml" xref="S3.E5.m1.7.7.4.2.2.2"><times id="S3.E5.m1.7.7.4.2.2.2.3.cmml" xref="S3.E5.m1.7.7.4.2.2.2.3"></times><ci id="S3.E5.m1.7.7.4.2.2.2.4.cmml" xref="S3.E5.m1.7.7.4.2.2.2.4">𝐻</ci><interval closure="open" id="S3.E5.m1.7.7.4.2.2.2.2.3.cmml" xref="S3.E5.m1.7.7.4.2.2.2.2.2"><apply id="S3.E5.m1.6.6.3.1.1.1.1.1.1.cmml" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.3.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E5.m1.6.6.3.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1.2"><ci id="S3.E5.m1.6.6.3.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1.2.1">~</ci><ci id="S3.E5.m1.6.6.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1.2.2">𝐘</ci></apply><ci id="S3.E5.m1.6.6.3.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.6.6.3.1.1.1.1.1.1.3">𝑛</ci></apply><apply id="S3.E5.m1.7.7.4.2.2.2.2.2.2.cmml" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2"><times id="S3.E5.m1.7.7.4.2.2.2.2.2.2.2.cmml" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.2"></times><ci id="S3.E5.m1.7.7.4.2.2.2.2.2.2.3.cmml" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.3">𝜎</ci><apply id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.cmml" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.1.cmml" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1">subscript</csymbol><apply id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2.cmml" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2"><ci id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2.1.cmml" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2.1">~</ci><ci id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2.2.cmml" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.2.2">𝐙</ci></apply><ci id="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.3.cmml" xref="S3.E5.m1.7.7.4.2.2.2.2.2.2.1.1.1.3">𝑛</ci></apply></apply></interval><ci id="S3.E5.m1.7.7.4.2.2.2.5a.cmml" xref="S3.E5.m1.7.7.4.2.2.2.5"><mtext id="S3.E5.m1.7.7.4.2.2.2.5.cmml" xref="S3.E5.m1.7.7.4.2.2.2.5">,</mtext></ci><apply id="S3.E5.m1.7.7.4.2.2.2.6.cmml" xref="S3.E5.m1.7.7.4.2.2.2.6"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.4.2.2.2.6.1.cmml" xref="S3.E5.m1.7.7.4.2.2.2.6">subscript</csymbol><ci id="S3.E5.m1.7.7.4.2.2.2.6.2.cmml" xref="S3.E5.m1.7.7.4.2.2.2.6.2">ℓ</ci><ci id="S3.E5.m1.7.7.4.2.2.2.6.3a.cmml" xref="S3.E5.m1.7.7.4.2.2.2.6.3"><mtext id="S3.E5.m1.7.7.4.2.2.2.6.3.cmml" mathsize="70%" xref="S3.E5.m1.7.7.4.2.2.2.6.3">SFTMix</mtext></ci></apply><ci id="S3.E5.m1.2.2.cmml" xref="S3.E5.m1.2.2">𝒟</ci></apply></apply></apply></apply></apply><apply id="S3.E5.m1.9.9c.cmml" xref="S3.E5.m1.9.9"><eq id="S3.E5.m1.9.9.9.cmml" xref="S3.E5.m1.9.9.9"></eq><share href="https://arxiv.org/html/2410.05248v1#S3.E5.m1.7.7.4.cmml" id="S3.E5.m1.9.9d.cmml" xref="S3.E5.m1.9.9"></share><apply id="S3.E5.m1.9.9.6.cmml" xref="S3.E5.m1.9.9.6"><plus id="S3.E5.m1.9.9.6.3.cmml" xref="S3.E5.m1.9.9.6.3"></plus><apply id="S3.E5.m1.9.9.6.4.cmml" xref="S3.E5.m1.9.9.6.4"><times id="S3.E5.m1.9.9.6.4.1.cmml" xref="S3.E5.m1.9.9.6.4.1"></times><apply id="S3.E5.m1.9.9.6.4.2.cmml" xref="S3.E5.m1.9.9.6.4.2"><csymbol cd="ambiguous" id="S3.E5.m1.9.9.6.4.2.1.cmml" xref="S3.E5.m1.9.9.6.4.2">subscript</csymbol><ci id="S3.E5.m1.9.9.6.4.2.2.cmml" xref="S3.E5.m1.9.9.6.4.2.2">ℓ</ci><ci id="S3.E5.m1.9.9.6.4.2.3a.cmml" xref="S3.E5.m1.9.9.6.4.2.3"><mtext id="S3.E5.m1.9.9.6.4.2.3.cmml" mathsize="70%" xref="S3.E5.m1.9.9.6.4.2.3">NTP</mtext></ci></apply><ci id="S3.E5.m1.3.3.cmml" xref="S3.E5.m1.3.3">𝒟</ci></apply><apply id="S3.E5.m1.9.9.6.2.cmml" xref="S3.E5.m1.9.9.6.2"><times id="S3.E5.m1.9.9.6.2.3.cmml" xref="S3.E5.m1.9.9.6.2.3"></times><ci id="S3.E5.m1.9.9.6.2.4.cmml" xref="S3.E5.m1.9.9.6.2.4">𝜇</ci><apply id="S3.E5.m1.9.9.6.2.5.cmml" xref="S3.E5.m1.9.9.6.2.5"><csymbol cd="ambiguous" id="S3.E5.m1.9.9.6.2.5.1.cmml" xref="S3.E5.m1.9.9.6.2.5">subscript</csymbol><ci id="S3.E5.m1.9.9.6.2.5.2.cmml" xref="S3.E5.m1.9.9.6.2.5.2">ℓ</ci><ci id="S3.E5.m1.9.9.6.2.5.3a.cmml" xref="S3.E5.m1.9.9.6.2.5.3"><mtext id="S3.E5.m1.9.9.6.2.5.3.cmml" mathsize="70%" xref="S3.E5.m1.9.9.6.2.5.3">Mixup</mtext></ci></apply><interval closure="open" id="S3.E5.m1.9.9.6.2.2.3.cmml" xref="S3.E5.m1.9.9.6.2.2.2"><apply id="S3.E5.m1.8.8.5.1.1.1.1.cmml" xref="S3.E5.m1.8.8.5.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.8.8.5.1.1.1.1.1.cmml" xref="S3.E5.m1.8.8.5.1.1.1.1">superscript</csymbol><ci id="S3.E5.m1.8.8.5.1.1.1.1.2.cmml" xref="S3.E5.m1.8.8.5.1.1.1.1.2">𝒟</ci><ci id="S3.E5.m1.8.8.5.1.1.1.1.3a.cmml" xref="S3.E5.m1.8.8.5.1.1.1.1.3"><mtext id="S3.E5.m1.8.8.5.1.1.1.1.3.cmml" mathsize="70%" xref="S3.E5.m1.8.8.5.1.1.1.1.3">c</mtext></ci></apply><apply id="S3.E5.m1.9.9.6.2.2.2.2.cmml" xref="S3.E5.m1.9.9.6.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.9.9.6.2.2.2.2.1.cmml" xref="S3.E5.m1.9.9.6.2.2.2.2">superscript</csymbol><ci id="S3.E5.m1.9.9.6.2.2.2.2.2.cmml" xref="S3.E5.m1.9.9.6.2.2.2.2.2">𝒟</ci><ci id="S3.E5.m1.9.9.6.2.2.2.2.3a.cmml" xref="S3.E5.m1.9.9.6.2.2.2.2.3"><mtext id="S3.E5.m1.9.9.6.2.2.2.2.3.cmml" mathsize="70%" xref="S3.E5.m1.9.9.6.2.2.2.2.3">u</mtext></ci></apply></interval><ci id="S3.E5.m1.9.9.6.2.6a.cmml" xref="S3.E5.m1.9.9.6.2.6"><mtext id="S3.E5.m1.9.9.6.2.6.cmml" xref="S3.E5.m1.9.9.6.2.6">.</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.9c">\displaystyle\ell_{\text{Mixup}}(\mathcal{D}^{\text{c}},\mathcal{D}^{\text{u}}%
)=-\sum_{i=1}^{|D|/2}\sum_{n=1}^{N^{\prime}_{i}}H(\tilde{\mathbf{Y}}_{n},%
\sigma(\tilde{\mathbf{Z}}_{n}))\text{,}\;\;\ell_{\text{SFTMix}}(\mathcal{D})=%
\ell_{\text{NTP}}(\mathcal{D})+\mu\,\ell_{\text{Mixup}}(\mathcal{D}^{\text{c}}%
,\mathcal{D}^{\text{u}})\text{.}</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.9d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( caligraphic_D start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT , caligraphic_D start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT ) = - ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | italic_D | / 2 end_POSTSUPERSCRIPT ∑ start_POSTSUBSCRIPT italic_n = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUPERSCRIPT italic_H ( over~ start_ARG bold_Y end_ARG start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_σ ( over~ start_ARG bold_Z end_ARG start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) ) , roman_ℓ start_POSTSUBSCRIPT SFTMix end_POSTSUBSCRIPT ( caligraphic_D ) = roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( caligraphic_D ) + italic_μ roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( caligraphic_D start_POSTSUPERSCRIPT c end_POSTSUPERSCRIPT , caligraphic_D start_POSTSUPERSCRIPT u end_POSTSUPERSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p1.19">Here, <math alttext="\mu" class="ltx_Math" display="inline" id="S3.SS3.p1.19.m1.1"><semantics id="S3.SS3.p1.19.m1.1a"><mi id="S3.SS3.p1.19.m1.1.1" xref="S3.SS3.p1.19.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.19.m1.1b"><ci id="S3.SS3.p1.19.m1.1.1.cmml" xref="S3.SS3.p1.19.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.19.m1.1c">\mu</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.19.m1.1d">italic_μ</annotation></semantics></math> is a hyperparameter to control the regularization effect.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1">Altogether, as shown in Figure&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.F1" title="Figure 1 ‣ 3.1 Preliminaries of the Conventional NTP Instruction-Tuning Paradigm ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">1</span></a>, our SFTMix recipe first identifies subspaces with distinct confidence levels using training dynamics, then facilitates the propagation of supervision signals between these subspaces through a Mixup-based regularization.
Since LLMs exhibit varying confidence levels across diverse semantic regions, the Mixup-based regularization encourages linear behavior and a smoother decision boundary between confident and unconfident data points <cite class="ltx_cite ltx_citemacro_citep">(Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib63" title="">2018</a>; Verma et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib57" title="">2019</a>)</cite>.
In this way, SFTMix regularizes overfitting in confident regions and propagates supervision signals <cite class="ltx_cite ltx_citemacro_citep">(Bengio et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib3" title="">2009</a>; Chapelle et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib8" title="">2009</a>; Sohn et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib49" title="">2020</a>)</cite> to enhance generalization in less confident regions, thereby improving the instruction-tuning performance.</p>
</div>
<figure class="ltx_table" id="S3.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T1.1" style="width:397.5pt;height:137.7pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-62.5pt,21.5pt) scale(0.760614245272392,0.760614245272392) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S3.T1.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T1.1.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S3.T1.1.1.1.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S3.T1.1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.2.1">Instruction-Tuning</span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S3.T1.1.1.1.1.3"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" colspan="3" id="S3.T1.1.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.4.1">MT-Bench</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S3.T1.1.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.5.1">AlpacaEval-2</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T1.1.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S3.T1.1.1.2.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.2.1.1.1">Dataset</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.2.1.2"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.2.1.2.1">LLM</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.1.1.2.1.3"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.2.1.3.1">Recipe</span></td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S3.T1.1.1.2.1.4"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.2.1.4.1">Single-Turn</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.2.1.5"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.2.1.5.1">Multi-Turn</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.1.1.2.1.6"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.2.1.6.1">Overall</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.2.1.7"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.2.1.7.1">Win Rate</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.2.1.8"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.2.1.8.1">LC Win Rate</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.3.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S3.T1.1.1.3.2.1" rowspan="4"><span class="ltx_text" id="S3.T1.1.1.3.2.1.1">Alpaca-52K</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S3.T1.1.1.3.2.2" rowspan="2"><span class="ltx_text" id="S3.T1.1.1.3.2.2.1">Llama-3.1-8B</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S3.T1.1.1.3.2.3">NTP</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S3.T1.1.1.3.2.4">4.9100</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S3.T1.1.1.3.2.5">3.8150</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S3.T1.1.1.3.2.6">4.3625</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S3.T1.1.1.3.2.7">4.0714</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S3.T1.1.1.3.2.8">8.6528</th>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.4.3">
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.1.1.4.3.1">SFTMix</td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S3.T1.1.1.4.3.2"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.4.3.2.1">5.2125</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.4.3.3"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.4.3.3.1">3.9525</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.1.1.4.3.4"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.4.3.4.1">4.5825</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.4.3.5"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.4.3.5.1">4.9031</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.4.3.6"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.4.3.6.1">10.3195</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.5.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.5.4.1" rowspan="2"><span class="ltx_text" id="S3.T1.1.1.5.4.1.1">Mistral-7B-v0.1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S3.T1.1.1.5.4.2">NTP</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S3.T1.1.1.5.4.3">5.1650</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.5.4.4">4.0675</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S3.T1.1.1.5.4.5">4.6163</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.5.4.6">4.3560</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.5.4.7">9.1759</th>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.6.5">
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.1.1.6.5.1">SFTMix</td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S3.T1.1.1.6.5.2"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.6.5.2.1">5.2775</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.6.5.3"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.6.5.3.1">4.5425</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.1.1.6.5.4"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.6.5.4.1">4.9100</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.6.5.5"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.6.5.5.1">4.5386</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.6.5.6"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.6.5.6.1">9.4994</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.7.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_bb ltx_border_t" id="S3.T1.1.1.7.6.1" rowspan="4"><span class="ltx_text" id="S3.T1.1.1.7.6.1.1">UltraChat-200K</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.7.6.2" rowspan="2"><span class="ltx_text" id="S3.T1.1.1.7.6.2.1">Llama-3.1-8B</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S3.T1.1.1.7.6.3">NTP</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S3.T1.1.1.7.6.4">6.1875</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.7.6.5">5.0125</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S3.T1.1.1.7.6.6">5.6000</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.7.6.7">5.0665</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.7.6.8">8.4505</th>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.8.7">
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.1.1.8.7.1">SFTMix</td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S3.T1.1.1.8.7.2"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.8.7.2.1">6.2750</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.8.7.3"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.8.7.3.1">5.3500</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.1.1.8.7.4"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.8.7.4.1">5.8125</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.8.7.5"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.8.7.5.1">5.1149</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.1.8.7.6"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.8.7.6.1">9.3810</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.9.8">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_bb ltx_border_t" id="S3.T1.1.1.9.8.1" rowspan="2"><span class="ltx_text" id="S3.T1.1.1.9.8.1.1">Mistral-7B-v0.1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S3.T1.1.1.9.8.2">NTP</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S3.T1.1.1.9.8.3">5.7625</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.9.8.4">4.6938</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S3.T1.1.1.9.8.5">5.2281</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.9.8.6">4.4899</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.9.8.7">7.7732</th>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1.10.9">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S3.T1.1.1.10.9.1">SFTMix</td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="S3.T1.1.1.10.9.2"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.10.9.2.1">5.9813</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.1.10.9.3"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.10.9.3.1">4.8813</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S3.T1.1.1.10.9.4"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.10.9.4.1">5.4313</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.1.10.9.5"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.10.9.5.1">4.6117</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.1.10.9.6"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.10.9.6.1">8.7650</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Evaluation of instruction-following capabilities of LLMs trained with NTP or SFTMix. We report the average score based on five rounds of evaluation, with the scores from the best-performing instruction-tuning recipe in bold. Standard errors are provided in Appendix&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#A1" title="Appendix A Experiment Details ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">A</span></a>. SFTMix outperforms NTP on both MT-Bench and AlpacaEval-2, irrespective of LLM families and SFT data sizes.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<div class="ltx_para ltx_noindent" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we assess the effectiveness of SFTMix against the NTP baseline in both instruction-following (Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS1" title="4.1 Instruction-Following SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">4.1</span></a>) and domain-specific (Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS2" title="4.2 Domain-Specific SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">4.2</span></a>) SFT tasks.
SFTMix consistently improves instruction-tuning performance across different LLM families and SFT datasets of varying scales.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Instruction-Following SFT</h3>
<div class="ltx_para ltx_noindent" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">Instruction-following SFT trains LLMs on labeled datasets consisting of instructional prompts and corresponding desired responses, enhancing their conversational capabilities in downstream interaction-driven applications.
Here, we compare SFTMix with the conventional NTP paradigm by applying them to the instruction tuning of two pre-trained LLMs from different model families (i.e., Llama <cite class="ltx_cite ltx_citemacro_citep">(Dubey et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib19" title="">2024</a>)</cite> and Mistral <cite class="ltx_cite ltx_citemacro_citep">(Jiang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib27" title="">2023</a>)</cite>) on two instruction-following datasets of varying scales (i.e., Alpaca-52K <cite class="ltx_cite ltx_citemacro_citep">(Taori et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib52" title="">2023</a>)</cite> and UltraChat-200K <cite class="ltx_cite ltx_citemacro_citep">(Tunstall et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib54" title="">2023</a>)</cite>).
We then evaluate the instruction-tuned LLMs on two widely-adopted benchmarks: MT-Bench <cite class="ltx_cite ltx_citemacro_citep">(Zheng et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib70" title="">2024</a>)</cite> and AlpacaEval-2 <cite class="ltx_cite ltx_citemacro_citep">(Dubois et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib20" title="">2024</a>)</cite>.</p>
</div>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Datasets.</h4>
<div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px1.p1.1">Here, we focus on the following datasets with different sizes.</p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1">Alpaca-52K <cite class="ltx_cite ltx_citemacro_citep">(Taori et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib52" title="">2023</a>)</cite> builds on the pipeline from <cite class="ltx_cite ltx_citemacro_citet">Wang et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib59" title="">2023</a>)</cite> by prompting text-davinci-003 <cite class="ltx_cite ltx_citemacro_citep">(Ouyang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib39" title="">2022</a>)</cite> to generate diverse instructions and appropriate responses, which results in 52,000 single-turn interactions. We follow its default system prompt and conversation template when preparing training inputs.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para ltx_noindent" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1">UltraChat-200K <cite class="ltx_cite ltx_citemacro_citep">(Tunstall et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib54" title="">2023</a>)</cite> filters out uninformative responses from the original UltraChat dataset <cite class="ltx_cite ltx_citemacro_citep">(Ding et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib18" title="">2023</a>)</cite> and downsamples it to 200,000 multi-turn interactions. To adapt these for our SFT pipeline, we expand each multi-turn interaction into multiple single-turn interactions by incorporating the chat history into the instructions.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Implementation Details.</h4>
<div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px2.p1.8">We experiment with Llama-3.1-8B <cite class="ltx_cite ltx_citemacro_citep">(Dubey et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib19" title="">2024</a>)</cite> and Mistral-7B-v0.1 <cite class="ltx_cite ltx_citemacro_citep">(Jiang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib27" title="">2023</a>)</cite> due to their recent release and state-of-the-art performance compared to other models of similar sizes.
By default, we use different instances of the same LLM type to obtain training dynamics and for instruction tuning.
We determine the instruction-tuning hyperparameters through a coarse sweep on Llama-3.1-8B with Alpaca-52K and adopt them as the default settings in our experiments.
Specifically, we train each LLM on Alpaca-52K for three epochs and on UltraChat-200K for one epoch, leveraging eight H100 GPUs.
We use the AdamW optimizer with a learning rate of <math alttext="2\mathrm{e}{-6}" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.1.m1.1"><semantics id="S4.SS1.SSS0.Px2.p1.1.m1.1a"><mrow id="S4.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.cmml"><mrow id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml"><mn id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.2" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.2.cmml">2</mn><mo id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.1" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.3" mathvariant="normal" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.3.cmml">e</mi></mrow><mo id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml">−</mo><mn id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml">6</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.1.m1.1b"><apply id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1"><minus id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1"></minus><apply id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2"><times id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.1"></times><cn id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.2.cmml" type="integer" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.2">2</cn><ci id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.3.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.3">e</ci></apply><cn id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.1.m1.1c">2\mathrm{e}{-6}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.1.m1.1d">2 roman_e - 6</annotation></semantics></math> and weight decay of <math alttext="0.1" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.2.m2.1"><semantics id="S4.SS1.SSS0.Px2.p1.2.m2.1a"><mn id="S4.SS1.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.2.m2.1b"><cn id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" type="float" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.2.m2.1c">0.1</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.2.m2.1d">0.1</annotation></semantics></math>, along with a cosine learning rate scheduler featuring a <math alttext="0.1" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.3.m3.1"><semantics id="S4.SS1.SSS0.Px2.p1.3.m3.1a"><mn id="S4.SS1.SSS0.Px2.p1.3.m3.1.1" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.3.m3.1b"><cn id="S4.SS1.SSS0.Px2.p1.3.m3.1.1.cmml" type="float" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.3.m3.1c">0.1</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.3.m3.1d">0.1</annotation></semantics></math> warm-up ratio.
Each gradient update during instruction tuning accumulates four batches, with each batch containing eight training examples.
We set <math alttext="\alpha=0.5" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.4.m4.1"><semantics id="S4.SS1.SSS0.Px2.p1.4.m4.1a"><mrow id="S4.SS1.SSS0.Px2.p1.4.m4.1.1" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.2" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.2.cmml">α</mi><mo id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.1" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.3" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.4.m4.1b"><apply id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1"><eq id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.1"></eq><ci id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.2">𝛼</ci><cn id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.3.cmml" type="float" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.4.m4.1c">\alpha=0.5</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.4.m4.1d">italic_α = 0.5</annotation></semantics></math> for sampling <math alttext="\lambda" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.5.m5.1"><semantics id="S4.SS1.SSS0.Px2.p1.5.m5.1a"><mi id="S4.SS1.SSS0.Px2.p1.5.m5.1.1" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.5.m5.1b"><ci id="S4.SS1.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.5.m5.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.5.m5.1d">italic_λ</annotation></semantics></math> in Equation&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.E4" title="In 3.3 A Mixup-Based Regularization Facilitates LLM Instruction Tuning ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">4</span></a> and <math alttext="\mu=0.2" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.6.m6.1"><semantics id="S4.SS1.SSS0.Px2.p1.6.m6.1a"><mrow id="S4.SS1.SSS0.Px2.p1.6.m6.1.1" xref="S4.SS1.SSS0.Px2.p1.6.m6.1.1.cmml"><mi id="S4.SS1.SSS0.Px2.p1.6.m6.1.1.2" xref="S4.SS1.SSS0.Px2.p1.6.m6.1.1.2.cmml">μ</mi><mo id="S4.SS1.SSS0.Px2.p1.6.m6.1.1.1" xref="S4.SS1.SSS0.Px2.p1.6.m6.1.1.1.cmml">=</mo><mn id="S4.SS1.SSS0.Px2.p1.6.m6.1.1.3" xref="S4.SS1.SSS0.Px2.p1.6.m6.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.6.m6.1b"><apply id="S4.SS1.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.6.m6.1.1"><eq id="S4.SS1.SSS0.Px2.p1.6.m6.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.6.m6.1.1.1"></eq><ci id="S4.SS1.SSS0.Px2.p1.6.m6.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.6.m6.1.1.2">𝜇</ci><cn id="S4.SS1.SSS0.Px2.p1.6.m6.1.1.3.cmml" type="float" xref="S4.SS1.SSS0.Px2.p1.6.m6.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.6.m6.1c">\mu=0.2</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.6.m6.1d">italic_μ = 0.2</annotation></semantics></math> when constructing <math alttext="\ell_{\text{SFTMix}}" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.7.m7.1"><semantics id="S4.SS1.SSS0.Px2.p1.7.m7.1a"><msub id="S4.SS1.SSS0.Px2.p1.7.m7.1.1" xref="S4.SS1.SSS0.Px2.p1.7.m7.1.1.cmml"><mi id="S4.SS1.SSS0.Px2.p1.7.m7.1.1.2" mathvariant="normal" xref="S4.SS1.SSS0.Px2.p1.7.m7.1.1.2.cmml">ℓ</mi><mtext id="S4.SS1.SSS0.Px2.p1.7.m7.1.1.3" xref="S4.SS1.SSS0.Px2.p1.7.m7.1.1.3a.cmml">SFTMix</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.7.m7.1b"><apply id="S4.SS1.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px2.p1.7.m7.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.7.m7.1.1">subscript</csymbol><ci id="S4.SS1.SSS0.Px2.p1.7.m7.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.7.m7.1.1.2">ℓ</ci><ci id="S4.SS1.SSS0.Px2.p1.7.m7.1.1.3a.cmml" xref="S4.SS1.SSS0.Px2.p1.7.m7.1.1.3"><mtext id="S4.SS1.SSS0.Px2.p1.7.m7.1.1.3.cmml" mathsize="70%" xref="S4.SS1.SSS0.Px2.p1.7.m7.1.1.3">SFTMix</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.7.m7.1c">\ell_{\text{SFTMix}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.7.m7.1d">roman_ℓ start_POSTSUBSCRIPT SFTMix end_POSTSUBSCRIPT</annotation></semantics></math> in Equation&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.E5" title="In 3.3 A Mixup-Based Regularization Facilitates LLM Instruction Tuning ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">5</span></a>.
The NTP baseline follows the same instruction-tuning setting without the Mixup-based regularization <math alttext="\ell_{\text{Mixup}}" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.8.m8.1"><semantics id="S4.SS1.SSS0.Px2.p1.8.m8.1a"><msub id="S4.SS1.SSS0.Px2.p1.8.m8.1.1" xref="S4.SS1.SSS0.Px2.p1.8.m8.1.1.cmml"><mi id="S4.SS1.SSS0.Px2.p1.8.m8.1.1.2" mathvariant="normal" xref="S4.SS1.SSS0.Px2.p1.8.m8.1.1.2.cmml">ℓ</mi><mtext id="S4.SS1.SSS0.Px2.p1.8.m8.1.1.3" xref="S4.SS1.SSS0.Px2.p1.8.m8.1.1.3a.cmml">Mixup</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.8.m8.1b"><apply id="S4.SS1.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px2.p1.8.m8.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.8.m8.1.1">subscript</csymbol><ci id="S4.SS1.SSS0.Px2.p1.8.m8.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.8.m8.1.1.2">ℓ</ci><ci id="S4.SS1.SSS0.Px2.p1.8.m8.1.1.3a.cmml" xref="S4.SS1.SSS0.Px2.p1.8.m8.1.1.3"><mtext id="S4.SS1.SSS0.Px2.p1.8.m8.1.1.3.cmml" mathsize="70%" xref="S4.SS1.SSS0.Px2.p1.8.m8.1.1.3">Mixup</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.8.m8.1c">\ell_{\text{Mixup}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.8.m8.1d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT</annotation></semantics></math> in Equation&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.E5" title="In 3.3 A Mixup-Based Regularization Facilitates LLM Instruction Tuning ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="592" id="S4.F3.g1" src="https://arxiv.org/html/2410.05248v1/x4.png" width="761">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Examples from the extraction category in MT-Bench. Compared to its NTP-tuned counterpart, Llama-3.1-8B instruction-tuned on Alpaca-52K using SFTMix accurately interprets the queries from both turns and correctly extracts the relevant information from the prompt.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Evaluation Benchmarks.</h4>
<div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px3.p1.1">To evaluate how SFTMix improves LLMs’ instruction-following abilities compared to NTP, we assess LLMs instruction-tuned with each method on MT-Bench <cite class="ltx_cite ltx_citemacro_citep">(Zheng et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib70" title="">2024</a>)</cite> and AlpacaEval-2 <cite class="ltx_cite ltx_citemacro_citep">(Li et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib34" title="">2023</a>; Dubois et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib20" title="">2024</a>)</cite>.
MT-Bench is a challenging benchmark of <math alttext="80" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px3.p1.1.m1.1"><semantics id="S4.SS1.SSS0.Px3.p1.1.m1.1a"><mn id="S4.SS1.SSS0.Px3.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1.cmml">80</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px3.p1.1.m1.1b"><cn id="S4.SS1.SSS0.Px3.p1.1.m1.1.1.cmml" type="integer" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1">80</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px3.p1.1.m1.1c">80</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px3.p1.1.m1.1d">80</annotation></semantics></math> multi-turn, human-designed questions, where GPT-4-Turbo <cite class="ltx_cite ltx_citemacro_citep">(Achiam et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib1" title="">2023</a>)</cite> rates the quality of LLM-generated responses on a ten-point scale.
Similarly, AlpacaEval-2 employs GPT-4-Turbo to compare the tested LLMs’ responses against GPT-4-Turbo’s reference responses and calculates the expected win rate while adjusting for length bias.
We repeat the evaluation five times for each setting and report the average score in Table&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.T1" title="Table 1 ‣ 3.3 A Mixup-Based Regularization Facilitates LLM Instruction Tuning ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">1</span></a> and standard error in Appendix&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#A1" title="Appendix A Experiment Details ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px4">
<h4 class="ltx_title ltx_title_paragraph">SFTMix Enhances LLMs’ Instruction-Following Capabilities.</h4>
<div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px4.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px4.p1.2">As illustrated in Table&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.T1" title="Table 1 ‣ 3.3 A Mixup-Based Regularization Facilitates LLM Instruction Tuning ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">1</span></a>, instruction-tuning with SFTMix consistently outperforms NTP across all metrics in both evaluation benchmarks, regardless of the base LLM or SFT dataset.
Notably, SFTMix yields a greater improvement in multi-turn conversational abilities (with an average increase of <math alttext="0.3" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px4.p1.1.m1.1"><semantics id="S4.SS1.SSS0.Px4.p1.1.m1.1a"><mn id="S4.SS1.SSS0.Px4.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.cmml">0.3</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px4.p1.1.m1.1b"><cn id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.cmml" type="float" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1">0.3</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px4.p1.1.m1.1c">0.3</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px4.p1.1.m1.1d">0.3</annotation></semantics></math> points) compared to single-turn performance (an average increase of <math alttext="0.2" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px4.p1.2.m2.1"><semantics id="S4.SS1.SSS0.Px4.p1.2.m2.1a"><mn id="S4.SS1.SSS0.Px4.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1.cmml">0.2</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px4.p1.2.m2.1b"><cn id="S4.SS1.SSS0.Px4.p1.2.m2.1.1.cmml" type="float" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1">0.2</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px4.p1.2.m2.1c">0.2</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px4.p1.2.m2.1d">0.2</annotation></semantics></math> points) in MT-Bench.
Across the eight categories in MT-Bench, we observe significant gains in extraction tasks for Llama-3.1-8B, and in writing, coding, and STEM for Mistral-7B-v0.1 (full details in Appendix&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#A1" title="Appendix A Experiment Details ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">A</span></a>).
In AlpacaEval-2, the improvement is particularly significant in the length-controlled (LC) win rate, which better aligns with human judgment by adjusting for GPT-4-Turbo’s preference for longer responses.
While instruction-tuning with the larger, higher-quality UltraChat-200K dataset results in higher overall scores in MT-Bench and raw win rates in AlpacaEval-2, it also produces longer responses, leading to relatively lower LC win rates.
Overall, our proposed recipe, SFTMix, enhances instruction-following capabilities and text quality across LLMs from different model families and with datasets of varying sizes and quality, surpassing the performance of the conventional NTP paradigm.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px5">
<h4 class="ltx_title ltx_title_paragraph">Case Study from MT-Bench.</h4>
<div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px5.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px5.p1.1">Figure&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.F3" title="Figure 3 ‣ Implementation Details. ‣ 4.1 Instruction-Following SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">3</span></a> presents a test example from the extraction category in MT-Bench, showing responses generated by Llama-3.1-8B instruction-tuned on Alpaca-52K using either NTP or SFTMix.
In this example, the LLM trained with SFTMix accurately interprets the instructions from both the first- and second-turn queries, correctly extracting the relevant information from the prompt.
Notably, it succeeds in answering the second-turn query, which involves calculating the profit margin and performing a ratio comparison.
In contrast, the LLM trained with NTP struggles to differentiate between revenue and profit, leading to incorrect responses in both turns.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T2.5" style="width:397.5pt;height:193.8pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-23.8pt,11.6pt) scale(0.893000177026026,0.893000177026026) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T2.5.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.5.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.T2.5.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.1.1">LLM</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.5.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.2.1">MedQA</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.5.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.3.1">MedQA-5</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.5.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.4.1">PubMedQA</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T2.5.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.5.1">MedMCQA</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.5.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.6.1">Macro Ave</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.T2.5.1.2.2.1">MedAlpaca-7B</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.5.1.2.2.2">38.94</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.5.1.2.2.3">33.96</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.5.1.2.2.4">57.20</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T2.5.1.2.2.5">34.90</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.5.1.2.2.6">41.25</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.5.1.3.3.1">PMC-LLaMA-7B</th>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.3.3.2">27.94</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.3.3.3">21.24</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.3.3.4">54.87</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.5.1.3.3.5">24.57</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.3.3.6">32.16</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.5.1.4.4.1">BioMedGPT-LM-7B</th>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.4.4.2">38.62</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.4.4.3">34.72</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.4.4.4">58.27</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.5.1.4.4.5">35.57</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.4.4.6">41.80</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.5.1.5.5.1">Meditron-7B</th>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.5.5.2">35.09</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.5.5.3">26.73</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.5.5.4">56.93</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.5.1.5.5.5">34.03</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.5.5.6">38.20</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.5.1.6.6.1">BioMistral-7B</th>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.6.6.2">43.86</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.6.6.3">37.58</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.6.6.4">50.13</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.5.1.6.6.5">44.14</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.6.6.6">43.93</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.5.1.7.7.1">Llama-3.1-8B</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.1.7.7.2">59.68</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.1.7.7.3">53.23</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.1.7.7.4">73.40</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.5.1.7.7.5">52.79</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.1.7.7.6">59.78</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.5.1.8.8.1">+ <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.5.1.8.8.1.1">NTP</span> on MedAlpaca-263K</th>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.8.8.2">59.31</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.8.8.3">54.52</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.8.8.4">75.40</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.5.1.8.8.5">53.65</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.8.8.6">60.72</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.5.1.9.9.1">or <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.5.1.9.9.1.1">SFTMix</span> on MedAlpaca-263K</th>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.9.9.2"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.9.9.2.1">60.88</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.9.9.3"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.9.9.3.1">55.38</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.9.9.4"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.9.9.4.1">77.80</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.5.1.9.9.5"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.9.9.5.1">54.15</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.9.9.6"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.9.9.6.1">62.05</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.5.1.10.10.1">Mistral-7B-v0.1</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.1.10.10.2">49.18</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.1.10.10.3">43.94</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.1.10.10.4">72.33</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.5.1.10.10.5">47.98</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.1.10.10.6">53.36</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.11.11">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.5.1.11.11.1">+ <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.5.1.11.11.1.1">NTP</span> on MedAlpaca-263K</th>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.11.11.2">49.10</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.11.11.3">44.62</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.11.11.4">75.40</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.5.1.11.11.5">48.15</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.1.11.11.6">54.32</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.12.12">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T2.5.1.12.12.1">or <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.5.1.12.12.1.1">SFTMix</span> on MedAlpaca-263K</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.1.12.12.2"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.12.12.2.1">51.77</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.1.12.12.3"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.12.12.3.1">45.72</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.1.12.12.4"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.12.12.4.1">77.40</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T2.5.1.12.12.5"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.12.12.5.1">49.03</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.1.12.12.6"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.12.12.6.1">55.98</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Evaluation results on four healthcare-related benchmarks by prior biomedical LLMs and LLMs trained on MedAlpaca-263K using either NTP or SFTMix. We report the mean accuracy (<math alttext="\%" class="ltx_Math" display="inline" id="S4.T2.3.m1.1"><semantics id="S4.T2.3.m1.1b"><mo id="S4.T2.3.m1.1.1" xref="S4.T2.3.m1.1.1.cmml">%</mo><annotation-xml encoding="MathML-Content" id="S4.T2.3.m1.1c"><csymbol cd="latexml" id="S4.T2.3.m1.1.1.cmml" xref="S4.T2.3.m1.1.1">percent</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.m1.1d">\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.m1.1e">%</annotation></semantics></math>) over three rounds of three-shot evaluation and bold the scores from SFTMix-tuned LLMs. Standard errors are provided in Appendix&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#A1" title="Appendix A Experiment Details ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">A</span></a>. SFTMix achieves an approximate <math alttext="1.5\%" class="ltx_Math" display="inline" id="S4.T2.4.m2.1"><semantics id="S4.T2.4.m2.1b"><mrow id="S4.T2.4.m2.1.1" xref="S4.T2.4.m2.1.1.cmml"><mn id="S4.T2.4.m2.1.1.2" xref="S4.T2.4.m2.1.1.2.cmml">1.5</mn><mo id="S4.T2.4.m2.1.1.1" xref="S4.T2.4.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.4.m2.1c"><apply id="S4.T2.4.m2.1.1.cmml" xref="S4.T2.4.m2.1.1"><csymbol cd="latexml" id="S4.T2.4.m2.1.1.1.cmml" xref="S4.T2.4.m2.1.1.1">percent</csymbol><cn id="S4.T2.4.m2.1.1.2.cmml" type="float" xref="S4.T2.4.m2.1.1.2">1.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.m2.1d">1.5\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.m2.1e">1.5 %</annotation></semantics></math> absolute increase in macro-average accuracy compared to NTP for both Llama-3.1-8B and Mistral-7B-v0.1.
</figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Domain-Specific SFT</h3>
<div class="ltx_para ltx_noindent" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">In healthcare domain-specific SFT, we train two LLMs on a large-scale medical conversation dataset using SFTMix and assess their performance against NTP-tuned counterparts on four healthcare-related question-answering benchmarks.</p>
</div>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Dataset.</h4>
<div class="ltx_para ltx_noindent" id="S4.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px1.p1.1">MedAlpaca-263K <cite class="ltx_cite ltx_citemacro_citep">(Han et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib22" title="">2023</a>)</cite> consists of medical NLP tasks reformatted for instruction tuning and healthcare-related conversations of varying quality crowd-sourced from online platforms, which amounts to a total of <math alttext="263{,}257" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.1.m1.2"><semantics id="S4.SS2.SSS0.Px1.p1.1.m1.2a"><mrow id="S4.SS2.SSS0.Px1.p1.1.m1.2.3.2" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.3.1.cmml"><mn id="S4.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">263</mn><mo id="S4.SS2.SSS0.Px1.p1.1.m1.2.3.2.1" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.3.1.cmml">,</mo><mn id="S4.SS2.SSS0.Px1.p1.1.m1.2.2" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.2.cmml">257</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.1.m1.2b"><list id="S4.SS2.SSS0.Px1.p1.1.m1.2.3.1.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.3.2"><cn id="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1">263</cn><cn id="S4.SS2.SSS0.Px1.p1.1.m1.2.2.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.2">257</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.1.m1.2c">263{,}257</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.1.m1.2d">263 , 257</annotation></semantics></math> single-turn interactions.
We train Llama-3.1-8B and Mistral-7B-v0.1 on MedAlpaca-263K using either NTP or SFTMix for two epochs and follow the remaining hyperparameter settings described in Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.SS1" title="4.1 Instruction-Following SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">4.1</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Evaluation Benchmarks.</h4>
<div class="ltx_para ltx_noindent" id="S4.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px2.p1.1">We compare the effectiveness of SFTMix to NTP in domain-specific SFT by evaluating the performance of the instruction-tuned LLMs on the following benchmarks:</p>
<ul class="ltx_itemize" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1">MedQA <cite class="ltx_cite ltx_citemacro_citep">(Jin et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib28" title="">2021</a>)</cite> includes <math alttext="1{,}273" class="ltx_Math" display="inline" id="S4.I2.i1.p1.1.m1.2"><semantics id="S4.I2.i1.p1.1.m1.2a"><mrow id="S4.I2.i1.p1.1.m1.2.3.2" xref="S4.I2.i1.p1.1.m1.2.3.1.cmml"><mn id="S4.I2.i1.p1.1.m1.1.1" xref="S4.I2.i1.p1.1.m1.1.1.cmml">1</mn><mo id="S4.I2.i1.p1.1.m1.2.3.2.1" xref="S4.I2.i1.p1.1.m1.2.3.1.cmml">,</mo><mn id="S4.I2.i1.p1.1.m1.2.2" xref="S4.I2.i1.p1.1.m1.2.2.cmml">273</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.1.m1.2b"><list id="S4.I2.i1.p1.1.m1.2.3.1.cmml" xref="S4.I2.i1.p1.1.m1.2.3.2"><cn id="S4.I2.i1.p1.1.m1.1.1.cmml" type="integer" xref="S4.I2.i1.p1.1.m1.1.1">1</cn><cn id="S4.I2.i1.p1.1.m1.2.2.cmml" type="integer" xref="S4.I2.i1.p1.1.m1.2.2">273</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.1.m1.2c">1{,}273</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i1.p1.1.m1.2d">1 , 273</annotation></semantics></math> four-choice questions from the US Medical License Exam, testing a broad range of medical knowledge.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1">MedQA-5 is the variant of MedQA where each question contains five options.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1">PubMedQA <cite class="ltx_cite ltx_citemacro_citep">(Jin et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib29" title="">2019</a>)</cite> consists of <math alttext="500" class="ltx_Math" display="inline" id="S4.I2.i3.p1.1.m1.1"><semantics id="S4.I2.i3.p1.1.m1.1a"><mn id="S4.I2.i3.p1.1.m1.1.1" xref="S4.I2.i3.p1.1.m1.1.1.cmml">500</mn><annotation-xml encoding="MathML-Content" id="S4.I2.i3.p1.1.m1.1b"><cn id="S4.I2.i3.p1.1.m1.1.1.cmml" type="integer" xref="S4.I2.i3.p1.1.m1.1.1">500</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.p1.1.m1.1c">500</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.p1.1.m1.1d">500</annotation></semantics></math> expert-labeled three-choice questions where the model must predict the answer by reasoning based on a provided PubMed abstract.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para ltx_noindent" id="S4.I2.i4.p1">
<p class="ltx_p" id="S4.I2.i4.p1.3">MedMCQA <cite class="ltx_cite ltx_citemacro_citep">(Pal et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib40" title="">2022</a>)</cite> comprises <math alttext="4{,}183" class="ltx_Math" display="inline" id="S4.I2.i4.p1.1.m1.2"><semantics id="S4.I2.i4.p1.1.m1.2a"><mrow id="S4.I2.i4.p1.1.m1.2.3.2" xref="S4.I2.i4.p1.1.m1.2.3.1.cmml"><mn id="S4.I2.i4.p1.1.m1.1.1" xref="S4.I2.i4.p1.1.m1.1.1.cmml">4</mn><mo id="S4.I2.i4.p1.1.m1.2.3.2.1" xref="S4.I2.i4.p1.1.m1.2.3.1.cmml">,</mo><mn id="S4.I2.i4.p1.1.m1.2.2" xref="S4.I2.i4.p1.1.m1.2.2.cmml">183</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I2.i4.p1.1.m1.2b"><list id="S4.I2.i4.p1.1.m1.2.3.1.cmml" xref="S4.I2.i4.p1.1.m1.2.3.2"><cn id="S4.I2.i4.p1.1.m1.1.1.cmml" type="integer" xref="S4.I2.i4.p1.1.m1.1.1">4</cn><cn id="S4.I2.i4.p1.1.m1.2.2.cmml" type="integer" xref="S4.I2.i4.p1.1.m1.2.2">183</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i4.p1.1.m1.2c">4{,}183</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i4.p1.1.m1.2d">4 , 183</annotation></semantics></math> four-choice questions from the Indian Medical Entrance Exams, covering <math alttext="2{,}400" class="ltx_Math" display="inline" id="S4.I2.i4.p1.2.m2.2"><semantics id="S4.I2.i4.p1.2.m2.2a"><mrow id="S4.I2.i4.p1.2.m2.2.3.2" xref="S4.I2.i4.p1.2.m2.2.3.1.cmml"><mn id="S4.I2.i4.p1.2.m2.1.1" xref="S4.I2.i4.p1.2.m2.1.1.cmml">2</mn><mo id="S4.I2.i4.p1.2.m2.2.3.2.1" xref="S4.I2.i4.p1.2.m2.2.3.1.cmml">,</mo><mn id="S4.I2.i4.p1.2.m2.2.2" xref="S4.I2.i4.p1.2.m2.2.2.cmml">400</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I2.i4.p1.2.m2.2b"><list id="S4.I2.i4.p1.2.m2.2.3.1.cmml" xref="S4.I2.i4.p1.2.m2.2.3.2"><cn id="S4.I2.i4.p1.2.m2.1.1.cmml" type="integer" xref="S4.I2.i4.p1.2.m2.1.1">2</cn><cn id="S4.I2.i4.p1.2.m2.2.2.cmml" type="integer" xref="S4.I2.i4.p1.2.m2.2.2">400</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i4.p1.2.m2.2c">2{,}400</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i4.p1.2.m2.2d">2 , 400</annotation></semantics></math> healthcare-related topics across <math alttext="21" class="ltx_Math" display="inline" id="S4.I2.i4.p1.3.m3.1"><semantics id="S4.I2.i4.p1.3.m3.1a"><mn id="S4.I2.i4.p1.3.m3.1.1" xref="S4.I2.i4.p1.3.m3.1.1.cmml">21</mn><annotation-xml encoding="MathML-Content" id="S4.I2.i4.p1.3.m3.1b"><cn id="S4.I2.i4.p1.3.m3.1.1.cmml" type="integer" xref="S4.I2.i4.p1.3.m3.1.1">21</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i4.p1.3.m3.1c">21</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i4.p1.3.m3.1d">21</annotation></semantics></math> medical subjects.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S4.SS2.SSS0.Px2.p1.2">We adopt the three-shot evaluation setting from <cite class="ltx_cite ltx_citemacro_citet">Labrak et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib31" title="">2024</a>)</cite> and report the mean accuracy over three evaluation rounds in Table&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.T2" title="Table 2 ‣ Case Study from MT-Bench. ‣ 4.1 Instruction-Following SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">2</span></a>.
Standard errors are provided in Appendix&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#A1" title="Appendix A Experiment Details ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">A</span></a>.
Additionally, we include prior biomedical LLMs of similar sizes, including MedAlpaca-7B <cite class="ltx_cite ltx_citemacro_citep">(Han et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib22" title="">2023</a>)</cite>, PMC-LLaMA-7B <cite class="ltx_cite ltx_citemacro_citep">(Wu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib60" title="">2024</a>)</cite>, BioMedGPT-LM-7B <cite class="ltx_cite ltx_citemacro_citep">(Luo et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib37" title="">2023</a>)</cite>, Meditron-7B <cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib11" title="">2023</a>)</cite>, and BioMistral-7B <cite class="ltx_cite ltx_citemacro_citep">(Labrak et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib31" title="">2024</a>)</cite>, as reference models for comparison.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">SFTMix Adapts LLMs to Domain-Specific Tasks More Effectively.</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px3.p1.6">Table&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.T2" title="Table 2 ‣ Case Study from MT-Bench. ‣ 4.1 Instruction-Following SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">2</span></a> demonstrates that SFTMix consistently surpasses NTP across all benchmarks for both backbones.
In particular, SFTMix leads to a <math alttext="1.33\%" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.1.m1.1"><semantics id="S4.SS2.SSS0.Px3.p1.1.m1.1a"><mrow id="S4.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.cmml"><mn id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.2" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.2.cmml">1.33</mn><mo id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.1" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.1.m1.1b"><apply id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1"><csymbol cd="latexml" id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.1">percent</csymbol><cn id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.2.cmml" type="float" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.2">1.33</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.1.m1.1c">1.33\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.1.m1.1d">1.33 %</annotation></semantics></math> absolute improvement (from <math alttext="60.72\%" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.2.m2.1"><semantics id="S4.SS2.SSS0.Px3.p1.2.m2.1a"><mrow id="S4.SS2.SSS0.Px3.p1.2.m2.1.1" xref="S4.SS2.SSS0.Px3.p1.2.m2.1.1.cmml"><mn id="S4.SS2.SSS0.Px3.p1.2.m2.1.1.2" xref="S4.SS2.SSS0.Px3.p1.2.m2.1.1.2.cmml">60.72</mn><mo id="S4.SS2.SSS0.Px3.p1.2.m2.1.1.1" xref="S4.SS2.SSS0.Px3.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.2.m2.1b"><apply id="S4.SS2.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.2.m2.1.1"><csymbol cd="latexml" id="S4.SS2.SSS0.Px3.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.2.m2.1.1.1">percent</csymbol><cn id="S4.SS2.SSS0.Px3.p1.2.m2.1.1.2.cmml" type="float" xref="S4.SS2.SSS0.Px3.p1.2.m2.1.1.2">60.72</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.2.m2.1c">60.72\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.2.m2.1d">60.72 %</annotation></semantics></math> to <math alttext="62.05\%" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.3.m3.1"><semantics id="S4.SS2.SSS0.Px3.p1.3.m3.1a"><mrow id="S4.SS2.SSS0.Px3.p1.3.m3.1.1" xref="S4.SS2.SSS0.Px3.p1.3.m3.1.1.cmml"><mn id="S4.SS2.SSS0.Px3.p1.3.m3.1.1.2" xref="S4.SS2.SSS0.Px3.p1.3.m3.1.1.2.cmml">62.05</mn><mo id="S4.SS2.SSS0.Px3.p1.3.m3.1.1.1" xref="S4.SS2.SSS0.Px3.p1.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.3.m3.1b"><apply id="S4.SS2.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.3.m3.1.1"><csymbol cd="latexml" id="S4.SS2.SSS0.Px3.p1.3.m3.1.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.3.m3.1.1.1">percent</csymbol><cn id="S4.SS2.SSS0.Px3.p1.3.m3.1.1.2.cmml" type="float" xref="S4.SS2.SSS0.Px3.p1.3.m3.1.1.2">62.05</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.3.m3.1c">62.05\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.3.m3.1d">62.05 %</annotation></semantics></math>) for Llama-3.1-8B and a <math alttext="1.66\%" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.4.m4.1"><semantics id="S4.SS2.SSS0.Px3.p1.4.m4.1a"><mrow id="S4.SS2.SSS0.Px3.p1.4.m4.1.1" xref="S4.SS2.SSS0.Px3.p1.4.m4.1.1.cmml"><mn id="S4.SS2.SSS0.Px3.p1.4.m4.1.1.2" xref="S4.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml">1.66</mn><mo id="S4.SS2.SSS0.Px3.p1.4.m4.1.1.1" xref="S4.SS2.SSS0.Px3.p1.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.4.m4.1b"><apply id="S4.SS2.SSS0.Px3.p1.4.m4.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.4.m4.1.1"><csymbol cd="latexml" id="S4.SS2.SSS0.Px3.p1.4.m4.1.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.4.m4.1.1.1">percent</csymbol><cn id="S4.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml" type="float" xref="S4.SS2.SSS0.Px3.p1.4.m4.1.1.2">1.66</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.4.m4.1c">1.66\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.4.m4.1d">1.66 %</annotation></semantics></math> increase (from <math alttext="54.32\%" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.5.m5.1"><semantics id="S4.SS2.SSS0.Px3.p1.5.m5.1a"><mrow id="S4.SS2.SSS0.Px3.p1.5.m5.1.1" xref="S4.SS2.SSS0.Px3.p1.5.m5.1.1.cmml"><mn id="S4.SS2.SSS0.Px3.p1.5.m5.1.1.2" xref="S4.SS2.SSS0.Px3.p1.5.m5.1.1.2.cmml">54.32</mn><mo id="S4.SS2.SSS0.Px3.p1.5.m5.1.1.1" xref="S4.SS2.SSS0.Px3.p1.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.5.m5.1b"><apply id="S4.SS2.SSS0.Px3.p1.5.m5.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.5.m5.1.1"><csymbol cd="latexml" id="S4.SS2.SSS0.Px3.p1.5.m5.1.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.5.m5.1.1.1">percent</csymbol><cn id="S4.SS2.SSS0.Px3.p1.5.m5.1.1.2.cmml" type="float" xref="S4.SS2.SSS0.Px3.p1.5.m5.1.1.2">54.32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.5.m5.1c">54.32\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.5.m5.1d">54.32 %</annotation></semantics></math> to <math alttext="55.98\%" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.6.m6.1"><semantics id="S4.SS2.SSS0.Px3.p1.6.m6.1a"><mrow id="S4.SS2.SSS0.Px3.p1.6.m6.1.1" xref="S4.SS2.SSS0.Px3.p1.6.m6.1.1.cmml"><mn id="S4.SS2.SSS0.Px3.p1.6.m6.1.1.2" xref="S4.SS2.SSS0.Px3.p1.6.m6.1.1.2.cmml">55.98</mn><mo id="S4.SS2.SSS0.Px3.p1.6.m6.1.1.1" xref="S4.SS2.SSS0.Px3.p1.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.6.m6.1b"><apply id="S4.SS2.SSS0.Px3.p1.6.m6.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.6.m6.1.1"><csymbol cd="latexml" id="S4.SS2.SSS0.Px3.p1.6.m6.1.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.6.m6.1.1.1">percent</csymbol><cn id="S4.SS2.SSS0.Px3.p1.6.m6.1.1.2.cmml" type="float" xref="S4.SS2.SSS0.Px3.p1.6.m6.1.1.2">55.98</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.6.m6.1c">55.98\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.6.m6.1d">55.98 %</annotation></semantics></math>) for Mistral-7B-v0.1 in macro-average accuracy across the four benchmarks.
These models also significantly outperform existing biomedical LLMs across all benchmarks by a clear margin.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T3.17" style="width:397.5pt;height:187.9pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-30.8pt,14.5pt) scale(0.865933178854545,0.865933178854545) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T3.17.17">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S4.T3.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.2.1">Ablation</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="2" id="S4.T3.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.1.1">Loss <math alttext="\ell=\ell_{\text{NTP}}+\mu\,\ell_{\text{Mixup}}" class="ltx_Math" display="inline" id="S4.T3.1.1.1.1.1.m1.1"><semantics id="S4.T3.1.1.1.1.1.m1.1a"><mrow id="S4.T3.1.1.1.1.1.m1.1.1" xref="S4.T3.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.T3.1.1.1.1.1.m1.1.1.2" mathvariant="normal" xref="S4.T3.1.1.1.1.1.m1.1.1.2.cmml">ℓ</mi><mo id="S4.T3.1.1.1.1.1.m1.1.1.1" xref="S4.T3.1.1.1.1.1.m1.1.1.1.cmml">=</mo><mrow id="S4.T3.1.1.1.1.1.m1.1.1.3" xref="S4.T3.1.1.1.1.1.m1.1.1.3.cmml"><msub id="S4.T3.1.1.1.1.1.m1.1.1.3.2" xref="S4.T3.1.1.1.1.1.m1.1.1.3.2.cmml"><mi id="S4.T3.1.1.1.1.1.m1.1.1.3.2.2" mathvariant="normal" xref="S4.T3.1.1.1.1.1.m1.1.1.3.2.2.cmml">ℓ</mi><mtext class="ltx_mathvariant_bold" id="S4.T3.1.1.1.1.1.m1.1.1.3.2.3" xref="S4.T3.1.1.1.1.1.m1.1.1.3.2.3a.cmml">NTP</mtext></msub><mo id="S4.T3.1.1.1.1.1.m1.1.1.3.1" xref="S4.T3.1.1.1.1.1.m1.1.1.3.1.cmml">+</mo><mrow id="S4.T3.1.1.1.1.1.m1.1.1.3.3" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.cmml"><mi id="S4.T3.1.1.1.1.1.m1.1.1.3.3.2" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.2.cmml">μ</mi><mo id="S4.T3.1.1.1.1.1.m1.1.1.3.3.1" lspace="0.170em" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.1.cmml">⁢</mo><msub id="S4.T3.1.1.1.1.1.m1.1.1.3.3.3" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.cmml"><mi id="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.2" mathvariant="normal" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.2.cmml">ℓ</mi><mtext class="ltx_mathvariant_bold" id="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.3" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.3a.cmml">Mixup</mtext></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.1.1.m1.1b"><apply id="S4.T3.1.1.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1"><eq id="S4.T3.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.1"></eq><ci id="S4.T3.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.2">ℓ</ci><apply id="S4.T3.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3"><plus id="S4.T3.1.1.1.1.1.m1.1.1.3.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.1"></plus><apply id="S4.T3.1.1.1.1.1.m1.1.1.3.2.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S4.T3.1.1.1.1.1.m1.1.1.3.2.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.2">subscript</csymbol><ci id="S4.T3.1.1.1.1.1.m1.1.1.3.2.2.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.2.2">ℓ</ci><ci id="S4.T3.1.1.1.1.1.m1.1.1.3.2.3a.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.2.3"><mtext class="ltx_mathvariant_bold" id="S4.T3.1.1.1.1.1.m1.1.1.3.2.3.cmml" mathsize="70%" xref="S4.T3.1.1.1.1.1.m1.1.1.3.2.3">NTP</mtext></ci></apply><apply id="S4.T3.1.1.1.1.1.m1.1.1.3.3.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3"><times id="S4.T3.1.1.1.1.1.m1.1.1.3.3.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.1"></times><ci id="S4.T3.1.1.1.1.1.m1.1.1.3.3.2.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.2">𝜇</ci><apply id="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.3">subscript</csymbol><ci id="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.2.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.2">ℓ</ci><ci id="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.3a.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.3"><mtext class="ltx_mathvariant_bold" id="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.3.cmml" mathsize="70%" xref="S4.T3.1.1.1.1.1.m1.1.1.3.3.3.3">Mixup</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.1.1.1.1.1.m1.1c">\ell=\ell_{\text{NTP}}+\mu\,\ell_{\text{Mixup}}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.1.1.1.1.1.m1.1d">roman_ℓ = roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT + italic_μ roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="3" id="S4.T3.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.3.1">MT-Bench</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T3.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.4.1">AlpacaEval-2</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.17.17.18.1">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T3.17.17.18.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.17.17.18.1.1.1">Direction</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T3.17.17.18.1.2"><span class="ltx_text ltx_font_bold" id="S4.T3.17.17.18.1.2.1">NTP Loss</span></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T3.17.17.18.1.3"><span class="ltx_text ltx_font_bold" id="S4.T3.17.17.18.1.3.1">Mixup Regularization</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.17.17.18.1.4"><span class="ltx_text ltx_font_bold" id="S4.T3.17.17.18.1.4.1">ST</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.17.17.18.1.5"><span class="ltx_text ltx_font_bold" id="S4.T3.17.17.18.1.5.1">MT</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.17.17.18.1.6"><span class="ltx_text ltx_font_bold" id="S4.T3.17.17.18.1.6.1">Overall</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.17.17.18.1.7"><span class="ltx_text ltx_font_bold" id="S4.T3.17.17.18.1.7.1">WR</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.17.17.18.1.8"><span class="ltx_text ltx_font_bold" id="S4.T3.17.17.18.1.8.1">LC WR</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.2.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S4.T3.2.2.2.2">NTP</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S4.T3.2.2.2.1"><math alttext="\ell_{\text{NTP}}(\text{Full})" class="ltx_Math" display="inline" id="S4.T3.2.2.2.1.m1.1"><semantics id="S4.T3.2.2.2.1.m1.1a"><mrow id="S4.T3.2.2.2.1.m1.1.2" xref="S4.T3.2.2.2.1.m1.1.2.cmml"><msub id="S4.T3.2.2.2.1.m1.1.2.2" xref="S4.T3.2.2.2.1.m1.1.2.2.cmml"><mi id="S4.T3.2.2.2.1.m1.1.2.2.2" mathvariant="normal" xref="S4.T3.2.2.2.1.m1.1.2.2.2.cmml">ℓ</mi><mtext id="S4.T3.2.2.2.1.m1.1.2.2.3" xref="S4.T3.2.2.2.1.m1.1.2.2.3a.cmml">NTP</mtext></msub><mo id="S4.T3.2.2.2.1.m1.1.2.1" xref="S4.T3.2.2.2.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.T3.2.2.2.1.m1.1.2.3.2" xref="S4.T3.2.2.2.1.m1.1.1a.cmml"><mo id="S4.T3.2.2.2.1.m1.1.2.3.2.1" stretchy="false" xref="S4.T3.2.2.2.1.m1.1.1a.cmml">(</mo><mtext id="S4.T3.2.2.2.1.m1.1.1" xref="S4.T3.2.2.2.1.m1.1.1.cmml">Full</mtext><mo id="S4.T3.2.2.2.1.m1.1.2.3.2.2" stretchy="false" xref="S4.T3.2.2.2.1.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.2.2.2.1.m1.1b"><apply id="S4.T3.2.2.2.1.m1.1.2.cmml" xref="S4.T3.2.2.2.1.m1.1.2"><times id="S4.T3.2.2.2.1.m1.1.2.1.cmml" xref="S4.T3.2.2.2.1.m1.1.2.1"></times><apply id="S4.T3.2.2.2.1.m1.1.2.2.cmml" xref="S4.T3.2.2.2.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.T3.2.2.2.1.m1.1.2.2.1.cmml" xref="S4.T3.2.2.2.1.m1.1.2.2">subscript</csymbol><ci id="S4.T3.2.2.2.1.m1.1.2.2.2.cmml" xref="S4.T3.2.2.2.1.m1.1.2.2.2">ℓ</ci><ci id="S4.T3.2.2.2.1.m1.1.2.2.3a.cmml" xref="S4.T3.2.2.2.1.m1.1.2.2.3"><mtext id="S4.T3.2.2.2.1.m1.1.2.2.3.cmml" mathsize="70%" xref="S4.T3.2.2.2.1.m1.1.2.2.3">NTP</mtext></ci></apply><ci id="S4.T3.2.2.2.1.m1.1.1a.cmml" xref="S4.T3.2.2.2.1.m1.1.2.3.2"><mtext id="S4.T3.2.2.2.1.m1.1.1.cmml" xref="S4.T3.2.2.2.1.m1.1.1">Full</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.2.2.1.m1.1c">\ell_{\text{NTP}}(\text{Full})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.2.2.2.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( Full )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S4.T3.2.2.2.3">-</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.2.2.2.4">4.9100</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.2.2.2.5">3.8150</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T3.2.2.2.6">4.3625</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.2.2.2.7">4.0714</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.2.2.2.8">8.6528</td>
</tr>
<tr class="ltx_tr" id="S4.T3.4.4.4">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.4.4.4.3">SFTMix</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.3.3.3.1"><math alttext="\ell_{\text{NTP}}(\text{Full})" class="ltx_Math" display="inline" id="S4.T3.3.3.3.1.m1.1"><semantics id="S4.T3.3.3.3.1.m1.1a"><mrow id="S4.T3.3.3.3.1.m1.1.2" xref="S4.T3.3.3.3.1.m1.1.2.cmml"><msub id="S4.T3.3.3.3.1.m1.1.2.2" xref="S4.T3.3.3.3.1.m1.1.2.2.cmml"><mi id="S4.T3.3.3.3.1.m1.1.2.2.2" mathvariant="normal" xref="S4.T3.3.3.3.1.m1.1.2.2.2.cmml">ℓ</mi><mtext id="S4.T3.3.3.3.1.m1.1.2.2.3" xref="S4.T3.3.3.3.1.m1.1.2.2.3a.cmml">NTP</mtext></msub><mo id="S4.T3.3.3.3.1.m1.1.2.1" xref="S4.T3.3.3.3.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.T3.3.3.3.1.m1.1.2.3.2" xref="S4.T3.3.3.3.1.m1.1.1a.cmml"><mo id="S4.T3.3.3.3.1.m1.1.2.3.2.1" stretchy="false" xref="S4.T3.3.3.3.1.m1.1.1a.cmml">(</mo><mtext id="S4.T3.3.3.3.1.m1.1.1" xref="S4.T3.3.3.3.1.m1.1.1.cmml">Full</mtext><mo id="S4.T3.3.3.3.1.m1.1.2.3.2.2" stretchy="false" xref="S4.T3.3.3.3.1.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.3.3.3.1.m1.1b"><apply id="S4.T3.3.3.3.1.m1.1.2.cmml" xref="S4.T3.3.3.3.1.m1.1.2"><times id="S4.T3.3.3.3.1.m1.1.2.1.cmml" xref="S4.T3.3.3.3.1.m1.1.2.1"></times><apply id="S4.T3.3.3.3.1.m1.1.2.2.cmml" xref="S4.T3.3.3.3.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.T3.3.3.3.1.m1.1.2.2.1.cmml" xref="S4.T3.3.3.3.1.m1.1.2.2">subscript</csymbol><ci id="S4.T3.3.3.3.1.m1.1.2.2.2.cmml" xref="S4.T3.3.3.3.1.m1.1.2.2.2">ℓ</ci><ci id="S4.T3.3.3.3.1.m1.1.2.2.3a.cmml" xref="S4.T3.3.3.3.1.m1.1.2.2.3"><mtext id="S4.T3.3.3.3.1.m1.1.2.2.3.cmml" mathsize="70%" xref="S4.T3.3.3.3.1.m1.1.2.2.3">NTP</mtext></ci></apply><ci id="S4.T3.3.3.3.1.m1.1.1a.cmml" xref="S4.T3.3.3.3.1.m1.1.2.3.2"><mtext id="S4.T3.3.3.3.1.m1.1.1.cmml" xref="S4.T3.3.3.3.1.m1.1.1">Full</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.3.3.3.1.m1.1c">\ell_{\text{NTP}}(\text{Full})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.3.3.3.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( Full )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.4.4.4.2"><math alttext="\mu\,\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})" class="ltx_Math" display="inline" id="S4.T3.4.4.4.2.m1.2"><semantics id="S4.T3.4.4.4.2.m1.2a"><mrow id="S4.T3.4.4.4.2.m1.2.3" xref="S4.T3.4.4.4.2.m1.2.3.cmml"><mi id="S4.T3.4.4.4.2.m1.2.3.2" xref="S4.T3.4.4.4.2.m1.2.3.2.cmml">μ</mi><mo id="S4.T3.4.4.4.2.m1.2.3.1" lspace="0.170em" xref="S4.T3.4.4.4.2.m1.2.3.1.cmml">⁢</mo><msub id="S4.T3.4.4.4.2.m1.2.3.3" xref="S4.T3.4.4.4.2.m1.2.3.3.cmml"><mi id="S4.T3.4.4.4.2.m1.2.3.3.2" mathvariant="normal" xref="S4.T3.4.4.4.2.m1.2.3.3.2.cmml">ℓ</mi><mtext id="S4.T3.4.4.4.2.m1.2.3.3.3" xref="S4.T3.4.4.4.2.m1.2.3.3.3a.cmml">Mixup</mtext></msub><mo id="S4.T3.4.4.4.2.m1.2.3.1a" xref="S4.T3.4.4.4.2.m1.2.3.1.cmml">⁢</mo><mrow id="S4.T3.4.4.4.2.m1.2.3.4.2" xref="S4.T3.4.4.4.2.m1.2.3.4.1.cmml"><mo id="S4.T3.4.4.4.2.m1.2.3.4.2.1" stretchy="false" xref="S4.T3.4.4.4.2.m1.2.3.4.1.cmml">(</mo><mtext id="S4.T3.4.4.4.2.m1.1.1" xref="S4.T3.4.4.4.2.m1.1.1a.cmml">Conf</mtext><mo id="S4.T3.4.4.4.2.m1.2.3.4.2.2" xref="S4.T3.4.4.4.2.m1.2.3.4.1.cmml">,</mo><mtext id="S4.T3.4.4.4.2.m1.2.2" xref="S4.T3.4.4.4.2.m1.2.2a.cmml">Unconf</mtext><mo id="S4.T3.4.4.4.2.m1.2.3.4.2.3" stretchy="false" xref="S4.T3.4.4.4.2.m1.2.3.4.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.4.4.4.2.m1.2b"><apply id="S4.T3.4.4.4.2.m1.2.3.cmml" xref="S4.T3.4.4.4.2.m1.2.3"><times id="S4.T3.4.4.4.2.m1.2.3.1.cmml" xref="S4.T3.4.4.4.2.m1.2.3.1"></times><ci id="S4.T3.4.4.4.2.m1.2.3.2.cmml" xref="S4.T3.4.4.4.2.m1.2.3.2">𝜇</ci><apply id="S4.T3.4.4.4.2.m1.2.3.3.cmml" xref="S4.T3.4.4.4.2.m1.2.3.3"><csymbol cd="ambiguous" id="S4.T3.4.4.4.2.m1.2.3.3.1.cmml" xref="S4.T3.4.4.4.2.m1.2.3.3">subscript</csymbol><ci id="S4.T3.4.4.4.2.m1.2.3.3.2.cmml" xref="S4.T3.4.4.4.2.m1.2.3.3.2">ℓ</ci><ci id="S4.T3.4.4.4.2.m1.2.3.3.3a.cmml" xref="S4.T3.4.4.4.2.m1.2.3.3.3"><mtext id="S4.T3.4.4.4.2.m1.2.3.3.3.cmml" mathsize="70%" xref="S4.T3.4.4.4.2.m1.2.3.3.3">Mixup</mtext></ci></apply><interval closure="open" id="S4.T3.4.4.4.2.m1.2.3.4.1.cmml" xref="S4.T3.4.4.4.2.m1.2.3.4.2"><ci id="S4.T3.4.4.4.2.m1.1.1a.cmml" xref="S4.T3.4.4.4.2.m1.1.1"><mtext id="S4.T3.4.4.4.2.m1.1.1.cmml" xref="S4.T3.4.4.4.2.m1.1.1">Conf</mtext></ci><ci id="S4.T3.4.4.4.2.m1.2.2a.cmml" xref="S4.T3.4.4.4.2.m1.2.2"><mtext id="S4.T3.4.4.4.2.m1.2.2.cmml" xref="S4.T3.4.4.4.2.m1.2.2">Unconf</mtext></ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.4.4.4.2.m1.2c">\mu\,\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.4.4.4.2.m1.2d">italic_μ roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf , Unconf )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.4.4.4">5.2125</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.4.4.5">3.9525</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.4.4.4.6">4.5825</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.4.4.7">4.9031</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.4.4.8">10.3195</td>
</tr>
<tr class="ltx_tr" id="S4.T3.6.6.6">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.6.6.6.3">Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S5.SS1" title="5.1 Generalizing the Training Dynamics from a Weaker Reference LLM ‣ 5 Ablation and Analysis ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">5.1</span></a>
</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.5.5.5.1"><math alttext="\ell_{\text{NTP}}(\text{Full})" class="ltx_Math" display="inline" id="S4.T3.5.5.5.1.m1.1"><semantics id="S4.T3.5.5.5.1.m1.1a"><mrow id="S4.T3.5.5.5.1.m1.1.2" xref="S4.T3.5.5.5.1.m1.1.2.cmml"><msub id="S4.T3.5.5.5.1.m1.1.2.2" xref="S4.T3.5.5.5.1.m1.1.2.2.cmml"><mi id="S4.T3.5.5.5.1.m1.1.2.2.2" mathvariant="normal" xref="S4.T3.5.5.5.1.m1.1.2.2.2.cmml">ℓ</mi><mtext id="S4.T3.5.5.5.1.m1.1.2.2.3" xref="S4.T3.5.5.5.1.m1.1.2.2.3a.cmml">NTP</mtext></msub><mo id="S4.T3.5.5.5.1.m1.1.2.1" xref="S4.T3.5.5.5.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.T3.5.5.5.1.m1.1.2.3.2" xref="S4.T3.5.5.5.1.m1.1.1a.cmml"><mo id="S4.T3.5.5.5.1.m1.1.2.3.2.1" stretchy="false" xref="S4.T3.5.5.5.1.m1.1.1a.cmml">(</mo><mtext id="S4.T3.5.5.5.1.m1.1.1" xref="S4.T3.5.5.5.1.m1.1.1.cmml">Full</mtext><mo id="S4.T3.5.5.5.1.m1.1.2.3.2.2" stretchy="false" xref="S4.T3.5.5.5.1.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.5.5.5.1.m1.1b"><apply id="S4.T3.5.5.5.1.m1.1.2.cmml" xref="S4.T3.5.5.5.1.m1.1.2"><times id="S4.T3.5.5.5.1.m1.1.2.1.cmml" xref="S4.T3.5.5.5.1.m1.1.2.1"></times><apply id="S4.T3.5.5.5.1.m1.1.2.2.cmml" xref="S4.T3.5.5.5.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.T3.5.5.5.1.m1.1.2.2.1.cmml" xref="S4.T3.5.5.5.1.m1.1.2.2">subscript</csymbol><ci id="S4.T3.5.5.5.1.m1.1.2.2.2.cmml" xref="S4.T3.5.5.5.1.m1.1.2.2.2">ℓ</ci><ci id="S4.T3.5.5.5.1.m1.1.2.2.3a.cmml" xref="S4.T3.5.5.5.1.m1.1.2.2.3"><mtext id="S4.T3.5.5.5.1.m1.1.2.2.3.cmml" mathsize="70%" xref="S4.T3.5.5.5.1.m1.1.2.2.3">NTP</mtext></ci></apply><ci id="S4.T3.5.5.5.1.m1.1.1a.cmml" xref="S4.T3.5.5.5.1.m1.1.2.3.2"><mtext id="S4.T3.5.5.5.1.m1.1.1.cmml" xref="S4.T3.5.5.5.1.m1.1.1">Full</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.5.5.5.1.m1.1c">\ell_{\text{NTP}}(\text{Full})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.5.5.5.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( Full )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.6.6.6.2"><math alttext="\mu\,\ell_{\text{Mixup}}(\text{Conf}\,^{\prime},\text{Unconf}\,^{\prime})" class="ltx_Math" display="inline" id="S4.T3.6.6.6.2.m1.2"><semantics id="S4.T3.6.6.6.2.m1.2a"><mrow id="S4.T3.6.6.6.2.m1.2.2" xref="S4.T3.6.6.6.2.m1.2.2.cmml"><mi id="S4.T3.6.6.6.2.m1.2.2.4" xref="S4.T3.6.6.6.2.m1.2.2.4.cmml">μ</mi><mo id="S4.T3.6.6.6.2.m1.2.2.3" lspace="0.170em" xref="S4.T3.6.6.6.2.m1.2.2.3.cmml">⁢</mo><msub id="S4.T3.6.6.6.2.m1.2.2.5" xref="S4.T3.6.6.6.2.m1.2.2.5.cmml"><mi id="S4.T3.6.6.6.2.m1.2.2.5.2" mathvariant="normal" xref="S4.T3.6.6.6.2.m1.2.2.5.2.cmml">ℓ</mi><mtext id="S4.T3.6.6.6.2.m1.2.2.5.3" xref="S4.T3.6.6.6.2.m1.2.2.5.3a.cmml">Mixup</mtext></msub><mo id="S4.T3.6.6.6.2.m1.2.2.3a" xref="S4.T3.6.6.6.2.m1.2.2.3.cmml">⁢</mo><mrow id="S4.T3.6.6.6.2.m1.2.2.2.2" xref="S4.T3.6.6.6.2.m1.2.2.2.3.cmml"><mo id="S4.T3.6.6.6.2.m1.2.2.2.2.3" stretchy="false" xref="S4.T3.6.6.6.2.m1.2.2.2.3.cmml">(</mo><msup id="S4.T3.6.6.6.2.m1.1.1.1.1.1" xref="S4.T3.6.6.6.2.m1.1.1.1.1.1.cmml"><mtext id="S4.T3.6.6.6.2.m1.1.1.1.1.1.2" xref="S4.T3.6.6.6.2.m1.1.1.1.1.1.2a.cmml">Conf</mtext><mo id="S4.T3.6.6.6.2.m1.1.1.1.1.1.3" xref="S4.T3.6.6.6.2.m1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S4.T3.6.6.6.2.m1.2.2.2.2.4" lspace="0.170em" xref="S4.T3.6.6.6.2.m1.2.2.2.3.cmml">,</mo><msup id="S4.T3.6.6.6.2.m1.2.2.2.2.2" xref="S4.T3.6.6.6.2.m1.2.2.2.2.2.cmml"><mtext id="S4.T3.6.6.6.2.m1.2.2.2.2.2.2" xref="S4.T3.6.6.6.2.m1.2.2.2.2.2.2a.cmml">Unconf</mtext><mo id="S4.T3.6.6.6.2.m1.2.2.2.2.2.3" xref="S4.T3.6.6.6.2.m1.2.2.2.2.2.3.cmml">′</mo></msup><mo id="S4.T3.6.6.6.2.m1.2.2.2.2.5" lspace="0.170em" stretchy="false" xref="S4.T3.6.6.6.2.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.6.6.6.2.m1.2b"><apply id="S4.T3.6.6.6.2.m1.2.2.cmml" xref="S4.T3.6.6.6.2.m1.2.2"><times id="S4.T3.6.6.6.2.m1.2.2.3.cmml" xref="S4.T3.6.6.6.2.m1.2.2.3"></times><ci id="S4.T3.6.6.6.2.m1.2.2.4.cmml" xref="S4.T3.6.6.6.2.m1.2.2.4">𝜇</ci><apply id="S4.T3.6.6.6.2.m1.2.2.5.cmml" xref="S4.T3.6.6.6.2.m1.2.2.5"><csymbol cd="ambiguous" id="S4.T3.6.6.6.2.m1.2.2.5.1.cmml" xref="S4.T3.6.6.6.2.m1.2.2.5">subscript</csymbol><ci id="S4.T3.6.6.6.2.m1.2.2.5.2.cmml" xref="S4.T3.6.6.6.2.m1.2.2.5.2">ℓ</ci><ci id="S4.T3.6.6.6.2.m1.2.2.5.3a.cmml" xref="S4.T3.6.6.6.2.m1.2.2.5.3"><mtext id="S4.T3.6.6.6.2.m1.2.2.5.3.cmml" mathsize="70%" xref="S4.T3.6.6.6.2.m1.2.2.5.3">Mixup</mtext></ci></apply><interval closure="open" id="S4.T3.6.6.6.2.m1.2.2.2.3.cmml" xref="S4.T3.6.6.6.2.m1.2.2.2.2"><apply id="S4.T3.6.6.6.2.m1.1.1.1.1.1.cmml" xref="S4.T3.6.6.6.2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T3.6.6.6.2.m1.1.1.1.1.1.1.cmml" xref="S4.T3.6.6.6.2.m1.1.1.1.1.1">superscript</csymbol><ci id="S4.T3.6.6.6.2.m1.1.1.1.1.1.2a.cmml" xref="S4.T3.6.6.6.2.m1.1.1.1.1.1.2"><mtext id="S4.T3.6.6.6.2.m1.1.1.1.1.1.2.cmml" xref="S4.T3.6.6.6.2.m1.1.1.1.1.1.2">Conf</mtext></ci><ci id="S4.T3.6.6.6.2.m1.1.1.1.1.1.3.cmml" xref="S4.T3.6.6.6.2.m1.1.1.1.1.1.3">′</ci></apply><apply id="S4.T3.6.6.6.2.m1.2.2.2.2.2.cmml" xref="S4.T3.6.6.6.2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.T3.6.6.6.2.m1.2.2.2.2.2.1.cmml" xref="S4.T3.6.6.6.2.m1.2.2.2.2.2">superscript</csymbol><ci id="S4.T3.6.6.6.2.m1.2.2.2.2.2.2a.cmml" xref="S4.T3.6.6.6.2.m1.2.2.2.2.2.2"><mtext id="S4.T3.6.6.6.2.m1.2.2.2.2.2.2.cmml" xref="S4.T3.6.6.6.2.m1.2.2.2.2.2.2">Unconf</mtext></ci><ci id="S4.T3.6.6.6.2.m1.2.2.2.2.2.3.cmml" xref="S4.T3.6.6.6.2.m1.2.2.2.2.2.3">′</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.6.6.6.2.m1.2c">\mu\,\ell_{\text{Mixup}}(\text{Conf}\,^{\prime},\text{Unconf}\,^{\prime})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.6.6.6.2.m1.2d">italic_μ roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT , Unconf start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.6.6.6.4">4.8500</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.6.6.6.5">4.2625</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.6.6.6.6">4.5563</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.6.6.6.7">4.5786</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.6.6.6.8">10.0483</td>
</tr>
<tr class="ltx_tr" id="S4.T3.8.8.8">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.8.8.8.3" rowspan="2"><span class="ltx_text" id="S4.T3.8.8.8.3.1">Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S5.SS2" title="5.2 Incorporating Mixup as a Regularization is More Effective ‣ 5 Ablation and Analysis ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">5.2</span></a></span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.7.7.7.1"><math alttext="\ell_{\text{NTP}}(\text{Full})" class="ltx_Math" display="inline" id="S4.T3.7.7.7.1.m1.1"><semantics id="S4.T3.7.7.7.1.m1.1a"><mrow id="S4.T3.7.7.7.1.m1.1.2" xref="S4.T3.7.7.7.1.m1.1.2.cmml"><msub id="S4.T3.7.7.7.1.m1.1.2.2" xref="S4.T3.7.7.7.1.m1.1.2.2.cmml"><mi id="S4.T3.7.7.7.1.m1.1.2.2.2" mathvariant="normal" xref="S4.T3.7.7.7.1.m1.1.2.2.2.cmml">ℓ</mi><mtext id="S4.T3.7.7.7.1.m1.1.2.2.3" xref="S4.T3.7.7.7.1.m1.1.2.2.3a.cmml">NTP</mtext></msub><mo id="S4.T3.7.7.7.1.m1.1.2.1" xref="S4.T3.7.7.7.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.T3.7.7.7.1.m1.1.2.3.2" xref="S4.T3.7.7.7.1.m1.1.1a.cmml"><mo id="S4.T3.7.7.7.1.m1.1.2.3.2.1" stretchy="false" xref="S4.T3.7.7.7.1.m1.1.1a.cmml">(</mo><mtext id="S4.T3.7.7.7.1.m1.1.1" xref="S4.T3.7.7.7.1.m1.1.1.cmml">Full</mtext><mo id="S4.T3.7.7.7.1.m1.1.2.3.2.2" stretchy="false" xref="S4.T3.7.7.7.1.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.7.7.7.1.m1.1b"><apply id="S4.T3.7.7.7.1.m1.1.2.cmml" xref="S4.T3.7.7.7.1.m1.1.2"><times id="S4.T3.7.7.7.1.m1.1.2.1.cmml" xref="S4.T3.7.7.7.1.m1.1.2.1"></times><apply id="S4.T3.7.7.7.1.m1.1.2.2.cmml" xref="S4.T3.7.7.7.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.T3.7.7.7.1.m1.1.2.2.1.cmml" xref="S4.T3.7.7.7.1.m1.1.2.2">subscript</csymbol><ci id="S4.T3.7.7.7.1.m1.1.2.2.2.cmml" xref="S4.T3.7.7.7.1.m1.1.2.2.2">ℓ</ci><ci id="S4.T3.7.7.7.1.m1.1.2.2.3a.cmml" xref="S4.T3.7.7.7.1.m1.1.2.2.3"><mtext id="S4.T3.7.7.7.1.m1.1.2.2.3.cmml" mathsize="70%" xref="S4.T3.7.7.7.1.m1.1.2.2.3">NTP</mtext></ci></apply><ci id="S4.T3.7.7.7.1.m1.1.1a.cmml" xref="S4.T3.7.7.7.1.m1.1.2.3.2"><mtext id="S4.T3.7.7.7.1.m1.1.1.cmml" xref="S4.T3.7.7.7.1.m1.1.1">Full</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.7.7.7.1.m1.1c">\ell_{\text{NTP}}(\text{Full})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.7.7.7.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( Full )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.8.8.8.2"><math alttext="\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})" class="ltx_Math" display="inline" id="S4.T3.8.8.8.2.m1.2"><semantics id="S4.T3.8.8.8.2.m1.2a"><mrow id="S4.T3.8.8.8.2.m1.2.3" xref="S4.T3.8.8.8.2.m1.2.3.cmml"><msub id="S4.T3.8.8.8.2.m1.2.3.2" xref="S4.T3.8.8.8.2.m1.2.3.2.cmml"><mi id="S4.T3.8.8.8.2.m1.2.3.2.2" mathvariant="normal" xref="S4.T3.8.8.8.2.m1.2.3.2.2.cmml">ℓ</mi><mtext id="S4.T3.8.8.8.2.m1.2.3.2.3" xref="S4.T3.8.8.8.2.m1.2.3.2.3a.cmml">Mixup</mtext></msub><mo id="S4.T3.8.8.8.2.m1.2.3.1" xref="S4.T3.8.8.8.2.m1.2.3.1.cmml">⁢</mo><mrow id="S4.T3.8.8.8.2.m1.2.3.3.2" xref="S4.T3.8.8.8.2.m1.2.3.3.1.cmml"><mo id="S4.T3.8.8.8.2.m1.2.3.3.2.1" stretchy="false" xref="S4.T3.8.8.8.2.m1.2.3.3.1.cmml">(</mo><mtext id="S4.T3.8.8.8.2.m1.1.1" xref="S4.T3.8.8.8.2.m1.1.1a.cmml">Conf</mtext><mo id="S4.T3.8.8.8.2.m1.2.3.3.2.2" xref="S4.T3.8.8.8.2.m1.2.3.3.1.cmml">,</mo><mtext id="S4.T3.8.8.8.2.m1.2.2" xref="S4.T3.8.8.8.2.m1.2.2a.cmml">Unconf</mtext><mo id="S4.T3.8.8.8.2.m1.2.3.3.2.3" stretchy="false" xref="S4.T3.8.8.8.2.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.8.8.8.2.m1.2b"><apply id="S4.T3.8.8.8.2.m1.2.3.cmml" xref="S4.T3.8.8.8.2.m1.2.3"><times id="S4.T3.8.8.8.2.m1.2.3.1.cmml" xref="S4.T3.8.8.8.2.m1.2.3.1"></times><apply id="S4.T3.8.8.8.2.m1.2.3.2.cmml" xref="S4.T3.8.8.8.2.m1.2.3.2"><csymbol cd="ambiguous" id="S4.T3.8.8.8.2.m1.2.3.2.1.cmml" xref="S4.T3.8.8.8.2.m1.2.3.2">subscript</csymbol><ci id="S4.T3.8.8.8.2.m1.2.3.2.2.cmml" xref="S4.T3.8.8.8.2.m1.2.3.2.2">ℓ</ci><ci id="S4.T3.8.8.8.2.m1.2.3.2.3a.cmml" xref="S4.T3.8.8.8.2.m1.2.3.2.3"><mtext id="S4.T3.8.8.8.2.m1.2.3.2.3.cmml" mathsize="70%" xref="S4.T3.8.8.8.2.m1.2.3.2.3">Mixup</mtext></ci></apply><interval closure="open" id="S4.T3.8.8.8.2.m1.2.3.3.1.cmml" xref="S4.T3.8.8.8.2.m1.2.3.3.2"><ci id="S4.T3.8.8.8.2.m1.1.1a.cmml" xref="S4.T3.8.8.8.2.m1.1.1"><mtext id="S4.T3.8.8.8.2.m1.1.1.cmml" xref="S4.T3.8.8.8.2.m1.1.1">Conf</mtext></ci><ci id="S4.T3.8.8.8.2.m1.2.2a.cmml" xref="S4.T3.8.8.8.2.m1.2.2"><mtext id="S4.T3.8.8.8.2.m1.2.2.cmml" xref="S4.T3.8.8.8.2.m1.2.2">Unconf</mtext></ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.8.8.8.2.m1.2c">\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.8.8.8.2.m1.2d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf , Unconf )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.8.8.8.4">4.7050</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.8.8.8.5">4.1075</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.8.8.8.6">4.4062</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.8.8.8.7">3.9450</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.8.8.8.8">8.2856</td>
</tr>
<tr class="ltx_tr" id="S4.T3.9.9.9">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T3.9.9.9.2">-</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T3.9.9.9.1"><math alttext="\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})" class="ltx_Math" display="inline" id="S4.T3.9.9.9.1.m1.2"><semantics id="S4.T3.9.9.9.1.m1.2a"><mrow id="S4.T3.9.9.9.1.m1.2.3" xref="S4.T3.9.9.9.1.m1.2.3.cmml"><msub id="S4.T3.9.9.9.1.m1.2.3.2" xref="S4.T3.9.9.9.1.m1.2.3.2.cmml"><mi id="S4.T3.9.9.9.1.m1.2.3.2.2" mathvariant="normal" xref="S4.T3.9.9.9.1.m1.2.3.2.2.cmml">ℓ</mi><mtext id="S4.T3.9.9.9.1.m1.2.3.2.3" xref="S4.T3.9.9.9.1.m1.2.3.2.3a.cmml">Mixup</mtext></msub><mo id="S4.T3.9.9.9.1.m1.2.3.1" xref="S4.T3.9.9.9.1.m1.2.3.1.cmml">⁢</mo><mrow id="S4.T3.9.9.9.1.m1.2.3.3.2" xref="S4.T3.9.9.9.1.m1.2.3.3.1.cmml"><mo id="S4.T3.9.9.9.1.m1.2.3.3.2.1" stretchy="false" xref="S4.T3.9.9.9.1.m1.2.3.3.1.cmml">(</mo><mtext id="S4.T3.9.9.9.1.m1.1.1" xref="S4.T3.9.9.9.1.m1.1.1a.cmml">Conf</mtext><mo id="S4.T3.9.9.9.1.m1.2.3.3.2.2" xref="S4.T3.9.9.9.1.m1.2.3.3.1.cmml">,</mo><mtext id="S4.T3.9.9.9.1.m1.2.2" xref="S4.T3.9.9.9.1.m1.2.2a.cmml">Unconf</mtext><mo id="S4.T3.9.9.9.1.m1.2.3.3.2.3" stretchy="false" xref="S4.T3.9.9.9.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.9.9.9.1.m1.2b"><apply id="S4.T3.9.9.9.1.m1.2.3.cmml" xref="S4.T3.9.9.9.1.m1.2.3"><times id="S4.T3.9.9.9.1.m1.2.3.1.cmml" xref="S4.T3.9.9.9.1.m1.2.3.1"></times><apply id="S4.T3.9.9.9.1.m1.2.3.2.cmml" xref="S4.T3.9.9.9.1.m1.2.3.2"><csymbol cd="ambiguous" id="S4.T3.9.9.9.1.m1.2.3.2.1.cmml" xref="S4.T3.9.9.9.1.m1.2.3.2">subscript</csymbol><ci id="S4.T3.9.9.9.1.m1.2.3.2.2.cmml" xref="S4.T3.9.9.9.1.m1.2.3.2.2">ℓ</ci><ci id="S4.T3.9.9.9.1.m1.2.3.2.3a.cmml" xref="S4.T3.9.9.9.1.m1.2.3.2.3"><mtext id="S4.T3.9.9.9.1.m1.2.3.2.3.cmml" mathsize="70%" xref="S4.T3.9.9.9.1.m1.2.3.2.3">Mixup</mtext></ci></apply><interval closure="open" id="S4.T3.9.9.9.1.m1.2.3.3.1.cmml" xref="S4.T3.9.9.9.1.m1.2.3.3.2"><ci id="S4.T3.9.9.9.1.m1.1.1a.cmml" xref="S4.T3.9.9.9.1.m1.1.1"><mtext id="S4.T3.9.9.9.1.m1.1.1.cmml" xref="S4.T3.9.9.9.1.m1.1.1">Conf</mtext></ci><ci id="S4.T3.9.9.9.1.m1.2.2a.cmml" xref="S4.T3.9.9.9.1.m1.2.2"><mtext id="S4.T3.9.9.9.1.m1.2.2.cmml" xref="S4.T3.9.9.9.1.m1.2.2">Unconf</mtext></ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.9.9.9.1.m1.2c">\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.9.9.9.1.m1.2d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf , Unconf )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T3.9.9.9.3">5.0125</td>
<td class="ltx_td ltx_align_center" id="S4.T3.9.9.9.4">4.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.9.9.9.5">4.5062</td>
<td class="ltx_td ltx_align_center" id="S4.T3.9.9.9.6">3.5821</td>
<td class="ltx_td ltx_align_center" id="S4.T3.9.9.9.7">7.2964</td>
</tr>
<tr class="ltx_tr" id="S4.T3.11.11.11">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.11.11.11.3" rowspan="2"><span class="ltx_text" id="S4.T3.11.11.11.3.1">Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S5.SS3" title="5.3 SFTMix Effectively Utilizes Entire Instruction-Tuning Datasets ‣ 5 Ablation and Analysis ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">5.3</span></a></span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.10.10.10.1"><math alttext="\ell_{\text{NTP}}(\text{Conf})" class="ltx_Math" display="inline" id="S4.T3.10.10.10.1.m1.1"><semantics id="S4.T3.10.10.10.1.m1.1a"><mrow id="S4.T3.10.10.10.1.m1.1.2" xref="S4.T3.10.10.10.1.m1.1.2.cmml"><msub id="S4.T3.10.10.10.1.m1.1.2.2" xref="S4.T3.10.10.10.1.m1.1.2.2.cmml"><mi id="S4.T3.10.10.10.1.m1.1.2.2.2" mathvariant="normal" xref="S4.T3.10.10.10.1.m1.1.2.2.2.cmml">ℓ</mi><mtext id="S4.T3.10.10.10.1.m1.1.2.2.3" xref="S4.T3.10.10.10.1.m1.1.2.2.3a.cmml">NTP</mtext></msub><mo id="S4.T3.10.10.10.1.m1.1.2.1" xref="S4.T3.10.10.10.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.T3.10.10.10.1.m1.1.2.3.2" xref="S4.T3.10.10.10.1.m1.1.1a.cmml"><mo id="S4.T3.10.10.10.1.m1.1.2.3.2.1" stretchy="false" xref="S4.T3.10.10.10.1.m1.1.1a.cmml">(</mo><mtext id="S4.T3.10.10.10.1.m1.1.1" xref="S4.T3.10.10.10.1.m1.1.1.cmml">Conf</mtext><mo id="S4.T3.10.10.10.1.m1.1.2.3.2.2" stretchy="false" xref="S4.T3.10.10.10.1.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.10.10.10.1.m1.1b"><apply id="S4.T3.10.10.10.1.m1.1.2.cmml" xref="S4.T3.10.10.10.1.m1.1.2"><times id="S4.T3.10.10.10.1.m1.1.2.1.cmml" xref="S4.T3.10.10.10.1.m1.1.2.1"></times><apply id="S4.T3.10.10.10.1.m1.1.2.2.cmml" xref="S4.T3.10.10.10.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.T3.10.10.10.1.m1.1.2.2.1.cmml" xref="S4.T3.10.10.10.1.m1.1.2.2">subscript</csymbol><ci id="S4.T3.10.10.10.1.m1.1.2.2.2.cmml" xref="S4.T3.10.10.10.1.m1.1.2.2.2">ℓ</ci><ci id="S4.T3.10.10.10.1.m1.1.2.2.3a.cmml" xref="S4.T3.10.10.10.1.m1.1.2.2.3"><mtext id="S4.T3.10.10.10.1.m1.1.2.2.3.cmml" mathsize="70%" xref="S4.T3.10.10.10.1.m1.1.2.2.3">NTP</mtext></ci></apply><ci id="S4.T3.10.10.10.1.m1.1.1a.cmml" xref="S4.T3.10.10.10.1.m1.1.2.3.2"><mtext id="S4.T3.10.10.10.1.m1.1.1.cmml" xref="S4.T3.10.10.10.1.m1.1.1">Conf</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.10.10.10.1.m1.1c">\ell_{\text{NTP}}(\text{Conf})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.10.10.10.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( Conf )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.11.11.11.2"><math alttext="\mu\,\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})" class="ltx_Math" display="inline" id="S4.T3.11.11.11.2.m1.2"><semantics id="S4.T3.11.11.11.2.m1.2a"><mrow id="S4.T3.11.11.11.2.m1.2.3" xref="S4.T3.11.11.11.2.m1.2.3.cmml"><mi id="S4.T3.11.11.11.2.m1.2.3.2" xref="S4.T3.11.11.11.2.m1.2.3.2.cmml">μ</mi><mo id="S4.T3.11.11.11.2.m1.2.3.1" lspace="0.170em" xref="S4.T3.11.11.11.2.m1.2.3.1.cmml">⁢</mo><msub id="S4.T3.11.11.11.2.m1.2.3.3" xref="S4.T3.11.11.11.2.m1.2.3.3.cmml"><mi id="S4.T3.11.11.11.2.m1.2.3.3.2" mathvariant="normal" xref="S4.T3.11.11.11.2.m1.2.3.3.2.cmml">ℓ</mi><mtext id="S4.T3.11.11.11.2.m1.2.3.3.3" xref="S4.T3.11.11.11.2.m1.2.3.3.3a.cmml">Mixup</mtext></msub><mo id="S4.T3.11.11.11.2.m1.2.3.1a" xref="S4.T3.11.11.11.2.m1.2.3.1.cmml">⁢</mo><mrow id="S4.T3.11.11.11.2.m1.2.3.4.2" xref="S4.T3.11.11.11.2.m1.2.3.4.1.cmml"><mo id="S4.T3.11.11.11.2.m1.2.3.4.2.1" stretchy="false" xref="S4.T3.11.11.11.2.m1.2.3.4.1.cmml">(</mo><mtext id="S4.T3.11.11.11.2.m1.1.1" xref="S4.T3.11.11.11.2.m1.1.1a.cmml">Conf</mtext><mo id="S4.T3.11.11.11.2.m1.2.3.4.2.2" xref="S4.T3.11.11.11.2.m1.2.3.4.1.cmml">,</mo><mtext id="S4.T3.11.11.11.2.m1.2.2" xref="S4.T3.11.11.11.2.m1.2.2a.cmml">Unconf</mtext><mo id="S4.T3.11.11.11.2.m1.2.3.4.2.3" stretchy="false" xref="S4.T3.11.11.11.2.m1.2.3.4.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.11.11.11.2.m1.2b"><apply id="S4.T3.11.11.11.2.m1.2.3.cmml" xref="S4.T3.11.11.11.2.m1.2.3"><times id="S4.T3.11.11.11.2.m1.2.3.1.cmml" xref="S4.T3.11.11.11.2.m1.2.3.1"></times><ci id="S4.T3.11.11.11.2.m1.2.3.2.cmml" xref="S4.T3.11.11.11.2.m1.2.3.2">𝜇</ci><apply id="S4.T3.11.11.11.2.m1.2.3.3.cmml" xref="S4.T3.11.11.11.2.m1.2.3.3"><csymbol cd="ambiguous" id="S4.T3.11.11.11.2.m1.2.3.3.1.cmml" xref="S4.T3.11.11.11.2.m1.2.3.3">subscript</csymbol><ci id="S4.T3.11.11.11.2.m1.2.3.3.2.cmml" xref="S4.T3.11.11.11.2.m1.2.3.3.2">ℓ</ci><ci id="S4.T3.11.11.11.2.m1.2.3.3.3a.cmml" xref="S4.T3.11.11.11.2.m1.2.3.3.3"><mtext id="S4.T3.11.11.11.2.m1.2.3.3.3.cmml" mathsize="70%" xref="S4.T3.11.11.11.2.m1.2.3.3.3">Mixup</mtext></ci></apply><interval closure="open" id="S4.T3.11.11.11.2.m1.2.3.4.1.cmml" xref="S4.T3.11.11.11.2.m1.2.3.4.2"><ci id="S4.T3.11.11.11.2.m1.1.1a.cmml" xref="S4.T3.11.11.11.2.m1.1.1"><mtext id="S4.T3.11.11.11.2.m1.1.1.cmml" xref="S4.T3.11.11.11.2.m1.1.1">Conf</mtext></ci><ci id="S4.T3.11.11.11.2.m1.2.2a.cmml" xref="S4.T3.11.11.11.2.m1.2.2"><mtext id="S4.T3.11.11.11.2.m1.2.2.cmml" xref="S4.T3.11.11.11.2.m1.2.2">Unconf</mtext></ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.11.11.11.2.m1.2c">\mu\,\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.11.11.11.2.m1.2d">italic_μ roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf , Unconf )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.11.11.11.4">4.9775</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.11.11.11.5">4.1075</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.11.11.11.6">4.5425</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.11.11.11.7">4.4496</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.11.11.11.8">9.7824</td>
</tr>
<tr class="ltx_tr" id="S4.T3.13.13.13">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T3.12.12.12.1"><math alttext="\ell_{\text{NTP}}(\text{Unconf})" class="ltx_Math" display="inline" id="S4.T3.12.12.12.1.m1.1"><semantics id="S4.T3.12.12.12.1.m1.1a"><mrow id="S4.T3.12.12.12.1.m1.1.2" xref="S4.T3.12.12.12.1.m1.1.2.cmml"><msub id="S4.T3.12.12.12.1.m1.1.2.2" xref="S4.T3.12.12.12.1.m1.1.2.2.cmml"><mi id="S4.T3.12.12.12.1.m1.1.2.2.2" mathvariant="normal" xref="S4.T3.12.12.12.1.m1.1.2.2.2.cmml">ℓ</mi><mtext id="S4.T3.12.12.12.1.m1.1.2.2.3" xref="S4.T3.12.12.12.1.m1.1.2.2.3a.cmml">NTP</mtext></msub><mo id="S4.T3.12.12.12.1.m1.1.2.1" xref="S4.T3.12.12.12.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.T3.12.12.12.1.m1.1.2.3.2" xref="S4.T3.12.12.12.1.m1.1.1a.cmml"><mo id="S4.T3.12.12.12.1.m1.1.2.3.2.1" stretchy="false" xref="S4.T3.12.12.12.1.m1.1.1a.cmml">(</mo><mtext id="S4.T3.12.12.12.1.m1.1.1" xref="S4.T3.12.12.12.1.m1.1.1.cmml">Unconf</mtext><mo id="S4.T3.12.12.12.1.m1.1.2.3.2.2" stretchy="false" xref="S4.T3.12.12.12.1.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.12.12.12.1.m1.1b"><apply id="S4.T3.12.12.12.1.m1.1.2.cmml" xref="S4.T3.12.12.12.1.m1.1.2"><times id="S4.T3.12.12.12.1.m1.1.2.1.cmml" xref="S4.T3.12.12.12.1.m1.1.2.1"></times><apply id="S4.T3.12.12.12.1.m1.1.2.2.cmml" xref="S4.T3.12.12.12.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.T3.12.12.12.1.m1.1.2.2.1.cmml" xref="S4.T3.12.12.12.1.m1.1.2.2">subscript</csymbol><ci id="S4.T3.12.12.12.1.m1.1.2.2.2.cmml" xref="S4.T3.12.12.12.1.m1.1.2.2.2">ℓ</ci><ci id="S4.T3.12.12.12.1.m1.1.2.2.3a.cmml" xref="S4.T3.12.12.12.1.m1.1.2.2.3"><mtext id="S4.T3.12.12.12.1.m1.1.2.2.3.cmml" mathsize="70%" xref="S4.T3.12.12.12.1.m1.1.2.2.3">NTP</mtext></ci></apply><ci id="S4.T3.12.12.12.1.m1.1.1a.cmml" xref="S4.T3.12.12.12.1.m1.1.2.3.2"><mtext id="S4.T3.12.12.12.1.m1.1.1.cmml" xref="S4.T3.12.12.12.1.m1.1.1">Unconf</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.12.12.12.1.m1.1c">\ell_{\text{NTP}}(\text{Unconf})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.12.12.12.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( Unconf )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T3.13.13.13.2"><math alttext="\mu\,\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})" class="ltx_Math" display="inline" id="S4.T3.13.13.13.2.m1.2"><semantics id="S4.T3.13.13.13.2.m1.2a"><mrow id="S4.T3.13.13.13.2.m1.2.3" xref="S4.T3.13.13.13.2.m1.2.3.cmml"><mi id="S4.T3.13.13.13.2.m1.2.3.2" xref="S4.T3.13.13.13.2.m1.2.3.2.cmml">μ</mi><mo id="S4.T3.13.13.13.2.m1.2.3.1" lspace="0.170em" xref="S4.T3.13.13.13.2.m1.2.3.1.cmml">⁢</mo><msub id="S4.T3.13.13.13.2.m1.2.3.3" xref="S4.T3.13.13.13.2.m1.2.3.3.cmml"><mi id="S4.T3.13.13.13.2.m1.2.3.3.2" mathvariant="normal" xref="S4.T3.13.13.13.2.m1.2.3.3.2.cmml">ℓ</mi><mtext id="S4.T3.13.13.13.2.m1.2.3.3.3" xref="S4.T3.13.13.13.2.m1.2.3.3.3a.cmml">Mixup</mtext></msub><mo id="S4.T3.13.13.13.2.m1.2.3.1a" xref="S4.T3.13.13.13.2.m1.2.3.1.cmml">⁢</mo><mrow id="S4.T3.13.13.13.2.m1.2.3.4.2" xref="S4.T3.13.13.13.2.m1.2.3.4.1.cmml"><mo id="S4.T3.13.13.13.2.m1.2.3.4.2.1" stretchy="false" xref="S4.T3.13.13.13.2.m1.2.3.4.1.cmml">(</mo><mtext id="S4.T3.13.13.13.2.m1.1.1" xref="S4.T3.13.13.13.2.m1.1.1a.cmml">Conf</mtext><mo id="S4.T3.13.13.13.2.m1.2.3.4.2.2" xref="S4.T3.13.13.13.2.m1.2.3.4.1.cmml">,</mo><mtext id="S4.T3.13.13.13.2.m1.2.2" xref="S4.T3.13.13.13.2.m1.2.2a.cmml">Unconf</mtext><mo id="S4.T3.13.13.13.2.m1.2.3.4.2.3" stretchy="false" xref="S4.T3.13.13.13.2.m1.2.3.4.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.13.13.13.2.m1.2b"><apply id="S4.T3.13.13.13.2.m1.2.3.cmml" xref="S4.T3.13.13.13.2.m1.2.3"><times id="S4.T3.13.13.13.2.m1.2.3.1.cmml" xref="S4.T3.13.13.13.2.m1.2.3.1"></times><ci id="S4.T3.13.13.13.2.m1.2.3.2.cmml" xref="S4.T3.13.13.13.2.m1.2.3.2">𝜇</ci><apply id="S4.T3.13.13.13.2.m1.2.3.3.cmml" xref="S4.T3.13.13.13.2.m1.2.3.3"><csymbol cd="ambiguous" id="S4.T3.13.13.13.2.m1.2.3.3.1.cmml" xref="S4.T3.13.13.13.2.m1.2.3.3">subscript</csymbol><ci id="S4.T3.13.13.13.2.m1.2.3.3.2.cmml" xref="S4.T3.13.13.13.2.m1.2.3.3.2">ℓ</ci><ci id="S4.T3.13.13.13.2.m1.2.3.3.3a.cmml" xref="S4.T3.13.13.13.2.m1.2.3.3.3"><mtext id="S4.T3.13.13.13.2.m1.2.3.3.3.cmml" mathsize="70%" xref="S4.T3.13.13.13.2.m1.2.3.3.3">Mixup</mtext></ci></apply><interval closure="open" id="S4.T3.13.13.13.2.m1.2.3.4.1.cmml" xref="S4.T3.13.13.13.2.m1.2.3.4.2"><ci id="S4.T3.13.13.13.2.m1.1.1a.cmml" xref="S4.T3.13.13.13.2.m1.1.1"><mtext id="S4.T3.13.13.13.2.m1.1.1.cmml" xref="S4.T3.13.13.13.2.m1.1.1">Conf</mtext></ci><ci id="S4.T3.13.13.13.2.m1.2.2a.cmml" xref="S4.T3.13.13.13.2.m1.2.2"><mtext id="S4.T3.13.13.13.2.m1.2.2.cmml" xref="S4.T3.13.13.13.2.m1.2.2">Unconf</mtext></ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.13.13.13.2.m1.2c">\mu\,\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.13.13.13.2.m1.2d">italic_μ roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf , Unconf )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T3.13.13.13.3">5.1800</td>
<td class="ltx_td ltx_align_center" id="S4.T3.13.13.13.4">3.9050</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.13.13.13.5">4.5425</td>
<td class="ltx_td ltx_align_center" id="S4.T3.13.13.13.6">4.2030</td>
<td class="ltx_td ltx_align_center" id="S4.T3.13.13.13.7">8.9392</td>
</tr>
<tr class="ltx_tr" id="S4.T3.14.14.14">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="S4.T3.14.14.14.2" rowspan="3"><span class="ltx_text" id="S4.T3.14.14.14.2.1">Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S5.SS4" title="5.4 Training Dynamics Are Crucial for Performing Mixup ‣ 5 Ablation and Analysis ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">5.4</span></a></span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.14.14.14.1"><math alttext="\ell_{\text{NTP}}(\text{High})" class="ltx_Math" display="inline" id="S4.T3.14.14.14.1.m1.1"><semantics id="S4.T3.14.14.14.1.m1.1a"><mrow id="S4.T3.14.14.14.1.m1.1.2" xref="S4.T3.14.14.14.1.m1.1.2.cmml"><msub id="S4.T3.14.14.14.1.m1.1.2.2" xref="S4.T3.14.14.14.1.m1.1.2.2.cmml"><mi id="S4.T3.14.14.14.1.m1.1.2.2.2" mathvariant="normal" xref="S4.T3.14.14.14.1.m1.1.2.2.2.cmml">ℓ</mi><mtext id="S4.T3.14.14.14.1.m1.1.2.2.3" xref="S4.T3.14.14.14.1.m1.1.2.2.3a.cmml">NTP</mtext></msub><mo id="S4.T3.14.14.14.1.m1.1.2.1" xref="S4.T3.14.14.14.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.T3.14.14.14.1.m1.1.2.3.2" xref="S4.T3.14.14.14.1.m1.1.1a.cmml"><mo id="S4.T3.14.14.14.1.m1.1.2.3.2.1" stretchy="false" xref="S4.T3.14.14.14.1.m1.1.1a.cmml">(</mo><mtext id="S4.T3.14.14.14.1.m1.1.1" xref="S4.T3.14.14.14.1.m1.1.1.cmml">High</mtext><mo id="S4.T3.14.14.14.1.m1.1.2.3.2.2" stretchy="false" xref="S4.T3.14.14.14.1.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.14.14.14.1.m1.1b"><apply id="S4.T3.14.14.14.1.m1.1.2.cmml" xref="S4.T3.14.14.14.1.m1.1.2"><times id="S4.T3.14.14.14.1.m1.1.2.1.cmml" xref="S4.T3.14.14.14.1.m1.1.2.1"></times><apply id="S4.T3.14.14.14.1.m1.1.2.2.cmml" xref="S4.T3.14.14.14.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.T3.14.14.14.1.m1.1.2.2.1.cmml" xref="S4.T3.14.14.14.1.m1.1.2.2">subscript</csymbol><ci id="S4.T3.14.14.14.1.m1.1.2.2.2.cmml" xref="S4.T3.14.14.14.1.m1.1.2.2.2">ℓ</ci><ci id="S4.T3.14.14.14.1.m1.1.2.2.3a.cmml" xref="S4.T3.14.14.14.1.m1.1.2.2.3"><mtext id="S4.T3.14.14.14.1.m1.1.2.2.3.cmml" mathsize="70%" xref="S4.T3.14.14.14.1.m1.1.2.2.3">NTP</mtext></ci></apply><ci id="S4.T3.14.14.14.1.m1.1.1a.cmml" xref="S4.T3.14.14.14.1.m1.1.2.3.2"><mtext id="S4.T3.14.14.14.1.m1.1.1.cmml" xref="S4.T3.14.14.14.1.m1.1.1">High</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.14.14.14.1.m1.1c">\ell_{\text{NTP}}(\text{High})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.14.14.14.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( High )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T3.14.14.14.3">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.14.14.14.4">6.1175</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.14.14.14.5">5.2575</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.14.14.14.6">5.6875</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.14.14.14.7">7.2636</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.14.14.14.8">11.4490</td>
</tr>
<tr class="ltx_tr" id="S4.T3.15.15.15">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T3.15.15.15.1"><math alttext="\ell_{\text{NTP}}(\text{High}+\text{Low})" class="ltx_Math" display="inline" id="S4.T3.15.15.15.1.m1.1"><semantics id="S4.T3.15.15.15.1.m1.1a"><mrow id="S4.T3.15.15.15.1.m1.1.1" xref="S4.T3.15.15.15.1.m1.1.1.cmml"><msub id="S4.T3.15.15.15.1.m1.1.1.3" xref="S4.T3.15.15.15.1.m1.1.1.3.cmml"><mi id="S4.T3.15.15.15.1.m1.1.1.3.2" mathvariant="normal" xref="S4.T3.15.15.15.1.m1.1.1.3.2.cmml">ℓ</mi><mtext id="S4.T3.15.15.15.1.m1.1.1.3.3" xref="S4.T3.15.15.15.1.m1.1.1.3.3a.cmml">NTP</mtext></msub><mo id="S4.T3.15.15.15.1.m1.1.1.2" xref="S4.T3.15.15.15.1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.T3.15.15.15.1.m1.1.1.1.1" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.cmml"><mo id="S4.T3.15.15.15.1.m1.1.1.1.1.2" stretchy="false" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T3.15.15.15.1.m1.1.1.1.1.1" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.cmml"><mtext id="S4.T3.15.15.15.1.m1.1.1.1.1.1.2" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.2a.cmml">High</mtext><mo id="S4.T3.15.15.15.1.m1.1.1.1.1.1.1" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.1.cmml">+</mo><mtext id="S4.T3.15.15.15.1.m1.1.1.1.1.1.3" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.3a.cmml">Low</mtext></mrow><mo id="S4.T3.15.15.15.1.m1.1.1.1.1.3" stretchy="false" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.15.15.15.1.m1.1b"><apply id="S4.T3.15.15.15.1.m1.1.1.cmml" xref="S4.T3.15.15.15.1.m1.1.1"><times id="S4.T3.15.15.15.1.m1.1.1.2.cmml" xref="S4.T3.15.15.15.1.m1.1.1.2"></times><apply id="S4.T3.15.15.15.1.m1.1.1.3.cmml" xref="S4.T3.15.15.15.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.T3.15.15.15.1.m1.1.1.3.1.cmml" xref="S4.T3.15.15.15.1.m1.1.1.3">subscript</csymbol><ci id="S4.T3.15.15.15.1.m1.1.1.3.2.cmml" xref="S4.T3.15.15.15.1.m1.1.1.3.2">ℓ</ci><ci id="S4.T3.15.15.15.1.m1.1.1.3.3a.cmml" xref="S4.T3.15.15.15.1.m1.1.1.3.3"><mtext id="S4.T3.15.15.15.1.m1.1.1.3.3.cmml" mathsize="70%" xref="S4.T3.15.15.15.1.m1.1.1.3.3">NTP</mtext></ci></apply><apply id="S4.T3.15.15.15.1.m1.1.1.1.1.1.cmml" xref="S4.T3.15.15.15.1.m1.1.1.1.1"><plus id="S4.T3.15.15.15.1.m1.1.1.1.1.1.1.cmml" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.1"></plus><ci id="S4.T3.15.15.15.1.m1.1.1.1.1.1.2a.cmml" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.2"><mtext id="S4.T3.15.15.15.1.m1.1.1.1.1.1.2.cmml" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.2">High</mtext></ci><ci id="S4.T3.15.15.15.1.m1.1.1.1.1.1.3a.cmml" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.3"><mtext id="S4.T3.15.15.15.1.m1.1.1.1.1.1.3.cmml" xref="S4.T3.15.15.15.1.m1.1.1.1.1.1.3">Low</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.15.15.15.1.m1.1c">\ell_{\text{NTP}}(\text{High}+\text{Low})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.15.15.15.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( High + Low )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T3.15.15.15.2">-</td>
<td class="ltx_td ltx_align_center" id="S4.T3.15.15.15.3">5.9000</td>
<td class="ltx_td ltx_align_center" id="S4.T3.15.15.15.4">5.1825</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.15.15.15.5">5.5412</td>
<td class="ltx_td ltx_align_center" id="S4.T3.15.15.15.6">6.5871</td>
<td class="ltx_td ltx_align_center" id="S4.T3.15.15.15.7">11.9590</td>
</tr>
<tr class="ltx_tr" id="S4.T3.17.17.17">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="S4.T3.16.16.16.1"><math alttext="\ell_{\text{NTP}}(\text{High}+\text{Low})" class="ltx_Math" display="inline" id="S4.T3.16.16.16.1.m1.1"><semantics id="S4.T3.16.16.16.1.m1.1a"><mrow id="S4.T3.16.16.16.1.m1.1.1" xref="S4.T3.16.16.16.1.m1.1.1.cmml"><msub id="S4.T3.16.16.16.1.m1.1.1.3" xref="S4.T3.16.16.16.1.m1.1.1.3.cmml"><mi id="S4.T3.16.16.16.1.m1.1.1.3.2" mathvariant="normal" xref="S4.T3.16.16.16.1.m1.1.1.3.2.cmml">ℓ</mi><mtext id="S4.T3.16.16.16.1.m1.1.1.3.3" xref="S4.T3.16.16.16.1.m1.1.1.3.3a.cmml">NTP</mtext></msub><mo id="S4.T3.16.16.16.1.m1.1.1.2" xref="S4.T3.16.16.16.1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.T3.16.16.16.1.m1.1.1.1.1" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.cmml"><mo id="S4.T3.16.16.16.1.m1.1.1.1.1.2" stretchy="false" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T3.16.16.16.1.m1.1.1.1.1.1" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.cmml"><mtext id="S4.T3.16.16.16.1.m1.1.1.1.1.1.2" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.2a.cmml">High</mtext><mo id="S4.T3.16.16.16.1.m1.1.1.1.1.1.1" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.1.cmml">+</mo><mtext id="S4.T3.16.16.16.1.m1.1.1.1.1.1.3" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.3a.cmml">Low</mtext></mrow><mo id="S4.T3.16.16.16.1.m1.1.1.1.1.3" stretchy="false" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.16.16.16.1.m1.1b"><apply id="S4.T3.16.16.16.1.m1.1.1.cmml" xref="S4.T3.16.16.16.1.m1.1.1"><times id="S4.T3.16.16.16.1.m1.1.1.2.cmml" xref="S4.T3.16.16.16.1.m1.1.1.2"></times><apply id="S4.T3.16.16.16.1.m1.1.1.3.cmml" xref="S4.T3.16.16.16.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.T3.16.16.16.1.m1.1.1.3.1.cmml" xref="S4.T3.16.16.16.1.m1.1.1.3">subscript</csymbol><ci id="S4.T3.16.16.16.1.m1.1.1.3.2.cmml" xref="S4.T3.16.16.16.1.m1.1.1.3.2">ℓ</ci><ci id="S4.T3.16.16.16.1.m1.1.1.3.3a.cmml" xref="S4.T3.16.16.16.1.m1.1.1.3.3"><mtext id="S4.T3.16.16.16.1.m1.1.1.3.3.cmml" mathsize="70%" xref="S4.T3.16.16.16.1.m1.1.1.3.3">NTP</mtext></ci></apply><apply id="S4.T3.16.16.16.1.m1.1.1.1.1.1.cmml" xref="S4.T3.16.16.16.1.m1.1.1.1.1"><plus id="S4.T3.16.16.16.1.m1.1.1.1.1.1.1.cmml" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.1"></plus><ci id="S4.T3.16.16.16.1.m1.1.1.1.1.1.2a.cmml" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.2"><mtext id="S4.T3.16.16.16.1.m1.1.1.1.1.1.2.cmml" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.2">High</mtext></ci><ci id="S4.T3.16.16.16.1.m1.1.1.1.1.1.3a.cmml" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.3"><mtext id="S4.T3.16.16.16.1.m1.1.1.1.1.1.3.cmml" xref="S4.T3.16.16.16.1.m1.1.1.1.1.1.3">Low</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.16.16.16.1.m1.1c">\ell_{\text{NTP}}(\text{High}+\text{Low})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.16.16.16.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( High + Low )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="S4.T3.17.17.17.2"><math alttext="\mu\,\ell_{\text{Mixup}}(\text{High},\text{Low})" class="ltx_Math" display="inline" id="S4.T3.17.17.17.2.m1.2"><semantics id="S4.T3.17.17.17.2.m1.2a"><mrow id="S4.T3.17.17.17.2.m1.2.3" xref="S4.T3.17.17.17.2.m1.2.3.cmml"><mi id="S4.T3.17.17.17.2.m1.2.3.2" xref="S4.T3.17.17.17.2.m1.2.3.2.cmml">μ</mi><mo id="S4.T3.17.17.17.2.m1.2.3.1" lspace="0.170em" xref="S4.T3.17.17.17.2.m1.2.3.1.cmml">⁢</mo><msub id="S4.T3.17.17.17.2.m1.2.3.3" xref="S4.T3.17.17.17.2.m1.2.3.3.cmml"><mi id="S4.T3.17.17.17.2.m1.2.3.3.2" mathvariant="normal" xref="S4.T3.17.17.17.2.m1.2.3.3.2.cmml">ℓ</mi><mtext id="S4.T3.17.17.17.2.m1.2.3.3.3" xref="S4.T3.17.17.17.2.m1.2.3.3.3a.cmml">Mixup</mtext></msub><mo id="S4.T3.17.17.17.2.m1.2.3.1a" xref="S4.T3.17.17.17.2.m1.2.3.1.cmml">⁢</mo><mrow id="S4.T3.17.17.17.2.m1.2.3.4.2" xref="S4.T3.17.17.17.2.m1.2.3.4.1.cmml"><mo id="S4.T3.17.17.17.2.m1.2.3.4.2.1" stretchy="false" xref="S4.T3.17.17.17.2.m1.2.3.4.1.cmml">(</mo><mtext id="S4.T3.17.17.17.2.m1.1.1" xref="S4.T3.17.17.17.2.m1.1.1a.cmml">High</mtext><mo id="S4.T3.17.17.17.2.m1.2.3.4.2.2" xref="S4.T3.17.17.17.2.m1.2.3.4.1.cmml">,</mo><mtext id="S4.T3.17.17.17.2.m1.2.2" xref="S4.T3.17.17.17.2.m1.2.2a.cmml">Low</mtext><mo id="S4.T3.17.17.17.2.m1.2.3.4.2.3" stretchy="false" xref="S4.T3.17.17.17.2.m1.2.3.4.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.17.17.17.2.m1.2b"><apply id="S4.T3.17.17.17.2.m1.2.3.cmml" xref="S4.T3.17.17.17.2.m1.2.3"><times id="S4.T3.17.17.17.2.m1.2.3.1.cmml" xref="S4.T3.17.17.17.2.m1.2.3.1"></times><ci id="S4.T3.17.17.17.2.m1.2.3.2.cmml" xref="S4.T3.17.17.17.2.m1.2.3.2">𝜇</ci><apply id="S4.T3.17.17.17.2.m1.2.3.3.cmml" xref="S4.T3.17.17.17.2.m1.2.3.3"><csymbol cd="ambiguous" id="S4.T3.17.17.17.2.m1.2.3.3.1.cmml" xref="S4.T3.17.17.17.2.m1.2.3.3">subscript</csymbol><ci id="S4.T3.17.17.17.2.m1.2.3.3.2.cmml" xref="S4.T3.17.17.17.2.m1.2.3.3.2">ℓ</ci><ci id="S4.T3.17.17.17.2.m1.2.3.3.3a.cmml" xref="S4.T3.17.17.17.2.m1.2.3.3.3"><mtext id="S4.T3.17.17.17.2.m1.2.3.3.3.cmml" mathsize="70%" xref="S4.T3.17.17.17.2.m1.2.3.3.3">Mixup</mtext></ci></apply><interval closure="open" id="S4.T3.17.17.17.2.m1.2.3.4.1.cmml" xref="S4.T3.17.17.17.2.m1.2.3.4.2"><ci id="S4.T3.17.17.17.2.m1.1.1a.cmml" xref="S4.T3.17.17.17.2.m1.1.1"><mtext id="S4.T3.17.17.17.2.m1.1.1.cmml" xref="S4.T3.17.17.17.2.m1.1.1">High</mtext></ci><ci id="S4.T3.17.17.17.2.m1.2.2a.cmml" xref="S4.T3.17.17.17.2.m1.2.2"><mtext id="S4.T3.17.17.17.2.m1.2.2.cmml" xref="S4.T3.17.17.17.2.m1.2.2">Low</mtext></ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.17.17.17.2.m1.2c">\mu\,\ell_{\text{Mixup}}(\text{High},\text{Low})</annotation><annotation encoding="application/x-llamapun" id="S4.T3.17.17.17.2.m1.2d">italic_μ roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( High , Low )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.17.17.17.3">5.8025</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.17.17.17.4">5.0975</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T3.17.17.17.5">5.4500</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.17.17.17.6">5.9382</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.17.17.17.7">11.1768</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Ablation studies on variants of SFTMix. We identify four ablation directions and evaluate the instruction-following abilities of Llama-3.1-8B trained with the corresponding loss functions. <span class="ltx_text ltx_markedasmath" id="S4.T3.37.1">Conf</span> and <span class="ltx_text ltx_markedasmath" id="S4.T3.38.2">Unconf</span> are the confident and unconfident subsets of the <span class="ltx_text ltx_markedasmath" id="S4.T3.39.3">Full</span> Alpaca-52K dataset, with confidence derived from the training dynamics of Llama-3.1-8B. <math alttext="\text{Conf}\,^{\prime}" class="ltx_Math" display="inline" id="S4.T3.28.m4.1"><semantics id="S4.T3.28.m4.1b"><msup id="S4.T3.28.m4.1.1" xref="S4.T3.28.m4.1.1.cmml"><mtext id="S4.T3.28.m4.1.1.2" xref="S4.T3.28.m4.1.1.2a.cmml">Conf</mtext><mo id="S4.T3.28.m4.1.1.3" xref="S4.T3.28.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T3.28.m4.1c"><apply id="S4.T3.28.m4.1.1.cmml" xref="S4.T3.28.m4.1.1"><csymbol cd="ambiguous" id="S4.T3.28.m4.1.1.1.cmml" xref="S4.T3.28.m4.1.1">superscript</csymbol><ci id="S4.T3.28.m4.1.1.2a.cmml" xref="S4.T3.28.m4.1.1.2"><mtext id="S4.T3.28.m4.1.1.2.cmml" xref="S4.T3.28.m4.1.1.2">Conf</mtext></ci><ci id="S4.T3.28.m4.1.1.3.cmml" xref="S4.T3.28.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.28.m4.1d">\text{Conf}\,^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.28.m4.1e">Conf start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\text{Unconf}\,^{\prime}" class="ltx_Math" display="inline" id="S4.T3.29.m5.1"><semantics id="S4.T3.29.m5.1b"><msup id="S4.T3.29.m5.1.1" xref="S4.T3.29.m5.1.1.cmml"><mtext id="S4.T3.29.m5.1.1.2" xref="S4.T3.29.m5.1.1.2a.cmml">Unconf</mtext><mo id="S4.T3.29.m5.1.1.3" xref="S4.T3.29.m5.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T3.29.m5.1c"><apply id="S4.T3.29.m5.1.1.cmml" xref="S4.T3.29.m5.1.1"><csymbol cd="ambiguous" id="S4.T3.29.m5.1.1.1.cmml" xref="S4.T3.29.m5.1.1">superscript</csymbol><ci id="S4.T3.29.m5.1.1.2a.cmml" xref="S4.T3.29.m5.1.1.2"><mtext id="S4.T3.29.m5.1.1.2.cmml" xref="S4.T3.29.m5.1.1.2">Unconf</mtext></ci><ci id="S4.T3.29.m5.1.1.3.cmml" xref="S4.T3.29.m5.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.29.m5.1d">\text{Unconf}\,^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.29.m5.1e">Unconf start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> are based on Gemma-2B’s training dynamics. <span class="ltx_text ltx_markedasmath" id="S4.T3.40.4">High</span> refers to Alpaca-GPT4-26K (higher quality), while <span class="ltx_text ltx_markedasmath" id="S4.T3.41.5">Low</span> refers to Alpaca-26K (relatively lower quality).</figcaption>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Ablation and Analysis</h2>
<div class="ltx_para ltx_noindent" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">Following the improvements of SFTMix in instruction-following and domain-specific SFT tasks, we conduct extensive ablation studies to analyze the contribution of each design choice and explore its impact across applications.
We identify four ablation directions and summarize the results of training Llama-3.1-8B on Alpaca-52K using variants of SFTMix in Table&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.T3" title="Table 3 ‣ SFTMix Adapts LLMs to Domain-Specific Tasks More Effectively. ‣ 4.2 Domain-Specific SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Generalizing the Training Dynamics from a Weaker Reference LLM</h3>
<div class="ltx_para ltx_noindent" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.3">Inspired by <cite class="ltx_cite ltx_citemacro_citet">Burns et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib6" title="">2024</a>)</cite>, we investigate the generalization of training dynamics from a weaker reference LLM to a stronger instruction-tuning LLM.
Specifically, we identify training dynamics with a weaker reference LLM, Gemma-2B <cite class="ltx_cite ltx_citemacro_citep">(Team et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib53" title="">2024</a>)</cite>, to divide an SFT dataset into a confident subset (<math alttext="\text{Conf}\,^{\prime}" class="ltx_Math" display="inline" id="S5.SS1.p1.1.m1.1"><semantics id="S5.SS1.p1.1.m1.1a"><msup id="S5.SS1.p1.1.m1.1.1" xref="S5.SS1.p1.1.m1.1.1.cmml"><mtext id="S5.SS1.p1.1.m1.1.1.2" xref="S5.SS1.p1.1.m1.1.1.2a.cmml">Conf</mtext><mo id="S5.SS1.p1.1.m1.1.1.3" xref="S5.SS1.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.1.m1.1b"><apply id="S5.SS1.p1.1.m1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.1.m1.1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1">superscript</csymbol><ci id="S5.SS1.p1.1.m1.1.1.2a.cmml" xref="S5.SS1.p1.1.m1.1.1.2"><mtext id="S5.SS1.p1.1.m1.1.1.2.cmml" xref="S5.SS1.p1.1.m1.1.1.2">Conf</mtext></ci><ci id="S5.SS1.p1.1.m1.1.1.3.cmml" xref="S5.SS1.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.1.m1.1c">\text{Conf}\,^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.1.m1.1d">Conf start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>) and a relatively unconfident subset (<math alttext="\text{Unconf}\,^{\prime}" class="ltx_Math" display="inline" id="S5.SS1.p1.2.m2.1"><semantics id="S5.SS1.p1.2.m2.1a"><msup id="S5.SS1.p1.2.m2.1.1" xref="S5.SS1.p1.2.m2.1.1.cmml"><mtext id="S5.SS1.p1.2.m2.1.1.2" xref="S5.SS1.p1.2.m2.1.1.2a.cmml">Unconf</mtext><mo id="S5.SS1.p1.2.m2.1.1.3" xref="S5.SS1.p1.2.m2.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.2.m2.1b"><apply id="S5.SS1.p1.2.m2.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.2.m2.1.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1">superscript</csymbol><ci id="S5.SS1.p1.2.m2.1.1.2a.cmml" xref="S5.SS1.p1.2.m2.1.1.2"><mtext id="S5.SS1.p1.2.m2.1.1.2.cmml" xref="S5.SS1.p1.2.m2.1.1.2">Unconf</mtext></ci><ci id="S5.SS1.p1.2.m2.1.1.3.cmml" xref="S5.SS1.p1.2.m2.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.2.m2.1c">\text{Unconf}\,^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.2.m2.1d">Unconf start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>).
These subsets are then fed into the Mixup regularization <math alttext="\ell_{\text{Mixup}}(\text{Conf}\,^{\prime},\text{Unconf}\,^{\prime})" class="ltx_Math" display="inline" id="S5.SS1.p1.3.m3.2"><semantics id="S5.SS1.p1.3.m3.2a"><mrow id="S5.SS1.p1.3.m3.2.2" xref="S5.SS1.p1.3.m3.2.2.cmml"><msub id="S5.SS1.p1.3.m3.2.2.4" xref="S5.SS1.p1.3.m3.2.2.4.cmml"><mi id="S5.SS1.p1.3.m3.2.2.4.2" mathvariant="normal" xref="S5.SS1.p1.3.m3.2.2.4.2.cmml">ℓ</mi><mtext id="S5.SS1.p1.3.m3.2.2.4.3" xref="S5.SS1.p1.3.m3.2.2.4.3a.cmml">Mixup</mtext></msub><mo id="S5.SS1.p1.3.m3.2.2.3" xref="S5.SS1.p1.3.m3.2.2.3.cmml">⁢</mo><mrow id="S5.SS1.p1.3.m3.2.2.2.2" xref="S5.SS1.p1.3.m3.2.2.2.3.cmml"><mo id="S5.SS1.p1.3.m3.2.2.2.2.3" stretchy="false" xref="S5.SS1.p1.3.m3.2.2.2.3.cmml">(</mo><msup id="S5.SS1.p1.3.m3.1.1.1.1.1" xref="S5.SS1.p1.3.m3.1.1.1.1.1.cmml"><mtext id="S5.SS1.p1.3.m3.1.1.1.1.1.2" xref="S5.SS1.p1.3.m3.1.1.1.1.1.2a.cmml">Conf</mtext><mo id="S5.SS1.p1.3.m3.1.1.1.1.1.3" xref="S5.SS1.p1.3.m3.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S5.SS1.p1.3.m3.2.2.2.2.4" lspace="0.170em" xref="S5.SS1.p1.3.m3.2.2.2.3.cmml">,</mo><msup id="S5.SS1.p1.3.m3.2.2.2.2.2" xref="S5.SS1.p1.3.m3.2.2.2.2.2.cmml"><mtext id="S5.SS1.p1.3.m3.2.2.2.2.2.2" xref="S5.SS1.p1.3.m3.2.2.2.2.2.2a.cmml">Unconf</mtext><mo id="S5.SS1.p1.3.m3.2.2.2.2.2.3" xref="S5.SS1.p1.3.m3.2.2.2.2.2.3.cmml">′</mo></msup><mo id="S5.SS1.p1.3.m3.2.2.2.2.5" lspace="0.170em" stretchy="false" xref="S5.SS1.p1.3.m3.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.3.m3.2b"><apply id="S5.SS1.p1.3.m3.2.2.cmml" xref="S5.SS1.p1.3.m3.2.2"><times id="S5.SS1.p1.3.m3.2.2.3.cmml" xref="S5.SS1.p1.3.m3.2.2.3"></times><apply id="S5.SS1.p1.3.m3.2.2.4.cmml" xref="S5.SS1.p1.3.m3.2.2.4"><csymbol cd="ambiguous" id="S5.SS1.p1.3.m3.2.2.4.1.cmml" xref="S5.SS1.p1.3.m3.2.2.4">subscript</csymbol><ci id="S5.SS1.p1.3.m3.2.2.4.2.cmml" xref="S5.SS1.p1.3.m3.2.2.4.2">ℓ</ci><ci id="S5.SS1.p1.3.m3.2.2.4.3a.cmml" xref="S5.SS1.p1.3.m3.2.2.4.3"><mtext id="S5.SS1.p1.3.m3.2.2.4.3.cmml" mathsize="70%" xref="S5.SS1.p1.3.m3.2.2.4.3">Mixup</mtext></ci></apply><interval closure="open" id="S5.SS1.p1.3.m3.2.2.2.3.cmml" xref="S5.SS1.p1.3.m3.2.2.2.2"><apply id="S5.SS1.p1.3.m3.1.1.1.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.3.m3.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1">superscript</csymbol><ci id="S5.SS1.p1.3.m3.1.1.1.1.1.2a.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1.2"><mtext id="S5.SS1.p1.3.m3.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1.2">Conf</mtext></ci><ci id="S5.SS1.p1.3.m3.1.1.1.1.1.3.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1.3">′</ci></apply><apply id="S5.SS1.p1.3.m3.2.2.2.2.2.cmml" xref="S5.SS1.p1.3.m3.2.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p1.3.m3.2.2.2.2.2.1.cmml" xref="S5.SS1.p1.3.m3.2.2.2.2.2">superscript</csymbol><ci id="S5.SS1.p1.3.m3.2.2.2.2.2.2a.cmml" xref="S5.SS1.p1.3.m3.2.2.2.2.2.2"><mtext id="S5.SS1.p1.3.m3.2.2.2.2.2.2.cmml" xref="S5.SS1.p1.3.m3.2.2.2.2.2.2">Unconf</mtext></ci><ci id="S5.SS1.p1.3.m3.2.2.2.2.2.3.cmml" xref="S5.SS1.p1.3.m3.2.2.2.2.2.3">′</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.3.m3.2c">\ell_{\text{Mixup}}(\text{Conf}\,^{\prime},\text{Unconf}\,^{\prime})</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.3.m3.2d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT , Unconf start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT )</annotation></semantics></math> when instruction-tuning Llama-3.1-8B.
This alternative approach yields comparable scores on MT-Bench and AlpacaEval-2 to the original SFTMix recipe, which uses the same LLM for both training dynamics and Mixup-based instruction tuning.
This finding aligns with the weak-to-strong generalization reported by <cite class="ltx_cite ltx_citemacro_citet">Burns et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib6" title="">2024</a>)</cite> and highlights the potential for scaling SFTMix to even stronger LLMs.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Incorporating Mixup as a Regularization is More Effective</h3>
<div class="ltx_para ltx_noindent" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.7">Equation&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.E5" title="In 3.3 A Mixup-Based Regularization Facilitates LLM Instruction Tuning ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">5</span></a> uses the Mixup regularization <math alttext="\ell_{\text{Mixup}}" class="ltx_Math" display="inline" id="S5.SS2.p1.1.m1.1"><semantics id="S5.SS2.p1.1.m1.1a"><msub id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml"><mi id="S5.SS2.p1.1.m1.1.1.2" mathvariant="normal" xref="S5.SS2.p1.1.m1.1.1.2.cmml">ℓ</mi><mtext id="S5.SS2.p1.1.m1.1.1.3" xref="S5.SS2.p1.1.m1.1.1.3a.cmml">Mixup</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><apply id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S5.SS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.p1.1.m1.1.1.2">ℓ</ci><ci id="S5.SS2.p1.1.m1.1.1.3a.cmml" xref="S5.SS2.p1.1.m1.1.1.3"><mtext id="S5.SS2.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.1.m1.1.1.3">Mixup</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">\ell_{\text{Mixup}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT</annotation></semantics></math> to alleviate overfitting and encourage generalization.
To fully explore its effect, we experiment with setting <math alttext="\mu=1" class="ltx_Math" display="inline" id="S5.SS2.p1.2.m2.1"><semantics id="S5.SS2.p1.2.m2.1a"><mrow id="S5.SS2.p1.2.m2.1.1" xref="S5.SS2.p1.2.m2.1.1.cmml"><mi id="S5.SS2.p1.2.m2.1.1.2" xref="S5.SS2.p1.2.m2.1.1.2.cmml">μ</mi><mo id="S5.SS2.p1.2.m2.1.1.1" xref="S5.SS2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S5.SS2.p1.2.m2.1.1.3" xref="S5.SS2.p1.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.2.m2.1b"><apply id="S5.SS2.p1.2.m2.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1"><eq id="S5.SS2.p1.2.m2.1.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1.1"></eq><ci id="S5.SS2.p1.2.m2.1.1.2.cmml" xref="S5.SS2.p1.2.m2.1.1.2">𝜇</ci><cn id="S5.SS2.p1.2.m2.1.1.3.cmml" type="integer" xref="S5.SS2.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.2.m2.1c">\mu=1</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.2.m2.1d">italic_μ = 1</annotation></semantics></math> in Equation&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S3.E5" title="In 3.3 A Mixup-Based Regularization Facilitates LLM Instruction Tuning ‣ 3 SFTMix ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">5</span></a> (i.e., <math alttext="\ell=\ell_{\text{NTP}}(\text{Full})+\ell_{\text{Mixup}}(\text{Conf},\text{%
Unconf})" class="ltx_Math" display="inline" id="S5.SS2.p1.3.m3.3"><semantics id="S5.SS2.p1.3.m3.3a"><mrow id="S5.SS2.p1.3.m3.3.4" xref="S5.SS2.p1.3.m3.3.4.cmml"><mi id="S5.SS2.p1.3.m3.3.4.2" mathvariant="normal" xref="S5.SS2.p1.3.m3.3.4.2.cmml">ℓ</mi><mo id="S5.SS2.p1.3.m3.3.4.1" xref="S5.SS2.p1.3.m3.3.4.1.cmml">=</mo><mrow id="S5.SS2.p1.3.m3.3.4.3" xref="S5.SS2.p1.3.m3.3.4.3.cmml"><mrow id="S5.SS2.p1.3.m3.3.4.3.2" xref="S5.SS2.p1.3.m3.3.4.3.2.cmml"><msub id="S5.SS2.p1.3.m3.3.4.3.2.2" xref="S5.SS2.p1.3.m3.3.4.3.2.2.cmml"><mi id="S5.SS2.p1.3.m3.3.4.3.2.2.2" mathvariant="normal" xref="S5.SS2.p1.3.m3.3.4.3.2.2.2.cmml">ℓ</mi><mtext id="S5.SS2.p1.3.m3.3.4.3.2.2.3" xref="S5.SS2.p1.3.m3.3.4.3.2.2.3a.cmml">NTP</mtext></msub><mo id="S5.SS2.p1.3.m3.3.4.3.2.1" xref="S5.SS2.p1.3.m3.3.4.3.2.1.cmml">⁢</mo><mrow id="S5.SS2.p1.3.m3.3.4.3.2.3.2" xref="S5.SS2.p1.3.m3.1.1a.cmml"><mo id="S5.SS2.p1.3.m3.3.4.3.2.3.2.1" stretchy="false" xref="S5.SS2.p1.3.m3.1.1a.cmml">(</mo><mtext id="S5.SS2.p1.3.m3.1.1" xref="S5.SS2.p1.3.m3.1.1.cmml">Full</mtext><mo id="S5.SS2.p1.3.m3.3.4.3.2.3.2.2" stretchy="false" xref="S5.SS2.p1.3.m3.1.1a.cmml">)</mo></mrow></mrow><mo id="S5.SS2.p1.3.m3.3.4.3.1" xref="S5.SS2.p1.3.m3.3.4.3.1.cmml">+</mo><mrow id="S5.SS2.p1.3.m3.3.4.3.3" xref="S5.SS2.p1.3.m3.3.4.3.3.cmml"><msub id="S5.SS2.p1.3.m3.3.4.3.3.2" xref="S5.SS2.p1.3.m3.3.4.3.3.2.cmml"><mi id="S5.SS2.p1.3.m3.3.4.3.3.2.2" mathvariant="normal" xref="S5.SS2.p1.3.m3.3.4.3.3.2.2.cmml">ℓ</mi><mtext id="S5.SS2.p1.3.m3.3.4.3.3.2.3" xref="S5.SS2.p1.3.m3.3.4.3.3.2.3a.cmml">Mixup</mtext></msub><mo id="S5.SS2.p1.3.m3.3.4.3.3.1" xref="S5.SS2.p1.3.m3.3.4.3.3.1.cmml">⁢</mo><mrow id="S5.SS2.p1.3.m3.3.4.3.3.3.2" xref="S5.SS2.p1.3.m3.3.4.3.3.3.1.cmml"><mo id="S5.SS2.p1.3.m3.3.4.3.3.3.2.1" stretchy="false" xref="S5.SS2.p1.3.m3.3.4.3.3.3.1.cmml">(</mo><mtext id="S5.SS2.p1.3.m3.2.2" xref="S5.SS2.p1.3.m3.2.2a.cmml">Conf</mtext><mo id="S5.SS2.p1.3.m3.3.4.3.3.3.2.2" xref="S5.SS2.p1.3.m3.3.4.3.3.3.1.cmml">,</mo><mtext id="S5.SS2.p1.3.m3.3.3" xref="S5.SS2.p1.3.m3.3.3a.cmml">Unconf</mtext><mo id="S5.SS2.p1.3.m3.3.4.3.3.3.2.3" stretchy="false" xref="S5.SS2.p1.3.m3.3.4.3.3.3.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.3.m3.3b"><apply id="S5.SS2.p1.3.m3.3.4.cmml" xref="S5.SS2.p1.3.m3.3.4"><eq id="S5.SS2.p1.3.m3.3.4.1.cmml" xref="S5.SS2.p1.3.m3.3.4.1"></eq><ci id="S5.SS2.p1.3.m3.3.4.2.cmml" xref="S5.SS2.p1.3.m3.3.4.2">ℓ</ci><apply id="S5.SS2.p1.3.m3.3.4.3.cmml" xref="S5.SS2.p1.3.m3.3.4.3"><plus id="S5.SS2.p1.3.m3.3.4.3.1.cmml" xref="S5.SS2.p1.3.m3.3.4.3.1"></plus><apply id="S5.SS2.p1.3.m3.3.4.3.2.cmml" xref="S5.SS2.p1.3.m3.3.4.3.2"><times id="S5.SS2.p1.3.m3.3.4.3.2.1.cmml" xref="S5.SS2.p1.3.m3.3.4.3.2.1"></times><apply id="S5.SS2.p1.3.m3.3.4.3.2.2.cmml" xref="S5.SS2.p1.3.m3.3.4.3.2.2"><csymbol cd="ambiguous" id="S5.SS2.p1.3.m3.3.4.3.2.2.1.cmml" xref="S5.SS2.p1.3.m3.3.4.3.2.2">subscript</csymbol><ci id="S5.SS2.p1.3.m3.3.4.3.2.2.2.cmml" xref="S5.SS2.p1.3.m3.3.4.3.2.2.2">ℓ</ci><ci id="S5.SS2.p1.3.m3.3.4.3.2.2.3a.cmml" xref="S5.SS2.p1.3.m3.3.4.3.2.2.3"><mtext id="S5.SS2.p1.3.m3.3.4.3.2.2.3.cmml" mathsize="70%" xref="S5.SS2.p1.3.m3.3.4.3.2.2.3">NTP</mtext></ci></apply><ci id="S5.SS2.p1.3.m3.1.1a.cmml" xref="S5.SS2.p1.3.m3.3.4.3.2.3.2"><mtext id="S5.SS2.p1.3.m3.1.1.cmml" xref="S5.SS2.p1.3.m3.1.1">Full</mtext></ci></apply><apply id="S5.SS2.p1.3.m3.3.4.3.3.cmml" xref="S5.SS2.p1.3.m3.3.4.3.3"><times id="S5.SS2.p1.3.m3.3.4.3.3.1.cmml" xref="S5.SS2.p1.3.m3.3.4.3.3.1"></times><apply id="S5.SS2.p1.3.m3.3.4.3.3.2.cmml" xref="S5.SS2.p1.3.m3.3.4.3.3.2"><csymbol cd="ambiguous" id="S5.SS2.p1.3.m3.3.4.3.3.2.1.cmml" xref="S5.SS2.p1.3.m3.3.4.3.3.2">subscript</csymbol><ci id="S5.SS2.p1.3.m3.3.4.3.3.2.2.cmml" xref="S5.SS2.p1.3.m3.3.4.3.3.2.2">ℓ</ci><ci id="S5.SS2.p1.3.m3.3.4.3.3.2.3a.cmml" xref="S5.SS2.p1.3.m3.3.4.3.3.2.3"><mtext id="S5.SS2.p1.3.m3.3.4.3.3.2.3.cmml" mathsize="70%" xref="S5.SS2.p1.3.m3.3.4.3.3.2.3">Mixup</mtext></ci></apply><interval closure="open" id="S5.SS2.p1.3.m3.3.4.3.3.3.1.cmml" xref="S5.SS2.p1.3.m3.3.4.3.3.3.2"><ci id="S5.SS2.p1.3.m3.2.2a.cmml" xref="S5.SS2.p1.3.m3.2.2"><mtext id="S5.SS2.p1.3.m3.2.2.cmml" xref="S5.SS2.p1.3.m3.2.2">Conf</mtext></ci><ci id="S5.SS2.p1.3.m3.3.3a.cmml" xref="S5.SS2.p1.3.m3.3.3"><mtext id="S5.SS2.p1.3.m3.3.3.cmml" xref="S5.SS2.p1.3.m3.3.3">Unconf</mtext></ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.3.m3.3c">\ell=\ell_{\text{NTP}}(\text{Full})+\ell_{\text{Mixup}}(\text{Conf},\text{%
Unconf})</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.3.m3.3d">roman_ℓ = roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( Full ) + roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf , Unconf )</annotation></semantics></math>) or only minimizing <math alttext="\ell_{\text{Mixup}}" class="ltx_Math" display="inline" id="S5.SS2.p1.4.m4.1"><semantics id="S5.SS2.p1.4.m4.1a"><msub id="S5.SS2.p1.4.m4.1.1" xref="S5.SS2.p1.4.m4.1.1.cmml"><mi id="S5.SS2.p1.4.m4.1.1.2" mathvariant="normal" xref="S5.SS2.p1.4.m4.1.1.2.cmml">ℓ</mi><mtext id="S5.SS2.p1.4.m4.1.1.3" xref="S5.SS2.p1.4.m4.1.1.3a.cmml">Mixup</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.4.m4.1b"><apply id="S5.SS2.p1.4.m4.1.1.cmml" xref="S5.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.4.m4.1.1.1.cmml" xref="S5.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="S5.SS2.p1.4.m4.1.1.2.cmml" xref="S5.SS2.p1.4.m4.1.1.2">ℓ</ci><ci id="S5.SS2.p1.4.m4.1.1.3a.cmml" xref="S5.SS2.p1.4.m4.1.1.3"><mtext id="S5.SS2.p1.4.m4.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.4.m4.1.1.3">Mixup</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.4.m4.1c">\ell_{\text{Mixup}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.4.m4.1d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT</annotation></semantics></math> without <math alttext="\ell_{\text{NTP}}" class="ltx_Math" display="inline" id="S5.SS2.p1.5.m5.1"><semantics id="S5.SS2.p1.5.m5.1a"><msub id="S5.SS2.p1.5.m5.1.1" xref="S5.SS2.p1.5.m5.1.1.cmml"><mi id="S5.SS2.p1.5.m5.1.1.2" mathvariant="normal" xref="S5.SS2.p1.5.m5.1.1.2.cmml">ℓ</mi><mtext id="S5.SS2.p1.5.m5.1.1.3" xref="S5.SS2.p1.5.m5.1.1.3a.cmml">NTP</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.5.m5.1b"><apply id="S5.SS2.p1.5.m5.1.1.cmml" xref="S5.SS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.5.m5.1.1.1.cmml" xref="S5.SS2.p1.5.m5.1.1">subscript</csymbol><ci id="S5.SS2.p1.5.m5.1.1.2.cmml" xref="S5.SS2.p1.5.m5.1.1.2">ℓ</ci><ci id="S5.SS2.p1.5.m5.1.1.3a.cmml" xref="S5.SS2.p1.5.m5.1.1.3"><mtext id="S5.SS2.p1.5.m5.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.5.m5.1.1.3">NTP</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.5.m5.1c">\ell_{\text{NTP}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.5.m5.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT</annotation></semantics></math> (i.e., <math alttext="\ell=\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})" class="ltx_Math" display="inline" id="S5.SS2.p1.6.m6.2"><semantics id="S5.SS2.p1.6.m6.2a"><mrow id="S5.SS2.p1.6.m6.2.3" xref="S5.SS2.p1.6.m6.2.3.cmml"><mi id="S5.SS2.p1.6.m6.2.3.2" mathvariant="normal" xref="S5.SS2.p1.6.m6.2.3.2.cmml">ℓ</mi><mo id="S5.SS2.p1.6.m6.2.3.1" xref="S5.SS2.p1.6.m6.2.3.1.cmml">=</mo><mrow id="S5.SS2.p1.6.m6.2.3.3" xref="S5.SS2.p1.6.m6.2.3.3.cmml"><msub id="S5.SS2.p1.6.m6.2.3.3.2" xref="S5.SS2.p1.6.m6.2.3.3.2.cmml"><mi id="S5.SS2.p1.6.m6.2.3.3.2.2" mathvariant="normal" xref="S5.SS2.p1.6.m6.2.3.3.2.2.cmml">ℓ</mi><mtext id="S5.SS2.p1.6.m6.2.3.3.2.3" xref="S5.SS2.p1.6.m6.2.3.3.2.3a.cmml">Mixup</mtext></msub><mo id="S5.SS2.p1.6.m6.2.3.3.1" xref="S5.SS2.p1.6.m6.2.3.3.1.cmml">⁢</mo><mrow id="S5.SS2.p1.6.m6.2.3.3.3.2" xref="S5.SS2.p1.6.m6.2.3.3.3.1.cmml"><mo id="S5.SS2.p1.6.m6.2.3.3.3.2.1" stretchy="false" xref="S5.SS2.p1.6.m6.2.3.3.3.1.cmml">(</mo><mtext id="S5.SS2.p1.6.m6.1.1" xref="S5.SS2.p1.6.m6.1.1a.cmml">Conf</mtext><mo id="S5.SS2.p1.6.m6.2.3.3.3.2.2" xref="S5.SS2.p1.6.m6.2.3.3.3.1.cmml">,</mo><mtext id="S5.SS2.p1.6.m6.2.2" xref="S5.SS2.p1.6.m6.2.2a.cmml">Unconf</mtext><mo id="S5.SS2.p1.6.m6.2.3.3.3.2.3" stretchy="false" xref="S5.SS2.p1.6.m6.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.6.m6.2b"><apply id="S5.SS2.p1.6.m6.2.3.cmml" xref="S5.SS2.p1.6.m6.2.3"><eq id="S5.SS2.p1.6.m6.2.3.1.cmml" xref="S5.SS2.p1.6.m6.2.3.1"></eq><ci id="S5.SS2.p1.6.m6.2.3.2.cmml" xref="S5.SS2.p1.6.m6.2.3.2">ℓ</ci><apply id="S5.SS2.p1.6.m6.2.3.3.cmml" xref="S5.SS2.p1.6.m6.2.3.3"><times id="S5.SS2.p1.6.m6.2.3.3.1.cmml" xref="S5.SS2.p1.6.m6.2.3.3.1"></times><apply id="S5.SS2.p1.6.m6.2.3.3.2.cmml" xref="S5.SS2.p1.6.m6.2.3.3.2"><csymbol cd="ambiguous" id="S5.SS2.p1.6.m6.2.3.3.2.1.cmml" xref="S5.SS2.p1.6.m6.2.3.3.2">subscript</csymbol><ci id="S5.SS2.p1.6.m6.2.3.3.2.2.cmml" xref="S5.SS2.p1.6.m6.2.3.3.2.2">ℓ</ci><ci id="S5.SS2.p1.6.m6.2.3.3.2.3a.cmml" xref="S5.SS2.p1.6.m6.2.3.3.2.3"><mtext id="S5.SS2.p1.6.m6.2.3.3.2.3.cmml" mathsize="70%" xref="S5.SS2.p1.6.m6.2.3.3.2.3">Mixup</mtext></ci></apply><interval closure="open" id="S5.SS2.p1.6.m6.2.3.3.3.1.cmml" xref="S5.SS2.p1.6.m6.2.3.3.3.2"><ci id="S5.SS2.p1.6.m6.1.1a.cmml" xref="S5.SS2.p1.6.m6.1.1"><mtext id="S5.SS2.p1.6.m6.1.1.cmml" xref="S5.SS2.p1.6.m6.1.1">Conf</mtext></ci><ci id="S5.SS2.p1.6.m6.2.2a.cmml" xref="S5.SS2.p1.6.m6.2.2"><mtext id="S5.SS2.p1.6.m6.2.2.cmml" xref="S5.SS2.p1.6.m6.2.2">Unconf</mtext></ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.6.m6.2c">\ell=\ell_{\text{Mixup}}(\text{Conf},\text{Unconf})</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.6.m6.2d">roman_ℓ = roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf , Unconf )</annotation></semantics></math>) during instruction tuning.
Table&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.T3" title="Table 3 ‣ SFTMix Adapts LLMs to Domain-Specific Tasks More Effectively. ‣ 4.2 Domain-Specific SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">3</span></a> shows that these two variants achieve higher scores on MT-Bench but perform worse on AlpacaEval-2 compared to the baseline of using the conventional NTP method.
Furthermore, our SFTMix recipe, which employs <math alttext="\ell_{\text{Mixup}}" class="ltx_Math" display="inline" id="S5.SS2.p1.7.m7.1"><semantics id="S5.SS2.p1.7.m7.1a"><msub id="S5.SS2.p1.7.m7.1.1" xref="S5.SS2.p1.7.m7.1.1.cmml"><mi id="S5.SS2.p1.7.m7.1.1.2" mathvariant="normal" xref="S5.SS2.p1.7.m7.1.1.2.cmml">ℓ</mi><mtext id="S5.SS2.p1.7.m7.1.1.3" xref="S5.SS2.p1.7.m7.1.1.3a.cmml">Mixup</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.7.m7.1b"><apply id="S5.SS2.p1.7.m7.1.1.cmml" xref="S5.SS2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.7.m7.1.1.1.cmml" xref="S5.SS2.p1.7.m7.1.1">subscript</csymbol><ci id="S5.SS2.p1.7.m7.1.1.2.cmml" xref="S5.SS2.p1.7.m7.1.1.2">ℓ</ci><ci id="S5.SS2.p1.7.m7.1.1.3a.cmml" xref="S5.SS2.p1.7.m7.1.1.3"><mtext id="S5.SS2.p1.7.m7.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.7.m7.1.1.3">Mixup</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.7.m7.1c">\ell_{\text{Mixup}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.7.m7.1d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT</annotation></semantics></math> as a regularization, still outperforms both variants across both benchmarks.
This finding highlights the importance of incorporating the traditional NTP task during SFT and supports the conclusion that Mixup is more effective when used as a regularization alongside the standard cross-entropy loss in LLM instruction tuning.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>SFTMix Effectively Utilizes Entire Instruction-Tuning Datasets</h3>
<div class="ltx_para ltx_noindent" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.10">As part of our SFTMix recipe, we apply the NTP loss <math alttext="\ell_{\text{NTP}}" class="ltx_Math" display="inline" id="S5.SS3.p1.1.m1.1"><semantics id="S5.SS3.p1.1.m1.1a"><msub id="S5.SS3.p1.1.m1.1.1" xref="S5.SS3.p1.1.m1.1.1.cmml"><mi id="S5.SS3.p1.1.m1.1.1.2" mathvariant="normal" xref="S5.SS3.p1.1.m1.1.1.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.1.m1.1.1.3" xref="S5.SS3.p1.1.m1.1.1.3a.cmml">NTP</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.1.m1.1b"><apply id="S5.SS3.p1.1.m1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.1.m1.1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="S5.SS3.p1.1.m1.1.1.2.cmml" xref="S5.SS3.p1.1.m1.1.1.2">ℓ</ci><ci id="S5.SS3.p1.1.m1.1.1.3a.cmml" xref="S5.SS3.p1.1.m1.1.1.3"><mtext id="S5.SS3.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.1.m1.1.1.3">NTP</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.1.m1.1c">\ell_{\text{NTP}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT</annotation></semantics></math> to the entire SFT dataset <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S5.SS3.p1.2.m2.1"><semantics id="S5.SS3.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.p1.2.m2.1.1" xref="S5.SS3.p1.2.m2.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.2.m2.1b"><ci id="S5.SS3.p1.2.m2.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.2.m2.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.2.m2.1d">caligraphic_D</annotation></semantics></math>.
Here, we consider variants where <math alttext="\ell_{\text{NTP}}" class="ltx_Math" display="inline" id="S5.SS3.p1.3.m3.1"><semantics id="S5.SS3.p1.3.m3.1a"><msub id="S5.SS3.p1.3.m3.1.1" xref="S5.SS3.p1.3.m3.1.1.cmml"><mi id="S5.SS3.p1.3.m3.1.1.2" mathvariant="normal" xref="S5.SS3.p1.3.m3.1.1.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.3.m3.1.1.3" xref="S5.SS3.p1.3.m3.1.1.3a.cmml">NTP</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.3.m3.1b"><apply id="S5.SS3.p1.3.m3.1.1.cmml" xref="S5.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.3.m3.1.1.1.cmml" xref="S5.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S5.SS3.p1.3.m3.1.1.2.cmml" xref="S5.SS3.p1.3.m3.1.1.2">ℓ</ci><ci id="S5.SS3.p1.3.m3.1.1.3a.cmml" xref="S5.SS3.p1.3.m3.1.1.3"><mtext id="S5.SS3.p1.3.m3.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.3.m3.1.1.3">NTP</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.3.m3.1c">\ell_{\text{NTP}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.3.m3.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT</annotation></semantics></math> is applied selectively to either the confident or relatively unconfident halves of the dataset.
Specifically, we experiment with <math alttext="\ell=\ell_{\text{NTP}}(\text{Conf})+\mu\,\ell_{\text{Mixup}}(\text{Conf},\text%
{Unconf})" class="ltx_Math" display="inline" id="S5.SS3.p1.4.m4.3"><semantics id="S5.SS3.p1.4.m4.3a"><mrow id="S5.SS3.p1.4.m4.3.4" xref="S5.SS3.p1.4.m4.3.4.cmml"><mi id="S5.SS3.p1.4.m4.3.4.2" mathvariant="normal" xref="S5.SS3.p1.4.m4.3.4.2.cmml">ℓ</mi><mo id="S5.SS3.p1.4.m4.3.4.1" xref="S5.SS3.p1.4.m4.3.4.1.cmml">=</mo><mrow id="S5.SS3.p1.4.m4.3.4.3" xref="S5.SS3.p1.4.m4.3.4.3.cmml"><mrow id="S5.SS3.p1.4.m4.3.4.3.2" xref="S5.SS3.p1.4.m4.3.4.3.2.cmml"><msub id="S5.SS3.p1.4.m4.3.4.3.2.2" xref="S5.SS3.p1.4.m4.3.4.3.2.2.cmml"><mi id="S5.SS3.p1.4.m4.3.4.3.2.2.2" mathvariant="normal" xref="S5.SS3.p1.4.m4.3.4.3.2.2.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.4.m4.3.4.3.2.2.3" xref="S5.SS3.p1.4.m4.3.4.3.2.2.3a.cmml">NTP</mtext></msub><mo id="S5.SS3.p1.4.m4.3.4.3.2.1" xref="S5.SS3.p1.4.m4.3.4.3.2.1.cmml">⁢</mo><mrow id="S5.SS3.p1.4.m4.3.4.3.2.3.2" xref="S5.SS3.p1.4.m4.1.1a.cmml"><mo id="S5.SS3.p1.4.m4.3.4.3.2.3.2.1" stretchy="false" xref="S5.SS3.p1.4.m4.1.1a.cmml">(</mo><mtext id="S5.SS3.p1.4.m4.1.1" xref="S5.SS3.p1.4.m4.1.1.cmml">Conf</mtext><mo id="S5.SS3.p1.4.m4.3.4.3.2.3.2.2" stretchy="false" xref="S5.SS3.p1.4.m4.1.1a.cmml">)</mo></mrow></mrow><mo id="S5.SS3.p1.4.m4.3.4.3.1" xref="S5.SS3.p1.4.m4.3.4.3.1.cmml">+</mo><mrow id="S5.SS3.p1.4.m4.3.4.3.3" xref="S5.SS3.p1.4.m4.3.4.3.3.cmml"><mi id="S5.SS3.p1.4.m4.3.4.3.3.2" xref="S5.SS3.p1.4.m4.3.4.3.3.2.cmml">μ</mi><mo id="S5.SS3.p1.4.m4.3.4.3.3.1" lspace="0.170em" xref="S5.SS3.p1.4.m4.3.4.3.3.1.cmml">⁢</mo><msub id="S5.SS3.p1.4.m4.3.4.3.3.3" xref="S5.SS3.p1.4.m4.3.4.3.3.3.cmml"><mi id="S5.SS3.p1.4.m4.3.4.3.3.3.2" mathvariant="normal" xref="S5.SS3.p1.4.m4.3.4.3.3.3.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.4.m4.3.4.3.3.3.3" xref="S5.SS3.p1.4.m4.3.4.3.3.3.3a.cmml">Mixup</mtext></msub><mo id="S5.SS3.p1.4.m4.3.4.3.3.1a" xref="S5.SS3.p1.4.m4.3.4.3.3.1.cmml">⁢</mo><mrow id="S5.SS3.p1.4.m4.3.4.3.3.4.2" xref="S5.SS3.p1.4.m4.3.4.3.3.4.1.cmml"><mo id="S5.SS3.p1.4.m4.3.4.3.3.4.2.1" stretchy="false" xref="S5.SS3.p1.4.m4.3.4.3.3.4.1.cmml">(</mo><mtext id="S5.SS3.p1.4.m4.2.2" xref="S5.SS3.p1.4.m4.2.2a.cmml">Conf</mtext><mo id="S5.SS3.p1.4.m4.3.4.3.3.4.2.2" xref="S5.SS3.p1.4.m4.3.4.3.3.4.1.cmml">,</mo><mtext id="S5.SS3.p1.4.m4.3.3" xref="S5.SS3.p1.4.m4.3.3a.cmml">Unconf</mtext><mo id="S5.SS3.p1.4.m4.3.4.3.3.4.2.3" stretchy="false" xref="S5.SS3.p1.4.m4.3.4.3.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.4.m4.3b"><apply id="S5.SS3.p1.4.m4.3.4.cmml" xref="S5.SS3.p1.4.m4.3.4"><eq id="S5.SS3.p1.4.m4.3.4.1.cmml" xref="S5.SS3.p1.4.m4.3.4.1"></eq><ci id="S5.SS3.p1.4.m4.3.4.2.cmml" xref="S5.SS3.p1.4.m4.3.4.2">ℓ</ci><apply id="S5.SS3.p1.4.m4.3.4.3.cmml" xref="S5.SS3.p1.4.m4.3.4.3"><plus id="S5.SS3.p1.4.m4.3.4.3.1.cmml" xref="S5.SS3.p1.4.m4.3.4.3.1"></plus><apply id="S5.SS3.p1.4.m4.3.4.3.2.cmml" xref="S5.SS3.p1.4.m4.3.4.3.2"><times id="S5.SS3.p1.4.m4.3.4.3.2.1.cmml" xref="S5.SS3.p1.4.m4.3.4.3.2.1"></times><apply id="S5.SS3.p1.4.m4.3.4.3.2.2.cmml" xref="S5.SS3.p1.4.m4.3.4.3.2.2"><csymbol cd="ambiguous" id="S5.SS3.p1.4.m4.3.4.3.2.2.1.cmml" xref="S5.SS3.p1.4.m4.3.4.3.2.2">subscript</csymbol><ci id="S5.SS3.p1.4.m4.3.4.3.2.2.2.cmml" xref="S5.SS3.p1.4.m4.3.4.3.2.2.2">ℓ</ci><ci id="S5.SS3.p1.4.m4.3.4.3.2.2.3a.cmml" xref="S5.SS3.p1.4.m4.3.4.3.2.2.3"><mtext id="S5.SS3.p1.4.m4.3.4.3.2.2.3.cmml" mathsize="70%" xref="S5.SS3.p1.4.m4.3.4.3.2.2.3">NTP</mtext></ci></apply><ci id="S5.SS3.p1.4.m4.1.1a.cmml" xref="S5.SS3.p1.4.m4.3.4.3.2.3.2"><mtext id="S5.SS3.p1.4.m4.1.1.cmml" xref="S5.SS3.p1.4.m4.1.1">Conf</mtext></ci></apply><apply id="S5.SS3.p1.4.m4.3.4.3.3.cmml" xref="S5.SS3.p1.4.m4.3.4.3.3"><times id="S5.SS3.p1.4.m4.3.4.3.3.1.cmml" xref="S5.SS3.p1.4.m4.3.4.3.3.1"></times><ci id="S5.SS3.p1.4.m4.3.4.3.3.2.cmml" xref="S5.SS3.p1.4.m4.3.4.3.3.2">𝜇</ci><apply id="S5.SS3.p1.4.m4.3.4.3.3.3.cmml" xref="S5.SS3.p1.4.m4.3.4.3.3.3"><csymbol cd="ambiguous" id="S5.SS3.p1.4.m4.3.4.3.3.3.1.cmml" xref="S5.SS3.p1.4.m4.3.4.3.3.3">subscript</csymbol><ci id="S5.SS3.p1.4.m4.3.4.3.3.3.2.cmml" xref="S5.SS3.p1.4.m4.3.4.3.3.3.2">ℓ</ci><ci id="S5.SS3.p1.4.m4.3.4.3.3.3.3a.cmml" xref="S5.SS3.p1.4.m4.3.4.3.3.3.3"><mtext id="S5.SS3.p1.4.m4.3.4.3.3.3.3.cmml" mathsize="70%" xref="S5.SS3.p1.4.m4.3.4.3.3.3.3">Mixup</mtext></ci></apply><interval closure="open" id="S5.SS3.p1.4.m4.3.4.3.3.4.1.cmml" xref="S5.SS3.p1.4.m4.3.4.3.3.4.2"><ci id="S5.SS3.p1.4.m4.2.2a.cmml" xref="S5.SS3.p1.4.m4.2.2"><mtext id="S5.SS3.p1.4.m4.2.2.cmml" xref="S5.SS3.p1.4.m4.2.2">Conf</mtext></ci><ci id="S5.SS3.p1.4.m4.3.3a.cmml" xref="S5.SS3.p1.4.m4.3.3"><mtext id="S5.SS3.p1.4.m4.3.3.cmml" xref="S5.SS3.p1.4.m4.3.3">Unconf</mtext></ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.4.m4.3c">\ell=\ell_{\text{NTP}}(\text{Conf})+\mu\,\ell_{\text{Mixup}}(\text{Conf},\text%
{Unconf})</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.4.m4.3d">roman_ℓ = roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( Conf ) + italic_μ roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf , Unconf )</annotation></semantics></math> and <math alttext="\ell=\ell_{\text{NTP}}(\text{Unconf})+\mu\,\ell_{\text{Mixup}}(\text{Conf},%
\text{Unconf})" class="ltx_Math" display="inline" id="S5.SS3.p1.5.m5.3"><semantics id="S5.SS3.p1.5.m5.3a"><mrow id="S5.SS3.p1.5.m5.3.4" xref="S5.SS3.p1.5.m5.3.4.cmml"><mi id="S5.SS3.p1.5.m5.3.4.2" mathvariant="normal" xref="S5.SS3.p1.5.m5.3.4.2.cmml">ℓ</mi><mo id="S5.SS3.p1.5.m5.3.4.1" xref="S5.SS3.p1.5.m5.3.4.1.cmml">=</mo><mrow id="S5.SS3.p1.5.m5.3.4.3" xref="S5.SS3.p1.5.m5.3.4.3.cmml"><mrow id="S5.SS3.p1.5.m5.3.4.3.2" xref="S5.SS3.p1.5.m5.3.4.3.2.cmml"><msub id="S5.SS3.p1.5.m5.3.4.3.2.2" xref="S5.SS3.p1.5.m5.3.4.3.2.2.cmml"><mi id="S5.SS3.p1.5.m5.3.4.3.2.2.2" mathvariant="normal" xref="S5.SS3.p1.5.m5.3.4.3.2.2.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.5.m5.3.4.3.2.2.3" xref="S5.SS3.p1.5.m5.3.4.3.2.2.3a.cmml">NTP</mtext></msub><mo id="S5.SS3.p1.5.m5.3.4.3.2.1" xref="S5.SS3.p1.5.m5.3.4.3.2.1.cmml">⁢</mo><mrow id="S5.SS3.p1.5.m5.3.4.3.2.3.2" xref="S5.SS3.p1.5.m5.1.1a.cmml"><mo id="S5.SS3.p1.5.m5.3.4.3.2.3.2.1" stretchy="false" xref="S5.SS3.p1.5.m5.1.1a.cmml">(</mo><mtext id="S5.SS3.p1.5.m5.1.1" xref="S5.SS3.p1.5.m5.1.1.cmml">Unconf</mtext><mo id="S5.SS3.p1.5.m5.3.4.3.2.3.2.2" stretchy="false" xref="S5.SS3.p1.5.m5.1.1a.cmml">)</mo></mrow></mrow><mo id="S5.SS3.p1.5.m5.3.4.3.1" xref="S5.SS3.p1.5.m5.3.4.3.1.cmml">+</mo><mrow id="S5.SS3.p1.5.m5.3.4.3.3" xref="S5.SS3.p1.5.m5.3.4.3.3.cmml"><mi id="S5.SS3.p1.5.m5.3.4.3.3.2" xref="S5.SS3.p1.5.m5.3.4.3.3.2.cmml">μ</mi><mo id="S5.SS3.p1.5.m5.3.4.3.3.1" lspace="0.170em" xref="S5.SS3.p1.5.m5.3.4.3.3.1.cmml">⁢</mo><msub id="S5.SS3.p1.5.m5.3.4.3.3.3" xref="S5.SS3.p1.5.m5.3.4.3.3.3.cmml"><mi id="S5.SS3.p1.5.m5.3.4.3.3.3.2" mathvariant="normal" xref="S5.SS3.p1.5.m5.3.4.3.3.3.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.5.m5.3.4.3.3.3.3" xref="S5.SS3.p1.5.m5.3.4.3.3.3.3a.cmml">Mixup</mtext></msub><mo id="S5.SS3.p1.5.m5.3.4.3.3.1a" xref="S5.SS3.p1.5.m5.3.4.3.3.1.cmml">⁢</mo><mrow id="S5.SS3.p1.5.m5.3.4.3.3.4.2" xref="S5.SS3.p1.5.m5.3.4.3.3.4.1.cmml"><mo id="S5.SS3.p1.5.m5.3.4.3.3.4.2.1" stretchy="false" xref="S5.SS3.p1.5.m5.3.4.3.3.4.1.cmml">(</mo><mtext id="S5.SS3.p1.5.m5.2.2" xref="S5.SS3.p1.5.m5.2.2a.cmml">Conf</mtext><mo id="S5.SS3.p1.5.m5.3.4.3.3.4.2.2" xref="S5.SS3.p1.5.m5.3.4.3.3.4.1.cmml">,</mo><mtext id="S5.SS3.p1.5.m5.3.3" xref="S5.SS3.p1.5.m5.3.3a.cmml">Unconf</mtext><mo id="S5.SS3.p1.5.m5.3.4.3.3.4.2.3" stretchy="false" xref="S5.SS3.p1.5.m5.3.4.3.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.5.m5.3b"><apply id="S5.SS3.p1.5.m5.3.4.cmml" xref="S5.SS3.p1.5.m5.3.4"><eq id="S5.SS3.p1.5.m5.3.4.1.cmml" xref="S5.SS3.p1.5.m5.3.4.1"></eq><ci id="S5.SS3.p1.5.m5.3.4.2.cmml" xref="S5.SS3.p1.5.m5.3.4.2">ℓ</ci><apply id="S5.SS3.p1.5.m5.3.4.3.cmml" xref="S5.SS3.p1.5.m5.3.4.3"><plus id="S5.SS3.p1.5.m5.3.4.3.1.cmml" xref="S5.SS3.p1.5.m5.3.4.3.1"></plus><apply id="S5.SS3.p1.5.m5.3.4.3.2.cmml" xref="S5.SS3.p1.5.m5.3.4.3.2"><times id="S5.SS3.p1.5.m5.3.4.3.2.1.cmml" xref="S5.SS3.p1.5.m5.3.4.3.2.1"></times><apply id="S5.SS3.p1.5.m5.3.4.3.2.2.cmml" xref="S5.SS3.p1.5.m5.3.4.3.2.2"><csymbol cd="ambiguous" id="S5.SS3.p1.5.m5.3.4.3.2.2.1.cmml" xref="S5.SS3.p1.5.m5.3.4.3.2.2">subscript</csymbol><ci id="S5.SS3.p1.5.m5.3.4.3.2.2.2.cmml" xref="S5.SS3.p1.5.m5.3.4.3.2.2.2">ℓ</ci><ci id="S5.SS3.p1.5.m5.3.4.3.2.2.3a.cmml" xref="S5.SS3.p1.5.m5.3.4.3.2.2.3"><mtext id="S5.SS3.p1.5.m5.3.4.3.2.2.3.cmml" mathsize="70%" xref="S5.SS3.p1.5.m5.3.4.3.2.2.3">NTP</mtext></ci></apply><ci id="S5.SS3.p1.5.m5.1.1a.cmml" xref="S5.SS3.p1.5.m5.3.4.3.2.3.2"><mtext id="S5.SS3.p1.5.m5.1.1.cmml" xref="S5.SS3.p1.5.m5.1.1">Unconf</mtext></ci></apply><apply id="S5.SS3.p1.5.m5.3.4.3.3.cmml" xref="S5.SS3.p1.5.m5.3.4.3.3"><times id="S5.SS3.p1.5.m5.3.4.3.3.1.cmml" xref="S5.SS3.p1.5.m5.3.4.3.3.1"></times><ci id="S5.SS3.p1.5.m5.3.4.3.3.2.cmml" xref="S5.SS3.p1.5.m5.3.4.3.3.2">𝜇</ci><apply id="S5.SS3.p1.5.m5.3.4.3.3.3.cmml" xref="S5.SS3.p1.5.m5.3.4.3.3.3"><csymbol cd="ambiguous" id="S5.SS3.p1.5.m5.3.4.3.3.3.1.cmml" xref="S5.SS3.p1.5.m5.3.4.3.3.3">subscript</csymbol><ci id="S5.SS3.p1.5.m5.3.4.3.3.3.2.cmml" xref="S5.SS3.p1.5.m5.3.4.3.3.3.2">ℓ</ci><ci id="S5.SS3.p1.5.m5.3.4.3.3.3.3a.cmml" xref="S5.SS3.p1.5.m5.3.4.3.3.3.3"><mtext id="S5.SS3.p1.5.m5.3.4.3.3.3.3.cmml" mathsize="70%" xref="S5.SS3.p1.5.m5.3.4.3.3.3.3">Mixup</mtext></ci></apply><interval closure="open" id="S5.SS3.p1.5.m5.3.4.3.3.4.1.cmml" xref="S5.SS3.p1.5.m5.3.4.3.3.4.2"><ci id="S5.SS3.p1.5.m5.2.2a.cmml" xref="S5.SS3.p1.5.m5.2.2"><mtext id="S5.SS3.p1.5.m5.2.2.cmml" xref="S5.SS3.p1.5.m5.2.2">Conf</mtext></ci><ci id="S5.SS3.p1.5.m5.3.3a.cmml" xref="S5.SS3.p1.5.m5.3.3"><mtext id="S5.SS3.p1.5.m5.3.3.cmml" xref="S5.SS3.p1.5.m5.3.3">Unconf</mtext></ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.5.m5.3c">\ell=\ell_{\text{NTP}}(\text{Unconf})+\mu\,\ell_{\text{Mixup}}(\text{Conf},%
\text{Unconf})</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.5.m5.3d">roman_ℓ = roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( Unconf ) + italic_μ roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( Conf , Unconf )</annotation></semantics></math>.
As shown in Table&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.T3" title="Table 3 ‣ SFTMix Adapts LLMs to Domain-Specific Tasks More Effectively. ‣ 4.2 Domain-Specific SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">3</span></a>, while both variants achieve the same overall score on MT-Bench, the variant applying <math alttext="\ell_{\text{NTP}}" class="ltx_Math" display="inline" id="S5.SS3.p1.6.m6.1"><semantics id="S5.SS3.p1.6.m6.1a"><msub id="S5.SS3.p1.6.m6.1.1" xref="S5.SS3.p1.6.m6.1.1.cmml"><mi id="S5.SS3.p1.6.m6.1.1.2" mathvariant="normal" xref="S5.SS3.p1.6.m6.1.1.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.6.m6.1.1.3" xref="S5.SS3.p1.6.m6.1.1.3a.cmml">NTP</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.6.m6.1b"><apply id="S5.SS3.p1.6.m6.1.1.cmml" xref="S5.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.6.m6.1.1.1.cmml" xref="S5.SS3.p1.6.m6.1.1">subscript</csymbol><ci id="S5.SS3.p1.6.m6.1.1.2.cmml" xref="S5.SS3.p1.6.m6.1.1.2">ℓ</ci><ci id="S5.SS3.p1.6.m6.1.1.3a.cmml" xref="S5.SS3.p1.6.m6.1.1.3"><mtext id="S5.SS3.p1.6.m6.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.6.m6.1.1.3">NTP</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.6.m6.1c">\ell_{\text{NTP}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.6.m6.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT</annotation></semantics></math> to the confident subset (<span class="ltx_text ltx_markedasmath" id="S5.SS3.p1.10.1">Conf</span>) performs better on AlpacaEval-2.
Notably, both variants—where <math alttext="\ell_{\text{NTP}}" class="ltx_Math" display="inline" id="S5.SS3.p1.8.m8.1"><semantics id="S5.SS3.p1.8.m8.1a"><msub id="S5.SS3.p1.8.m8.1.1" xref="S5.SS3.p1.8.m8.1.1.cmml"><mi id="S5.SS3.p1.8.m8.1.1.2" mathvariant="normal" xref="S5.SS3.p1.8.m8.1.1.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.8.m8.1.1.3" xref="S5.SS3.p1.8.m8.1.1.3a.cmml">NTP</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.8.m8.1b"><apply id="S5.SS3.p1.8.m8.1.1.cmml" xref="S5.SS3.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.8.m8.1.1.1.cmml" xref="S5.SS3.p1.8.m8.1.1">subscript</csymbol><ci id="S5.SS3.p1.8.m8.1.1.2.cmml" xref="S5.SS3.p1.8.m8.1.1.2">ℓ</ci><ci id="S5.SS3.p1.8.m8.1.1.3a.cmml" xref="S5.SS3.p1.8.m8.1.1.3"><mtext id="S5.SS3.p1.8.m8.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.8.m8.1.1.3">NTP</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.8.m8.1c">\ell_{\text{NTP}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.8.m8.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT</annotation></semantics></math> is applied to only half the dataset—outperform the baseline where <math alttext="\ell_{\text{NTP}}" class="ltx_Math" display="inline" id="S5.SS3.p1.9.m9.1"><semantics id="S5.SS3.p1.9.m9.1a"><msub id="S5.SS3.p1.9.m9.1.1" xref="S5.SS3.p1.9.m9.1.1.cmml"><mi id="S5.SS3.p1.9.m9.1.1.2" mathvariant="normal" xref="S5.SS3.p1.9.m9.1.1.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.9.m9.1.1.3" xref="S5.SS3.p1.9.m9.1.1.3a.cmml">NTP</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.9.m9.1b"><apply id="S5.SS3.p1.9.m9.1.1.cmml" xref="S5.SS3.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.9.m9.1.1.1.cmml" xref="S5.SS3.p1.9.m9.1.1">subscript</csymbol><ci id="S5.SS3.p1.9.m9.1.1.2.cmml" xref="S5.SS3.p1.9.m9.1.1.2">ℓ</ci><ci id="S5.SS3.p1.9.m9.1.1.3a.cmml" xref="S5.SS3.p1.9.m9.1.1.3"><mtext id="S5.SS3.p1.9.m9.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.9.m9.1.1.3">NTP</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.9.m9.1c">\ell_{\text{NTP}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.9.m9.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT</annotation></semantics></math> is applied to the entire dataset.
We attribute this improvement to the impact introduced by our Mixup regularization <math alttext="\ell_{\text{Mixup}}" class="ltx_Math" display="inline" id="S5.SS3.p1.10.m10.1"><semantics id="S5.SS3.p1.10.m10.1a"><msub id="S5.SS3.p1.10.m10.1.1" xref="S5.SS3.p1.10.m10.1.1.cmml"><mi id="S5.SS3.p1.10.m10.1.1.2" mathvariant="normal" xref="S5.SS3.p1.10.m10.1.1.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.10.m10.1.1.3" xref="S5.SS3.p1.10.m10.1.1.3a.cmml">Mixup</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.10.m10.1b"><apply id="S5.SS3.p1.10.m10.1.1.cmml" xref="S5.SS3.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.10.m10.1.1.1.cmml" xref="S5.SS3.p1.10.m10.1.1">subscript</csymbol><ci id="S5.SS3.p1.10.m10.1.1.2.cmml" xref="S5.SS3.p1.10.m10.1.1.2">ℓ</ci><ci id="S5.SS3.p1.10.m10.1.1.3a.cmml" xref="S5.SS3.p1.10.m10.1.1.3"><mtext id="S5.SS3.p1.10.m10.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.10.m10.1.1.3">Mixup</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.10.m10.1c">\ell_{\text{Mixup}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.10.m10.1d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT</annotation></semantics></math>.
Nevertheless, our SFTMix recipe, which leverages the full dataset for NTP, outperforms both variants, demonstrating its ability to effectively utilize a larger set of potentially lower-quality training examples during instruction tuning.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>Training Dynamics Are Crucial for Performing Mixup</h3>
<figure class="ltx_figure ltx_align_floatright" id="S5.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="242" id="S5.F4.g1" src="https://arxiv.org/html/2410.05248v1/x5.png" width="228">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Distribution of confidence in datasets of varying qualities by Llama-3.1-8B.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.9">Building on the previous ablation study, which suggests the possibility of generalizing training dynamics from a weaker LLM in our SFTMix recipe, we explore whether we can directly substitute training dynamics with known data quality.
To test this hypothesis, we replace half of the original responses in Alpaca-52K with higher-quality GPT-4-generated versions, forming Alpaca-GPT4-26K (<span class="ltx_text ltx_markedasmath" id="S5.SS4.p1.9.1">High</span>) <cite class="ltx_cite ltx_citemacro_citep">(Peng et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib43" title="">2023</a>)</cite>, while referring to the remaining original responses as Alpaca-26K (<span class="ltx_text ltx_markedasmath" id="S5.SS4.p1.9.2">Low</span>).
We then train Llama-3.1-8B using three approaches: NTP on Alpaca-GPT4-26K (<math alttext="\ell_{\text{NTP}}(\text{High})" class="ltx_Math" display="inline" id="S5.SS4.p1.3.m3.1"><semantics id="S5.SS4.p1.3.m3.1a"><mrow id="S5.SS4.p1.3.m3.1.2" xref="S5.SS4.p1.3.m3.1.2.cmml"><msub id="S5.SS4.p1.3.m3.1.2.2" xref="S5.SS4.p1.3.m3.1.2.2.cmml"><mi id="S5.SS4.p1.3.m3.1.2.2.2" mathvariant="normal" xref="S5.SS4.p1.3.m3.1.2.2.2.cmml">ℓ</mi><mtext id="S5.SS4.p1.3.m3.1.2.2.3" xref="S5.SS4.p1.3.m3.1.2.2.3a.cmml">NTP</mtext></msub><mo id="S5.SS4.p1.3.m3.1.2.1" xref="S5.SS4.p1.3.m3.1.2.1.cmml">⁢</mo><mrow id="S5.SS4.p1.3.m3.1.2.3.2" xref="S5.SS4.p1.3.m3.1.1a.cmml"><mo id="S5.SS4.p1.3.m3.1.2.3.2.1" stretchy="false" xref="S5.SS4.p1.3.m3.1.1a.cmml">(</mo><mtext id="S5.SS4.p1.3.m3.1.1" xref="S5.SS4.p1.3.m3.1.1.cmml">High</mtext><mo id="S5.SS4.p1.3.m3.1.2.3.2.2" stretchy="false" xref="S5.SS4.p1.3.m3.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.3.m3.1b"><apply id="S5.SS4.p1.3.m3.1.2.cmml" xref="S5.SS4.p1.3.m3.1.2"><times id="S5.SS4.p1.3.m3.1.2.1.cmml" xref="S5.SS4.p1.3.m3.1.2.1"></times><apply id="S5.SS4.p1.3.m3.1.2.2.cmml" xref="S5.SS4.p1.3.m3.1.2.2"><csymbol cd="ambiguous" id="S5.SS4.p1.3.m3.1.2.2.1.cmml" xref="S5.SS4.p1.3.m3.1.2.2">subscript</csymbol><ci id="S5.SS4.p1.3.m3.1.2.2.2.cmml" xref="S5.SS4.p1.3.m3.1.2.2.2">ℓ</ci><ci id="S5.SS4.p1.3.m3.1.2.2.3a.cmml" xref="S5.SS4.p1.3.m3.1.2.2.3"><mtext id="S5.SS4.p1.3.m3.1.2.2.3.cmml" mathsize="70%" xref="S5.SS4.p1.3.m3.1.2.2.3">NTP</mtext></ci></apply><ci id="S5.SS4.p1.3.m3.1.1a.cmml" xref="S5.SS4.p1.3.m3.1.2.3.2"><mtext id="S5.SS4.p1.3.m3.1.1.cmml" xref="S5.SS4.p1.3.m3.1.1">High</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.3.m3.1c">\ell_{\text{NTP}}(\text{High})</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.3.m3.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( High )</annotation></semantics></math>), NTP on its combination with Alpaca-26K (<math alttext="\ell_{\text{NTP}}(\text{High}+\text{Low})" class="ltx_Math" display="inline" id="S5.SS4.p1.4.m4.1"><semantics id="S5.SS4.p1.4.m4.1a"><mrow id="S5.SS4.p1.4.m4.1.1" xref="S5.SS4.p1.4.m4.1.1.cmml"><msub id="S5.SS4.p1.4.m4.1.1.3" xref="S5.SS4.p1.4.m4.1.1.3.cmml"><mi id="S5.SS4.p1.4.m4.1.1.3.2" mathvariant="normal" xref="S5.SS4.p1.4.m4.1.1.3.2.cmml">ℓ</mi><mtext id="S5.SS4.p1.4.m4.1.1.3.3" xref="S5.SS4.p1.4.m4.1.1.3.3a.cmml">NTP</mtext></msub><mo id="S5.SS4.p1.4.m4.1.1.2" xref="S5.SS4.p1.4.m4.1.1.2.cmml">⁢</mo><mrow id="S5.SS4.p1.4.m4.1.1.1.1" xref="S5.SS4.p1.4.m4.1.1.1.1.1.cmml"><mo id="S5.SS4.p1.4.m4.1.1.1.1.2" stretchy="false" xref="S5.SS4.p1.4.m4.1.1.1.1.1.cmml">(</mo><mrow id="S5.SS4.p1.4.m4.1.1.1.1.1" xref="S5.SS4.p1.4.m4.1.1.1.1.1.cmml"><mtext id="S5.SS4.p1.4.m4.1.1.1.1.1.2" xref="S5.SS4.p1.4.m4.1.1.1.1.1.2a.cmml">High</mtext><mo id="S5.SS4.p1.4.m4.1.1.1.1.1.1" xref="S5.SS4.p1.4.m4.1.1.1.1.1.1.cmml">+</mo><mtext id="S5.SS4.p1.4.m4.1.1.1.1.1.3" xref="S5.SS4.p1.4.m4.1.1.1.1.1.3a.cmml">Low</mtext></mrow><mo id="S5.SS4.p1.4.m4.1.1.1.1.3" stretchy="false" xref="S5.SS4.p1.4.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.4.m4.1b"><apply id="S5.SS4.p1.4.m4.1.1.cmml" xref="S5.SS4.p1.4.m4.1.1"><times id="S5.SS4.p1.4.m4.1.1.2.cmml" xref="S5.SS4.p1.4.m4.1.1.2"></times><apply id="S5.SS4.p1.4.m4.1.1.3.cmml" xref="S5.SS4.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.p1.4.m4.1.1.3.1.cmml" xref="S5.SS4.p1.4.m4.1.1.3">subscript</csymbol><ci id="S5.SS4.p1.4.m4.1.1.3.2.cmml" xref="S5.SS4.p1.4.m4.1.1.3.2">ℓ</ci><ci id="S5.SS4.p1.4.m4.1.1.3.3a.cmml" xref="S5.SS4.p1.4.m4.1.1.3.3"><mtext id="S5.SS4.p1.4.m4.1.1.3.3.cmml" mathsize="70%" xref="S5.SS4.p1.4.m4.1.1.3.3">NTP</mtext></ci></apply><apply id="S5.SS4.p1.4.m4.1.1.1.1.1.cmml" xref="S5.SS4.p1.4.m4.1.1.1.1"><plus id="S5.SS4.p1.4.m4.1.1.1.1.1.1.cmml" xref="S5.SS4.p1.4.m4.1.1.1.1.1.1"></plus><ci id="S5.SS4.p1.4.m4.1.1.1.1.1.2a.cmml" xref="S5.SS4.p1.4.m4.1.1.1.1.1.2"><mtext id="S5.SS4.p1.4.m4.1.1.1.1.1.2.cmml" xref="S5.SS4.p1.4.m4.1.1.1.1.1.2">High</mtext></ci><ci id="S5.SS4.p1.4.m4.1.1.1.1.1.3a.cmml" xref="S5.SS4.p1.4.m4.1.1.1.1.1.3"><mtext id="S5.SS4.p1.4.m4.1.1.1.1.1.3.cmml" xref="S5.SS4.p1.4.m4.1.1.1.1.1.3">Low</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.4.m4.1c">\ell_{\text{NTP}}(\text{High}+\text{Low})</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.4.m4.1d">roman_ℓ start_POSTSUBSCRIPT NTP end_POSTSUBSCRIPT ( High + Low )</annotation></semantics></math>), and, in the final approach, the addition of the Mixup-based regularizer between Alpaca-GPT4-26K and Alpaca-26K (<math alttext="\ell_{\text{Mixup}}(\text{High},\text{Low})" class="ltx_Math" display="inline" id="S5.SS4.p1.5.m5.2"><semantics id="S5.SS4.p1.5.m5.2a"><mrow id="S5.SS4.p1.5.m5.2.3" xref="S5.SS4.p1.5.m5.2.3.cmml"><msub id="S5.SS4.p1.5.m5.2.3.2" xref="S5.SS4.p1.5.m5.2.3.2.cmml"><mi id="S5.SS4.p1.5.m5.2.3.2.2" mathvariant="normal" xref="S5.SS4.p1.5.m5.2.3.2.2.cmml">ℓ</mi><mtext id="S5.SS4.p1.5.m5.2.3.2.3" xref="S5.SS4.p1.5.m5.2.3.2.3a.cmml">Mixup</mtext></msub><mo id="S5.SS4.p1.5.m5.2.3.1" xref="S5.SS4.p1.5.m5.2.3.1.cmml">⁢</mo><mrow id="S5.SS4.p1.5.m5.2.3.3.2" xref="S5.SS4.p1.5.m5.2.3.3.1.cmml"><mo id="S5.SS4.p1.5.m5.2.3.3.2.1" stretchy="false" xref="S5.SS4.p1.5.m5.2.3.3.1.cmml">(</mo><mtext id="S5.SS4.p1.5.m5.1.1" xref="S5.SS4.p1.5.m5.1.1a.cmml">High</mtext><mo id="S5.SS4.p1.5.m5.2.3.3.2.2" xref="S5.SS4.p1.5.m5.2.3.3.1.cmml">,</mo><mtext id="S5.SS4.p1.5.m5.2.2" xref="S5.SS4.p1.5.m5.2.2a.cmml">Low</mtext><mo id="S5.SS4.p1.5.m5.2.3.3.2.3" stretchy="false" xref="S5.SS4.p1.5.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.5.m5.2b"><apply id="S5.SS4.p1.5.m5.2.3.cmml" xref="S5.SS4.p1.5.m5.2.3"><times id="S5.SS4.p1.5.m5.2.3.1.cmml" xref="S5.SS4.p1.5.m5.2.3.1"></times><apply id="S5.SS4.p1.5.m5.2.3.2.cmml" xref="S5.SS4.p1.5.m5.2.3.2"><csymbol cd="ambiguous" id="S5.SS4.p1.5.m5.2.3.2.1.cmml" xref="S5.SS4.p1.5.m5.2.3.2">subscript</csymbol><ci id="S5.SS4.p1.5.m5.2.3.2.2.cmml" xref="S5.SS4.p1.5.m5.2.3.2.2">ℓ</ci><ci id="S5.SS4.p1.5.m5.2.3.2.3a.cmml" xref="S5.SS4.p1.5.m5.2.3.2.3"><mtext id="S5.SS4.p1.5.m5.2.3.2.3.cmml" mathsize="70%" xref="S5.SS4.p1.5.m5.2.3.2.3">Mixup</mtext></ci></apply><interval closure="open" id="S5.SS4.p1.5.m5.2.3.3.1.cmml" xref="S5.SS4.p1.5.m5.2.3.3.2"><ci id="S5.SS4.p1.5.m5.1.1a.cmml" xref="S5.SS4.p1.5.m5.1.1"><mtext id="S5.SS4.p1.5.m5.1.1.cmml" xref="S5.SS4.p1.5.m5.1.1">High</mtext></ci><ci id="S5.SS4.p1.5.m5.2.2a.cmml" xref="S5.SS4.p1.5.m5.2.2"><mtext id="S5.SS4.p1.5.m5.2.2.cmml" xref="S5.SS4.p1.5.m5.2.2">Low</mtext></ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.5.m5.2c">\ell_{\text{Mixup}}(\text{High},\text{Low})</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.5.m5.2d">roman_ℓ start_POSTSUBSCRIPT Mixup end_POSTSUBSCRIPT ( High , Low )</annotation></semantics></math>).
The use of higher-quality responses from GPT-4 indeed enhances instruction-tuning performance on both MT-Bench and AlpacaEval-2, as shown in Table&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4.T3" title="Table 3 ‣ SFTMix Adapts LLMs to Domain-Specific Tasks More Effectively. ‣ 4.2 Domain-Specific SFT ‣ 4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">3</span></a>.
However, simply applying Mixup between two datasets of varying quality does not necessarily improve performance further, as indicated by the drop in the overall MT-Bench score from <math alttext="5.5412" class="ltx_Math" display="inline" id="S5.SS4.p1.6.m6.1"><semantics id="S5.SS4.p1.6.m6.1a"><mn id="S5.SS4.p1.6.m6.1.1" xref="S5.SS4.p1.6.m6.1.1.cmml">5.5412</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.6.m6.1b"><cn id="S5.SS4.p1.6.m6.1.1.cmml" type="float" xref="S5.SS4.p1.6.m6.1.1">5.5412</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.6.m6.1c">5.5412</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.6.m6.1d">5.5412</annotation></semantics></math> to <math alttext="5.4500" class="ltx_Math" display="inline" id="S5.SS4.p1.7.m7.1"><semantics id="S5.SS4.p1.7.m7.1a"><mn id="S5.SS4.p1.7.m7.1.1" xref="S5.SS4.p1.7.m7.1.1.cmml">5.4500</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.7.m7.1b"><cn id="S5.SS4.p1.7.m7.1.1.cmml" type="float" xref="S5.SS4.p1.7.m7.1.1">5.4500</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.7.m7.1c">5.4500</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.7.m7.1d">5.4500</annotation></semantics></math> and the length-controlled win rate in AlpacaEval-2 from <math alttext="11.9590" class="ltx_Math" display="inline" id="S5.SS4.p1.8.m8.1"><semantics id="S5.SS4.p1.8.m8.1a"><mn id="S5.SS4.p1.8.m8.1.1" xref="S5.SS4.p1.8.m8.1.1.cmml">11.9590</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.8.m8.1b"><cn id="S5.SS4.p1.8.m8.1.1.cmml" type="float" xref="S5.SS4.p1.8.m8.1.1">11.9590</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.8.m8.1c">11.9590</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.8.m8.1d">11.9590</annotation></semantics></math> to <math alttext="11.1768" class="ltx_Math" display="inline" id="S5.SS4.p1.9.m9.1"><semantics id="S5.SS4.p1.9.m9.1a"><mn id="S5.SS4.p1.9.m9.1.1" xref="S5.SS4.p1.9.m9.1.1.cmml">11.1768</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.9.m9.1b"><cn id="S5.SS4.p1.9.m9.1.1.cmml" type="float" xref="S5.SS4.p1.9.m9.1.1">11.1768</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.9.m9.1c">11.1768</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.9.m9.1d">11.1768</annotation></semantics></math>.
To investigate this observation, we plot the LLM’s confidence distributions for both datasets in Figure&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S5.F4" title="Figure 4 ‣ 5.4 Training Dynamics Are Crucial for Performing Mixup ‣ 5 Ablation and Analysis ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">4</span></a>.
The substantial overlap in confidence distributions suggests that data quality does not necessarily correlate with training dynamics-based confidence.
This highlights the importance of training dynamics in determining the model-specific role of data points, which is crucial for effectively applying our SFTMix recipe.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>
<div class="ltx_para ltx_noindent" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this paper, we propose SFTMix, a novel recipe for LLM instruction tuning.
We observe that LLMs exhibit uneven confidence distributions across the semantic representation space.
Based on this motivation, we utilize training dynamics to identify data subsets of varying confidence levels and incorporate a Mixup-based regularization.
In this way, we aim to mitigate overfitting on the confident subset while propagating supervision signals to promote the generalization of the relatively unconfident subset.
Extensive empirical results in both instruction-following and domain-specific SFT tasks demonstrate the effectiveness of SFTMix over the conventional NTP paradigm across different LLM families and SFT data scales.
Comprehensive ablation studies further substantiate the contribution of SFTMix’s design choices, highlighting its versatility in consistently enhancing performance across different LLMs and datasets in broader NLP applications.
Due to computational constraints, we did not apply SFTMix to LLM pre-training or instruction-tune larger LLMs using this recipe.
Integrating SFTMix with parameter-efficient pre-training and fine-tuning methods <cite class="ltx_cite ltx_citemacro_citep">(Hu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib25" title="">2022</a>; Dettmers et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#bib.bib17" title="">2024</a>)</cite> is another promising direction for future work.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Achiam et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya, Florencia&nbsp;Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman, Shyamal Anadkat, et&nbsp;al.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2303.08774</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Albalak et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Alon Albalak, Yanai Elazar, Sang&nbsp;Michael Xie, Shayne Longpre, Nathan Lambert, Xinyi Wang, Niklas Muennighoff, Bairu Hou, Liangming Pan, Haewon Jeong, et&nbsp;al.

</span>
<span class="ltx_bibblock">A survey on data selection for language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">arXiv preprint arXiv:2402.16827</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bengio et&nbsp;al. (2009)</span>
<span class="ltx_bibblock">
Yoshua Bengio, Jérôme Louradour, Ronan Collobert, and Jason Weston.

</span>
<span class="ltx_bibblock">Curriculum learning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">Proceedings of the 26th annual international conference on machine learning</em>, pp.&nbsp; 41–48, 2009.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Berthelot et&nbsp;al. (2019)</span>
<span class="ltx_bibblock">
David Berthelot, Nicholas Carlini, Ian Goodfellow, Nicolas Papernot, Avital Oliver, and Colin&nbsp;A Raffel.

</span>
<span class="ltx_bibblock">Mixmatch: A holistic approach to semi-supervised learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Advances in neural information processing systems</em>, 32, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Berthelot et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
David Berthelot, Nicholas Carlini, Ekin&nbsp;D. Cubuk, Alex Kurakin, Kihyuk Sohn, Han Zhang, and Colin Raffel.

</span>
<span class="ltx_bibblock">Remixmatch: Semi-supervised learning with distribution matching and augmentation anchoring.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">International Conference on Learning Representations</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Burns et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Collin Burns, Pavel Izmailov, Jan&nbsp;Hendrik Kirchner, Bowen Baker, Leo Gao, Leopold Aschenbrenner, Yining Chen, Adrien Ecoffet, Manas Joglekar, Jan Leike, Ilya Sutskever, and Jeffrey Wu.

</span>
<span class="ltx_bibblock">Weak-to-strong generalization: Eliciting strong capabilities with weak supervision.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Forty-first International Conference on Machine Learning</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carratino et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Luigi Carratino, Moustapha Cissé, Rodolphe Jenatton, and Jean-Philippe Vert.

</span>
<span class="ltx_bibblock">On mixup regularization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">Journal of Machine Learning Research</em>, 23(325):1–31, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chapelle et&nbsp;al. (2009)</span>
<span class="ltx_bibblock">
Olivier Chapelle, Bernhard Scholkopf, and Alexander Zien.

</span>
<span class="ltx_bibblock">Semi-supervised learning (chapelle, o. et al., eds.; 2006)[book reviews].

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">IEEE Transactions on Neural Networks</em>, 20:542–542, 2009.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Jiaao Chen, Zichao Yang, and Diyi Yang.

</span>
<span class="ltx_bibblock">Mixtext: Linguistically-informed interpolation of hidden space for semi-supervised text classification.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics</em>, pp.&nbsp; 2147–2157, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Lichang Chen, Shiyang Li, Jun Yan, Hai Wang, Kalpa Gunaratna, Vikas Yadav, Zheng Tang, Vijay Srinivasan, Tianyi Zhou, Heng Huang, and Hongxia Jin.

</span>
<span class="ltx_bibblock">Alpagasus: Training a better alpaca with fewer data.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">The Twelfth International Conference on Learning Representations</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Zeming Chen, Alejandro&nbsp;Hernández Cano, Angelika Romanou, Antoine Bonnet, Kyle Matoba, Francesco Salvi, Matteo Pagliardini, Simin Fan, Andreas Köpf, Amirkeivan Mohtashami, et&nbsp;al.

</span>
<span class="ltx_bibblock">Meditron-70b: Scaling medical pretraining for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:2311.16079</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chiang et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Wei-Lin Chiang, Zhuohan Li, Zi&nbsp;Lin, Ying Sheng, Zhanghao Wu, Hao Zhang, Lianmin Zheng, Siyuan Zhuang, Yonghao Zhuang, Joseph&nbsp;E. Gonzalez, Ion Stoica, and Eric&nbsp;P. Xing.

</span>
<span class="ltx_bibblock">Vicuna: An open-source chatbot impressing gpt-4 with 90%* chatgpt quality, March 2023.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://lmsys.org/blog/2023-03-30-vicuna/" title="">https://lmsys.org/blog/2023-03-30-vicuna/</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chidambaram et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Muthu Chidambaram, Xiang Wang, Yuzheng Hu, Chenwei Wu, and Rong Ge.

</span>
<span class="ltx_bibblock">Towards understanding the data dependency of mixup-style training.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">International Conference on Learning Representations</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chimoto et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Everlyn Chimoto, Jay Gala, Orevaoghene Ahia, Julia Kreutzer, Bruce Bassett, and Sara Hooker.

</span>
<span class="ltx_bibblock">Critical learning periods: Leveraging early training dynamics for efficient data pruning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Findings of the Association for Computational Linguistics ACL 2024</em>, pp.&nbsp; 9407–9426, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Choi et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Hyeong&nbsp;Kyu Choi, Joonmyung Choi, and Hyunwoo&nbsp;J. Kim.

</span>
<span class="ltx_bibblock">Tokenmixup: Efficient attention-guided token-level data augmentation for transformers.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Advances in Neural Information Processing Systems</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Christopoulou et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Fenia Christopoulou, Gerasimos Lampouras, and Ignacio Iacobacci.

</span>
<span class="ltx_bibblock">Training dynamics for curriculum learning: A study on monolingual and cross-lingual nlu.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing</em>, pp.&nbsp; 2595–2611, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dettmers et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Tim Dettmers, Artidoro Pagnoni, Ari Holtzman, and Luke Zettlemoyer.

</span>
<span class="ltx_bibblock">Qlora: Efficient finetuning of quantized llms.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">Advances in Neural Information Processing Systems</em>, 36, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ding et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Ning Ding, Yulin Chen, Bokai Xu, Yujia Qin, Shengding Hu, Zhiyuan Liu, Maosong Sun, and Bowen Zhou.

</span>
<span class="ltx_bibblock">Enhancing chat language models by scaling high-quality instructional conversations.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pp.&nbsp; 3029–3051, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dubey et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Abhimanyu Dubey, Abhinav Jauhri, Abhinav Pandey, Abhishek Kadian, Ahmad Al-Dahle, Aiesha Letman, Akhil Mathur, Alan Schelten, Amy Yang, Angela Fan, et&nbsp;al.

</span>
<span class="ltx_bibblock">The llama 3 herd of models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:2407.21783</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dubois et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Yann Dubois, Balázs Galambosi, Percy Liang, and Tatsunori&nbsp;B Hashimoto.

</span>
<span class="ltx_bibblock">Length-controlled alpacaeval: A simple way to debias automatic evaluators.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:2404.04475</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Demi Guo, Yoon Kim, and Alexander&nbsp;M Rush.

</span>
<span class="ltx_bibblock">Sequence-level mixed sample data augmentation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP)</em>, pp.&nbsp; 5547–5552, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Han et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Tianyu Han, Lisa&nbsp;C Adams, Jens-Michalis Papaioannou, Paul Grundmann, Tom Oberhauser, Alexander Löser, Daniel Truhn, and Keno&nbsp;K Bressem.

</span>
<span class="ltx_bibblock">Medalpaca–an open-source collection of medical conversational ai models and training data.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">arXiv preprint arXiv:2304.08247</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Muyang He, Shuo Yang, Tiejun Huang, and Bo&nbsp;Zhao.

</span>
<span class="ltx_bibblock">Large-scale dataset pruning with dynamic uncertainty.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition</em>, pp.&nbsp; 7713–7722, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Dan Hendrycks, Norman Mu, Ekin&nbsp;Dogus Cubuk, Barret Zoph, Justin Gilmer, and Balaji Lakshminarayanan.

</span>
<span class="ltx_bibblock">Augmix: A simple method to improve robustness and uncertainty under data shift.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">International conference on learning representations</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Edward&nbsp;J Hu, yelong shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu&nbsp;Wang, and Weizhu Chen.

</span>
<span class="ltx_bibblock">LoRA: Low-rank adaptation of large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">International Conference on Learning Representations</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jain et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Neel Jain, Ping-yeh Chiang, Yuxin Wen, John Kirchenbauer, Hong-Min Chu, Gowthami Somepalli, Brian&nbsp;R Bartoldson, Bhavya Kailkhura, Avi Schwarzschild, Aniruddha Saha, et&nbsp;al.

</span>
<span class="ltx_bibblock">Neftune: Noisy embeddings improve instruction finetuning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">The Twelfth International Conference on Learning Representations</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Albert&nbsp;Q Jiang, Alexandre Sablayrolles, Arthur Mensch, Chris Bamford, Devendra&nbsp;Singh Chaplot, Diego de&nbsp;las Casas, Florian Bressand, Gianna Lengyel, Guillaume Lample, Lucile Saulnier, et&nbsp;al.

</span>
<span class="ltx_bibblock">Mistral 7b.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">arXiv preprint arXiv:2310.06825</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et&nbsp;al. (2021)</span>
<span class="ltx_bibblock">
Di&nbsp;Jin, Eileen Pan, Nassim Oufattole, Wei-Hung Weng, Hanyi Fang, and Peter Szolovits.

</span>
<span class="ltx_bibblock">What disease does this patient have? a large-scale open domain question answering dataset from medical exams.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">Applied Sciences</em>, 11(14):6421, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et&nbsp;al. (2019)</span>
<span class="ltx_bibblock">
Qiao Jin, Bhuwan Dhingra, Zhengping Liu, William Cohen, and Xinghua Lu.

</span>
<span class="ltx_bibblock">Pubmedqa: A dataset for biomedical research question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing (EMNLP-IJCNLP)</em>, pp.&nbsp; 2567–2577, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kung et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Po-Nien Kung, Fan Yin, Di&nbsp;Wu, Kai-Wei Chang, and Nanyun Peng.

</span>
<span class="ltx_bibblock">Active instruction tuning: Improving cross-task generalization by training on prompt sensitive tasks.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pp.&nbsp; 1813–1829, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Labrak et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Yanis Labrak, Adrien Bazoge, Emmanuel Morin, Pierre-Antoine Gourraud, Mickael Rouvier, and Richard Dufour.

</span>
<span class="ltx_bibblock">BioMistral: A collection of open-source pretrained large language models for medical domains.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Findings of the Association for Computational Linguistics ACL 2024</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Changchun Li, Ximing Li, Lei Feng, and Jihong Ouyang.

</span>
<span class="ltx_bibblock">Who is your right mixup partner in positive and unlabeled learning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">International Conference on Learning Representations</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Junnan Li, Richard Socher, and Steven&nbsp;C.H. Hoi.

</span>
<span class="ltx_bibblock">Dividemix: Learning with noisy labels as semi-supervised learning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">International Conference on Learning Representations</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Xuechen Li, Tianyi Zhang, Yann Dubois, Rohan Taori, Ishaan Gulrajani, Carlos Guestrin, Percy Liang, and Tatsunori&nbsp;B. Hashimoto.

</span>
<span class="ltx_bibblock">Alpacaeval: An automatic evaluator of instruction-following models.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/tatsu-lab/alpaca_eval" title="">https://github.com/tatsu-lab/alpaca_eval</a>, 5 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Zhenghao Lin, Zhibin Gou, Yeyun Gong, Xiao Liu, Yelong Shen, Ruochen Xu, Chen Lin, Yujiu Yang, Jian Jiao, Nan Duan, et&nbsp;al.

</span>
<span class="ltx_bibblock">Rho-1: Not all tokens are what you need.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">arXiv preprint arXiv:2404.07965</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu (2019)</span>
<span class="ltx_bibblock">
Yinhan Liu.

</span>
<span class="ltx_bibblock">Roberta: A robustly optimized bert pretraining approach.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">arXiv preprint arXiv:1907.11692</em>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Yizhen Luo, Jiahuan Zhang, Siqi Fan, Kai Yang, Yushuai Wu, Mu&nbsp;Qiao, and Zaiqing Nie.

</span>
<span class="ltx_bibblock">Biomedgpt: Open multimodal generative pre-trained transformer for biomedicine.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">arXiv preprint arXiv:2308.09442</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Minaee et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Shervin Minaee, Tomas Mikolov, Narjes Nikzad, Meysam Chenaghlu, Richard Socher, Xavier Amatriain, and Jianfeng Gao.

</span>
<span class="ltx_bibblock">Large language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">arXiv preprint arXiv:2402.06196</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Long Ouyang, Jeffrey Wu, Xu&nbsp;Jiang, Diogo Almeida, Carroll Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex Ray, et&nbsp;al.

</span>
<span class="ltx_bibblock">Training language models to follow instructions with human feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">Advances in neural information processing systems</em>, 35:27730–27744, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pal et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Ankit Pal, Logesh&nbsp;Kumar Umapathi, and Malaikannan Sankarasubbu.

</span>
<span class="ltx_bibblock">Medmcqa: A large-scale multi-subject multi-choice dataset for medical domain question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">Conference on health, inference, and learning</em>, pp.&nbsp; 248–260. PMLR, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Park et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Chanwoo Park, Sangdoo Yun, and Sanghyuk Chun.

</span>
<span class="ltx_bibblock">A unified analysis of mixed sample data augmentation: A loss function perspective.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">Advances in Neural Information Processing Systems</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Park &amp; Caragea (2022)</span>
<span class="ltx_bibblock">
Seo&nbsp;Yeon Park and Cornelia Caragea.

</span>
<span class="ltx_bibblock">A data cartography based mixup for pre-trained language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">Proceedings of the 2022 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies</em>, pp.&nbsp; 4244–4250, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Peng et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Baolin Peng, Chunyuan Li, Pengcheng He, Michel Galley, and Jianfeng Gao.

</span>
<span class="ltx_bibblock">Instruction tuning with gpt-4.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">arXiv preprint arXiv:2304.03277</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pinto et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Francesco Pinto, Harry Yang, Ser&nbsp;Nam Lim, Philip Torr, and Puneet Dokania.

</span>
<span class="ltx_bibblock">Using mixup as a regularizer can surprisingly improve accuracy &amp; out-of-distribution robustness.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">Advances in Neural Information Processing Systems</em>, 35:14608–14622, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Poesina et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Eduard Poesina, Cornelia Caragea, and Radu Ionescu.

</span>
<span class="ltx_bibblock">A novel cartography-based curriculum learning method applied on RoNLI: The first Romanian natural language inference corpus.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.&nbsp; 236–253, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schoch et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Stephanie Schoch, Ritwick Mishra, and Yangfeng Ji.

</span>
<span class="ltx_bibblock">Data selection for fine-tuning large language models using transferred shapley values.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 4: Student Research Workshop)</em>, pp.&nbsp; 266–275, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Seedat et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Nabeel Seedat, Nicolas Huynh, Boris van Breugel, and Mihaela van&nbsp;der Schaar.

</span>
<span class="ltx_bibblock">Curated LLM: Synergy of LLMs and data curation for tabular augmentation in low-data regimes.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">Forty-first International Conference on Machine Learning</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Zhengyan Shi, Adam&nbsp;X Yang, Bin Wu, Laurence Aitchison, Emine Yilmaz, and Aldo Lipani.

</span>
<span class="ltx_bibblock">Instruction tuning with loss over instructions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">arXiv preprint arXiv:2405.14394</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sohn et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Kihyuk Sohn, David Berthelot, Nicholas Carlini, Zizhao Zhang, Han Zhang, Colin&nbsp;A Raffel, Ekin&nbsp;Dogus Cubuk, Alexey Kurakin, and Chun-Liang Li.

</span>
<span class="ltx_bibblock">Fixmatch: Simplifying semi-supervised learning with consistency and confidence.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">Advances in neural information processing systems</em>, 33:596–608, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Lichao Sun, Congying Xia, Wenpeng Yin, Tingting Liang, S&nbsp;Yu Philip, and Lifang He.

</span>
<span class="ltx_bibblock">Mixup-transformer: Dynamic data augmentation for nlp tasks.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">Proceedings of the 28th International Conference on Computational Linguistics</em>, pp.&nbsp; 3436–3440, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Swayamdipta et&nbsp;al. (2020)</span>
<span class="ltx_bibblock">
Swabha Swayamdipta, Roy Schwartz, Nicholas Lourie, Yizhong Wang, Hannaneh Hajishirzi, Noah&nbsp;A Smith, and Yejin Choi.

</span>
<span class="ltx_bibblock">Dataset cartography: Mapping and diagnosing datasets with training dynamics.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP)</em>, pp.&nbsp; 9275–9293, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Taori et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Rohan Taori, Ishaan Gulrajani, Tianyi Zhang, Yann Dubois, Xuechen Li, Carlos Guestrin, Percy Liang, and Tatsunori&nbsp;B. Hashimoto.

</span>
<span class="ltx_bibblock">Stanford alpaca: An instruction-following llama model.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/tatsu-lab/stanford_alpaca" title="">https://github.com/tatsu-lab/stanford_alpaca</a>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Gemma Team, Morgane Riviere, Shreya Pathak, Pier&nbsp;Giuseppe Sessa, Cassidy Hardin, Surya Bhupatiraju, Léonard Hussenot, Thomas Mesnard, Bobak Shahriari, Alexandre Ramé, et&nbsp;al.

</span>
<span class="ltx_bibblock">Gemma 2: Improving open language models at a practical size.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">arXiv preprint arXiv:2408.00118</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tunstall et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Lewis Tunstall, Edward Beeching, Nathan Lambert, Nazneen Rajani, Kashif Rasul, Younes Belkada, Shengyi Huang, Leandro von Werra, Clémentine Fourrier, Nathan Habib, et&nbsp;al.

</span>
<span class="ltx_bibblock">Zephyr: Direct distillation of lm alignment.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib54.1.1">arXiv preprint arXiv:2310.16944</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Uddin et&nbsp;al. (2021)</span>
<span class="ltx_bibblock">
A&nbsp;F M&nbsp;Shahab Uddin, Mst.&nbsp;Sirazam Monira, Wheemyung Shin, TaeChoong Chung, and Sung-Ho Bae.

</span>
<span class="ltx_bibblock">Saliencymix: A saliency guided data augmentation strategy for better regularization.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">International Conference on Learning Representations</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Van&nbsp;der Maaten &amp; Hinton (2008)</span>
<span class="ltx_bibblock">
Laurens Van&nbsp;der Maaten and Geoffrey Hinton.

</span>
<span class="ltx_bibblock">Visualizing data using t-sne.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.1.1">Journal of machine learning research</em>, 9(11), 2008.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Verma et&nbsp;al. (2019)</span>
<span class="ltx_bibblock">
Vikas Verma, Alex Lamb, Christopher Beckham, Amir Najafi, Ioannis Mitliagkas, David Lopez-Paz, and Yoshua Bengio.

</span>
<span class="ltx_bibblock">Manifold mixup: Better representations by interpolating hidden states.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">International conference on machine learning</em>, pp.&nbsp; 6438–6447. PMLR, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Jiahao Wang, Bolin Zhang, Qianlong Du, Jiajun Zhang, and Dianhui Chu.

</span>
<span class="ltx_bibblock">A survey on data selection for llm instruction tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib58.1.1">arXiv preprint arXiv:2402.05123</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Yizhong Wang, Yeganeh Kordi, Swaroop Mishra, Alisa Liu, Noah&nbsp;A Smith, Daniel Khashabi, and Hannaneh Hajishirzi.

</span>
<span class="ltx_bibblock">Self-instruct: Aligning language models with self-generated instructions.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib59.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.&nbsp; 13484–13508, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Chaoyi Wu, Weixiong Lin, Xiaoman Zhang, Ya&nbsp;Zhang, Weidi Xie, and Yanfeng Wang.

</span>
<span class="ltx_bibblock">Pmc-llama: toward building open-source language models for medicine.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib60.1.1">Journal of the American Medical Informatics Association</em>, pp.&nbsp; ocae045, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Can Xu, Qingfeng Sun, Kai Zheng, Xiubo Geng, Pu&nbsp;Zhao, Jiazhan Feng, Chongyang Tao, Qingwei Lin, and Daxin Jiang.

</span>
<span class="ltx_bibblock">Wizardlm: Empowering large pre-trained language models to follow complex instructions.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib61.1.1">The Twelfth International Conference on Learning Representations</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib62">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Huiyun Yang, Huadong Chen, Hao Zhou, and Lei Li.

</span>
<span class="ltx_bibblock">Enhancing cross-lingual transfer by manifold mixup.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib62.1.1">International Conference on Learning Representations</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib63">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al. (2018)</span>
<span class="ltx_bibblock">
Hongyi Zhang, Moustapha Cisse, Yann&nbsp;N Dauphin, and David Lopez-Paz.

</span>
<span class="ltx_bibblock">mixup: Beyond empirical risk minimization.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib63.1.1">International Conference on Learning Representations</em>, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib64">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al. (2021)</span>
<span class="ltx_bibblock">
Linjun Zhang, Zhun Deng, Kenji Kawaguchi, Amirata Ghorbani, and James Zou.

</span>
<span class="ltx_bibblock">How does mixup help with robustness and generalization?

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib64.1.1">International Conference on Learning Representations</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib65">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang &amp; Plank (2021)</span>
<span class="ltx_bibblock">
Mike Zhang and Barbara Plank.

</span>
<span class="ltx_bibblock">Cartography active learning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib65.1.1">Findings of the Association for Computational Linguistics: EMNLP 2021</em>, pp.&nbsp; 395–406, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib66">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Shengyu Zhang, Linfeng Dong, Xiaoya Li, Sen Zhang, Xiaofei Sun, Shuhe Wang, Jiwei Li, Runyi Hu, Tianwei Zhang, Fei Wu, et&nbsp;al.

</span>
<span class="ltx_bibblock">Instruction tuning for large language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib66.1.1">arXiv preprint arXiv:2308.10792</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib67">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al. (2022)</span>
<span class="ltx_bibblock">
Shujian Zhang, Chengyue Gong, Xingchao Liu, Pengcheng He, Weizhu Chen, and Mingyuan Zhou.

</span>
<span class="ltx_bibblock">Allsh: Active learning guided by local sensitivity and hardness.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib67.1.1">Findings of the Association for Computational Linguistics: NAACL 2022</em>, pp.&nbsp; 1328–1342, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib68">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Hao Zhao, Maksym Andriushchenko, Francesco Croce, and Nicolas Flammarion.

</span>
<span class="ltx_bibblock">Long is more for alignment: A simple but tough-to-beat baseline for instruction fine-tuning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib68.1.1">Forty-first International Conference on Machine Learning</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib69">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Wayne&nbsp;Xin Zhao, Kun Zhou, Junyi Li, Tianyi Tang, Xiaolei Wang, Yupeng Hou, Yingqian Min, Beichen Zhang, Junjie Zhang, Zican Dong, et&nbsp;al.

</span>
<span class="ltx_bibblock">A survey of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib69.1.1">arXiv preprint arXiv:2303.18223</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib70">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et&nbsp;al. (2024)</span>
<span class="ltx_bibblock">
Lianmin Zheng, Wei-Lin Chiang, Ying Sheng, Siyuan Zhuang, Zhanghao Wu, Yonghao Zhuang, Zi&nbsp;Lin, Zhuohan Li, Dacheng Li, Eric Xing, et&nbsp;al.

</span>
<span class="ltx_bibblock">Judging llm-as-a-judge with mt-bench and chatbot arena.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib70.1.1">Advances in Neural Information Processing Systems</em>, 36, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib71">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et&nbsp;al. (2023)</span>
<span class="ltx_bibblock">
Chunting Zhou, Pengfei Liu, Puxin Xu, Srini Iyer, Jiao Sun, Yuning Mao, Xuezhe Ma, Avia Efrat, Ping Yu, LILI YU, Susan Zhang, Gargi Ghosh, Mike Lewis, Luke Zettlemoyer, and Omer Levy.

</span>
<span class="ltx_bibblock">LIMA: Less is more for alignment.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib71.1.1">Thirty-seventh Conference on Neural Information Processing Systems</em>, 2023.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Experiment Details</h2>
<div class="ltx_para ltx_noindent" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">In Section&nbsp;<a class="ltx_ref" href="https://arxiv.org/html/2410.05248v1#S4" title="4 Experiments ‣ SFTMix: Elevating Language Model Instruction Tuning with Mixup Recipe"><span class="ltx_text ltx_ref_tag">4</span></a>, we assess the effectiveness of SFTMix against NTP in both instruction-following and domain-specific SFT tasks.
Here, we report the detailed experiment results with standard errors.</p>
</div>
<figure class="ltx_table" id="A1.T4">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A1.T4.40" style="width:397.5pt;height:128.6pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-81.0pt,26.1pt) scale(0.710321800918945,0.710321800918945) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="A1.T4.40.40">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T4.40.40.41.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A1.T4.40.40.41.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T4.40.40.41.1.2"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.41.1.2.1">Instruction-Tuning</span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="A1.T4.40.40.41.1.3"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" colspan="3" id="A1.T4.40.40.41.1.4"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.41.1.4.1">MT-Bench</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="A1.T4.40.40.41.1.5"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.41.1.5.1">AlpacaEval-2</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T4.40.40.42.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A1.T4.40.40.42.1.1"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.42.1.1.1">Dataset</span></th>
<td class="ltx_td ltx_align_center" id="A1.T4.40.40.42.1.2"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.42.1.2.1">LLM</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T4.40.40.42.1.3"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.42.1.3.1">Recipe</span></td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A1.T4.40.40.42.1.4"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.42.1.4.1">Single-Turn</span></th>
<td class="ltx_td ltx_align_center" id="A1.T4.40.40.42.1.5"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.42.1.5.1">Multi-Turn</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T4.40.40.42.1.6"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.42.1.6.1">Overall</span></td>
<td class="ltx_td ltx_align_center" id="A1.T4.40.40.42.1.7"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.42.1.7.1">Win Rate</span></td>
<td class="ltx_td ltx_align_center" id="A1.T4.40.40.42.1.8"><span class="ltx_text ltx_font_bold" id="A1.T4.40.40.42.1.8.1">LC Win Rate</span></td>
</tr>
<tr class="ltx_tr" id="A1.T4.5.5.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A1.T4.5.5.5.6" rowspan="4"><span class="ltx_text" id="A1.T4.5.5.5.6.1">Alpaca-52K</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T4.5.5.5.7" rowspan="2"><span class="ltx_text" id="A1.T4.5.5.5.7.1">Llama-3.1-8B</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="A1.T4.5.5.5.8">NTP</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A1.T4.1.1.1.1">4.9100 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.1.1.1.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.1.1.1.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.1.1.1.1.1.1.m1.1"><semantics id="A1.T4.1.1.1.1.1.1.m1.1a"><mo id="A1.T4.1.1.1.1.1.1.m1.1.1" xref="A1.T4.1.1.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.1.1.1.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.1.1.1.1.1.1.m1.1.1.cmml" xref="A1.T4.1.1.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.1.1.1.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.1.1.1.1.1.1.m1.1d">±</annotation></semantics></math> 0.06</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T4.2.2.2.2">3.8150 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.2.2.2.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.2.2.2.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.2.2.2.2.1.1.m1.1"><semantics id="A1.T4.2.2.2.2.1.1.m1.1a"><mo id="A1.T4.2.2.2.2.1.1.m1.1.1" xref="A1.T4.2.2.2.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.2.2.2.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.2.2.2.2.1.1.m1.1.1.cmml" xref="A1.T4.2.2.2.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.2.2.2.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.2.2.2.2.1.1.m1.1d">±</annotation></semantics></math> 0.06</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="A1.T4.3.3.3.3">4.3625 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.3.3.3.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.3.3.3.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.3.3.3.3.1.1.m1.1"><semantics id="A1.T4.3.3.3.3.1.1.m1.1a"><mo id="A1.T4.3.3.3.3.1.1.m1.1.1" xref="A1.T4.3.3.3.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.3.3.3.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.3.3.3.3.1.1.m1.1.1.cmml" xref="A1.T4.3.3.3.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.3.3.3.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.3.3.3.3.1.1.m1.1d">±</annotation></semantics></math> 0.05</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T4.4.4.4.4">4.0714 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.4.4.4.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.4.4.4.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.4.4.4.4.1.1.m1.1"><semantics id="A1.T4.4.4.4.4.1.1.m1.1a"><mo id="A1.T4.4.4.4.4.1.1.m1.1.1" xref="A1.T4.4.4.4.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.4.4.4.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.4.4.4.4.1.1.m1.1.1.cmml" xref="A1.T4.4.4.4.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.4.4.4.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.4.4.4.4.1.1.m1.1d">±</annotation></semantics></math> 0.14</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T4.5.5.5.5">8.6528 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.5.5.5.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.5.5.5.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.5.5.5.5.1.1.m1.1"><semantics id="A1.T4.5.5.5.5.1.1.m1.1a"><mo id="A1.T4.5.5.5.5.1.1.m1.1.1" xref="A1.T4.5.5.5.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.5.5.5.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.5.5.5.5.1.1.m1.1.1.cmml" xref="A1.T4.5.5.5.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.5.5.5.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.5.5.5.5.1.1.m1.1d">±</annotation></semantics></math> 0.19</p>
</span></div>
</th>
</tr>
<tr class="ltx_tr" id="A1.T4.10.10.10">
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T4.10.10.10.6">SFTMix</td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A1.T4.6.6.6.1">
<span class="ltx_text ltx_font_bold" id="A1.T4.6.6.6.1.2">5.2125</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.6.6.6.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.6.6.6.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.6.6.6.1.1.1.m1.1"><semantics id="A1.T4.6.6.6.1.1.1.m1.1a"><mo id="A1.T4.6.6.6.1.1.1.m1.1.1" xref="A1.T4.6.6.6.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.6.6.6.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.6.6.6.1.1.1.m1.1.1.cmml" xref="A1.T4.6.6.6.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.6.6.6.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.6.6.6.1.1.1.m1.1d">±</annotation></semantics></math> 0.03</p>
</span></div>
</th>
<td class="ltx_td ltx_align_center" id="A1.T4.7.7.7.2">
<span class="ltx_text ltx_font_bold" id="A1.T4.7.7.7.2.2">3.9525</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.7.7.7.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.7.7.7.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.7.7.7.2.1.1.m1.1"><semantics id="A1.T4.7.7.7.2.1.1.m1.1a"><mo id="A1.T4.7.7.7.2.1.1.m1.1.1" xref="A1.T4.7.7.7.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.7.7.7.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.7.7.7.2.1.1.m1.1.1.cmml" xref="A1.T4.7.7.7.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.7.7.7.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.7.7.7.2.1.1.m1.1d">±</annotation></semantics></math> 0.07</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T4.8.8.8.3">
<span class="ltx_text ltx_font_bold" id="A1.T4.8.8.8.3.2">4.5825</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.8.8.8.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.8.8.8.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.8.8.8.3.1.1.m1.1"><semantics id="A1.T4.8.8.8.3.1.1.m1.1a"><mo id="A1.T4.8.8.8.3.1.1.m1.1.1" xref="A1.T4.8.8.8.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.8.8.8.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.8.8.8.3.1.1.m1.1.1.cmml" xref="A1.T4.8.8.8.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.8.8.8.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.8.8.8.3.1.1.m1.1d">±</annotation></semantics></math> 0.03</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T4.9.9.9.4">
<span class="ltx_text ltx_font_bold" id="A1.T4.9.9.9.4.2">4.9031</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.9.9.9.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.9.9.9.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.9.9.9.4.1.1.m1.1"><semantics id="A1.T4.9.9.9.4.1.1.m1.1a"><mo id="A1.T4.9.9.9.4.1.1.m1.1.1" xref="A1.T4.9.9.9.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.9.9.9.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.9.9.9.4.1.1.m1.1.1.cmml" xref="A1.T4.9.9.9.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.9.9.9.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.9.9.9.4.1.1.m1.1d">±</annotation></semantics></math> 0.21</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T4.10.10.10.5">
<span class="ltx_text ltx_font_bold" id="A1.T4.10.10.10.5.2">10.3195</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.10.10.10.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.10.10.10.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.10.10.10.5.1.1.m1.1"><semantics id="A1.T4.10.10.10.5.1.1.m1.1a"><mo id="A1.T4.10.10.10.5.1.1.m1.1.1" xref="A1.T4.10.10.10.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.10.10.10.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.10.10.10.5.1.1.m1.1.1.cmml" xref="A1.T4.10.10.10.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.10.10.10.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.10.10.10.5.1.1.m1.1d">±</annotation></semantics></math> 0.04</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T4.15.15.15">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.15.15.15.6" rowspan="2"><span class="ltx_text" id="A1.T4.15.15.15.6.1">Mistral-7B-v0.1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="A1.T4.15.15.15.7">NTP</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_t" id="A1.T4.11.11.11.1">5.1650 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.11.11.11.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.11.11.11.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.11.11.11.1.1.1.m1.1"><semantics id="A1.T4.11.11.11.1.1.1.m1.1a"><mo id="A1.T4.11.11.11.1.1.1.m1.1.1" xref="A1.T4.11.11.11.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.11.11.11.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.11.11.11.1.1.1.m1.1.1.cmml" xref="A1.T4.11.11.11.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.11.11.11.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.11.11.11.1.1.1.m1.1d">±</annotation></semantics></math> 0.08</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.12.12.12.2">4.0675 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.12.12.12.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.12.12.12.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.12.12.12.2.1.1.m1.1"><semantics id="A1.T4.12.12.12.2.1.1.m1.1a"><mo id="A1.T4.12.12.12.2.1.1.m1.1.1" xref="A1.T4.12.12.12.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.12.12.12.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.12.12.12.2.1.1.m1.1.1.cmml" xref="A1.T4.12.12.12.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.12.12.12.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.12.12.12.2.1.1.m1.1d">±</annotation></semantics></math> 0.13</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="A1.T4.13.13.13.3">4.6163 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.13.13.13.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.13.13.13.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.13.13.13.3.1.1.m1.1"><semantics id="A1.T4.13.13.13.3.1.1.m1.1a"><mo id="A1.T4.13.13.13.3.1.1.m1.1.1" xref="A1.T4.13.13.13.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.13.13.13.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.13.13.13.3.1.1.m1.1.1.cmml" xref="A1.T4.13.13.13.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.13.13.13.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.13.13.13.3.1.1.m1.1d">±</annotation></semantics></math> 0.05</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.14.14.14.4">4.3560 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.14.14.14.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.14.14.14.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.14.14.14.4.1.1.m1.1"><semantics id="A1.T4.14.14.14.4.1.1.m1.1a"><mo id="A1.T4.14.14.14.4.1.1.m1.1.1" xref="A1.T4.14.14.14.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.14.14.14.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.14.14.14.4.1.1.m1.1.1.cmml" xref="A1.T4.14.14.14.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.14.14.14.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.14.14.14.4.1.1.m1.1d">±</annotation></semantics></math> 0.15</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.15.15.15.5">9.1759 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.15.15.15.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.15.15.15.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.15.15.15.5.1.1.m1.1"><semantics id="A1.T4.15.15.15.5.1.1.m1.1a"><mo id="A1.T4.15.15.15.5.1.1.m1.1.1" xref="A1.T4.15.15.15.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.15.15.15.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.15.15.15.5.1.1.m1.1.1.cmml" xref="A1.T4.15.15.15.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.15.15.15.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.15.15.15.5.1.1.m1.1d">±</annotation></semantics></math> 0.17</p>
</span></div>
</th>
</tr>
<tr class="ltx_tr" id="A1.T4.20.20.20">
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T4.20.20.20.6">SFTMix</td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A1.T4.16.16.16.1">
<span class="ltx_text ltx_font_bold" id="A1.T4.16.16.16.1.2">5.2775</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.16.16.16.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.16.16.16.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.16.16.16.1.1.1.m1.1"><semantics id="A1.T4.16.16.16.1.1.1.m1.1a"><mo id="A1.T4.16.16.16.1.1.1.m1.1.1" xref="A1.T4.16.16.16.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.16.16.16.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.16.16.16.1.1.1.m1.1.1.cmml" xref="A1.T4.16.16.16.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.16.16.16.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.16.16.16.1.1.1.m1.1d">±</annotation></semantics></math> 0.03</p>
</span></div>
</th>
<td class="ltx_td ltx_align_center" id="A1.T4.17.17.17.2">
<span class="ltx_text ltx_font_bold" id="A1.T4.17.17.17.2.2">4.5425</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.17.17.17.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.17.17.17.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.17.17.17.2.1.1.m1.1"><semantics id="A1.T4.17.17.17.2.1.1.m1.1a"><mo id="A1.T4.17.17.17.2.1.1.m1.1.1" xref="A1.T4.17.17.17.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.17.17.17.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.17.17.17.2.1.1.m1.1.1.cmml" xref="A1.T4.17.17.17.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.17.17.17.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.17.17.17.2.1.1.m1.1d">±</annotation></semantics></math> 0.10</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T4.18.18.18.3">
<span class="ltx_text ltx_font_bold" id="A1.T4.18.18.18.3.2">4.9100</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.18.18.18.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.18.18.18.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.18.18.18.3.1.1.m1.1"><semantics id="A1.T4.18.18.18.3.1.1.m1.1a"><mo id="A1.T4.18.18.18.3.1.1.m1.1.1" xref="A1.T4.18.18.18.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.18.18.18.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.18.18.18.3.1.1.m1.1.1.cmml" xref="A1.T4.18.18.18.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.18.18.18.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.18.18.18.3.1.1.m1.1d">±</annotation></semantics></math> 0.05</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T4.19.19.19.4">
<span class="ltx_text ltx_font_bold" id="A1.T4.19.19.19.4.2">4.5386</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.19.19.19.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.19.19.19.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.19.19.19.4.1.1.m1.1"><semantics id="A1.T4.19.19.19.4.1.1.m1.1a"><mo id="A1.T4.19.19.19.4.1.1.m1.1.1" xref="A1.T4.19.19.19.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.19.19.19.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.19.19.19.4.1.1.m1.1.1.cmml" xref="A1.T4.19.19.19.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.19.19.19.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.19.19.19.4.1.1.m1.1d">±</annotation></semantics></math> 0.18</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T4.20.20.20.5">
<span class="ltx_text ltx_font_bold" id="A1.T4.20.20.20.5.2">9.4994</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.20.20.20.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.20.20.20.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.20.20.20.5.1.1.m1.1"><semantics id="A1.T4.20.20.20.5.1.1.m1.1a"><mo id="A1.T4.20.20.20.5.1.1.m1.1.1" xref="A1.T4.20.20.20.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.20.20.20.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.20.20.20.5.1.1.m1.1.1.cmml" xref="A1.T4.20.20.20.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.20.20.20.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.20.20.20.5.1.1.m1.1d">±</annotation></semantics></math> 0.28</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T4.25.25.25">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_bb ltx_border_t" id="A1.T4.25.25.25.6" rowspan="4"><span class="ltx_text" id="A1.T4.25.25.25.6.1">UltraChat-200K</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.25.25.25.7" rowspan="2"><span class="ltx_text" id="A1.T4.25.25.25.7.1">Llama-3.1-8B</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="A1.T4.25.25.25.8">NTP</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_t" id="A1.T4.21.21.21.1">6.1875 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.21.21.21.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.21.21.21.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.21.21.21.1.1.1.m1.1"><semantics id="A1.T4.21.21.21.1.1.1.m1.1a"><mo id="A1.T4.21.21.21.1.1.1.m1.1.1" xref="A1.T4.21.21.21.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.21.21.21.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.21.21.21.1.1.1.m1.1.1.cmml" xref="A1.T4.21.21.21.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.21.21.21.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.21.21.21.1.1.1.m1.1d">±</annotation></semantics></math> 0.04</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.22.22.22.2">5.0125 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.22.22.22.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.22.22.22.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.22.22.22.2.1.1.m1.1"><semantics id="A1.T4.22.22.22.2.1.1.m1.1a"><mo id="A1.T4.22.22.22.2.1.1.m1.1.1" xref="A1.T4.22.22.22.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.22.22.22.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.22.22.22.2.1.1.m1.1.1.cmml" xref="A1.T4.22.22.22.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.22.22.22.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.22.22.22.2.1.1.m1.1d">±</annotation></semantics></math> 0.02</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="A1.T4.23.23.23.3">5.6000 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.23.23.23.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.23.23.23.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.23.23.23.3.1.1.m1.1"><semantics id="A1.T4.23.23.23.3.1.1.m1.1a"><mo id="A1.T4.23.23.23.3.1.1.m1.1.1" xref="A1.T4.23.23.23.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.23.23.23.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.23.23.23.3.1.1.m1.1.1.cmml" xref="A1.T4.23.23.23.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.23.23.23.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.23.23.23.3.1.1.m1.1d">±</annotation></semantics></math> 0.02</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.24.24.24.4">5.0665 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.24.24.24.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.24.24.24.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.24.24.24.4.1.1.m1.1"><semantics id="A1.T4.24.24.24.4.1.1.m1.1a"><mo id="A1.T4.24.24.24.4.1.1.m1.1.1" xref="A1.T4.24.24.24.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.24.24.24.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.24.24.24.4.1.1.m1.1.1.cmml" xref="A1.T4.24.24.24.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.24.24.24.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.24.24.24.4.1.1.m1.1d">±</annotation></semantics></math> 0.12</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.25.25.25.5">8.4505 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.25.25.25.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.25.25.25.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.25.25.25.5.1.1.m1.1"><semantics id="A1.T4.25.25.25.5.1.1.m1.1a"><mo id="A1.T4.25.25.25.5.1.1.m1.1.1" xref="A1.T4.25.25.25.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.25.25.25.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.25.25.25.5.1.1.m1.1.1.cmml" xref="A1.T4.25.25.25.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.25.25.25.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.25.25.25.5.1.1.m1.1d">±</annotation></semantics></math> 0.08</p>
</span></div>
</th>
</tr>
<tr class="ltx_tr" id="A1.T4.30.30.30">
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T4.30.30.30.6">SFTMix</td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A1.T4.26.26.26.1">
<span class="ltx_text ltx_font_bold" id="A1.T4.26.26.26.1.2">6.2750</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.26.26.26.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.26.26.26.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.26.26.26.1.1.1.m1.1"><semantics id="A1.T4.26.26.26.1.1.1.m1.1a"><mo id="A1.T4.26.26.26.1.1.1.m1.1.1" xref="A1.T4.26.26.26.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.26.26.26.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.26.26.26.1.1.1.m1.1.1.cmml" xref="A1.T4.26.26.26.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.26.26.26.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.26.26.26.1.1.1.m1.1d">±</annotation></semantics></math> 0.07</p>
</span></div>
</th>
<td class="ltx_td ltx_align_center" id="A1.T4.27.27.27.2">
<span class="ltx_text ltx_font_bold" id="A1.T4.27.27.27.2.2">5.3500</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.27.27.27.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.27.27.27.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.27.27.27.2.1.1.m1.1"><semantics id="A1.T4.27.27.27.2.1.1.m1.1a"><mo id="A1.T4.27.27.27.2.1.1.m1.1.1" xref="A1.T4.27.27.27.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.27.27.27.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.27.27.27.2.1.1.m1.1.1.cmml" xref="A1.T4.27.27.27.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.27.27.27.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.27.27.27.2.1.1.m1.1d">±</annotation></semantics></math> 0.04</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T4.28.28.28.3">
<span class="ltx_text ltx_font_bold" id="A1.T4.28.28.28.3.2">5.8125</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.28.28.28.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.28.28.28.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.28.28.28.3.1.1.m1.1"><semantics id="A1.T4.28.28.28.3.1.1.m1.1a"><mo id="A1.T4.28.28.28.3.1.1.m1.1.1" xref="A1.T4.28.28.28.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.28.28.28.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.28.28.28.3.1.1.m1.1.1.cmml" xref="A1.T4.28.28.28.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.28.28.28.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.28.28.28.3.1.1.m1.1d">±</annotation></semantics></math> 0.02</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T4.29.29.29.4">
<span class="ltx_text ltx_font_bold" id="A1.T4.29.29.29.4.2">5.1149</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.29.29.29.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.29.29.29.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.29.29.29.4.1.1.m1.1"><semantics id="A1.T4.29.29.29.4.1.1.m1.1a"><mo id="A1.T4.29.29.29.4.1.1.m1.1.1" xref="A1.T4.29.29.29.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.29.29.29.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.29.29.29.4.1.1.m1.1.1.cmml" xref="A1.T4.29.29.29.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.29.29.29.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.29.29.29.4.1.1.m1.1d">±</annotation></semantics></math> 0.16</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T4.30.30.30.5">
<span class="ltx_text ltx_font_bold" id="A1.T4.30.30.30.5.2">9.3810</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.30.30.30.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.30.30.30.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.30.30.30.5.1.1.m1.1"><semantics id="A1.T4.30.30.30.5.1.1.m1.1a"><mo id="A1.T4.30.30.30.5.1.1.m1.1.1" xref="A1.T4.30.30.30.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.30.30.30.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.30.30.30.5.1.1.m1.1.1.cmml" xref="A1.T4.30.30.30.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.30.30.30.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.30.30.30.5.1.1.m1.1d">±</annotation></semantics></math> 0.25</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T4.35.35.35">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_bb ltx_border_t" id="A1.T4.35.35.35.6" rowspan="2"><span class="ltx_text" id="A1.T4.35.35.35.6.1">Mistral-7B-v0.1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="A1.T4.35.35.35.7">NTP</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_t" id="A1.T4.31.31.31.1">5.7625 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.31.31.31.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.31.31.31.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.31.31.31.1.1.1.m1.1"><semantics id="A1.T4.31.31.31.1.1.1.m1.1a"><mo id="A1.T4.31.31.31.1.1.1.m1.1.1" xref="A1.T4.31.31.31.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.31.31.31.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.31.31.31.1.1.1.m1.1.1.cmml" xref="A1.T4.31.31.31.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.31.31.31.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.31.31.31.1.1.1.m1.1d">±</annotation></semantics></math> 0.03</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.32.32.32.2">4.6938 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.32.32.32.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.32.32.32.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.32.32.32.2.1.1.m1.1"><semantics id="A1.T4.32.32.32.2.1.1.m1.1a"><mo id="A1.T4.32.32.32.2.1.1.m1.1.1" xref="A1.T4.32.32.32.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.32.32.32.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.32.32.32.2.1.1.m1.1.1.cmml" xref="A1.T4.32.32.32.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.32.32.32.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.32.32.32.2.1.1.m1.1d">±</annotation></semantics></math> 0.01</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="A1.T4.33.33.33.3">5.2281 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.33.33.33.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.33.33.33.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.33.33.33.3.1.1.m1.1"><semantics id="A1.T4.33.33.33.3.1.1.m1.1a"><mo id="A1.T4.33.33.33.3.1.1.m1.1.1" xref="A1.T4.33.33.33.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.33.33.33.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.33.33.33.3.1.1.m1.1.1.cmml" xref="A1.T4.33.33.33.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.33.33.33.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.33.33.33.3.1.1.m1.1d">±</annotation></semantics></math> 0.01</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.34.34.34.4">4.4899 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.34.34.34.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.34.34.34.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.34.34.34.4.1.1.m1.1"><semantics id="A1.T4.34.34.34.4.1.1.m1.1a"><mo id="A1.T4.34.34.34.4.1.1.m1.1.1" xref="A1.T4.34.34.34.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.34.34.34.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.34.34.34.4.1.1.m1.1.1.cmml" xref="A1.T4.34.34.34.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.34.34.34.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.34.34.34.4.1.1.m1.1d">±</annotation></semantics></math> 0.18</p>
</span></div>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T4.35.35.35.5">7.7732 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.35.35.35.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.35.35.35.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.35.35.35.5.1.1.m1.1"><semantics id="A1.T4.35.35.35.5.1.1.m1.1a"><mo id="A1.T4.35.35.35.5.1.1.m1.1.1" xref="A1.T4.35.35.35.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.35.35.35.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.35.35.35.5.1.1.m1.1.1.cmml" xref="A1.T4.35.35.35.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.35.35.35.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.35.35.35.5.1.1.m1.1d">±</annotation></semantics></math> 0.21</p>
</span></div>
</th>
</tr>
<tr class="ltx_tr" id="A1.T4.40.40.40">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A1.T4.40.40.40.6">SFTMix</td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="A1.T4.36.36.36.1">
<span class="ltx_text ltx_font_bold" id="A1.T4.36.36.36.1.2">5.9813</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.36.36.36.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.36.36.36.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.36.36.36.1.1.1.m1.1"><semantics id="A1.T4.36.36.36.1.1.1.m1.1a"><mo id="A1.T4.36.36.36.1.1.1.m1.1.1" xref="A1.T4.36.36.36.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.36.36.36.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.36.36.36.1.1.1.m1.1.1.cmml" xref="A1.T4.36.36.36.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.36.36.36.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.36.36.36.1.1.1.m1.1d">±</annotation></semantics></math> 0.08</p>
</span></div>
</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T4.37.37.37.2">
<span class="ltx_text ltx_font_bold" id="A1.T4.37.37.37.2.2">4.8813</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.37.37.37.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.37.37.37.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.37.37.37.2.1.1.m1.1"><semantics id="A1.T4.37.37.37.2.1.1.m1.1a"><mo id="A1.T4.37.37.37.2.1.1.m1.1.1" xref="A1.T4.37.37.37.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.37.37.37.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.37.37.37.2.1.1.m1.1.1.cmml" xref="A1.T4.37.37.37.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.37.37.37.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.37.37.37.2.1.1.m1.1d">±</annotation></semantics></math> 0.03</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A1.T4.38.38.38.3">
<span class="ltx_text ltx_font_bold" id="A1.T4.38.38.38.3.2">5.4313</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.38.38.38.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.38.38.38.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.38.38.38.3.1.1.m1.1"><semantics id="A1.T4.38.38.38.3.1.1.m1.1a"><mo id="A1.T4.38.38.38.3.1.1.m1.1.1" xref="A1.T4.38.38.38.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.38.38.38.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.38.38.38.3.1.1.m1.1.1.cmml" xref="A1.T4.38.38.38.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.38.38.38.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.38.38.38.3.1.1.m1.1d">±</annotation></semantics></math> 0.03</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T4.39.39.39.4">
<span class="ltx_text ltx_font_bold" id="A1.T4.39.39.39.4.2">4.6117</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.39.39.39.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.39.39.39.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.39.39.39.4.1.1.m1.1"><semantics id="A1.T4.39.39.39.4.1.1.m1.1a"><mo id="A1.T4.39.39.39.4.1.1.m1.1.1" xref="A1.T4.39.39.39.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.39.39.39.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.39.39.39.4.1.1.m1.1.1.cmml" xref="A1.T4.39.39.39.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.39.39.39.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.39.39.39.4.1.1.m1.1d">±</annotation></semantics></math> 0.04</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T4.40.40.40.5">
<span class="ltx_text ltx_font_bold" id="A1.T4.40.40.40.5.2">8.7650</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T4.40.40.40.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T4.40.40.40.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T4.40.40.40.5.1.1.m1.1"><semantics id="A1.T4.40.40.40.5.1.1.m1.1a"><mo id="A1.T4.40.40.40.5.1.1.m1.1.1" xref="A1.T4.40.40.40.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T4.40.40.40.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T4.40.40.40.5.1.1.m1.1.1.cmml" xref="A1.T4.40.40.40.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.40.40.40.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T4.40.40.40.5.1.1.m1.1d">±</annotation></semantics></math> 0.21</p>
</span></div>
</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Evaluation of instruction-following capabilities of LLMs trained with NTP or SFTMix. We report the average score and standard errors based on five rounds of evaluation, with the scores from the best-performing instruction-tuning recipe in bold. SFTMix outperforms NTP on both MT-Bench and AlpacaEval-2, irrespective of LLM families and SFT data sizes.</figcaption>
</figure>
<figure class="ltx_table" id="A1.T5">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A1.T5.55" style="width:397.5pt;height:186.2pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-33.0pt,15.4pt) scale(0.857674035759498,0.857674035759498) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="A1.T5.55.55">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T5.55.55.56.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="A1.T5.55.55.56.1.1"><span class="ltx_text ltx_font_bold" id="A1.T5.55.55.56.1.1.1">LLM</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.55.55.56.1.2"><span class="ltx_text ltx_font_bold" id="A1.T5.55.55.56.1.2.1">MedQA</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.55.55.56.1.3"><span class="ltx_text ltx_font_bold" id="A1.T5.55.55.56.1.3.1">MedQA-5</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.55.55.56.1.4"><span class="ltx_text ltx_font_bold" id="A1.T5.55.55.56.1.4.1">PubMedQA</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A1.T5.55.55.56.1.5"><span class="ltx_text ltx_font_bold" id="A1.T5.55.55.56.1.5.1">MedMCQA</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.55.55.56.1.6"><span class="ltx_text ltx_font_bold" id="A1.T5.55.55.56.1.6.1">Macro Ave</span></td>
</tr>
<tr class="ltx_tr" id="A1.T5.5.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="A1.T5.5.5.5.6">MedAlpaca-7B</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.1.1.1.1">38.94 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.1.1.1.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.1.1.1.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.1.1.1.1.1.1.m1.1"><semantics id="A1.T5.1.1.1.1.1.1.m1.1a"><mo id="A1.T5.1.1.1.1.1.1.m1.1.1" xref="A1.T5.1.1.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.1.1.1.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.1.1.1.1.1.1.m1.1.1.cmml" xref="A1.T5.1.1.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.1.1.1.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.1.1.1.1.1.1.m1.1d">±</annotation></semantics></math> 0.37</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.2.2.2.2">33.96 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.2.2.2.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.2.2.2.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.2.2.2.2.1.1.m1.1"><semantics id="A1.T5.2.2.2.2.1.1.m1.1a"><mo id="A1.T5.2.2.2.2.1.1.m1.1.1" xref="A1.T5.2.2.2.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.2.2.2.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.2.2.2.2.1.1.m1.1.1.cmml" xref="A1.T5.2.2.2.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.2.2.2.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.2.2.2.2.1.1.m1.1d">±</annotation></semantics></math> 0.26</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.3.3.3.3">57.20 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.3.3.3.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.3.3.3.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.3.3.3.3.1.1.m1.1"><semantics id="A1.T5.3.3.3.3.1.1.m1.1a"><mo id="A1.T5.3.3.3.3.1.1.m1.1.1" xref="A1.T5.3.3.3.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.3.3.3.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.3.3.3.3.1.1.m1.1.1.cmml" xref="A1.T5.3.3.3.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.3.3.3.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.3.3.3.3.1.1.m1.1d">±</annotation></semantics></math> 0.71</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A1.T5.4.4.4.4">34.90 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.4.4.4.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.4.4.4.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.4.4.4.4.1.1.m1.1"><semantics id="A1.T5.4.4.4.4.1.1.m1.1a"><mo id="A1.T5.4.4.4.4.1.1.m1.1.1" xref="A1.T5.4.4.4.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.4.4.4.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.4.4.4.4.1.1.m1.1.1.cmml" xref="A1.T5.4.4.4.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.4.4.4.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.4.4.4.4.1.1.m1.1d">±</annotation></semantics></math> 0.39</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.5.5.5.5">41.25 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.5.5.5.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.5.5.5.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.5.5.5.5.1.1.m1.1"><semantics id="A1.T5.5.5.5.5.1.1.m1.1a"><mo id="A1.T5.5.5.5.5.1.1.m1.1.1" xref="A1.T5.5.5.5.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.5.5.5.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.5.5.5.5.1.1.m1.1.1.cmml" xref="A1.T5.5.5.5.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.5.5.5.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.5.5.5.5.1.1.m1.1d">±</annotation></semantics></math> 0.40</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.10.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T5.10.10.10.6">PMC-LLaMA-7B</th>
<td class="ltx_td ltx_align_center" id="A1.T5.6.6.6.1">27.94 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.6.6.6.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.6.6.6.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.6.6.6.1.1.1.m1.1"><semantics id="A1.T5.6.6.6.1.1.1.m1.1a"><mo id="A1.T5.6.6.6.1.1.1.m1.1.1" xref="A1.T5.6.6.6.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.6.6.6.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.6.6.6.1.1.1.m1.1.1.cmml" xref="A1.T5.6.6.6.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.6.6.6.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.6.6.6.1.1.1.m1.1d">±</annotation></semantics></math> 0.65</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.7.7.2">21.24 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.7.7.7.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.7.7.7.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.7.7.7.2.1.1.m1.1"><semantics id="A1.T5.7.7.7.2.1.1.m1.1a"><mo id="A1.T5.7.7.7.2.1.1.m1.1.1" xref="A1.T5.7.7.7.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.7.7.7.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.7.7.7.2.1.1.m1.1.1.cmml" xref="A1.T5.7.7.7.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.7.7.7.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.7.7.7.2.1.1.m1.1d">±</annotation></semantics></math> 0.56</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.8.8.8.3">54.87 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.8.8.8.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.8.8.8.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.8.8.8.3.1.1.m1.1"><semantics id="A1.T5.8.8.8.3.1.1.m1.1a"><mo id="A1.T5.8.8.8.3.1.1.m1.1.1" xref="A1.T5.8.8.8.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.8.8.8.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.8.8.8.3.1.1.m1.1.1.cmml" xref="A1.T5.8.8.8.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.8.8.8.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.8.8.8.3.1.1.m1.1d">±</annotation></semantics></math> 0.62</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T5.9.9.9.4">24.57 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.9.9.9.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.9.9.9.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.9.9.9.4.1.1.m1.1"><semantics id="A1.T5.9.9.9.4.1.1.m1.1a"><mo id="A1.T5.9.9.9.4.1.1.m1.1.1" xref="A1.T5.9.9.9.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.9.9.9.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.9.9.9.4.1.1.m1.1.1.cmml" xref="A1.T5.9.9.9.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.9.9.9.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.9.9.9.4.1.1.m1.1d">±</annotation></semantics></math> 0.27</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.10.10.10.5">32.16 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.10.10.10.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.10.10.10.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.10.10.10.5.1.1.m1.1"><semantics id="A1.T5.10.10.10.5.1.1.m1.1a"><mo id="A1.T5.10.10.10.5.1.1.m1.1.1" xref="A1.T5.10.10.10.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.10.10.10.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.10.10.10.5.1.1.m1.1.1.cmml" xref="A1.T5.10.10.10.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.10.10.10.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.10.10.10.5.1.1.m1.1d">±</annotation></semantics></math> 0.40</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.15.15.15">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T5.15.15.15.6">BioMedGPT-LM-7B</th>
<td class="ltx_td ltx_align_center" id="A1.T5.11.11.11.1">38.62 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.11.11.11.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.11.11.11.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.11.11.11.1.1.1.m1.1"><semantics id="A1.T5.11.11.11.1.1.1.m1.1a"><mo id="A1.T5.11.11.11.1.1.1.m1.1.1" xref="A1.T5.11.11.11.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.11.11.11.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.11.11.11.1.1.1.m1.1.1.cmml" xref="A1.T5.11.11.11.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.11.11.11.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.11.11.11.1.1.1.m1.1d">±</annotation></semantics></math> 1.51</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.12.12.12.2">34.72 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.12.12.12.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.12.12.12.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.12.12.12.2.1.1.m1.1"><semantics id="A1.T5.12.12.12.2.1.1.m1.1a"><mo id="A1.T5.12.12.12.2.1.1.m1.1.1" xref="A1.T5.12.12.12.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.12.12.12.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.12.12.12.2.1.1.m1.1.1.cmml" xref="A1.T5.12.12.12.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.12.12.12.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.12.12.12.2.1.1.m1.1d">±</annotation></semantics></math> 0.46</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.13.13.13.3">58.27 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.13.13.13.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.13.13.13.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.13.13.13.3.1.1.m1.1"><semantics id="A1.T5.13.13.13.3.1.1.m1.1a"><mo id="A1.T5.13.13.13.3.1.1.m1.1.1" xref="A1.T5.13.13.13.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.13.13.13.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.13.13.13.3.1.1.m1.1.1.cmml" xref="A1.T5.13.13.13.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.13.13.13.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.13.13.13.3.1.1.m1.1d">±</annotation></semantics></math> 0.25</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T5.14.14.14.4">35.57 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.14.14.14.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.14.14.14.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.14.14.14.4.1.1.m1.1"><semantics id="A1.T5.14.14.14.4.1.1.m1.1a"><mo id="A1.T5.14.14.14.4.1.1.m1.1.1" xref="A1.T5.14.14.14.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.14.14.14.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.14.14.14.4.1.1.m1.1.1.cmml" xref="A1.T5.14.14.14.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.14.14.14.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.14.14.14.4.1.1.m1.1d">±</annotation></semantics></math> 0.52</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.15.15.15.5">41.80 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.15.15.15.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.15.15.15.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.15.15.15.5.1.1.m1.1"><semantics id="A1.T5.15.15.15.5.1.1.m1.1a"><mo id="A1.T5.15.15.15.5.1.1.m1.1.1" xref="A1.T5.15.15.15.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.15.15.15.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.15.15.15.5.1.1.m1.1.1.cmml" xref="A1.T5.15.15.15.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.15.15.15.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.15.15.15.5.1.1.m1.1d">±</annotation></semantics></math> 0.52</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.20.20.20">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T5.20.20.20.6">Meditron-7B</th>
<td class="ltx_td ltx_align_center" id="A1.T5.16.16.16.1">35.09 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.16.16.16.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.16.16.16.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.16.16.16.1.1.1.m1.1"><semantics id="A1.T5.16.16.16.1.1.1.m1.1a"><mo id="A1.T5.16.16.16.1.1.1.m1.1.1" xref="A1.T5.16.16.16.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.16.16.16.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.16.16.16.1.1.1.m1.1.1.cmml" xref="A1.T5.16.16.16.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.16.16.16.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.16.16.16.1.1.1.m1.1d">±</annotation></semantics></math> 0.64</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.17.17.17.2">26.73 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.17.17.17.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.17.17.17.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.17.17.17.2.1.1.m1.1"><semantics id="A1.T5.17.17.17.2.1.1.m1.1a"><mo id="A1.T5.17.17.17.2.1.1.m1.1.1" xref="A1.T5.17.17.17.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.17.17.17.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.17.17.17.2.1.1.m1.1.1.cmml" xref="A1.T5.17.17.17.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.17.17.17.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.17.17.17.2.1.1.m1.1d">±</annotation></semantics></math> 0.19</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.18.18.18.3">56.93 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.18.18.18.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.18.18.18.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.18.18.18.3.1.1.m1.1"><semantics id="A1.T5.18.18.18.3.1.1.m1.1a"><mo id="A1.T5.18.18.18.3.1.1.m1.1.1" xref="A1.T5.18.18.18.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.18.18.18.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.18.18.18.3.1.1.m1.1.1.cmml" xref="A1.T5.18.18.18.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.18.18.18.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.18.18.18.3.1.1.m1.1d">±</annotation></semantics></math> 1.27</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T5.19.19.19.4">34.03 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.19.19.19.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.19.19.19.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.19.19.19.4.1.1.m1.1"><semantics id="A1.T5.19.19.19.4.1.1.m1.1a"><mo id="A1.T5.19.19.19.4.1.1.m1.1.1" xref="A1.T5.19.19.19.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.19.19.19.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.19.19.19.4.1.1.m1.1.1.cmml" xref="A1.T5.19.19.19.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.19.19.19.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.19.19.19.4.1.1.m1.1d">±</annotation></semantics></math> 0.36</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.20.20.20.5">38.20 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.20.20.20.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.20.20.20.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.20.20.20.5.1.1.m1.1"><semantics id="A1.T5.20.20.20.5.1.1.m1.1a"><mo id="A1.T5.20.20.20.5.1.1.m1.1.1" xref="A1.T5.20.20.20.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.20.20.20.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.20.20.20.5.1.1.m1.1.1.cmml" xref="A1.T5.20.20.20.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.20.20.20.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.20.20.20.5.1.1.m1.1d">±</annotation></semantics></math> 0.39</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.25.25.25">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T5.25.25.25.6">BioMistral-7B</th>
<td class="ltx_td ltx_align_center" id="A1.T5.21.21.21.1">43.86 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.21.21.21.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.21.21.21.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.21.21.21.1.1.1.m1.1"><semantics id="A1.T5.21.21.21.1.1.1.m1.1a"><mo id="A1.T5.21.21.21.1.1.1.m1.1.1" xref="A1.T5.21.21.21.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.21.21.21.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.21.21.21.1.1.1.m1.1.1.cmml" xref="A1.T5.21.21.21.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.21.21.21.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.21.21.21.1.1.1.m1.1d">±</annotation></semantics></math> 0.33</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.22.22.22.2">37.58 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.22.22.22.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.22.22.22.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.22.22.22.2.1.1.m1.1"><semantics id="A1.T5.22.22.22.2.1.1.m1.1a"><mo id="A1.T5.22.22.22.2.1.1.m1.1.1" xref="A1.T5.22.22.22.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.22.22.22.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.22.22.22.2.1.1.m1.1.1.cmml" xref="A1.T5.22.22.22.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.22.22.22.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.22.22.22.2.1.1.m1.1d">±</annotation></semantics></math> 0.62</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.23.23.23.3">50.13 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.23.23.23.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.23.23.23.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.23.23.23.3.1.1.m1.1"><semantics id="A1.T5.23.23.23.3.1.1.m1.1a"><mo id="A1.T5.23.23.23.3.1.1.m1.1.1" xref="A1.T5.23.23.23.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.23.23.23.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.23.23.23.3.1.1.m1.1.1.cmml" xref="A1.T5.23.23.23.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.23.23.23.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.23.23.23.3.1.1.m1.1d">±</annotation></semantics></math> 0.66</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T5.24.24.24.4">44.14 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.24.24.24.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.24.24.24.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.24.24.24.4.1.1.m1.1"><semantics id="A1.T5.24.24.24.4.1.1.m1.1a"><mo id="A1.T5.24.24.24.4.1.1.m1.1.1" xref="A1.T5.24.24.24.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.24.24.24.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.24.24.24.4.1.1.m1.1.1.cmml" xref="A1.T5.24.24.24.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.24.24.24.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.24.24.24.4.1.1.m1.1d">±</annotation></semantics></math> 0.33</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.25.25.25.5">43.93 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.25.25.25.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.25.25.25.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.25.25.25.5.1.1.m1.1"><semantics id="A1.T5.25.25.25.5.1.1.m1.1a"><mo id="A1.T5.25.25.25.5.1.1.m1.1.1" xref="A1.T5.25.25.25.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.25.25.25.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.25.25.25.5.1.1.m1.1.1.cmml" xref="A1.T5.25.25.25.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.25.25.25.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.25.25.25.5.1.1.m1.1d">±</annotation></semantics></math> 0.27</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.30.30.30">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A1.T5.30.30.30.6">Llama-3.1-8B</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.26.26.26.1">59.68 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.26.26.26.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.26.26.26.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.26.26.26.1.1.1.m1.1"><semantics id="A1.T5.26.26.26.1.1.1.m1.1a"><mo id="A1.T5.26.26.26.1.1.1.m1.1.1" xref="A1.T5.26.26.26.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.26.26.26.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.26.26.26.1.1.1.m1.1.1.cmml" xref="A1.T5.26.26.26.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.26.26.26.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.26.26.26.1.1.1.m1.1d">±</annotation></semantics></math> 0.33</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.27.27.27.2">53.23 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.27.27.27.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.27.27.27.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.27.27.27.2.1.1.m1.1"><semantics id="A1.T5.27.27.27.2.1.1.m1.1a"><mo id="A1.T5.27.27.27.2.1.1.m1.1.1" xref="A1.T5.27.27.27.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.27.27.27.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.27.27.27.2.1.1.m1.1.1.cmml" xref="A1.T5.27.27.27.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.27.27.27.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.27.27.27.2.1.1.m1.1d">±</annotation></semantics></math> 0.21</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.28.28.28.3">73.40 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.28.28.28.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.28.28.28.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.28.28.28.3.1.1.m1.1"><semantics id="A1.T5.28.28.28.3.1.1.m1.1a"><mo id="A1.T5.28.28.28.3.1.1.m1.1.1" xref="A1.T5.28.28.28.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.28.28.28.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.28.28.28.3.1.1.m1.1.1.cmml" xref="A1.T5.28.28.28.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.28.28.28.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.28.28.28.3.1.1.m1.1d">±</annotation></semantics></math> 0.86</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A1.T5.29.29.29.4">52.79 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.29.29.29.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.29.29.29.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.29.29.29.4.1.1.m1.1"><semantics id="A1.T5.29.29.29.4.1.1.m1.1a"><mo id="A1.T5.29.29.29.4.1.1.m1.1.1" xref="A1.T5.29.29.29.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.29.29.29.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.29.29.29.4.1.1.m1.1.1.cmml" xref="A1.T5.29.29.29.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.29.29.29.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.29.29.29.4.1.1.m1.1d">±</annotation></semantics></math> 0.01</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.30.30.30.5">59.78 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.30.30.30.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.30.30.30.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.30.30.30.5.1.1.m1.1"><semantics id="A1.T5.30.30.30.5.1.1.m1.1a"><mo id="A1.T5.30.30.30.5.1.1.m1.1.1" xref="A1.T5.30.30.30.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.30.30.30.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.30.30.30.5.1.1.m1.1.1.cmml" xref="A1.T5.30.30.30.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.30.30.30.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.30.30.30.5.1.1.m1.1d">±</annotation></semantics></math> 0.51</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.35.35.35">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T5.35.35.35.6">+ <span class="ltx_text ltx_framed ltx_framed_underline" id="A1.T5.35.35.35.6.1">NTP</span> on MedAlpaca-263K</th>
<td class="ltx_td ltx_align_center" id="A1.T5.31.31.31.1">59.31 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.31.31.31.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.31.31.31.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.31.31.31.1.1.1.m1.1"><semantics id="A1.T5.31.31.31.1.1.1.m1.1a"><mo id="A1.T5.31.31.31.1.1.1.m1.1.1" xref="A1.T5.31.31.31.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.31.31.31.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.31.31.31.1.1.1.m1.1.1.cmml" xref="A1.T5.31.31.31.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.31.31.31.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.31.31.31.1.1.1.m1.1d">±</annotation></semantics></math> 0.56</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.32.32.32.2">54.52 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.32.32.32.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.32.32.32.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.32.32.32.2.1.1.m1.1"><semantics id="A1.T5.32.32.32.2.1.1.m1.1a"><mo id="A1.T5.32.32.32.2.1.1.m1.1.1" xref="A1.T5.32.32.32.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.32.32.32.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.32.32.32.2.1.1.m1.1.1.cmml" xref="A1.T5.32.32.32.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.32.32.32.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.32.32.32.2.1.1.m1.1d">±</annotation></semantics></math> 0.21</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.33.33.33.3">75.40 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.33.33.33.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.33.33.33.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.33.33.33.3.1.1.m1.1"><semantics id="A1.T5.33.33.33.3.1.1.m1.1a"><mo id="A1.T5.33.33.33.3.1.1.m1.1.1" xref="A1.T5.33.33.33.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.33.33.33.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.33.33.33.3.1.1.m1.1.1.cmml" xref="A1.T5.33.33.33.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.33.33.33.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.33.33.33.3.1.1.m1.1d">±</annotation></semantics></math> 0.57</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T5.34.34.34.4">53.65 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.34.34.34.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.34.34.34.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.34.34.34.4.1.1.m1.1"><semantics id="A1.T5.34.34.34.4.1.1.m1.1a"><mo id="A1.T5.34.34.34.4.1.1.m1.1.1" xref="A1.T5.34.34.34.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.34.34.34.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.34.34.34.4.1.1.m1.1.1.cmml" xref="A1.T5.34.34.34.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.34.34.34.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.34.34.34.4.1.1.m1.1d">±</annotation></semantics></math> 0.18</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.35.35.35.5">60.72 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.35.35.35.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.35.35.35.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.35.35.35.5.1.1.m1.1"><semantics id="A1.T5.35.35.35.5.1.1.m1.1a"><mo id="A1.T5.35.35.35.5.1.1.m1.1.1" xref="A1.T5.35.35.35.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.35.35.35.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.35.35.35.5.1.1.m1.1.1.cmml" xref="A1.T5.35.35.35.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.35.35.35.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.35.35.35.5.1.1.m1.1d">±</annotation></semantics></math> 0.08</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.40.40.40">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T5.40.40.40.6">or <span class="ltx_text ltx_framed ltx_framed_underline" id="A1.T5.40.40.40.6.1">SFTMix</span> on MedAlpaca-263K</th>
<td class="ltx_td ltx_align_center" id="A1.T5.36.36.36.1">
<span class="ltx_text ltx_font_bold" id="A1.T5.36.36.36.1.2">60.88</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.36.36.36.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.36.36.36.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.36.36.36.1.1.1.m1.1"><semantics id="A1.T5.36.36.36.1.1.1.m1.1a"><mo id="A1.T5.36.36.36.1.1.1.m1.1.1" xref="A1.T5.36.36.36.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.36.36.36.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.36.36.36.1.1.1.m1.1.1.cmml" xref="A1.T5.36.36.36.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.36.36.36.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.36.36.36.1.1.1.m1.1d">±</annotation></semantics></math> 0.29</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.37.37.37.2">
<span class="ltx_text ltx_font_bold" id="A1.T5.37.37.37.2.2">55.38</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.37.37.37.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.37.37.37.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.37.37.37.2.1.1.m1.1"><semantics id="A1.T5.37.37.37.2.1.1.m1.1a"><mo id="A1.T5.37.37.37.2.1.1.m1.1.1" xref="A1.T5.37.37.37.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.37.37.37.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.37.37.37.2.1.1.m1.1.1.cmml" xref="A1.T5.37.37.37.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.37.37.37.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.37.37.37.2.1.1.m1.1d">±</annotation></semantics></math> 0.13</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.38.38.38.3">
<span class="ltx_text ltx_font_bold" id="A1.T5.38.38.38.3.2">77.80</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.38.38.38.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.38.38.38.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.38.38.38.3.1.1.m1.1"><semantics id="A1.T5.38.38.38.3.1.1.m1.1a"><mo id="A1.T5.38.38.38.3.1.1.m1.1.1" xref="A1.T5.38.38.38.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.38.38.38.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.38.38.38.3.1.1.m1.1.1.cmml" xref="A1.T5.38.38.38.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.38.38.38.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.38.38.38.3.1.1.m1.1d">±</annotation></semantics></math> 0.16</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T5.39.39.39.4">
<span class="ltx_text ltx_font_bold" id="A1.T5.39.39.39.4.2">54.15</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.39.39.39.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.39.39.39.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.39.39.39.4.1.1.m1.1"><semantics id="A1.T5.39.39.39.4.1.1.m1.1a"><mo id="A1.T5.39.39.39.4.1.1.m1.1.1" xref="A1.T5.39.39.39.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.39.39.39.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.39.39.39.4.1.1.m1.1.1.cmml" xref="A1.T5.39.39.39.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.39.39.39.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.39.39.39.4.1.1.m1.1d">±</annotation></semantics></math> 0.11</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.40.40.40.5">
<span class="ltx_text ltx_font_bold" id="A1.T5.40.40.40.5.2">62.05</span>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.40.40.40.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.40.40.40.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.40.40.40.5.1.1.m1.1"><semantics id="A1.T5.40.40.40.5.1.1.m1.1a"><mo id="A1.T5.40.40.40.5.1.1.m1.1.1" xref="A1.T5.40.40.40.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.40.40.40.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.40.40.40.5.1.1.m1.1.1.cmml" xref="A1.T5.40.40.40.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.40.40.40.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.40.40.40.5.1.1.m1.1d">±</annotation></semantics></math> 0.24</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.45.45.45">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A1.T5.45.45.45.6">Mistral-7B-v0.1</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.41.41.41.1">49.18 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.41.41.41.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.41.41.41.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.41.41.41.1.1.1.m1.1"><semantics id="A1.T5.41.41.41.1.1.1.m1.1a"><mo id="A1.T5.41.41.41.1.1.1.m1.1.1" xref="A1.T5.41.41.41.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.41.41.41.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.41.41.41.1.1.1.m1.1.1.cmml" xref="A1.T5.41.41.41.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.41.41.41.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.41.41.41.1.1.1.m1.1d">±</annotation></semantics></math> 0.30</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.42.42.42.2">43.94 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.42.42.42.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.42.42.42.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.42.42.42.2.1.1.m1.1"><semantics id="A1.T5.42.42.42.2.1.1.m1.1a"><mo id="A1.T5.42.42.42.2.1.1.m1.1.1" xref="A1.T5.42.42.42.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.42.42.42.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.42.42.42.2.1.1.m1.1.1.cmml" xref="A1.T5.42.42.42.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.42.42.42.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.42.42.42.2.1.1.m1.1d">±</annotation></semantics></math> 0.23</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.43.43.43.3">72.33 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.43.43.43.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.43.43.43.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.43.43.43.3.1.1.m1.1"><semantics id="A1.T5.43.43.43.3.1.1.m1.1a"><mo id="A1.T5.43.43.43.3.1.1.m1.1.1" xref="A1.T5.43.43.43.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.43.43.43.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.43.43.43.3.1.1.m1.1.1.cmml" xref="A1.T5.43.43.43.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.43.43.43.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.43.43.43.3.1.1.m1.1d">±</annotation></semantics></math> 0.20</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A1.T5.44.44.44.4">47.98 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.44.44.44.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.44.44.44.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.44.44.44.4.1.1.m1.1"><semantics id="A1.T5.44.44.44.4.1.1.m1.1a"><mo id="A1.T5.44.44.44.4.1.1.m1.1.1" xref="A1.T5.44.44.44.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.44.44.44.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.44.44.44.4.1.1.m1.1.1.cmml" xref="A1.T5.44.44.44.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.44.44.44.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.44.44.44.4.1.1.m1.1d">±</annotation></semantics></math> 0.22</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.45.45.45.5">53.36 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.45.45.45.5.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.45.45.45.5.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.45.45.45.5.1.1.m1.1"><semantics id="A1.T5.45.45.45.5.1.1.m1.1a"><mo id="A1.T5.45.45.45.5.1.1.m1.1.1" xref="A1.T5.45.45.45.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.45.45.45.5.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.45.45.45.5.1.1.m1.1.1.cmml" xref="A1.T5.45.45.45.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.45.45.45.5.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.45.45.45.5.1.1.m1.1d">±</annotation></semantics></math> 0.43</p>
</span></div>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.50.50.50">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T5.50.50.50.6">+ <span class="ltx_text ltx_framed ltx_framed_underline" id="A1.T5.50.50.50.6.1">NTP</span> on MedAlpaca-263K</th>
<td class="ltx_td ltx_align_center" id="A1.T5.46.46.46.1">49.10 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.46.46.46.1.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.46.46.46.1.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.46.46.46.1.1.1.m1.1"><semantics id="A1.T5.46.46.46.1.1.1.m1.1a"><mo id="A1.T5.46.46.46.1.1.1.m1.1.1" xref="A1.T5.46.46.46.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.46.46.46.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.46.46.46.1.1.1.m1.1.1.cmml" xref="A1.T5.46.46.46.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.46.46.46.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.46.46.46.1.1.1.m1.1d">±</annotation></semantics></math> 0.33</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.47.47.47.2">44.62 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.47.47.47.2.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.47.47.47.2.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.47.47.47.2.1.1.m1.1"><semantics id="A1.T5.47.47.47.2.1.1.m1.1a"><mo id="A1.T5.47.47.47.2.1.1.m1.1.1" xref="A1.T5.47.47.47.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.47.47.47.2.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.47.47.47.2.1.1.m1.1.1.cmml" xref="A1.T5.47.47.47.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.47.47.47.2.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.47.47.47.2.1.1.m1.1d">±</annotation></semantics></math> 0.39</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.48.48.48.3">75.40 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.48.48.48.3.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.48.48.48.3.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.48.48.48.3.1.1.m1.1"><semantics id="A1.T5.48.48.48.3.1.1.m1.1a"><mo id="A1.T5.48.48.48.3.1.1.m1.1.1" xref="A1.T5.48.48.48.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.48.48.48.3.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.48.48.48.3.1.1.m1.1.1.cmml" xref="A1.T5.48.48.48.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.48.48.48.3.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.48.48.48.3.1.1.m1.1d">±</annotation></semantics></math> 0.68</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A1.T5.49.49.49.4">48.15 
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T5.49.49.49.4.1" style="width:21.7pt;height:5.399999999999999pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-3.6pt,0.8pt) scale(0.75,0.75) ;">
<p class="ltx_p" id="A1.T5.49.49.49.4.1.1"><math alttext="\pm" class="ltx_Math" display="inline" id="A1.T5.49.49.49.4.1.1.m1.1"><semantics id="A1.T5.49.49.49.4.1.1.m1.1a"><mo id="A1.T5.49.49.49.4.1.1.m1.1.1" xref="A1.T5.49.49.49.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A1.T5.49.49.49.4.1.1.m1.1b"><csymbol cd="latexml" id="A1.T5.49.49.49.4.1.1.m1.1.1.cmml" xref="A1.T5.49.49.49.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.49.49.49.4.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="A1.T5.49.49.49.4.1.1.m1.1d">±</annotation></semantics></math> 0.11</p>
</span></div>
</td>
<td class="ltx_td ltx_align_center" id="A1.T5.50.50.50.5"></td></tr></tbody></table></span></div></figure></section></article></div></div></body></html>