<!DOCTYPE html><html prefix="dcterms: http://purl.org/dc/terms/" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2306.04385] SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory</title><meta property="og:description" content="Domain adaptive object detection aims to leverage the knowledge learned from a labeled source domain to improve the performance on an unlabeled target domain. Prior works typically require the access to the source doma…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2306.04385">

<!--Generated on Thu Feb 29 02:21:38 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Han Sun 
<br class="ltx_break">EPFL
<br class="ltx_break">Switzerland 
<br class="ltx_break"><span id="id1.1.id1" class="ltx_text ltx_font_typewriter">han.sun@epfl.ch</span> 
<br class="ltx_break">&amp;Rui Gong 
<br class="ltx_break">ETH Zurich 
<br class="ltx_break">Switzerland 
<br class="ltx_break"><span id="id2.2.id2" class="ltx_text ltx_font_typewriter">gongr@vision.ee.ethz.ch</span>
&amp;Konrad Schindler
<br class="ltx_break">ETH Zurich 
<br class="ltx_break">Switzerland 
<br class="ltx_break"><span id="id3.3.id3" class="ltx_text ltx_font_typewriter">schindler@ethz.ch</span>
&amp;Luc Van Gool
<br class="ltx_break">ETH Zurich 
<br class="ltx_break">Switzerland 
<br class="ltx_break"><span id="id4.4.id4" class="ltx_text ltx_font_typewriter">vangool@vision.ee.ethz.ch</span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id5.id1" class="ltx_p">Domain adaptive object detection aims to leverage the knowledge learned from a labeled source domain to improve the performance on an unlabeled target domain. Prior works typically require the access to the source domain data for adaptation, and the availability of sufficient data on the target domain. However, these assumptions may not hold due to data privacy and rare data collection. In this paper, we propose and investigate a more practical and challenging domain adaptive object detection problem under both <em id="id5.id1.1" class="ltx_emph ltx_font_italic">source-free</em> and <em id="id5.id1.2" class="ltx_emph ltx_font_italic">few-shot</em> conditions, named as SF-FSDA. To overcome this problem, we develop an efficient labeled data factory based approach. Without accessing the source domain, the data factory renders i) infinite amount of synthesized target-domain like images, under the guidance of the few-shot image samples and text description from the target domain; ii) corresponding bounding box and category annotations, only demanding minimum human effort, <em id="id5.id1.3" class="ltx_emph ltx_font_italic">i.e</em>.<span id="id5.id1.4" class="ltx_text"></span>, a few manually labeled examples. On the one hand, the synthesized images mitigate the knowledge insufficiency brought by the few-shot condition. On the other hand, compared to the popular pseudo-label technique, the generated annotations from data factory not only get rid of the reliance on the source pretrained object detection model, but also alleviate the unavoidably pseudo-label noise due to domain shift and source-free condition. The generated dataset is further utilized to adapt the source pretrained object detection model, realizing the robust object detection under SF-FSDA. The experiments on different settings showcase that our proposed approach outperforms other state-of-the-art methods on SF-FSDA problem. Our codes and models will be made publicly available.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para ltx_noindent">
<p id="S1.p1.1" class="ltx_p">Object detection, which aims at recognizing and localizing the object instances of certain classes in an image, is a fundamental problem in computer vision. Driven by the rapid development of deep learning and the availability of large-scale datasets, object detection has achieved great advancement over the past decade <cite class="ltx_cite ltx_citemacro_cite">Ren et al. (<a href="#bib.bib49" title="" class="ltx_ref">2015</a>); Liu et al. (<a href="#bib.bib37" title="" class="ltx_ref">2016</a>); Redmon et al. (<a href="#bib.bib48" title="" class="ltx_ref">2016</a>); Carion et al. (<a href="#bib.bib4" title="" class="ltx_ref">2020</a>)</cite>. However, the performance and generalization ability of the detection system is highly dependent on the availability of manually labeled and diverse datasets, whose labor cost for annotation can be extremely expensive. When applied to the images of a different distribution with training images, the detection models typically exhibit poor generalization, which is common in real applications due to the difference in weather, illumination, object appearance, <em id="S1.p1.1.1" class="ltx_emph ltx_font_italic">etc</em>. Thus, recently, domain adaptive object detection problem has been studied <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib6" title="" class="ltx_ref">2018</a>); Saito et al. (<a href="#bib.bib52" title="" class="ltx_ref">2019</a>); Hsu et al. (<a href="#bib.bib18" title="" class="ltx_ref">2020a</a>); Khodabandeh et al. (<a href="#bib.bib27" title="" class="ltx_ref">2019</a>); VS et al. (<a href="#bib.bib57" title="" class="ltx_ref">2021</a>); Ramamonjison et al. (<a href="#bib.bib47" title="" class="ltx_ref">2021</a>)</cite>, which aims to transfer the knowledge learned from the labeled source domain to the unlabeled target domain to train the robust cross-domain object detection model, reducing the effort and cost of human annotation for the target domain.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2306.04385/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="92" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>(a) Traditional domain adaptive object detection (DA) problem <em id="S1.F1.7.1" class="ltx_emph ltx_font_italic">vs</em>.<span id="S1.F1.8.2" class="ltx_text"></span> our proposed SF-FSDA problem. Our SF-FSDA problem considers the <em id="S1.F1.9.3" class="ltx_emph ltx_font_italic">few-shot</em> and <em id="S1.F1.10.4" class="ltx_emph ltx_font_italic">source-free</em> conditions. (b) Our efficient labeled data factory can synthesize abundant target domain like image samples and corresponding bounding box and category annotation automatically, by providing the few-shot samples guidance, text guidance, and minimum human effort (<em id="S1.F1.11.5" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S1.F1.12.6" class="ltx_text"></span>, few-shot manual label). The efficient labeled data factory is initialized with publicly available pretrained GAN model weights, and does not rely on the access to the source domain images and/or other public image dataset. The height of the cylinder represents the number of image samples.</figcaption>
</figure>
<div id="S1.p2" class="ltx_para ltx_noindent">
<p id="S1.p2.1" class="ltx_p">Generally, existing domain adaptive object detection works reduce the domain shift between the source domain and the target domain, by matching and aligning the source and target domain representations in some space (input space <cite class="ltx_cite ltx_citemacro_cite">Hoffman et al. (<a href="#bib.bib17" title="" class="ltx_ref">2018</a>); Inoue et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>); Bhattacharjee et al. (<a href="#bib.bib2" title="" class="ltx_ref">2020</a>)</cite> and/or feature space <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib6" title="" class="ltx_ref">2018</a>); Deng et al. (<a href="#bib.bib9" title="" class="ltx_ref">2021</a>)</cite>) through the typical techniques of adversarial learning <cite class="ltx_cite ltx_citemacro_cite">Rezaeianaran et al. (<a href="#bib.bib50" title="" class="ltx_ref">2021</a>); Saito et al. (<a href="#bib.bib52" title="" class="ltx_ref">2019</a>)</cite>, pseudo-label <cite class="ltx_cite ltx_citemacro_cite">RoyChowdhury et al. (<a href="#bib.bib51" title="" class="ltx_ref">2019</a>); Kim et al. (<a href="#bib.bib28" title="" class="ltx_ref">2019</a>); Munir et al. (<a href="#bib.bib41" title="" class="ltx_ref">2021</a>)</cite>, and image translation <cite class="ltx_cite ltx_citemacro_cite">Hsu et al. (<a href="#bib.bib19" title="" class="ltx_ref">2020b</a>); Inoue et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite>. They typically assume that, i) the source domain images are accessible when adapting to the target domain, and/or ii) there are abundant images available in the target domain. However, both of these assumptions may not hold in real applications. For example, the data privacy rules and the limited data transmission capacity can break the assumption i), <em id="S1.p2.1.1" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S1.p2.1.2" class="ltx_text"></span>, inducing the <em id="S1.p2.1.3" class="ltx_emph ltx_font_italic">source-free</em> condition, while the rare species image collection and the special medical applications can hinder the assumption ii), <em id="S1.p2.1.4" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S1.p2.1.5" class="ltx_text"></span>, causing the <em id="S1.p2.1.6" class="ltx_emph ltx_font_italic">few-shot</em> condition. Even though some more recent works touch the domain adaptive object detection problem under the source-free condition <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib33" title="" class="ltx_ref">2020b</a>)</cite> or the few-shot condition <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib59" title="" class="ltx_ref">2019</a>)</cite>, none of them consider the problem when both the source-free and few-shot conditions exist at the same time. Instead, this work studies the domain adaptive object detection problem under both <em id="S1.p2.1.7" class="ltx_emph ltx_font_italic">source-free</em> and <em id="S1.p2.1.8" class="ltx_emph ltx_font_italic">few-shot</em> conditions, named as SF-FSDA, <em id="S1.p2.1.9" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S1.p2.1.10" class="ltx_text"></span>, the source domain images are not accessible when adapting the object detection model to the target domain, and there are only a few samples available in the target domain (see Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a><span id="S1.p2.1.11" class="ltx_text" style="color:#FF0000;">a</span>).</p>
</div>
<div id="S1.p3" class="ltx_para ltx_noindent">
<p id="S1.p3.1" class="ltx_p">The current available domain adaptive object detection approaches can tackle isolated one of the two conditions in SF-FSDA, but cannot deal with the two conditions at the same time. More specifically, pseudo-label based techniques are popularly utilized in source-free conditions <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib33" title="" class="ltx_ref">2020b</a>); Kundu et al. (<a href="#bib.bib31" title="" class="ltx_ref">2021</a>)</cite>, but are not capable of handling the few-shot condition, since it relies on enough samples to reduce the pseudo-supervision noise brought by the domain gap. In contrast, adversarial learning <cite class="ltx_cite ltx_citemacro_cite">Motiian et al. (<a href="#bib.bib40" title="" class="ltx_ref">2017</a>); Ganin &amp; Lempitsky (<a href="#bib.bib13" title="" class="ltx_ref">2015</a>)</cite> and image translation <cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a href="#bib.bib38" title="" class="ltx_ref">2020</a>); Ma et al. (<a href="#bib.bib39" title="" class="ltx_ref">2019</a>)</cite> based methods can operate under few-shot conditions, but require access to the source domain.</p>
</div>
<div id="S1.p4" class="ltx_para ltx_noindent">
<p id="S1.p4.1" class="ltx_p">In order to address the challenging SF-FSDA problem, we propose an efficient labeled data factory based method (see Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a><span id="S1.p4.1.1" class="ltx_text" style="color:#FF0000;">b</span>), which i) synthesizes abundant target domain like images guided by the few-shot samples and the text description from the target domain, without accessing the source domain image; and ii) automatically generates the corresponding object bounding box and category annotations, with the help of minimum human effort, <em id="S1.p4.1.2" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S1.p4.1.3" class="ltx_text"></span>, few-shot manual annotation. Compared to the existing image translation based approach <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib67" title="" class="ltx_ref">2017</a>); Park et al. (<a href="#bib.bib43" title="" class="ltx_ref">2020</a>); Huang et al. (<a href="#bib.bib20" title="" class="ltx_ref">2018</a>); Liu et al. (<a href="#bib.bib36" title="" class="ltx_ref">2019</a>); Isola et al. (<a href="#bib.bib22" title="" class="ltx_ref">2017</a>)</cite>, our proposed data factory based method does not require the availability to the source domain (<em id="S1.p4.1.4" class="ltx_emph ltx_font_italic">source-free condition</em>), and effectively exploits the few-shot image (<em id="S1.p4.1.5" class="ltx_emph ltx_font_italic">few-shot condition</em>) and text knowledge from the target domain for the image synthesis. The text knowledge provides the general guidance, <em id="S1.p4.1.6" class="ltx_emph ltx_font_italic">e.g</em>.<span id="S1.p4.1.7" class="ltx_text"></span>, what the “comic” style images look like, while the few-shot images offer the specific guidance, <em id="S1.p4.1.8" class="ltx_emph ltx_font_italic">e.g</em>.<span id="S1.p4.1.9" class="ltx_text"></span>, how the “comic” images on the target domain are like. The text knowledge can also prevent the overfitting effect brought by the few-shot images. Thus, the text and few-shot images guidances promote each other to synthesize the more target-domain like images. Besides, the data factory based method renders the object bounding box and category annotation together with and guided by the image synthesis process, only requiring the few-shot manual annotation. Our data factory model is initialized with publicly available GAN pretrained weights, which are irrelevant to both the source and target domain. In this way, the efficient labeled data factory synthesizes the target domain on both the <em id="S1.p4.1.10" class="ltx_emph ltx_font_italic">image level</em> and <em id="S1.p4.1.11" class="ltx_emph ltx_font_italic">label level</em>. Alternatively, applying the source domain trained object detection model on our synthesized image can generate the pseudo-label, which however is noisy and low-quality due to the domain gap. Instead, our efficient labeled data factory can synthesize the detection label without relying on the source trained object detection model, generating higher quality annotation and easing the downstream domain adaptive object detection. Then the source domain trained object detection model is fine-tuned on our synthesized images and annotations to train the final object detection model.</p>
</div>
<div id="S1.p5" class="ltx_para ltx_noindent">
<p id="S1.p5.1" class="ltx_p">In a nutshell, the key contributions of this paper are three-fold. <span id="S1.p5.1.1" class="ltx_text ltx_font_bold">(1)</span> We propose the domain-adaptive object detection problem under the <em id="S1.p5.1.2" class="ltx_emph ltx_font_italic">source-free</em> and <em id="S1.p5.1.3" class="ltx_emph ltx_font_italic">few-shot</em> conditions, SF-FSDA, where there are only a few samples available on the target domain, and only the source-pretrained model is accessible for the adaptation to the target domain. <span id="S1.p5.1.4" class="ltx_text ltx_font_bold">(2)</span> We develop the efficient labeled data factory based approach to SF-FSDA problem, where the efficient labeled data factory can automatically synthesize a number of the target domain like images and corresponding object detection labels, providing the text guidance, few-shot sample guidance and minimum human annotation. <span id="S1.p5.1.5" class="ltx_text ltx_font_bold">(3)</span> The experimental results on different benchmarks prove the effectiveness of the proposed method for the SF-FSDA problem, serving as the strong baseline for further research.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Image Synthesis.</h3>

<div id="S2.SS1.p1" class="ltx_para ltx_noindent">
<p id="S2.SS1.p1.1" class="ltx_p">Recently, generative adversarial networks (GANs) <cite class="ltx_cite ltx_citemacro_cite">Goodfellow et al. (<a href="#bib.bib16" title="" class="ltx_ref">2014</a>)</cite> have become an active research area and boosted numerous applications, especially image synthesis.
It is demonstrated that, given proper training, GANs can synthesize semantically meaningful data from standard data distributions. The current state-of-the-art GAN models <cite class="ltx_cite ltx_citemacro_cite">Brock et al. (<a href="#bib.bib3" title="" class="ltx_ref">2018</a>); Gao et al. (<a href="#bib.bib14" title="" class="ltx_ref">2019</a>); Zhang et al. (<a href="#bib.bib64" title="" class="ltx_ref">2018</a>)</cite> are able to generate high-quality realistic images of diverse categories. Recent style-based generators <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib23" title="" class="ltx_ref">2019</a>; <a href="#bib.bib25" title="" class="ltx_ref">2020b</a>; <a href="#bib.bib24" title="" class="ltx_ref">2020a</a>; <a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite> produce impressive results and allow for style control via mapping noise vectors to a higher-dimensional semantic space, which inspires several extensions such as image manipulation <cite class="ltx_cite ltx_citemacro_cite">Patashnik et al. (<a href="#bib.bib45" title="" class="ltx_ref">2021b</a>); Gal et al. (<a href="#bib.bib12" title="" class="ltx_ref">2021</a>); Zhu et al. (<a href="#bib.bib68" title="" class="ltx_ref">2021</a>)</cite>, image editing <cite class="ltx_cite ltx_citemacro_cite">Ling et al. (<a href="#bib.bib35" title="" class="ltx_ref">2021</a>); Bau et al. (<a href="#bib.bib1" title="" class="ltx_ref">2021</a>)</cite>, and dataset synthesis <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a href="#bib.bib65" title="" class="ltx_ref">2021</a>)</cite>.
Besides, various types of potential guidance <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib32" title="" class="ltx_ref">2020a</a>); Ling et al. (<a href="#bib.bib35" title="" class="ltx_ref">2021</a>); Dhamo et al. (<a href="#bib.bib10" title="" class="ltx_ref">2020</a>); Collins et al. (<a href="#bib.bib7" title="" class="ltx_ref">2020</a>); Patashnik et al. (<a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite> are utilized for controlling the image synthesis process, among which the most relevant to our work are text guidance and few-shot image guidance. The text guidance is typically provided by the large-scale vision-language pretrained model <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a href="#bib.bib46" title="" class="ltx_ref">2021</a>)</cite>, by mapping the images and the text to the joint embedding space. More recent works <cite class="ltx_cite ltx_citemacro_cite">Patashnik et al. (<a href="#bib.bib45" title="" class="ltx_ref">2021b</a>); Gal et al. (<a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite> then introduce the image and text consistency in the embedding space to regularize image synthesis. The few-shot image guided image synthesis works <cite class="ltx_cite ltx_citemacro_cite">Saito et al. (<a href="#bib.bib53" title="" class="ltx_ref">2020</a>); Liu et al. (<a href="#bib.bib36" title="" class="ltx_ref">2019</a>); Ojha et al. (<a href="#bib.bib42" title="" class="ltx_ref">2021</a>)</cite> aim to prevent image generation overfitting when only limited image samples are available. Different from the aforementioned works, our proposed data factory exploits both the text guidance and the few-shot images guidance together, promoting each other to further improve image synthesis in the target-domain (see ablation study in Sec. <a href="#S4.SS2" title="4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>). The label synthesis of our data factory is related to the work of  <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a href="#bib.bib65" title="" class="ltx_ref">2021</a>)</cite>, which, however, only focuses on the dense prediction task, <em id="S2.SS1.p1.1.1" class="ltx_emph ltx_font_italic">e.g</em>.<span id="S2.SS1.p1.1.2" class="ltx_text"></span>, semantic segmentation, and does not consider the domain adaptation problem. Instead, our proposed data factory tackles the domain adaptation problem with the few-shot samples and text guidance, and investigates the synthesis of object detection annotations.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Domain Adaptive Object Detection.</h3>

<div id="S2.SS2.p1" class="ltx_para ltx_noindent">
<p id="S2.SS2.p1.1" class="ltx_p">Domain adaptation aims to transfer knowledge between the label-rich source domain and the unlabeled target domain to train the model that performs well on the target domain. In the past decades, it has been explored in different tasks, <em id="S2.SS2.p1.1.1" class="ltx_emph ltx_font_italic">e.g</em>.<span id="S2.SS2.p1.1.2" class="ltx_text"></span>, image classification <cite class="ltx_cite ltx_citemacro_cite">Tzeng et al. (<a href="#bib.bib56" title="" class="ltx_ref">2017</a>); Gong et al. (<a href="#bib.bib15" title="" class="ltx_ref">2012</a>); Ganin &amp; Lempitsky (<a href="#bib.bib13" title="" class="ltx_ref">2015</a>)</cite>, semantic segmentation <cite class="ltx_cite ltx_citemacro_cite">Tsai et al. (<a href="#bib.bib55" title="" class="ltx_ref">2018</a>); Vu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>); Tranheden et al. (<a href="#bib.bib54" title="" class="ltx_ref">2021</a>)</cite>, and object detection <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib6" title="" class="ltx_ref">2018</a>); Khodabandeh et al. (<a href="#bib.bib27" title="" class="ltx_ref">2019</a>); VS et al. (<a href="#bib.bib57" title="" class="ltx_ref">2021</a>)</cite>. Among the quite vast scope, the most relevant category to our work is domain adaptive object detection, where adversarial learning, image translation, and pseudo-label based methods are typically proposed and studied. Recently, considering more practical scenarios, some works explore the source-free <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib33" title="" class="ltx_ref">2020b</a>)</cite> or few-shot <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib59" title="" class="ltx_ref">2019</a>)</cite> domain adaptive object detection problem, respectively. More specifically, <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib33" title="" class="ltx_ref">2020b</a>)</cite> tackles the source-free <cite class="ltx_cite ltx_citemacro_cite">Kundu et al. (<a href="#bib.bib29" title="" class="ltx_ref">2020a</a>); Yang et al. (<a href="#bib.bib62" title="" class="ltx_ref">2021</a>); Kundu et al. (<a href="#bib.bib30" title="" class="ltx_ref">2020b</a>)</cite> domain adaptive object detection problem with the pseudo-label based technique. And <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib59" title="" class="ltx_ref">2019</a>)</cite> studies the few-shot <cite class="ltx_cite ltx_citemacro_cite">Motiian et al. (<a href="#bib.bib40" title="" class="ltx_ref">2017</a>)</cite> domain adaptive object detection problem through adversarial learning based method. However, none of the aforementioned works investigate both the <em id="S2.SS2.p1.1.3" class="ltx_emph ltx_font_italic">source-free</em> and <em id="S2.SS2.p1.1.4" class="ltx_emph ltx_font_italic">few-shot</em> conditions at the same time. In contrast, our SF-FSDA problem touches both <em id="S2.SS2.p1.1.5" class="ltx_emph ltx_font_italic">source-free</em> and <em id="S2.SS2.p1.1.6" class="ltx_emph ltx_font_italic">few-shot</em> conditions simultaneously, which is more challenging and practical. From the method aspect, instead of exploiting pseudo-label or adversarial learning, we synthesize the target domain-like images and the corresponding bounding box and category annotations together with the efficient labeled data factory, without accessing the source domain.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Domain Transfer with Auxiliary Knowledge.</h3>

<div id="S2.SS3.p1" class="ltx_para ltx_noindent">
<p id="S2.SS3.p1.1" class="ltx_p">In some domain transfer related works, <em id="S2.SS3.p1.1.1" class="ltx_emph ltx_font_italic">e.g</em>.<span id="S2.SS3.p1.1.2" class="ltx_text"></span>, domain adaptation, domain generalization and domain randomization, the auxiliary knowledge from the public dataset is utilized as the bridge to connect the source domain and the target domain. For example, since the target domain image is not available for training, <cite class="ltx_cite ltx_citemacro_cite">Yue et al. (<a href="#bib.bib63" title="" class="ltx_ref">2019</a>)</cite> randomizes the style of the source domain images utilizing the images from the public dataset ImageNet <cite class="ltx_cite ltx_citemacro_cite">Deng et al. (<a href="#bib.bib8" title="" class="ltx_ref">2009</a>)</cite>, to improve the generalization ability of the semantic segmentation model trained on the source domain. <cite class="ltx_cite ltx_citemacro_cite">Wu et al. (<a href="#bib.bib61" title="" class="ltx_ref">2021</a>)</cite> adopts the auxiliary images from ImageNet to regularize the image classification model training in the adaptation process, to prevent the model from forgetting. However, these works all require access to the auxiliary images, which might not be practical due to data privacy regulations and data transmission capacity. Instead, our efficient labeled data factory takes the publicly available GAN pretrained weights <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib25" title="" class="ltx_ref">2020b</a>)</cite> as the auxiliary knowledge, which is more flexible and renders unlimited and unified image and label synthesis.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Problem Statement</h3>

<div id="S3.SS1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS1.p1.10" class="ltx_p">For the problem of domain-adaptive object detection, we are given the labeled source domain <math id="S3.SS1.p1.1.m1.2" class="ltx_Math" alttext="\mathcal{S}=\{\mathbf{x}_{s}^{i},\mathbf{y}_{s}^{i}\}_{i=1}^{N_{s}}" display="inline"><semantics id="S3.SS1.p1.1.m1.2a"><mrow id="S3.SS1.p1.1.m1.2.2" xref="S3.SS1.p1.1.m1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.2.2.4" xref="S3.SS1.p1.1.m1.2.2.4.cmml">𝒮</mi><mo id="S3.SS1.p1.1.m1.2.2.3" xref="S3.SS1.p1.1.m1.2.2.3.cmml">=</mo><msubsup id="S3.SS1.p1.1.m1.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.cmml"><mrow id="S3.SS1.p1.1.m1.2.2.2.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p1.1.m1.2.2.2.2.2.2.3" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3.cmml">{</mo><msubsup id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3.cmml">s</mi><mi id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo id="S3.SS1.p1.1.m1.2.2.2.2.2.2.4" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3.cmml">,</mo><msubsup id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.cmml"><mi id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.2.2.cmml">𝐲</mi><mi id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.2.3" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.2.3.cmml">s</mi><mi id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.3" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS1.p1.1.m1.2.2.2.2.2.2.5" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3.cmml">}</mo></mrow><mrow id="S3.SS1.p1.1.m1.2.2.2.2.4" xref="S3.SS1.p1.1.m1.2.2.2.2.4.cmml"><mi id="S3.SS1.p1.1.m1.2.2.2.2.4.2" xref="S3.SS1.p1.1.m1.2.2.2.2.4.2.cmml">i</mi><mo id="S3.SS1.p1.1.m1.2.2.2.2.4.1" xref="S3.SS1.p1.1.m1.2.2.2.2.4.1.cmml">=</mo><mn id="S3.SS1.p1.1.m1.2.2.2.2.4.3" xref="S3.SS1.p1.1.m1.2.2.2.2.4.3.cmml">1</mn></mrow><msub id="S3.SS1.p1.1.m1.2.2.2.4" xref="S3.SS1.p1.1.m1.2.2.2.4.cmml"><mi id="S3.SS1.p1.1.m1.2.2.2.4.2" xref="S3.SS1.p1.1.m1.2.2.2.4.2.cmml">N</mi><mi id="S3.SS1.p1.1.m1.2.2.2.4.3" xref="S3.SS1.p1.1.m1.2.2.2.4.3.cmml">s</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.2b"><apply id="S3.SS1.p1.1.m1.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2"><eq id="S3.SS1.p1.1.m1.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.3"></eq><ci id="S3.SS1.p1.1.m1.2.2.4.cmml" xref="S3.SS1.p1.1.m1.2.2.4">𝒮</ci><apply id="S3.SS1.p1.1.m1.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2">superscript</csymbol><apply id="S3.SS1.p1.1.m1.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2">subscript</csymbol><set id="S3.SS1.p1.1.m1.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2"><apply id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3">𝑠</ci></apply><ci id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2">superscript</csymbol><apply id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.2.2">𝐲</ci><ci id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.2.3">𝑠</ci></apply><ci id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.3">𝑖</ci></apply></set><apply id="S3.SS1.p1.1.m1.2.2.2.2.4.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.4"><eq id="S3.SS1.p1.1.m1.2.2.2.2.4.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.4.1"></eq><ci id="S3.SS1.p1.1.m1.2.2.2.2.4.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.4.2">𝑖</ci><cn type="integer" id="S3.SS1.p1.1.m1.2.2.2.2.4.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.4.3">1</cn></apply></apply><apply id="S3.SS1.p1.1.m1.2.2.2.4.cmml" xref="S3.SS1.p1.1.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.2.4.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.4">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.2.4.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.4.2">𝑁</ci><ci id="S3.SS1.p1.1.m1.2.2.2.4.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.4.3">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.2c">\mathcal{S}=\{\mathbf{x}_{s}^{i},\mathbf{y}_{s}^{i}\}_{i=1}^{N_{s}}</annotation></semantics></math> and the unlabeled target domain <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{T}=\{\mathbf{x}_{t}^{i}\}_{i=1}^{N_{t}}" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mrow id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">𝒯</mi><mo id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">=</mo><msubsup id="S3.SS1.p1.2.m2.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.cmml"><mrow id="S3.SS1.p1.2.m2.1.1.1.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p1.2.m2.1.1.1.1.1.1.2" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.cmml">{</mo><msubsup id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.3" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.3.cmml">t</mi><mi id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS1.p1.2.m2.1.1.1.1.1.1.3" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.2.m2.1.1.1.1.3" xref="S3.SS1.p1.2.m2.1.1.1.1.3.cmml"><mi id="S3.SS1.p1.2.m2.1.1.1.1.3.2" xref="S3.SS1.p1.2.m2.1.1.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p1.2.m2.1.1.1.1.3.1" xref="S3.SS1.p1.2.m2.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.2.m2.1.1.1.1.3.3" xref="S3.SS1.p1.2.m2.1.1.1.1.3.3.cmml">1</mn></mrow><msub id="S3.SS1.p1.2.m2.1.1.1.3" xref="S3.SS1.p1.2.m2.1.1.1.3.cmml"><mi id="S3.SS1.p1.2.m2.1.1.1.3.2" xref="S3.SS1.p1.2.m2.1.1.1.3.2.cmml">N</mi><mi id="S3.SS1.p1.2.m2.1.1.1.3.3" xref="S3.SS1.p1.2.m2.1.1.1.3.3.cmml">t</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><eq id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2"></eq><ci id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3">𝒯</ci><apply id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.2.m2.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1">subscript</csymbol><set id="S3.SS1.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1"><apply id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.SS1.p1.2.m2.1.1.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.3"><eq id="S3.SS1.p1.2.m2.1.1.1.1.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.3.1"></eq><ci id="S3.SS1.p1.2.m2.1.1.1.1.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS1.p1.2.m2.1.1.1.1.3.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS1.p1.2.m2.1.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.1.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.3.2">𝑁</ci><ci id="S3.SS1.p1.2.m2.1.1.1.3.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">\mathcal{T}=\{\mathbf{x}_{t}^{i}\}_{i=1}^{N_{t}}</annotation></semantics></math>, where <math id="S3.SS1.p1.3.m3.2" class="ltx_Math" alttext="\mathbf{x}_{s}^{i},\mathbf{y}_{s}^{i}" display="inline"><semantics id="S3.SS1.p1.3.m3.2a"><mrow id="S3.SS1.p1.3.m3.2.2.2" xref="S3.SS1.p1.3.m3.2.2.3.cmml"><msubsup id="S3.SS1.p1.3.m3.1.1.1.1" xref="S3.SS1.p1.3.m3.1.1.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.1.1.2.2" xref="S3.SS1.p1.3.m3.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS1.p1.3.m3.1.1.1.1.2.3" xref="S3.SS1.p1.3.m3.1.1.1.1.2.3.cmml">s</mi><mi id="S3.SS1.p1.3.m3.1.1.1.1.3" xref="S3.SS1.p1.3.m3.1.1.1.1.3.cmml">i</mi></msubsup><mo id="S3.SS1.p1.3.m3.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.3.cmml">,</mo><msubsup id="S3.SS1.p1.3.m3.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.cmml"><mi id="S3.SS1.p1.3.m3.2.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.cmml">𝐲</mi><mi id="S3.SS1.p1.3.m3.2.2.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.2.3.cmml">s</mi><mi id="S3.SS1.p1.3.m3.2.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.3.cmml">i</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.2b"><list id="S3.SS1.p1.3.m3.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2"><apply id="S3.SS1.p1.3.m3.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.3.m3.1.1.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS1.p1.3.m3.1.1.1.1.2.3.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.2.3">𝑠</ci></apply><ci id="S3.SS1.p1.3.m3.1.1.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.p1.3.m3.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2">superscript</csymbol><apply id="S3.SS1.p1.3.m3.2.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2">𝐲</ci><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.3">𝑠</ci></apply><ci id="S3.SS1.p1.3.m3.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.3">𝑖</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.2c">\mathbf{x}_{s}^{i},\mathbf{y}_{s}^{i}</annotation></semantics></math> represent the <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><mi id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">i</annotation></semantics></math>-th image and the corresponding bounding box and category annotations for object detection in the source domain, and <math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="\mathbf{x}_{t}^{i}" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><msubsup id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.p1.5.m5.1.1.2.2" xref="S3.SS1.p1.5.m5.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS1.p1.5.m5.1.1.2.3" xref="S3.SS1.p1.5.m5.1.1.2.3.cmml">t</mi><mi id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">superscript</csymbol><apply id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.2.1.cmml" xref="S3.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.2.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2.2">𝐱</ci><ci id="S3.SS1.p1.5.m5.1.1.2.3.cmml" xref="S3.SS1.p1.5.m5.1.1.2.3">𝑡</ci></apply><ci id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">\mathbf{x}_{t}^{i}</annotation></semantics></math> denotes the <math id="S3.SS1.p1.6.m6.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p1.6.m6.1a"><mi id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><ci id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">i</annotation></semantics></math>-th unlabeled image in the target domain. <math id="S3.SS1.p1.7.m7.2" class="ltx_Math" alttext="N_{s},N_{t}" display="inline"><semantics id="S3.SS1.p1.7.m7.2a"><mrow id="S3.SS1.p1.7.m7.2.2.2" xref="S3.SS1.p1.7.m7.2.2.3.cmml"><msub id="S3.SS1.p1.7.m7.1.1.1.1" xref="S3.SS1.p1.7.m7.1.1.1.1.cmml"><mi id="S3.SS1.p1.7.m7.1.1.1.1.2" xref="S3.SS1.p1.7.m7.1.1.1.1.2.cmml">N</mi><mi id="S3.SS1.p1.7.m7.1.1.1.1.3" xref="S3.SS1.p1.7.m7.1.1.1.1.3.cmml">s</mi></msub><mo id="S3.SS1.p1.7.m7.2.2.2.3" xref="S3.SS1.p1.7.m7.2.2.3.cmml">,</mo><msub id="S3.SS1.p1.7.m7.2.2.2.2" xref="S3.SS1.p1.7.m7.2.2.2.2.cmml"><mi id="S3.SS1.p1.7.m7.2.2.2.2.2" xref="S3.SS1.p1.7.m7.2.2.2.2.2.cmml">N</mi><mi id="S3.SS1.p1.7.m7.2.2.2.2.3" xref="S3.SS1.p1.7.m7.2.2.2.2.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.2b"><list id="S3.SS1.p1.7.m7.2.2.3.cmml" xref="S3.SS1.p1.7.m7.2.2.2"><apply id="S3.SS1.p1.7.m7.1.1.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.1.1.1.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.7.m7.1.1.1.1.2.cmml" xref="S3.SS1.p1.7.m7.1.1.1.1.2">𝑁</ci><ci id="S3.SS1.p1.7.m7.1.1.1.1.3.cmml" xref="S3.SS1.p1.7.m7.1.1.1.1.3">𝑠</ci></apply><apply id="S3.SS1.p1.7.m7.2.2.2.2.cmml" xref="S3.SS1.p1.7.m7.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.2.2.2.2.1.cmml" xref="S3.SS1.p1.7.m7.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.7.m7.2.2.2.2.2.cmml" xref="S3.SS1.p1.7.m7.2.2.2.2.2">𝑁</ci><ci id="S3.SS1.p1.7.m7.2.2.2.2.3.cmml" xref="S3.SS1.p1.7.m7.2.2.2.2.3">𝑡</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.2c">N_{s},N_{t}</annotation></semantics></math> are the number of images in the source and target domain, respectively. Different from traditional domain adaptive object detection problem, we tackle the <em id="S3.SS1.p1.10.1" class="ltx_emph ltx_font_italic">source-free</em> and <em id="S3.SS1.p1.10.2" class="ltx_emph ltx_font_italic">few-shot</em> target conditions, <em id="S3.SS1.p1.10.3" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S3.SS1.p1.10.4" class="ltx_text"></span>, <math id="S3.SS1.p1.8.m8.1" class="ltx_Math" alttext="N_{s}\gg N_{t}" display="inline"><semantics id="S3.SS1.p1.8.m8.1a"><mrow id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml"><msub id="S3.SS1.p1.8.m8.1.1.2" xref="S3.SS1.p1.8.m8.1.1.2.cmml"><mi id="S3.SS1.p1.8.m8.1.1.2.2" xref="S3.SS1.p1.8.m8.1.1.2.2.cmml">N</mi><mi id="S3.SS1.p1.8.m8.1.1.2.3" xref="S3.SS1.p1.8.m8.1.1.2.3.cmml">s</mi></msub><mo id="S3.SS1.p1.8.m8.1.1.1" xref="S3.SS1.p1.8.m8.1.1.1.cmml">≫</mo><msub id="S3.SS1.p1.8.m8.1.1.3" xref="S3.SS1.p1.8.m8.1.1.3.cmml"><mi id="S3.SS1.p1.8.m8.1.1.3.2" xref="S3.SS1.p1.8.m8.1.1.3.2.cmml">N</mi><mi id="S3.SS1.p1.8.m8.1.1.3.3" xref="S3.SS1.p1.8.m8.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><apply id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1"><csymbol cd="latexml" id="S3.SS1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1.1">much-greater-than</csymbol><apply id="S3.SS1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.2.1.cmml" xref="S3.SS1.p1.8.m8.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.2.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2.2">𝑁</ci><ci id="S3.SS1.p1.8.m8.1.1.2.3.cmml" xref="S3.SS1.p1.8.m8.1.1.2.3">𝑠</ci></apply><apply id="S3.SS1.p1.8.m8.1.1.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.3.1.cmml" xref="S3.SS1.p1.8.m8.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.3.2.cmml" xref="S3.SS1.p1.8.m8.1.1.3.2">𝑁</ci><ci id="S3.SS1.p1.8.m8.1.1.3.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">N_{s}\gg N_{t}</annotation></semantics></math> and <math id="S3.SS1.p1.9.m9.2" class="ltx_Math" alttext="\{\mathbf{x}_{s}^{i},\mathbf{y}_{s}^{i}\}_{i=1}^{N_{s}}" display="inline"><semantics id="S3.SS1.p1.9.m9.2a"><msubsup id="S3.SS1.p1.9.m9.2.2" xref="S3.SS1.p1.9.m9.2.2.cmml"><mrow id="S3.SS1.p1.9.m9.2.2.2.2.2" xref="S3.SS1.p1.9.m9.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p1.9.m9.2.2.2.2.2.3" xref="S3.SS1.p1.9.m9.2.2.2.2.3.cmml">{</mo><msubsup id="S3.SS1.p1.9.m9.1.1.1.1.1.1" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.9.m9.1.1.1.1.1.1.2.2" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS1.p1.9.m9.1.1.1.1.1.1.2.3" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1.2.3.cmml">s</mi><mi id="S3.SS1.p1.9.m9.1.1.1.1.1.1.3" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo id="S3.SS1.p1.9.m9.2.2.2.2.2.4" xref="S3.SS1.p1.9.m9.2.2.2.2.3.cmml">,</mo><msubsup id="S3.SS1.p1.9.m9.2.2.2.2.2.2" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2.cmml"><mi id="S3.SS1.p1.9.m9.2.2.2.2.2.2.2.2" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2.2.2.cmml">𝐲</mi><mi id="S3.SS1.p1.9.m9.2.2.2.2.2.2.2.3" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2.2.3.cmml">s</mi><mi id="S3.SS1.p1.9.m9.2.2.2.2.2.2.3" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS1.p1.9.m9.2.2.2.2.2.5" xref="S3.SS1.p1.9.m9.2.2.2.2.3.cmml">}</mo></mrow><mrow id="S3.SS1.p1.9.m9.2.2.2.4" xref="S3.SS1.p1.9.m9.2.2.2.4.cmml"><mi id="S3.SS1.p1.9.m9.2.2.2.4.2" xref="S3.SS1.p1.9.m9.2.2.2.4.2.cmml">i</mi><mo id="S3.SS1.p1.9.m9.2.2.2.4.1" xref="S3.SS1.p1.9.m9.2.2.2.4.1.cmml">=</mo><mn id="S3.SS1.p1.9.m9.2.2.2.4.3" xref="S3.SS1.p1.9.m9.2.2.2.4.3.cmml">1</mn></mrow><msub id="S3.SS1.p1.9.m9.2.2.4" xref="S3.SS1.p1.9.m9.2.2.4.cmml"><mi id="S3.SS1.p1.9.m9.2.2.4.2" xref="S3.SS1.p1.9.m9.2.2.4.2.cmml">N</mi><mi id="S3.SS1.p1.9.m9.2.2.4.3" xref="S3.SS1.p1.9.m9.2.2.4.3.cmml">s</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.2b"><apply id="S3.SS1.p1.9.m9.2.2.cmml" xref="S3.SS1.p1.9.m9.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.2.2.3.cmml" xref="S3.SS1.p1.9.m9.2.2">superscript</csymbol><apply id="S3.SS1.p1.9.m9.2.2.2.cmml" xref="S3.SS1.p1.9.m9.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.2.2.2.3.cmml" xref="S3.SS1.p1.9.m9.2.2">subscript</csymbol><set id="S3.SS1.p1.9.m9.2.2.2.2.3.cmml" xref="S3.SS1.p1.9.m9.2.2.2.2.2"><apply id="S3.SS1.p1.9.m9.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.9.m9.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.9.m9.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS1.p1.9.m9.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1.2.3">𝑠</ci></apply><ci id="S3.SS1.p1.9.m9.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.9.m9.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.p1.9.m9.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2">superscript</csymbol><apply id="S3.SS1.p1.9.m9.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.9.m9.2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2.2.2">𝐲</ci><ci id="S3.SS1.p1.9.m9.2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2.2.3">𝑠</ci></apply><ci id="S3.SS1.p1.9.m9.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.9.m9.2.2.2.2.2.2.3">𝑖</ci></apply></set><apply id="S3.SS1.p1.9.m9.2.2.2.4.cmml" xref="S3.SS1.p1.9.m9.2.2.2.4"><eq id="S3.SS1.p1.9.m9.2.2.2.4.1.cmml" xref="S3.SS1.p1.9.m9.2.2.2.4.1"></eq><ci id="S3.SS1.p1.9.m9.2.2.2.4.2.cmml" xref="S3.SS1.p1.9.m9.2.2.2.4.2">𝑖</ci><cn type="integer" id="S3.SS1.p1.9.m9.2.2.2.4.3.cmml" xref="S3.SS1.p1.9.m9.2.2.2.4.3">1</cn></apply></apply><apply id="S3.SS1.p1.9.m9.2.2.4.cmml" xref="S3.SS1.p1.9.m9.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.2.2.4.1.cmml" xref="S3.SS1.p1.9.m9.2.2.4">subscript</csymbol><ci id="S3.SS1.p1.9.m9.2.2.4.2.cmml" xref="S3.SS1.p1.9.m9.2.2.4.2">𝑁</ci><ci id="S3.SS1.p1.9.m9.2.2.4.3.cmml" xref="S3.SS1.p1.9.m9.2.2.4.3">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.2c">\{\mathbf{x}_{s}^{i},\mathbf{y}_{s}^{i}\}_{i=1}^{N_{s}}</annotation></semantics></math> is not accessible during the adaptation process to <math id="S3.SS1.p1.10.m10.1" class="ltx_Math" alttext="\{\mathbf{x}_{t}^{i}\}_{i=1}^{N_{t}}" display="inline"><semantics id="S3.SS1.p1.10.m10.1a"><msubsup id="S3.SS1.p1.10.m10.1.1" xref="S3.SS1.p1.10.m10.1.1.cmml"><mrow id="S3.SS1.p1.10.m10.1.1.1.1.1" xref="S3.SS1.p1.10.m10.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p1.10.m10.1.1.1.1.1.2" xref="S3.SS1.p1.10.m10.1.1.1.1.2.cmml">{</mo><msubsup id="S3.SS1.p1.10.m10.1.1.1.1.1.1" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.10.m10.1.1.1.1.1.1.2.2" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS1.p1.10.m10.1.1.1.1.1.1.2.3" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1.2.3.cmml">t</mi><mi id="S3.SS1.p1.10.m10.1.1.1.1.1.1.3" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS1.p1.10.m10.1.1.1.1.1.3" xref="S3.SS1.p1.10.m10.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.10.m10.1.1.1.3" xref="S3.SS1.p1.10.m10.1.1.1.3.cmml"><mi id="S3.SS1.p1.10.m10.1.1.1.3.2" xref="S3.SS1.p1.10.m10.1.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p1.10.m10.1.1.1.3.1" xref="S3.SS1.p1.10.m10.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.10.m10.1.1.1.3.3" xref="S3.SS1.p1.10.m10.1.1.1.3.3.cmml">1</mn></mrow><msub id="S3.SS1.p1.10.m10.1.1.3" xref="S3.SS1.p1.10.m10.1.1.3.cmml"><mi id="S3.SS1.p1.10.m10.1.1.3.2" xref="S3.SS1.p1.10.m10.1.1.3.2.cmml">N</mi><mi id="S3.SS1.p1.10.m10.1.1.3.3" xref="S3.SS1.p1.10.m10.1.1.3.3.cmml">t</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m10.1b"><apply id="S3.SS1.p1.10.m10.1.1.cmml" xref="S3.SS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m10.1.1.2.cmml" xref="S3.SS1.p1.10.m10.1.1">superscript</csymbol><apply id="S3.SS1.p1.10.m10.1.1.1.cmml" xref="S3.SS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m10.1.1.1.2.cmml" xref="S3.SS1.p1.10.m10.1.1">subscript</csymbol><set id="S3.SS1.p1.10.m10.1.1.1.1.2.cmml" xref="S3.SS1.p1.10.m10.1.1.1.1.1"><apply id="S3.SS1.p1.10.m10.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m10.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.10.m10.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m10.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.10.m10.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS1.p1.10.m10.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.SS1.p1.10.m10.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.10.m10.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.SS1.p1.10.m10.1.1.1.3.cmml" xref="S3.SS1.p1.10.m10.1.1.1.3"><eq id="S3.SS1.p1.10.m10.1.1.1.3.1.cmml" xref="S3.SS1.p1.10.m10.1.1.1.3.1"></eq><ci id="S3.SS1.p1.10.m10.1.1.1.3.2.cmml" xref="S3.SS1.p1.10.m10.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS1.p1.10.m10.1.1.1.3.3.cmml" xref="S3.SS1.p1.10.m10.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS1.p1.10.m10.1.1.3.cmml" xref="S3.SS1.p1.10.m10.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m10.1.1.3.1.cmml" xref="S3.SS1.p1.10.m10.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.10.m10.1.1.3.2.cmml" xref="S3.SS1.p1.10.m10.1.1.3.2">𝑁</ci><ci id="S3.SS1.p1.10.m10.1.1.3.3.cmml" xref="S3.SS1.p1.10.m10.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m10.1c">\{\mathbf{x}_{t}^{i}\}_{i=1}^{N_{t}}</annotation></semantics></math>, named SF-FSDA problem.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para ltx_noindent">
<p id="S3.SS1.p2.1" class="ltx_p"><span id="S3.SS1.p2.1.1" class="ltx_text ltx_font_bold">Technical Challenges.</span> Compared to the traditional domain adaptive object detection problem, our proposed SF-FSDA problem introduces more challenging <em id="S3.SS1.p2.1.2" class="ltx_emph ltx_font_italic">source-free</em> and <em id="S3.SS1.p2.1.3" class="ltx_emph ltx_font_italic">few-shot</em> conditions. Previous techniques for domain adaptive object detection highly rely on adversarial feature learning <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib6" title="" class="ltx_ref">2018</a>)</cite>, image-to-image translation <cite class="ltx_cite ltx_citemacro_cite">Inoue et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite>, and pseudo-label based self-training <cite class="ltx_cite ltx_citemacro_cite">RoyChowdhury et al. (<a href="#bib.bib51" title="" class="ltx_ref">2019</a>)</cite>. On the one hand, the challenge brought by <em id="S3.SS1.p2.1.4" class="ltx_emph ltx_font_italic">source-free</em> condition is that, the previous adversarial feature learning and image-to-image translation based techniques require access to source data during the adaptation process to align the distribution between the source and target domains, making them not equipped to be engaged in our <em id="S3.SS1.p2.1.5" class="ltx_emph ltx_font_italic">source-free</em> setting. On the other hand, the challenge induced by <em id="S3.SS1.p2.1.6" class="ltx_emph ltx_font_italic">few-shot</em> condition is that, the pseudo-label based self-training technique always relies on the availability of abundant target domain images to reduce the prediction noise and improve the prediction confidence on the target domain, which are difficult to operate in our <em id="S3.SS1.p2.1.7" class="ltx_emph ltx_font_italic">few-shot</em> setting. Thus, both the <em id="S3.SS1.p2.1.8" class="ltx_emph ltx_font_italic">source-free</em> and <em id="S3.SS1.p2.1.9" class="ltx_emph ltx_font_italic">few-shot</em> conditions hinder the knowledge transfer between the source and target domains for object detection.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para ltx_noindent">
<p id="S3.SS1.p3.1" class="ltx_p"><span id="S3.SS1.p3.1.1" class="ltx_text ltx_font_bold">Motivation.</span> As discussed in the aforementioned technical challenges, the <em id="S3.SS1.p3.1.2" class="ltx_emph ltx_font_italic">source-free</em> and <em id="S3.SS1.p3.1.3" class="ltx_emph ltx_font_italic">few-shot</em> conditions make it difficult to adapt guided by the object detection task. Thus, we aim to firstly adapt on the image level, <em id="S3.SS1.p3.1.4" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S3.SS1.p3.1.5" class="ltx_text"></span>, synthesize the target domain like image. However, different from the previous image translation methods that rely on the access to the source domain and the target domain at the same time, the adaptation, guided by the few-shot samples and text from the target domain, on the publicly available trained GAN model provides more flexibility without accessing the source domain data. Moreover, in order to provide reliable guidance for the downstream object detection task, the method for synthesizing the corresponding object detection label is developed. Inspired by the observation that the trained GAN model encodes the rich knowledge related to the object category and position implicitly in the latent feature space, we introduce the label synthesis branch to produce the object category and bounding box annotation automatically, providing only minimum human effort, <em id="S3.SS1.p3.1.6" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S3.SS1.p3.1.7" class="ltx_text"></span>, few-shot manual annotation.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Efficient Labeled Data Factory for SF-FSDA Problem</h3>

<div id="S3.SS2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.p1.1" class="ltx_p">In order to deal with the SF-FSDA problem, we propose the efficient labeled data factory based method, as shown in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.2 Efficient Labeled Data Factory for SF-FSDA Problem ‣ 3 Method ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. Since the SF-FSDA problem touches the <em id="S3.SS2.p1.1.1" class="ltx_emph ltx_font_italic">source-free</em> setting, the whole training stage will be divided into, i) source-pretraining stage, ii) image and label synthesis stage and iii) target-adaptation stage. In the i) source-pretraining stage, the object detection model is trained on the source domain. Then in the ii) image and label synthesis stage, the efficient labeled data factory is driven by the few-shot image sample and text guidance from the target domain to synthesize the image with the image synthesis branch, and the label synthesis branch automatically synthesizes the corresponding object detection label by only providing the few-shot manual annotation. In the iii) target-adaptation stage, the synthesized image and corresponding label synthesized in stage ii) are exploited to fine-tune the source pretrained object detection model in stage i).</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2306.04385/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="500" height="178" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>(a) Method overview. The well labeled PASCAL VOC dataset is taken as the source domain, while there are only few-shot unlabeled Comic samples available in the target domain. The aim is to train the domain-adaptive object detection model under the <em id="S3.F2.7.1" class="ltx_emph ltx_font_italic">source-free</em> and <em id="S3.F2.8.2" class="ltx_emph ltx_font_italic">few-shot</em> condition, <em id="S3.F2.9.3" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S3.F2.10.4" class="ltx_text"></span>, only the source pretrained model and few-shot target domain samples are available for the adaptation to the target domain. The efficient data factory module is composed of the image synthesis branch and the detection label synthesis branch. The image synthesis branch is guided by the few-shot samples and text from the target domain, to synthesize the target domain-like image. The detection label synthesis branch aims to automatically synthesize the bounding box and category label, with the help of minimum human effort, <em id="S3.F2.11.5" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S3.F2.12.6" class="ltx_text"></span>, few-shot manual annotation. (b) Image synthesis overview. The image synthesis branch is driven by the few-shot image samples guidance and the text guidance.
</figcaption>
</figure>
<div id="S3.SS2.p2" class="ltx_para ltx_noindent">
<p id="S3.SS2.p2.8" class="ltx_p"><span id="S3.SS2.p2.8.1" class="ltx_text ltx_font_bold">Image Synthesis with Few-Shot Image Guidance.</span>
Given a publicly pretrained GAN model with the generator <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="G" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">G</annotation></semantics></math>, we aim to learn an adapted generator <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="G_{t}" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><msub id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">G</mi><mi id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝐺</ci><ci id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">G_{t}</annotation></semantics></math> guided by the few-shot image samples <math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="\{\mathbf{x}_{t}^{i}\}_{i=1}^{N_{t}}" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><msubsup id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mrow id="S3.SS2.p2.3.m3.1.1.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p2.3.m3.1.1.1.1.1.2" xref="S3.SS2.p2.3.m3.1.1.1.1.2.cmml">{</mo><msubsup id="S3.SS2.p2.3.m3.1.1.1.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.2" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.3" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.3.cmml">t</mi><mi id="S3.SS2.p2.3.m3.1.1.1.1.1.1.3" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS2.p2.3.m3.1.1.1.1.1.3" xref="S3.SS2.p2.3.m3.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p2.3.m3.1.1.1.3" xref="S3.SS2.p2.3.m3.1.1.1.3.cmml"><mi id="S3.SS2.p2.3.m3.1.1.1.3.2" xref="S3.SS2.p2.3.m3.1.1.1.3.2.cmml">i</mi><mo id="S3.SS2.p2.3.m3.1.1.1.3.1" xref="S3.SS2.p2.3.m3.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p2.3.m3.1.1.1.3.3" xref="S3.SS2.p2.3.m3.1.1.1.3.3.cmml">1</mn></mrow><msub id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml"><mi id="S3.SS2.p2.3.m3.1.1.3.2" xref="S3.SS2.p2.3.m3.1.1.3.2.cmml">N</mi><mi id="S3.SS2.p2.3.m3.1.1.3.3" xref="S3.SS2.p2.3.m3.1.1.3.3.cmml">t</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1">superscript</csymbol><apply id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1">subscript</csymbol><set id="S3.SS2.p2.3.m3.1.1.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1"><apply id="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.p2.3.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.SS2.p2.3.m3.1.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.1.3"><eq id="S3.SS2.p2.3.m3.1.1.1.3.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1.3.1"></eq><ci id="S3.SS2.p2.3.m3.1.1.1.3.2.cmml" xref="S3.SS2.p2.3.m3.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS2.p2.3.m3.1.1.1.3.3.cmml" xref="S3.SS2.p2.3.m3.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.3.1.cmml" xref="S3.SS2.p2.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.3.2.cmml" xref="S3.SS2.p2.3.m3.1.1.3.2">𝑁</ci><ci id="S3.SS2.p2.3.m3.1.1.3.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">\{\mathbf{x}_{t}^{i}\}_{i=1}^{N_{t}}</annotation></semantics></math> from the target domain <math id="S3.SS2.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{T}" display="inline"><semantics id="S3.SS2.p2.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><ci id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">\mathcal{T}</annotation></semantics></math>.
Following <cite class="ltx_cite ltx_citemacro_cite">Ojha et al. (<a href="#bib.bib42" title="" class="ltx_ref">2021</a>)</cite>, the distance consistency regularization, <math id="S3.SS2.p2.5.m5.1" class="ltx_Math" alttext="\mathcal{L}_{dist}" display="inline"><semantics id="S3.SS2.p2.5.m5.1a"><msub id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.5.m5.1.1.2" xref="S3.SS2.p2.5.m5.1.1.2.cmml">ℒ</mi><mrow id="S3.SS2.p2.5.m5.1.1.3" xref="S3.SS2.p2.5.m5.1.1.3.cmml"><mi id="S3.SS2.p2.5.m5.1.1.3.2" xref="S3.SS2.p2.5.m5.1.1.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.5.m5.1.1.3.1" xref="S3.SS2.p2.5.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.5.m5.1.1.3.3" xref="S3.SS2.p2.5.m5.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.5.m5.1.1.3.1a" xref="S3.SS2.p2.5.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.5.m5.1.1.3.4" xref="S3.SS2.p2.5.m5.1.1.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.5.m5.1.1.3.1b" xref="S3.SS2.p2.5.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.5.m5.1.1.3.5" xref="S3.SS2.p2.5.m5.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><apply id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m5.1.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p2.5.m5.1.1.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2">ℒ</ci><apply id="S3.SS2.p2.5.m5.1.1.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3"><times id="S3.SS2.p2.5.m5.1.1.3.1.cmml" xref="S3.SS2.p2.5.m5.1.1.3.1"></times><ci id="S3.SS2.p2.5.m5.1.1.3.2.cmml" xref="S3.SS2.p2.5.m5.1.1.3.2">𝑑</ci><ci id="S3.SS2.p2.5.m5.1.1.3.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3.3">𝑖</ci><ci id="S3.SS2.p2.5.m5.1.1.3.4.cmml" xref="S3.SS2.p2.5.m5.1.1.3.4">𝑠</ci><ci id="S3.SS2.p2.5.m5.1.1.3.5.cmml" xref="S3.SS2.p2.5.m5.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">\mathcal{L}_{dist}</annotation></semantics></math>, is utilized to preserve the original content and diversity of the image samples, and the anchor-based relaxed realism is adopted to further prevent the overfitting to the few-shot image samples. In more detail, the distance consistency regularization samples a batch of <math id="S3.SS2.p2.6.m6.1" class="ltx_Math" alttext="N+1" display="inline"><semantics id="S3.SS2.p2.6.m6.1a"><mrow id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml"><mi id="S3.SS2.p2.6.m6.1.1.2" xref="S3.SS2.p2.6.m6.1.1.2.cmml">N</mi><mo id="S3.SS2.p2.6.m6.1.1.1" xref="S3.SS2.p2.6.m6.1.1.1.cmml">+</mo><mn id="S3.SS2.p2.6.m6.1.1.3" xref="S3.SS2.p2.6.m6.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><apply id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1"><plus id="S3.SS2.p2.6.m6.1.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1.1"></plus><ci id="S3.SS2.p2.6.m6.1.1.2.cmml" xref="S3.SS2.p2.6.m6.1.1.2">𝑁</ci><cn type="integer" id="S3.SS2.p2.6.m6.1.1.3.cmml" xref="S3.SS2.p2.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">N+1</annotation></semantics></math> noise vectors and uses their pairwise similarities in feature space to construct an <math id="S3.SS2.p2.7.m7.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS2.p2.7.m7.1a"><mi id="S3.SS2.p2.7.m7.1.1" xref="S3.SS2.p2.7.m7.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m7.1b"><ci id="S3.SS2.p2.7.m7.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m7.1c">N</annotation></semantics></math>-way probability distributions for each image. The <math id="S3.SS2.p2.8.m8.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS2.p2.8.m8.1a"><mi id="S3.SS2.p2.8.m8.1.1" xref="S3.SS2.p2.8.m8.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m8.1b"><ci id="S3.SS2.p2.8.m8.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m8.1c">N</annotation></semantics></math>-way probability of the image generated by the i-th noise vector is given by:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.58" class="ltx_Math" alttext="\begin{gathered}y_{i}^{m}=\operatorname{Softmax}\left(\left\{\operatorname{sim}\left(G^{m}\left(z_{i}\right),G^{m}\left(z_{j}\right)\right)\right\}_{\forall i\neq j}\right)\\
y_{i}^{t,m}=\operatorname{Softmax}\left(\left\{\operatorname{sim}\left(G_{t}^{m}\left(z_{i}\right),G_{t}^{m}\left(z_{j}\right)\right)\right\}_{\forall i\neq j}\right),\end{gathered}" display="block"><semantics id="S3.E1.m1.58a"><mtable displaystyle="true" rowspacing="0pt" id="S3.E1.m1.58.58.3"><mtr id="S3.E1.m1.58.58.3a"><mtd id="S3.E1.m1.58.58.3b"><mrow id="S3.E1.m1.57.57.2.56.27.27"><msubsup id="S3.E1.m1.57.57.2.56.27.27.28"><mi id="S3.E1.m1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.cmml">y</mi><mi id="S3.E1.m1.2.2.2.2.2.2.1" xref="S3.E1.m1.2.2.2.2.2.2.1.cmml">i</mi><mi id="S3.E1.m1.3.3.3.3.3.3.1" xref="S3.E1.m1.3.3.3.3.3.3.1.cmml">m</mi></msubsup><mo id="S3.E1.m1.4.4.4.4.4.4" xref="S3.E1.m1.4.4.4.4.4.4.cmml">=</mo><mrow id="S3.E1.m1.57.57.2.56.27.27.27.1"><mi id="S3.E1.m1.5.5.5.5.5.5" xref="S3.E1.m1.5.5.5.5.5.5.cmml">Softmax</mi><mo id="S3.E1.m1.57.57.2.56.27.27.27.1a" xref="S3.E1.m1.56.56.1.1.1.cmml">⁡</mo><mrow id="S3.E1.m1.57.57.2.56.27.27.27.1.1"><mo id="S3.E1.m1.6.6.6.6.6.6" xref="S3.E1.m1.56.56.1.1.1.cmml">(</mo><msub id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1"><mrow id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1"><mo id="S3.E1.m1.7.7.7.7.7.7" xref="S3.E1.m1.56.56.1.1.1.cmml">{</mo><mrow id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1"><mi id="S3.E1.m1.8.8.8.8.8.8" xref="S3.E1.m1.8.8.8.8.8.8.cmml">sim</mi><mo id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1a" xref="S3.E1.m1.56.56.1.1.1.cmml">⁡</mo><mrow id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.2.2"><mo id="S3.E1.m1.9.9.9.9.9.9" xref="S3.E1.m1.56.56.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.1.1.1"><msup id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.1.1.1.3"><mi id="S3.E1.m1.10.10.10.10.10.10" xref="S3.E1.m1.10.10.10.10.10.10.cmml">G</mi><mi id="S3.E1.m1.11.11.11.11.11.11.1" xref="S3.E1.m1.11.11.11.11.11.11.1.cmml">m</mi></msup><mo lspace="0em" rspace="0em" id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.56.56.1.1.1.cmml">​</mo><mrow id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.1.1.1.1.1"><mo id="S3.E1.m1.12.12.12.12.12.12" xref="S3.E1.m1.56.56.1.1.1.cmml">(</mo><msub id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.1.1.1.1.1.1"><mi id="S3.E1.m1.13.13.13.13.13.13" xref="S3.E1.m1.13.13.13.13.13.13.cmml">z</mi><mi id="S3.E1.m1.14.14.14.14.14.14.1" xref="S3.E1.m1.14.14.14.14.14.14.1.cmml">i</mi></msub><mo id="S3.E1.m1.15.15.15.15.15.15" xref="S3.E1.m1.56.56.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.16.16.16.16.16.16" xref="S3.E1.m1.56.56.1.1.1.cmml">,</mo><mrow id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.2.2.2"><msup id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.2.2.2.3"><mi id="S3.E1.m1.17.17.17.17.17.17" xref="S3.E1.m1.17.17.17.17.17.17.cmml">G</mi><mi id="S3.E1.m1.18.18.18.18.18.18.1" xref="S3.E1.m1.18.18.18.18.18.18.1.cmml">m</mi></msup><mo lspace="0em" rspace="0em" id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.2.2.2.2" xref="S3.E1.m1.56.56.1.1.1.cmml">​</mo><mrow id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.2.2.2.1.1"><mo id="S3.E1.m1.19.19.19.19.19.19" xref="S3.E1.m1.56.56.1.1.1.cmml">(</mo><msub id="S3.E1.m1.57.57.2.56.27.27.27.1.1.1.1.1.1.2.2.2.1.1.1"><mi id="S3.E1.m1.20.20.20.20.20.20" xref="S3.E1.m1.20.20.20.20.20.20.cmml">z</mi><mi id="S3.E1.m1.21.21.21.21.21.21.1" xref="S3.E1.m1.21.21.21.21.21.21.1.cmml">j</mi></msub><mo id="S3.E1.m1.22.22.22.22.22.22" xref="S3.E1.m1.56.56.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.23.23.23.23.23.23" xref="S3.E1.m1.56.56.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.24.24.24.24.24.24" xref="S3.E1.m1.56.56.1.1.1.cmml">}</mo></mrow><mrow id="S3.E1.m1.25.25.25.25.25.25.1" xref="S3.E1.m1.25.25.25.25.25.25.1.cmml"><mrow id="S3.E1.m1.25.25.25.25.25.25.1.2" xref="S3.E1.m1.25.25.25.25.25.25.1.2.cmml"><mo rspace="0.167em" id="S3.E1.m1.25.25.25.25.25.25.1.2.1" xref="S3.E1.m1.25.25.25.25.25.25.1.2.1.cmml">∀</mo><mi id="S3.E1.m1.25.25.25.25.25.25.1.2.2" xref="S3.E1.m1.25.25.25.25.25.25.1.2.2.cmml">i</mi></mrow><mo id="S3.E1.m1.25.25.25.25.25.25.1.1" xref="S3.E1.m1.25.25.25.25.25.25.1.1.cmml">≠</mo><mi id="S3.E1.m1.25.25.25.25.25.25.1.3" xref="S3.E1.m1.25.25.25.25.25.25.1.3.cmml">j</mi></mrow></msub><mo id="S3.E1.m1.26.26.26.26.26.26" xref="S3.E1.m1.56.56.1.1.1.cmml">)</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S3.E1.m1.58.58.3c"><mtd id="S3.E1.m1.58.58.3d"><mrow id="S3.E1.m1.58.58.3.57.30.30.30"><mrow id="S3.E1.m1.58.58.3.57.30.30.30.1"><msubsup id="S3.E1.m1.58.58.3.57.30.30.30.1.2"><mi id="S3.E1.m1.27.27.27.1.1.1" xref="S3.E1.m1.27.27.27.1.1.1.cmml">y</mi><mi id="S3.E1.m1.28.28.28.2.2.2.1" xref="S3.E1.m1.28.28.28.2.2.2.1.cmml">i</mi><mrow id="S3.E1.m1.29.29.29.3.3.3.1.4" xref="S3.E1.m1.29.29.29.3.3.3.1.3.cmml"><mi id="S3.E1.m1.29.29.29.3.3.3.1.1" xref="S3.E1.m1.29.29.29.3.3.3.1.1.cmml">t</mi><mo id="S3.E1.m1.29.29.29.3.3.3.1.4.1" xref="S3.E1.m1.29.29.29.3.3.3.1.3.cmml">,</mo><mi id="S3.E1.m1.29.29.29.3.3.3.1.2" xref="S3.E1.m1.29.29.29.3.3.3.1.2.cmml">m</mi></mrow></msubsup><mo id="S3.E1.m1.30.30.30.4.4.4" xref="S3.E1.m1.30.30.30.4.4.4.cmml">=</mo><mrow id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1"><mi id="S3.E1.m1.31.31.31.5.5.5" xref="S3.E1.m1.31.31.31.5.5.5.cmml">Softmax</mi><mo id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1a" xref="S3.E1.m1.56.56.1.1.1.cmml">⁡</mo><mrow id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1"><mo id="S3.E1.m1.32.32.32.6.6.6" xref="S3.E1.m1.56.56.1.1.1.cmml">(</mo><msub id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1"><mrow id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1"><mo id="S3.E1.m1.33.33.33.7.7.7" xref="S3.E1.m1.56.56.1.1.1.cmml">{</mo><mrow id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1"><mi id="S3.E1.m1.34.34.34.8.8.8" xref="S3.E1.m1.34.34.34.8.8.8.cmml">sim</mi><mo id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1a" xref="S3.E1.m1.56.56.1.1.1.cmml">⁡</mo><mrow id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.2.2"><mo id="S3.E1.m1.35.35.35.9.9.9" xref="S3.E1.m1.56.56.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.1.1.1"><msubsup id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.1.1.1.3"><mi id="S3.E1.m1.36.36.36.10.10.10" xref="S3.E1.m1.36.36.36.10.10.10.cmml">G</mi><mi id="S3.E1.m1.37.37.37.11.11.11.1" xref="S3.E1.m1.37.37.37.11.11.11.1.cmml">t</mi><mi id="S3.E1.m1.38.38.38.12.12.12.1" xref="S3.E1.m1.38.38.38.12.12.12.1.cmml">m</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.56.56.1.1.1.cmml">​</mo><mrow id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.1.1.1.1.1"><mo id="S3.E1.m1.39.39.39.13.13.13" xref="S3.E1.m1.56.56.1.1.1.cmml">(</mo><msub id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><mi id="S3.E1.m1.40.40.40.14.14.14" xref="S3.E1.m1.40.40.40.14.14.14.cmml">z</mi><mi id="S3.E1.m1.41.41.41.15.15.15.1" xref="S3.E1.m1.41.41.41.15.15.15.1.cmml">i</mi></msub><mo id="S3.E1.m1.42.42.42.16.16.16" xref="S3.E1.m1.56.56.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.43.43.43.17.17.17" xref="S3.E1.m1.56.56.1.1.1.cmml">,</mo><mrow id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.2.2.2"><msubsup id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.2.2.2.3"><mi id="S3.E1.m1.44.44.44.18.18.18" xref="S3.E1.m1.44.44.44.18.18.18.cmml">G</mi><mi id="S3.E1.m1.45.45.45.19.19.19.1" xref="S3.E1.m1.45.45.45.19.19.19.1.cmml">t</mi><mi id="S3.E1.m1.46.46.46.20.20.20.1" xref="S3.E1.m1.46.46.46.20.20.20.1.cmml">m</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E1.m1.56.56.1.1.1.cmml">​</mo><mrow id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.2.2.2.1.1"><mo id="S3.E1.m1.47.47.47.21.21.21" xref="S3.E1.m1.56.56.1.1.1.cmml">(</mo><msub id="S3.E1.m1.58.58.3.57.30.30.30.1.1.1.1.1.1.1.1.2.2.2.1.1.1"><mi id="S3.E1.m1.48.48.48.22.22.22" xref="S3.E1.m1.48.48.48.22.22.22.cmml">z</mi><mi id="S3.E1.m1.49.49.49.23.23.23.1" xref="S3.E1.m1.49.49.49.23.23.23.1.cmml">j</mi></msub><mo id="S3.E1.m1.50.50.50.24.24.24" xref="S3.E1.m1.56.56.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.51.51.51.25.25.25" xref="S3.E1.m1.56.56.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.52.52.52.26.26.26" xref="S3.E1.m1.56.56.1.1.1.cmml">}</mo></mrow><mrow id="S3.E1.m1.53.53.53.27.27.27.1" xref="S3.E1.m1.53.53.53.27.27.27.1.cmml"><mrow id="S3.E1.m1.53.53.53.27.27.27.1.2" xref="S3.E1.m1.53.53.53.27.27.27.1.2.cmml"><mo rspace="0.167em" id="S3.E1.m1.53.53.53.27.27.27.1.2.1" xref="S3.E1.m1.53.53.53.27.27.27.1.2.1.cmml">∀</mo><mi id="S3.E1.m1.53.53.53.27.27.27.1.2.2" xref="S3.E1.m1.53.53.53.27.27.27.1.2.2.cmml">i</mi></mrow><mo id="S3.E1.m1.53.53.53.27.27.27.1.1" xref="S3.E1.m1.53.53.53.27.27.27.1.1.cmml">≠</mo><mi id="S3.E1.m1.53.53.53.27.27.27.1.3" xref="S3.E1.m1.53.53.53.27.27.27.1.3.cmml">j</mi></mrow></msub><mo id="S3.E1.m1.54.54.54.28.28.28" xref="S3.E1.m1.56.56.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.55.55.55.29.29.29" xref="S3.E1.m1.56.56.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E1.m1.58b"><apply id="S3.E1.m1.56.56.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><and id="S3.E1.m1.56.56.1.1.1a.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"></and><apply id="S3.E1.m1.56.56.1.1.1b.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><eq id="S3.E1.m1.4.4.4.4.4.4.cmml" xref="S3.E1.m1.4.4.4.4.4.4"></eq><apply id="S3.E1.m1.56.56.1.1.1.4.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.4.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">superscript</csymbol><apply id="S3.E1.m1.56.56.1.1.1.4.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.4.2.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1">𝑦</ci><ci id="S3.E1.m1.2.2.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.2.2.2.1">𝑖</ci></apply><ci id="S3.E1.m1.3.3.3.3.3.3.1.cmml" xref="S3.E1.m1.3.3.3.3.3.3.1">𝑚</ci></apply><apply id="S3.E1.m1.56.56.1.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><times id="S3.E1.m1.56.56.1.1.1.1.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"></times><apply id="S3.E1.m1.56.56.1.1.1.1.1.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><ci id="S3.E1.m1.5.5.5.5.5.5.cmml" xref="S3.E1.m1.5.5.5.5.5.5">Softmax</ci><apply id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">subscript</csymbol><set id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><apply id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><ci id="S3.E1.m1.8.8.8.8.8.8.cmml" xref="S3.E1.m1.8.8.8.8.8.8">sim</ci><apply id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><times id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"></times><apply id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">superscript</csymbol><ci id="S3.E1.m1.10.10.10.10.10.10.cmml" xref="S3.E1.m1.10.10.10.10.10.10">𝐺</ci><ci id="S3.E1.m1.11.11.11.11.11.11.1.cmml" xref="S3.E1.m1.11.11.11.11.11.11.1">𝑚</ci></apply><apply id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">subscript</csymbol><ci id="S3.E1.m1.13.13.13.13.13.13.cmml" xref="S3.E1.m1.13.13.13.13.13.13">𝑧</ci><ci id="S3.E1.m1.14.14.14.14.14.14.1.cmml" xref="S3.E1.m1.14.14.14.14.14.14.1">𝑖</ci></apply></apply><apply id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><times id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"></times><apply id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">superscript</csymbol><ci id="S3.E1.m1.17.17.17.17.17.17.cmml" xref="S3.E1.m1.17.17.17.17.17.17">𝐺</ci><ci id="S3.E1.m1.18.18.18.18.18.18.1.cmml" xref="S3.E1.m1.18.18.18.18.18.18.1">𝑚</ci></apply><apply id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">subscript</csymbol><ci id="S3.E1.m1.20.20.20.20.20.20.cmml" xref="S3.E1.m1.20.20.20.20.20.20">𝑧</ci><ci id="S3.E1.m1.21.21.21.21.21.21.1.cmml" xref="S3.E1.m1.21.21.21.21.21.21.1">𝑗</ci></apply></apply></apply></set><apply id="S3.E1.m1.25.25.25.25.25.25.1.cmml" xref="S3.E1.m1.25.25.25.25.25.25.1"><neq id="S3.E1.m1.25.25.25.25.25.25.1.1.cmml" xref="S3.E1.m1.25.25.25.25.25.25.1.1"></neq><apply id="S3.E1.m1.25.25.25.25.25.25.1.2.cmml" xref="S3.E1.m1.25.25.25.25.25.25.1.2"><csymbol cd="latexml" id="S3.E1.m1.25.25.25.25.25.25.1.2.1.cmml" xref="S3.E1.m1.25.25.25.25.25.25.1.2.1">for-all</csymbol><ci id="S3.E1.m1.25.25.25.25.25.25.1.2.2.cmml" xref="S3.E1.m1.25.25.25.25.25.25.1.2.2">𝑖</ci></apply><ci id="S3.E1.m1.25.25.25.25.25.25.1.3.cmml" xref="S3.E1.m1.25.25.25.25.25.25.1.3">𝑗</ci></apply></apply></apply><apply id="S3.E1.m1.56.56.1.1.1.1.3.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.1.3.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">superscript</csymbol><apply id="S3.E1.m1.56.56.1.1.1.1.3.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.1.3.2.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">subscript</csymbol><ci id="S3.E1.m1.27.27.27.1.1.1.cmml" xref="S3.E1.m1.27.27.27.1.1.1">𝑦</ci><ci id="S3.E1.m1.28.28.28.2.2.2.1.cmml" xref="S3.E1.m1.28.28.28.2.2.2.1">𝑖</ci></apply><list id="S3.E1.m1.29.29.29.3.3.3.1.3.cmml" xref="S3.E1.m1.29.29.29.3.3.3.1.4"><ci id="S3.E1.m1.29.29.29.3.3.3.1.1.cmml" xref="S3.E1.m1.29.29.29.3.3.3.1.1">𝑡</ci><ci id="S3.E1.m1.29.29.29.3.3.3.1.2.cmml" xref="S3.E1.m1.29.29.29.3.3.3.1.2">𝑚</ci></list></apply></apply></apply><apply id="S3.E1.m1.56.56.1.1.1c.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><eq id="S3.E1.m1.30.30.30.4.4.4.cmml" xref="S3.E1.m1.30.30.30.4.4.4"></eq><share href="#S3.E1.m1.56.56.1.1.1.1.cmml" id="S3.E1.m1.56.56.1.1.1d.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"></share><apply id="S3.E1.m1.56.56.1.1.1.2.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><ci id="S3.E1.m1.31.31.31.5.5.5.cmml" xref="S3.E1.m1.31.31.31.5.5.5">Softmax</ci><apply id="S3.E1.m1.56.56.1.1.1.2.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.2.1.1.1.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">subscript</csymbol><set id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><apply id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><ci id="S3.E1.m1.34.34.34.8.8.8.cmml" xref="S3.E1.m1.34.34.34.8.8.8">sim</ci><apply id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><times id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"></times><apply id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">superscript</csymbol><apply id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">subscript</csymbol><ci id="S3.E1.m1.36.36.36.10.10.10.cmml" xref="S3.E1.m1.36.36.36.10.10.10">𝐺</ci><ci id="S3.E1.m1.37.37.37.11.11.11.1.cmml" xref="S3.E1.m1.37.37.37.11.11.11.1">𝑡</ci></apply><ci id="S3.E1.m1.38.38.38.12.12.12.1.cmml" xref="S3.E1.m1.38.38.38.12.12.12.1">𝑚</ci></apply><apply id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">subscript</csymbol><ci id="S3.E1.m1.40.40.40.14.14.14.cmml" xref="S3.E1.m1.40.40.40.14.14.14">𝑧</ci><ci id="S3.E1.m1.41.41.41.15.15.15.1.cmml" xref="S3.E1.m1.41.41.41.15.15.15.1">𝑖</ci></apply></apply><apply id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><times id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"></times><apply id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">superscript</csymbol><apply id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.2.2.2.3.2.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">subscript</csymbol><ci id="S3.E1.m1.44.44.44.18.18.18.cmml" xref="S3.E1.m1.44.44.44.18.18.18">𝐺</ci><ci id="S3.E1.m1.45.45.45.19.19.19.1.cmml" xref="S3.E1.m1.45.45.45.19.19.19.1">𝑡</ci></apply><ci id="S3.E1.m1.46.46.46.20.20.20.1.cmml" xref="S3.E1.m1.46.46.46.20.20.20.1">𝑚</ci></apply><apply id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.2.2.2.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a"><csymbol cd="ambiguous" id="S3.E1.m1.56.56.1.1.1.2.1.1.1.1.1.1.2.2.2.1.1.1.1.cmml" xref="S3.E1.m1.57.57.2.56.27.27.27.1a">subscript</csymbol><ci id="S3.E1.m1.48.48.48.22.22.22.cmml" xref="S3.E1.m1.48.48.48.22.22.22">𝑧</ci><ci id="S3.E1.m1.49.49.49.23.23.23.1.cmml" xref="S3.E1.m1.49.49.49.23.23.23.1">𝑗</ci></apply></apply></apply></set><apply id="S3.E1.m1.53.53.53.27.27.27.1.cmml" xref="S3.E1.m1.53.53.53.27.27.27.1"><neq id="S3.E1.m1.53.53.53.27.27.27.1.1.cmml" xref="S3.E1.m1.53.53.53.27.27.27.1.1"></neq><apply id="S3.E1.m1.53.53.53.27.27.27.1.2.cmml" xref="S3.E1.m1.53.53.53.27.27.27.1.2"><csymbol cd="latexml" id="S3.E1.m1.53.53.53.27.27.27.1.2.1.cmml" xref="S3.E1.m1.53.53.53.27.27.27.1.2.1">for-all</csymbol><ci id="S3.E1.m1.53.53.53.27.27.27.1.2.2.cmml" xref="S3.E1.m1.53.53.53.27.27.27.1.2.2">𝑖</ci></apply><ci id="S3.E1.m1.53.53.53.27.27.27.1.3.cmml" xref="S3.E1.m1.53.53.53.27.27.27.1.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.58c">\begin{gathered}y_{i}^{m}=\operatorname{Softmax}\left(\left\{\operatorname{sim}\left(G^{m}\left(z_{i}\right),G^{m}\left(z_{j}\right)\right)\right\}_{\forall i\neq j}\right)\\
y_{i}^{t,m}=\operatorname{Softmax}\left(\left\{\operatorname{sim}\left(G_{t}^{m}\left(z_{i}\right),G_{t}^{m}\left(z_{j}\right)\right)\right\}_{\forall i\neq j}\right),\end{gathered}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p2.14" class="ltx_p">where similarity denotes the cosine similarity of activations at the <math id="S3.SS2.p2.9.m1.1" class="ltx_Math" alttext="m^{th}" display="inline"><semantics id="S3.SS2.p2.9.m1.1a"><msup id="S3.SS2.p2.9.m1.1.1" xref="S3.SS2.p2.9.m1.1.1.cmml"><mi id="S3.SS2.p2.9.m1.1.1.2" xref="S3.SS2.p2.9.m1.1.1.2.cmml">m</mi><mrow id="S3.SS2.p2.9.m1.1.1.3" xref="S3.SS2.p2.9.m1.1.1.3.cmml"><mi id="S3.SS2.p2.9.m1.1.1.3.2" xref="S3.SS2.p2.9.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.9.m1.1.1.3.1" xref="S3.SS2.p2.9.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.9.m1.1.1.3.3" xref="S3.SS2.p2.9.m1.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.9.m1.1b"><apply id="S3.SS2.p2.9.m1.1.1.cmml" xref="S3.SS2.p2.9.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.9.m1.1.1.1.cmml" xref="S3.SS2.p2.9.m1.1.1">superscript</csymbol><ci id="S3.SS2.p2.9.m1.1.1.2.cmml" xref="S3.SS2.p2.9.m1.1.1.2">𝑚</ci><apply id="S3.SS2.p2.9.m1.1.1.3.cmml" xref="S3.SS2.p2.9.m1.1.1.3"><times id="S3.SS2.p2.9.m1.1.1.3.1.cmml" xref="S3.SS2.p2.9.m1.1.1.3.1"></times><ci id="S3.SS2.p2.9.m1.1.1.3.2.cmml" xref="S3.SS2.p2.9.m1.1.1.3.2">𝑡</ci><ci id="S3.SS2.p2.9.m1.1.1.3.3.cmml" xref="S3.SS2.p2.9.m1.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.9.m1.1c">m^{th}</annotation></semantics></math> layer between generator <math id="S3.SS2.p2.10.m2.1" class="ltx_Math" alttext="G" display="inline"><semantics id="S3.SS2.p2.10.m2.1a"><mi id="S3.SS2.p2.10.m2.1.1" xref="S3.SS2.p2.10.m2.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.10.m2.1b"><ci id="S3.SS2.p2.10.m2.1.1.cmml" xref="S3.SS2.p2.10.m2.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.10.m2.1c">G</annotation></semantics></math> and <math id="S3.SS2.p2.11.m3.1" class="ltx_Math" alttext="G_{t}" display="inline"><semantics id="S3.SS2.p2.11.m3.1a"><msub id="S3.SS2.p2.11.m3.1.1" xref="S3.SS2.p2.11.m3.1.1.cmml"><mi id="S3.SS2.p2.11.m3.1.1.2" xref="S3.SS2.p2.11.m3.1.1.2.cmml">G</mi><mi id="S3.SS2.p2.11.m3.1.1.3" xref="S3.SS2.p2.11.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.11.m3.1b"><apply id="S3.SS2.p2.11.m3.1.1.cmml" xref="S3.SS2.p2.11.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.11.m3.1.1.1.cmml" xref="S3.SS2.p2.11.m3.1.1">subscript</csymbol><ci id="S3.SS2.p2.11.m3.1.1.2.cmml" xref="S3.SS2.p2.11.m3.1.1.2">𝐺</ci><ci id="S3.SS2.p2.11.m3.1.1.3.cmml" xref="S3.SS2.p2.11.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.11.m3.1c">G_{t}</annotation></semantics></math>. The probability distributions converted from the similarities of the adapted model and the given publicly pretrained model are encouraged to be uniform by computing KL-divergence across the intermediate layers. With the anchor-based relaxed realism, a dual-discriminator training approach is deployed to prevent overfitting to the few-shot samples. An anchor region is defined as a subset of the entire input latent space <math id="S3.SS2.p2.12.m4.1" class="ltx_Math" alttext="\mathcal{Z}" display="inline"><semantics id="S3.SS2.p2.12.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.12.m4.1.1" xref="S3.SS2.p2.12.m4.1.1.cmml">𝒵</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.12.m4.1b"><ci id="S3.SS2.p2.12.m4.1.1.cmml" xref="S3.SS2.p2.12.m4.1.1">𝒵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.12.m4.1c">\mathcal{Z}</annotation></semantics></math>. When sampled from these regions, we use a full image discriminator <math id="S3.SS2.p2.13.m5.1" class="ltx_Math" alttext="D_{img}" display="inline"><semantics id="S3.SS2.p2.13.m5.1a"><msub id="S3.SS2.p2.13.m5.1.1" xref="S3.SS2.p2.13.m5.1.1.cmml"><mi id="S3.SS2.p2.13.m5.1.1.2" xref="S3.SS2.p2.13.m5.1.1.2.cmml">D</mi><mrow id="S3.SS2.p2.13.m5.1.1.3" xref="S3.SS2.p2.13.m5.1.1.3.cmml"><mi id="S3.SS2.p2.13.m5.1.1.3.2" xref="S3.SS2.p2.13.m5.1.1.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.13.m5.1.1.3.1" xref="S3.SS2.p2.13.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.13.m5.1.1.3.3" xref="S3.SS2.p2.13.m5.1.1.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.13.m5.1.1.3.1a" xref="S3.SS2.p2.13.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.13.m5.1.1.3.4" xref="S3.SS2.p2.13.m5.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.13.m5.1b"><apply id="S3.SS2.p2.13.m5.1.1.cmml" xref="S3.SS2.p2.13.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.13.m5.1.1.1.cmml" xref="S3.SS2.p2.13.m5.1.1">subscript</csymbol><ci id="S3.SS2.p2.13.m5.1.1.2.cmml" xref="S3.SS2.p2.13.m5.1.1.2">𝐷</ci><apply id="S3.SS2.p2.13.m5.1.1.3.cmml" xref="S3.SS2.p2.13.m5.1.1.3"><times id="S3.SS2.p2.13.m5.1.1.3.1.cmml" xref="S3.SS2.p2.13.m5.1.1.3.1"></times><ci id="S3.SS2.p2.13.m5.1.1.3.2.cmml" xref="S3.SS2.p2.13.m5.1.1.3.2">𝑖</ci><ci id="S3.SS2.p2.13.m5.1.1.3.3.cmml" xref="S3.SS2.p2.13.m5.1.1.3.3">𝑚</ci><ci id="S3.SS2.p2.13.m5.1.1.3.4.cmml" xref="S3.SS2.p2.13.m5.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.13.m5.1c">D_{img}</annotation></semantics></math>. Outside of them, we enforce adversarial loss using a patch-level discriminator <math id="S3.SS2.p2.14.m6.1" class="ltx_Math" alttext="D_{patch}" display="inline"><semantics id="S3.SS2.p2.14.m6.1a"><msub id="S3.SS2.p2.14.m6.1.1" xref="S3.SS2.p2.14.m6.1.1.cmml"><mi id="S3.SS2.p2.14.m6.1.1.2" xref="S3.SS2.p2.14.m6.1.1.2.cmml">D</mi><mrow id="S3.SS2.p2.14.m6.1.1.3" xref="S3.SS2.p2.14.m6.1.1.3.cmml"><mi id="S3.SS2.p2.14.m6.1.1.3.2" xref="S3.SS2.p2.14.m6.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.14.m6.1.1.3.1" xref="S3.SS2.p2.14.m6.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.14.m6.1.1.3.3" xref="S3.SS2.p2.14.m6.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.14.m6.1.1.3.1a" xref="S3.SS2.p2.14.m6.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.14.m6.1.1.3.4" xref="S3.SS2.p2.14.m6.1.1.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.14.m6.1.1.3.1b" xref="S3.SS2.p2.14.m6.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.14.m6.1.1.3.5" xref="S3.SS2.p2.14.m6.1.1.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.14.m6.1.1.3.1c" xref="S3.SS2.p2.14.m6.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.14.m6.1.1.3.6" xref="S3.SS2.p2.14.m6.1.1.3.6.cmml">h</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.14.m6.1b"><apply id="S3.SS2.p2.14.m6.1.1.cmml" xref="S3.SS2.p2.14.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.14.m6.1.1.1.cmml" xref="S3.SS2.p2.14.m6.1.1">subscript</csymbol><ci id="S3.SS2.p2.14.m6.1.1.2.cmml" xref="S3.SS2.p2.14.m6.1.1.2">𝐷</ci><apply id="S3.SS2.p2.14.m6.1.1.3.cmml" xref="S3.SS2.p2.14.m6.1.1.3"><times id="S3.SS2.p2.14.m6.1.1.3.1.cmml" xref="S3.SS2.p2.14.m6.1.1.3.1"></times><ci id="S3.SS2.p2.14.m6.1.1.3.2.cmml" xref="S3.SS2.p2.14.m6.1.1.3.2">𝑝</ci><ci id="S3.SS2.p2.14.m6.1.1.3.3.cmml" xref="S3.SS2.p2.14.m6.1.1.3.3">𝑎</ci><ci id="S3.SS2.p2.14.m6.1.1.3.4.cmml" xref="S3.SS2.p2.14.m6.1.1.3.4">𝑡</ci><ci id="S3.SS2.p2.14.m6.1.1.3.5.cmml" xref="S3.SS2.p2.14.m6.1.1.3.5">𝑐</ci><ci id="S3.SS2.p2.14.m6.1.1.3.6.cmml" xref="S3.SS2.p2.14.m6.1.1.3.6">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.14.m6.1c">D_{patch}</annotation></semantics></math> to avoid overfitting to the few-shot samples.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para ltx_noindent">
<p id="S3.SS2.p3.1" class="ltx_p">We observe minor collapse in style with the training strategy in <cite class="ltx_cite ltx_citemacro_cite">Ojha et al. (<a href="#bib.bib42" title="" class="ltx_ref">2021</a>)</cite> under our setting, <em id="S3.SS2.p3.1.1" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S3.SS2.p3.1.2" class="ltx_text"></span>, the same color or pattern before successful adaptation. Different from <cite class="ltx_cite ltx_citemacro_cite">Ojha et al. (<a href="#bib.bib42" title="" class="ltx_ref">2021</a>)</cite>, we relax the distance consistency regularization during different training phrases to allow a reasonable extent of object shape adaptation while still keeping the original image content.
In the initial training phases, we compute the distance consistency only of the deep layers (<em id="S3.SS2.p3.1.3" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S3.SS2.p3.1.4" class="ltx_text"></span>, after 6th layer) of the generator. After training for certain epochs, we adapt the training strategy and only compare consistency on the shallow layers (<em id="S3.SS2.p3.1.5" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S3.SS2.p3.1.6" class="ltx_text"></span>, before 10th layer) for detailed style adaptation and to preserve the content.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para ltx_noindent">
<p id="S3.SS2.p4.3" class="ltx_p">The objective of image synthesis with few-shot image guidance is,</p>
<table id="S3.E2" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E2X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E2X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle G_{t}^{*}=\arg\min_{G_{t}}\max_{D_{\text{img }},D_{\text{patch }}}" display="inline"><semantics id="S3.E2X.2.1.1.m1.2a"><mrow id="S3.E2X.2.1.1.m1.2.3" xref="S3.E2X.2.1.1.m1.2.3.cmml"><msubsup id="S3.E2X.2.1.1.m1.2.3.2" xref="S3.E2X.2.1.1.m1.2.3.2.cmml"><mi id="S3.E2X.2.1.1.m1.2.3.2.2.2" xref="S3.E2X.2.1.1.m1.2.3.2.2.2.cmml">G</mi><mi id="S3.E2X.2.1.1.m1.2.3.2.2.3" xref="S3.E2X.2.1.1.m1.2.3.2.2.3.cmml">t</mi><mo id="S3.E2X.2.1.1.m1.2.3.2.3" xref="S3.E2X.2.1.1.m1.2.3.2.3.cmml">∗</mo></msubsup><mo id="S3.E2X.2.1.1.m1.2.3.1" xref="S3.E2X.2.1.1.m1.2.3.1.cmml">=</mo><mrow id="S3.E2X.2.1.1.m1.2.3.3" xref="S3.E2X.2.1.1.m1.2.3.3.cmml"><mi id="S3.E2X.2.1.1.m1.2.3.3.1" xref="S3.E2X.2.1.1.m1.2.3.3.1.cmml">arg</mi><mo lspace="0.167em" id="S3.E2X.2.1.1.m1.2.3.3a" xref="S3.E2X.2.1.1.m1.2.3.3.cmml">⁡</mo><mrow id="S3.E2X.2.1.1.m1.2.3.3.2" xref="S3.E2X.2.1.1.m1.2.3.3.2.cmml"><munder id="S3.E2X.2.1.1.m1.2.3.3.2.1" xref="S3.E2X.2.1.1.m1.2.3.3.2.1.cmml"><mi id="S3.E2X.2.1.1.m1.2.3.3.2.1.2" xref="S3.E2X.2.1.1.m1.2.3.3.2.1.2.cmml">min</mi><msub id="S3.E2X.2.1.1.m1.2.3.3.2.1.3" xref="S3.E2X.2.1.1.m1.2.3.3.2.1.3.cmml"><mi id="S3.E2X.2.1.1.m1.2.3.3.2.1.3.2" xref="S3.E2X.2.1.1.m1.2.3.3.2.1.3.2.cmml">G</mi><mi id="S3.E2X.2.1.1.m1.2.3.3.2.1.3.3" xref="S3.E2X.2.1.1.m1.2.3.3.2.1.3.3.cmml">t</mi></msub></munder><mo lspace="0.167em" id="S3.E2X.2.1.1.m1.2.3.3.2a" xref="S3.E2X.2.1.1.m1.2.3.3.2.cmml">⁡</mo><munder id="S3.E2X.2.1.1.m1.2.3.3.2.2" xref="S3.E2X.2.1.1.m1.2.3.3.2.2.cmml"><mi id="S3.E2X.2.1.1.m1.2.3.3.2.2.2" xref="S3.E2X.2.1.1.m1.2.3.3.2.2.2.cmml">max</mi><mrow id="S3.E2X.2.1.1.m1.2.2.2.2" xref="S3.E2X.2.1.1.m1.2.2.2.3.cmml"><msub id="S3.E2X.2.1.1.m1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.cmml"><mi id="S3.E2X.2.1.1.m1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.2.cmml">D</mi><mtext id="S3.E2X.2.1.1.m1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.3a.cmml">img </mtext></msub><mo id="S3.E2X.2.1.1.m1.2.2.2.2.3" xref="S3.E2X.2.1.1.m1.2.2.2.3.cmml">,</mo><msub id="S3.E2X.2.1.1.m1.2.2.2.2.2" xref="S3.E2X.2.1.1.m1.2.2.2.2.2.cmml"><mi id="S3.E2X.2.1.1.m1.2.2.2.2.2.2" xref="S3.E2X.2.1.1.m1.2.2.2.2.2.2.cmml">D</mi><mtext id="S3.E2X.2.1.1.m1.2.2.2.2.2.3" xref="S3.E2X.2.1.1.m1.2.2.2.2.2.3a.cmml">patch</mtext></msub></mrow></munder></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2X.2.1.1.m1.2b"><apply id="S3.E2X.2.1.1.m1.2.3.cmml" xref="S3.E2X.2.1.1.m1.2.3"><eq id="S3.E2X.2.1.1.m1.2.3.1.cmml" xref="S3.E2X.2.1.1.m1.2.3.1"></eq><apply id="S3.E2X.2.1.1.m1.2.3.2.cmml" xref="S3.E2X.2.1.1.m1.2.3.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.2.3.2.1.cmml" xref="S3.E2X.2.1.1.m1.2.3.2">superscript</csymbol><apply id="S3.E2X.2.1.1.m1.2.3.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.3.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.2.3.2.2.1.cmml" xref="S3.E2X.2.1.1.m1.2.3.2">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.2.3.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.3.2.2.2">𝐺</ci><ci id="S3.E2X.2.1.1.m1.2.3.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.2.3.2.2.3">𝑡</ci></apply><times id="S3.E2X.2.1.1.m1.2.3.2.3.cmml" xref="S3.E2X.2.1.1.m1.2.3.2.3"></times></apply><apply id="S3.E2X.2.1.1.m1.2.3.3.cmml" xref="S3.E2X.2.1.1.m1.2.3.3"><arg id="S3.E2X.2.1.1.m1.2.3.3.1.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.1"></arg><apply id="S3.E2X.2.1.1.m1.2.3.3.2.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2"><apply id="S3.E2X.2.1.1.m1.2.3.3.2.1.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2.1"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.2.3.3.2.1.1.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2.1">subscript</csymbol><min id="S3.E2X.2.1.1.m1.2.3.3.2.1.2.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2.1.2"></min><apply id="S3.E2X.2.1.1.m1.2.3.3.2.1.3.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2.1.3"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.2.3.3.2.1.3.1.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2.1.3">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.2.3.3.2.1.3.2.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2.1.3.2">𝐺</ci><ci id="S3.E2X.2.1.1.m1.2.3.3.2.1.3.3.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2.1.3.3">𝑡</ci></apply></apply><apply id="S3.E2X.2.1.1.m1.2.3.3.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.2.3.3.2.2.1.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2.2">subscript</csymbol><max id="S3.E2X.2.1.1.m1.2.3.3.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.3.3.2.2.2"></max><list id="S3.E2X.2.1.1.m1.2.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.2"><apply id="S3.E2X.2.1.1.m1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.2">𝐷</ci><ci id="S3.E2X.2.1.1.m1.1.1.1.1.1.3a.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.3"><mtext mathsize="50%" id="S3.E2X.2.1.1.m1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.3">img </mtext></ci></apply><apply id="S3.E2X.2.1.1.m1.2.2.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.2.2.2.2.2.1.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.2.2.2.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.2.2.2">𝐷</ci><ci id="S3.E2X.2.1.1.m1.2.2.2.2.2.3a.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.2.2.3"><mtext mathsize="50%" id="S3.E2X.2.1.1.m1.2.2.2.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.2.2.3">patch</mtext></ci></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2X.2.1.1.m1.2c">\displaystyle G_{t}^{*}=\arg\min_{G_{t}}\max_{D_{\text{img }},D_{\text{patch }}}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E2X.3.2.2.m1.2" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{\text{adv }}\left(G_{t},D_{\text{img }},D_{\text{patch }}\right)+\lambda_{1}\mathcal{L}_{\text{dist }}\left(G_{t},G\right)," display="inline"><semantics id="S3.E2X.3.2.2.m1.2a"><mrow id="S3.E2X.3.2.2.m1.2.2.1" xref="S3.E2X.3.2.2.m1.2.2.1.1.cmml"><mrow id="S3.E2X.3.2.2.m1.2.2.1.1" xref="S3.E2X.3.2.2.m1.2.2.1.1.cmml"><mrow id="S3.E2X.3.2.2.m1.2.2.1.1.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.cmml"><msub id="S3.E2X.3.2.2.m1.2.2.1.1.3.5" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2X.3.2.2.m1.2.2.1.1.3.5.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.5.2.cmml">ℒ</mi><mtext id="S3.E2X.3.2.2.m1.2.2.1.1.3.5.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.5.3a.cmml">adv </mtext></msub><mo lspace="0em" rspace="0em" id="S3.E2X.3.2.2.m1.2.2.1.1.3.4" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.4.cmml">​</mo><mrow id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.4.cmml"><mo id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.4" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.4.cmml">(</mo><msub id="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml">G</mi><mi id="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.5" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.4.cmml">,</mo><msub id="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.cmml"><mi id="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.2.cmml">D</mi><mtext id="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.3a.cmml">img </mtext></msub><mo id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.6" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.4.cmml">,</mo><msub id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.cmml"><mi id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.2.cmml">D</mi><mtext id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.3a.cmml">patch </mtext></msub><mo id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.7" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.4.cmml">)</mo></mrow></mrow><mo id="S3.E2X.3.2.2.m1.2.2.1.1.5" xref="S3.E2X.3.2.2.m1.2.2.1.1.5.cmml">+</mo><mrow id="S3.E2X.3.2.2.m1.2.2.1.1.4" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.cmml"><msub id="S3.E2X.3.2.2.m1.2.2.1.1.4.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.3.cmml"><mi id="S3.E2X.3.2.2.m1.2.2.1.1.4.3.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.3.2.cmml">λ</mi><mn id="S3.E2X.3.2.2.m1.2.2.1.1.4.3.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.3.3.cmml">1</mn></msub><mo lspace="0em" rspace="0em" id="S3.E2X.3.2.2.m1.2.2.1.1.4.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.2.cmml">​</mo><msub id="S3.E2X.3.2.2.m1.2.2.1.1.4.4" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2X.3.2.2.m1.2.2.1.1.4.4.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.4.2.cmml">ℒ</mi><mtext id="S3.E2X.3.2.2.m1.2.2.1.1.4.4.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.4.3a.cmml">dist </mtext></msub><mo lspace="0em" rspace="0em" id="S3.E2X.3.2.2.m1.2.2.1.1.4.2a" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.2.cmml">​</mo><mrow id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.2.cmml"><mo id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.2.cmml">(</mo><msub id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.cmml"><mi id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.2.cmml">G</mi><mi id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.3.cmml">t</mi></msub><mo id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.3" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.2.cmml">,</mo><mi id="S3.E2X.3.2.2.m1.1.1" xref="S3.E2X.3.2.2.m1.1.1.cmml">G</mi><mo id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.4" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2X.3.2.2.m1.2.2.1.2" xref="S3.E2X.3.2.2.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2X.3.2.2.m1.2b"><apply id="S3.E2X.3.2.2.m1.2.2.1.1.cmml" xref="S3.E2X.3.2.2.m1.2.2.1"><plus id="S3.E2X.3.2.2.m1.2.2.1.1.5.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.5"></plus><apply id="S3.E2X.3.2.2.m1.2.2.1.1.3.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3"><times id="S3.E2X.3.2.2.m1.2.2.1.1.3.4.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.4"></times><apply id="S3.E2X.3.2.2.m1.2.2.1.1.3.5.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.5"><csymbol cd="ambiguous" id="S3.E2X.3.2.2.m1.2.2.1.1.3.5.1.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.5">subscript</csymbol><ci id="S3.E2X.3.2.2.m1.2.2.1.1.3.5.2.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.5.2">ℒ</ci><ci id="S3.E2X.3.2.2.m1.2.2.1.1.3.5.3a.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.5.3"><mtext mathsize="70%" id="S3.E2X.3.2.2.m1.2.2.1.1.3.5.3.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.5.3">adv </mtext></ci></apply><vector id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.4.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3"><apply id="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.2">𝐺</ci><ci id="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.1.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.2.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.2">𝐷</ci><ci id="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.3a.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.3"><mtext mathsize="70%" id="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.3.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.2.2.2.2.3">img </mtext></ci></apply><apply id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3"><csymbol cd="ambiguous" id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.1.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3">subscript</csymbol><ci id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.2.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.2">𝐷</ci><ci id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.3a.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.3"><mtext mathsize="70%" id="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.3.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.3.3.3.3.3">patch </mtext></ci></apply></vector></apply><apply id="S3.E2X.3.2.2.m1.2.2.1.1.4.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4"><times id="S3.E2X.3.2.2.m1.2.2.1.1.4.2.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.2"></times><apply id="S3.E2X.3.2.2.m1.2.2.1.1.4.3.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.3"><csymbol cd="ambiguous" id="S3.E2X.3.2.2.m1.2.2.1.1.4.3.1.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.3">subscript</csymbol><ci id="S3.E2X.3.2.2.m1.2.2.1.1.4.3.2.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.3.2">𝜆</ci><cn type="integer" id="S3.E2X.3.2.2.m1.2.2.1.1.4.3.3.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.3.3">1</cn></apply><apply id="S3.E2X.3.2.2.m1.2.2.1.1.4.4.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.4"><csymbol cd="ambiguous" id="S3.E2X.3.2.2.m1.2.2.1.1.4.4.1.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.4">subscript</csymbol><ci id="S3.E2X.3.2.2.m1.2.2.1.1.4.4.2.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.4.2">ℒ</ci><ci id="S3.E2X.3.2.2.m1.2.2.1.1.4.4.3a.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.4.3"><mtext mathsize="70%" id="S3.E2X.3.2.2.m1.2.2.1.1.4.4.3.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.4.3">dist </mtext></ci></apply><interval closure="open" id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.2.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1"><apply id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.1.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1">subscript</csymbol><ci id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.2.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.2">𝐺</ci><ci id="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.3.cmml" xref="S3.E2X.3.2.2.m1.2.2.1.1.4.1.1.1.3">𝑡</ci></apply><ci id="S3.E2X.3.2.2.m1.1.1.cmml" xref="S3.E2X.3.2.2.m1.1.1">𝐺</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2X.3.2.2.m1.2c">\displaystyle\mathcal{L}_{\text{adv }}\left(G_{t},D_{\text{img }},D_{\text{patch }}\right)+\lambda_{1}\mathcal{L}_{\text{dist }}\left(G_{t},G\right),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(2)</span></td>
</tr>
</tbody>
</table>
<p id="S3.SS2.p4.2" class="ltx_p">where <math id="S3.SS2.p4.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{adv}}" display="inline"><semantics id="S3.SS2.p4.1.m1.1a"><msub id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml">ℒ</mi><mtext id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2">ℒ</ci><ci id="S3.SS2.p4.1.m1.1.1.3a.cmml" xref="S3.SS2.p4.1.m1.1.1.3"><mtext mathsize="70%" id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">\mathcal{L}_{\text{adv}}</annotation></semantics></math> represents the adversarial loss, and <math id="S3.SS2.p4.2.m2.1" class="ltx_Math" alttext="\lambda_{1}" display="inline"><semantics id="S3.SS2.p4.2.m2.1a"><msub id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml">λ</mi><mn id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2">𝜆</ci><cn type="integer" id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">\lambda_{1}</annotation></semantics></math> is the hyper-parameter to balance the adversarial loss and the distance consistency regularization loss.</p>
</div>
<div id="S3.SS2.p5" class="ltx_para ltx_noindent">
<p id="S3.SS2.p5.2" class="ltx_p"><span id="S3.SS2.p5.2.1" class="ltx_text ltx_font_bold">Image Synthesis with Text guidance.</span>
Besides the few-shot image samples from the target domain, the text description about the target domain is available with no effort required, <em id="S3.SS2.p5.2.2" class="ltx_emph ltx_font_italic">e.g</em>.<span id="S3.SS2.p5.2.3" class="ltx_text"></span> “cartoon” and “watercolor.” To fully exploit and transfer the knowledge from the target domain to imitate its distribution, text guidance from the target domain can be leveraged to guide the image synthesis of the data factory with the help of contrastive language-image pre-training (CLIP) models <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a href="#bib.bib46" title="" class="ltx_ref">2021</a>)</cite>. The main idea is to train the GAN model to make the generated images shift along the direction of the textually-described path in the CLIP embedding space <cite class="ltx_cite ltx_citemacro_cite">Gal et al. (<a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite>. Original and target texts are both self-defined to provide the desired shifting guidance. In order to obtain the image shifting direction during training, a dual-generator strategy is also deployed. We fix the pretrained generator <math id="S3.SS2.p5.1.m1.1" class="ltx_Math" alttext="G" display="inline"><semantics id="S3.SS2.p5.1.m1.1a"><mi id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><ci id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">G</annotation></semantics></math> to keep generating original images for comparison while optimizing the target generator <math id="S3.SS2.p5.2.m2.1" class="ltx_Math" alttext="G_{t}" display="inline"><semantics id="S3.SS2.p5.2.m2.1a"><msub id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml"><mi id="S3.SS2.p5.2.m2.1.1.2" xref="S3.SS2.p5.2.m2.1.1.2.cmml">G</mi><mi id="S3.SS2.p5.2.m2.1.1.3" xref="S3.SS2.p5.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><apply id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2">𝐺</ci><ci id="S3.SS2.p5.2.m2.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">G_{t}</annotation></semantics></math>. Then the changing directions of text guidance and images can be expressed by,</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.40" class="ltx_Math" alttext="\begin{gathered}\Delta T=E_{text}\left(T_{\text{target }}\right)-E_{text}\left(T\right)\\
\Delta I=E_{img}\left(G_{t}(\mathbf{z})\right)-E_{img}\left(G(\mathbf{z})\right),\end{gathered}" display="block"><semantics id="S3.E3.m1.40a"><mtable displaystyle="true" rowspacing="0pt" id="S3.E3.m1.40.40.3"><mtr id="S3.E3.m1.40.40.3a"><mtd id="S3.E3.m1.40.40.3b"><mrow id="S3.E3.m1.39.39.2.38.16.16"><mrow id="S3.E3.m1.39.39.2.38.16.16.17"><mi mathvariant="normal" id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.39.39.2.38.16.16.17.1" xref="S3.E3.m1.38.38.1.1.1.cmml">​</mo><mi id="S3.E3.m1.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.cmml">T</mi></mrow><mo id="S3.E3.m1.3.3.3.3.3.3" xref="S3.E3.m1.3.3.3.3.3.3.cmml">=</mo><mrow id="S3.E3.m1.39.39.2.38.16.16.16"><mrow id="S3.E3.m1.39.39.2.38.16.16.16.1"><msub id="S3.E3.m1.39.39.2.38.16.16.16.1.3"><mi id="S3.E3.m1.4.4.4.4.4.4" xref="S3.E3.m1.4.4.4.4.4.4.cmml">E</mi><mrow id="S3.E3.m1.5.5.5.5.5.5.1" xref="S3.E3.m1.5.5.5.5.5.5.1.cmml"><mi id="S3.E3.m1.5.5.5.5.5.5.1.2" xref="S3.E3.m1.5.5.5.5.5.5.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.5.5.5.5.1.1" xref="S3.E3.m1.5.5.5.5.5.5.1.1.cmml">​</mo><mi id="S3.E3.m1.5.5.5.5.5.5.1.3" xref="S3.E3.m1.5.5.5.5.5.5.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.5.5.5.5.1.1a" xref="S3.E3.m1.5.5.5.5.5.5.1.1.cmml">​</mo><mi id="S3.E3.m1.5.5.5.5.5.5.1.4" xref="S3.E3.m1.5.5.5.5.5.5.1.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.5.5.5.5.1.1b" xref="S3.E3.m1.5.5.5.5.5.5.1.1.cmml">​</mo><mi id="S3.E3.m1.5.5.5.5.5.5.1.5" xref="S3.E3.m1.5.5.5.5.5.5.1.5.cmml">t</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.39.39.2.38.16.16.16.1.2" xref="S3.E3.m1.38.38.1.1.1.cmml">​</mo><mrow id="S3.E3.m1.39.39.2.38.16.16.16.1.1.1"><mo id="S3.E3.m1.6.6.6.6.6.6" xref="S3.E3.m1.38.38.1.1.1.cmml">(</mo><msub id="S3.E3.m1.39.39.2.38.16.16.16.1.1.1.1"><mi id="S3.E3.m1.7.7.7.7.7.7" xref="S3.E3.m1.7.7.7.7.7.7.cmml">T</mi><mtext id="S3.E3.m1.8.8.8.8.8.8.1" xref="S3.E3.m1.8.8.8.8.8.8.1a.cmml">target </mtext></msub><mo id="S3.E3.m1.9.9.9.9.9.9" xref="S3.E3.m1.38.38.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.10.10.10.10.10.10" xref="S3.E3.m1.10.10.10.10.10.10.cmml">−</mo><mrow id="S3.E3.m1.39.39.2.38.16.16.16.2"><msub id="S3.E3.m1.39.39.2.38.16.16.16.2.2"><mi id="S3.E3.m1.11.11.11.11.11.11" xref="S3.E3.m1.11.11.11.11.11.11.cmml">E</mi><mrow id="S3.E3.m1.12.12.12.12.12.12.1" xref="S3.E3.m1.12.12.12.12.12.12.1.cmml"><mi id="S3.E3.m1.12.12.12.12.12.12.1.2" xref="S3.E3.m1.12.12.12.12.12.12.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.12.12.12.12.12.12.1.1" xref="S3.E3.m1.12.12.12.12.12.12.1.1.cmml">​</mo><mi id="S3.E3.m1.12.12.12.12.12.12.1.3" xref="S3.E3.m1.12.12.12.12.12.12.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.12.12.12.12.12.12.1.1a" xref="S3.E3.m1.12.12.12.12.12.12.1.1.cmml">​</mo><mi id="S3.E3.m1.12.12.12.12.12.12.1.4" xref="S3.E3.m1.12.12.12.12.12.12.1.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.12.12.12.12.12.12.1.1b" xref="S3.E3.m1.12.12.12.12.12.12.1.1.cmml">​</mo><mi id="S3.E3.m1.12.12.12.12.12.12.1.5" xref="S3.E3.m1.12.12.12.12.12.12.1.5.cmml">t</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.39.39.2.38.16.16.16.2.1" xref="S3.E3.m1.38.38.1.1.1.cmml">​</mo><mrow id="S3.E3.m1.39.39.2.38.16.16.16.2.3"><mo id="S3.E3.m1.13.13.13.13.13.13" xref="S3.E3.m1.38.38.1.1.1.cmml">(</mo><mi id="S3.E3.m1.14.14.14.14.14.14" xref="S3.E3.m1.14.14.14.14.14.14.cmml">T</mi><mo id="S3.E3.m1.15.15.15.15.15.15" xref="S3.E3.m1.38.38.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mtd></mtr><mtr id="S3.E3.m1.40.40.3c"><mtd id="S3.E3.m1.40.40.3d"><mrow id="S3.E3.m1.40.40.3.39.23.23.23"><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1"><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1.3"><mi mathvariant="normal" id="S3.E3.m1.16.16.16.1.1.1" xref="S3.E3.m1.16.16.16.1.1.1.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.40.40.3.39.23.23.23.1.3.1" xref="S3.E3.m1.38.38.1.1.1.cmml">​</mo><mi id="S3.E3.m1.17.17.17.2.2.2" xref="S3.E3.m1.17.17.17.2.2.2.cmml">I</mi></mrow><mo id="S3.E3.m1.18.18.18.3.3.3" xref="S3.E3.m1.18.18.18.3.3.3.cmml">=</mo><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1.2"><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1.1.1"><msub id="S3.E3.m1.40.40.3.39.23.23.23.1.1.1.3"><mi id="S3.E3.m1.19.19.19.4.4.4" xref="S3.E3.m1.19.19.19.4.4.4.cmml">E</mi><mrow id="S3.E3.m1.20.20.20.5.5.5.1" xref="S3.E3.m1.20.20.20.5.5.5.1.cmml"><mi id="S3.E3.m1.20.20.20.5.5.5.1.2" xref="S3.E3.m1.20.20.20.5.5.5.1.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.20.20.20.5.5.5.1.1" xref="S3.E3.m1.20.20.20.5.5.5.1.1.cmml">​</mo><mi id="S3.E3.m1.20.20.20.5.5.5.1.3" xref="S3.E3.m1.20.20.20.5.5.5.1.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.20.20.20.5.5.5.1.1a" xref="S3.E3.m1.20.20.20.5.5.5.1.1.cmml">​</mo><mi id="S3.E3.m1.20.20.20.5.5.5.1.4" xref="S3.E3.m1.20.20.20.5.5.5.1.4.cmml">g</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.40.40.3.39.23.23.23.1.1.1.2" xref="S3.E3.m1.38.38.1.1.1.cmml">​</mo><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1.1.1.1.1"><mo id="S3.E3.m1.21.21.21.6.6.6" xref="S3.E3.m1.38.38.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1.1.1.1.1.1"><msub id="S3.E3.m1.40.40.3.39.23.23.23.1.1.1.1.1.1.2"><mi id="S3.E3.m1.22.22.22.7.7.7" xref="S3.E3.m1.22.22.22.7.7.7.cmml">G</mi><mi id="S3.E3.m1.23.23.23.8.8.8.1" xref="S3.E3.m1.23.23.23.8.8.8.1.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.40.40.3.39.23.23.23.1.1.1.1.1.1.1" xref="S3.E3.m1.38.38.1.1.1.cmml">​</mo><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1.1.1.1.1.1.3"><mo stretchy="false" id="S3.E3.m1.24.24.24.9.9.9" xref="S3.E3.m1.38.38.1.1.1.cmml">(</mo><mi id="S3.E3.m1.25.25.25.10.10.10" xref="S3.E3.m1.25.25.25.10.10.10.cmml">𝐳</mi><mo stretchy="false" id="S3.E3.m1.26.26.26.11.11.11" xref="S3.E3.m1.38.38.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.27.27.27.12.12.12" xref="S3.E3.m1.38.38.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.28.28.28.13.13.13" xref="S3.E3.m1.28.28.28.13.13.13.cmml">−</mo><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1.2.2"><msub id="S3.E3.m1.40.40.3.39.23.23.23.1.2.2.3"><mi id="S3.E3.m1.29.29.29.14.14.14" xref="S3.E3.m1.29.29.29.14.14.14.cmml">E</mi><mrow id="S3.E3.m1.30.30.30.15.15.15.1" xref="S3.E3.m1.30.30.30.15.15.15.1.cmml"><mi id="S3.E3.m1.30.30.30.15.15.15.1.2" xref="S3.E3.m1.30.30.30.15.15.15.1.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.30.30.30.15.15.15.1.1" xref="S3.E3.m1.30.30.30.15.15.15.1.1.cmml">​</mo><mi id="S3.E3.m1.30.30.30.15.15.15.1.3" xref="S3.E3.m1.30.30.30.15.15.15.1.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.30.30.30.15.15.15.1.1a" xref="S3.E3.m1.30.30.30.15.15.15.1.1.cmml">​</mo><mi id="S3.E3.m1.30.30.30.15.15.15.1.4" xref="S3.E3.m1.30.30.30.15.15.15.1.4.cmml">g</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.40.40.3.39.23.23.23.1.2.2.2" xref="S3.E3.m1.38.38.1.1.1.cmml">​</mo><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1.2.2.1.1"><mo id="S3.E3.m1.31.31.31.16.16.16" xref="S3.E3.m1.38.38.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1.2.2.1.1.1"><mi id="S3.E3.m1.32.32.32.17.17.17" xref="S3.E3.m1.32.32.32.17.17.17.cmml">G</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.40.40.3.39.23.23.23.1.2.2.1.1.1.1" xref="S3.E3.m1.38.38.1.1.1.cmml">​</mo><mrow id="S3.E3.m1.40.40.3.39.23.23.23.1.2.2.1.1.1.2"><mo stretchy="false" id="S3.E3.m1.33.33.33.18.18.18" xref="S3.E3.m1.38.38.1.1.1.cmml">(</mo><mi id="S3.E3.m1.34.34.34.19.19.19" xref="S3.E3.m1.34.34.34.19.19.19.cmml">𝐳</mi><mo stretchy="false" id="S3.E3.m1.35.35.35.20.20.20" xref="S3.E3.m1.38.38.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.36.36.36.21.21.21" xref="S3.E3.m1.38.38.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E3.m1.37.37.37.22.22.22" xref="S3.E3.m1.38.38.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E3.m1.40b"><apply id="S3.E3.m1.38.38.1.1.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><and id="S3.E3.m1.38.38.1.1.1a.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"></and><apply id="S3.E3.m1.38.38.1.1.1b.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><eq id="S3.E3.m1.3.3.3.3.3.3.cmml" xref="S3.E3.m1.3.3.3.3.3.3"></eq><apply id="S3.E3.m1.38.38.1.1.1.5.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><times id="S3.E3.m1.38.38.1.1.1.5.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"></times><ci id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1">Δ</ci><ci id="S3.E3.m1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2">𝑇</ci></apply><apply id="S3.E3.m1.38.38.1.1.1.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><minus id="S3.E3.m1.10.10.10.10.10.10.cmml" xref="S3.E3.m1.10.10.10.10.10.10"></minus><apply id="S3.E3.m1.38.38.1.1.1.1.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><times id="S3.E3.m1.38.38.1.1.1.1.1.2.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"></times><apply id="S3.E3.m1.38.38.1.1.1.1.1.3.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><csymbol cd="ambiguous" id="S3.E3.m1.38.38.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1">subscript</csymbol><ci id="S3.E3.m1.4.4.4.4.4.4.cmml" xref="S3.E3.m1.4.4.4.4.4.4">𝐸</ci><apply id="S3.E3.m1.5.5.5.5.5.5.1.cmml" xref="S3.E3.m1.5.5.5.5.5.5.1"><times id="S3.E3.m1.5.5.5.5.5.5.1.1.cmml" xref="S3.E3.m1.5.5.5.5.5.5.1.1"></times><ci id="S3.E3.m1.5.5.5.5.5.5.1.2.cmml" xref="S3.E3.m1.5.5.5.5.5.5.1.2">𝑡</ci><ci id="S3.E3.m1.5.5.5.5.5.5.1.3.cmml" xref="S3.E3.m1.5.5.5.5.5.5.1.3">𝑒</ci><ci id="S3.E3.m1.5.5.5.5.5.5.1.4.cmml" xref="S3.E3.m1.5.5.5.5.5.5.1.4">𝑥</ci><ci id="S3.E3.m1.5.5.5.5.5.5.1.5.cmml" xref="S3.E3.m1.5.5.5.5.5.5.1.5">𝑡</ci></apply></apply><apply id="S3.E3.m1.38.38.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><csymbol cd="ambiguous" id="S3.E3.m1.38.38.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1">subscript</csymbol><ci id="S3.E3.m1.7.7.7.7.7.7.cmml" xref="S3.E3.m1.7.7.7.7.7.7">𝑇</ci><ci id="S3.E3.m1.8.8.8.8.8.8.1a.cmml" xref="S3.E3.m1.8.8.8.8.8.8.1"><mtext mathsize="70%" id="S3.E3.m1.8.8.8.8.8.8.1.cmml" xref="S3.E3.m1.8.8.8.8.8.8.1">target </mtext></ci></apply></apply><apply id="S3.E3.m1.38.38.1.1.1.1.3.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><times id="S3.E3.m1.38.38.1.1.1.1.3.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"></times><apply id="S3.E3.m1.38.38.1.1.1.1.3.2.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><csymbol cd="ambiguous" id="S3.E3.m1.38.38.1.1.1.1.3.2.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1">subscript</csymbol><ci id="S3.E3.m1.11.11.11.11.11.11.cmml" xref="S3.E3.m1.11.11.11.11.11.11">𝐸</ci><apply id="S3.E3.m1.12.12.12.12.12.12.1.cmml" xref="S3.E3.m1.12.12.12.12.12.12.1"><times id="S3.E3.m1.12.12.12.12.12.12.1.1.cmml" xref="S3.E3.m1.12.12.12.12.12.12.1.1"></times><ci id="S3.E3.m1.12.12.12.12.12.12.1.2.cmml" xref="S3.E3.m1.12.12.12.12.12.12.1.2">𝑡</ci><ci id="S3.E3.m1.12.12.12.12.12.12.1.3.cmml" xref="S3.E3.m1.12.12.12.12.12.12.1.3">𝑒</ci><ci id="S3.E3.m1.12.12.12.12.12.12.1.4.cmml" xref="S3.E3.m1.12.12.12.12.12.12.1.4">𝑥</ci><ci id="S3.E3.m1.12.12.12.12.12.12.1.5.cmml" xref="S3.E3.m1.12.12.12.12.12.12.1.5">𝑡</ci></apply></apply><ci id="S3.E3.m1.14.14.14.14.14.14.cmml" xref="S3.E3.m1.14.14.14.14.14.14">𝑇</ci><ci id="S3.E3.m1.16.16.16.1.1.1.cmml" xref="S3.E3.m1.16.16.16.1.1.1">Δ</ci><ci id="S3.E3.m1.17.17.17.2.2.2.cmml" xref="S3.E3.m1.17.17.17.2.2.2">𝐼</ci></apply></apply></apply><apply id="S3.E3.m1.38.38.1.1.1c.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><eq id="S3.E3.m1.18.18.18.3.3.3.cmml" xref="S3.E3.m1.18.18.18.3.3.3"></eq><share href="#S3.E3.m1.38.38.1.1.1.1.cmml" id="S3.E3.m1.38.38.1.1.1d.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"></share><apply id="S3.E3.m1.38.38.1.1.1.3.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><minus id="S3.E3.m1.28.28.28.13.13.13.cmml" xref="S3.E3.m1.28.28.28.13.13.13"></minus><apply id="S3.E3.m1.38.38.1.1.1.2.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><times id="S3.E3.m1.38.38.1.1.1.2.1.2.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"></times><apply id="S3.E3.m1.38.38.1.1.1.2.1.3.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><csymbol cd="ambiguous" id="S3.E3.m1.38.38.1.1.1.2.1.3.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1">subscript</csymbol><ci id="S3.E3.m1.19.19.19.4.4.4.cmml" xref="S3.E3.m1.19.19.19.4.4.4">𝐸</ci><apply id="S3.E3.m1.20.20.20.5.5.5.1.cmml" xref="S3.E3.m1.20.20.20.5.5.5.1"><times id="S3.E3.m1.20.20.20.5.5.5.1.1.cmml" xref="S3.E3.m1.20.20.20.5.5.5.1.1"></times><ci id="S3.E3.m1.20.20.20.5.5.5.1.2.cmml" xref="S3.E3.m1.20.20.20.5.5.5.1.2">𝑖</ci><ci id="S3.E3.m1.20.20.20.5.5.5.1.3.cmml" xref="S3.E3.m1.20.20.20.5.5.5.1.3">𝑚</ci><ci id="S3.E3.m1.20.20.20.5.5.5.1.4.cmml" xref="S3.E3.m1.20.20.20.5.5.5.1.4">𝑔</ci></apply></apply><apply id="S3.E3.m1.38.38.1.1.1.2.1.1.1.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><times id="S3.E3.m1.38.38.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"></times><apply id="S3.E3.m1.38.38.1.1.1.2.1.1.1.1.2.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><csymbol cd="ambiguous" id="S3.E3.m1.38.38.1.1.1.2.1.1.1.1.2.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1">subscript</csymbol><ci id="S3.E3.m1.22.22.22.7.7.7.cmml" xref="S3.E3.m1.22.22.22.7.7.7">𝐺</ci><ci id="S3.E3.m1.23.23.23.8.8.8.1.cmml" xref="S3.E3.m1.23.23.23.8.8.8.1">𝑡</ci></apply><ci id="S3.E3.m1.25.25.25.10.10.10.cmml" xref="S3.E3.m1.25.25.25.10.10.10">𝐳</ci></apply></apply><apply id="S3.E3.m1.38.38.1.1.1.3.2.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><times id="S3.E3.m1.38.38.1.1.1.3.2.2.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"></times><apply id="S3.E3.m1.38.38.1.1.1.3.2.3.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><csymbol cd="ambiguous" id="S3.E3.m1.38.38.1.1.1.3.2.3.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1">subscript</csymbol><ci id="S3.E3.m1.29.29.29.14.14.14.cmml" xref="S3.E3.m1.29.29.29.14.14.14">𝐸</ci><apply id="S3.E3.m1.30.30.30.15.15.15.1.cmml" xref="S3.E3.m1.30.30.30.15.15.15.1"><times id="S3.E3.m1.30.30.30.15.15.15.1.1.cmml" xref="S3.E3.m1.30.30.30.15.15.15.1.1"></times><ci id="S3.E3.m1.30.30.30.15.15.15.1.2.cmml" xref="S3.E3.m1.30.30.30.15.15.15.1.2">𝑖</ci><ci id="S3.E3.m1.30.30.30.15.15.15.1.3.cmml" xref="S3.E3.m1.30.30.30.15.15.15.1.3">𝑚</ci><ci id="S3.E3.m1.30.30.30.15.15.15.1.4.cmml" xref="S3.E3.m1.30.30.30.15.15.15.1.4">𝑔</ci></apply></apply><apply id="S3.E3.m1.38.38.1.1.1.3.2.1.1.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"><times id="S3.E3.m1.38.38.1.1.1.3.2.1.1.1.1.cmml" xref="S3.E3.m1.39.39.2.38.16.16.17.1"></times><ci id="S3.E3.m1.32.32.32.17.17.17.cmml" xref="S3.E3.m1.32.32.32.17.17.17">𝐺</ci><ci id="S3.E3.m1.34.34.34.19.19.19.cmml" xref="S3.E3.m1.34.34.34.19.19.19">𝐳</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.40c">\begin{gathered}\Delta T=E_{text}\left(T_{\text{target }}\right)-E_{text}\left(T\right)\\
\Delta I=E_{img}\left(G_{t}(\mathbf{z})\right)-E_{img}\left(G(\mathbf{z})\right),\end{gathered}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p5.8" class="ltx_p">where <math id="S3.SS2.p5.3.m1.1" class="ltx_Math" alttext="E_{text}" display="inline"><semantics id="S3.SS2.p5.3.m1.1a"><msub id="S3.SS2.p5.3.m1.1.1" xref="S3.SS2.p5.3.m1.1.1.cmml"><mi id="S3.SS2.p5.3.m1.1.1.2" xref="S3.SS2.p5.3.m1.1.1.2.cmml">E</mi><mrow id="S3.SS2.p5.3.m1.1.1.3" xref="S3.SS2.p5.3.m1.1.1.3.cmml"><mi id="S3.SS2.p5.3.m1.1.1.3.2" xref="S3.SS2.p5.3.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.3.m1.1.1.3.1" xref="S3.SS2.p5.3.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.3.m1.1.1.3.3" xref="S3.SS2.p5.3.m1.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.3.m1.1.1.3.1a" xref="S3.SS2.p5.3.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.3.m1.1.1.3.4" xref="S3.SS2.p5.3.m1.1.1.3.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.3.m1.1.1.3.1b" xref="S3.SS2.p5.3.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.3.m1.1.1.3.5" xref="S3.SS2.p5.3.m1.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m1.1b"><apply id="S3.SS2.p5.3.m1.1.1.cmml" xref="S3.SS2.p5.3.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m1.1.1.1.cmml" xref="S3.SS2.p5.3.m1.1.1">subscript</csymbol><ci id="S3.SS2.p5.3.m1.1.1.2.cmml" xref="S3.SS2.p5.3.m1.1.1.2">𝐸</ci><apply id="S3.SS2.p5.3.m1.1.1.3.cmml" xref="S3.SS2.p5.3.m1.1.1.3"><times id="S3.SS2.p5.3.m1.1.1.3.1.cmml" xref="S3.SS2.p5.3.m1.1.1.3.1"></times><ci id="S3.SS2.p5.3.m1.1.1.3.2.cmml" xref="S3.SS2.p5.3.m1.1.1.3.2">𝑡</ci><ci id="S3.SS2.p5.3.m1.1.1.3.3.cmml" xref="S3.SS2.p5.3.m1.1.1.3.3">𝑒</ci><ci id="S3.SS2.p5.3.m1.1.1.3.4.cmml" xref="S3.SS2.p5.3.m1.1.1.3.4">𝑥</ci><ci id="S3.SS2.p5.3.m1.1.1.3.5.cmml" xref="S3.SS2.p5.3.m1.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m1.1c">E_{text}</annotation></semantics></math> and <math id="S3.SS2.p5.4.m2.1" class="ltx_Math" alttext="E_{img}" display="inline"><semantics id="S3.SS2.p5.4.m2.1a"><msub id="S3.SS2.p5.4.m2.1.1" xref="S3.SS2.p5.4.m2.1.1.cmml"><mi id="S3.SS2.p5.4.m2.1.1.2" xref="S3.SS2.p5.4.m2.1.1.2.cmml">E</mi><mrow id="S3.SS2.p5.4.m2.1.1.3" xref="S3.SS2.p5.4.m2.1.1.3.cmml"><mi id="S3.SS2.p5.4.m2.1.1.3.2" xref="S3.SS2.p5.4.m2.1.1.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.4.m2.1.1.3.1" xref="S3.SS2.p5.4.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.4.m2.1.1.3.3" xref="S3.SS2.p5.4.m2.1.1.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.4.m2.1.1.3.1a" xref="S3.SS2.p5.4.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.4.m2.1.1.3.4" xref="S3.SS2.p5.4.m2.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.4.m2.1b"><apply id="S3.SS2.p5.4.m2.1.1.cmml" xref="S3.SS2.p5.4.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m2.1.1.1.cmml" xref="S3.SS2.p5.4.m2.1.1">subscript</csymbol><ci id="S3.SS2.p5.4.m2.1.1.2.cmml" xref="S3.SS2.p5.4.m2.1.1.2">𝐸</ci><apply id="S3.SS2.p5.4.m2.1.1.3.cmml" xref="S3.SS2.p5.4.m2.1.1.3"><times id="S3.SS2.p5.4.m2.1.1.3.1.cmml" xref="S3.SS2.p5.4.m2.1.1.3.1"></times><ci id="S3.SS2.p5.4.m2.1.1.3.2.cmml" xref="S3.SS2.p5.4.m2.1.1.3.2">𝑖</ci><ci id="S3.SS2.p5.4.m2.1.1.3.3.cmml" xref="S3.SS2.p5.4.m2.1.1.3.3">𝑚</ci><ci id="S3.SS2.p5.4.m2.1.1.3.4.cmml" xref="S3.SS2.p5.4.m2.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.4.m2.1c">E_{img}</annotation></semantics></math> denote CLIP text and image encoders, respectively. <math id="S3.SS2.p5.5.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS2.p5.5.m3.1a"><mi id="S3.SS2.p5.5.m3.1.1" xref="S3.SS2.p5.5.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.5.m3.1b"><ci id="S3.SS2.p5.5.m3.1.1.cmml" xref="S3.SS2.p5.5.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.5.m3.1c">T</annotation></semantics></math> and <math id="S3.SS2.p5.6.m4.1" class="ltx_Math" alttext="T_{\text{target}}" display="inline"><semantics id="S3.SS2.p5.6.m4.1a"><msub id="S3.SS2.p5.6.m4.1.1" xref="S3.SS2.p5.6.m4.1.1.cmml"><mi id="S3.SS2.p5.6.m4.1.1.2" xref="S3.SS2.p5.6.m4.1.1.2.cmml">T</mi><mtext id="S3.SS2.p5.6.m4.1.1.3" xref="S3.SS2.p5.6.m4.1.1.3a.cmml">target</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.6.m4.1b"><apply id="S3.SS2.p5.6.m4.1.1.cmml" xref="S3.SS2.p5.6.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.6.m4.1.1.1.cmml" xref="S3.SS2.p5.6.m4.1.1">subscript</csymbol><ci id="S3.SS2.p5.6.m4.1.1.2.cmml" xref="S3.SS2.p5.6.m4.1.1.2">𝑇</ci><ci id="S3.SS2.p5.6.m4.1.1.3a.cmml" xref="S3.SS2.p5.6.m4.1.1.3"><mtext mathsize="70%" id="S3.SS2.p5.6.m4.1.1.3.cmml" xref="S3.SS2.p5.6.m4.1.1.3">target</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.6.m4.1c">T_{\text{target}}</annotation></semantics></math> represent the text description of the pretrained GAN model and the target domain, <em id="S3.SS2.p5.8.1" class="ltx_emph ltx_font_italic">e.g</em>.<span id="S3.SS2.p5.8.2" class="ltx_text"></span>, “photo” and “comic.” <math id="S3.SS2.p5.7.m5.1" class="ltx_Math" alttext="\mathbf{z}" display="inline"><semantics id="S3.SS2.p5.7.m5.1a"><mi id="S3.SS2.p5.7.m5.1.1" xref="S3.SS2.p5.7.m5.1.1.cmml">𝐳</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.7.m5.1b"><ci id="S3.SS2.p5.7.m5.1.1.cmml" xref="S3.SS2.p5.7.m5.1.1">𝐳</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.7.m5.1c">\mathbf{z}</annotation></semantics></math> is the input noise variable, <em id="S3.SS2.p5.8.3" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S3.SS2.p5.8.4" class="ltx_text"></span>, <math id="S3.SS2.p5.8.m6.1" class="ltx_Math" alttext="\mathbf{z}\in\mathcal{Z}" display="inline"><semantics id="S3.SS2.p5.8.m6.1a"><mrow id="S3.SS2.p5.8.m6.1.1" xref="S3.SS2.p5.8.m6.1.1.cmml"><mi id="S3.SS2.p5.8.m6.1.1.2" xref="S3.SS2.p5.8.m6.1.1.2.cmml">𝐳</mi><mo id="S3.SS2.p5.8.m6.1.1.1" xref="S3.SS2.p5.8.m6.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p5.8.m6.1.1.3" xref="S3.SS2.p5.8.m6.1.1.3.cmml">𝒵</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.8.m6.1b"><apply id="S3.SS2.p5.8.m6.1.1.cmml" xref="S3.SS2.p5.8.m6.1.1"><in id="S3.SS2.p5.8.m6.1.1.1.cmml" xref="S3.SS2.p5.8.m6.1.1.1"></in><ci id="S3.SS2.p5.8.m6.1.1.2.cmml" xref="S3.SS2.p5.8.m6.1.1.2">𝐳</ci><ci id="S3.SS2.p5.8.m6.1.1.3.cmml" xref="S3.SS2.p5.8.m6.1.1.3">𝒵</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.8.m6.1c">\mathbf{z}\in\mathcal{Z}</annotation></semantics></math>. The directional loss introduced by text guidance can thus be described as,</p>
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.20" class="ltx_Math" alttext="\begin{gathered}\mathcal{L}_{\text{direction}}(G,G_{t},T,T_{\text{target}})=1-\frac{\Delta I\cdot\Delta T}{|\Delta I||\Delta T|}.\end{gathered}" display="block"><semantics id="S3.E4.m1.20a"><mtable displaystyle="true" id="S3.E4.m1.20.20.2"><mtr id="S3.E4.m1.20.20.2a"><mtd id="S3.E4.m1.20.20.2b"><mrow id="S3.E4.m1.20.20.2.19.19.19.19"><mrow id="S3.E4.m1.20.20.2.19.19.19.19.1"><mrow id="S3.E4.m1.20.20.2.19.19.19.19.1.2"><msub id="S3.E4.m1.20.20.2.19.19.19.19.1.2.4"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.cmml">ℒ</mi><mtext id="S3.E4.m1.2.2.2.2.2.2.1" xref="S3.E4.m1.2.2.2.2.2.2.1a.cmml">direction</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.20.20.2.19.19.19.19.1.2.3" xref="S3.E4.m1.19.19.1.1.1.cmml">​</mo><mrow id="S3.E4.m1.20.20.2.19.19.19.19.1.2.2.2"><mo stretchy="false" id="S3.E4.m1.3.3.3.3.3.3" xref="S3.E4.m1.19.19.1.1.1.cmml">(</mo><mi id="S3.E4.m1.4.4.4.4.4.4" xref="S3.E4.m1.4.4.4.4.4.4.cmml">G</mi><mo id="S3.E4.m1.5.5.5.5.5.5" xref="S3.E4.m1.19.19.1.1.1.cmml">,</mo><msub id="S3.E4.m1.20.20.2.19.19.19.19.1.1.1.1.1"><mi id="S3.E4.m1.6.6.6.6.6.6" xref="S3.E4.m1.6.6.6.6.6.6.cmml">G</mi><mi id="S3.E4.m1.7.7.7.7.7.7.1" xref="S3.E4.m1.7.7.7.7.7.7.1.cmml">t</mi></msub><mo id="S3.E4.m1.8.8.8.8.8.8" xref="S3.E4.m1.19.19.1.1.1.cmml">,</mo><mi id="S3.E4.m1.9.9.9.9.9.9" xref="S3.E4.m1.9.9.9.9.9.9.cmml">T</mi><mo id="S3.E4.m1.10.10.10.10.10.10" xref="S3.E4.m1.19.19.1.1.1.cmml">,</mo><msub id="S3.E4.m1.20.20.2.19.19.19.19.1.2.2.2.2"><mi id="S3.E4.m1.11.11.11.11.11.11" xref="S3.E4.m1.11.11.11.11.11.11.cmml">T</mi><mtext id="S3.E4.m1.12.12.12.12.12.12.1" xref="S3.E4.m1.12.12.12.12.12.12.1a.cmml">target</mtext></msub><mo stretchy="false" id="S3.E4.m1.13.13.13.13.13.13" xref="S3.E4.m1.19.19.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.14.14.14.14.14.14" xref="S3.E4.m1.14.14.14.14.14.14.cmml">=</mo><mrow id="S3.E4.m1.20.20.2.19.19.19.19.1.3"><mn id="S3.E4.m1.15.15.15.15.15.15" xref="S3.E4.m1.15.15.15.15.15.15.cmml">1</mn><mo id="S3.E4.m1.16.16.16.16.16.16" xref="S3.E4.m1.16.16.16.16.16.16.cmml">−</mo><mfrac id="S3.E4.m1.17.17.17.17.17.17" xref="S3.E4.m1.17.17.17.17.17.17.cmml"><mrow id="S3.E4.m1.17.17.17.17.17.17.4" xref="S3.E4.m1.17.17.17.17.17.17.4.cmml"><mrow id="S3.E4.m1.17.17.17.17.17.17.4.2" xref="S3.E4.m1.17.17.17.17.17.17.4.2.cmml"><mrow id="S3.E4.m1.17.17.17.17.17.17.4.2.2" xref="S3.E4.m1.17.17.17.17.17.17.4.2.2.cmml"><mi mathvariant="normal" id="S3.E4.m1.17.17.17.17.17.17.4.2.2.2" xref="S3.E4.m1.17.17.17.17.17.17.4.2.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.17.17.17.17.17.17.4.2.2.1" xref="S3.E4.m1.17.17.17.17.17.17.4.2.2.1.cmml">​</mo><mi id="S3.E4.m1.17.17.17.17.17.17.4.2.2.3" xref="S3.E4.m1.17.17.17.17.17.17.4.2.2.3.cmml">I</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.E4.m1.17.17.17.17.17.17.4.2.1" xref="S3.E4.m1.17.17.17.17.17.17.4.2.1.cmml">⋅</mo><mi mathvariant="normal" id="S3.E4.m1.17.17.17.17.17.17.4.2.3" xref="S3.E4.m1.17.17.17.17.17.17.4.2.3.cmml">Δ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E4.m1.17.17.17.17.17.17.4.1" xref="S3.E4.m1.17.17.17.17.17.17.4.1.cmml">​</mo><mi id="S3.E4.m1.17.17.17.17.17.17.4.3" xref="S3.E4.m1.17.17.17.17.17.17.4.3.cmml">T</mi></mrow><mrow id="S3.E4.m1.17.17.17.17.17.17.2" xref="S3.E4.m1.17.17.17.17.17.17.2.cmml"><mrow id="S3.E4.m1.17.17.17.17.17.17.1.1.1" xref="S3.E4.m1.17.17.17.17.17.17.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.17.17.17.17.17.17.1.1.1.2" xref="S3.E4.m1.17.17.17.17.17.17.1.1.2.1.cmml">|</mo><mrow id="S3.E4.m1.17.17.17.17.17.17.1.1.1.1" xref="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.cmml"><mi mathvariant="normal" id="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.2" xref="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.1" xref="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.1.cmml">​</mo><mi id="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.3" xref="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.3.cmml">I</mi></mrow><mo stretchy="false" id="S3.E4.m1.17.17.17.17.17.17.1.1.1.3" xref="S3.E4.m1.17.17.17.17.17.17.1.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E4.m1.17.17.17.17.17.17.2.3" xref="S3.E4.m1.17.17.17.17.17.17.2.3.cmml">​</mo><mrow id="S3.E4.m1.17.17.17.17.17.17.2.2.1" xref="S3.E4.m1.17.17.17.17.17.17.2.2.2.cmml"><mo stretchy="false" id="S3.E4.m1.17.17.17.17.17.17.2.2.1.2" xref="S3.E4.m1.17.17.17.17.17.17.2.2.2.1.cmml">|</mo><mrow id="S3.E4.m1.17.17.17.17.17.17.2.2.1.1" xref="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.cmml"><mi mathvariant="normal" id="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.2" xref="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.1" xref="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.1.cmml">​</mo><mi id="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.3" xref="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.3.cmml">T</mi></mrow><mo stretchy="false" id="S3.E4.m1.17.17.17.17.17.17.2.2.1.3" xref="S3.E4.m1.17.17.17.17.17.17.2.2.2.1.cmml">|</mo></mrow></mrow></mfrac></mrow></mrow><mo lspace="0em" id="S3.E4.m1.18.18.18.18.18.18" xref="S3.E4.m1.19.19.1.1.1.cmml">.</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E4.m1.20b"><apply id="S3.E4.m1.19.19.1.1.1.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3"><eq id="S3.E4.m1.14.14.14.14.14.14.cmml" xref="S3.E4.m1.14.14.14.14.14.14"></eq><apply id="S3.E4.m1.19.19.1.1.1.2.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3"><times id="S3.E4.m1.19.19.1.1.1.2.3.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3"></times><apply id="S3.E4.m1.19.19.1.1.1.2.4.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.19.19.1.1.1.2.4.1.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1">ℒ</ci><ci id="S3.E4.m1.2.2.2.2.2.2.1a.cmml" xref="S3.E4.m1.2.2.2.2.2.2.1"><mtext mathsize="70%" id="S3.E4.m1.2.2.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.2.2.2.2.1">direction</mtext></ci></apply><vector id="S3.E4.m1.19.19.1.1.1.2.2.3.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3"><ci id="S3.E4.m1.4.4.4.4.4.4.cmml" xref="S3.E4.m1.4.4.4.4.4.4">𝐺</ci><apply id="S3.E4.m1.19.19.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.19.19.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3">subscript</csymbol><ci id="S3.E4.m1.6.6.6.6.6.6.cmml" xref="S3.E4.m1.6.6.6.6.6.6">𝐺</ci><ci id="S3.E4.m1.7.7.7.7.7.7.1.cmml" xref="S3.E4.m1.7.7.7.7.7.7.1">𝑡</ci></apply><ci id="S3.E4.m1.9.9.9.9.9.9.cmml" xref="S3.E4.m1.9.9.9.9.9.9">𝑇</ci><apply id="S3.E4.m1.19.19.1.1.1.2.2.2.2.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.19.19.1.1.1.2.2.2.2.1.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3">subscript</csymbol><ci id="S3.E4.m1.11.11.11.11.11.11.cmml" xref="S3.E4.m1.11.11.11.11.11.11">𝑇</ci><ci id="S3.E4.m1.12.12.12.12.12.12.1a.cmml" xref="S3.E4.m1.12.12.12.12.12.12.1"><mtext mathsize="70%" id="S3.E4.m1.12.12.12.12.12.12.1.cmml" xref="S3.E4.m1.12.12.12.12.12.12.1">target</mtext></ci></apply></vector></apply><apply id="S3.E4.m1.19.19.1.1.1.4.cmml" xref="S3.E4.m1.20.20.2.19.19.19.19.1.2.3"><minus id="S3.E4.m1.16.16.16.16.16.16.cmml" xref="S3.E4.m1.16.16.16.16.16.16"></minus><cn type="integer" id="S3.E4.m1.15.15.15.15.15.15.cmml" xref="S3.E4.m1.15.15.15.15.15.15">1</cn><apply id="S3.E4.m1.17.17.17.17.17.17.cmml" xref="S3.E4.m1.17.17.17.17.17.17"><divide id="S3.E4.m1.17.17.17.17.17.17.3.cmml" xref="S3.E4.m1.17.17.17.17.17.17"></divide><apply id="S3.E4.m1.17.17.17.17.17.17.4.cmml" xref="S3.E4.m1.17.17.17.17.17.17.4"><times id="S3.E4.m1.17.17.17.17.17.17.4.1.cmml" xref="S3.E4.m1.17.17.17.17.17.17.4.1"></times><apply id="S3.E4.m1.17.17.17.17.17.17.4.2.cmml" xref="S3.E4.m1.17.17.17.17.17.17.4.2"><ci id="S3.E4.m1.17.17.17.17.17.17.4.2.1.cmml" xref="S3.E4.m1.17.17.17.17.17.17.4.2.1">⋅</ci><apply id="S3.E4.m1.17.17.17.17.17.17.4.2.2.cmml" xref="S3.E4.m1.17.17.17.17.17.17.4.2.2"><times id="S3.E4.m1.17.17.17.17.17.17.4.2.2.1.cmml" xref="S3.E4.m1.17.17.17.17.17.17.4.2.2.1"></times><ci id="S3.E4.m1.17.17.17.17.17.17.4.2.2.2.cmml" xref="S3.E4.m1.17.17.17.17.17.17.4.2.2.2">Δ</ci><ci id="S3.E4.m1.17.17.17.17.17.17.4.2.2.3.cmml" xref="S3.E4.m1.17.17.17.17.17.17.4.2.2.3">𝐼</ci></apply><ci id="S3.E4.m1.17.17.17.17.17.17.4.2.3.cmml" xref="S3.E4.m1.17.17.17.17.17.17.4.2.3">Δ</ci></apply><ci id="S3.E4.m1.17.17.17.17.17.17.4.3.cmml" xref="S3.E4.m1.17.17.17.17.17.17.4.3">𝑇</ci></apply><apply id="S3.E4.m1.17.17.17.17.17.17.2.cmml" xref="S3.E4.m1.17.17.17.17.17.17.2"><times id="S3.E4.m1.17.17.17.17.17.17.2.3.cmml" xref="S3.E4.m1.17.17.17.17.17.17.2.3"></times><apply id="S3.E4.m1.17.17.17.17.17.17.1.1.2.cmml" xref="S3.E4.m1.17.17.17.17.17.17.1.1.1"><abs id="S3.E4.m1.17.17.17.17.17.17.1.1.2.1.cmml" xref="S3.E4.m1.17.17.17.17.17.17.1.1.1.2"></abs><apply id="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.cmml" xref="S3.E4.m1.17.17.17.17.17.17.1.1.1.1"><times id="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.1.cmml" xref="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.1"></times><ci id="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.2.cmml" xref="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.2">Δ</ci><ci id="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.3.cmml" xref="S3.E4.m1.17.17.17.17.17.17.1.1.1.1.3">𝐼</ci></apply></apply><apply id="S3.E4.m1.17.17.17.17.17.17.2.2.2.cmml" xref="S3.E4.m1.17.17.17.17.17.17.2.2.1"><abs id="S3.E4.m1.17.17.17.17.17.17.2.2.2.1.cmml" xref="S3.E4.m1.17.17.17.17.17.17.2.2.1.2"></abs><apply id="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.cmml" xref="S3.E4.m1.17.17.17.17.17.17.2.2.1.1"><times id="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.1.cmml" xref="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.1"></times><ci id="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.2.cmml" xref="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.2">Δ</ci><ci id="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.3.cmml" xref="S3.E4.m1.17.17.17.17.17.17.2.2.1.1.3">𝑇</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.20c">\begin{gathered}\mathcal{L}_{\text{direction}}(G,G_{t},T,T_{\text{target}})=1-\frac{\Delta I\cdot\Delta T}{|\Delta I||\Delta T|}.\end{gathered}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p6" class="ltx_para ltx_noindent">
<p id="S3.SS2.p6.2" class="ltx_p">Combined with the few-shot image guidance training objective in Eq.(<a href="#S3.E2" title="In 3.2 Efficient Labeled Data Factory for SF-FSDA Problem ‣ 3 Method ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>), our final training objective with both the few-shot image guidance and the text guidance can be derived as,</p>
<table id="A4.EGx1" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5.m1.10" class="ltx_Math" alttext="\displaystyle\begin{aligned} G_{t}^{*}=\arg\min_{G_{t}}\max_{D_{\text{img }},D_{\text{patch }}}&amp;\mathcal{L}_{\text{adv }}\left(G_{t},D_{\text{img }},D_{\text{patch }}\right)\\
&amp;+\lambda_{1}\mathcal{L}_{\text{dist }}\left(G_{t},G\right)\\
&amp;+\lambda_{2}\mathcal{L}_{\text{direction }}\left(G_{t},G,T,T_{\text{target}}\right),\end{aligned}" display="inline"><semantics id="S3.E5.m1.10a"><mtable columnspacing="0pt" rowspacing="0pt" id="S3.E5.m1.10.10" xref="S3.E5.m1.10.10.cmml"><mtr id="S3.E5.m1.10.10a" xref="S3.E5.m1.10.10.cmml"><mtd class="ltx_align_right" columnalign="right" id="S3.E5.m1.10.10b" xref="S3.E5.m1.10.10.cmml"><mrow id="S3.E5.m1.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.cmml"><msubsup id="S3.E5.m1.2.2.2.2.2.4" xref="S3.E5.m1.2.2.2.2.2.4.cmml"><mi id="S3.E5.m1.2.2.2.2.2.4.2.2" xref="S3.E5.m1.2.2.2.2.2.4.2.2.cmml">G</mi><mi id="S3.E5.m1.2.2.2.2.2.4.2.3" xref="S3.E5.m1.2.2.2.2.2.4.2.3.cmml">t</mi><mo id="S3.E5.m1.2.2.2.2.2.4.3" xref="S3.E5.m1.2.2.2.2.2.4.3.cmml">∗</mo></msubsup><mo id="S3.E5.m1.2.2.2.2.2.3" xref="S3.E5.m1.2.2.2.2.2.3.cmml">=</mo><mrow id="S3.E5.m1.2.2.2.2.2.5" xref="S3.E5.m1.2.2.2.2.2.5.cmml"><mi id="S3.E5.m1.2.2.2.2.2.5.1" xref="S3.E5.m1.2.2.2.2.2.5.1.cmml">arg</mi><mo lspace="0.167em" id="S3.E5.m1.2.2.2.2.2.5a" xref="S3.E5.m1.2.2.2.2.2.5.cmml">⁡</mo><mrow id="S3.E5.m1.2.2.2.2.2.5.2" xref="S3.E5.m1.2.2.2.2.2.5.2.cmml"><munder id="S3.E5.m1.2.2.2.2.2.5.2.1" xref="S3.E5.m1.2.2.2.2.2.5.2.1.cmml"><mi id="S3.E5.m1.2.2.2.2.2.5.2.1.2" xref="S3.E5.m1.2.2.2.2.2.5.2.1.2.cmml">min</mi><msub id="S3.E5.m1.2.2.2.2.2.5.2.1.3" xref="S3.E5.m1.2.2.2.2.2.5.2.1.3.cmml"><mi id="S3.E5.m1.2.2.2.2.2.5.2.1.3.2" xref="S3.E5.m1.2.2.2.2.2.5.2.1.3.2.cmml">G</mi><mi id="S3.E5.m1.2.2.2.2.2.5.2.1.3.3" xref="S3.E5.m1.2.2.2.2.2.5.2.1.3.3.cmml">t</mi></msub></munder><mo lspace="0.167em" id="S3.E5.m1.2.2.2.2.2.5.2a" xref="S3.E5.m1.2.2.2.2.2.5.2.cmml">⁡</mo><munder id="S3.E5.m1.2.2.2.2.2.5.2.2" xref="S3.E5.m1.2.2.2.2.2.5.2.2.cmml"><mi id="S3.E5.m1.2.2.2.2.2.5.2.2.2" xref="S3.E5.m1.2.2.2.2.2.5.2.2.2.cmml">max</mi><mrow id="S3.E5.m1.2.2.2.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.2.2.3.cmml"><msub id="S3.E5.m1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml">D</mi><mtext id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3a.cmml">img </mtext></msub><mo id="S3.E5.m1.2.2.2.2.2.2.2.2.3" xref="S3.E5.m1.2.2.2.2.2.2.2.3.cmml">,</mo><msub id="S3.E5.m1.2.2.2.2.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.2.2.2.2.cmml"><mi id="S3.E5.m1.2.2.2.2.2.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.2.2.2.2.2.cmml">D</mi><mtext id="S3.E5.m1.2.2.2.2.2.2.2.2.2.3" xref="S3.E5.m1.2.2.2.2.2.2.2.2.2.3a.cmml">patch </mtext></msub></mrow></munder></mrow></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.10.10c" xref="S3.E5.m1.10.10.cmml"><mrow id="S3.E5.m1.5.5.5.5.3" xref="S3.E5.m1.5.5.5.5.3.cmml"><msub id="S3.E5.m1.5.5.5.5.3.5" xref="S3.E5.m1.5.5.5.5.3.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.5.5.5.5.3.5.2" xref="S3.E5.m1.5.5.5.5.3.5.2.cmml">ℒ</mi><mtext id="S3.E5.m1.5.5.5.5.3.5.3" xref="S3.E5.m1.5.5.5.5.3.5.3a.cmml">adv </mtext></msub><mo lspace="0em" rspace="0em" id="S3.E5.m1.5.5.5.5.3.4" xref="S3.E5.m1.5.5.5.5.3.4.cmml">​</mo><mrow id="S3.E5.m1.5.5.5.5.3.3.3" xref="S3.E5.m1.5.5.5.5.3.3.4.cmml"><mo id="S3.E5.m1.5.5.5.5.3.3.3.4" xref="S3.E5.m1.5.5.5.5.3.3.4.cmml">(</mo><msub id="S3.E5.m1.3.3.3.3.1.1.1.1" xref="S3.E5.m1.3.3.3.3.1.1.1.1.cmml"><mi id="S3.E5.m1.3.3.3.3.1.1.1.1.2" xref="S3.E5.m1.3.3.3.3.1.1.1.1.2.cmml">G</mi><mi id="S3.E5.m1.3.3.3.3.1.1.1.1.3" xref="S3.E5.m1.3.3.3.3.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E5.m1.5.5.5.5.3.3.3.5" xref="S3.E5.m1.5.5.5.5.3.3.4.cmml">,</mo><msub id="S3.E5.m1.4.4.4.4.2.2.2.2" xref="S3.E5.m1.4.4.4.4.2.2.2.2.cmml"><mi id="S3.E5.m1.4.4.4.4.2.2.2.2.2" xref="S3.E5.m1.4.4.4.4.2.2.2.2.2.cmml">D</mi><mtext id="S3.E5.m1.4.4.4.4.2.2.2.2.3" xref="S3.E5.m1.4.4.4.4.2.2.2.2.3a.cmml">img </mtext></msub><mo id="S3.E5.m1.5.5.5.5.3.3.3.6" xref="S3.E5.m1.5.5.5.5.3.3.4.cmml">,</mo><msub id="S3.E5.m1.5.5.5.5.3.3.3.3" xref="S3.E5.m1.5.5.5.5.3.3.3.3.cmml"><mi id="S3.E5.m1.5.5.5.5.3.3.3.3.2" xref="S3.E5.m1.5.5.5.5.3.3.3.3.2.cmml">D</mi><mtext id="S3.E5.m1.5.5.5.5.3.3.3.3.3" xref="S3.E5.m1.5.5.5.5.3.3.3.3.3a.cmml">patch </mtext></msub><mo id="S3.E5.m1.5.5.5.5.3.3.3.7" xref="S3.E5.m1.5.5.5.5.3.3.4.cmml">)</mo></mrow></mrow></mtd></mtr><mtr id="S3.E5.m1.10.10d" xref="S3.E5.m1.10.10.cmml"><mtd id="S3.E5.m1.10.10e" xref="S3.E5.m1.10.10.cmml"></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.10.10f" xref="S3.E5.m1.10.10.cmml"><mrow id="S3.E5.m1.7.7.7.2.2" xref="S3.E5.m1.7.7.7.2.2.cmml"><mo id="S3.E5.m1.7.7.7.2.2a" xref="S3.E5.m1.7.7.7.2.2.cmml">+</mo><mrow id="S3.E5.m1.7.7.7.2.2.2" xref="S3.E5.m1.7.7.7.2.2.2.cmml"><msub id="S3.E5.m1.7.7.7.2.2.2.3" xref="S3.E5.m1.7.7.7.2.2.2.3.cmml"><mi id="S3.E5.m1.7.7.7.2.2.2.3.2" xref="S3.E5.m1.7.7.7.2.2.2.3.2.cmml">λ</mi><mn id="S3.E5.m1.7.7.7.2.2.2.3.3" xref="S3.E5.m1.7.7.7.2.2.2.3.3.cmml">1</mn></msub><mo lspace="0em" rspace="0em" id="S3.E5.m1.7.7.7.2.2.2.2" xref="S3.E5.m1.7.7.7.2.2.2.2.cmml">​</mo><msub id="S3.E5.m1.7.7.7.2.2.2.4" xref="S3.E5.m1.7.7.7.2.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.7.7.7.2.2.2.4.2" xref="S3.E5.m1.7.7.7.2.2.2.4.2.cmml">ℒ</mi><mtext id="S3.E5.m1.7.7.7.2.2.2.4.3" xref="S3.E5.m1.7.7.7.2.2.2.4.3a.cmml">dist </mtext></msub><mo lspace="0em" rspace="0em" id="S3.E5.m1.7.7.7.2.2.2.2a" xref="S3.E5.m1.7.7.7.2.2.2.2.cmml">​</mo><mrow id="S3.E5.m1.7.7.7.2.2.2.1.1" xref="S3.E5.m1.7.7.7.2.2.2.1.2.cmml"><mo id="S3.E5.m1.7.7.7.2.2.2.1.1.2" xref="S3.E5.m1.7.7.7.2.2.2.1.2.cmml">(</mo><msub id="S3.E5.m1.7.7.7.2.2.2.1.1.1" xref="S3.E5.m1.7.7.7.2.2.2.1.1.1.cmml"><mi id="S3.E5.m1.7.7.7.2.2.2.1.1.1.2" xref="S3.E5.m1.7.7.7.2.2.2.1.1.1.2.cmml">G</mi><mi id="S3.E5.m1.7.7.7.2.2.2.1.1.1.3" xref="S3.E5.m1.7.7.7.2.2.2.1.1.1.3.cmml">t</mi></msub><mo id="S3.E5.m1.7.7.7.2.2.2.1.1.3" xref="S3.E5.m1.7.7.7.2.2.2.1.2.cmml">,</mo><mi id="S3.E5.m1.6.6.6.1.1.1" xref="S3.E5.m1.6.6.6.1.1.1.cmml">G</mi><mo id="S3.E5.m1.7.7.7.2.2.2.1.1.4" xref="S3.E5.m1.7.7.7.2.2.2.1.2.cmml">)</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S3.E5.m1.10.10g" xref="S3.E5.m1.10.10.cmml"><mtd id="S3.E5.m1.10.10h" xref="S3.E5.m1.10.10.cmml"></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.10.10i" xref="S3.E5.m1.10.10.cmml"><mrow id="S3.E5.m1.10.10.10.3.3.3" xref="S3.E5.m1.10.10.10.3.3.3.1.cmml"><mrow id="S3.E5.m1.10.10.10.3.3.3.1" xref="S3.E5.m1.10.10.10.3.3.3.1.cmml"><mo id="S3.E5.m1.10.10.10.3.3.3.1a" xref="S3.E5.m1.10.10.10.3.3.3.1.cmml">+</mo><mrow id="S3.E5.m1.10.10.10.3.3.3.1.2" xref="S3.E5.m1.10.10.10.3.3.3.1.2.cmml"><msub id="S3.E5.m1.10.10.10.3.3.3.1.2.4" xref="S3.E5.m1.10.10.10.3.3.3.1.2.4.cmml"><mi id="S3.E5.m1.10.10.10.3.3.3.1.2.4.2" xref="S3.E5.m1.10.10.10.3.3.3.1.2.4.2.cmml">λ</mi><mn id="S3.E5.m1.10.10.10.3.3.3.1.2.4.3" xref="S3.E5.m1.10.10.10.3.3.3.1.2.4.3.cmml">2</mn></msub><mo lspace="0em" rspace="0em" id="S3.E5.m1.10.10.10.3.3.3.1.2.3" xref="S3.E5.m1.10.10.10.3.3.3.1.2.3.cmml">​</mo><msub id="S3.E5.m1.10.10.10.3.3.3.1.2.5" xref="S3.E5.m1.10.10.10.3.3.3.1.2.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.10.10.10.3.3.3.1.2.5.2" xref="S3.E5.m1.10.10.10.3.3.3.1.2.5.2.cmml">ℒ</mi><mtext id="S3.E5.m1.10.10.10.3.3.3.1.2.5.3" xref="S3.E5.m1.10.10.10.3.3.3.1.2.5.3a.cmml">direction </mtext></msub><mo lspace="0em" rspace="0em" id="S3.E5.m1.10.10.10.3.3.3.1.2.3a" xref="S3.E5.m1.10.10.10.3.3.3.1.2.3.cmml">​</mo><mrow id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.3.cmml"><mo id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.3" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.3.cmml">(</mo><msub id="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1" xref="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.cmml"><mi id="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.2" xref="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.2.cmml">G</mi><mi id="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.3" xref="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.4" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.3.cmml">,</mo><mi id="S3.E5.m1.8.8.8.1.1.1" xref="S3.E5.m1.8.8.8.1.1.1.cmml">G</mi><mo id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.5" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.3.cmml">,</mo><mi id="S3.E5.m1.9.9.9.2.2.2" xref="S3.E5.m1.9.9.9.2.2.2.cmml">T</mi><mo id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.6" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.3.cmml">,</mo><msub id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.cmml"><mi id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.2" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.2.cmml">T</mi><mtext id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.3" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.3a.cmml">target</mtext></msub><mo id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.7" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E5.m1.10.10.10.3.3.3.2" xref="S3.E5.m1.10.10.10.3.3.3.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E5.m1.10b"><matrix id="S3.E5.m1.10.10.cmml" xref="S3.E5.m1.10.10"><matrixrow id="S3.E5.m1.10.10a.cmml" xref="S3.E5.m1.10.10"><apply id="S3.E5.m1.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2"><eq id="S3.E5.m1.2.2.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.2.3"></eq><apply id="S3.E5.m1.2.2.2.2.2.4.cmml" xref="S3.E5.m1.2.2.2.2.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.4.1.cmml" xref="S3.E5.m1.2.2.2.2.2.4">superscript</csymbol><apply id="S3.E5.m1.2.2.2.2.2.4.2.cmml" xref="S3.E5.m1.2.2.2.2.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.4.2.1.cmml" xref="S3.E5.m1.2.2.2.2.2.4">subscript</csymbol><ci id="S3.E5.m1.2.2.2.2.2.4.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.4.2.2">𝐺</ci><ci id="S3.E5.m1.2.2.2.2.2.4.2.3.cmml" xref="S3.E5.m1.2.2.2.2.2.4.2.3">𝑡</ci></apply><times id="S3.E5.m1.2.2.2.2.2.4.3.cmml" xref="S3.E5.m1.2.2.2.2.2.4.3"></times></apply><apply id="S3.E5.m1.2.2.2.2.2.5.cmml" xref="S3.E5.m1.2.2.2.2.2.5"><arg id="S3.E5.m1.2.2.2.2.2.5.1.cmml" xref="S3.E5.m1.2.2.2.2.2.5.1"></arg><apply id="S3.E5.m1.2.2.2.2.2.5.2.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2"><apply id="S3.E5.m1.2.2.2.2.2.5.2.1.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2.1"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.5.2.1.1.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2.1">subscript</csymbol><min id="S3.E5.m1.2.2.2.2.2.5.2.1.2.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2.1.2"></min><apply id="S3.E5.m1.2.2.2.2.2.5.2.1.3.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.5.2.1.3.1.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2.1.3">subscript</csymbol><ci id="S3.E5.m1.2.2.2.2.2.5.2.1.3.2.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2.1.3.2">𝐺</ci><ci id="S3.E5.m1.2.2.2.2.2.5.2.1.3.3.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2.1.3.3">𝑡</ci></apply></apply><apply id="S3.E5.m1.2.2.2.2.2.5.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.5.2.2.1.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2.2">subscript</csymbol><max id="S3.E5.m1.2.2.2.2.2.5.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.5.2.2.2"></max><list id="S3.E5.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2.2"><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.2">𝐷</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3"><mtext mathsize="50%" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3">img </mtext></ci></apply><apply id="S3.E5.m1.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2.2.2.2">𝐷</ci><ci id="S3.E5.m1.2.2.2.2.2.2.2.2.2.3a.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2.2.2.3"><mtext mathsize="50%" id="S3.E5.m1.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2.2.2.3">patch </mtext></ci></apply></list></apply></apply></apply></apply><apply id="S3.E5.m1.5.5.5.5.3.cmml" xref="S3.E5.m1.5.5.5.5.3"><times id="S3.E5.m1.5.5.5.5.3.4.cmml" xref="S3.E5.m1.5.5.5.5.3.4"></times><apply id="S3.E5.m1.5.5.5.5.3.5.cmml" xref="S3.E5.m1.5.5.5.5.3.5"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.5.5.3.5.1.cmml" xref="S3.E5.m1.5.5.5.5.3.5">subscript</csymbol><ci id="S3.E5.m1.5.5.5.5.3.5.2.cmml" xref="S3.E5.m1.5.5.5.5.3.5.2">ℒ</ci><ci id="S3.E5.m1.5.5.5.5.3.5.3a.cmml" xref="S3.E5.m1.5.5.5.5.3.5.3"><mtext mathsize="70%" id="S3.E5.m1.5.5.5.5.3.5.3.cmml" xref="S3.E5.m1.5.5.5.5.3.5.3">adv </mtext></ci></apply><vector id="S3.E5.m1.5.5.5.5.3.3.4.cmml" xref="S3.E5.m1.5.5.5.5.3.3.3"><apply id="S3.E5.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.E5.m1.3.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.3.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.3.3.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.3.3.3.3.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.3.3.1.1.1.1.2">𝐺</ci><ci id="S3.E5.m1.3.3.3.3.1.1.1.1.3.cmml" xref="S3.E5.m1.3.3.3.3.1.1.1.1.3">𝑡</ci></apply><apply id="S3.E5.m1.4.4.4.4.2.2.2.2.cmml" xref="S3.E5.m1.4.4.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.4.2.2.2.2.1.cmml" xref="S3.E5.m1.4.4.4.4.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.4.4.4.4.2.2.2.2.2.cmml" xref="S3.E5.m1.4.4.4.4.2.2.2.2.2">𝐷</ci><ci id="S3.E5.m1.4.4.4.4.2.2.2.2.3a.cmml" xref="S3.E5.m1.4.4.4.4.2.2.2.2.3"><mtext mathsize="70%" id="S3.E5.m1.4.4.4.4.2.2.2.2.3.cmml" xref="S3.E5.m1.4.4.4.4.2.2.2.2.3">img </mtext></ci></apply><apply id="S3.E5.m1.5.5.5.5.3.3.3.3.cmml" xref="S3.E5.m1.5.5.5.5.3.3.3.3"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.5.5.3.3.3.3.1.cmml" xref="S3.E5.m1.5.5.5.5.3.3.3.3">subscript</csymbol><ci id="S3.E5.m1.5.5.5.5.3.3.3.3.2.cmml" xref="S3.E5.m1.5.5.5.5.3.3.3.3.2">𝐷</ci><ci id="S3.E5.m1.5.5.5.5.3.3.3.3.3a.cmml" xref="S3.E5.m1.5.5.5.5.3.3.3.3.3"><mtext mathsize="70%" id="S3.E5.m1.5.5.5.5.3.3.3.3.3.cmml" xref="S3.E5.m1.5.5.5.5.3.3.3.3.3">patch </mtext></ci></apply></vector></apply></matrixrow><matrixrow id="S3.E5.m1.10.10b.cmml" xref="S3.E5.m1.10.10"><cerror id="S3.E5.m1.10.10c.cmml" xref="S3.E5.m1.10.10"><csymbol cd="ambiguous" id="S3.E5.m1.10.10d.cmml" xref="S3.E5.m1.10.10">missing-subexpression</csymbol></cerror><apply id="S3.E5.m1.7.7.7.2.2.cmml" xref="S3.E5.m1.7.7.7.2.2"><plus id="S3.E5.m1.7.7.7.2.2.3.cmml" xref="S3.E5.m1.7.7.7.2.2"></plus><apply id="S3.E5.m1.7.7.7.2.2.2.cmml" xref="S3.E5.m1.7.7.7.2.2.2"><times id="S3.E5.m1.7.7.7.2.2.2.2.cmml" xref="S3.E5.m1.7.7.7.2.2.2.2"></times><apply id="S3.E5.m1.7.7.7.2.2.2.3.cmml" xref="S3.E5.m1.7.7.7.2.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.7.2.2.2.3.1.cmml" xref="S3.E5.m1.7.7.7.2.2.2.3">subscript</csymbol><ci id="S3.E5.m1.7.7.7.2.2.2.3.2.cmml" xref="S3.E5.m1.7.7.7.2.2.2.3.2">𝜆</ci><cn type="integer" id="S3.E5.m1.7.7.7.2.2.2.3.3.cmml" xref="S3.E5.m1.7.7.7.2.2.2.3.3">1</cn></apply><apply id="S3.E5.m1.7.7.7.2.2.2.4.cmml" xref="S3.E5.m1.7.7.7.2.2.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.7.2.2.2.4.1.cmml" xref="S3.E5.m1.7.7.7.2.2.2.4">subscript</csymbol><ci id="S3.E5.m1.7.7.7.2.2.2.4.2.cmml" xref="S3.E5.m1.7.7.7.2.2.2.4.2">ℒ</ci><ci id="S3.E5.m1.7.7.7.2.2.2.4.3a.cmml" xref="S3.E5.m1.7.7.7.2.2.2.4.3"><mtext mathsize="70%" id="S3.E5.m1.7.7.7.2.2.2.4.3.cmml" xref="S3.E5.m1.7.7.7.2.2.2.4.3">dist </mtext></ci></apply><interval closure="open" id="S3.E5.m1.7.7.7.2.2.2.1.2.cmml" xref="S3.E5.m1.7.7.7.2.2.2.1.1"><apply id="S3.E5.m1.7.7.7.2.2.2.1.1.1.cmml" xref="S3.E5.m1.7.7.7.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.7.2.2.2.1.1.1.1.cmml" xref="S3.E5.m1.7.7.7.2.2.2.1.1.1">subscript</csymbol><ci id="S3.E5.m1.7.7.7.2.2.2.1.1.1.2.cmml" xref="S3.E5.m1.7.7.7.2.2.2.1.1.1.2">𝐺</ci><ci id="S3.E5.m1.7.7.7.2.2.2.1.1.1.3.cmml" xref="S3.E5.m1.7.7.7.2.2.2.1.1.1.3">𝑡</ci></apply><ci id="S3.E5.m1.6.6.6.1.1.1.cmml" xref="S3.E5.m1.6.6.6.1.1.1">𝐺</ci></interval></apply></apply></matrixrow><matrixrow id="S3.E5.m1.10.10e.cmml" xref="S3.E5.m1.10.10"><cerror id="S3.E5.m1.10.10f.cmml" xref="S3.E5.m1.10.10"><csymbol cd="ambiguous" id="S3.E5.m1.10.10g.cmml" xref="S3.E5.m1.10.10">missing-subexpression</csymbol></cerror><apply id="S3.E5.m1.10.10.10.3.3.3.1.cmml" xref="S3.E5.m1.10.10.10.3.3.3"><plus id="S3.E5.m1.10.10.10.3.3.3.1.3.cmml" xref="S3.E5.m1.10.10.10.3.3.3"></plus><apply id="S3.E5.m1.10.10.10.3.3.3.1.2.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2"><times id="S3.E5.m1.10.10.10.3.3.3.1.2.3.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.3"></times><apply id="S3.E5.m1.10.10.10.3.3.3.1.2.4.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.10.10.10.3.3.3.1.2.4.1.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.4">subscript</csymbol><ci id="S3.E5.m1.10.10.10.3.3.3.1.2.4.2.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.4.2">𝜆</ci><cn type="integer" id="S3.E5.m1.10.10.10.3.3.3.1.2.4.3.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.4.3">2</cn></apply><apply id="S3.E5.m1.10.10.10.3.3.3.1.2.5.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.5"><csymbol cd="ambiguous" id="S3.E5.m1.10.10.10.3.3.3.1.2.5.1.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.5">subscript</csymbol><ci id="S3.E5.m1.10.10.10.3.3.3.1.2.5.2.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.5.2">ℒ</ci><ci id="S3.E5.m1.10.10.10.3.3.3.1.2.5.3a.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.5.3"><mtext mathsize="70%" id="S3.E5.m1.10.10.10.3.3.3.1.2.5.3.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.5.3">direction </mtext></ci></apply><vector id="S3.E5.m1.10.10.10.3.3.3.1.2.2.3.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.2"><apply id="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.1.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.2.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.2">𝐺</ci><ci id="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.3.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.1.1.1.1.3">𝑡</ci></apply><ci id="S3.E5.m1.8.8.8.1.1.1.cmml" xref="S3.E5.m1.8.8.8.1.1.1">𝐺</ci><ci id="S3.E5.m1.9.9.9.2.2.2.cmml" xref="S3.E5.m1.9.9.9.2.2.2">𝑇</ci><apply id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.1.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.2.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.2">𝑇</ci><ci id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.3a.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.3"><mtext mathsize="70%" id="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.3.cmml" xref="S3.E5.m1.10.10.10.3.3.3.1.2.2.2.2.3">target</mtext></ci></apply></vector></apply></apply></matrixrow></matrix></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.10c">\displaystyle\begin{aligned} G_{t}^{*}=\arg\min_{G_{t}}\max_{D_{\text{img }},D_{\text{patch }}}&amp;\mathcal{L}_{\text{adv }}\left(G_{t},D_{\text{img }},D_{\text{patch }}\right)\\
&amp;+\lambda_{1}\mathcal{L}_{\text{dist }}\left(G_{t},G\right)\\
&amp;+\lambda_{2}\mathcal{L}_{\text{direction }}\left(G_{t},G,T,T_{\text{target}}\right),\end{aligned}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p6.1" class="ltx_p">where <math id="S3.SS2.p6.1.m1.1" class="ltx_Math" alttext="\lambda_{2}" display="inline"><semantics id="S3.SS2.p6.1.m1.1a"><msub id="S3.SS2.p6.1.m1.1.1" xref="S3.SS2.p6.1.m1.1.1.cmml"><mi id="S3.SS2.p6.1.m1.1.1.2" xref="S3.SS2.p6.1.m1.1.1.2.cmml">λ</mi><mn id="S3.SS2.p6.1.m1.1.1.3" xref="S3.SS2.p6.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.1b"><apply id="S3.SS2.p6.1.m1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p6.1.m1.1.1.2.cmml" xref="S3.SS2.p6.1.m1.1.1.2">𝜆</ci><cn type="integer" id="S3.SS2.p6.1.m1.1.1.3.cmml" xref="S3.SS2.p6.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.1c">\lambda_{2}</annotation></semantics></math> is the hyper-parameter to balance the text guidance and other terms.</p>
</div>
<div id="S3.SS2.p7" class="ltx_para ltx_noindent">
<p id="S3.SS2.p7.1" class="ltx_p"><span id="S3.SS2.p7.1.1" class="ltx_text ltx_font_bold">Image Synthesis Training Strategy.</span> 
In order to further prevent the model from overfitting the few-shot image samples, we adopt the freezing strategy during the training. More specifically, the shallow layers of the original generator are frozen, while shallow layers of the discriminator are also frozen accordingly to further ensure a stable training process. The training strategy is simple yet effective in preventing overfitting under few-shot conditions.</p>
</div>
<div id="S3.SS2.p8" class="ltx_para ltx_noindent">
<p id="S3.SS2.p8.4" class="ltx_p"><span id="S3.SS2.p8.4.1" class="ltx_text ltx_font_bold">Label Synthesis.</span>
We can now get unlimited target-like samples with a successfully adapted image synthesis branch.
Previous research has proved that StyleGAN2 <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib25" title="" class="ltx_ref">2020b</a>)</cite> learns a well-disentangled semantic latent space, where each channel controls some meaningful properties at different scales.
Intuitively, feature maps generated by those channels should be semantically informative enough to act as extracted features for downstream tasks, e.g., segmentation and detection.
Based on this assumption, we develop our object detection branch and get our training data with the following procedure: We sample a set of latent codes <math id="S3.SS2.p8.1.m1.1" class="ltx_Math" alttext="\{z_{i}\}_{i=1}^{N_{a}}" display="inline"><semantics id="S3.SS2.p8.1.m1.1a"><msubsup id="S3.SS2.p8.1.m1.1.1" xref="S3.SS2.p8.1.m1.1.1.cmml"><mrow id="S3.SS2.p8.1.m1.1.1.1.1.1" xref="S3.SS2.p8.1.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p8.1.m1.1.1.1.1.1.2" xref="S3.SS2.p8.1.m1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS2.p8.1.m1.1.1.1.1.1.1" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.1.2" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.p8.1.m1.1.1.1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p8.1.m1.1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.1.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.1.3.2" xref="S3.SS2.p8.1.m1.1.1.1.3.2.cmml">i</mi><mo id="S3.SS2.p8.1.m1.1.1.1.3.1" xref="S3.SS2.p8.1.m1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p8.1.m1.1.1.1.3.3" xref="S3.SS2.p8.1.m1.1.1.1.3.3.cmml">1</mn></mrow><msub id="S3.SS2.p8.1.m1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.2" xref="S3.SS2.p8.1.m1.1.1.3.2.cmml">N</mi><mi id="S3.SS2.p8.1.m1.1.1.3.3" xref="S3.SS2.p8.1.m1.1.1.3.3.cmml">a</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.1.m1.1b"><apply id="S3.SS2.p8.1.m1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1">superscript</csymbol><apply id="S3.SS2.p8.1.m1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1">subscript</csymbol><set id="S3.SS2.p8.1.m1.1.1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1"><apply id="S3.SS2.p8.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.SS2.p8.1.m1.1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.3"><eq id="S3.SS2.p8.1.m1.1.1.1.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.3.1"></eq><ci id="S3.SS2.p8.1.m1.1.1.1.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS2.p8.1.m1.1.1.1.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS2.p8.1.m1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.2">𝑁</ci><ci id="S3.SS2.p8.1.m1.1.1.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.3">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.1.m1.1c">\{z_{i}\}_{i=1}^{N_{a}}</annotation></semantics></math> and generate their corresponding images <math id="S3.SS2.p8.2.m2.1" class="ltx_Math" alttext="\{G_{t}(z_{i})\}_{i=1}^{N_{a}}" display="inline"><semantics id="S3.SS2.p8.2.m2.1a"><msubsup id="S3.SS2.p8.2.m2.1.1" xref="S3.SS2.p8.2.m2.1.1.cmml"><mrow id="S3.SS2.p8.2.m2.1.1.1.1.1" xref="S3.SS2.p8.2.m2.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p8.2.m2.1.1.1.1.1.2" xref="S3.SS2.p8.2.m2.1.1.1.1.2.cmml">{</mo><mrow id="S3.SS2.p8.2.m2.1.1.1.1.1.1" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.cmml"><msub id="S3.SS2.p8.2.m2.1.1.1.1.1.1.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.2" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.2.cmml">G</mi><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p8.2.m2.1.1.1.1.1.1.2" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.SS2.p8.2.m2.1.1.1.1.1.3" xref="S3.SS2.p8.2.m2.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p8.2.m2.1.1.1.3" xref="S3.SS2.p8.2.m2.1.1.1.3.cmml"><mi id="S3.SS2.p8.2.m2.1.1.1.3.2" xref="S3.SS2.p8.2.m2.1.1.1.3.2.cmml">i</mi><mo id="S3.SS2.p8.2.m2.1.1.1.3.1" xref="S3.SS2.p8.2.m2.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p8.2.m2.1.1.1.3.3" xref="S3.SS2.p8.2.m2.1.1.1.3.3.cmml">1</mn></mrow><msub id="S3.SS2.p8.2.m2.1.1.3" xref="S3.SS2.p8.2.m2.1.1.3.cmml"><mi id="S3.SS2.p8.2.m2.1.1.3.2" xref="S3.SS2.p8.2.m2.1.1.3.2.cmml">N</mi><mi id="S3.SS2.p8.2.m2.1.1.3.3" xref="S3.SS2.p8.2.m2.1.1.3.3.cmml">a</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.2.m2.1b"><apply id="S3.SS2.p8.2.m2.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.2.m2.1.1.2.cmml" xref="S3.SS2.p8.2.m2.1.1">superscript</csymbol><apply id="S3.SS2.p8.2.m2.1.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.2.m2.1.1.1.2.cmml" xref="S3.SS2.p8.2.m2.1.1">subscript</csymbol><set id="S3.SS2.p8.2.m2.1.1.1.1.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1"><apply id="S3.SS2.p8.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1"><times id="S3.SS2.p8.2.m2.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.2"></times><apply id="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.2">𝐺</ci><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.3.3">𝑡</ci></apply><apply id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></set><apply id="S3.SS2.p8.2.m2.1.1.1.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.3"><eq id="S3.SS2.p8.2.m2.1.1.1.3.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1.3.1"></eq><ci id="S3.SS2.p8.2.m2.1.1.1.3.2.cmml" xref="S3.SS2.p8.2.m2.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS2.p8.2.m2.1.1.1.3.3.cmml" xref="S3.SS2.p8.2.m2.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS2.p8.2.m2.1.1.3.cmml" xref="S3.SS2.p8.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p8.2.m2.1.1.3.1.cmml" xref="S3.SS2.p8.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS2.p8.2.m2.1.1.3.2.cmml" xref="S3.SS2.p8.2.m2.1.1.3.2">𝑁</ci><ci id="S3.SS2.p8.2.m2.1.1.3.3.cmml" xref="S3.SS2.p8.2.m2.1.1.3.3">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.2.m2.1c">\{G_{t}(z_{i})\}_{i=1}^{N_{a}}</annotation></semantics></math>. Here <math id="S3.SS2.p8.3.m3.1" class="ltx_Math" alttext="N_{a}" display="inline"><semantics id="S3.SS2.p8.3.m3.1a"><msub id="S3.SS2.p8.3.m3.1.1" xref="S3.SS2.p8.3.m3.1.1.cmml"><mi id="S3.SS2.p8.3.m3.1.1.2" xref="S3.SS2.p8.3.m3.1.1.2.cmml">N</mi><mi id="S3.SS2.p8.3.m3.1.1.3" xref="S3.SS2.p8.3.m3.1.1.3.cmml">a</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.3.m3.1b"><apply id="S3.SS2.p8.3.m3.1.1.cmml" xref="S3.SS2.p8.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.3.m3.1.1.1.cmml" xref="S3.SS2.p8.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p8.3.m3.1.1.2.cmml" xref="S3.SS2.p8.3.m3.1.1.2">𝑁</ci><ci id="S3.SS2.p8.3.m3.1.1.3.cmml" xref="S3.SS2.p8.3.m3.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.3.m3.1c">N_{a}</annotation></semantics></math> denotes the number of manual annotations required to train the object detection task. Then we manually annotate these samples as our training data. During the training process, we deploy the generator <math id="S3.SS2.p8.4.m4.1" class="ltx_Math" alttext="G_{t}" display="inline"><semantics id="S3.SS2.p8.4.m4.1a"><msub id="S3.SS2.p8.4.m4.1.1" xref="S3.SS2.p8.4.m4.1.1.cmml"><mi id="S3.SS2.p8.4.m4.1.1.2" xref="S3.SS2.p8.4.m4.1.1.2.cmml">G</mi><mi id="S3.SS2.p8.4.m4.1.1.3" xref="S3.SS2.p8.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.4.m4.1b"><apply id="S3.SS2.p8.4.m4.1.1.cmml" xref="S3.SS2.p8.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.4.m4.1.1.1.cmml" xref="S3.SS2.p8.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p8.4.m4.1.1.2.cmml" xref="S3.SS2.p8.4.m4.1.1.2">𝐺</ci><ci id="S3.SS2.p8.4.m4.1.1.3.cmml" xref="S3.SS2.p8.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.4.m4.1c">G_{t}</annotation></semantics></math> as our backbone network and concatenate the intermediate convolutional feature maps generated by the latent codes as our encoded features for the matching images.
A prediction head is built on these extracted features and trained for the object detection task.</p>
</div>
<div id="S3.SS2.p9" class="ltx_para ltx_noindent">
<p id="S3.SS2.p9.11" class="ltx_p">Inspired by <cite class="ltx_cite ltx_citemacro_cite">Zhou et al. (<a href="#bib.bib66" title="" class="ltx_ref">2019</a>)</cite>, we use keypoint representations where each object is represented by its center point and the size of its bounding box. To detect objects presented in a synthesized image <math id="S3.SS2.p9.1.m1.1" class="ltx_Math" alttext="\bar{\mathbf{x}}_{t}\in R^{W\times H\times 3}" display="inline"><semantics id="S3.SS2.p9.1.m1.1a"><mrow id="S3.SS2.p9.1.m1.1.1" xref="S3.SS2.p9.1.m1.1.1.cmml"><msub id="S3.SS2.p9.1.m1.1.1.2" xref="S3.SS2.p9.1.m1.1.1.2.cmml"><mover accent="true" id="S3.SS2.p9.1.m1.1.1.2.2" xref="S3.SS2.p9.1.m1.1.1.2.2.cmml"><mi id="S3.SS2.p9.1.m1.1.1.2.2.2" xref="S3.SS2.p9.1.m1.1.1.2.2.2.cmml">𝐱</mi><mo id="S3.SS2.p9.1.m1.1.1.2.2.1" xref="S3.SS2.p9.1.m1.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.SS2.p9.1.m1.1.1.2.3" xref="S3.SS2.p9.1.m1.1.1.2.3.cmml">t</mi></msub><mo id="S3.SS2.p9.1.m1.1.1.1" xref="S3.SS2.p9.1.m1.1.1.1.cmml">∈</mo><msup id="S3.SS2.p9.1.m1.1.1.3" xref="S3.SS2.p9.1.m1.1.1.3.cmml"><mi id="S3.SS2.p9.1.m1.1.1.3.2" xref="S3.SS2.p9.1.m1.1.1.3.2.cmml">R</mi><mrow id="S3.SS2.p9.1.m1.1.1.3.3" xref="S3.SS2.p9.1.m1.1.1.3.3.cmml"><mi id="S3.SS2.p9.1.m1.1.1.3.3.2" xref="S3.SS2.p9.1.m1.1.1.3.3.2.cmml">W</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p9.1.m1.1.1.3.3.1" xref="S3.SS2.p9.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p9.1.m1.1.1.3.3.3" xref="S3.SS2.p9.1.m1.1.1.3.3.3.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p9.1.m1.1.1.3.3.1a" xref="S3.SS2.p9.1.m1.1.1.3.3.1.cmml">×</mo><mn id="S3.SS2.p9.1.m1.1.1.3.3.4" xref="S3.SS2.p9.1.m1.1.1.3.3.4.cmml">3</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.1.m1.1b"><apply id="S3.SS2.p9.1.m1.1.1.cmml" xref="S3.SS2.p9.1.m1.1.1"><in id="S3.SS2.p9.1.m1.1.1.1.cmml" xref="S3.SS2.p9.1.m1.1.1.1"></in><apply id="S3.SS2.p9.1.m1.1.1.2.cmml" xref="S3.SS2.p9.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p9.1.m1.1.1.2.1.cmml" xref="S3.SS2.p9.1.m1.1.1.2">subscript</csymbol><apply id="S3.SS2.p9.1.m1.1.1.2.2.cmml" xref="S3.SS2.p9.1.m1.1.1.2.2"><ci id="S3.SS2.p9.1.m1.1.1.2.2.1.cmml" xref="S3.SS2.p9.1.m1.1.1.2.2.1">¯</ci><ci id="S3.SS2.p9.1.m1.1.1.2.2.2.cmml" xref="S3.SS2.p9.1.m1.1.1.2.2.2">𝐱</ci></apply><ci id="S3.SS2.p9.1.m1.1.1.2.3.cmml" xref="S3.SS2.p9.1.m1.1.1.2.3">𝑡</ci></apply><apply id="S3.SS2.p9.1.m1.1.1.3.cmml" xref="S3.SS2.p9.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p9.1.m1.1.1.3.1.cmml" xref="S3.SS2.p9.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS2.p9.1.m1.1.1.3.2.cmml" xref="S3.SS2.p9.1.m1.1.1.3.2">𝑅</ci><apply id="S3.SS2.p9.1.m1.1.1.3.3.cmml" xref="S3.SS2.p9.1.m1.1.1.3.3"><times id="S3.SS2.p9.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.p9.1.m1.1.1.3.3.1"></times><ci id="S3.SS2.p9.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.p9.1.m1.1.1.3.3.2">𝑊</ci><ci id="S3.SS2.p9.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.p9.1.m1.1.1.3.3.3">𝐻</ci><cn type="integer" id="S3.SS2.p9.1.m1.1.1.3.3.4.cmml" xref="S3.SS2.p9.1.m1.1.1.3.3.4">3</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.1.m1.1c">\bar{\mathbf{x}}_{t}\in R^{W\times H\times 3}</annotation></semantics></math>, our goal is to predict a downsampled keypoint heatmap <math id="S3.SS2.p9.2.m2.2" class="ltx_Math" alttext="\hat{\mathbf{y}}\in[0,1]^{{\frac{W}{r}}\times\frac{H}{r}\times C}" display="inline"><semantics id="S3.SS2.p9.2.m2.2a"><mrow id="S3.SS2.p9.2.m2.2.3" xref="S3.SS2.p9.2.m2.2.3.cmml"><mover accent="true" id="S3.SS2.p9.2.m2.2.3.2" xref="S3.SS2.p9.2.m2.2.3.2.cmml"><mi id="S3.SS2.p9.2.m2.2.3.2.2" xref="S3.SS2.p9.2.m2.2.3.2.2.cmml">𝐲</mi><mo id="S3.SS2.p9.2.m2.2.3.2.1" xref="S3.SS2.p9.2.m2.2.3.2.1.cmml">^</mo></mover><mo id="S3.SS2.p9.2.m2.2.3.1" xref="S3.SS2.p9.2.m2.2.3.1.cmml">∈</mo><msup id="S3.SS2.p9.2.m2.2.3.3" xref="S3.SS2.p9.2.m2.2.3.3.cmml"><mrow id="S3.SS2.p9.2.m2.2.3.3.2.2" xref="S3.SS2.p9.2.m2.2.3.3.2.1.cmml"><mo stretchy="false" id="S3.SS2.p9.2.m2.2.3.3.2.2.1" xref="S3.SS2.p9.2.m2.2.3.3.2.1.cmml">[</mo><mn id="S3.SS2.p9.2.m2.1.1" xref="S3.SS2.p9.2.m2.1.1.cmml">0</mn><mo id="S3.SS2.p9.2.m2.2.3.3.2.2.2" xref="S3.SS2.p9.2.m2.2.3.3.2.1.cmml">,</mo><mn id="S3.SS2.p9.2.m2.2.2" xref="S3.SS2.p9.2.m2.2.2.cmml">1</mn><mo stretchy="false" id="S3.SS2.p9.2.m2.2.3.3.2.2.3" xref="S3.SS2.p9.2.m2.2.3.3.2.1.cmml">]</mo></mrow><mrow id="S3.SS2.p9.2.m2.2.3.3.3" xref="S3.SS2.p9.2.m2.2.3.3.3.cmml"><mfrac id="S3.SS2.p9.2.m2.2.3.3.3.2" xref="S3.SS2.p9.2.m2.2.3.3.3.2.cmml"><mi id="S3.SS2.p9.2.m2.2.3.3.3.2.2" xref="S3.SS2.p9.2.m2.2.3.3.3.2.2.cmml">W</mi><mi id="S3.SS2.p9.2.m2.2.3.3.3.2.3" xref="S3.SS2.p9.2.m2.2.3.3.3.2.3.cmml">r</mi></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p9.2.m2.2.3.3.3.1" xref="S3.SS2.p9.2.m2.2.3.3.3.1.cmml">×</mo><mfrac id="S3.SS2.p9.2.m2.2.3.3.3.3" xref="S3.SS2.p9.2.m2.2.3.3.3.3.cmml"><mi id="S3.SS2.p9.2.m2.2.3.3.3.3.2" xref="S3.SS2.p9.2.m2.2.3.3.3.3.2.cmml">H</mi><mi id="S3.SS2.p9.2.m2.2.3.3.3.3.3" xref="S3.SS2.p9.2.m2.2.3.3.3.3.3.cmml">r</mi></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p9.2.m2.2.3.3.3.1a" xref="S3.SS2.p9.2.m2.2.3.3.3.1.cmml">×</mo><mi id="S3.SS2.p9.2.m2.2.3.3.3.4" xref="S3.SS2.p9.2.m2.2.3.3.3.4.cmml">C</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.2.m2.2b"><apply id="S3.SS2.p9.2.m2.2.3.cmml" xref="S3.SS2.p9.2.m2.2.3"><in id="S3.SS2.p9.2.m2.2.3.1.cmml" xref="S3.SS2.p9.2.m2.2.3.1"></in><apply id="S3.SS2.p9.2.m2.2.3.2.cmml" xref="S3.SS2.p9.2.m2.2.3.2"><ci id="S3.SS2.p9.2.m2.2.3.2.1.cmml" xref="S3.SS2.p9.2.m2.2.3.2.1">^</ci><ci id="S3.SS2.p9.2.m2.2.3.2.2.cmml" xref="S3.SS2.p9.2.m2.2.3.2.2">𝐲</ci></apply><apply id="S3.SS2.p9.2.m2.2.3.3.cmml" xref="S3.SS2.p9.2.m2.2.3.3"><csymbol cd="ambiguous" id="S3.SS2.p9.2.m2.2.3.3.1.cmml" xref="S3.SS2.p9.2.m2.2.3.3">superscript</csymbol><interval closure="closed" id="S3.SS2.p9.2.m2.2.3.3.2.1.cmml" xref="S3.SS2.p9.2.m2.2.3.3.2.2"><cn type="integer" id="S3.SS2.p9.2.m2.1.1.cmml" xref="S3.SS2.p9.2.m2.1.1">0</cn><cn type="integer" id="S3.SS2.p9.2.m2.2.2.cmml" xref="S3.SS2.p9.2.m2.2.2">1</cn></interval><apply id="S3.SS2.p9.2.m2.2.3.3.3.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3"><times id="S3.SS2.p9.2.m2.2.3.3.3.1.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3.1"></times><apply id="S3.SS2.p9.2.m2.2.3.3.3.2.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3.2"><divide id="S3.SS2.p9.2.m2.2.3.3.3.2.1.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3.2"></divide><ci id="S3.SS2.p9.2.m2.2.3.3.3.2.2.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3.2.2">𝑊</ci><ci id="S3.SS2.p9.2.m2.2.3.3.3.2.3.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3.2.3">𝑟</ci></apply><apply id="S3.SS2.p9.2.m2.2.3.3.3.3.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3.3"><divide id="S3.SS2.p9.2.m2.2.3.3.3.3.1.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3.3"></divide><ci id="S3.SS2.p9.2.m2.2.3.3.3.3.2.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3.3.2">𝐻</ci><ci id="S3.SS2.p9.2.m2.2.3.3.3.3.3.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3.3.3">𝑟</ci></apply><ci id="S3.SS2.p9.2.m2.2.3.3.3.4.cmml" xref="S3.SS2.p9.2.m2.2.3.3.3.4">𝐶</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.2.m2.2c">\hat{\mathbf{y}}\in[0,1]^{{\frac{W}{r}}\times\frac{H}{r}\times C}</annotation></semantics></math>. <math id="S3.SS2.p9.3.m3.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS2.p9.3.m3.1a"><mi id="S3.SS2.p9.3.m3.1.1" xref="S3.SS2.p9.3.m3.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.3.m3.1b"><ci id="S3.SS2.p9.3.m3.1.1.cmml" xref="S3.SS2.p9.3.m3.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.3.m3.1c">C</annotation></semantics></math> denotes the number of classes for the prediction task, <math id="S3.SS2.p9.4.m4.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S3.SS2.p9.4.m4.1a"><mi id="S3.SS2.p9.4.m4.1.1" xref="S3.SS2.p9.4.m4.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.4.m4.1b"><ci id="S3.SS2.p9.4.m4.1.1.cmml" xref="S3.SS2.p9.4.m4.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.4.m4.1c">r</annotation></semantics></math> represents the downsampling stride, and <math id="S3.SS2.p9.5.m5.2" class="ltx_Math" alttext="W,H" display="inline"><semantics id="S3.SS2.p9.5.m5.2a"><mrow id="S3.SS2.p9.5.m5.2.3.2" xref="S3.SS2.p9.5.m5.2.3.1.cmml"><mi id="S3.SS2.p9.5.m5.1.1" xref="S3.SS2.p9.5.m5.1.1.cmml">W</mi><mo id="S3.SS2.p9.5.m5.2.3.2.1" xref="S3.SS2.p9.5.m5.2.3.1.cmml">,</mo><mi id="S3.SS2.p9.5.m5.2.2" xref="S3.SS2.p9.5.m5.2.2.cmml">H</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.5.m5.2b"><list id="S3.SS2.p9.5.m5.2.3.1.cmml" xref="S3.SS2.p9.5.m5.2.3.2"><ci id="S3.SS2.p9.5.m5.1.1.cmml" xref="S3.SS2.p9.5.m5.1.1">𝑊</ci><ci id="S3.SS2.p9.5.m5.2.2.cmml" xref="S3.SS2.p9.5.m5.2.2">𝐻</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.5.m5.2c">W,H</annotation></semantics></math> are the width and height of the image. A prediction <math id="S3.SS2.p9.6.m6.3" class="ltx_Math" alttext="\hat{\mathbf{y}}_{x,y,c}=1" display="inline"><semantics id="S3.SS2.p9.6.m6.3a"><mrow id="S3.SS2.p9.6.m6.3.4" xref="S3.SS2.p9.6.m6.3.4.cmml"><msub id="S3.SS2.p9.6.m6.3.4.2" xref="S3.SS2.p9.6.m6.3.4.2.cmml"><mover accent="true" id="S3.SS2.p9.6.m6.3.4.2.2" xref="S3.SS2.p9.6.m6.3.4.2.2.cmml"><mi id="S3.SS2.p9.6.m6.3.4.2.2.2" xref="S3.SS2.p9.6.m6.3.4.2.2.2.cmml">𝐲</mi><mo id="S3.SS2.p9.6.m6.3.4.2.2.1" xref="S3.SS2.p9.6.m6.3.4.2.2.1.cmml">^</mo></mover><mrow id="S3.SS2.p9.6.m6.3.3.3.5" xref="S3.SS2.p9.6.m6.3.3.3.4.cmml"><mi id="S3.SS2.p9.6.m6.1.1.1.1" xref="S3.SS2.p9.6.m6.1.1.1.1.cmml">x</mi><mo id="S3.SS2.p9.6.m6.3.3.3.5.1" xref="S3.SS2.p9.6.m6.3.3.3.4.cmml">,</mo><mi id="S3.SS2.p9.6.m6.2.2.2.2" xref="S3.SS2.p9.6.m6.2.2.2.2.cmml">y</mi><mo id="S3.SS2.p9.6.m6.3.3.3.5.2" xref="S3.SS2.p9.6.m6.3.3.3.4.cmml">,</mo><mi id="S3.SS2.p9.6.m6.3.3.3.3" xref="S3.SS2.p9.6.m6.3.3.3.3.cmml">c</mi></mrow></msub><mo id="S3.SS2.p9.6.m6.3.4.1" xref="S3.SS2.p9.6.m6.3.4.1.cmml">=</mo><mn id="S3.SS2.p9.6.m6.3.4.3" xref="S3.SS2.p9.6.m6.3.4.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.6.m6.3b"><apply id="S3.SS2.p9.6.m6.3.4.cmml" xref="S3.SS2.p9.6.m6.3.4"><eq id="S3.SS2.p9.6.m6.3.4.1.cmml" xref="S3.SS2.p9.6.m6.3.4.1"></eq><apply id="S3.SS2.p9.6.m6.3.4.2.cmml" xref="S3.SS2.p9.6.m6.3.4.2"><csymbol cd="ambiguous" id="S3.SS2.p9.6.m6.3.4.2.1.cmml" xref="S3.SS2.p9.6.m6.3.4.2">subscript</csymbol><apply id="S3.SS2.p9.6.m6.3.4.2.2.cmml" xref="S3.SS2.p9.6.m6.3.4.2.2"><ci id="S3.SS2.p9.6.m6.3.4.2.2.1.cmml" xref="S3.SS2.p9.6.m6.3.4.2.2.1">^</ci><ci id="S3.SS2.p9.6.m6.3.4.2.2.2.cmml" xref="S3.SS2.p9.6.m6.3.4.2.2.2">𝐲</ci></apply><list id="S3.SS2.p9.6.m6.3.3.3.4.cmml" xref="S3.SS2.p9.6.m6.3.3.3.5"><ci id="S3.SS2.p9.6.m6.1.1.1.1.cmml" xref="S3.SS2.p9.6.m6.1.1.1.1">𝑥</ci><ci id="S3.SS2.p9.6.m6.2.2.2.2.cmml" xref="S3.SS2.p9.6.m6.2.2.2.2">𝑦</ci><ci id="S3.SS2.p9.6.m6.3.3.3.3.cmml" xref="S3.SS2.p9.6.m6.3.3.3.3">𝑐</ci></list></apply><cn type="integer" id="S3.SS2.p9.6.m6.3.4.3.cmml" xref="S3.SS2.p9.6.m6.3.4.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.6.m6.3c">\hat{\mathbf{y}}_{x,y,c}=1</annotation></semantics></math> represents a detected keypoint of class <math id="S3.SS2.p9.7.m7.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS2.p9.7.m7.1a"><mi id="S3.SS2.p9.7.m7.1.1" xref="S3.SS2.p9.7.m7.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.7.m7.1b"><ci id="S3.SS2.p9.7.m7.1.1.cmml" xref="S3.SS2.p9.7.m7.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.7.m7.1c">c</annotation></semantics></math>, while <math id="S3.SS2.p9.8.m8.3" class="ltx_Math" alttext="\hat{\mathbf{y}}_{x,y,c}=0" display="inline"><semantics id="S3.SS2.p9.8.m8.3a"><mrow id="S3.SS2.p9.8.m8.3.4" xref="S3.SS2.p9.8.m8.3.4.cmml"><msub id="S3.SS2.p9.8.m8.3.4.2" xref="S3.SS2.p9.8.m8.3.4.2.cmml"><mover accent="true" id="S3.SS2.p9.8.m8.3.4.2.2" xref="S3.SS2.p9.8.m8.3.4.2.2.cmml"><mi id="S3.SS2.p9.8.m8.3.4.2.2.2" xref="S3.SS2.p9.8.m8.3.4.2.2.2.cmml">𝐲</mi><mo id="S3.SS2.p9.8.m8.3.4.2.2.1" xref="S3.SS2.p9.8.m8.3.4.2.2.1.cmml">^</mo></mover><mrow id="S3.SS2.p9.8.m8.3.3.3.5" xref="S3.SS2.p9.8.m8.3.3.3.4.cmml"><mi id="S3.SS2.p9.8.m8.1.1.1.1" xref="S3.SS2.p9.8.m8.1.1.1.1.cmml">x</mi><mo id="S3.SS2.p9.8.m8.3.3.3.5.1" xref="S3.SS2.p9.8.m8.3.3.3.4.cmml">,</mo><mi id="S3.SS2.p9.8.m8.2.2.2.2" xref="S3.SS2.p9.8.m8.2.2.2.2.cmml">y</mi><mo id="S3.SS2.p9.8.m8.3.3.3.5.2" xref="S3.SS2.p9.8.m8.3.3.3.4.cmml">,</mo><mi id="S3.SS2.p9.8.m8.3.3.3.3" xref="S3.SS2.p9.8.m8.3.3.3.3.cmml">c</mi></mrow></msub><mo id="S3.SS2.p9.8.m8.3.4.1" xref="S3.SS2.p9.8.m8.3.4.1.cmml">=</mo><mn id="S3.SS2.p9.8.m8.3.4.3" xref="S3.SS2.p9.8.m8.3.4.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.8.m8.3b"><apply id="S3.SS2.p9.8.m8.3.4.cmml" xref="S3.SS2.p9.8.m8.3.4"><eq id="S3.SS2.p9.8.m8.3.4.1.cmml" xref="S3.SS2.p9.8.m8.3.4.1"></eq><apply id="S3.SS2.p9.8.m8.3.4.2.cmml" xref="S3.SS2.p9.8.m8.3.4.2"><csymbol cd="ambiguous" id="S3.SS2.p9.8.m8.3.4.2.1.cmml" xref="S3.SS2.p9.8.m8.3.4.2">subscript</csymbol><apply id="S3.SS2.p9.8.m8.3.4.2.2.cmml" xref="S3.SS2.p9.8.m8.3.4.2.2"><ci id="S3.SS2.p9.8.m8.3.4.2.2.1.cmml" xref="S3.SS2.p9.8.m8.3.4.2.2.1">^</ci><ci id="S3.SS2.p9.8.m8.3.4.2.2.2.cmml" xref="S3.SS2.p9.8.m8.3.4.2.2.2">𝐲</ci></apply><list id="S3.SS2.p9.8.m8.3.3.3.4.cmml" xref="S3.SS2.p9.8.m8.3.3.3.5"><ci id="S3.SS2.p9.8.m8.1.1.1.1.cmml" xref="S3.SS2.p9.8.m8.1.1.1.1">𝑥</ci><ci id="S3.SS2.p9.8.m8.2.2.2.2.cmml" xref="S3.SS2.p9.8.m8.2.2.2.2">𝑦</ci><ci id="S3.SS2.p9.8.m8.3.3.3.3.cmml" xref="S3.SS2.p9.8.m8.3.3.3.3">𝑐</ci></list></apply><cn type="integer" id="S3.SS2.p9.8.m8.3.4.3.cmml" xref="S3.SS2.p9.8.m8.3.4.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.8.m8.3c">\hat{\mathbf{y}}_{x,y,c}=0</annotation></semantics></math> means background. For loss propagation, ground truth heatmap <math id="S3.SS2.p9.9.m9.1" class="ltx_Math" alttext="\mathbf{y}" display="inline"><semantics id="S3.SS2.p9.9.m9.1a"><mi id="S3.SS2.p9.9.m9.1.1" xref="S3.SS2.p9.9.m9.1.1.cmml">𝐲</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.9.m9.1b"><ci id="S3.SS2.p9.9.m9.1.1.cmml" xref="S3.SS2.p9.9.m9.1.1">𝐲</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.9.m9.1c">\mathbf{y}</annotation></semantics></math> is generated by converting each ground truth keypoint <math id="S3.SS2.p9.10.m10.1" class="ltx_Math" alttext="p\in\mathcal{R}^{2}" display="inline"><semantics id="S3.SS2.p9.10.m10.1a"><mrow id="S3.SS2.p9.10.m10.1.1" xref="S3.SS2.p9.10.m10.1.1.cmml"><mi id="S3.SS2.p9.10.m10.1.1.2" xref="S3.SS2.p9.10.m10.1.1.2.cmml">p</mi><mo id="S3.SS2.p9.10.m10.1.1.1" xref="S3.SS2.p9.10.m10.1.1.1.cmml">∈</mo><msup id="S3.SS2.p9.10.m10.1.1.3" xref="S3.SS2.p9.10.m10.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p9.10.m10.1.1.3.2" xref="S3.SS2.p9.10.m10.1.1.3.2.cmml">ℛ</mi><mn id="S3.SS2.p9.10.m10.1.1.3.3" xref="S3.SS2.p9.10.m10.1.1.3.3.cmml">2</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.10.m10.1b"><apply id="S3.SS2.p9.10.m10.1.1.cmml" xref="S3.SS2.p9.10.m10.1.1"><in id="S3.SS2.p9.10.m10.1.1.1.cmml" xref="S3.SS2.p9.10.m10.1.1.1"></in><ci id="S3.SS2.p9.10.m10.1.1.2.cmml" xref="S3.SS2.p9.10.m10.1.1.2">𝑝</ci><apply id="S3.SS2.p9.10.m10.1.1.3.cmml" xref="S3.SS2.p9.10.m10.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p9.10.m10.1.1.3.1.cmml" xref="S3.SS2.p9.10.m10.1.1.3">superscript</csymbol><ci id="S3.SS2.p9.10.m10.1.1.3.2.cmml" xref="S3.SS2.p9.10.m10.1.1.3.2">ℛ</ci><cn type="integer" id="S3.SS2.p9.10.m10.1.1.3.3.cmml" xref="S3.SS2.p9.10.m10.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.10.m10.1c">p\in\mathcal{R}^{2}</annotation></semantics></math> to its low-resolution equivalent <math id="S3.SS2.p9.11.m11.1" class="ltx_Math" alttext="\tilde{p}=\left\lfloor\frac{p}{r}\right\rfloor" display="inline"><semantics id="S3.SS2.p9.11.m11.1a"><mrow id="S3.SS2.p9.11.m11.1.2" xref="S3.SS2.p9.11.m11.1.2.cmml"><mover accent="true" id="S3.SS2.p9.11.m11.1.2.2" xref="S3.SS2.p9.11.m11.1.2.2.cmml"><mi id="S3.SS2.p9.11.m11.1.2.2.2" xref="S3.SS2.p9.11.m11.1.2.2.2.cmml">p</mi><mo id="S3.SS2.p9.11.m11.1.2.2.1" xref="S3.SS2.p9.11.m11.1.2.2.1.cmml">~</mo></mover><mo id="S3.SS2.p9.11.m11.1.2.1" xref="S3.SS2.p9.11.m11.1.2.1.cmml">=</mo><mrow id="S3.SS2.p9.11.m11.1.2.3.2" xref="S3.SS2.p9.11.m11.1.2.3.1.cmml"><mo id="S3.SS2.p9.11.m11.1.2.3.2.1" xref="S3.SS2.p9.11.m11.1.2.3.1.1.cmml">⌊</mo><mfrac id="S3.SS2.p9.11.m11.1.1" xref="S3.SS2.p9.11.m11.1.1.cmml"><mi id="S3.SS2.p9.11.m11.1.1.2" xref="S3.SS2.p9.11.m11.1.1.2.cmml">p</mi><mi id="S3.SS2.p9.11.m11.1.1.3" xref="S3.SS2.p9.11.m11.1.1.3.cmml">r</mi></mfrac><mo id="S3.SS2.p9.11.m11.1.2.3.2.2" xref="S3.SS2.p9.11.m11.1.2.3.1.1.cmml">⌋</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.11.m11.1b"><apply id="S3.SS2.p9.11.m11.1.2.cmml" xref="S3.SS2.p9.11.m11.1.2"><eq id="S3.SS2.p9.11.m11.1.2.1.cmml" xref="S3.SS2.p9.11.m11.1.2.1"></eq><apply id="S3.SS2.p9.11.m11.1.2.2.cmml" xref="S3.SS2.p9.11.m11.1.2.2"><ci id="S3.SS2.p9.11.m11.1.2.2.1.cmml" xref="S3.SS2.p9.11.m11.1.2.2.1">~</ci><ci id="S3.SS2.p9.11.m11.1.2.2.2.cmml" xref="S3.SS2.p9.11.m11.1.2.2.2">𝑝</ci></apply><apply id="S3.SS2.p9.11.m11.1.2.3.1.cmml" xref="S3.SS2.p9.11.m11.1.2.3.2"><floor id="S3.SS2.p9.11.m11.1.2.3.1.1.cmml" xref="S3.SS2.p9.11.m11.1.2.3.2.1"></floor><apply id="S3.SS2.p9.11.m11.1.1.cmml" xref="S3.SS2.p9.11.m11.1.1"><divide id="S3.SS2.p9.11.m11.1.1.1.cmml" xref="S3.SS2.p9.11.m11.1.1"></divide><ci id="S3.SS2.p9.11.m11.1.1.2.cmml" xref="S3.SS2.p9.11.m11.1.1.2">𝑝</ci><ci id="S3.SS2.p9.11.m11.1.1.3.cmml" xref="S3.SS2.p9.11.m11.1.1.3">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.11.m11.1c">\tilde{p}=\left\lfloor\frac{p}{r}\right\rfloor</annotation></semantics></math> and splatting those points using a Gaussian Kernel. The training loss is defined as a variant of focal loss <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a href="#bib.bib34" title="" class="ltx_ref">2018</a>)</cite>,</p>
<table id="A4.EGx2" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E8.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{k}\!\!=\!\!\frac{-1}{N}\sum_{xyc}\left\{\begin{array}[]{cl}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\left(1-\hat{\mathbf{y}}_{xyc}\right)^{\alpha}\log\left(\hat{\mathbf{y}}_{xyc}\right)&amp;\!\!\!\!\!\text{ if }\mathbf{y}_{xyc}=1\\
\!\!\!\!\left(1-\mathbf{y}_{xyc}\right)^{\beta}\left(\hat{\mathbf{y}}_{xyc}\right)^{\alpha}\log\left(1-\hat{\mathbf{y}}_{xyc}\right)&amp;\!\text{ otherwise, }\end{array}\right." display="inline"><semantics id="S3.E8.m1.1a"><mrow id="S3.E8.m1.1.2" xref="S3.E8.m1.1.2.cmml"><msub id="S3.E8.m1.1.2.2" xref="S3.E8.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.1.2.2.2" xref="S3.E8.m1.1.2.2.2.cmml">ℒ</mi><mi id="S3.E8.m1.1.2.2.3" xref="S3.E8.m1.1.2.2.3.cmml">k</mi></msub><mpadded width="0.726em"><mo id="S3.E8.m1.1.2.1" xref="S3.E8.m1.1.2.1.cmml">=</mo></mpadded><mrow id="S3.E8.m1.1.2.3" xref="S3.E8.m1.1.2.3.cmml"><mstyle displaystyle="true" id="S3.E8.m1.1.2.3.2" xref="S3.E8.m1.1.2.3.2.cmml"><mfrac id="S3.E8.m1.1.2.3.2a" xref="S3.E8.m1.1.2.3.2.cmml"><mrow id="S3.E8.m1.1.2.3.2.2" xref="S3.E8.m1.1.2.3.2.2.cmml"><mo id="S3.E8.m1.1.2.3.2.2a" xref="S3.E8.m1.1.2.3.2.2.cmml">−</mo><mn id="S3.E8.m1.1.2.3.2.2.2" xref="S3.E8.m1.1.2.3.2.2.2.cmml">1</mn></mrow><mi id="S3.E8.m1.1.2.3.2.3" xref="S3.E8.m1.1.2.3.2.3.cmml">N</mi></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E8.m1.1.2.3.1" xref="S3.E8.m1.1.2.3.1.cmml">​</mo><mrow id="S3.E8.m1.1.2.3.3" xref="S3.E8.m1.1.2.3.3.cmml"><mstyle displaystyle="true" id="S3.E8.m1.1.2.3.3.1" xref="S3.E8.m1.1.2.3.3.1.cmml"><munder id="S3.E8.m1.1.2.3.3.1a" xref="S3.E8.m1.1.2.3.3.1.cmml"><mo movablelimits="false" id="S3.E8.m1.1.2.3.3.1.2" xref="S3.E8.m1.1.2.3.3.1.2.cmml">∑</mo><mrow id="S3.E8.m1.1.2.3.3.1.3" xref="S3.E8.m1.1.2.3.3.1.3.cmml"><mi id="S3.E8.m1.1.2.3.3.1.3.2" xref="S3.E8.m1.1.2.3.3.1.3.2.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.1.2.3.3.1.3.1" xref="S3.E8.m1.1.2.3.3.1.3.1.cmml">​</mo><mi id="S3.E8.m1.1.2.3.3.1.3.3" xref="S3.E8.m1.1.2.3.3.1.3.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.1.2.3.3.1.3.1a" xref="S3.E8.m1.1.2.3.3.1.3.1.cmml">​</mo><mi id="S3.E8.m1.1.2.3.3.1.3.4" xref="S3.E8.m1.1.2.3.3.1.3.4.cmml">c</mi></mrow></munder></mstyle><mrow id="S3.E8.m1.1.2.3.3.2.2" xref="S3.E8.m1.1.2.3.3.2.1.cmml"><mo id="S3.E8.m1.1.2.3.3.2.2.1" xref="S3.E8.m1.1.2.3.3.2.1.1.cmml">{</mo><mtable columnspacing="5pt" rowspacing="0pt" id="S3.E8.m1.1.1" xref="S3.E8.m1.1.1.cmml"><mtr id="S3.E8.m1.1.1a" xref="S3.E8.m1.1.1.cmml"><mtd id="S3.E8.m1.1.1b" xref="S3.E8.m1.1.1.cmml"><mrow id="S3.E7.3.3" xref="S3.E7.3.3.cmml"><msup id="S3.E7.2.2.2" xref="S3.E7.2.2.2.cmml"><mrow id="S3.E7.2.2.2.1.1" xref="S3.E7.2.2.2.1.1.1.cmml"><mo id="S3.E7.2.2.2.1.1.2" xref="S3.E7.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E7.2.2.2.1.1.1" xref="S3.E7.2.2.2.1.1.1.cmml"><mn id="S3.E7.2.2.2.1.1.1.2" xref="S3.E7.2.2.2.1.1.1.2.cmml">1</mn><mo id="S3.E7.2.2.2.1.1.1.1" xref="S3.E7.2.2.2.1.1.1.1.cmml">−</mo><msub id="S3.E7.2.2.2.1.1.1.3" xref="S3.E7.2.2.2.1.1.1.3.cmml"><mover accent="true" id="S3.E7.2.2.2.1.1.1.3.2" xref="S3.E7.2.2.2.1.1.1.3.2.cmml"><mi id="S3.E7.2.2.2.1.1.1.3.2.2" xref="S3.E7.2.2.2.1.1.1.3.2.2.cmml">𝐲</mi><mo id="S3.E7.2.2.2.1.1.1.3.2.1" xref="S3.E7.2.2.2.1.1.1.3.2.1.cmml">^</mo></mover><mrow id="S3.E7.2.2.2.1.1.1.3.3" xref="S3.E7.2.2.2.1.1.1.3.3.cmml"><mi id="S3.E7.2.2.2.1.1.1.3.3.2" xref="S3.E7.2.2.2.1.1.1.3.3.2.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.E7.2.2.2.1.1.1.3.3.1" xref="S3.E7.2.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E7.2.2.2.1.1.1.3.3.3" xref="S3.E7.2.2.2.1.1.1.3.3.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.E7.2.2.2.1.1.1.3.3.1a" xref="S3.E7.2.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E7.2.2.2.1.1.1.3.3.4" xref="S3.E7.2.2.2.1.1.1.3.3.4.cmml">c</mi></mrow></msub></mrow><mo id="S3.E7.2.2.2.1.1.3" xref="S3.E7.2.2.2.1.1.1.cmml">)</mo></mrow><mi id="S3.E7.2.2.2.3" xref="S3.E7.2.2.2.3.cmml">α</mi></msup><mo lspace="0.167em" rspace="0em" id="S3.E7.3.3.4" xref="S3.E7.3.3.4.cmml">​</mo><mrow id="S3.E7.3.3.3.1" xref="S3.E7.3.3.3.2.cmml"><mi id="S3.E7.1.1.1" xref="S3.E7.1.1.1.cmml">log</mi><mo id="S3.E7.3.3.3.1a" xref="S3.E7.3.3.3.2.cmml">⁡</mo><mrow id="S3.E7.3.3.3.1.1" xref="S3.E7.3.3.3.2.cmml"><mo id="S3.E7.3.3.3.1.1.2" xref="S3.E7.3.3.3.2.cmml">(</mo><msub id="S3.E7.3.3.3.1.1.1" xref="S3.E7.3.3.3.1.1.1.cmml"><mover accent="true" id="S3.E7.3.3.3.1.1.1.2" xref="S3.E7.3.3.3.1.1.1.2.cmml"><mi id="S3.E7.3.3.3.1.1.1.2.2" xref="S3.E7.3.3.3.1.1.1.2.2.cmml">𝐲</mi><mo id="S3.E7.3.3.3.1.1.1.2.1" xref="S3.E7.3.3.3.1.1.1.2.1.cmml">^</mo></mover><mrow id="S3.E7.3.3.3.1.1.1.3" xref="S3.E7.3.3.3.1.1.1.3.cmml"><mi id="S3.E7.3.3.3.1.1.1.3.2" xref="S3.E7.3.3.3.1.1.1.3.2.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.E7.3.3.3.1.1.1.3.1" xref="S3.E7.3.3.3.1.1.1.3.1.cmml">​</mo><mi id="S3.E7.3.3.3.1.1.1.3.3" xref="S3.E7.3.3.3.1.1.1.3.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.E7.3.3.3.1.1.1.3.1a" xref="S3.E7.3.3.3.1.1.1.3.1.cmml">​</mo><mi id="S3.E7.3.3.3.1.1.1.3.4" xref="S3.E7.3.3.3.1.1.1.3.4.cmml">c</mi></mrow></msub><mo id="S3.E7.3.3.3.1.1.3" xref="S3.E7.3.3.3.2.cmml">)</mo></mrow></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E8.m1.1.1c" xref="S3.E8.m1.1.1.cmml"><mrow id="S3.E7.4.1" xref="S3.E7.4.1.cmml"><mrow id="S3.E7.4.1.2" xref="S3.E7.4.1.2.cmml"><mtext id="S3.E7.4.1.2.2" xref="S3.E7.4.1.2.2a.cmml"> if </mtext><mo lspace="0em" rspace="0em" id="S3.E7.4.1.2.1" xref="S3.E7.4.1.2.1.cmml">​</mo><msub id="S3.E7.4.1.2.3" xref="S3.E7.4.1.2.3.cmml"><mi id="S3.E7.4.1.2.3.2" xref="S3.E7.4.1.2.3.2.cmml">𝐲</mi><mrow id="S3.E7.4.1.2.3.3" xref="S3.E7.4.1.2.3.3.cmml"><mi id="S3.E7.4.1.2.3.3.2" xref="S3.E7.4.1.2.3.3.2.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.E7.4.1.2.3.3.1" xref="S3.E7.4.1.2.3.3.1.cmml">​</mo><mi id="S3.E7.4.1.2.3.3.3" xref="S3.E7.4.1.2.3.3.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.E7.4.1.2.3.3.1a" xref="S3.E7.4.1.2.3.3.1.cmml">​</mo><mi id="S3.E7.4.1.2.3.3.4" xref="S3.E7.4.1.2.3.3.4.cmml">c</mi></mrow></msub></mrow><mo id="S3.E7.4.1.1" xref="S3.E7.4.1.1.cmml">=</mo><mn id="S3.E7.4.1.3" xref="S3.E7.4.1.3.cmml">1</mn></mrow></mtd></mtr><mtr id="S3.E8.m1.1.1d" xref="S3.E8.m1.1.1.cmml"><mtd id="S3.E8.m1.1.1e" xref="S3.E8.m1.1.1.cmml"><mrow id="S3.E8a.4.4" xref="S3.E8a.4.4.cmml"><msup id="S3.E8a.2.2.2" xref="S3.E8a.2.2.2.cmml"><mrow id="S3.E8a.2.2.2.1.1" xref="S3.E8a.2.2.2.1.1.1.cmml"><mo id="S3.E8a.2.2.2.1.1.2" xref="S3.E8a.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E8a.2.2.2.1.1.1" xref="S3.E8a.2.2.2.1.1.1.cmml"><mn id="S3.E8a.2.2.2.1.1.1.2" xref="S3.E8a.2.2.2.1.1.1.2.cmml">1</mn><mo id="S3.E8a.2.2.2.1.1.1.1" xref="S3.E8a.2.2.2.1.1.1.1.cmml">−</mo><msub id="S3.E8a.2.2.2.1.1.1.3" xref="S3.E8a.2.2.2.1.1.1.3.cmml"><mi id="S3.E8a.2.2.2.1.1.1.3.2" xref="S3.E8a.2.2.2.1.1.1.3.2.cmml">𝐲</mi><mrow id="S3.E8a.2.2.2.1.1.1.3.3" xref="S3.E8a.2.2.2.1.1.1.3.3.cmml"><mi id="S3.E8a.2.2.2.1.1.1.3.3.2" xref="S3.E8a.2.2.2.1.1.1.3.3.2.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.E8a.2.2.2.1.1.1.3.3.1" xref="S3.E8a.2.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E8a.2.2.2.1.1.1.3.3.3" xref="S3.E8a.2.2.2.1.1.1.3.3.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.E8a.2.2.2.1.1.1.3.3.1a" xref="S3.E8a.2.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E8a.2.2.2.1.1.1.3.3.4" xref="S3.E8a.2.2.2.1.1.1.3.3.4.cmml">c</mi></mrow></msub></mrow><mo id="S3.E8a.2.2.2.1.1.3" xref="S3.E8a.2.2.2.1.1.1.cmml">)</mo></mrow><mi id="S3.E8a.2.2.2.3" xref="S3.E8a.2.2.2.3.cmml">β</mi></msup><mo lspace="0em" rspace="0em" id="S3.E8a.4.4.5" xref="S3.E8a.4.4.5.cmml">​</mo><msup id="S3.E8a.3.3.3" xref="S3.E8a.3.3.3.cmml"><mrow id="S3.E8a.3.3.3.1.1" xref="S3.E8a.3.3.3.1.1.1.cmml"><mo id="S3.E8a.3.3.3.1.1.2" xref="S3.E8a.3.3.3.1.1.1.cmml">(</mo><msub id="S3.E8a.3.3.3.1.1.1" xref="S3.E8a.3.3.3.1.1.1.cmml"><mover accent="true" id="S3.E8a.3.3.3.1.1.1.2" xref="S3.E8a.3.3.3.1.1.1.2.cmml"><mi id="S3.E8a.3.3.3.1.1.1.2.2" xref="S3.E8a.3.3.3.1.1.1.2.2.cmml">𝐲</mi><mo id="S3.E8a.3.3.3.1.1.1.2.1" xref="S3.E8a.3.3.3.1.1.1.2.1.cmml">^</mo></mover><mrow id="S3.E8a.3.3.3.1.1.1.3" xref="S3.E8a.3.3.3.1.1.1.3.cmml"><mi id="S3.E8a.3.3.3.1.1.1.3.2" xref="S3.E8a.3.3.3.1.1.1.3.2.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.E8a.3.3.3.1.1.1.3.1" xref="S3.E8a.3.3.3.1.1.1.3.1.cmml">​</mo><mi id="S3.E8a.3.3.3.1.1.1.3.3" xref="S3.E8a.3.3.3.1.1.1.3.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.E8a.3.3.3.1.1.1.3.1a" xref="S3.E8a.3.3.3.1.1.1.3.1.cmml">​</mo><mi id="S3.E8a.3.3.3.1.1.1.3.4" xref="S3.E8a.3.3.3.1.1.1.3.4.cmml">c</mi></mrow></msub><mo id="S3.E8a.3.3.3.1.1.3" xref="S3.E8a.3.3.3.1.1.1.cmml">)</mo></mrow><mi id="S3.E8a.3.3.3.3" xref="S3.E8a.3.3.3.3.cmml">α</mi></msup><mo lspace="0.167em" rspace="0em" id="S3.E8a.4.4.5a" xref="S3.E8a.4.4.5.cmml">​</mo><mrow id="S3.E8a.4.4.4.1" xref="S3.E8a.4.4.4.2.cmml"><mi id="S3.E8a.1.1.1" xref="S3.E8a.1.1.1.cmml">log</mi><mo id="S3.E8a.4.4.4.1a" xref="S3.E8a.4.4.4.2.cmml">⁡</mo><mrow id="S3.E8a.4.4.4.1.1" xref="S3.E8a.4.4.4.2.cmml"><mo id="S3.E8a.4.4.4.1.1.2" xref="S3.E8a.4.4.4.2.cmml">(</mo><mrow id="S3.E8a.4.4.4.1.1.1" xref="S3.E8a.4.4.4.1.1.1.cmml"><mn id="S3.E8a.4.4.4.1.1.1.2" xref="S3.E8a.4.4.4.1.1.1.2.cmml">1</mn><mo id="S3.E8a.4.4.4.1.1.1.1" xref="S3.E8a.4.4.4.1.1.1.1.cmml">−</mo><msub id="S3.E8a.4.4.4.1.1.1.3" xref="S3.E8a.4.4.4.1.1.1.3.cmml"><mover accent="true" id="S3.E8a.4.4.4.1.1.1.3.2" xref="S3.E8a.4.4.4.1.1.1.3.2.cmml"><mi id="S3.E8a.4.4.4.1.1.1.3.2.2" xref="S3.E8a.4.4.4.1.1.1.3.2.2.cmml">𝐲</mi><mo id="S3.E8a.4.4.4.1.1.1.3.2.1" xref="S3.E8a.4.4.4.1.1.1.3.2.1.cmml">^</mo></mover><mrow id="S3.E8a.4.4.4.1.1.1.3.3" xref="S3.E8a.4.4.4.1.1.1.3.3.cmml"><mi id="S3.E8a.4.4.4.1.1.1.3.3.2" xref="S3.E8a.4.4.4.1.1.1.3.3.2.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.E8a.4.4.4.1.1.1.3.3.1" xref="S3.E8a.4.4.4.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E8a.4.4.4.1.1.1.3.3.3" xref="S3.E8a.4.4.4.1.1.1.3.3.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.E8a.4.4.4.1.1.1.3.3.1a" xref="S3.E8a.4.4.4.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E8a.4.4.4.1.1.1.3.3.4" xref="S3.E8a.4.4.4.1.1.1.3.3.4.cmml">c</mi></mrow></msub></mrow><mo id="S3.E8a.4.4.4.1.1.3" xref="S3.E8a.4.4.4.2.cmml">)</mo></mrow></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E8.m1.1.1f" xref="S3.E8.m1.1.1.cmml"><mtext id="S3.E8a.5.1" xref="S3.E8a.5.1a.cmml"> otherwise, </mtext></mtd></mtr></mtable><mi id="S3.E8.m1.1.2.3.3.2.2.2" xref="S3.E8.m1.1.2.3.3.2.1.1.cmml"></mi></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.1b"><apply id="S3.E8.m1.1.2.cmml" xref="S3.E8.m1.1.2"><eq id="S3.E8.m1.1.2.1.cmml" xref="S3.E8.m1.1.2.1"></eq><apply id="S3.E8.m1.1.2.2.cmml" xref="S3.E8.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.2.2.1.cmml" xref="S3.E8.m1.1.2.2">subscript</csymbol><ci id="S3.E8.m1.1.2.2.2.cmml" xref="S3.E8.m1.1.2.2.2">ℒ</ci><ci id="S3.E8.m1.1.2.2.3.cmml" xref="S3.E8.m1.1.2.2.3">𝑘</ci></apply><apply id="S3.E8.m1.1.2.3.cmml" xref="S3.E8.m1.1.2.3"><times id="S3.E8.m1.1.2.3.1.cmml" xref="S3.E8.m1.1.2.3.1"></times><apply id="S3.E8.m1.1.2.3.2.cmml" xref="S3.E8.m1.1.2.3.2"><divide id="S3.E8.m1.1.2.3.2.1.cmml" xref="S3.E8.m1.1.2.3.2"></divide><apply id="S3.E8.m1.1.2.3.2.2.cmml" xref="S3.E8.m1.1.2.3.2.2"><minus id="S3.E8.m1.1.2.3.2.2.1.cmml" xref="S3.E8.m1.1.2.3.2.2"></minus><cn type="integer" id="S3.E8.m1.1.2.3.2.2.2.cmml" xref="S3.E8.m1.1.2.3.2.2.2">1</cn></apply><ci id="S3.E8.m1.1.2.3.2.3.cmml" xref="S3.E8.m1.1.2.3.2.3">𝑁</ci></apply><apply id="S3.E8.m1.1.2.3.3.cmml" xref="S3.E8.m1.1.2.3.3"><apply id="S3.E8.m1.1.2.3.3.1.cmml" xref="S3.E8.m1.1.2.3.3.1"><csymbol cd="ambiguous" id="S3.E8.m1.1.2.3.3.1.1.cmml" xref="S3.E8.m1.1.2.3.3.1">subscript</csymbol><sum id="S3.E8.m1.1.2.3.3.1.2.cmml" xref="S3.E8.m1.1.2.3.3.1.2"></sum><apply id="S3.E8.m1.1.2.3.3.1.3.cmml" xref="S3.E8.m1.1.2.3.3.1.3"><times id="S3.E8.m1.1.2.3.3.1.3.1.cmml" xref="S3.E8.m1.1.2.3.3.1.3.1"></times><ci id="S3.E8.m1.1.2.3.3.1.3.2.cmml" xref="S3.E8.m1.1.2.3.3.1.3.2">𝑥</ci><ci id="S3.E8.m1.1.2.3.3.1.3.3.cmml" xref="S3.E8.m1.1.2.3.3.1.3.3">𝑦</ci><ci id="S3.E8.m1.1.2.3.3.1.3.4.cmml" xref="S3.E8.m1.1.2.3.3.1.3.4">𝑐</ci></apply></apply><apply id="S3.E8.m1.1.2.3.3.2.1.cmml" xref="S3.E8.m1.1.2.3.3.2.2"><csymbol cd="latexml" id="S3.E8.m1.1.2.3.3.2.1.1.cmml" xref="S3.E8.m1.1.2.3.3.2.2.1">cases</csymbol><matrix id="S3.E8.m1.1.1.cmml" xref="S3.E8.m1.1.1"><matrixrow id="S3.E8.m1.1.1a.cmml" xref="S3.E8.m1.1.1"><apply id="S3.E7.3.3.cmml" xref="S3.E7.3.3"><times id="S3.E7.3.3.4.cmml" xref="S3.E7.3.3.4"></times><apply id="S3.E7.2.2.2.cmml" xref="S3.E7.2.2.2"><csymbol cd="ambiguous" id="S3.E7.2.2.2.2.cmml" xref="S3.E7.2.2.2">superscript</csymbol><apply id="S3.E7.2.2.2.1.1.1.cmml" xref="S3.E7.2.2.2.1.1"><minus id="S3.E7.2.2.2.1.1.1.1.cmml" xref="S3.E7.2.2.2.1.1.1.1"></minus><cn type="integer" id="S3.E7.2.2.2.1.1.1.2.cmml" xref="S3.E7.2.2.2.1.1.1.2">1</cn><apply id="S3.E7.2.2.2.1.1.1.3.cmml" xref="S3.E7.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.2.2.2.1.1.1.3.1.cmml" xref="S3.E7.2.2.2.1.1.1.3">subscript</csymbol><apply id="S3.E7.2.2.2.1.1.1.3.2.cmml" xref="S3.E7.2.2.2.1.1.1.3.2"><ci id="S3.E7.2.2.2.1.1.1.3.2.1.cmml" xref="S3.E7.2.2.2.1.1.1.3.2.1">^</ci><ci id="S3.E7.2.2.2.1.1.1.3.2.2.cmml" xref="S3.E7.2.2.2.1.1.1.3.2.2">𝐲</ci></apply><apply id="S3.E7.2.2.2.1.1.1.3.3.cmml" xref="S3.E7.2.2.2.1.1.1.3.3"><times id="S3.E7.2.2.2.1.1.1.3.3.1.cmml" xref="S3.E7.2.2.2.1.1.1.3.3.1"></times><ci id="S3.E7.2.2.2.1.1.1.3.3.2.cmml" xref="S3.E7.2.2.2.1.1.1.3.3.2">𝑥</ci><ci id="S3.E7.2.2.2.1.1.1.3.3.3.cmml" xref="S3.E7.2.2.2.1.1.1.3.3.3">𝑦</ci><ci id="S3.E7.2.2.2.1.1.1.3.3.4.cmml" xref="S3.E7.2.2.2.1.1.1.3.3.4">𝑐</ci></apply></apply></apply><ci id="S3.E7.2.2.2.3.cmml" xref="S3.E7.2.2.2.3">𝛼</ci></apply><apply id="S3.E7.3.3.3.2.cmml" xref="S3.E7.3.3.3.1"><log id="S3.E7.1.1.1.cmml" xref="S3.E7.1.1.1"></log><apply id="S3.E7.3.3.3.1.1.1.cmml" xref="S3.E7.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E7.3.3.3.1.1.1.1.cmml" xref="S3.E7.3.3.3.1.1.1">subscript</csymbol><apply id="S3.E7.3.3.3.1.1.1.2.cmml" xref="S3.E7.3.3.3.1.1.1.2"><ci id="S3.E7.3.3.3.1.1.1.2.1.cmml" xref="S3.E7.3.3.3.1.1.1.2.1">^</ci><ci id="S3.E7.3.3.3.1.1.1.2.2.cmml" xref="S3.E7.3.3.3.1.1.1.2.2">𝐲</ci></apply><apply id="S3.E7.3.3.3.1.1.1.3.cmml" xref="S3.E7.3.3.3.1.1.1.3"><times id="S3.E7.3.3.3.1.1.1.3.1.cmml" xref="S3.E7.3.3.3.1.1.1.3.1"></times><ci id="S3.E7.3.3.3.1.1.1.3.2.cmml" xref="S3.E7.3.3.3.1.1.1.3.2">𝑥</ci><ci id="S3.E7.3.3.3.1.1.1.3.3.cmml" xref="S3.E7.3.3.3.1.1.1.3.3">𝑦</ci><ci id="S3.E7.3.3.3.1.1.1.3.4.cmml" xref="S3.E7.3.3.3.1.1.1.3.4">𝑐</ci></apply></apply></apply></apply><apply id="S3.E7.4.1.cmml" xref="S3.E7.4.1"><eq id="S3.E7.4.1.1.cmml" xref="S3.E7.4.1.1"></eq><apply id="S3.E7.4.1.2.cmml" xref="S3.E7.4.1.2"><times id="S3.E7.4.1.2.1.cmml" xref="S3.E7.4.1.2.1"></times><ci id="S3.E7.4.1.2.2a.cmml" xref="S3.E7.4.1.2.2"><mtext id="S3.E7.4.1.2.2.cmml" xref="S3.E7.4.1.2.2"> if </mtext></ci><apply id="S3.E7.4.1.2.3.cmml" xref="S3.E7.4.1.2.3"><csymbol cd="ambiguous" id="S3.E7.4.1.2.3.1.cmml" xref="S3.E7.4.1.2.3">subscript</csymbol><ci id="S3.E7.4.1.2.3.2.cmml" xref="S3.E7.4.1.2.3.2">𝐲</ci><apply id="S3.E7.4.1.2.3.3.cmml" xref="S3.E7.4.1.2.3.3"><times id="S3.E7.4.1.2.3.3.1.cmml" xref="S3.E7.4.1.2.3.3.1"></times><ci id="S3.E7.4.1.2.3.3.2.cmml" xref="S3.E7.4.1.2.3.3.2">𝑥</ci><ci id="S3.E7.4.1.2.3.3.3.cmml" xref="S3.E7.4.1.2.3.3.3">𝑦</ci><ci id="S3.E7.4.1.2.3.3.4.cmml" xref="S3.E7.4.1.2.3.3.4">𝑐</ci></apply></apply></apply><cn type="integer" id="S3.E7.4.1.3.cmml" xref="S3.E7.4.1.3">1</cn></apply></matrixrow><matrixrow id="S3.E8.m1.1.1b.cmml" xref="S3.E8.m1.1.1"><apply id="S3.E8a.4.4.cmml" xref="S3.E8a.4.4"><times id="S3.E8a.4.4.5.cmml" xref="S3.E8a.4.4.5"></times><apply id="S3.E8a.2.2.2.cmml" xref="S3.E8a.2.2.2"><csymbol cd="ambiguous" id="S3.E8a.2.2.2.2.cmml" xref="S3.E8a.2.2.2">superscript</csymbol><apply id="S3.E8a.2.2.2.1.1.1.cmml" xref="S3.E8a.2.2.2.1.1"><minus id="S3.E8a.2.2.2.1.1.1.1.cmml" xref="S3.E8a.2.2.2.1.1.1.1"></minus><cn type="integer" id="S3.E8a.2.2.2.1.1.1.2.cmml" xref="S3.E8a.2.2.2.1.1.1.2">1</cn><apply id="S3.E8a.2.2.2.1.1.1.3.cmml" xref="S3.E8a.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8a.2.2.2.1.1.1.3.1.cmml" xref="S3.E8a.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E8a.2.2.2.1.1.1.3.2.cmml" xref="S3.E8a.2.2.2.1.1.1.3.2">𝐲</ci><apply id="S3.E8a.2.2.2.1.1.1.3.3.cmml" xref="S3.E8a.2.2.2.1.1.1.3.3"><times id="S3.E8a.2.2.2.1.1.1.3.3.1.cmml" xref="S3.E8a.2.2.2.1.1.1.3.3.1"></times><ci id="S3.E8a.2.2.2.1.1.1.3.3.2.cmml" xref="S3.E8a.2.2.2.1.1.1.3.3.2">𝑥</ci><ci id="S3.E8a.2.2.2.1.1.1.3.3.3.cmml" xref="S3.E8a.2.2.2.1.1.1.3.3.3">𝑦</ci><ci id="S3.E8a.2.2.2.1.1.1.3.3.4.cmml" xref="S3.E8a.2.2.2.1.1.1.3.3.4">𝑐</ci></apply></apply></apply><ci id="S3.E8a.2.2.2.3.cmml" xref="S3.E8a.2.2.2.3">𝛽</ci></apply><apply id="S3.E8a.3.3.3.cmml" xref="S3.E8a.3.3.3"><csymbol cd="ambiguous" id="S3.E8a.3.3.3.2.cmml" xref="S3.E8a.3.3.3">superscript</csymbol><apply id="S3.E8a.3.3.3.1.1.1.cmml" xref="S3.E8a.3.3.3.1.1"><csymbol cd="ambiguous" id="S3.E8a.3.3.3.1.1.1.1.cmml" xref="S3.E8a.3.3.3.1.1">subscript</csymbol><apply id="S3.E8a.3.3.3.1.1.1.2.cmml" xref="S3.E8a.3.3.3.1.1.1.2"><ci id="S3.E8a.3.3.3.1.1.1.2.1.cmml" xref="S3.E8a.3.3.3.1.1.1.2.1">^</ci><ci id="S3.E8a.3.3.3.1.1.1.2.2.cmml" xref="S3.E8a.3.3.3.1.1.1.2.2">𝐲</ci></apply><apply id="S3.E8a.3.3.3.1.1.1.3.cmml" xref="S3.E8a.3.3.3.1.1.1.3"><times id="S3.E8a.3.3.3.1.1.1.3.1.cmml" xref="S3.E8a.3.3.3.1.1.1.3.1"></times><ci id="S3.E8a.3.3.3.1.1.1.3.2.cmml" xref="S3.E8a.3.3.3.1.1.1.3.2">𝑥</ci><ci id="S3.E8a.3.3.3.1.1.1.3.3.cmml" xref="S3.E8a.3.3.3.1.1.1.3.3">𝑦</ci><ci id="S3.E8a.3.3.3.1.1.1.3.4.cmml" xref="S3.E8a.3.3.3.1.1.1.3.4">𝑐</ci></apply></apply><ci id="S3.E8a.3.3.3.3.cmml" xref="S3.E8a.3.3.3.3">𝛼</ci></apply><apply id="S3.E8a.4.4.4.2.cmml" xref="S3.E8a.4.4.4.1"><log id="S3.E8a.1.1.1.cmml" xref="S3.E8a.1.1.1"></log><apply id="S3.E8a.4.4.4.1.1.1.cmml" xref="S3.E8a.4.4.4.1.1.1"><minus id="S3.E8a.4.4.4.1.1.1.1.cmml" xref="S3.E8a.4.4.4.1.1.1.1"></minus><cn type="integer" id="S3.E8a.4.4.4.1.1.1.2.cmml" xref="S3.E8a.4.4.4.1.1.1.2">1</cn><apply id="S3.E8a.4.4.4.1.1.1.3.cmml" xref="S3.E8a.4.4.4.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8a.4.4.4.1.1.1.3.1.cmml" xref="S3.E8a.4.4.4.1.1.1.3">subscript</csymbol><apply id="S3.E8a.4.4.4.1.1.1.3.2.cmml" xref="S3.E8a.4.4.4.1.1.1.3.2"><ci id="S3.E8a.4.4.4.1.1.1.3.2.1.cmml" xref="S3.E8a.4.4.4.1.1.1.3.2.1">^</ci><ci id="S3.E8a.4.4.4.1.1.1.3.2.2.cmml" xref="S3.E8a.4.4.4.1.1.1.3.2.2">𝐲</ci></apply><apply id="S3.E8a.4.4.4.1.1.1.3.3.cmml" xref="S3.E8a.4.4.4.1.1.1.3.3"><times id="S3.E8a.4.4.4.1.1.1.3.3.1.cmml" xref="S3.E8a.4.4.4.1.1.1.3.3.1"></times><ci id="S3.E8a.4.4.4.1.1.1.3.3.2.cmml" xref="S3.E8a.4.4.4.1.1.1.3.3.2">𝑥</ci><ci id="S3.E8a.4.4.4.1.1.1.3.3.3.cmml" xref="S3.E8a.4.4.4.1.1.1.3.3.3">𝑦</ci><ci id="S3.E8a.4.4.4.1.1.1.3.3.4.cmml" xref="S3.E8a.4.4.4.1.1.1.3.3.4">𝑐</ci></apply></apply></apply></apply></apply><ci id="S3.E8a.5.1a.cmml" xref="S3.E8a.5.1"><mtext id="S3.E8a.5.1.cmml" xref="S3.E8a.5.1"> otherwise, </mtext></ci></matrixrow></matrix></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.1c">\displaystyle\mathcal{L}_{k}\!\!=\!\!\frac{-1}{N}\sum_{xyc}\left\{\begin{array}[]{cl}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\left(1-\hat{\mathbf{y}}_{xyc}\right)^{\alpha}\log\left(\hat{\mathbf{y}}_{xyc}\right)&amp;\!\!\!\!\!\text{ if }\mathbf{y}_{xyc}=1\\
\!\!\!\!\left(1-\mathbf{y}_{xyc}\right)^{\beta}\left(\hat{\mathbf{y}}_{xyc}\right)^{\alpha}\log\left(1-\hat{\mathbf{y}}_{xyc}\right)&amp;\!\text{ otherwise, }\end{array}\right.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p9.15" class="ltx_p">where <math id="S3.SS2.p9.12.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS2.p9.12.m1.1a"><mi id="S3.SS2.p9.12.m1.1.1" xref="S3.SS2.p9.12.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.12.m1.1b"><ci id="S3.SS2.p9.12.m1.1.1.cmml" xref="S3.SS2.p9.12.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.12.m1.1c">\alpha</annotation></semantics></math> and <math id="S3.SS2.p9.13.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S3.SS2.p9.13.m2.1a"><mi id="S3.SS2.p9.13.m2.1.1" xref="S3.SS2.p9.13.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.13.m2.1b"><ci id="S3.SS2.p9.13.m2.1.1.cmml" xref="S3.SS2.p9.13.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.13.m2.1c">\beta</annotation></semantics></math> are hyper-parameters of the focal loss, while <math id="S3.SS2.p9.14.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS2.p9.14.m3.1a"><mi id="S3.SS2.p9.14.m3.1.1" xref="S3.SS2.p9.14.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.14.m3.1b"><ci id="S3.SS2.p9.14.m3.1.1.cmml" xref="S3.SS2.p9.14.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.14.m3.1c">N</annotation></semantics></math> is the number of keypoints in image <math id="S3.SS2.p9.15.m4.1" class="ltx_Math" alttext="\bar{\mathbf{x}}_{t}" display="inline"><semantics id="S3.SS2.p9.15.m4.1a"><msub id="S3.SS2.p9.15.m4.1.1" xref="S3.SS2.p9.15.m4.1.1.cmml"><mover accent="true" id="S3.SS2.p9.15.m4.1.1.2" xref="S3.SS2.p9.15.m4.1.1.2.cmml"><mi id="S3.SS2.p9.15.m4.1.1.2.2" xref="S3.SS2.p9.15.m4.1.1.2.2.cmml">𝐱</mi><mo id="S3.SS2.p9.15.m4.1.1.2.1" xref="S3.SS2.p9.15.m4.1.1.2.1.cmml">¯</mo></mover><mi id="S3.SS2.p9.15.m4.1.1.3" xref="S3.SS2.p9.15.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.15.m4.1b"><apply id="S3.SS2.p9.15.m4.1.1.cmml" xref="S3.SS2.p9.15.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.15.m4.1.1.1.cmml" xref="S3.SS2.p9.15.m4.1.1">subscript</csymbol><apply id="S3.SS2.p9.15.m4.1.1.2.cmml" xref="S3.SS2.p9.15.m4.1.1.2"><ci id="S3.SS2.p9.15.m4.1.1.2.1.cmml" xref="S3.SS2.p9.15.m4.1.1.2.1">¯</ci><ci id="S3.SS2.p9.15.m4.1.1.2.2.cmml" xref="S3.SS2.p9.15.m4.1.1.2.2">𝐱</ci></apply><ci id="S3.SS2.p9.15.m4.1.1.3.cmml" xref="S3.SS2.p9.15.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.15.m4.1c">\bar{\mathbf{x}}_{t}</annotation></semantics></math> for normalization.</p>
</div>
<div id="S3.SS2.p10" class="ltx_para ltx_noindent">
<p id="S3.SS2.p10.8" class="ltx_p">A local offset <math id="S3.SS2.p10.1.m1.1" class="ltx_Math" alttext="\hat{\mathbf{o}}\in\mathcal{R}^{\frac{W}{r}\times\frac{H}{r}\times 2}" display="inline"><semantics id="S3.SS2.p10.1.m1.1a"><mrow id="S3.SS2.p10.1.m1.1.1" xref="S3.SS2.p10.1.m1.1.1.cmml"><mover accent="true" id="S3.SS2.p10.1.m1.1.1.2" xref="S3.SS2.p10.1.m1.1.1.2.cmml"><mi id="S3.SS2.p10.1.m1.1.1.2.2" xref="S3.SS2.p10.1.m1.1.1.2.2.cmml">𝐨</mi><mo id="S3.SS2.p10.1.m1.1.1.2.1" xref="S3.SS2.p10.1.m1.1.1.2.1.cmml">^</mo></mover><mo id="S3.SS2.p10.1.m1.1.1.1" xref="S3.SS2.p10.1.m1.1.1.1.cmml">∈</mo><msup id="S3.SS2.p10.1.m1.1.1.3" xref="S3.SS2.p10.1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p10.1.m1.1.1.3.2" xref="S3.SS2.p10.1.m1.1.1.3.2.cmml">ℛ</mi><mrow id="S3.SS2.p10.1.m1.1.1.3.3" xref="S3.SS2.p10.1.m1.1.1.3.3.cmml"><mfrac id="S3.SS2.p10.1.m1.1.1.3.3.2" xref="S3.SS2.p10.1.m1.1.1.3.3.2.cmml"><mi id="S3.SS2.p10.1.m1.1.1.3.3.2.2" xref="S3.SS2.p10.1.m1.1.1.3.3.2.2.cmml">W</mi><mi id="S3.SS2.p10.1.m1.1.1.3.3.2.3" xref="S3.SS2.p10.1.m1.1.1.3.3.2.3.cmml">r</mi></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p10.1.m1.1.1.3.3.1" xref="S3.SS2.p10.1.m1.1.1.3.3.1.cmml">×</mo><mfrac id="S3.SS2.p10.1.m1.1.1.3.3.3" xref="S3.SS2.p10.1.m1.1.1.3.3.3.cmml"><mi id="S3.SS2.p10.1.m1.1.1.3.3.3.2" xref="S3.SS2.p10.1.m1.1.1.3.3.3.2.cmml">H</mi><mi id="S3.SS2.p10.1.m1.1.1.3.3.3.3" xref="S3.SS2.p10.1.m1.1.1.3.3.3.3.cmml">r</mi></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p10.1.m1.1.1.3.3.1a" xref="S3.SS2.p10.1.m1.1.1.3.3.1.cmml">×</mo><mn id="S3.SS2.p10.1.m1.1.1.3.3.4" xref="S3.SS2.p10.1.m1.1.1.3.3.4.cmml">2</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.1.m1.1b"><apply id="S3.SS2.p10.1.m1.1.1.cmml" xref="S3.SS2.p10.1.m1.1.1"><in id="S3.SS2.p10.1.m1.1.1.1.cmml" xref="S3.SS2.p10.1.m1.1.1.1"></in><apply id="S3.SS2.p10.1.m1.1.1.2.cmml" xref="S3.SS2.p10.1.m1.1.1.2"><ci id="S3.SS2.p10.1.m1.1.1.2.1.cmml" xref="S3.SS2.p10.1.m1.1.1.2.1">^</ci><ci id="S3.SS2.p10.1.m1.1.1.2.2.cmml" xref="S3.SS2.p10.1.m1.1.1.2.2">𝐨</ci></apply><apply id="S3.SS2.p10.1.m1.1.1.3.cmml" xref="S3.SS2.p10.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p10.1.m1.1.1.3.1.cmml" xref="S3.SS2.p10.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS2.p10.1.m1.1.1.3.2.cmml" xref="S3.SS2.p10.1.m1.1.1.3.2">ℛ</ci><apply id="S3.SS2.p10.1.m1.1.1.3.3.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3"><times id="S3.SS2.p10.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3.1"></times><apply id="S3.SS2.p10.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3.2"><divide id="S3.SS2.p10.1.m1.1.1.3.3.2.1.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3.2"></divide><ci id="S3.SS2.p10.1.m1.1.1.3.3.2.2.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3.2.2">𝑊</ci><ci id="S3.SS2.p10.1.m1.1.1.3.3.2.3.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3.2.3">𝑟</ci></apply><apply id="S3.SS2.p10.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3.3"><divide id="S3.SS2.p10.1.m1.1.1.3.3.3.1.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3.3"></divide><ci id="S3.SS2.p10.1.m1.1.1.3.3.3.2.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3.3.2">𝐻</ci><ci id="S3.SS2.p10.1.m1.1.1.3.3.3.3.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3.3.3">𝑟</ci></apply><cn type="integer" id="S3.SS2.p10.1.m1.1.1.3.3.4.cmml" xref="S3.SS2.p10.1.m1.1.1.3.3.4">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.1.m1.1c">\hat{\mathbf{o}}\in\mathcal{R}^{\frac{W}{r}\times\frac{H}{r}\times 2}</annotation></semantics></math> is predicted and shared among all classes to recover the precise center point locations in compensation for the error caused by downsampling. The sizes of bounding boxes <math id="S3.SS2.p10.2.m2.1" class="ltx_Math" alttext="\hat{\mathbf{s}}\in\mathcal{R}^{\frac{W}{r}\times\frac{H}{r}\times 2}" display="inline"><semantics id="S3.SS2.p10.2.m2.1a"><mrow id="S3.SS2.p10.2.m2.1.1" xref="S3.SS2.p10.2.m2.1.1.cmml"><mover accent="true" id="S3.SS2.p10.2.m2.1.1.2" xref="S3.SS2.p10.2.m2.1.1.2.cmml"><mi id="S3.SS2.p10.2.m2.1.1.2.2" xref="S3.SS2.p10.2.m2.1.1.2.2.cmml">𝐬</mi><mo id="S3.SS2.p10.2.m2.1.1.2.1" xref="S3.SS2.p10.2.m2.1.1.2.1.cmml">^</mo></mover><mo id="S3.SS2.p10.2.m2.1.1.1" xref="S3.SS2.p10.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS2.p10.2.m2.1.1.3" xref="S3.SS2.p10.2.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p10.2.m2.1.1.3.2" xref="S3.SS2.p10.2.m2.1.1.3.2.cmml">ℛ</mi><mrow id="S3.SS2.p10.2.m2.1.1.3.3" xref="S3.SS2.p10.2.m2.1.1.3.3.cmml"><mfrac id="S3.SS2.p10.2.m2.1.1.3.3.2" xref="S3.SS2.p10.2.m2.1.1.3.3.2.cmml"><mi id="S3.SS2.p10.2.m2.1.1.3.3.2.2" xref="S3.SS2.p10.2.m2.1.1.3.3.2.2.cmml">W</mi><mi id="S3.SS2.p10.2.m2.1.1.3.3.2.3" xref="S3.SS2.p10.2.m2.1.1.3.3.2.3.cmml">r</mi></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p10.2.m2.1.1.3.3.1" xref="S3.SS2.p10.2.m2.1.1.3.3.1.cmml">×</mo><mfrac id="S3.SS2.p10.2.m2.1.1.3.3.3" xref="S3.SS2.p10.2.m2.1.1.3.3.3.cmml"><mi id="S3.SS2.p10.2.m2.1.1.3.3.3.2" xref="S3.SS2.p10.2.m2.1.1.3.3.3.2.cmml">H</mi><mi id="S3.SS2.p10.2.m2.1.1.3.3.3.3" xref="S3.SS2.p10.2.m2.1.1.3.3.3.3.cmml">r</mi></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p10.2.m2.1.1.3.3.1a" xref="S3.SS2.p10.2.m2.1.1.3.3.1.cmml">×</mo><mn id="S3.SS2.p10.2.m2.1.1.3.3.4" xref="S3.SS2.p10.2.m2.1.1.3.3.4.cmml">2</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.2.m2.1b"><apply id="S3.SS2.p10.2.m2.1.1.cmml" xref="S3.SS2.p10.2.m2.1.1"><in id="S3.SS2.p10.2.m2.1.1.1.cmml" xref="S3.SS2.p10.2.m2.1.1.1"></in><apply id="S3.SS2.p10.2.m2.1.1.2.cmml" xref="S3.SS2.p10.2.m2.1.1.2"><ci id="S3.SS2.p10.2.m2.1.1.2.1.cmml" xref="S3.SS2.p10.2.m2.1.1.2.1">^</ci><ci id="S3.SS2.p10.2.m2.1.1.2.2.cmml" xref="S3.SS2.p10.2.m2.1.1.2.2">𝐬</ci></apply><apply id="S3.SS2.p10.2.m2.1.1.3.cmml" xref="S3.SS2.p10.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p10.2.m2.1.1.3.1.cmml" xref="S3.SS2.p10.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS2.p10.2.m2.1.1.3.2.cmml" xref="S3.SS2.p10.2.m2.1.1.3.2">ℛ</ci><apply id="S3.SS2.p10.2.m2.1.1.3.3.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3"><times id="S3.SS2.p10.2.m2.1.1.3.3.1.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3.1"></times><apply id="S3.SS2.p10.2.m2.1.1.3.3.2.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3.2"><divide id="S3.SS2.p10.2.m2.1.1.3.3.2.1.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3.2"></divide><ci id="S3.SS2.p10.2.m2.1.1.3.3.2.2.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3.2.2">𝑊</ci><ci id="S3.SS2.p10.2.m2.1.1.3.3.2.3.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3.2.3">𝑟</ci></apply><apply id="S3.SS2.p10.2.m2.1.1.3.3.3.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3.3"><divide id="S3.SS2.p10.2.m2.1.1.3.3.3.1.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3.3"></divide><ci id="S3.SS2.p10.2.m2.1.1.3.3.3.2.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3.3.2">𝐻</ci><ci id="S3.SS2.p10.2.m2.1.1.3.3.3.3.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3.3.3">𝑟</ci></apply><cn type="integer" id="S3.SS2.p10.2.m2.1.1.3.3.4.cmml" xref="S3.SS2.p10.2.m2.1.1.3.3.4">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.2.m2.1c">\hat{\mathbf{s}}\in\mathcal{R}^{\frac{W}{r}\times\frac{H}{r}\times 2}</annotation></semantics></math> of each class <math id="S3.SS2.p10.3.m3.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS2.p10.3.m3.1a"><mi id="S3.SS2.p10.3.m3.1.1" xref="S3.SS2.p10.3.m3.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.3.m3.1b"><ci id="S3.SS2.p10.3.m3.1.1.cmml" xref="S3.SS2.p10.3.m3.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.3.m3.1c">c</annotation></semantics></math> are regressed around the predicted center points, using a single shared prediction as well. Offset loss is computed only at locations of predicted keypoints <math id="S3.SS2.p10.4.m4.1" class="ltx_Math" alttext="\tilde{p}" display="inline"><semantics id="S3.SS2.p10.4.m4.1a"><mover accent="true" id="S3.SS2.p10.4.m4.1.1" xref="S3.SS2.p10.4.m4.1.1.cmml"><mi id="S3.SS2.p10.4.m4.1.1.2" xref="S3.SS2.p10.4.m4.1.1.2.cmml">p</mi><mo id="S3.SS2.p10.4.m4.1.1.1" xref="S3.SS2.p10.4.m4.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.4.m4.1b"><apply id="S3.SS2.p10.4.m4.1.1.cmml" xref="S3.SS2.p10.4.m4.1.1"><ci id="S3.SS2.p10.4.m4.1.1.1.cmml" xref="S3.SS2.p10.4.m4.1.1.1">~</ci><ci id="S3.SS2.p10.4.m4.1.1.2.cmml" xref="S3.SS2.p10.4.m4.1.1.2">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.4.m4.1c">\tilde{p}</annotation></semantics></math>, while size loss is computed for each detected object <math id="S3.SS2.p10.5.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p10.5.m5.1a"><mi id="S3.SS2.p10.5.m5.1.1" xref="S3.SS2.p10.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.5.m5.1b"><ci id="S3.SS2.p10.5.m5.1.1.cmml" xref="S3.SS2.p10.5.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.5.m5.1c">k</annotation></semantics></math> with its predicted size <math id="S3.SS2.p10.6.m6.1" class="ltx_Math" alttext="\hat{\mathbf{s}}_{p_{k}}" display="inline"><semantics id="S3.SS2.p10.6.m6.1a"><msub id="S3.SS2.p10.6.m6.1.1" xref="S3.SS2.p10.6.m6.1.1.cmml"><mover accent="true" id="S3.SS2.p10.6.m6.1.1.2" xref="S3.SS2.p10.6.m6.1.1.2.cmml"><mi id="S3.SS2.p10.6.m6.1.1.2.2" xref="S3.SS2.p10.6.m6.1.1.2.2.cmml">𝐬</mi><mo id="S3.SS2.p10.6.m6.1.1.2.1" xref="S3.SS2.p10.6.m6.1.1.2.1.cmml">^</mo></mover><msub id="S3.SS2.p10.6.m6.1.1.3" xref="S3.SS2.p10.6.m6.1.1.3.cmml"><mi id="S3.SS2.p10.6.m6.1.1.3.2" xref="S3.SS2.p10.6.m6.1.1.3.2.cmml">p</mi><mi id="S3.SS2.p10.6.m6.1.1.3.3" xref="S3.SS2.p10.6.m6.1.1.3.3.cmml">k</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.6.m6.1b"><apply id="S3.SS2.p10.6.m6.1.1.cmml" xref="S3.SS2.p10.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.6.m6.1.1.1.cmml" xref="S3.SS2.p10.6.m6.1.1">subscript</csymbol><apply id="S3.SS2.p10.6.m6.1.1.2.cmml" xref="S3.SS2.p10.6.m6.1.1.2"><ci id="S3.SS2.p10.6.m6.1.1.2.1.cmml" xref="S3.SS2.p10.6.m6.1.1.2.1">^</ci><ci id="S3.SS2.p10.6.m6.1.1.2.2.cmml" xref="S3.SS2.p10.6.m6.1.1.2.2">𝐬</ci></apply><apply id="S3.SS2.p10.6.m6.1.1.3.cmml" xref="S3.SS2.p10.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p10.6.m6.1.1.3.1.cmml" xref="S3.SS2.p10.6.m6.1.1.3">subscript</csymbol><ci id="S3.SS2.p10.6.m6.1.1.3.2.cmml" xref="S3.SS2.p10.6.m6.1.1.3.2">𝑝</ci><ci id="S3.SS2.p10.6.m6.1.1.3.3.cmml" xref="S3.SS2.p10.6.m6.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.6.m6.1c">\hat{\mathbf{s}}_{p_{k}}</annotation></semantics></math> around the center point <math id="S3.SS2.p10.7.m7.1" class="ltx_Math" alttext="p_{k}" display="inline"><semantics id="S3.SS2.p10.7.m7.1a"><msub id="S3.SS2.p10.7.m7.1.1" xref="S3.SS2.p10.7.m7.1.1.cmml"><mi id="S3.SS2.p10.7.m7.1.1.2" xref="S3.SS2.p10.7.m7.1.1.2.cmml">p</mi><mi id="S3.SS2.p10.7.m7.1.1.3" xref="S3.SS2.p10.7.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.7.m7.1b"><apply id="S3.SS2.p10.7.m7.1.1.cmml" xref="S3.SS2.p10.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.7.m7.1.1.1.cmml" xref="S3.SS2.p10.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p10.7.m7.1.1.2.cmml" xref="S3.SS2.p10.7.m7.1.1.2">𝑝</ci><ci id="S3.SS2.p10.7.m7.1.1.3.cmml" xref="S3.SS2.p10.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.7.m7.1c">p_{k}</annotation></semantics></math> and the ground truth bounding box size <math id="S3.SS2.p10.8.m8.1" class="ltx_Math" alttext="\mathbf{s}_{k}" display="inline"><semantics id="S3.SS2.p10.8.m8.1a"><msub id="S3.SS2.p10.8.m8.1.1" xref="S3.SS2.p10.8.m8.1.1.cmml"><mi id="S3.SS2.p10.8.m8.1.1.2" xref="S3.SS2.p10.8.m8.1.1.2.cmml">𝐬</mi><mi id="S3.SS2.p10.8.m8.1.1.3" xref="S3.SS2.p10.8.m8.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.8.m8.1b"><apply id="S3.SS2.p10.8.m8.1.1.cmml" xref="S3.SS2.p10.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.8.m8.1.1.1.cmml" xref="S3.SS2.p10.8.m8.1.1">subscript</csymbol><ci id="S3.SS2.p10.8.m8.1.1.2.cmml" xref="S3.SS2.p10.8.m8.1.1.2">𝐬</ci><ci id="S3.SS2.p10.8.m8.1.1.3.cmml" xref="S3.SS2.p10.8.m8.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.8.m8.1c">\mathbf{s}_{k}</annotation></semantics></math>. Both keypoint offset and size predictions are trained with L1 loss,</p>
<table id="S3.E9" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E9.m1.34" class="ltx_Math" alttext="\begin{gathered}L_{off}=\frac{1}{N}\sum_{p}\left|\hat{\mathbf{o}}_{\tilde{p}}-\left(\frac{p}{r}-\tilde{p}\right)\right|\\
L_{size}=\frac{1}{N}\sum_{k=1}^{N}\left|\hat{\mathbf{s}}_{p_{k}}-\mathbf{s}_{k}\right|.\end{gathered}" display="block"><semantics id="S3.E9.m1.34a"><mtable displaystyle="true" rowspacing="0pt" id="S3.E9.m1.34.34.3"><mtr id="S3.E9.m1.34.34.3a"><mtd id="S3.E9.m1.34.34.3b"><mrow id="S3.E9.m1.33.33.2.32.17.17"><msub id="S3.E9.m1.33.33.2.32.17.17.18"><mi id="S3.E9.m1.1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.1.cmml">L</mi><mrow id="S3.E9.m1.2.2.2.2.2.2.1" xref="S3.E9.m1.2.2.2.2.2.2.1.cmml"><mi id="S3.E9.m1.2.2.2.2.2.2.1.2" xref="S3.E9.m1.2.2.2.2.2.2.1.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.2.2.2.2.2.2.1.1" xref="S3.E9.m1.2.2.2.2.2.2.1.1.cmml">​</mo><mi id="S3.E9.m1.2.2.2.2.2.2.1.3" xref="S3.E9.m1.2.2.2.2.2.2.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.2.2.2.2.2.2.1.1a" xref="S3.E9.m1.2.2.2.2.2.2.1.1.cmml">​</mo><mi id="S3.E9.m1.2.2.2.2.2.2.1.4" xref="S3.E9.m1.2.2.2.2.2.2.1.4.cmml">f</mi></mrow></msub><mo id="S3.E9.m1.3.3.3.3.3.3" xref="S3.E9.m1.3.3.3.3.3.3.cmml">=</mo><mrow id="S3.E9.m1.33.33.2.32.17.17.17"><mfrac id="S3.E9.m1.4.4.4.4.4.4" xref="S3.E9.m1.4.4.4.4.4.4.cmml"><mn id="S3.E9.m1.4.4.4.4.4.4.2" xref="S3.E9.m1.4.4.4.4.4.4.2.cmml">1</mn><mi id="S3.E9.m1.4.4.4.4.4.4.3" xref="S3.E9.m1.4.4.4.4.4.4.3.cmml">N</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.E9.m1.33.33.2.32.17.17.17.2" xref="S3.E9.m1.32.32.1.1.1.cmml">​</mo><mrow id="S3.E9.m1.33.33.2.32.17.17.17.1"><munder id="S3.E9.m1.33.33.2.32.17.17.17.1.2"><mo movablelimits="false" rspace="0em" id="S3.E9.m1.5.5.5.5.5.5" xref="S3.E9.m1.5.5.5.5.5.5.cmml">∑</mo><mi id="S3.E9.m1.6.6.6.6.6.6.1" xref="S3.E9.m1.6.6.6.6.6.6.1.cmml">p</mi></munder><mrow id="S3.E9.m1.33.33.2.32.17.17.17.1.1.1"><mo id="S3.E9.m1.7.7.7.7.7.7" xref="S3.E9.m1.32.32.1.1.1.cmml">|</mo><mrow id="S3.E9.m1.33.33.2.32.17.17.17.1.1.1.1"><msub id="S3.E9.m1.33.33.2.32.17.17.17.1.1.1.1.2"><mover accent="true" id="S3.E9.m1.8.8.8.8.8.8" xref="S3.E9.m1.8.8.8.8.8.8.cmml"><mi id="S3.E9.m1.8.8.8.8.8.8.2" xref="S3.E9.m1.8.8.8.8.8.8.2.cmml">𝐨</mi><mo id="S3.E9.m1.8.8.8.8.8.8.1" xref="S3.E9.m1.8.8.8.8.8.8.1.cmml">^</mo></mover><mover accent="true" id="S3.E9.m1.9.9.9.9.9.9.1" xref="S3.E9.m1.9.9.9.9.9.9.1.cmml"><mi id="S3.E9.m1.9.9.9.9.9.9.1.2" xref="S3.E9.m1.9.9.9.9.9.9.1.2.cmml">p</mi><mo id="S3.E9.m1.9.9.9.9.9.9.1.1" xref="S3.E9.m1.9.9.9.9.9.9.1.1.cmml">~</mo></mover></msub><mo id="S3.E9.m1.10.10.10.10.10.10" xref="S3.E9.m1.10.10.10.10.10.10.cmml">−</mo><mrow id="S3.E9.m1.33.33.2.32.17.17.17.1.1.1.1.1.1"><mo id="S3.E9.m1.11.11.11.11.11.11" xref="S3.E9.m1.32.32.1.1.1.cmml">(</mo><mrow id="S3.E9.m1.33.33.2.32.17.17.17.1.1.1.1.1.1.1"><mfrac id="S3.E9.m1.12.12.12.12.12.12" xref="S3.E9.m1.12.12.12.12.12.12.cmml"><mi id="S3.E9.m1.12.12.12.12.12.12.2" xref="S3.E9.m1.12.12.12.12.12.12.2.cmml">p</mi><mi id="S3.E9.m1.12.12.12.12.12.12.3" xref="S3.E9.m1.12.12.12.12.12.12.3.cmml">r</mi></mfrac><mo id="S3.E9.m1.13.13.13.13.13.13" xref="S3.E9.m1.13.13.13.13.13.13.cmml">−</mo><mover accent="true" id="S3.E9.m1.14.14.14.14.14.14" xref="S3.E9.m1.14.14.14.14.14.14.cmml"><mi id="S3.E9.m1.14.14.14.14.14.14.2" xref="S3.E9.m1.14.14.14.14.14.14.2.cmml">p</mi><mo id="S3.E9.m1.14.14.14.14.14.14.1" xref="S3.E9.m1.14.14.14.14.14.14.1.cmml">~</mo></mover></mrow><mo id="S3.E9.m1.15.15.15.15.15.15" xref="S3.E9.m1.32.32.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E9.m1.16.16.16.16.16.16" xref="S3.E9.m1.32.32.1.1.1.cmml">|</mo></mrow></mrow></mrow></mrow></mtd></mtr><mtr id="S3.E9.m1.34.34.3c"><mtd id="S3.E9.m1.34.34.3d"><mrow id="S3.E9.m1.34.34.3.33.16.16.16"><mrow id="S3.E9.m1.34.34.3.33.16.16.16.1"><msub id="S3.E9.m1.34.34.3.33.16.16.16.1.2"><mi id="S3.E9.m1.17.17.17.1.1.1" xref="S3.E9.m1.17.17.17.1.1.1.cmml">L</mi><mrow id="S3.E9.m1.18.18.18.2.2.2.1" xref="S3.E9.m1.18.18.18.2.2.2.1.cmml"><mi id="S3.E9.m1.18.18.18.2.2.2.1.2" xref="S3.E9.m1.18.18.18.2.2.2.1.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.18.18.18.2.2.2.1.1" xref="S3.E9.m1.18.18.18.2.2.2.1.1.cmml">​</mo><mi id="S3.E9.m1.18.18.18.2.2.2.1.3" xref="S3.E9.m1.18.18.18.2.2.2.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.18.18.18.2.2.2.1.1a" xref="S3.E9.m1.18.18.18.2.2.2.1.1.cmml">​</mo><mi id="S3.E9.m1.18.18.18.2.2.2.1.4" xref="S3.E9.m1.18.18.18.2.2.2.1.4.cmml">z</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.18.18.18.2.2.2.1.1b" xref="S3.E9.m1.18.18.18.2.2.2.1.1.cmml">​</mo><mi id="S3.E9.m1.18.18.18.2.2.2.1.5" xref="S3.E9.m1.18.18.18.2.2.2.1.5.cmml">e</mi></mrow></msub><mo id="S3.E9.m1.19.19.19.3.3.3" xref="S3.E9.m1.19.19.19.3.3.3.cmml">=</mo><mrow id="S3.E9.m1.34.34.3.33.16.16.16.1.1"><mfrac id="S3.E9.m1.20.20.20.4.4.4" xref="S3.E9.m1.20.20.20.4.4.4.cmml"><mn id="S3.E9.m1.20.20.20.4.4.4.2" xref="S3.E9.m1.20.20.20.4.4.4.2.cmml">1</mn><mi id="S3.E9.m1.20.20.20.4.4.4.3" xref="S3.E9.m1.20.20.20.4.4.4.3.cmml">N</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.E9.m1.34.34.3.33.16.16.16.1.1.2" xref="S3.E9.m1.32.32.1.1.1.cmml">​</mo><mrow id="S3.E9.m1.34.34.3.33.16.16.16.1.1.1"><munderover id="S3.E9.m1.34.34.3.33.16.16.16.1.1.1.2"><mo movablelimits="false" rspace="0em" id="S3.E9.m1.21.21.21.5.5.5" xref="S3.E9.m1.21.21.21.5.5.5.cmml">∑</mo><mrow id="S3.E9.m1.22.22.22.6.6.6.1" xref="S3.E9.m1.22.22.22.6.6.6.1.cmml"><mi id="S3.E9.m1.22.22.22.6.6.6.1.2" xref="S3.E9.m1.22.22.22.6.6.6.1.2.cmml">k</mi><mo id="S3.E9.m1.22.22.22.6.6.6.1.1" xref="S3.E9.m1.22.22.22.6.6.6.1.1.cmml">=</mo><mn id="S3.E9.m1.22.22.22.6.6.6.1.3" xref="S3.E9.m1.22.22.22.6.6.6.1.3.cmml">1</mn></mrow><mi id="S3.E9.m1.23.23.23.7.7.7.1" xref="S3.E9.m1.23.23.23.7.7.7.1.cmml">N</mi></munderover><mrow id="S3.E9.m1.34.34.3.33.16.16.16.1.1.1.1.1"><mo id="S3.E9.m1.24.24.24.8.8.8" xref="S3.E9.m1.32.32.1.1.1.cmml">|</mo><mrow id="S3.E9.m1.34.34.3.33.16.16.16.1.1.1.1.1.1"><msub id="S3.E9.m1.34.34.3.33.16.16.16.1.1.1.1.1.1.1"><mover accent="true" id="S3.E9.m1.25.25.25.9.9.9" xref="S3.E9.m1.25.25.25.9.9.9.cmml"><mi id="S3.E9.m1.25.25.25.9.9.9.2" xref="S3.E9.m1.25.25.25.9.9.9.2.cmml">𝐬</mi><mo id="S3.E9.m1.25.25.25.9.9.9.1" xref="S3.E9.m1.25.25.25.9.9.9.1.cmml">^</mo></mover><msub id="S3.E9.m1.26.26.26.10.10.10.1" xref="S3.E9.m1.26.26.26.10.10.10.1.cmml"><mi id="S3.E9.m1.26.26.26.10.10.10.1.2" xref="S3.E9.m1.26.26.26.10.10.10.1.2.cmml">p</mi><mi id="S3.E9.m1.26.26.26.10.10.10.1.3" xref="S3.E9.m1.26.26.26.10.10.10.1.3.cmml">k</mi></msub></msub><mo id="S3.E9.m1.27.27.27.11.11.11" xref="S3.E9.m1.27.27.27.11.11.11.cmml">−</mo><msub id="S3.E9.m1.34.34.3.33.16.16.16.1.1.1.1.1.1.2"><mi id="S3.E9.m1.28.28.28.12.12.12" xref="S3.E9.m1.28.28.28.12.12.12.cmml">𝐬</mi><mi id="S3.E9.m1.29.29.29.13.13.13.1" xref="S3.E9.m1.29.29.29.13.13.13.1.cmml">k</mi></msub></mrow><mo id="S3.E9.m1.30.30.30.14.14.14" xref="S3.E9.m1.32.32.1.1.1.cmml">|</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E9.m1.31.31.31.15.15.15" xref="S3.E9.m1.32.32.1.1.1.cmml">.</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E9.m1.34b"><apply id="S3.E9.m1.32.32.1.1.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><and id="S3.E9.m1.32.32.1.1.1a.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"></and><apply id="S3.E9.m1.32.32.1.1.1b.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><eq id="S3.E9.m1.3.3.3.3.3.3.cmml" xref="S3.E9.m1.3.3.3.3.3.3"></eq><apply id="S3.E9.m1.32.32.1.1.1.4.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><csymbol cd="ambiguous" id="S3.E9.m1.32.32.1.1.1.4.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2">subscript</csymbol><ci id="S3.E9.m1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1">𝐿</ci><apply id="S3.E9.m1.2.2.2.2.2.2.1.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1"><times id="S3.E9.m1.2.2.2.2.2.2.1.1.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.1"></times><ci id="S3.E9.m1.2.2.2.2.2.2.1.2.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.2">𝑜</ci><ci id="S3.E9.m1.2.2.2.2.2.2.1.3.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.3">𝑓</ci><ci id="S3.E9.m1.2.2.2.2.2.2.1.4.cmml" xref="S3.E9.m1.2.2.2.2.2.2.1.4">𝑓</ci></apply></apply><apply id="S3.E9.m1.32.32.1.1.1.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><times id="S3.E9.m1.32.32.1.1.1.1.2.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"></times><apply id="S3.E9.m1.4.4.4.4.4.4.cmml" xref="S3.E9.m1.4.4.4.4.4.4"><divide id="S3.E9.m1.4.4.4.4.4.4.1.cmml" xref="S3.E9.m1.4.4.4.4.4.4"></divide><cn type="integer" id="S3.E9.m1.4.4.4.4.4.4.2.cmml" xref="S3.E9.m1.4.4.4.4.4.4.2">1</cn><ci id="S3.E9.m1.4.4.4.4.4.4.3.cmml" xref="S3.E9.m1.4.4.4.4.4.4.3">𝑁</ci></apply><apply id="S3.E9.m1.32.32.1.1.1.1.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><apply id="S3.E9.m1.32.32.1.1.1.1.1.2.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><csymbol cd="ambiguous" id="S3.E9.m1.32.32.1.1.1.1.1.2.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2">subscript</csymbol><sum id="S3.E9.m1.5.5.5.5.5.5.cmml" xref="S3.E9.m1.5.5.5.5.5.5"></sum><ci id="S3.E9.m1.6.6.6.6.6.6.1.cmml" xref="S3.E9.m1.6.6.6.6.6.6.1">𝑝</ci></apply><apply id="S3.E9.m1.32.32.1.1.1.1.1.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><times id="S3.E9.m1.32.32.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"></times><apply id="S3.E9.m1.32.32.1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><abs id="S3.E9.m1.32.32.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"></abs><apply id="S3.E9.m1.32.32.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><minus id="S3.E9.m1.10.10.10.10.10.10.cmml" xref="S3.E9.m1.10.10.10.10.10.10"></minus><apply id="S3.E9.m1.32.32.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><csymbol cd="ambiguous" id="S3.E9.m1.32.32.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2">subscript</csymbol><apply id="S3.E9.m1.8.8.8.8.8.8.cmml" xref="S3.E9.m1.8.8.8.8.8.8"><ci id="S3.E9.m1.8.8.8.8.8.8.1.cmml" xref="S3.E9.m1.8.8.8.8.8.8.1">^</ci><ci id="S3.E9.m1.8.8.8.8.8.8.2.cmml" xref="S3.E9.m1.8.8.8.8.8.8.2">𝐨</ci></apply><apply id="S3.E9.m1.9.9.9.9.9.9.1.cmml" xref="S3.E9.m1.9.9.9.9.9.9.1"><ci id="S3.E9.m1.9.9.9.9.9.9.1.1.cmml" xref="S3.E9.m1.9.9.9.9.9.9.1.1">~</ci><ci id="S3.E9.m1.9.9.9.9.9.9.1.2.cmml" xref="S3.E9.m1.9.9.9.9.9.9.1.2">𝑝</ci></apply></apply><apply id="S3.E9.m1.32.32.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><minus id="S3.E9.m1.13.13.13.13.13.13.cmml" xref="S3.E9.m1.13.13.13.13.13.13"></minus><apply id="S3.E9.m1.12.12.12.12.12.12.cmml" xref="S3.E9.m1.12.12.12.12.12.12"><divide id="S3.E9.m1.12.12.12.12.12.12.1.cmml" xref="S3.E9.m1.12.12.12.12.12.12"></divide><ci id="S3.E9.m1.12.12.12.12.12.12.2.cmml" xref="S3.E9.m1.12.12.12.12.12.12.2">𝑝</ci><ci id="S3.E9.m1.12.12.12.12.12.12.3.cmml" xref="S3.E9.m1.12.12.12.12.12.12.3">𝑟</ci></apply><apply id="S3.E9.m1.14.14.14.14.14.14.cmml" xref="S3.E9.m1.14.14.14.14.14.14"><ci id="S3.E9.m1.14.14.14.14.14.14.1.cmml" xref="S3.E9.m1.14.14.14.14.14.14.1">~</ci><ci id="S3.E9.m1.14.14.14.14.14.14.2.cmml" xref="S3.E9.m1.14.14.14.14.14.14.2">𝑝</ci></apply></apply></apply></apply><apply id="S3.E9.m1.32.32.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><csymbol cd="ambiguous" id="S3.E9.m1.32.32.1.1.1.1.1.1.3.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2">subscript</csymbol><ci id="S3.E9.m1.17.17.17.1.1.1.cmml" xref="S3.E9.m1.17.17.17.1.1.1">𝐿</ci><apply id="S3.E9.m1.18.18.18.2.2.2.1.cmml" xref="S3.E9.m1.18.18.18.2.2.2.1"><times id="S3.E9.m1.18.18.18.2.2.2.1.1.cmml" xref="S3.E9.m1.18.18.18.2.2.2.1.1"></times><ci id="S3.E9.m1.18.18.18.2.2.2.1.2.cmml" xref="S3.E9.m1.18.18.18.2.2.2.1.2">𝑠</ci><ci id="S3.E9.m1.18.18.18.2.2.2.1.3.cmml" xref="S3.E9.m1.18.18.18.2.2.2.1.3">𝑖</ci><ci id="S3.E9.m1.18.18.18.2.2.2.1.4.cmml" xref="S3.E9.m1.18.18.18.2.2.2.1.4">𝑧</ci><ci id="S3.E9.m1.18.18.18.2.2.2.1.5.cmml" xref="S3.E9.m1.18.18.18.2.2.2.1.5">𝑒</ci></apply></apply></apply></apply></apply></apply><apply id="S3.E9.m1.32.32.1.1.1c.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><eq id="S3.E9.m1.19.19.19.3.3.3.cmml" xref="S3.E9.m1.19.19.19.3.3.3"></eq><share href="#S3.E9.m1.32.32.1.1.1.1.cmml" id="S3.E9.m1.32.32.1.1.1d.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"></share><apply id="S3.E9.m1.32.32.1.1.1.2.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><times id="S3.E9.m1.32.32.1.1.1.2.2.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"></times><apply id="S3.E9.m1.20.20.20.4.4.4.cmml" xref="S3.E9.m1.20.20.20.4.4.4"><divide id="S3.E9.m1.20.20.20.4.4.4.1.cmml" xref="S3.E9.m1.20.20.20.4.4.4"></divide><cn type="integer" id="S3.E9.m1.20.20.20.4.4.4.2.cmml" xref="S3.E9.m1.20.20.20.4.4.4.2">1</cn><ci id="S3.E9.m1.20.20.20.4.4.4.3.cmml" xref="S3.E9.m1.20.20.20.4.4.4.3">𝑁</ci></apply><apply id="S3.E9.m1.32.32.1.1.1.2.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><apply id="S3.E9.m1.32.32.1.1.1.2.1.2.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><csymbol cd="ambiguous" id="S3.E9.m1.32.32.1.1.1.2.1.2.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2">superscript</csymbol><apply id="S3.E9.m1.32.32.1.1.1.2.1.2.2.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><csymbol cd="ambiguous" id="S3.E9.m1.32.32.1.1.1.2.1.2.2.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2">subscript</csymbol><sum id="S3.E9.m1.21.21.21.5.5.5.cmml" xref="S3.E9.m1.21.21.21.5.5.5"></sum><apply id="S3.E9.m1.22.22.22.6.6.6.1.cmml" xref="S3.E9.m1.22.22.22.6.6.6.1"><eq id="S3.E9.m1.22.22.22.6.6.6.1.1.cmml" xref="S3.E9.m1.22.22.22.6.6.6.1.1"></eq><ci id="S3.E9.m1.22.22.22.6.6.6.1.2.cmml" xref="S3.E9.m1.22.22.22.6.6.6.1.2">𝑘</ci><cn type="integer" id="S3.E9.m1.22.22.22.6.6.6.1.3.cmml" xref="S3.E9.m1.22.22.22.6.6.6.1.3">1</cn></apply></apply><ci id="S3.E9.m1.23.23.23.7.7.7.1.cmml" xref="S3.E9.m1.23.23.23.7.7.7.1">𝑁</ci></apply><apply id="S3.E9.m1.32.32.1.1.1.2.1.1.2.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><abs id="S3.E9.m1.32.32.1.1.1.2.1.1.2.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"></abs><apply id="S3.E9.m1.32.32.1.1.1.2.1.1.1.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><minus id="S3.E9.m1.27.27.27.11.11.11.cmml" xref="S3.E9.m1.27.27.27.11.11.11"></minus><apply id="S3.E9.m1.32.32.1.1.1.2.1.1.1.1.2.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><csymbol cd="ambiguous" id="S3.E9.m1.32.32.1.1.1.2.1.1.1.1.2.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2">subscript</csymbol><apply id="S3.E9.m1.25.25.25.9.9.9.cmml" xref="S3.E9.m1.25.25.25.9.9.9"><ci id="S3.E9.m1.25.25.25.9.9.9.1.cmml" xref="S3.E9.m1.25.25.25.9.9.9.1">^</ci><ci id="S3.E9.m1.25.25.25.9.9.9.2.cmml" xref="S3.E9.m1.25.25.25.9.9.9.2">𝐬</ci></apply><apply id="S3.E9.m1.26.26.26.10.10.10.1.cmml" xref="S3.E9.m1.26.26.26.10.10.10.1"><csymbol cd="ambiguous" id="S3.E9.m1.26.26.26.10.10.10.1.1.cmml" xref="S3.E9.m1.26.26.26.10.10.10.1">subscript</csymbol><ci id="S3.E9.m1.26.26.26.10.10.10.1.2.cmml" xref="S3.E9.m1.26.26.26.10.10.10.1.2">𝑝</ci><ci id="S3.E9.m1.26.26.26.10.10.10.1.3.cmml" xref="S3.E9.m1.26.26.26.10.10.10.1.3">𝑘</ci></apply></apply><apply id="S3.E9.m1.32.32.1.1.1.2.1.1.1.1.3.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2"><csymbol cd="ambiguous" id="S3.E9.m1.32.32.1.1.1.2.1.1.1.1.3.1.cmml" xref="S3.E9.m1.33.33.2.32.17.17.17.2">subscript</csymbol><ci id="S3.E9.m1.28.28.28.12.12.12.cmml" xref="S3.E9.m1.28.28.28.12.12.12">𝐬</ci><ci id="S3.E9.m1.29.29.29.13.13.13.1.cmml" xref="S3.E9.m1.29.29.29.13.13.13.1">𝑘</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.34c">\begin{gathered}L_{off}=\frac{1}{N}\sum_{p}\left|\hat{\mathbf{o}}_{\tilde{p}}-\left(\frac{p}{r}-\tilde{p}\right)\right|\\
L_{size}=\frac{1}{N}\sum_{k=1}^{N}\left|\hat{\mathbf{s}}_{p_{k}}-\mathbf{s}_{k}\right|.\end{gathered}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p11" class="ltx_para ltx_noindent">
<p id="S3.SS2.p11.3" class="ltx_p">A two-layer convolutional head is built as the label synthesis branch for predicting <math id="S3.SS2.p11.1.m1.1" class="ltx_Math" alttext="\hat{\mathbf{y}}" display="inline"><semantics id="S3.SS2.p11.1.m1.1a"><mover accent="true" id="S3.SS2.p11.1.m1.1.1" xref="S3.SS2.p11.1.m1.1.1.cmml"><mi id="S3.SS2.p11.1.m1.1.1.2" xref="S3.SS2.p11.1.m1.1.1.2.cmml">𝐲</mi><mo id="S3.SS2.p11.1.m1.1.1.1" xref="S3.SS2.p11.1.m1.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.1.m1.1b"><apply id="S3.SS2.p11.1.m1.1.1.cmml" xref="S3.SS2.p11.1.m1.1.1"><ci id="S3.SS2.p11.1.m1.1.1.1.cmml" xref="S3.SS2.p11.1.m1.1.1.1">^</ci><ci id="S3.SS2.p11.1.m1.1.1.2.cmml" xref="S3.SS2.p11.1.m1.1.1.2">𝐲</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.1.m1.1c">\hat{\mathbf{y}}</annotation></semantics></math>, <math id="S3.SS2.p11.2.m2.1" class="ltx_Math" alttext="\hat{\mathbf{o}}" display="inline"><semantics id="S3.SS2.p11.2.m2.1a"><mover accent="true" id="S3.SS2.p11.2.m2.1.1" xref="S3.SS2.p11.2.m2.1.1.cmml"><mi id="S3.SS2.p11.2.m2.1.1.2" xref="S3.SS2.p11.2.m2.1.1.2.cmml">𝐨</mi><mo id="S3.SS2.p11.2.m2.1.1.1" xref="S3.SS2.p11.2.m2.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.2.m2.1b"><apply id="S3.SS2.p11.2.m2.1.1.cmml" xref="S3.SS2.p11.2.m2.1.1"><ci id="S3.SS2.p11.2.m2.1.1.1.cmml" xref="S3.SS2.p11.2.m2.1.1.1">^</ci><ci id="S3.SS2.p11.2.m2.1.1.2.cmml" xref="S3.SS2.p11.2.m2.1.1.2">𝐨</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.2.m2.1c">\hat{\mathbf{o}}</annotation></semantics></math>, and <math id="S3.SS2.p11.3.m3.1" class="ltx_Math" alttext="\hat{\mathbf{s}}" display="inline"><semantics id="S3.SS2.p11.3.m3.1a"><mover accent="true" id="S3.SS2.p11.3.m3.1.1" xref="S3.SS2.p11.3.m3.1.1.cmml"><mi id="S3.SS2.p11.3.m3.1.1.2" xref="S3.SS2.p11.3.m3.1.1.2.cmml">𝐬</mi><mo id="S3.SS2.p11.3.m3.1.1.1" xref="S3.SS2.p11.3.m3.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.3.m3.1b"><apply id="S3.SS2.p11.3.m3.1.1.cmml" xref="S3.SS2.p11.3.m3.1.1"><ci id="S3.SS2.p11.3.m3.1.1.1.cmml" xref="S3.SS2.p11.3.m3.1.1.1">^</ci><ci id="S3.SS2.p11.3.m3.1.1.2.cmml" xref="S3.SS2.p11.3.m3.1.1.2">𝐬</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.3.m3.1c">\hat{\mathbf{s}}</annotation></semantics></math> each and trained with a weighted sum of loss terms for these tasks,</p>
<table id="S3.E10" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E10.m1.1" class="ltx_Math" alttext="\mathcal{L}_{det}=\mathcal{L}_{k}+\lambda_{off}\mathcal{L}_{off}+\lambda_{size}\mathcal{L}_{size}," display="block"><semantics id="S3.E10.m1.1a"><mrow id="S3.E10.m1.1.1.1" xref="S3.E10.m1.1.1.1.1.cmml"><mrow id="S3.E10.m1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.cmml"><msub id="S3.E10.m1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.1.2.2" xref="S3.E10.m1.1.1.1.1.2.2.cmml">ℒ</mi><mrow id="S3.E10.m1.1.1.1.1.2.3" xref="S3.E10.m1.1.1.1.1.2.3.cmml"><mi id="S3.E10.m1.1.1.1.1.2.3.2" xref="S3.E10.m1.1.1.1.1.2.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.2.3.1" xref="S3.E10.m1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.2.3.3" xref="S3.E10.m1.1.1.1.1.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.2.3.1a" xref="S3.E10.m1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.2.3.4" xref="S3.E10.m1.1.1.1.1.2.3.4.cmml">t</mi></mrow></msub><mo id="S3.E10.m1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E10.m1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.3.cmml"><msub id="S3.E10.m1.1.1.1.1.3.2" xref="S3.E10.m1.1.1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.1.3.2.2" xref="S3.E10.m1.1.1.1.1.3.2.2.cmml">ℒ</mi><mi id="S3.E10.m1.1.1.1.1.3.2.3" xref="S3.E10.m1.1.1.1.1.3.2.3.cmml">k</mi></msub><mo id="S3.E10.m1.1.1.1.1.3.1" xref="S3.E10.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E10.m1.1.1.1.1.3.3" xref="S3.E10.m1.1.1.1.1.3.3.cmml"><msub id="S3.E10.m1.1.1.1.1.3.3.2" xref="S3.E10.m1.1.1.1.1.3.3.2.cmml"><mi id="S3.E10.m1.1.1.1.1.3.3.2.2" xref="S3.E10.m1.1.1.1.1.3.3.2.2.cmml">λ</mi><mrow id="S3.E10.m1.1.1.1.1.3.3.2.3" xref="S3.E10.m1.1.1.1.1.3.3.2.3.cmml"><mi id="S3.E10.m1.1.1.1.1.3.3.2.3.2" xref="S3.E10.m1.1.1.1.1.3.3.2.3.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.3.2.3.1" xref="S3.E10.m1.1.1.1.1.3.3.2.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.3.3.2.3.3" xref="S3.E10.m1.1.1.1.1.3.3.2.3.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.3.2.3.1a" xref="S3.E10.m1.1.1.1.1.3.3.2.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.3.3.2.3.4" xref="S3.E10.m1.1.1.1.1.3.3.2.3.4.cmml">f</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.3.1" xref="S3.E10.m1.1.1.1.1.3.3.1.cmml">​</mo><msub id="S3.E10.m1.1.1.1.1.3.3.3" xref="S3.E10.m1.1.1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.1.3.3.3.2" xref="S3.E10.m1.1.1.1.1.3.3.3.2.cmml">ℒ</mi><mrow id="S3.E10.m1.1.1.1.1.3.3.3.3" xref="S3.E10.m1.1.1.1.1.3.3.3.3.cmml"><mi id="S3.E10.m1.1.1.1.1.3.3.3.3.2" xref="S3.E10.m1.1.1.1.1.3.3.3.3.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.3.3.3.1" xref="S3.E10.m1.1.1.1.1.3.3.3.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.3.3.3.3.3" xref="S3.E10.m1.1.1.1.1.3.3.3.3.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.3.3.3.1a" xref="S3.E10.m1.1.1.1.1.3.3.3.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.3.3.3.3.4" xref="S3.E10.m1.1.1.1.1.3.3.3.3.4.cmml">f</mi></mrow></msub></mrow><mo id="S3.E10.m1.1.1.1.1.3.1a" xref="S3.E10.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E10.m1.1.1.1.1.3.4" xref="S3.E10.m1.1.1.1.1.3.4.cmml"><msub id="S3.E10.m1.1.1.1.1.3.4.2" xref="S3.E10.m1.1.1.1.1.3.4.2.cmml"><mi id="S3.E10.m1.1.1.1.1.3.4.2.2" xref="S3.E10.m1.1.1.1.1.3.4.2.2.cmml">λ</mi><mrow id="S3.E10.m1.1.1.1.1.3.4.2.3" xref="S3.E10.m1.1.1.1.1.3.4.2.3.cmml"><mi id="S3.E10.m1.1.1.1.1.3.4.2.3.2" xref="S3.E10.m1.1.1.1.1.3.4.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.4.2.3.1" xref="S3.E10.m1.1.1.1.1.3.4.2.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.3.4.2.3.3" xref="S3.E10.m1.1.1.1.1.3.4.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.4.2.3.1a" xref="S3.E10.m1.1.1.1.1.3.4.2.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.3.4.2.3.4" xref="S3.E10.m1.1.1.1.1.3.4.2.3.4.cmml">z</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.4.2.3.1b" xref="S3.E10.m1.1.1.1.1.3.4.2.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.3.4.2.3.5" xref="S3.E10.m1.1.1.1.1.3.4.2.3.5.cmml">e</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.4.1" xref="S3.E10.m1.1.1.1.1.3.4.1.cmml">​</mo><msub id="S3.E10.m1.1.1.1.1.3.4.3" xref="S3.E10.m1.1.1.1.1.3.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.1.3.4.3.2" xref="S3.E10.m1.1.1.1.1.3.4.3.2.cmml">ℒ</mi><mrow id="S3.E10.m1.1.1.1.1.3.4.3.3" xref="S3.E10.m1.1.1.1.1.3.4.3.3.cmml"><mi id="S3.E10.m1.1.1.1.1.3.4.3.3.2" xref="S3.E10.m1.1.1.1.1.3.4.3.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.4.3.3.1" xref="S3.E10.m1.1.1.1.1.3.4.3.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.3.4.3.3.3" xref="S3.E10.m1.1.1.1.1.3.4.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.4.3.3.1a" xref="S3.E10.m1.1.1.1.1.3.4.3.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.3.4.3.3.4" xref="S3.E10.m1.1.1.1.1.3.4.3.3.4.cmml">z</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.3.4.3.3.1b" xref="S3.E10.m1.1.1.1.1.3.4.3.3.1.cmml">​</mo><mi id="S3.E10.m1.1.1.1.1.3.4.3.3.5" xref="S3.E10.m1.1.1.1.1.3.4.3.3.5.cmml">e</mi></mrow></msub></mrow></mrow></mrow><mo id="S3.E10.m1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m1.1b"><apply id="S3.E10.m1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1"><eq id="S3.E10.m1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1"></eq><apply id="S3.E10.m1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.2.1.cmml" xref="S3.E10.m1.1.1.1.1.2">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2">ℒ</ci><apply id="S3.E10.m1.1.1.1.1.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.3"><times id="S3.E10.m1.1.1.1.1.2.3.1.cmml" xref="S3.E10.m1.1.1.1.1.2.3.1"></times><ci id="S3.E10.m1.1.1.1.1.2.3.2.cmml" xref="S3.E10.m1.1.1.1.1.2.3.2">𝑑</ci><ci id="S3.E10.m1.1.1.1.1.2.3.3.cmml" xref="S3.E10.m1.1.1.1.1.2.3.3">𝑒</ci><ci id="S3.E10.m1.1.1.1.1.2.3.4.cmml" xref="S3.E10.m1.1.1.1.1.2.3.4">𝑡</ci></apply></apply><apply id="S3.E10.m1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.3"><plus id="S3.E10.m1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3.1"></plus><apply id="S3.E10.m1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3.2.1.cmml" xref="S3.E10.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.3.2.2.cmml" xref="S3.E10.m1.1.1.1.1.3.2.2">ℒ</ci><ci id="S3.E10.m1.1.1.1.1.3.2.3.cmml" xref="S3.E10.m1.1.1.1.1.3.2.3">𝑘</ci></apply><apply id="S3.E10.m1.1.1.1.1.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3"><times id="S3.E10.m1.1.1.1.1.3.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3.3.1"></times><apply id="S3.E10.m1.1.1.1.1.3.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3.3.2.1.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.3.3.2.2.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2.2">𝜆</ci><apply id="S3.E10.m1.1.1.1.1.3.3.2.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2.3"><times id="S3.E10.m1.1.1.1.1.3.3.2.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2.3.1"></times><ci id="S3.E10.m1.1.1.1.1.3.3.2.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2.3.2">𝑜</ci><ci id="S3.E10.m1.1.1.1.1.3.3.2.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2.3.3">𝑓</ci><ci id="S3.E10.m1.1.1.1.1.3.3.2.3.4.cmml" xref="S3.E10.m1.1.1.1.1.3.3.2.3.4">𝑓</ci></apply></apply><apply id="S3.E10.m1.1.1.1.1.3.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3.3.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.3.3.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.3.3.2">ℒ</ci><apply id="S3.E10.m1.1.1.1.1.3.3.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3.3.3"><times id="S3.E10.m1.1.1.1.1.3.3.3.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3.3.3.3.1"></times><ci id="S3.E10.m1.1.1.1.1.3.3.3.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.3.3.3.2">𝑜</ci><ci id="S3.E10.m1.1.1.1.1.3.3.3.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3.3.3.3">𝑓</ci><ci id="S3.E10.m1.1.1.1.1.3.3.3.3.4.cmml" xref="S3.E10.m1.1.1.1.1.3.3.3.3.4">𝑓</ci></apply></apply></apply><apply id="S3.E10.m1.1.1.1.1.3.4.cmml" xref="S3.E10.m1.1.1.1.1.3.4"><times id="S3.E10.m1.1.1.1.1.3.4.1.cmml" xref="S3.E10.m1.1.1.1.1.3.4.1"></times><apply id="S3.E10.m1.1.1.1.1.3.4.2.cmml" xref="S3.E10.m1.1.1.1.1.3.4.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3.4.2.1.cmml" xref="S3.E10.m1.1.1.1.1.3.4.2">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.3.4.2.2.cmml" xref="S3.E10.m1.1.1.1.1.3.4.2.2">𝜆</ci><apply id="S3.E10.m1.1.1.1.1.3.4.2.3.cmml" xref="S3.E10.m1.1.1.1.1.3.4.2.3"><times id="S3.E10.m1.1.1.1.1.3.4.2.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3.4.2.3.1"></times><ci id="S3.E10.m1.1.1.1.1.3.4.2.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.4.2.3.2">𝑠</ci><ci id="S3.E10.m1.1.1.1.1.3.4.2.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.4.2.3.3">𝑖</ci><ci id="S3.E10.m1.1.1.1.1.3.4.2.3.4.cmml" xref="S3.E10.m1.1.1.1.1.3.4.2.3.4">𝑧</ci><ci id="S3.E10.m1.1.1.1.1.3.4.2.3.5.cmml" xref="S3.E10.m1.1.1.1.1.3.4.2.3.5">𝑒</ci></apply></apply><apply id="S3.E10.m1.1.1.1.1.3.4.3.cmml" xref="S3.E10.m1.1.1.1.1.3.4.3"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3.4.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3.4.3">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.3.4.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.4.3.2">ℒ</ci><apply id="S3.E10.m1.1.1.1.1.3.4.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.4.3.3"><times id="S3.E10.m1.1.1.1.1.3.4.3.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3.4.3.3.1"></times><ci id="S3.E10.m1.1.1.1.1.3.4.3.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.4.3.3.2">𝑠</ci><ci id="S3.E10.m1.1.1.1.1.3.4.3.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.4.3.3.3">𝑖</ci><ci id="S3.E10.m1.1.1.1.1.3.4.3.3.4.cmml" xref="S3.E10.m1.1.1.1.1.3.4.3.3.4">𝑧</ci><ci id="S3.E10.m1.1.1.1.1.3.4.3.3.5.cmml" xref="S3.E10.m1.1.1.1.1.3.4.3.3.5">𝑒</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.1c">\mathcal{L}_{det}=\mathcal{L}_{k}+\lambda_{off}\mathcal{L}_{off}+\lambda_{size}\mathcal{L}_{size},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p11.5" class="ltx_p">where <math id="S3.SS2.p11.4.m1.1" class="ltx_Math" alttext="\lambda_{off}" display="inline"><semantics id="S3.SS2.p11.4.m1.1a"><msub id="S3.SS2.p11.4.m1.1.1" xref="S3.SS2.p11.4.m1.1.1.cmml"><mi id="S3.SS2.p11.4.m1.1.1.2" xref="S3.SS2.p11.4.m1.1.1.2.cmml">λ</mi><mrow id="S3.SS2.p11.4.m1.1.1.3" xref="S3.SS2.p11.4.m1.1.1.3.cmml"><mi id="S3.SS2.p11.4.m1.1.1.3.2" xref="S3.SS2.p11.4.m1.1.1.3.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p11.4.m1.1.1.3.1" xref="S3.SS2.p11.4.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p11.4.m1.1.1.3.3" xref="S3.SS2.p11.4.m1.1.1.3.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p11.4.m1.1.1.3.1a" xref="S3.SS2.p11.4.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p11.4.m1.1.1.3.4" xref="S3.SS2.p11.4.m1.1.1.3.4.cmml">f</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.4.m1.1b"><apply id="S3.SS2.p11.4.m1.1.1.cmml" xref="S3.SS2.p11.4.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p11.4.m1.1.1.1.cmml" xref="S3.SS2.p11.4.m1.1.1">subscript</csymbol><ci id="S3.SS2.p11.4.m1.1.1.2.cmml" xref="S3.SS2.p11.4.m1.1.1.2">𝜆</ci><apply id="S3.SS2.p11.4.m1.1.1.3.cmml" xref="S3.SS2.p11.4.m1.1.1.3"><times id="S3.SS2.p11.4.m1.1.1.3.1.cmml" xref="S3.SS2.p11.4.m1.1.1.3.1"></times><ci id="S3.SS2.p11.4.m1.1.1.3.2.cmml" xref="S3.SS2.p11.4.m1.1.1.3.2">𝑜</ci><ci id="S3.SS2.p11.4.m1.1.1.3.3.cmml" xref="S3.SS2.p11.4.m1.1.1.3.3">𝑓</ci><ci id="S3.SS2.p11.4.m1.1.1.3.4.cmml" xref="S3.SS2.p11.4.m1.1.1.3.4">𝑓</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.4.m1.1c">\lambda_{off}</annotation></semantics></math> and <math id="S3.SS2.p11.5.m2.1" class="ltx_Math" alttext="\lambda_{size}" display="inline"><semantics id="S3.SS2.p11.5.m2.1a"><msub id="S3.SS2.p11.5.m2.1.1" xref="S3.SS2.p11.5.m2.1.1.cmml"><mi id="S3.SS2.p11.5.m2.1.1.2" xref="S3.SS2.p11.5.m2.1.1.2.cmml">λ</mi><mrow id="S3.SS2.p11.5.m2.1.1.3" xref="S3.SS2.p11.5.m2.1.1.3.cmml"><mi id="S3.SS2.p11.5.m2.1.1.3.2" xref="S3.SS2.p11.5.m2.1.1.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p11.5.m2.1.1.3.1" xref="S3.SS2.p11.5.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p11.5.m2.1.1.3.3" xref="S3.SS2.p11.5.m2.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p11.5.m2.1.1.3.1a" xref="S3.SS2.p11.5.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p11.5.m2.1.1.3.4" xref="S3.SS2.p11.5.m2.1.1.3.4.cmml">z</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p11.5.m2.1.1.3.1b" xref="S3.SS2.p11.5.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p11.5.m2.1.1.3.5" xref="S3.SS2.p11.5.m2.1.1.3.5.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.5.m2.1b"><apply id="S3.SS2.p11.5.m2.1.1.cmml" xref="S3.SS2.p11.5.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p11.5.m2.1.1.1.cmml" xref="S3.SS2.p11.5.m2.1.1">subscript</csymbol><ci id="S3.SS2.p11.5.m2.1.1.2.cmml" xref="S3.SS2.p11.5.m2.1.1.2">𝜆</ci><apply id="S3.SS2.p11.5.m2.1.1.3.cmml" xref="S3.SS2.p11.5.m2.1.1.3"><times id="S3.SS2.p11.5.m2.1.1.3.1.cmml" xref="S3.SS2.p11.5.m2.1.1.3.1"></times><ci id="S3.SS2.p11.5.m2.1.1.3.2.cmml" xref="S3.SS2.p11.5.m2.1.1.3.2">𝑠</ci><ci id="S3.SS2.p11.5.m2.1.1.3.3.cmml" xref="S3.SS2.p11.5.m2.1.1.3.3">𝑖</ci><ci id="S3.SS2.p11.5.m2.1.1.3.4.cmml" xref="S3.SS2.p11.5.m2.1.1.3.4">𝑧</ci><ci id="S3.SS2.p11.5.m2.1.1.3.5.cmml" xref="S3.SS2.p11.5.m2.1.1.3.5">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.5.m2.1c">\lambda_{size}</annotation></semantics></math> represent the hyper-parameters to balance the offset, size and keypoint prediction training loss.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiment</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Setup</h3>

<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">In-Domain Experiments.</span> In order to verify the validity of our proposed efficient labeled data factory for automatically producing the images and corresponding object category and bounding box labels, we conduct the in-domain experiments, where our efficient labeled data factory is used to generate the images and object bounding box and category annotations, <em id="S4.SS1.p1.1.2" class="ltx_emph ltx_font_italic">without domain adaptation</em>. Then, the generated images and labels are exploited to train the object detection model, to recognize the object instances on the same or similar domain, <em id="S4.SS1.p1.1.3" class="ltx_emph ltx_font_italic">i.e.,</em> in-domain object detection. More specifically, in our experiment, the object detection model is trained on the natural images and annotations (see Fig. <a href="#S4.F3" title="Figure 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a><span id="S4.SS1.p1.1.4" class="ltx_text" style="color:#FF0000;">c</span>) synthesized by our data factory, and tested on the PASCAL VOC datset.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">SF-FSDA Cross-Domain Experiments.</span> For the purpose of proving the helpfulness of our proposed efficient labeled data factory for domain adaptation, the SF-FSDA cross-domain experiments are explored, where the data factory is trained with the guidance of the <em id="S4.SS1.p2.1.2" class="ltx_emph ltx_font_italic">text</em> and/or the <em id="S4.SS1.p2.1.3" class="ltx_emph ltx_font_italic">few-shot samples</em> from the target domain. Furthermore, the synthesized images and labels are utilized to fine-tune the source domain pretrained object detection model, to adapt the model to the target domain, <em id="S4.SS1.p2.1.4" class="ltx_emph ltx_font_italic">i.e.,</em> SF-FSDA cross-domain object detection. In our experiments, we aim at realizing SF-FSDA, under PASCAL VOC (source) <math id="S4.SS1.p2.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S4.SS1.p2.1.m1.1a"><mo stretchy="false" id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><ci id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">\rightarrow</annotation></semantics></math> Clipart and Comic (target), respectively.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS1.p3.1" class="ltx_p"><span id="S4.SS1.p3.1.1" class="ltx_text ltx_font_bold">Dataset.</span> <em id="S4.SS1.p3.1.2" class="ltx_emph ltx_font_italic">PASCAL VOC</em>: PASCAL VOC 2007 &amp; 2012 datasets <cite class="ltx_cite ltx_citemacro_cite">Everingham et al. (<a href="#bib.bib11" title="" class="ltx_ref">2010</a>)</cite> contain natural objects with manually labeled bounding box and category annotations. In the in-domain experiments, the test set with cat and car objects is utilized to evaluate the performance of the object detection model. In the SF-FSDA cross-domain experiments, the training set including labeled car and cat images is taken as the source domain for training.
<em id="S4.SS1.p3.1.3" class="ltx_emph ltx_font_italic">Clipart1k</em>: Clipart1k dataset <cite class="ltx_cite ltx_citemacro_cite">Inoue et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite> covers clipart images, exhibiting a large domain shift compared to PASCAL VOC dataset. In the SF-FSDA cross-domain experiments, 12 unlabeled images are exploited as the few-shot target samples for training, and the test set containing cat and car objects is taken for the model performance evaluation on SF-FSDA.
<em id="S4.SS1.p3.1.4" class="ltx_emph ltx_font_italic">Comic2k</em>: Comic2k dataset <cite class="ltx_cite ltx_citemacro_cite">Inoue et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite> consists of comic images, indicating a clear domain gap compared to PASCAL VOC dataset. In the SF-FSDA cross-domain experiments, 5 unlabeled images are regarded as the few-shot target domain for training, and the test set containing cat and car objects is adopted for the model performance evaluation on SF-FSDA.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para ltx_noindent">
<p id="S4.SS1.p4.1" class="ltx_p"><span id="S4.SS1.p4.1.1" class="ltx_text ltx_font_bold">Training Details.</span> <em id="S4.SS1.p4.1.2" class="ltx_emph ltx_font_italic">Image Synthesis</em>: The data factory is based on the StyleGAN2 structure and initialized with the publicly available cat and car image synthesis pretrained weights in <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib25" title="" class="ltx_ref">2020b</a>)</cite>. <em id="S4.SS1.p4.1.3" class="ltx_emph ltx_font_italic">Label Synthesis</em>: As the minimum human effort, we manually label 10 synthesized images. <em id="S4.SS1.p4.1.4" class="ltx_emph ltx_font_italic">Source Pretraining and Target Adaptation</em>: The object detection model in the source pretraining and target adaptation stage is based on the Single Shot MultiBox Detector (SSD) <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib37" title="" class="ltx_ref">2016</a>)</cite> model. We synthesize 200 and 250 samples in total in the in-domain and cross-domain experiments, respectively.</p>
</div>
<div id="S4.SS1.p5" class="ltx_para ltx_noindent">
<p id="S4.SS1.p5.1" class="ltx_p"><span id="S4.SS1.p5.1.1" class="ltx_text ltx_font_bold">Baseline Setup.</span> In Table <a href="#S4.T1" title="Table 1 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and Table <a href="#S4.T3" title="Table 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, the “Few-Shot FT” represents that the object detection model is fine-tuned on the few-shot manually-labeled images from our data factory. In Table <a href="#S4.T3" title="Table 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, the “CycleGAN”, “MUNIT” and “CUT” conduct the corresponding image translation methods between the synthesized images from the pretrained StyleGAN2 model and the few-shot target domain images to generate the target domain-like images, and adopt the same annotations generated by our data factory. Oracle performance in Table <a href="#S4.T1" title="Table 1 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> is reached by training the object detection model on the training set of PASCAL VOC. Oracle performance in Table <a href="#S4.T3" title="Table 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> is obtained by <cite class="ltx_cite ltx_citemacro_cite">Inoue et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite> for the traditional domain adaptive object detection, which is not few-shot or source-free.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Experimental Results</h3>

<div id="S4.SS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.p1.1" class="ltx_p">Through the quantitative and qualitative in-domain and SF-FSDA cross-domain experimental results, we show that our proposed model effectively synthesizes the image samples and the corresponding object bounding box and category labels, and mitigates the source and target domain gap through the guidance of text and few-shot target examples.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para ltx_noindent">
<p id="S4.SS2.p2.1" class="ltx_p"><span id="S4.SS2.p2.1.1" class="ltx_text ltx_font_bold">In-Domain Experiments.</span> As shown in Table <a href="#S4.T1" title="Table 1 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and Fig. <a href="#S4.F3" title="Figure 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a><span id="S4.SS2.p2.1.2" class="ltx_text" style="color:#FF0000;">c</span>, our synthesized images and corresponding bounding box labels can be used to train the model for the object detection on the same/similar domain, improving the few-shot object detection performance from 50.86%, 41.57% to 64.37%, 52.73% on the “Cat” and “Car” objects detection, respectively. It opens up a new avenue for the few-shot object detection task, by manually labeling object bounding box in a few images, synthesizing enough image samples and bounding box labels automatically with our proposed efficient labeled data factory, and then training the object detection model with the synthesized images and labels.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>In-domain experiments on PASCAL VOC. The results are reported on average precision (AP).</figcaption>
<table id="S4.T1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.1.1.1" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></th>
<th id="S4.T1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="3">Method</th>
</tr>
<tr id="S4.T1.1.2.2" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T1.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r"><span id="S4.T1.1.2.2.1.1" class="ltx_text" style="background-color:#E6E6E6;">Classes</span></th>
<th id="S4.T1.1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T1.1.2.2.2.1" class="ltx_text" style="background-color:#E6E6E6;">Few-Shot FT</span></th>
<th id="S4.T1.1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T1.1.2.2.3.1" class="ltx_text" style="background-color:#E6E6E6;">Ours</span></th>
<th id="S4.T1.1.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.1.2.2.4.1" class="ltx_text" style="background-color:#E6E6E6;">Oracle</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.1.3.1" class="ltx_tr">
<th id="S4.T1.1.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt">Cat</th>
<td id="S4.T1.1.3.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">50.86</td>
<td id="S4.T1.1.3.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><span id="S4.T1.1.3.1.3.1" class="ltx_text ltx_font_bold">64.37</span></td>
<td id="S4.T1.1.3.1.4" class="ltx_td ltx_align_center ltx_border_tt">86.48</td>
</tr>
<tr id="S4.T1.1.4.2" class="ltx_tr">
<th id="S4.T1.1.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r">Car</th>
<td id="S4.T1.1.4.2.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">41.57</td>
<td id="S4.T1.1.4.2.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S4.T1.1.4.2.3.1" class="ltx_text ltx_font_bold">52.73</span></td>
<td id="S4.T1.1.4.2.4" class="ltx_td ltx_align_center ltx_border_b">72.18</td>
</tr>
</tbody>
</table>
</figure>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Comparison of label generation ways, pseudo label <em id="S4.T2.4.1" class="ltx_emph ltx_font_italic">vs.</em> our data factory, PASCAL VOC<math id="S4.T2.2.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S4.T2.2.m1.1b"><mo stretchy="false" id="S4.T2.2.m1.1.1" xref="S4.T2.2.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T2.2.m1.1c"><ci id="S4.T2.2.m1.1.1.cmml" xref="S4.T2.2.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.m1.1d">\rightarrow</annotation></semantics></math> Clipart.</figcaption>
<table id="S4.T2.5" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.5.1.1" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T2.5.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" colspan="3">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span><span id="S4.T2.5.1.1.1.1" class="ltx_text" style="background-color:#E6E6E6;">                Label Generation</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.5.2.1" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T2.5.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="S4.T2.5.2.1.1.1" class="ltx_text" style="background-color:#E6E6E6;">Class</span></th>
<td id="S4.T2.5.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.5.2.1.2.1" class="ltx_text" style="background-color:#E6E6E6;">Pseudo-Label</span></td>
<td id="S4.T2.5.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.5.2.1.3.1" class="ltx_text" style="background-color:#E6E6E6;">Our Label Synthesis</span></td>
</tr>
<tr id="S4.T2.5.3.2" class="ltx_tr">
<th id="S4.T2.5.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt">Cat</th>
<td id="S4.T2.5.3.2.2" class="ltx_td ltx_align_center ltx_border_tt">25.75</td>
<td id="S4.T2.5.3.2.3" class="ltx_td ltx_align_center ltx_border_tt"><span id="S4.T2.5.3.2.3.1" class="ltx_text ltx_font_bold">32.50</span></td>
</tr>
<tr id="S4.T2.5.4.3" class="ltx_tr">
<th id="S4.T2.5.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r">Car</th>
<td id="S4.T2.5.4.3.2" class="ltx_td ltx_align_center ltx_border_b">53.52</td>
<td id="S4.T2.5.4.3.3" class="ltx_td ltx_align_center ltx_border_b"><span id="S4.T2.5.4.3.3.1" class="ltx_text ltx_font_bold">55.67</span></td>
</tr>
</tbody>
</table>
</figure>
<div id="S4.SS2.p3" class="ltx_para ltx_noindent">
<p id="S4.SS2.p3.3" class="ltx_p"><span id="S4.SS2.p3.3.1" class="ltx_text ltx_font_bold">SF-FSDA Cross-Domain Experiments.</span> In Table <a href="#S4.T3" title="Table 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> and Fig. <a href="#S4.F3" title="Figure 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a><span id="S4.SS2.p3.3.2" class="ltx_text" style="color:#FF0000;">d</span>-<span id="S4.SS2.p3.3.3" class="ltx_text" style="color:#FF0000;">g</span>, the quantitative and qualitative results are shown on the benchmark, PASCAL VOC<math id="S4.SS2.p3.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S4.SS2.p3.1.m1.1a"><mo stretchy="false" id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><ci id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">\rightarrow</annotation></semantics></math> Clipart, Comic, respectively. Taking the PASCAL VOC<math id="S4.SS2.p3.2.m2.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S4.SS2.p3.2.m2.1a"><mo stretchy="false" id="S4.SS2.p3.2.m2.1.1" xref="S4.SS2.p3.2.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m2.1b"><ci id="S4.SS2.p3.2.m2.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m2.1c">\rightarrow</annotation></semantics></math> Clipart benchmark as the example, compared with the pure source baseline, all of the image style adaptation based methods bring performance improvement, verifying the benefits of the style adaptation based methods for narrowing the domain gap. Among the image style adaptation based methods, it is shown that our proposed data factory based method surpasses other image translation based methods, CycleGAN <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib67" title="" class="ltx_ref">2017</a>)</cite>, MUNIT <cite class="ltx_cite ltx_citemacro_cite">Huang et al. (<a href="#bib.bib20" title="" class="ltx_ref">2018</a>)</cite>, and CUT <cite class="ltx_cite ltx_citemacro_cite">Park et al. (<a href="#bib.bib43" title="" class="ltx_ref">2020</a>)</cite>. It proves the advantage of our method for synthesizing the target-domain like image, with the guidance of both the few-shot samples and the text knowledge. Moreover, compared with the few-shot manual annotations, the automatically synthesized annotations can further improve the performance from 30.94%, 52.97% to 32.50%, 55.67%. It verifies the effectiveness of the automatically generated images and annotations for the SF-FSDA problem. Similarly, on the PASCAL VOC<math id="S4.SS2.p3.3.m3.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S4.SS2.p3.3.m3.1a"><mo stretchy="false" id="S4.SS2.p3.3.m3.1.1" xref="S4.SS2.p3.3.m3.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.3.m3.1b"><ci id="S4.SS2.p3.3.m3.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.3.m3.1c">\rightarrow</annotation></semantics></math> Comic benchmark, the effectiveness of our proposed method for SF-FSDA is also validated.</p>
</div>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>SF-FSDA cross-domain experiments.</figcaption>
<table id="S4.T3.2" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T3.2.3.1" class="ltx_tr" style="background-color:#E6E6E6;">
<td id="S4.T3.2.3.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></td>
<td id="S4.T3.2.3.1.2" class="ltx_td ltx_align_center ltx_border_t" colspan="7">Method</td>
</tr>
<tr id="S4.T3.2.4.2" class="ltx_tr" style="background-color:#E6E6E6;">
<td id="S4.T3.2.4.2.1" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.2.4.2.1.1" class="ltx_text" style="background-color:#E6E6E6;">Classes</span></td>
<td id="S4.T3.2.4.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.2.4.2.2.1" class="ltx_text" style="background-color:#E6E6E6;">Source</span></td>
<td id="S4.T3.2.4.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.2.4.2.3.1" class="ltx_text" style="background-color:#E6E6E6;">Few-Shot FT</span></td>
<td id="S4.T3.2.4.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.2.4.2.4.1" class="ltx_text" style="background-color:#E6E6E6;">CycleGAN</span></td>
<td id="S4.T3.2.4.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.2.4.2.5.1" class="ltx_text" style="background-color:#E6E6E6;">MUNIT</span></td>
<td id="S4.T3.2.4.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.2.4.2.6.1" class="ltx_text" style="background-color:#E6E6E6;">CUT</span></td>
<td id="S4.T3.2.4.2.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.2.4.2.7.1" class="ltx_text" style="background-color:#E6E6E6;">Ours</span></td>
<td id="S4.T3.2.4.2.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.2.4.2.8.1" class="ltx_text" style="background-color:#E6E6E6;">Oracle</span></td>
</tr>
<tr id="S4.T3.1.1" class="ltx_tr">
<td id="S4.T3.1.1.1" class="ltx_td ltx_align_center ltx_border_tt" colspan="8">PASCAL VOC <math id="S4.T3.1.1.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S4.T3.1.1.1.m1.1a"><mo stretchy="false" id="S4.T3.1.1.1.m1.1.1" xref="S4.T3.1.1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.m1.1b"><ci id="S4.T3.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.1.1.1.m1.1c">\rightarrow</annotation></semantics></math> Clipart</td>
</tr>
<tr id="S4.T3.2.5.3" class="ltx_tr">
<td id="S4.T3.2.5.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Cat</td>
<td id="S4.T3.2.5.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">17.25</td>
<td id="S4.T3.2.5.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">30.94</td>
<td id="S4.T3.2.5.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">27.01</td>
<td id="S4.T3.2.5.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">21.46</td>
<td id="S4.T3.2.5.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">24.57</td>
<td id="S4.T3.2.5.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.2.5.3.7.1" class="ltx_text ltx_font_bold">32.50</span></td>
<td id="S4.T3.2.5.3.8" class="ltx_td ltx_align_center ltx_border_t">35.07</td>
</tr>
<tr id="S4.T3.2.6.4" class="ltx_tr">
<td id="S4.T3.2.6.4.1" class="ltx_td ltx_align_center ltx_border_r">Car</td>
<td id="S4.T3.2.6.4.2" class="ltx_td ltx_align_center ltx_border_r">43.04</td>
<td id="S4.T3.2.6.4.3" class="ltx_td ltx_align_center ltx_border_r">52.97</td>
<td id="S4.T3.2.6.4.4" class="ltx_td ltx_align_center ltx_border_r">55.11</td>
<td id="S4.T3.2.6.4.5" class="ltx_td ltx_align_center ltx_border_r">54.62</td>
<td id="S4.T3.2.6.4.6" class="ltx_td ltx_align_center ltx_border_r">54.72</td>
<td id="S4.T3.2.6.4.7" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.2.6.4.7.1" class="ltx_text ltx_font_bold">55.67</span></td>
<td id="S4.T3.2.6.4.8" class="ltx_td ltx_align_center">57.38</td>
</tr>
<tr id="S4.T3.2.2" class="ltx_tr">
<td id="S4.T3.2.2.1" class="ltx_td ltx_align_center ltx_border_t" colspan="8">PASCAL VOC <math id="S4.T3.2.2.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S4.T3.2.2.1.m1.1a"><mo stretchy="false" id="S4.T3.2.2.1.m1.1.1" xref="S4.T3.2.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T3.2.2.1.m1.1b"><ci id="S4.T3.2.2.1.m1.1.1.cmml" xref="S4.T3.2.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.2.1.m1.1c">\rightarrow</annotation></semantics></math> Comic</td>
</tr>
<tr id="S4.T3.2.7.5" class="ltx_tr">
<td id="S4.T3.2.7.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Cat</td>
<td id="S4.T3.2.7.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">16.36</td>
<td id="S4.T3.2.7.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">33.01</td>
<td id="S4.T3.2.7.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">23.51</td>
<td id="S4.T3.2.7.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">37.28</td>
<td id="S4.T3.2.7.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">36.81</td>
<td id="S4.T3.2.7.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.2.7.5.7.1" class="ltx_text ltx_font_bold">37.74</span></td>
<td id="S4.T3.2.7.5.8" class="ltx_td ltx_align_center ltx_border_t">39.99</td>
</tr>
<tr id="S4.T3.2.8.6" class="ltx_tr">
<td id="S4.T3.2.8.6.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">Car</td>
<td id="S4.T3.2.8.6.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">39.02</td>
<td id="S4.T3.2.8.6.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">51.05</td>
<td id="S4.T3.2.8.6.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">42.20</td>
<td id="S4.T3.2.8.6.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">41.31</td>
<td id="S4.T3.2.8.6.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">46.68</td>
<td id="S4.T3.2.8.6.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S4.T3.2.8.6.7.1" class="ltx_text ltx_font_bold">54.68</span></td>
<td id="S4.T3.2.8.6.8" class="ltx_td ltx_align_center ltx_border_b">52.76</td>
</tr>
</tbody>
</table>
</figure>
<figure id="S4.T4" class="ltx_table">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span>Ablation study, PASCAL VOC <math id="S4.T4.2.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S4.T4.2.m1.1b"><mo stretchy="false" id="S4.T4.2.m1.1.1" xref="S4.T4.2.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T4.2.m1.1c"><ci id="S4.T4.2.m1.1.1.cmml" xref="S4.T4.2.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.m1.1d">\rightarrow</annotation></semantics></math> Clipart (Cat).</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.T4.st1" class="ltx_table ltx_figure_panel">
<table id="S4.T4.st1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.st1.1.1.1" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T4.st1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="4">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span><span id="S4.T4.st1.1.1.1.1.1" class="ltx_text" style="background-color:#E6E6E6;">      Ablations</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.st1.1.2.1" class="ltx_tr" style="background-color:#E6E6E6;">
<td id="S4.T4.st1.1.2.1.1" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st1.1.2.1.1.1" class="ltx_text" style="background-color:#E6E6E6;">Source</span></td>
<td id="S4.T4.st1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st1.1.2.1.2.1" class="ltx_text" style="background-color:#E6E6E6;">Only Few-Shot</span></td>
<td id="S4.T4.st1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T4.st1.1.2.1.3.1" class="ltx_text" style="background-color:#E6E6E6;">Only Text</span></td>
<td id="S4.T4.st1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st1.1.2.1.4.1" class="ltx_text" style="background-color:#E6E6E6;">Few-shot+Text</span></td>
</tr>
<tr id="S4.T4.st1.1.3.2" class="ltx_tr">
<td id="S4.T4.st1.1.3.2.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_tt">17.25</td>
<td id="S4.T4.st1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_tt">28.24</td>
<td id="S4.T4.st1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_tt">18.60</td>
<td id="S4.T4.st1.1.3.2.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_tt"><span id="S4.T4.st1.1.3.2.4.1" class="ltx_text ltx_font_bold">32.50</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">(a) </span>Ablation study for the text and few-shot images guidance from the target domain, measured with AP performance on Clipart.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.T4.st2" class="ltx_table ltx_figure_panel">
<table id="S4.T4.st2.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.st2.3.1.1" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T4.st2.3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="2">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span><span id="S4.T4.st2.3.1.1.1.1" class="ltx_text" style="background-color:#E6E6E6;">                Ablations</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.st2.3.2.1" class="ltx_tr" style="background-color:#E6E6E6;">
<td id="S4.T4.st2.3.2.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T4.st2.3.2.1.1.1" class="ltx_text" style="background-color:#E6E6E6;">w/o freezing</span></td>
<td id="S4.T4.st2.3.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st2.3.2.1.2.1" class="ltx_text" style="background-color:#E6E6E6;">w freezing</span></td>
</tr>
<tr id="S4.T4.st2.3.3.2" class="ltx_tr">
<td id="S4.T4.st2.3.3.2.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_tt">0.64</td>
<td id="S4.T4.st2.3.3.2.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_tt"><span id="S4.T4.st2.3.3.2.2.1" class="ltx_text ltx_font_bold">0.68</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">(b) </span>Ablation study for freezing strategy during image synthesis training, measured with the LPIPS distance <cite class="ltx_cite ltx_citemacro_cite">Ojha et al. (<a href="#bib.bib42" title="" class="ltx_ref">2021</a>)</cite>(<math id="S4.T4.st2.2.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T4.st2.2.m1.1b"><mo stretchy="false" id="S4.T4.st2.2.m1.1.1" xref="S4.T4.st2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T4.st2.2.m1.1c"><ci id="S4.T4.st2.2.m1.1.1.cmml" xref="S4.T4.st2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.st2.2.m1.1d">\uparrow</annotation></semantics></math>).</figcaption>
</figure>
</div>
</div>
</figure>
<figure id="S4.F3" class="ltx_figure"><img src="/html/2306.04385/assets/x3.png" id="S4.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="500" height="217" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>(a)-(b) are the exemplar images from the Clipart1k and Comic2k dataset. (c) are the synthesized images from the publicly available pretrained GAN weights, without conducting domain adaptation and used in Table <a href="#S4.T1" title="Table 1 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. It is notable that our data factory does not have the requirement of on which style images the GAN model is pretrained, and we just adopt the publicly available pretrained weights provided in <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib25" title="" class="ltx_ref">2020b</a>)</cite>. (d) are the synthesized image and annotations from our proposed data factory in Table <a href="#S4.T3" title="Table 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. (e)-(g) are the results generated by other image translation methods in Table <a href="#S4.T3" title="Table 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. (h)-(j) are the ablations for guidance as in Table <a href="#S4.T4.st1" title="In Table 4 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(a)</span></a>. (k)-(l) are the ablations w/ and w/o freezing strategy as in Table <a href="#S4.T4.st2" title="In Table 4 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(b)</span></a>.</figcaption>
</figure>
<div id="S4.SS2.p4" class="ltx_para ltx_noindent">
<p id="S4.SS2.p4.1" class="ltx_p"><span id="S4.SS2.p4.1.1" class="ltx_text ltx_font_bold">Ablation Study.</span> In our proposed efficient labeled data factory for SF-FSDA, the style of the generated samples is guided by the few-shot image samples and/or the text guidance. In order to explore the effect of different types of guidance, we compare the performance of different ablations of the full model. From the quantitative comparison in Table <a href="#S4.T4.st1" title="In Table 4 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(a)</span></a>, it is shown that both the few-shot samples and text guidance contribute to the final image synthesis results. From the qualitative results shown in Fig. <a href="#S4.F3" title="Figure 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a><span id="S4.SS2.p4.1.2" class="ltx_text" style="color:#FF0000;">h</span>-<span id="S4.SS2.p4.1.3" class="ltx_text" style="color:#FF0000;">j</span>, taking the “comic” style as the example, the text guidance provides the general knowledge on what the “comic” images look like, while the few-shot images guidance indicates how the “comic” images are on the target domain. Moreover, the text knowledge from the target domain prevents overfitting to the few-shot samples. On the other hand, it is proven that our model is flexible, still reaching effective synthesis results even when one of the text and few-shot samples guidance is not available. Moreover, the ablation study on the freezing strategy during training is conducted, which is shown in Fig. <a href="#S4.F3" title="Figure 3 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a><span id="S4.SS2.p4.1.4" class="ltx_text" style="color:#FF0000;">k</span>-<span id="S4.SS2.p4.1.5" class="ltx_text" style="color:#FF0000;">l</span> and Table <a href="#S4.T4.st2" title="In Table 4 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(b)</span></a>. It is shown that the freezing strategy for the image synthesis training can help prevent overfitting to the few-shot samples in the target domain and preserve the diversity of the image synthesis results.</p>
</div>
<div id="S4.SS2.p5" class="ltx_para ltx_noindent">
<p id="S4.SS2.p5.1" class="ltx_p"><span id="S4.SS2.p5.1.1" class="ltx_text ltx_font_bold">Source Domain Pretraining.</span>
To investigate the impact of a source domain pretrained object detection model on SF-FSDA, we conducted a comparison of the SF-FSDA performance with and without the pretrained model for the cat of PASCAL VOC<math id="S4.SS2.p5.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S4.SS2.p5.1.m1.1a"><mo stretchy="false" id="S4.SS2.p5.1.m1.1.1" xref="S4.SS2.p5.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.1.m1.1b"><ci id="S4.SS2.p5.1.m1.1.1.cmml" xref="S4.SS2.p5.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.1.m1.1c">\rightarrow</annotation></semantics></math>Clipart dataset. For the experiment with pretrained model, the pretrained object detection model on source domain is fine-tuned with our generated images and labels on the target domain as done in Sec. <a href="#S3.SS2" title="3.2 Efficient Labeled Data Factory for SF-FSDA Problem ‣ 3 Method ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>. For the experiment without pretrained model, the object detection model is trained from scratch with our generated images and labels on the target domain. Our results show that the SF-FSDA performance significantly improves with the use of a pretrained model from a large-scale source domain, yielding 32.50% accuracy with source pretrained compared to 17.74% without source pretrained. This suggests that leveraging a pretrained model from a relevant large-scale source domain can provide substantial benefits for the success of SF-FSDA.</p>
</div>
<div id="S4.SS2.p6" class="ltx_para ltx_noindent">
<p id="S4.SS2.p6.1" class="ltx_p"><span id="S4.SS2.p6.1.1" class="ltx_text ltx_font_bold">Number of Synthesized Image Samples Study.</span> In order to figure out the effect of the number of synthesized images and annotations from the efficient labeled data factory, the object detection performance with different numbers of synthesized images and samples are shown in Fig. <a href="#S4.F4" title="Figure 4 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. It is shown that the object detection performance improves as more images and annotations are synthesized.</p>
</div>
<div id="S4.SS2.p7" class="ltx_para ltx_noindent">
<p id="S4.SS2.p7.1" class="ltx_p"><span id="S4.SS2.p7.1.1" class="ltx_text ltx_font_bold">Pseudo Label <em id="S4.SS2.p7.1.1.1" class="ltx_emph ltx_font_italic">vs.</em> Our Label Synthesis.</span> Under the cross-domain experiments setting, an alternative way to our label synthesis through the efficient labeled data factory is to apply the source domain pretrained object detection model on our synthesized images to generate the pseudo-label. In Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, the pseudo-label and the label synthesis with our efficient labeled data factory ways for label generation are compared. It is shown that our synthesized label with the data factory performs better than the pseudo-label for the SF-FSDA problem. It is because the pseudo-label is noisy and of low quality, resulting from the difference between the source domain and the synthesized images and the source-free condition. In contrast, our efficient labeled data factory synthesizes the annotation with the help of the image synthesis and few-shot manual annotations, bringing high-quality automatic annotations.</p>
</div>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2306.04385/assets/x4.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="136" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Left: Object detection performance with different numbers of synthesized images and annotations, under the setting of Table <a href="#S4.T1" title="Table 1 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Right: Synthesized images quality comparison between our proposed data factory and other image translation based methods, measured with FID score (<math id="S4.F4.2.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.F4.2.m1.1b"><mo stretchy="false" id="S4.F4.2.m1.1.1" xref="S4.F4.2.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.F4.2.m1.1c"><ci id="S4.F4.2.m1.1.1.cmml" xref="S4.F4.2.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.2.m1.1d">\downarrow</annotation></semantics></math>).</figcaption>
</figure>
<div id="S4.SS2.p8" class="ltx_para ltx_noindent">
<p id="S4.SS2.p8.1" class="ltx_p"><span id="S4.SS2.p8.1.1" class="ltx_text ltx_font_bold">Multiple Objects in a Single Image.</span>
In order to further prove the effectiveness of our proposed method for the scenario that there are multiple objects in a single image, we conduct the experiment where the indoor scene images are synthesized and the corresponding “window” and “bed” objects label are generated. The qualitative experimental results are shown in Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. It is shown that our method can effectively synthesize and label the image where multiple objects appear in a single scene.</p>
</div>
<div id="S4.SS2.p9" class="ltx_para ltx_noindent">
<p id="S4.SS2.p9.1" class="ltx_p"><span id="S4.SS2.p9.1.1" class="ltx_text ltx_font_bold">Manual Label Number Study.</span>
In order to study the influence of the manual label number for training label synthesis branch, we change the manual label number and train the efficient labeled data factory on the cat category, whose label synthesized results are shown in Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.2 Experimental Results ‣ 4 Experiment ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. It is proven that increasing manual label number for training label synthesis branch helps generate more precise bounding box and detect more accurate objects.</p>
</div>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2306.04385/assets/x5.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="72" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>(a) Multiple objects “window” and “bed” are synthesized and labeled in a single indoor scene image. (b) Manual label number for training label synthesis branch study. It is observed that increasing manual label number for training label synthesis branch helps generate more precise bounding box and detect more accurate objects.</figcaption>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para ltx_noindent">
<p id="S5.p1.1" class="ltx_p">We propose and tackle the SF-FSDA problem, which studies the domain adaptive object detection problem under <em id="S5.p1.1.1" class="ltx_emph ltx_font_italic">source-free</em> and <em id="S5.p1.1.2" class="ltx_emph ltx_font_italic">few-shot</em> conditions. In order to overcome the problem, we present a new efficient labeled data factory based method, which can synthesize the infinite target domain-like images and corresponding annotations without relying on the source domain. The image synthesis branch is guided by the few-shot image samples and text from the target domain, and the image annotation branch only requires the minimum human effort (<em id="S5.p1.1.3" class="ltx_emph ltx_font_italic">i.e</em>.<span id="S5.p1.1.4" class="ltx_text"></span>, few-shot manual labels) to generalize the label to the rest of the synthesized images. The synthesized target domain-like images and annotations are further utilized to fine-tune the source domain pretrained object detection model. The proposed approach is validated in various settings and surpasses other methods, demonstrating its effectiveness for SF-FSDA problem.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bau et al. (2021)</span>
<span class="ltx_bibblock">
David Bau, Alex Andonian, Audrey Cui, YeonHwan Park, Ali Jahanian, Aude Oliva,
and Antonio Torralba.

</span>
<span class="ltx_bibblock">Paint by word.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2103.10951</em>, 2021.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bhattacharjee et al. (2020)</span>
<span class="ltx_bibblock">
Deblina Bhattacharjee, Seungryong Kim, Guillaume Vizier, and Mathieu Salzmann.

</span>
<span class="ltx_bibblock">Dunit: Detection-based unsupervised image-to-image translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2020.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brock et al. (2018)</span>
<span class="ltx_bibblock">
Andrew Brock, Jeff Donahue, and Karen Simonyan.

</span>
<span class="ltx_bibblock">Large scale gan training for high fidelity natural image synthesis.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1809.11096</em>, 2018.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carion et al. (2020)</span>
<span class="ltx_bibblock">
Nicolas Carion, Francisco Massa, Gabriel Synnaeve, Nicolas Usunier, Alexander
Kirillov, and Sergey Zagoruyko.

</span>
<span class="ltx_bibblock">End-to-end object detection with transformers.

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2020.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Castrejon et al. (2016)</span>
<span class="ltx_bibblock">
Lluis Castrejon, Yusuf Aytar, Carl Vondrick, Hamed Pirsiavash, and Antonio
Torralba.

</span>
<span class="ltx_bibblock">Learning aligned cross-modal representations from weakly aligned
data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2016.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2018)</span>
<span class="ltx_bibblock">
Yuhua Chen, Wen Li, Christos Sakaridis, Dengxin Dai, and Luc Van Gool.

</span>
<span class="ltx_bibblock">Domain adaptive faster r-cnn for object detection in the wild.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2018.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Collins et al. (2020)</span>
<span class="ltx_bibblock">
Edo Collins, Raja Bala, Bob Price, and Sabine Susstrunk.

</span>
<span class="ltx_bibblock">Editing in style: Uncovering the local semantics of gans.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2020.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng et al. (2009)</span>
<span class="ltx_bibblock">
Jia Deng, Wei Dong, Richard Socher, Li-Jia Li, Kai Li, and Li Fei-Fei.

</span>
<span class="ltx_bibblock">Imagenet: A large-scale hierarchical image database.

</span>
<span class="ltx_bibblock">In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2009.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng et al. (2021)</span>
<span class="ltx_bibblock">
Jinhong Deng, Wen Li, Yuhua Chen, and Lixin Duan.

</span>
<span class="ltx_bibblock">Unbiased mean teacher for cross-domain object detection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2021.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dhamo et al. (2020)</span>
<span class="ltx_bibblock">
Helisa Dhamo, Azade Farshad, Iro Laina, Nassir Navab, Gregory D Hager, Federico
Tombari, and Christian Rupprecht.

</span>
<span class="ltx_bibblock">Semantic image manipulation using scene graphs.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2020.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Everingham et al. (2010)</span>
<span class="ltx_bibblock">
Mark Everingham, Luc Van Gool, Christopher KI Williams, John Winn, and Andrew
Zisserman.

</span>
<span class="ltx_bibblock">The pascal visual object classes (voc) challenge.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">IJCV</em>, 88(2):303–338, 2010.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gal et al. (2021)</span>
<span class="ltx_bibblock">
Rinon Gal, Or Patashnik, Haggai Maron, Gal Chechik, and Daniel Cohen-Or.

</span>
<span class="ltx_bibblock">Stylegan-nada: Clip-guided domain adaptation of image generators,
2021.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ganin &amp; Lempitsky (2015)</span>
<span class="ltx_bibblock">
Yaroslav Ganin and Victor Lempitsky.

</span>
<span class="ltx_bibblock">Unsupervised domain adaptation by backpropagation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">ICML</em>, 2015.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2019)</span>
<span class="ltx_bibblock">
Hongchang Gao, Jian Pei, and Heng Huang.

</span>
<span class="ltx_bibblock">Progan: Network embedding via proximity generative adversarial
network.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">SIGKDD</em>, 2019.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gong et al. (2012)</span>
<span class="ltx_bibblock">
Boqing Gong, Yuan Shi, Fei Sha, and Kristen Grauman.

</span>
<span class="ltx_bibblock">Geodesic flow kernel for unsupervised domain adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2012.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Goodfellow et al. (2014)</span>
<span class="ltx_bibblock">
Ian Goodfellow, Jean Pouget-Abadie, Mehdi Mirza, Bing Xu, David Warde-Farley,
Sherjil Ozair, Aaron Courville, and Yoshua Bengio.

</span>
<span class="ltx_bibblock">Generative adversarial nets.

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2014.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hoffman et al. (2018)</span>
<span class="ltx_bibblock">
Judy Hoffman, Eric Tzeng, Taesung Park, Jun-Yan Zhu, Phillip Isola, Kate
Saenko, Alexei Efros, and Trevor Darrell.

</span>
<span class="ltx_bibblock">Cycada: Cycle-consistent adversarial domain adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">ICML</em>, 2018.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hsu et al. (2020a)</span>
<span class="ltx_bibblock">
Cheng-Chun Hsu, Yi-Hsuan Tsai, Yen-Yu Lin, and Ming-Hsuan Yang.

</span>
<span class="ltx_bibblock">Every pixel matters: Center-aware feature alignment for domain
adaptive object detector.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2020a.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hsu et al. (2020b)</span>
<span class="ltx_bibblock">
Han-Kai Hsu, Chun-Han Yao, Yi-Hsuan Tsai, Wei-Chih Hung, Hung-Yu Tseng, Maneesh
Singh, and Ming-Hsuan Yang.

</span>
<span class="ltx_bibblock">Progressive domain adaptation for object detection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">WACV</em>, 2020b.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2018)</span>
<span class="ltx_bibblock">
Xun Huang, Ming-Yu Liu, Serge Belongie, and Jan Kautz.

</span>
<span class="ltx_bibblock">Multimodal unsupervised image-to-image translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2018.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Inoue et al. (2018)</span>
<span class="ltx_bibblock">
Naoto Inoue, Ryosuke Furuta, Toshihiko Yamasaki, and Kiyoharu Aizawa.

</span>
<span class="ltx_bibblock">Cross-domain weakly-supervised object detection through progressive
domain adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2018.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Isola et al. (2017)</span>
<span class="ltx_bibblock">
Phillip Isola, Jun-Yan Zhu, Tinghui Zhou, and Alexei A Efros.

</span>
<span class="ltx_bibblock">Image-to-image translation with conditional adversarial networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2017.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karras et al. (2019)</span>
<span class="ltx_bibblock">
Tero Karras, Samuli Laine, and Timo Aila.

</span>
<span class="ltx_bibblock">A style-based generator architecture for generative adversarial
networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2019.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karras et al. (2020a)</span>
<span class="ltx_bibblock">
Tero Karras, Miika Aittala, Janne Hellsten, Samuli Laine, Jaakko Lehtinen, and
Timo Aila.

</span>
<span class="ltx_bibblock">Training generative adversarial networks with limited data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020a.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karras et al. (2020b)</span>
<span class="ltx_bibblock">
Tero Karras, Samuli Laine, Miika Aittala, Janne Hellsten, Jaakko Lehtinen, and
Timo Aila.

</span>
<span class="ltx_bibblock">Analyzing and improving the image quality of StyleGAN.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2020b.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karras et al. (2021)</span>
<span class="ltx_bibblock">
Tero Karras, Miika Aittala, Samuli Laine, Erik Härkönen, Janne
Hellsten, Jaakko Lehtinen, and Timo Aila.

</span>
<span class="ltx_bibblock">Alias-free generative adversarial networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2021.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khodabandeh et al. (2019)</span>
<span class="ltx_bibblock">
Mehran Khodabandeh, Arash Vahdat, Mani Ranjbar, and William G Macready.

</span>
<span class="ltx_bibblock">A robust learning approach to domain adaptive object detection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2019.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et al. (2019)</span>
<span class="ltx_bibblock">
Seunghyeon Kim, Jaehoon Choi, Taekyung Kim, and Changick Kim.

</span>
<span class="ltx_bibblock">Self-training and adversarial background regularization for
unsupervised domain adaptive one-stage object detection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2019.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kundu et al. (2020a)</span>
<span class="ltx_bibblock">
Jogendra Nath Kundu, Naveen Venkat, R Venkatesh Babu, et al.

</span>
<span class="ltx_bibblock">Universal source-free domain adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2020a.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kundu et al. (2020b)</span>
<span class="ltx_bibblock">
Jogendra Nath Kundu, Naveen Venkat, Ambareesh Revanur, Rahul M V, and
R. Venkatesh Babu.

</span>
<span class="ltx_bibblock">Towards inheritable models for open-set domain adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2020b.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kundu et al. (2021)</span>
<span class="ltx_bibblock">
Jogendra Nath Kundu, Akshay Kulkarni, Amit Singh, Varun Jampani, and
R Venkatesh Babu.

</span>
<span class="ltx_bibblock">Generalize then adapt: Source-free domain adaptive semantic
segmentation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2021.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020a)</span>
<span class="ltx_bibblock">
Bowen Li, Xiaojuan Qi, Thomas Lukasiewicz, and Philip HS Torr.

</span>
<span class="ltx_bibblock">Manigan: Text-guided image manipulation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2020a.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020b)</span>
<span class="ltx_bibblock">
Xianfeng Li, Weijie Chen, Di Xie, Shicai Yang, Peng Yuan, Shiliang Pu, and
Yueting Zhuang.

</span>
<span class="ltx_bibblock">A free lunch for unsupervised domain adaptive object detection
without source data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">AAAI</em>, 2020b.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2018)</span>
<span class="ltx_bibblock">
Tsung-Yi Lin, Priya Goyal, Ross Girshick, Kaiming He, and Piotr Dollár.

</span>
<span class="ltx_bibblock">Focal loss for dense object detection, 2018.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ling et al. (2021)</span>
<span class="ltx_bibblock">
Huan Ling, Karsten Kreis, Daiqing Li, Seung Wook Kim, Antonio Torralba, and
Sanja Fidler.

</span>
<span class="ltx_bibblock">Editgan: High-precision semantic image editing.

</span>
<span class="ltx_bibblock">In <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2021.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2019)</span>
<span class="ltx_bibblock">
Ming-Yu Liu, Xun Huang, Arun Mallya, Tero Karras, Timo Aila, Jaakko Lehtinen,
and Jan Kautz.

</span>
<span class="ltx_bibblock">Few-shot unsupervised image-to-image translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2019.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2016)</span>
<span class="ltx_bibblock">
Wei Liu, Dragomir Anguelov, Dumitru Erhan, Christian Szegedy, Scott Reed,
Cheng-Yang Fu, and Alexander C Berg.

</span>
<span class="ltx_bibblock">Ssd: Single shot multibox detector.

</span>
<span class="ltx_bibblock">In <em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2016.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. (2020)</span>
<span class="ltx_bibblock">
Yawei Luo, Ping Liu, Tao Guan, Junqing Yu, and Yi Yang.

</span>
<span class="ltx_bibblock">Adversarial style mining for one-shot unsupervised domain adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al. (2019)</span>
<span class="ltx_bibblock">
Liqian Ma, Xu Jia, Stamatios Georgoulis, Tinne Tuytelaars, and Luc Van Gool.

</span>
<span class="ltx_bibblock">Exemplar guided unsupervised image-to-image translation with semantic
consistency.

</span>
<span class="ltx_bibblock">In <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2019.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Motiian et al. (2017)</span>
<span class="ltx_bibblock">
Saeid Motiian, Quinn Jones, Seyed Iranmanesh, and Gianfranco Doretto.

</span>
<span class="ltx_bibblock">Few-shot adversarial domain adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2017.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Munir et al. (2021)</span>
<span class="ltx_bibblock">
Muhammad Akhtar Munir, Muhammad Haris Khan, M Sarfraz, and Mohsen Ali.

</span>
<span class="ltx_bibblock">Ssal: Synergizing between self-training and adversarial learning for
domain adaptive object detection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2021.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ojha et al. (2021)</span>
<span class="ltx_bibblock">
Utkarsh Ojha, Yijun Li, Jingwan Lu, Alexei A Efros, Yong Jae Lee, Eli
Shechtman, and Richard Zhang.

</span>
<span class="ltx_bibblock">Few-shot image generation via cross-domain correspondence.

</span>
<span class="ltx_bibblock">In <em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2021.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Park et al. (2020)</span>
<span class="ltx_bibblock">
Taesung Park, Alexei A Efros, Richard Zhang, and Jun-Yan Zhu.

</span>
<span class="ltx_bibblock">Contrastive learning for unpaired image-to-image translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2020.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Patashnik et al. (2021a)</span>
<span class="ltx_bibblock">
Or Patashnik, Zongze Wu, Eli Shechtman, Daniel Cohen-Or, and Dani Lischinski.

</span>
<span class="ltx_bibblock">Styleclip: Text-driven manipulation of stylegan imagery.

</span>
<span class="ltx_bibblock">In <em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2021a.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Patashnik et al. (2021b)</span>
<span class="ltx_bibblock">
Or Patashnik, Zongze Wu, Eli Shechtman, Daniel Cohen-Or, and Dani Lischinski.

</span>
<span class="ltx_bibblock">Styleclip: Text-driven manipulation of stylegan imagery.

</span>
<span class="ltx_bibblock">In <em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2021b.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2021)</span>
<span class="ltx_bibblock">
Alec Radford, Jong Wook Kim, Chris Hallacy, Aditya Ramesh, Gabriel Goh,
Sandhini Agarwal, Girish Sastry, Amanda Askell, Pamela Mishkin, Jack Clark,
et al.

</span>
<span class="ltx_bibblock">Learning transferable visual models from natural language
supervision.

</span>
<span class="ltx_bibblock">In <em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">ICML</em>, 2021.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ramamonjison et al. (2021)</span>
<span class="ltx_bibblock">
Rindra Ramamonjison, Amin Banitalebi-Dehkordi, Xinyu Kang, Xiaolong Bai, and
Yong Zhang.

</span>
<span class="ltx_bibblock">Simrod: A simple adaptation method for robust object detection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib47.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2021.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Redmon et al. (2016)</span>
<span class="ltx_bibblock">
Joseph Redmon, Santosh Divvala, Ross Girshick, and Ali Farhadi.

</span>
<span class="ltx_bibblock">You only look once: Unified, real-time object detection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib48.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2016.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ren et al. (2015)</span>
<span class="ltx_bibblock">
Shaoqing Ren, Kaiming He, Ross Girshick, and Jian Sun.

</span>
<span class="ltx_bibblock">Faster r-cnn: Towards real-time object detection with region proposal
networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib49.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2015.

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rezaeianaran et al. (2021)</span>
<span class="ltx_bibblock">
Farzaneh Rezaeianaran, Rakshith Shetty, Rahaf Aljundi, Daniel Olmeda Reino,
Shanshan Zhang, and Bernt Schiele.

</span>
<span class="ltx_bibblock">Seeking similarities over differences: Similarity-based domain
alignment for adaptive object detection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib50.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2021.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">RoyChowdhury et al. (2019)</span>
<span class="ltx_bibblock">
Aruni RoyChowdhury, Prithvijit Chakrabarty, Ashish Singh, SouYoung Jin, Huaizu
Jiang, Liangliang Cao, and Erik Learned-Miller.

</span>
<span class="ltx_bibblock">Automatic adaptation of object detectors to new domains using
self-training.

</span>
<span class="ltx_bibblock">In <em id="bib.bib51.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2019.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saito et al. (2019)</span>
<span class="ltx_bibblock">
Kuniaki Saito, Yoshitaka Ushiku, Tatsuya Harada, and Kate Saenko.

</span>
<span class="ltx_bibblock">Strong-weak distribution alignment for adaptive object detection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib52.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2019.

</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saito et al. (2020)</span>
<span class="ltx_bibblock">
Kuniaki Saito, Kate Saenko, and Ming-Yu Liu.

</span>
<span class="ltx_bibblock">Coco-funit: Few-shot unsupervised image translation with a content
conditioned style encoder.

</span>
<span class="ltx_bibblock">In <em id="bib.bib53.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2020.

</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tranheden et al. (2021)</span>
<span class="ltx_bibblock">
Wilhelm Tranheden, Viktor Olsson, Juliano Pinto, and Lennart Svensson.

</span>
<span class="ltx_bibblock">Dacs: Domain adaptation via cross-domain mixed sampling.

</span>
<span class="ltx_bibblock">In <em id="bib.bib54.1.1" class="ltx_emph ltx_font_italic">WACV</em>, 2021.

</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tsai et al. (2018)</span>
<span class="ltx_bibblock">
Y.-H. Tsai, W.-C. Hung, S. Schulter, K. Sohn, M.-H. Yang, and M. Chandraker.

</span>
<span class="ltx_bibblock">Learning to adapt structured output space for semantic segmentation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib55.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2018.

</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tzeng et al. (2017)</span>
<span class="ltx_bibblock">
Eric Tzeng, Judy Hoffman, Kate Saenko, and Trevor Darrell.

</span>
<span class="ltx_bibblock">Adversarial discriminative domain adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib56.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2017.

</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">VS et al. (2021)</span>
<span class="ltx_bibblock">
Vibashan VS, Vikram Gupta, Poojan Oza, Vishwanath A Sindagi, and Vishal M
Patel.

</span>
<span class="ltx_bibblock">Mega-cda: Memory guided attention for category-aware unsupervised
domain adaptive object detection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib57.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2021.

</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vu et al. (2019)</span>
<span class="ltx_bibblock">
Tuan-Hung Vu, Himalaya Jain, Maxime Bucher, Mathieu Cord, and Patrick
Pérez.

</span>
<span class="ltx_bibblock">Advent: Adversarial entropy minimization for domain adaptation in
semantic segmentation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib58.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2019.

</span>
</li>
<li id="bib.bib59" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2019)</span>
<span class="ltx_bibblock">
Tao Wang, Xiaopeng Zhang, Li Yuan, and Jiashi Feng.

</span>
<span class="ltx_bibblock">Few-shot adaptive faster r-cnn.

</span>
<span class="ltx_bibblock">In <em id="bib.bib59.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2019.

</span>
</li>
<li id="bib.bib60" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wilber et al. (2017)</span>
<span class="ltx_bibblock">
Michael J Wilber, Chen Fang, Hailin Jin, Aaron Hertzmann, John Collomosse, and
Serge Belongie.

</span>
<span class="ltx_bibblock">Bam! the behance artistic media dataset for recognition beyond
photography.

</span>
<span class="ltx_bibblock">In <em id="bib.bib60.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2017.

</span>
</li>
<li id="bib.bib61" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2021)</span>
<span class="ltx_bibblock">
Qilong Wu, Xiangyu Yue, and Alberto Sangiovanni-Vincentelli.

</span>
<span class="ltx_bibblock">Domain-agnostic test-time adaptation by prototypical training with
auxiliary data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib61.1.1" class="ltx_emph ltx_font_italic">NeurIPS Workshop</em>, 2021.

</span>
</li>
<li id="bib.bib62" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2021)</span>
<span class="ltx_bibblock">
Shiqi Yang, Yaxing Wang, Joost van de Weijer, Luis Herranz, and Shangling Jui.

</span>
<span class="ltx_bibblock">Generalized source-free domain adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib62.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2021.

</span>
</li>
<li id="bib.bib63" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yue et al. (2019)</span>
<span class="ltx_bibblock">
Xiangyu Yue, Yang Zhang, Sicheng Zhao, Alberto Sangiovanni-Vincentelli, Kurt
Keutzer, and Boqing Gong.

</span>
<span class="ltx_bibblock">Domain randomization and pyramid consistency: Simulation-to-real
generalization without accessing target domain data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib63.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2019.

</span>
</li>
<li id="bib.bib64" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2018)</span>
<span class="ltx_bibblock">
Han Zhang, Tao Xu, Hongsheng Li, Shaoting Zhang, Xiaogang Wang, Xiaolei Huang,
and Dimitris N Metaxas.

</span>
<span class="ltx_bibblock">Stackgan++: Realistic image synthesis with stacked generative
adversarial networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib64.1.1" class="ltx_emph ltx_font_italic">TPAMI</em>, 41(8):1947–1962, 2018.

</span>
</li>
<li id="bib.bib65" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2021)</span>
<span class="ltx_bibblock">
Yuxuan Zhang, Huan Ling, Jun Gao, Kangxue Yin, Jean-Francois Lafleche, Adela
Barriuso, Antonio Torralba, and Sanja Fidler.

</span>
<span class="ltx_bibblock">Datasetgan: Efficient labeled data factory with minimal human effort.

</span>
<span class="ltx_bibblock">In <em id="bib.bib65.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2021.

</span>
</li>
<li id="bib.bib66" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al. (2019)</span>
<span class="ltx_bibblock">
Xingyi Zhou, Dequan Wang, and Philipp Krähenbühl.

</span>
<span class="ltx_bibblock">Objects as points, 2019.

</span>
</li>
<li id="bib.bib67" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. (2017)</span>
<span class="ltx_bibblock">
Jun-Yan Zhu, Taesung Park, Phillip Isola, and Alexei A Efros.

</span>
<span class="ltx_bibblock">Unpaired image-to-image translation using cycle-consistent
adversarial networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib67.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2017.

</span>
</li>
<li id="bib.bib68" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. (2021)</span>
<span class="ltx_bibblock">
Peihao Zhu, Rameen Abdal, John Femiani, and Peter Wonka.

</span>
<span class="ltx_bibblock">Mind the gap: Domain gap control for single shot domain adaptation
for generative adversarial networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib68.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.08398</em>, 2021.

</span>
</li>
</ul>
</section>
<section id="Ax1" class="ltx_appendix">
<h2 class="ltx_title ltx_font_bold ltx_title_appendix">Appendix</h2>

<div id="Ax1.p1" class="ltx_para ltx_noindent">
<p id="Ax1.p1.1" class="ltx_p">In this supplementary material, we provide the additional information for,</p>
<ul id="Ax1.I1" class="ltx_itemize">
<li id="Ax1.I1.ix1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="Ax1.I1.ix1.1.1.1" class="ltx_text ltx_font_bold">A</span></span> 
<div id="Ax1.I1.ix1.p1" class="ltx_para">
<p id="Ax1.I1.ix1.p1.1" class="ltx_p">detailed framework implementation and training parameters,</p>
</div>
</li>
<li id="Ax1.I1.ix2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="Ax1.I1.ix2.1.1.1" class="ltx_text ltx_font_bold">B</span></span> 
<div id="Ax1.I1.ix2.p1" class="ltx_para">
<p id="Ax1.I1.ix2.p1.1" class="ltx_p">detailed information about datasets involved in the experiments,</p>
</div>
</li>
<li id="Ax1.I1.ix3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="Ax1.I1.ix3.1.1.1" class="ltx_text ltx_font_bold">C</span></span> 
<div id="Ax1.I1.ix3.p1" class="ltx_para">
<p id="Ax1.I1.ix3.p1.1" class="ltx_p">additional qualitative experimental results,</p>
</div>
</li>
<li id="Ax1.I1.ix4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="Ax1.I1.ix4.1.1.1" class="ltx_text ltx_font_bold">D</span></span> 
<div id="Ax1.I1.ix4.p1" class="ltx_para ltx_noindent">
<p id="Ax1.I1.ix4.p1.1" class="ltx_p">additional quantitative experimental results.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Framework Implementation</h2>

<div id="A1.p1" class="ltx_para ltx_noindent">
<p id="A1.p1.1" class="ltx_p">This section provides detailed implementation of the image synthesis and label synthesis branches of our proposed efficient labeled data factory, and their corresponding training details.</p>
</div>
<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Image Synthesis Branch</h3>

<div id="A1.SS1.p1" class="ltx_para ltx_noindent">
<p id="A1.SS1.p1.1" class="ltx_p"><span id="A1.SS1.p1.1.1" class="ltx_text ltx_font_bold">Network Structure.</span>
The network is built upon the structure of StyleGAN2 <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib25" title="" class="ltx_ref">2020b</a>)</cite>,
with additional dual-generator and dual-discriminator design to incorporate extra text guidance and relaxed realism strategy for avoiding overfitting to few-shot image samples from the target domain.</p>
</div>
<div id="A1.SS1.p2" class="ltx_para ltx_noindent">
<p id="A1.SS1.p2.3" class="ltx_p">To bring in the text guidance <cite class="ltx_cite ltx_citemacro_cite">Gal et al. (<a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite>, the dual-generator strategy is deployed. We have two generators, <math id="A1.SS1.p2.1.m1.1" class="ltx_Math" alttext="G_{t}" display="inline"><semantics id="A1.SS1.p2.1.m1.1a"><msub id="A1.SS1.p2.1.m1.1.1" xref="A1.SS1.p2.1.m1.1.1.cmml"><mi id="A1.SS1.p2.1.m1.1.1.2" xref="A1.SS1.p2.1.m1.1.1.2.cmml">G</mi><mi id="A1.SS1.p2.1.m1.1.1.3" xref="A1.SS1.p2.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.1.m1.1b"><apply id="A1.SS1.p2.1.m1.1.1.cmml" xref="A1.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A1.SS1.p2.1.m1.1.1.1.cmml" xref="A1.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="A1.SS1.p2.1.m1.1.1.2.cmml" xref="A1.SS1.p2.1.m1.1.1.2">𝐺</ci><ci id="A1.SS1.p2.1.m1.1.1.3.cmml" xref="A1.SS1.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.1.m1.1c">G_{t}</annotation></semantics></math> to be adapted, and a frozen <math id="A1.SS1.p2.2.m2.1" class="ltx_Math" alttext="G" display="inline"><semantics id="A1.SS1.p2.2.m2.1a"><mi id="A1.SS1.p2.2.m2.1.1" xref="A1.SS1.p2.2.m2.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.2.m2.1b"><ci id="A1.SS1.p2.2.m2.1.1.cmml" xref="A1.SS1.p2.2.m2.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.2.m2.1c">G</annotation></semantics></math> for image changing reference. The second generator <math id="A1.SS1.p2.3.m3.1" class="ltx_Math" alttext="G" display="inline"><semantics id="A1.SS1.p2.3.m3.1a"><mi id="A1.SS1.p2.3.m3.1.1" xref="A1.SS1.p2.3.m3.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.3.m3.1b"><ci id="A1.SS1.p2.3.m3.1.1.cmml" xref="A1.SS1.p2.3.m3.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.3.m3.1c">G</annotation></semantics></math> follows the same structure as the original one, and remains frozen during the whole training process to keep generating original images without adaptation.</p>
</div>
<div id="A1.SS1.p3" class="ltx_para ltx_noindent">
<p id="A1.SS1.p3.7" class="ltx_p">In order to prevent the synthesized images from overfitting to the few-shot image samples of the target domain, the dual-discriminator strategy is deployed, introducing the relaxed realism <cite class="ltx_cite ltx_citemacro_cite">Ojha et al. (<a href="#bib.bib42" title="" class="ltx_ref">2021</a>)</cite>. As introduced in Sec. <span id="A1.SS1.p3.7.1" class="ltx_text" style="color:#FF0000;">3.2</span> of the main paper, the idea is to only discriminate the fake and real images on the image level with the discriminator <math id="A1.SS1.p3.1.m1.1" class="ltx_Math" alttext="D_{img}" display="inline"><semantics id="A1.SS1.p3.1.m1.1a"><msub id="A1.SS1.p3.1.m1.1.1" xref="A1.SS1.p3.1.m1.1.1.cmml"><mi id="A1.SS1.p3.1.m1.1.1.2" xref="A1.SS1.p3.1.m1.1.1.2.cmml">D</mi><mrow id="A1.SS1.p3.1.m1.1.1.3" xref="A1.SS1.p3.1.m1.1.1.3.cmml"><mi id="A1.SS1.p3.1.m1.1.1.3.2" xref="A1.SS1.p3.1.m1.1.1.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p3.1.m1.1.1.3.1" xref="A1.SS1.p3.1.m1.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p3.1.m1.1.1.3.3" xref="A1.SS1.p3.1.m1.1.1.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p3.1.m1.1.1.3.1a" xref="A1.SS1.p3.1.m1.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p3.1.m1.1.1.3.4" xref="A1.SS1.p3.1.m1.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p3.1.m1.1b"><apply id="A1.SS1.p3.1.m1.1.1.cmml" xref="A1.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="A1.SS1.p3.1.m1.1.1.1.cmml" xref="A1.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="A1.SS1.p3.1.m1.1.1.2.cmml" xref="A1.SS1.p3.1.m1.1.1.2">𝐷</ci><apply id="A1.SS1.p3.1.m1.1.1.3.cmml" xref="A1.SS1.p3.1.m1.1.1.3"><times id="A1.SS1.p3.1.m1.1.1.3.1.cmml" xref="A1.SS1.p3.1.m1.1.1.3.1"></times><ci id="A1.SS1.p3.1.m1.1.1.3.2.cmml" xref="A1.SS1.p3.1.m1.1.1.3.2">𝑖</ci><ci id="A1.SS1.p3.1.m1.1.1.3.3.cmml" xref="A1.SS1.p3.1.m1.1.1.3.3">𝑚</ci><ci id="A1.SS1.p3.1.m1.1.1.3.4.cmml" xref="A1.SS1.p3.1.m1.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p3.1.m1.1c">D_{img}</annotation></semantics></math> when the corresponding latent code <math id="A1.SS1.p3.2.m2.1" class="ltx_Math" alttext="z" display="inline"><semantics id="A1.SS1.p3.2.m2.1a"><mi id="A1.SS1.p3.2.m2.1.1" xref="A1.SS1.p3.2.m2.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p3.2.m2.1b"><ci id="A1.SS1.p3.2.m2.1.1.cmml" xref="A1.SS1.p3.2.m2.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p3.2.m2.1c">z</annotation></semantics></math> is sampled from a small anchor region. The image-level discriminator <math id="A1.SS1.p3.3.m3.1" class="ltx_Math" alttext="D_{img}" display="inline"><semantics id="A1.SS1.p3.3.m3.1a"><msub id="A1.SS1.p3.3.m3.1.1" xref="A1.SS1.p3.3.m3.1.1.cmml"><mi id="A1.SS1.p3.3.m3.1.1.2" xref="A1.SS1.p3.3.m3.1.1.2.cmml">D</mi><mrow id="A1.SS1.p3.3.m3.1.1.3" xref="A1.SS1.p3.3.m3.1.1.3.cmml"><mi id="A1.SS1.p3.3.m3.1.1.3.2" xref="A1.SS1.p3.3.m3.1.1.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p3.3.m3.1.1.3.1" xref="A1.SS1.p3.3.m3.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p3.3.m3.1.1.3.3" xref="A1.SS1.p3.3.m3.1.1.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p3.3.m3.1.1.3.1a" xref="A1.SS1.p3.3.m3.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p3.3.m3.1.1.3.4" xref="A1.SS1.p3.3.m3.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p3.3.m3.1b"><apply id="A1.SS1.p3.3.m3.1.1.cmml" xref="A1.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="A1.SS1.p3.3.m3.1.1.1.cmml" xref="A1.SS1.p3.3.m3.1.1">subscript</csymbol><ci id="A1.SS1.p3.3.m3.1.1.2.cmml" xref="A1.SS1.p3.3.m3.1.1.2">𝐷</ci><apply id="A1.SS1.p3.3.m3.1.1.3.cmml" xref="A1.SS1.p3.3.m3.1.1.3"><times id="A1.SS1.p3.3.m3.1.1.3.1.cmml" xref="A1.SS1.p3.3.m3.1.1.3.1"></times><ci id="A1.SS1.p3.3.m3.1.1.3.2.cmml" xref="A1.SS1.p3.3.m3.1.1.3.2">𝑖</ci><ci id="A1.SS1.p3.3.m3.1.1.3.3.cmml" xref="A1.SS1.p3.3.m3.1.1.3.3">𝑚</ci><ci id="A1.SS1.p3.3.m3.1.1.3.4.cmml" xref="A1.SS1.p3.3.m3.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p3.3.m3.1c">D_{img}</annotation></semantics></math> follows the original design as in <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib25" title="" class="ltx_ref">2020b</a>)</cite>.
When <math id="A1.SS1.p3.4.m4.1" class="ltx_Math" alttext="z" display="inline"><semantics id="A1.SS1.p3.4.m4.1a"><mi id="A1.SS1.p3.4.m4.1.1" xref="A1.SS1.p3.4.m4.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p3.4.m4.1b"><ci id="A1.SS1.p3.4.m4.1.1.cmml" xref="A1.SS1.p3.4.m4.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p3.4.m4.1c">z</annotation></semantics></math> is sampled outside of the region, we compute the discriminator loss only on the patch level with the second discriminator <math id="A1.SS1.p3.5.m5.1" class="ltx_Math" alttext="D_{patch}" display="inline"><semantics id="A1.SS1.p3.5.m5.1a"><msub id="A1.SS1.p3.5.m5.1.1" xref="A1.SS1.p3.5.m5.1.1.cmml"><mi id="A1.SS1.p3.5.m5.1.1.2" xref="A1.SS1.p3.5.m5.1.1.2.cmml">D</mi><mrow id="A1.SS1.p3.5.m5.1.1.3" xref="A1.SS1.p3.5.m5.1.1.3.cmml"><mi id="A1.SS1.p3.5.m5.1.1.3.2" xref="A1.SS1.p3.5.m5.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p3.5.m5.1.1.3.1" xref="A1.SS1.p3.5.m5.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p3.5.m5.1.1.3.3" xref="A1.SS1.p3.5.m5.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p3.5.m5.1.1.3.1a" xref="A1.SS1.p3.5.m5.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p3.5.m5.1.1.3.4" xref="A1.SS1.p3.5.m5.1.1.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p3.5.m5.1.1.3.1b" xref="A1.SS1.p3.5.m5.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p3.5.m5.1.1.3.5" xref="A1.SS1.p3.5.m5.1.1.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p3.5.m5.1.1.3.1c" xref="A1.SS1.p3.5.m5.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p3.5.m5.1.1.3.6" xref="A1.SS1.p3.5.m5.1.1.3.6.cmml">h</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p3.5.m5.1b"><apply id="A1.SS1.p3.5.m5.1.1.cmml" xref="A1.SS1.p3.5.m5.1.1"><csymbol cd="ambiguous" id="A1.SS1.p3.5.m5.1.1.1.cmml" xref="A1.SS1.p3.5.m5.1.1">subscript</csymbol><ci id="A1.SS1.p3.5.m5.1.1.2.cmml" xref="A1.SS1.p3.5.m5.1.1.2">𝐷</ci><apply id="A1.SS1.p3.5.m5.1.1.3.cmml" xref="A1.SS1.p3.5.m5.1.1.3"><times id="A1.SS1.p3.5.m5.1.1.3.1.cmml" xref="A1.SS1.p3.5.m5.1.1.3.1"></times><ci id="A1.SS1.p3.5.m5.1.1.3.2.cmml" xref="A1.SS1.p3.5.m5.1.1.3.2">𝑝</ci><ci id="A1.SS1.p3.5.m5.1.1.3.3.cmml" xref="A1.SS1.p3.5.m5.1.1.3.3">𝑎</ci><ci id="A1.SS1.p3.5.m5.1.1.3.4.cmml" xref="A1.SS1.p3.5.m5.1.1.3.4">𝑡</ci><ci id="A1.SS1.p3.5.m5.1.1.3.5.cmml" xref="A1.SS1.p3.5.m5.1.1.3.5">𝑐</ci><ci id="A1.SS1.p3.5.m5.1.1.3.6.cmml" xref="A1.SS1.p3.5.m5.1.1.3.6">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p3.5.m5.1c">D_{patch}</annotation></semantics></math>, which is the subset of the discriminator <math id="A1.SS1.p3.6.m6.1" class="ltx_Math" alttext="D_{img}" display="inline"><semantics id="A1.SS1.p3.6.m6.1a"><msub id="A1.SS1.p3.6.m6.1.1" xref="A1.SS1.p3.6.m6.1.1.cmml"><mi id="A1.SS1.p3.6.m6.1.1.2" xref="A1.SS1.p3.6.m6.1.1.2.cmml">D</mi><mrow id="A1.SS1.p3.6.m6.1.1.3" xref="A1.SS1.p3.6.m6.1.1.3.cmml"><mi id="A1.SS1.p3.6.m6.1.1.3.2" xref="A1.SS1.p3.6.m6.1.1.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p3.6.m6.1.1.3.1" xref="A1.SS1.p3.6.m6.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p3.6.m6.1.1.3.3" xref="A1.SS1.p3.6.m6.1.1.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p3.6.m6.1.1.3.1a" xref="A1.SS1.p3.6.m6.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p3.6.m6.1.1.3.4" xref="A1.SS1.p3.6.m6.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p3.6.m6.1b"><apply id="A1.SS1.p3.6.m6.1.1.cmml" xref="A1.SS1.p3.6.m6.1.1"><csymbol cd="ambiguous" id="A1.SS1.p3.6.m6.1.1.1.cmml" xref="A1.SS1.p3.6.m6.1.1">subscript</csymbol><ci id="A1.SS1.p3.6.m6.1.1.2.cmml" xref="A1.SS1.p3.6.m6.1.1.2">𝐷</ci><apply id="A1.SS1.p3.6.m6.1.1.3.cmml" xref="A1.SS1.p3.6.m6.1.1.3"><times id="A1.SS1.p3.6.m6.1.1.3.1.cmml" xref="A1.SS1.p3.6.m6.1.1.3.1"></times><ci id="A1.SS1.p3.6.m6.1.1.3.2.cmml" xref="A1.SS1.p3.6.m6.1.1.3.2">𝑖</ci><ci id="A1.SS1.p3.6.m6.1.1.3.3.cmml" xref="A1.SS1.p3.6.m6.1.1.3.3">𝑚</ci><ci id="A1.SS1.p3.6.m6.1.1.3.4.cmml" xref="A1.SS1.p3.6.m6.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p3.6.m6.1c">D_{img}</annotation></semantics></math>. The two discriminators are trained at a designed frequency for the purpose of preserving image diversity while still leveraging whole-image guidance. The process is controlled with the sampling frequency hyper-parameter <math id="A1.SS1.p3.7.m7.1" class="ltx_Math" alttext="\lambda_{f}" display="inline"><semantics id="A1.SS1.p3.7.m7.1a"><msub id="A1.SS1.p3.7.m7.1.1" xref="A1.SS1.p3.7.m7.1.1.cmml"><mi id="A1.SS1.p3.7.m7.1.1.2" xref="A1.SS1.p3.7.m7.1.1.2.cmml">λ</mi><mi id="A1.SS1.p3.7.m7.1.1.3" xref="A1.SS1.p3.7.m7.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p3.7.m7.1b"><apply id="A1.SS1.p3.7.m7.1.1.cmml" xref="A1.SS1.p3.7.m7.1.1"><csymbol cd="ambiguous" id="A1.SS1.p3.7.m7.1.1.1.cmml" xref="A1.SS1.p3.7.m7.1.1">subscript</csymbol><ci id="A1.SS1.p3.7.m7.1.1.2.cmml" xref="A1.SS1.p3.7.m7.1.1.2">𝜆</ci><ci id="A1.SS1.p3.7.m7.1.1.3.cmml" xref="A1.SS1.p3.7.m7.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p3.7.m7.1c">\lambda_{f}</annotation></semantics></math>, which indicates the frequency of sampling from the anchor region and computing the image-level loss instead of the patch-level loss.</p>
</div>
<div id="A1.SS1.p4" class="ltx_para ltx_noindent">
<p id="A1.SS1.p4.5" class="ltx_p"><span id="A1.SS1.p4.5.1" class="ltx_text ltx_font_bold">Training Parameters.</span>
We adjust the weight of image guidance <math id="A1.SS1.p4.1.m1.1" class="ltx_Math" alttext="\lambda_{1}" display="inline"><semantics id="A1.SS1.p4.1.m1.1a"><msub id="A1.SS1.p4.1.m1.1.1" xref="A1.SS1.p4.1.m1.1.1.cmml"><mi id="A1.SS1.p4.1.m1.1.1.2" xref="A1.SS1.p4.1.m1.1.1.2.cmml">λ</mi><mn id="A1.SS1.p4.1.m1.1.1.3" xref="A1.SS1.p4.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p4.1.m1.1b"><apply id="A1.SS1.p4.1.m1.1.1.cmml" xref="A1.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="A1.SS1.p4.1.m1.1.1.1.cmml" xref="A1.SS1.p4.1.m1.1.1">subscript</csymbol><ci id="A1.SS1.p4.1.m1.1.1.2.cmml" xref="A1.SS1.p4.1.m1.1.1.2">𝜆</ci><cn type="integer" id="A1.SS1.p4.1.m1.1.1.3.cmml" xref="A1.SS1.p4.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p4.1.m1.1c">\lambda_{1}</annotation></semantics></math> and the weight of text guidance <math id="A1.SS1.p4.2.m2.1" class="ltx_Math" alttext="\lambda_{2}" display="inline"><semantics id="A1.SS1.p4.2.m2.1a"><msub id="A1.SS1.p4.2.m2.1.1" xref="A1.SS1.p4.2.m2.1.1.cmml"><mi id="A1.SS1.p4.2.m2.1.1.2" xref="A1.SS1.p4.2.m2.1.1.2.cmml">λ</mi><mn id="A1.SS1.p4.2.m2.1.1.3" xref="A1.SS1.p4.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p4.2.m2.1b"><apply id="A1.SS1.p4.2.m2.1.1.cmml" xref="A1.SS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="A1.SS1.p4.2.m2.1.1.1.cmml" xref="A1.SS1.p4.2.m2.1.1">subscript</csymbol><ci id="A1.SS1.p4.2.m2.1.1.2.cmml" xref="A1.SS1.p4.2.m2.1.1.2">𝜆</ci><cn type="integer" id="A1.SS1.p4.2.m2.1.1.3.cmml" xref="A1.SS1.p4.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p4.2.m2.1c">\lambda_{2}</annotation></semantics></math> in Eq. (<span id="A1.SS1.p4.5.2" class="ltx_text" style="color:#FF0000;">5</span>) of the main paper under different scenarios, to balance different guidances. Under the PASCAL VOC<math id="A1.SS1.p4.3.m3.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A1.SS1.p4.3.m3.1a"><mo stretchy="false" id="A1.SS1.p4.3.m3.1.1" xref="A1.SS1.p4.3.m3.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A1.SS1.p4.3.m3.1b"><ci id="A1.SS1.p4.3.m3.1.1.cmml" xref="A1.SS1.p4.3.m3.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p4.3.m3.1c">\rightarrow</annotation></semantics></math>Clipart setting, we set both weights to 1.0. Under the PASCAL VOC<math id="A1.SS1.p4.4.m4.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A1.SS1.p4.4.m4.1a"><mo stretchy="false" id="A1.SS1.p4.4.m4.1.1" xref="A1.SS1.p4.4.m4.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A1.SS1.p4.4.m4.1b"><ci id="A1.SS1.p4.4.m4.1.1.cmml" xref="A1.SS1.p4.4.m4.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p4.4.m4.1c">\rightarrow</annotation></semantics></math>Comic setting, we increase the weight of text guidance to 5.0.
Another parameter is the sampling frequency from the randomly sampled small anchor region, <math id="A1.SS1.p4.5.m5.1" class="ltx_Math" alttext="\lambda_{f}" display="inline"><semantics id="A1.SS1.p4.5.m5.1a"><msub id="A1.SS1.p4.5.m5.1.1" xref="A1.SS1.p4.5.m5.1.1.cmml"><mi id="A1.SS1.p4.5.m5.1.1.2" xref="A1.SS1.p4.5.m5.1.1.2.cmml">λ</mi><mi id="A1.SS1.p4.5.m5.1.1.3" xref="A1.SS1.p4.5.m5.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p4.5.m5.1b"><apply id="A1.SS1.p4.5.m5.1.1.cmml" xref="A1.SS1.p4.5.m5.1.1"><csymbol cd="ambiguous" id="A1.SS1.p4.5.m5.1.1.1.cmml" xref="A1.SS1.p4.5.m5.1.1">subscript</csymbol><ci id="A1.SS1.p4.5.m5.1.1.2.cmml" xref="A1.SS1.p4.5.m5.1.1.2">𝜆</ci><ci id="A1.SS1.p4.5.m5.1.1.3.cmml" xref="A1.SS1.p4.5.m5.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p4.5.m5.1c">\lambda_{f}</annotation></semantics></math>, which decides how often we compute the discriminator loss on the whole image level. We set the frequency to 2, alternatively computing the loss on the image level and the patch level. The rest training details follow the StyleGAN2 <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib25" title="" class="ltx_ref">2020b</a>)</cite> with the augmentation strategy introduced in <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib24" title="" class="ltx_ref">2020a</a>)</cite>. The training iteration for image synthesis is set as 1000.</p>
</div>
<div id="A1.SS1.p5" class="ltx_para ltx_noindent">
<p id="A1.SS1.p5.3" class="ltx_p">In order to avoid overfitting to the few-shot image samples from the target domain, we develop the freezing strategy for image synthesis training (see the <em id="A1.SS1.p5.3.1" class="ltx_emph ltx_font_italic">image synthesis training strategy</em> part in Sec. <span id="A1.SS1.p5.3.2" class="ltx_text" style="color:#FF0000;">3.2</span> of the main paper). More specifically, we adapt the generator <math id="A1.SS1.p5.1.m1.1" class="ltx_Math" alttext="G_{t}" display="inline"><semantics id="A1.SS1.p5.1.m1.1a"><msub id="A1.SS1.p5.1.m1.1.1" xref="A1.SS1.p5.1.m1.1.1.cmml"><mi id="A1.SS1.p5.1.m1.1.1.2" xref="A1.SS1.p5.1.m1.1.1.2.cmml">G</mi><mi id="A1.SS1.p5.1.m1.1.1.3" xref="A1.SS1.p5.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p5.1.m1.1b"><apply id="A1.SS1.p5.1.m1.1.1.cmml" xref="A1.SS1.p5.1.m1.1.1"><csymbol cd="ambiguous" id="A1.SS1.p5.1.m1.1.1.1.cmml" xref="A1.SS1.p5.1.m1.1.1">subscript</csymbol><ci id="A1.SS1.p5.1.m1.1.1.2.cmml" xref="A1.SS1.p5.1.m1.1.1.2">𝐺</ci><ci id="A1.SS1.p5.1.m1.1.1.3.cmml" xref="A1.SS1.p5.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p5.1.m1.1c">G_{t}</annotation></semantics></math> only on specific feature layers while freezing the rest part of the network. For all the experiments, we only update the weights of intermediate layers from the third to the last one.
Accordingly, we freeze the image-level and the patch-level discriminator, <math id="A1.SS1.p5.2.m2.1" class="ltx_Math" alttext="D_{img}" display="inline"><semantics id="A1.SS1.p5.2.m2.1a"><msub id="A1.SS1.p5.2.m2.1.1" xref="A1.SS1.p5.2.m2.1.1.cmml"><mi id="A1.SS1.p5.2.m2.1.1.2" xref="A1.SS1.p5.2.m2.1.1.2.cmml">D</mi><mrow id="A1.SS1.p5.2.m2.1.1.3" xref="A1.SS1.p5.2.m2.1.1.3.cmml"><mi id="A1.SS1.p5.2.m2.1.1.3.2" xref="A1.SS1.p5.2.m2.1.1.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p5.2.m2.1.1.3.1" xref="A1.SS1.p5.2.m2.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p5.2.m2.1.1.3.3" xref="A1.SS1.p5.2.m2.1.1.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p5.2.m2.1.1.3.1a" xref="A1.SS1.p5.2.m2.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p5.2.m2.1.1.3.4" xref="A1.SS1.p5.2.m2.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p5.2.m2.1b"><apply id="A1.SS1.p5.2.m2.1.1.cmml" xref="A1.SS1.p5.2.m2.1.1"><csymbol cd="ambiguous" id="A1.SS1.p5.2.m2.1.1.1.cmml" xref="A1.SS1.p5.2.m2.1.1">subscript</csymbol><ci id="A1.SS1.p5.2.m2.1.1.2.cmml" xref="A1.SS1.p5.2.m2.1.1.2">𝐷</ci><apply id="A1.SS1.p5.2.m2.1.1.3.cmml" xref="A1.SS1.p5.2.m2.1.1.3"><times id="A1.SS1.p5.2.m2.1.1.3.1.cmml" xref="A1.SS1.p5.2.m2.1.1.3.1"></times><ci id="A1.SS1.p5.2.m2.1.1.3.2.cmml" xref="A1.SS1.p5.2.m2.1.1.3.2">𝑖</ci><ci id="A1.SS1.p5.2.m2.1.1.3.3.cmml" xref="A1.SS1.p5.2.m2.1.1.3.3">𝑚</ci><ci id="A1.SS1.p5.2.m2.1.1.3.4.cmml" xref="A1.SS1.p5.2.m2.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p5.2.m2.1c">D_{img}</annotation></semantics></math> and <math id="A1.SS1.p5.3.m3.1" class="ltx_Math" alttext="D_{patch}" display="inline"><semantics id="A1.SS1.p5.3.m3.1a"><msub id="A1.SS1.p5.3.m3.1.1" xref="A1.SS1.p5.3.m3.1.1.cmml"><mi id="A1.SS1.p5.3.m3.1.1.2" xref="A1.SS1.p5.3.m3.1.1.2.cmml">D</mi><mrow id="A1.SS1.p5.3.m3.1.1.3" xref="A1.SS1.p5.3.m3.1.1.3.cmml"><mi id="A1.SS1.p5.3.m3.1.1.3.2" xref="A1.SS1.p5.3.m3.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p5.3.m3.1.1.3.1" xref="A1.SS1.p5.3.m3.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p5.3.m3.1.1.3.3" xref="A1.SS1.p5.3.m3.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p5.3.m3.1.1.3.1a" xref="A1.SS1.p5.3.m3.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p5.3.m3.1.1.3.4" xref="A1.SS1.p5.3.m3.1.1.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p5.3.m3.1.1.3.1b" xref="A1.SS1.p5.3.m3.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p5.3.m3.1.1.3.5" xref="A1.SS1.p5.3.m3.1.1.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p5.3.m3.1.1.3.1c" xref="A1.SS1.p5.3.m3.1.1.3.1.cmml">​</mo><mi id="A1.SS1.p5.3.m3.1.1.3.6" xref="A1.SS1.p5.3.m3.1.1.3.6.cmml">h</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p5.3.m3.1b"><apply id="A1.SS1.p5.3.m3.1.1.cmml" xref="A1.SS1.p5.3.m3.1.1"><csymbol cd="ambiguous" id="A1.SS1.p5.3.m3.1.1.1.cmml" xref="A1.SS1.p5.3.m3.1.1">subscript</csymbol><ci id="A1.SS1.p5.3.m3.1.1.2.cmml" xref="A1.SS1.p5.3.m3.1.1.2">𝐷</ci><apply id="A1.SS1.p5.3.m3.1.1.3.cmml" xref="A1.SS1.p5.3.m3.1.1.3"><times id="A1.SS1.p5.3.m3.1.1.3.1.cmml" xref="A1.SS1.p5.3.m3.1.1.3.1"></times><ci id="A1.SS1.p5.3.m3.1.1.3.2.cmml" xref="A1.SS1.p5.3.m3.1.1.3.2">𝑝</ci><ci id="A1.SS1.p5.3.m3.1.1.3.3.cmml" xref="A1.SS1.p5.3.m3.1.1.3.3">𝑎</ci><ci id="A1.SS1.p5.3.m3.1.1.3.4.cmml" xref="A1.SS1.p5.3.m3.1.1.3.4">𝑡</ci><ci id="A1.SS1.p5.3.m3.1.1.3.5.cmml" xref="A1.SS1.p5.3.m3.1.1.3.5">𝑐</ci><ci id="A1.SS1.p5.3.m3.1.1.3.6.cmml" xref="A1.SS1.p5.3.m3.1.1.3.6">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p5.3.m3.1c">D_{patch}</annotation></semantics></math>, except for the final layer.</p>
</div>
<div id="A1.SS1.p6" class="ltx_para ltx_noindent">
<p id="A1.SS1.p6.1" class="ltx_p">A latent code <math id="A1.SS1.p6.1.m1.1" class="ltx_Math" alttext="\mathbf{z}" display="inline"><semantics id="A1.SS1.p6.1.m1.1a"><mi id="A1.SS1.p6.1.m1.1.1" xref="A1.SS1.p6.1.m1.1.1.cmml">𝐳</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p6.1.m1.1b"><ci id="A1.SS1.p6.1.m1.1.1.cmml" xref="A1.SS1.p6.1.m1.1.1">𝐳</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p6.1.m1.1c">\mathbf{z}</annotation></semantics></math> is randomly sampled for each image with a dimension of 512 for detection labeling. In order not to generate low quality images, the latent code is truncated by the average latent code to avoid sampling from low probability density region. More details can be found in Sec. B “Truncation trick in W” of <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib23" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Label Synthesis Branch</h3>

<div id="A1.SS2.p1" class="ltx_para ltx_noindent">
<p id="A1.SS2.p1.2" class="ltx_p"><span id="A1.SS2.p1.2.1" class="ltx_text ltx_font_bold">Network Structure.</span>
Our label synthesis branch is built by utilizing StyleGAN2 <cite class="ltx_cite ltx_citemacro_cite">Karras et al. (<a href="#bib.bib25" title="" class="ltx_ref">2020b</a>)</cite> generator acquired in the image synthesis step as the backbone network, and then adding different prediction heads on this basis.
For the backbone network, we take the intermediate feature map with the resolutions (4, 8, 16, 32, 64) considering the memory consumption. Then we upsample those feature maps with bilinear interpolation to the resolution of 128, and concatenate them together to feed forward to the
three prediction heads for keypoint, offset, and bounding box size predictions, respectively. The prediction head is composed of, 3<math id="A1.SS2.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.SS2.p1.1.m1.1a"><mo id="A1.SS2.p1.1.m1.1.1" xref="A1.SS2.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.1.m1.1b"><times id="A1.SS2.p1.1.m1.1.1.cmml" xref="A1.SS2.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.1.m1.1c">\times</annotation></semantics></math>3 convolutional layer, ReLU, and 1<math id="A1.SS2.p1.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.SS2.p1.2.m2.1a"><mo id="A1.SS2.p1.2.m2.1.1" xref="A1.SS2.p1.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.2.m2.1b"><times id="A1.SS2.p1.2.m2.1.1.cmml" xref="A1.SS2.p1.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.2.m2.1c">\times</annotation></semantics></math>1 convolutional layer.</p>
</div>
<div id="A1.SS2.p2" class="ltx_para ltx_noindent">
<p id="A1.SS2.p2.2" class="ltx_p"><span id="A1.SS2.p2.2.1" class="ltx_text ltx_font_bold">Training Parameters.</span>
We mainly follow the training parameters and details in <cite class="ltx_cite ltx_citemacro_cite">Zhou et al. (<a href="#bib.bib66" title="" class="ltx_ref">2019</a>)</cite>.
We set the hyper-parameters in Eq. (<span id="A1.SS2.p2.2.2" class="ltx_text" style="color:#FF0000;">7</span>) to <math id="A1.SS2.p2.1.m1.1" class="ltx_Math" alttext="\lambda_{off}=1.0" display="inline"><semantics id="A1.SS2.p2.1.m1.1a"><mrow id="A1.SS2.p2.1.m1.1.1" xref="A1.SS2.p2.1.m1.1.1.cmml"><msub id="A1.SS2.p2.1.m1.1.1.2" xref="A1.SS2.p2.1.m1.1.1.2.cmml"><mi id="A1.SS2.p2.1.m1.1.1.2.2" xref="A1.SS2.p2.1.m1.1.1.2.2.cmml">λ</mi><mrow id="A1.SS2.p2.1.m1.1.1.2.3" xref="A1.SS2.p2.1.m1.1.1.2.3.cmml"><mi id="A1.SS2.p2.1.m1.1.1.2.3.2" xref="A1.SS2.p2.1.m1.1.1.2.3.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p2.1.m1.1.1.2.3.1" xref="A1.SS2.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="A1.SS2.p2.1.m1.1.1.2.3.3" xref="A1.SS2.p2.1.m1.1.1.2.3.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p2.1.m1.1.1.2.3.1a" xref="A1.SS2.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="A1.SS2.p2.1.m1.1.1.2.3.4" xref="A1.SS2.p2.1.m1.1.1.2.3.4.cmml">f</mi></mrow></msub><mo id="A1.SS2.p2.1.m1.1.1.1" xref="A1.SS2.p2.1.m1.1.1.1.cmml">=</mo><mn id="A1.SS2.p2.1.m1.1.1.3" xref="A1.SS2.p2.1.m1.1.1.3.cmml">1.0</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.1.m1.1b"><apply id="A1.SS2.p2.1.m1.1.1.cmml" xref="A1.SS2.p2.1.m1.1.1"><eq id="A1.SS2.p2.1.m1.1.1.1.cmml" xref="A1.SS2.p2.1.m1.1.1.1"></eq><apply id="A1.SS2.p2.1.m1.1.1.2.cmml" xref="A1.SS2.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p2.1.m1.1.1.2.1.cmml" xref="A1.SS2.p2.1.m1.1.1.2">subscript</csymbol><ci id="A1.SS2.p2.1.m1.1.1.2.2.cmml" xref="A1.SS2.p2.1.m1.1.1.2.2">𝜆</ci><apply id="A1.SS2.p2.1.m1.1.1.2.3.cmml" xref="A1.SS2.p2.1.m1.1.1.2.3"><times id="A1.SS2.p2.1.m1.1.1.2.3.1.cmml" xref="A1.SS2.p2.1.m1.1.1.2.3.1"></times><ci id="A1.SS2.p2.1.m1.1.1.2.3.2.cmml" xref="A1.SS2.p2.1.m1.1.1.2.3.2">𝑜</ci><ci id="A1.SS2.p2.1.m1.1.1.2.3.3.cmml" xref="A1.SS2.p2.1.m1.1.1.2.3.3">𝑓</ci><ci id="A1.SS2.p2.1.m1.1.1.2.3.4.cmml" xref="A1.SS2.p2.1.m1.1.1.2.3.4">𝑓</ci></apply></apply><cn type="float" id="A1.SS2.p2.1.m1.1.1.3.cmml" xref="A1.SS2.p2.1.m1.1.1.3">1.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.1.m1.1c">\lambda_{off}=1.0</annotation></semantics></math> and <math id="A1.SS2.p2.2.m2.1" class="ltx_Math" alttext="\lambda_{size}=0.5" display="inline"><semantics id="A1.SS2.p2.2.m2.1a"><mrow id="A1.SS2.p2.2.m2.1.1" xref="A1.SS2.p2.2.m2.1.1.cmml"><msub id="A1.SS2.p2.2.m2.1.1.2" xref="A1.SS2.p2.2.m2.1.1.2.cmml"><mi id="A1.SS2.p2.2.m2.1.1.2.2" xref="A1.SS2.p2.2.m2.1.1.2.2.cmml">λ</mi><mrow id="A1.SS2.p2.2.m2.1.1.2.3" xref="A1.SS2.p2.2.m2.1.1.2.3.cmml"><mi id="A1.SS2.p2.2.m2.1.1.2.3.2" xref="A1.SS2.p2.2.m2.1.1.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p2.2.m2.1.1.2.3.1" xref="A1.SS2.p2.2.m2.1.1.2.3.1.cmml">​</mo><mi id="A1.SS2.p2.2.m2.1.1.2.3.3" xref="A1.SS2.p2.2.m2.1.1.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p2.2.m2.1.1.2.3.1a" xref="A1.SS2.p2.2.m2.1.1.2.3.1.cmml">​</mo><mi id="A1.SS2.p2.2.m2.1.1.2.3.4" xref="A1.SS2.p2.2.m2.1.1.2.3.4.cmml">z</mi><mo lspace="0em" rspace="0em" id="A1.SS2.p2.2.m2.1.1.2.3.1b" xref="A1.SS2.p2.2.m2.1.1.2.3.1.cmml">​</mo><mi id="A1.SS2.p2.2.m2.1.1.2.3.5" xref="A1.SS2.p2.2.m2.1.1.2.3.5.cmml">e</mi></mrow></msub><mo id="A1.SS2.p2.2.m2.1.1.1" xref="A1.SS2.p2.2.m2.1.1.1.cmml">=</mo><mn id="A1.SS2.p2.2.m2.1.1.3" xref="A1.SS2.p2.2.m2.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.2.m2.1b"><apply id="A1.SS2.p2.2.m2.1.1.cmml" xref="A1.SS2.p2.2.m2.1.1"><eq id="A1.SS2.p2.2.m2.1.1.1.cmml" xref="A1.SS2.p2.2.m2.1.1.1"></eq><apply id="A1.SS2.p2.2.m2.1.1.2.cmml" xref="A1.SS2.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.p2.2.m2.1.1.2.1.cmml" xref="A1.SS2.p2.2.m2.1.1.2">subscript</csymbol><ci id="A1.SS2.p2.2.m2.1.1.2.2.cmml" xref="A1.SS2.p2.2.m2.1.1.2.2">𝜆</ci><apply id="A1.SS2.p2.2.m2.1.1.2.3.cmml" xref="A1.SS2.p2.2.m2.1.1.2.3"><times id="A1.SS2.p2.2.m2.1.1.2.3.1.cmml" xref="A1.SS2.p2.2.m2.1.1.2.3.1"></times><ci id="A1.SS2.p2.2.m2.1.1.2.3.2.cmml" xref="A1.SS2.p2.2.m2.1.1.2.3.2">𝑠</ci><ci id="A1.SS2.p2.2.m2.1.1.2.3.3.cmml" xref="A1.SS2.p2.2.m2.1.1.2.3.3">𝑖</ci><ci id="A1.SS2.p2.2.m2.1.1.2.3.4.cmml" xref="A1.SS2.p2.2.m2.1.1.2.3.4">𝑧</ci><ci id="A1.SS2.p2.2.m2.1.1.2.3.5.cmml" xref="A1.SS2.p2.2.m2.1.1.2.3.5">𝑒</ci></apply></apply><cn type="float" id="A1.SS2.p2.2.m2.1.1.3.cmml" xref="A1.SS2.p2.2.m2.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.2.m2.1c">\lambda_{size}=0.5</annotation></semantics></math>. We adopt the SGD optimizer for training, with the learning rate as 0.0001 and the weight decay as 0.0001. Keypoints are predicted on a heatmap with the resolution of 128. The training iteration for label synthesis is set as 1000.</p>
</div>
</section>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Datasets Information</h2>

<div id="A2.p1" class="ltx_para ltx_noindent">
<p id="A2.p1.1" class="ltx_p">In Sec. <span id="A2.p1.1.1" class="ltx_text" style="color:#FF0000;">4.1</span> of the main paper, we provide the information about the datasets which are involved in our experiments. We here further provide additional datasets information.</p>
</div>
<div id="A2.p2" class="ltx_para ltx_noindent">
<p id="A2.p2.1" class="ltx_p"><span id="A2.p2.1.1" class="ltx_text ltx_font_bold">PASCAL VOC.</span> PASCAL VOC 2007 &amp; 2012 dataset <cite class="ltx_cite ltx_citemacro_cite">Everingham et al. (<a href="#bib.bib11" title="" class="ltx_ref">2010</a>)</cite> contains natural images. Each image in PASCAL VOC dataset includes the object class, pixel-level semantic label, and object bounding box annotations, serving as an important benchmark for the image classification, semantic segmentation and object detection tasks. Our experiment is related to the object detection task on PASCAL VOC dataset. PASCAL VOC dataset customizes the license, especially the images collected from the Flickr website, <em id="A2.p2.1.2" class="ltx_emph ltx_font_italic">i.e</em>.<span id="A2.p2.1.3" class="ltx_text"></span>, PASCAL VOC dataset grants the limited, non-transferable, non-sublicensable, revocable license to access and use the data.</p>
</div>
<div id="A2.p3" class="ltx_para ltx_noindent">
<p id="A2.p3.1" class="ltx_p"><span id="A2.p3.1.1" class="ltx_text ltx_font_bold">Clipart1k.</span> Clipart1k dataset includes the clipart images collected from the CMPlaces dataset <cite class="ltx_cite ltx_citemacro_cite">Castrejon et al. (<a href="#bib.bib5" title="" class="ltx_ref">2016</a>)</cite> and two image search engines <cite class="ltx_cite ltx_citemacro_cite">Inoue et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite>. Clipart1k is meant for the education and research purposes only.</p>
</div>
<div id="A2.p4" class="ltx_para ltx_noindent">
<p id="A2.p4.1" class="ltx_p"><span id="A2.p4.1.1" class="ltx_text ltx_font_bold">Comic2k.</span> Comic2k dataset covers the comic images collected from BAM! <cite class="ltx_cite ltx_citemacro_cite">Wilber et al. (<a href="#bib.bib60" title="" class="ltx_ref">2017</a>)</cite>. Comic2k dataset is meant for the education and research purposes only.</p>
</div>
<div id="A2.p5" class="ltx_para ltx_noindent">
<p id="A2.p5.1" class="ltx_p"><span id="A2.p5.1.1" class="ltx_text ltx_font_bold">Watercolor2k.</span> Watercolor2k dataset contains the watercolor images collected from BAM! <cite class="ltx_cite ltx_citemacro_cite">Wilber et al. (<a href="#bib.bib60" title="" class="ltx_ref">2017</a>)</cite>, which are meant for the education and research purposes only.</p>
</div>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Additional Qualitative Results</h2>

<section id="A3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1 </span>Freezing Strategy for One-Shot Target Domain</h3>

<figure id="A3.F6" class="ltx_figure"><img src="/html/2306.04385/assets/x6.png" id="A3.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="102" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Qualitative results comparison, with/without freezing strategy for image synthesis training, under the one-shot target domain condition. It is shown that the freezing strategy can help to improve the image generation diversity and to prevent overfitting to the one-shot target domain effectively.</figcaption>
</figure>
<div id="A3.SS1.p1" class="ltx_para ltx_noindent">
<p id="A3.SS1.p1.1" class="ltx_p">In Fig. <span id="A3.SS1.p1.1.1" class="ltx_text" style="color:#FF0000;">5</span> (k)-(l) of the main paper, we show the qualitative comparison results for the ablation study with/without the freezing strategy of image synthesis training. In order to further prove the validity of the freezing strategy under the extreme case, we here provide the qualitative comparison in Fig. <a href="#A3.F6" title="Figure 6 ‣ C.1 Freezing Strategy for One-Shot Target Domain ‣ Appendix C Additional Qualitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> under the one-shot target domain condition, <em id="A3.SS1.p1.1.2" class="ltx_emph ltx_font_italic">i.e</em>.<span id="A3.SS1.p1.1.3" class="ltx_text"></span>, there is only one image available on the target domain. From Fig. <a href="#A3.F6" title="Figure 6 ‣ C.1 Freezing Strategy for One-Shot Target Domain ‣ Appendix C Additional Qualitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, it is shown that the freezing strategy is especially important for improving the image generation diversity and preventing overfitting to the one-shot image samples under the challenging one-shot condition.</p>
</div>
</section>
<section id="A3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.2 </span>Additional Image Synthesis Results on Human Face</h3>

<figure id="A3.F7" class="ltx_figure"><img src="/html/2306.04385/assets/x7.png" id="A3.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="242" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Image synthesis results on human face. The image synthesis is guided by the text guidance “clipart” and the few-shot image samples guidance from “Keith Harring” and “Joan Miro” style paintings. The first column of the left part and the right part is the example of the “Keith Harring” and “Joan Miro” painting style.</figcaption>
</figure>
<div id="A3.SS2.p1" class="ltx_para ltx_noindent">
<p id="A3.SS2.p1.1" class="ltx_p">In Sec. <span id="A3.SS2.p1.1.1" class="ltx_text" style="color:#FF0000;">4</span> of the main paper, we provide the experimental results for SF-FSDA under the PASCAL VOC<math id="A3.SS2.p1.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A3.SS2.p1.1.m1.1a"><mo stretchy="false" id="A3.SS2.p1.1.m1.1.1" xref="A3.SS2.p1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.1.m1.1b"><ci id="A3.SS2.p1.1.m1.1.1.cmml" xref="A3.SS2.p1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.1.m1.1c">\rightarrow</annotation></semantics></math>Clipart, Comic settings, to synthesize the cat and car objects. In order to further prove the ability of our data factory for image synthesis, we utilize our proposed data factory to synthesize other objects, human face, guided by the few-shot images and the text. The few-shot image guidance includes different artistic style paintings and the provided text guidance is “clipart”. The qualitative results shown in Fig. <a href="#A3.F7" title="Figure 7 ‣ C.2 Additional Image Synthesis Results on Human Face ‣ Appendix C Additional Qualitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> prove that our proposed data factory effectively synthesizes the target-domain like images under the text and the few-shot image samples guidance.</p>
</div>
</section>
<section id="A3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.3 </span>Additional Image Synthesis Results on Adverse Weather Simulation</h3>

<div id="A3.SS3.p1" class="ltx_para">
<p id="A3.SS3.p1.1" class="ltx_p">In order to show the possible application of our method to different scenarios, <em id="A3.SS3.p1.1.1" class="ltx_emph ltx_font_italic">e.g</em>.<span id="A3.SS3.p1.1.2" class="ltx_text"></span>, autonomous driving, we conduct experiments adapting original images of the car category to reflect adverse weathers, <em id="A3.SS3.p1.1.3" class="ltx_emph ltx_font_italic">e.g</em>.<span id="A3.SS3.p1.1.4" class="ltx_text"></span>, snowy weather. Fig. <span id="A3.SS3.p1.1.5" class="ltx_text" style="color:#FF0000;">3</span> shows the adapted synthesized images under adverse
weather conditions. For the adaptation, text description from the “sunny” to
the “snowy” and “foggy” together with 5 style images of street scenes under “snowy” and “foggy” weather are provided as guidance. As shown in the Fig. <a href="#A3.F8" title="Figure 8 ‣ C.3 Additional Image Synthesis Results on Adverse Weather Simulation ‣ Appendix C Additional Qualitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, our data factory is effective for synthesizing the adverse weather images.</p>
</div>
<figure id="A3.F8" class="ltx_figure"><img src="/html/2306.04385/assets/x8.png" id="A3.F8.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="142" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Image synthesis results on car, with few-shot image and text guidance of “snowy” and “foggy”.</figcaption>
</figure>
</section>
<section id="A3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.4 </span>Qualitative Results on the Target Domain</h3>

<figure id="A3.F9" class="ltx_figure"><img src="/html/2306.04385/assets/x9.png" id="A3.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="356" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Qualitative object detection results on the target domain, Clipart and Comic. “Before Adaptation” represents the object detection results when applying the source-pretrained object detection model to the target domain. “After Adaptation” shows the object detection results after fine-tuning the source-pretrained model on the synthesized images and labels from our proposed data factory. The image without detected bounding box indicates that the model cannot detect the objects in the image.</figcaption>
</figure>
<div id="A3.SS4.p1" class="ltx_para ltx_noindent">
<p id="A3.SS4.p1.1" class="ltx_p">In Sec. <span id="A3.SS4.p1.1.1" class="ltx_text" style="color:#FF0000;">4</span> of the main paper, we show the quantitative robust object detection results on the Clipart1k and Comic2k datasets. In order to further prove the effectiveness of our proposed data factory for robust object detection, we here show the qualitative object detection results on the target domain, <em id="A3.SS4.p1.1.2" class="ltx_emph ltx_font_italic">i.e</em>.<span id="A3.SS4.p1.1.3" class="ltx_text"></span>, Clipart1k and Comic2k. From the qualitative results in Fig. <a href="#A3.F9" title="Figure 9 ‣ C.4 Qualitative Results on the Target Domain ‣ Appendix C Additional Qualitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>, it is shown that our proposed efficient labeled data factory adapts the source pretrained object detection model to the target domain, and improves the object detection performance on the target domain effectively.</p>
</div>
</section>
<section id="A3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.5 </span>Additional Baseline Comparison Results</h3>

<figure id="A3.F10" class="ltx_figure"><img src="/html/2306.04385/assets/x10.png" id="A3.F10.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="532" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>Comparison between data factory and other image translation based methods. (b) is synthesized from our proposed efficient labeled data factory, while (c)-(e) are generated from the image-translation based methods, CycleGAN, CUT and MUNIT.</figcaption>
</figure>
<div id="A3.SS5.p1" class="ltx_para ltx_noindent">
<p id="A3.SS5.p1.1" class="ltx_p">In Fig. <span id="A3.SS5.p1.1.1" class="ltx_text" style="color:#FF0000;">5</span>(d)-(g) of the main paper, we show the qualitative comparison results between our proposed efficient labeled data factory method and other image translation based methods, CycleGAN <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib67" title="" class="ltx_ref">2017</a>)</cite>, CUT <cite class="ltx_cite ltx_citemacro_cite">Park et al. (<a href="#bib.bib43" title="" class="ltx_ref">2020</a>)</cite>, and MUNIT <cite class="ltx_cite ltx_citemacro_cite">Huang et al. (<a href="#bib.bib20" title="" class="ltx_ref">2018</a>)</cite>. We here provide additional comparison results in Fig. <a href="#A3.F10" title="Figure 10 ‣ C.5 Additional Baseline Comparison Results ‣ Appendix C Additional Qualitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> to validate that our proposed efficient labeled data factory can synthesize the images and corresponding object bounding box and category annotations effectively.</p>
</div>
</section>
<section id="A3.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.6 </span>SF-FSDA: PASCAL VOC<math id="A3.SS6.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A3.SS6.1.m1.1b"><mo stretchy="false" id="A3.SS6.1.m1.1.1" xref="A3.SS6.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A3.SS6.1.m1.1c"><ci id="A3.SS6.1.m1.1.1.cmml" xref="A3.SS6.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS6.1.m1.1d">\rightarrow</annotation></semantics></math>Watercolor</h3>

<figure id="A3.F11" class="ltx_figure"><img src="/html/2306.04385/assets/x11.png" id="A3.F11.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="287" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 11: </span>Image and label synthesis results for SF-FSDA, under the PASCAL VOC<math id="A3.F11.2.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A3.F11.2.m1.1b"><mo stretchy="false" id="A3.F11.2.m1.1.1" xref="A3.F11.2.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A3.F11.2.m1.1c"><ci id="A3.F11.2.m1.1.1.cmml" xref="A3.F11.2.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.F11.2.m1.1d">\rightarrow</annotation></semantics></math>Watercolor setting. The text guidance is “watercolor”, and the few-shot image samples guidance is the watercolor image from <cite class="ltx_cite ltx_citemacro_cite">Inoue et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite>.</figcaption>
</figure>
<div id="A3.SS6.p1" class="ltx_para ltx_noindent">
<p id="A3.SS6.p1.3" class="ltx_p">In Sec. <span id="A3.SS6.p1.3.1" class="ltx_text" style="color:#FF0000;">4</span> of the main paper, we show quantitative and qualitative experimental results for SF-FSDA under the PASCAL VOC<math id="A3.SS6.p1.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A3.SS6.p1.1.m1.1a"><mo stretchy="false" id="A3.SS6.p1.1.m1.1.1" xref="A3.SS6.p1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A3.SS6.p1.1.m1.1b"><ci id="A3.SS6.p1.1.m1.1.1.cmml" xref="A3.SS6.p1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS6.p1.1.m1.1c">\rightarrow</annotation></semantics></math>Clipart and Comic settings. In order to further verify the validity of our proposed efficient labeled data factory method for SF-FSDA, we conduct the additional SF-FSDA experiments under the PASCAL VOC<math id="A3.SS6.p1.2.m2.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A3.SS6.p1.2.m2.1a"><mo stretchy="false" id="A3.SS6.p1.2.m2.1.1" xref="A3.SS6.p1.2.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A3.SS6.p1.2.m2.1b"><ci id="A3.SS6.p1.2.m2.1.1.cmml" xref="A3.SS6.p1.2.m2.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS6.p1.2.m2.1c">\rightarrow</annotation></semantics></math>Watercolor setting. Compared to the few-shot fine-tuning baseline as done in Table <span id="A3.SS6.p1.3.2" class="ltx_text" style="color:#FF0000;">3</span> and Table <span id="A3.SS6.p1.3.3" class="ltx_text" style="color:#FF0000;">4</span> of the main paper, our proposed efficient labeled data factory based method further improves the object detection performance from 49.03%, 64.47% to 52.06%, 65.56% for cat and car categories, respectively. In Fig. <a href="#A3.F11" title="Figure 11 ‣ C.6 SF-FSDA: PASCAL VOC→Watercolor ‣ Appendix C Additional Qualitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>, we show the image and label synthesis results from our data factory, under the PASCAL VOC<math id="A3.SS6.p1.3.m3.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A3.SS6.p1.3.m3.1a"><mo stretchy="false" id="A3.SS6.p1.3.m3.1.1" xref="A3.SS6.p1.3.m3.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A3.SS6.p1.3.m3.1b"><ci id="A3.SS6.p1.3.m3.1.1.cmml" xref="A3.SS6.p1.3.m3.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS6.p1.3.m3.1c">\rightarrow</annotation></semantics></math>Watercolor setting.</p>
</div>
</section>
<section id="A3.SS7" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.7 </span>Comparison to StyleGAN-NADA</h3>

<div id="A3.SS7.p1" class="ltx_para ltx_noindent">
<p id="A3.SS7.p1.1" class="ltx_p">In order to further validate the effectiveness of our proposed method, we compare our method with recent language guided image synthesis method, StyleGAN-NADA <cite class="ltx_cite ltx_citemacro_cite">Gal et al. (<a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite>. As shown in Fig. <a href="#A3.F12" title="Figure 12 ‣ C.7 Comparison to StyleGAN-NADA ‣ Appendix C Additional Qualitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>, it is observed that the images synthesized by our method are more like Clipart image than StyleGAN-NADA, benefiting from the additional few-shot samples guidance and the freezing training strategy for image synthesis.</p>
</div>
<figure id="A3.F12" class="ltx_figure"><img src="/html/2306.04385/assets/x12.png" id="A3.F12.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="176" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 12: </span>Comparison with StyleGAN-NADA <cite class="ltx_cite ltx_citemacro_cite">Gal et al. (<a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite> for Clipart image synthesis.</figcaption>
</figure>
</section>
<section id="A3.SS8" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.8 </span>target domain image guidance samples number study</h3>

<div id="A3.SS8.p1" class="ltx_para ltx_noindent">
<p id="A3.SS8.p1.1" class="ltx_p">To explore the effect of target samples number for the image synthesis branch, we compare the image synthesis results guided by varying numbers of target samples for training. Our experimental findings, as illustrated in Fig. <a href="#A3.F13" title="Figure 13 ‣ C.8 target domain image guidance samples number study ‣ Appendix C Additional Qualitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>, indicate that our method is able to avoid collapse even with one-shot guidance. However, we observe that using too few examples results in a lack of intra-style differences, ultimately resulting in monochromatic images with a uniform background.</p>
</div>
<figure id="A3.F13" class="ltx_figure"><img src="/html/2306.04385/assets/figure/shotnum.png" id="A3.F13.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="359" height="203" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 13: </span>Image synthesis results guided by different number of image guidance samples (1, 3, 5, 12) from the target domain (Clipart).</figcaption>
</figure>
</section>
<section id="A3.SS9" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.9 </span>freezing strategy study</h3>

<div id="A3.SS9.p1" class="ltx_para ltx_noindent">
<p id="A3.SS9.p1.1" class="ltx_p">We investigate the freezing strategy hyperparameter choice by experimenting with different sets of frozen parameters. We conduct experiments by unfreezing different numbers of layers of the generator and report our findings in Fig. <a href="#A3.F14" title="Figure 14 ‣ C.9 freezing strategy study ‣ Appendix C Additional Qualitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a>. Specifically, we observe that unfreezing too many layers of the image generator leads to corrupted and blurred generation results, while freezing too many layers limits the model’s flexibility for adaptation, resulting in the collapse to monochromatic local patterns. We also experiment with different freezing strategies for the discriminator and find that unfreezing more layers often leads to imbalanced training. Therefore, for all our experiments, we only unfreeze the last linear layer of the discriminator.</p>
</div>
<figure id="A3.F14" class="ltx_figure"><img src="/html/2306.04385/assets/figure/glayer.png" id="A3.F14.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="359" height="198" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 14: </span>Image synthesis results obtained by fine-tuning different layers of the image generator. Specifically, we denote unfreezing and fine-tuning the first to the last layer of the image generator as 1-6, respectively.</figcaption>
</figure>
</section>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Additional Quantitative Results</h2>

<section id="A4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.1 </span>Comparison to Few-Shot Labeled Target Domain Images</h3>

<div id="A4.SS1.p1" class="ltx_para ltx_noindent">
<p id="A4.SS1.p1.1" class="ltx_p">In order to further prove the effectiveness of our proposed approach, we compare our approach to the few-shot labeled target domain images, where the few-shot target domain images are labeled and then are used to fine-tune the source-pretrained object detection model. The number of manually labeled few-shot target domain images is the same as that of manually labeled synthesized images used for training label synthesis branch in the efficient labeled data factory. Under the PASCAL VOC <math id="A4.SS1.p1.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A4.SS1.p1.1.m1.1a"><mo stretchy="false" id="A4.SS1.p1.1.m1.1.1" xref="A4.SS1.p1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A4.SS1.p1.1.m1.1b"><ci id="A4.SS1.p1.1.m1.1.1.cmml" xref="A4.SS1.p1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p1.1.m1.1c">\rightarrow</annotation></semantics></math> Clipart “cat” category setting in Table 3 of the main paper, the few-shot labeled target domain images fine-tuning baseline reaches the performance 29.97%, while our approach reaches 32.50%. It is because our efficient labeled data factory can synthesize a large number of images and corresponding label, while the few-shot labeled target domain samples are insufficient.</p>
</div>
</section>
<section id="A4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.2 </span>Target Domain Samples Number Study</h3>

<div id="A4.SS2.p1" class="ltx_para ltx_noindent">
<p id="A4.SS2.p1.1" class="ltx_p">As observed in Fig. <span id="A4.SS2.p1.1.1" class="ltx_text" style="color:#FF0000;">S1</span> of the supp. and Fig. <span id="A4.SS2.p1.1.2" class="ltx_text" style="color:#FF0000;">3(d)</span> of the main paper, more target samples can improve the diversity of the synthesized image samples and prevent overfitting. Quantitatively, corresponding to Fig. <span id="A4.SS2.p1.1.3" class="ltx_text" style="color:#FF0000;">3(d)</span>, the object detection performance under PASCAL VOC <math id="A4.SS2.p1.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A4.SS2.p1.1.m1.1a"><mo stretchy="false" id="A4.SS2.p1.1.m1.1.1" xref="A4.SS2.p1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A4.SS2.p1.1.m1.1b"><ci id="A4.SS2.p1.1.m1.1.1.cmml" xref="A4.SS2.p1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p1.1.m1.1c">\rightarrow</annotation></semantics></math> Clipart “cat” category is 32.50%, outperforming the performance corresponding to Fig. <span id="A4.SS2.p1.1.4" class="ltx_text" style="color:#FF0000;">S1</span>, 23.15%.</p>
</div>
</section>
<section id="A4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.3 </span>Multi-domain study</h3>

<div id="A4.SS3.p1" class="ltx_para ltx_noindent">
<p id="A4.SS3.p1.1" class="ltx_p">To evaluate the effectiveness of our method in multi-target domain scenarios, we conduct experiments on multiple target domains and report the results in Table  <a href="#A4.T5" title="Table 5 ‣ D.3 Multi-domain study ‣ Appendix D Additional Quantitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. Our efficient labeled data factory achieves reliable performance on this task. Specifically, as depicted in the table, we observe that transferring from one target domain to another can even improve the performance compared to direct adaptation from the original source pretrained model. This highlights the potential of our method to be used in real-world scenarios with multiple target domains.</p>
</div>
<figure id="A4.T5" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Multi-target domain SF-FSDA results. We evaluate our SF-FSDA model’s performance on two adaptation scenarios: PASCAL VOC <math id="A4.T5.4.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A4.T5.4.m1.1b"><mo stretchy="false" id="A4.T5.4.m1.1.1" xref="A4.T5.4.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A4.T5.4.m1.1c"><ci id="A4.T5.4.m1.1.1.cmml" xref="A4.T5.4.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.4.m1.1d">\rightarrow</annotation></semantics></math> Comic and PASCAL VOC <math id="A4.T5.5.m2.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A4.T5.5.m2.1b"><mo stretchy="false" id="A4.T5.5.m2.1.1" xref="A4.T5.5.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A4.T5.5.m2.1c"><ci id="A4.T5.5.m2.1.1.cmml" xref="A4.T5.5.m2.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.5.m2.1d">\rightarrow</annotation></semantics></math> Clipart <math id="A4.T5.6.m3.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A4.T5.6.m3.1b"><mo stretchy="false" id="A4.T5.6.m3.1.1" xref="A4.T5.6.m3.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A4.T5.6.m3.1c"><ci id="A4.T5.6.m3.1.1.cmml" xref="A4.T5.6.m3.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.6.m3.1d">\rightarrow</annotation></semantics></math> Comic. In the first scenario, we adapt the PASCAL VOC trained model on Comic-style training samples synthesized by our data factory. In the second scenario, we first adapt the PASCAL VOC trained model to Clipart-style training samples synthesized by our data factory, and then further adapt it to the Comic-style training samples synthesized by our data factory.</figcaption>
<table id="A4.T5.9" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A4.T5.9.3" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="A4.T5.9.3.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span><span id="A4.T5.9.3.4.1" class="ltx_text" style="background-color:#E6E6E6;">
Class</span>
</th>
<th id="A4.T5.7.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="A4.T5.7.1.1.1" class="ltx_text" style="background-color:#E6E6E6;">PASCAL VOC <math id="A4.T5.7.1.1.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A4.T5.7.1.1.1.m1.1a"><mo mathbackground="#E6E6E6" stretchy="false" id="A4.T5.7.1.1.1.m1.1.1" xref="A4.T5.7.1.1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A4.T5.7.1.1.1.m1.1b"><ci id="A4.T5.7.1.1.1.m1.1.1.cmml" xref="A4.T5.7.1.1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.7.1.1.1.m1.1c">\rightarrow</annotation></semantics></math> Comic</span></th>
<th id="A4.T5.9.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="A4.T5.9.3.3.2" class="ltx_text" style="background-color:#E6E6E6;">PASCAL VOC <math id="A4.T5.8.2.2.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A4.T5.8.2.2.1.m1.1a"><mo mathbackground="#E6E6E6" stretchy="false" id="A4.T5.8.2.2.1.m1.1.1" xref="A4.T5.8.2.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A4.T5.8.2.2.1.m1.1b"><ci id="A4.T5.8.2.2.1.m1.1.1.cmml" xref="A4.T5.8.2.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.8.2.2.1.m1.1c">\rightarrow</annotation></semantics></math> Clipart <math id="A4.T5.9.3.3.2.m2.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="A4.T5.9.3.3.2.m2.1a"><mo mathbackground="#E6E6E6" stretchy="false" id="A4.T5.9.3.3.2.m2.1.1" xref="A4.T5.9.3.3.2.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="A4.T5.9.3.3.2.m2.1b"><ci id="A4.T5.9.3.3.2.m2.1.1.cmml" xref="A4.T5.9.3.3.2.m2.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.9.3.3.2.m2.1c">\rightarrow</annotation></semantics></math> Comic</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A4.T5.9.4.1" class="ltx_tr">
<th id="A4.T5.9.4.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt">Cat</th>
<td id="A4.T5.9.4.1.2" class="ltx_td ltx_align_center ltx_border_tt">37.74</td>
<td id="A4.T5.9.4.1.3" class="ltx_td ltx_align_center ltx_border_tt"><span id="A4.T5.9.4.1.3.1" class="ltx_text ltx_font_bold">40.14</span></td>
</tr>
<tr id="A4.T5.9.5.2" class="ltx_tr">
<th id="A4.T5.9.5.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r">Car</th>
<td id="A4.T5.9.5.2.2" class="ltx_td ltx_align_center ltx_border_b">54.68</td>
<td id="A4.T5.9.5.2.3" class="ltx_td ltx_align_center ltx_border_b"><span id="A4.T5.9.5.2.3.1" class="ltx_text ltx_font_bold">57.02</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="A4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.4 </span>Manual label samples number study</h3>

<div id="A4.SS4.p1" class="ltx_para ltx_noindent">
<p id="A4.SS4.p1.1" class="ltx_p">We investigated the impact of the manual labels number on the SF-FSDA performance, whose results are presented in Table <a href="#A4.T6" title="Table 6 ‣ D.4 Manual label samples number study ‣ Appendix D Additional Quantitative Results ‣ SF-FSDA: Source-Free Few-Shot Domain Adaptive Object Detection with Efficient Labeled Data Factory" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>. The experimental results reveal that the SF-FSDA performance improves with an increase in the number of manual labels. However, the rate of improvement decreases as the number of manual labels becomes larger. After balancing stability and efficiency, we selected the number of manual labels as 10.</p>
</div>
<figure id="A4.T6" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>SF-FSDA performance on the Comic target domain for Cat category, with varying numbers of manually labeled samples utilized for label synthesis.</figcaption>
<table id="A4.T6.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A4.T6.1.1.1" class="ltx_tr" style="background-color:#E6E6E6;">
<td id="A4.T6.1.1.1.1" class="ltx_td ltx_align_center ltx_border_t" colspan="5">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span><span id="A4.T6.1.1.1.1.1" class="ltx_text" style="background-color:#E6E6E6;">      Number of Manual Labels</span>
</td>
</tr>
<tr id="A4.T6.1.2.2" class="ltx_tr" style="background-color:#E6E6E6;">
<td id="A4.T6.1.2.2.1" class="ltx_td ltx_align_center ltx_border_t"><span id="A4.T6.1.2.2.1.1" class="ltx_text" style="background-color:#E6E6E6;">5</span></td>
<td id="A4.T6.1.2.2.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A4.T6.1.2.2.2.1" class="ltx_text" style="background-color:#E6E6E6;">10</span></td>
<td id="A4.T6.1.2.2.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A4.T6.1.2.2.3.1" class="ltx_text" style="background-color:#E6E6E6;">20</span></td>
<td id="A4.T6.1.2.2.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A4.T6.1.2.2.4.1" class="ltx_text" style="background-color:#E6E6E6;">50</span></td>
<td id="A4.T6.1.2.2.5" class="ltx_td ltx_align_center ltx_border_t"><span id="A4.T6.1.2.2.5.1" class="ltx_text" style="background-color:#E6E6E6;">100</span></td>
</tr>
<tr id="A4.T6.1.3.3" class="ltx_tr">
<td id="A4.T6.1.3.3.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_tt">37.04</td>
<td id="A4.T6.1.3.3.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_tt">37.74</td>
<td id="A4.T6.1.3.3.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_tt">38.54</td>
<td id="A4.T6.1.3.3.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_tt">39.25</td>
<td id="A4.T6.1.3.3.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_tt">39.87</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section><div class="ltx_rdf" about="" property="dcterms:title" content="Overleaf Example"></div>

</article>
</div>
<div class="ar5iv-footer"><a href="/html/2306.04384" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2306.04385" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2306.04385">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2306.04385" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2306.04386" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Feb 29 02:21:38 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
