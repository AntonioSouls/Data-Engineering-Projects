<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2306.04607] GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation</title><meta property="og:description" content="Diffusion models have attracted significant attention due to the remarkable ability to create content and generate data for tasks like image classification.
However, the usage of diffusion models to generate the high-q…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2306.04607">

<!--Generated on Thu Feb 29 01:57:08 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Kai Chen<sup id="id13.12.id1" class="ltx_sup"><span id="id13.12.id1.1" class="ltx_text ltx_font_italic">1∗</span></sup>,
Enze Xie<sup id="id14.13.id2" class="ltx_sup"><span id="id14.13.id2.1" class="ltx_text ltx_font_italic">2∗</span></sup>,
Zhe Chen<sup id="id15.14.id3" class="ltx_sup"><span id="id15.14.id3.1" class="ltx_text ltx_font_italic">3</span></sup>,
Yibo Wang<sup id="id16.15.id4" class="ltx_sup"><span id="id16.15.id4.1" class="ltx_text ltx_font_italic">4</span></sup>,
Lanqing Hong<sup id="id17.16.id5" class="ltx_sup"><span id="id17.16.id5.1" class="ltx_text ltx_font_italic">2†</span></sup>, 
<br class="ltx_break"><span id="id6.6.1" class="ltx_text ltx_font_bold">Zhenguo Li<sup id="id6.6.1.1" class="ltx_sup"><span id="id6.6.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">2</span></sup></span>
<span id="id7.7.2" class="ltx_text ltx_font_bold">, Dit-Yan Yeung<sup id="id7.7.2.1" class="ltx_sup"><span id="id7.7.2.1.1" class="ltx_text ltx_font_medium ltx_font_italic">1</span></sup></span>

<br class="ltx_break"><sup id="id18.17.id6" class="ltx_sup"><span id="id18.17.id6.1" class="ltx_text ltx_font_italic">1</span></sup>Hong Kong University of Science and Technology
 <sup id="id19.18.id7" class="ltx_sup"><span id="id19.18.id7.1" class="ltx_text ltx_font_italic">2</span></sup>Huawei Noah’s Ark Lab 
<br class="ltx_break"><sup id="id20.19.id8" class="ltx_sup"><span id="id20.19.id8.1" class="ltx_text ltx_font_italic">3</span></sup>Nanjing University
 <sup id="id21.20.id9" class="ltx_sup"><span id="id21.20.id9.1" class="ltx_text ltx_font_italic">4</span></sup>Tsinghua University 
<br class="ltx_break"><span id="id22.21.id10" class="ltx_text ltx_font_typewriter">kai.chen@connect.ust.hk</span>, <span id="id23.22.id11" class="ltx_text ltx_font_typewriter">{xie.enze,honglanqing,li.zhenguo}@huawei.com</span>

<br class="ltx_break"><span id="id24.23.id12" class="ltx_text ltx_font_typewriter">chenzhe98@smail.nju.edu.cn</span>, <span id="id25.24.id13" class="ltx_text ltx_font_typewriter">wyb22@mails.tsinghua.edu.cn</span>, <span id="id26.25.id14" class="ltx_text ltx_font_typewriter">dyyeung@cse.ust.hk</span>

<br class="ltx_break">
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id12.1" class="ltx_p">Diffusion models have attracted significant attention due to the remarkable ability to create content and generate data for tasks like image classification.
However, the usage of diffusion models to generate the high-quality object detection data remains an underexplored area, where not only image-level perceptual quality but also geometric conditions such as bounding boxes and camera views are essential.
Previous studies have utilized either copy-paste synthesis or layout-to-image (L2I) generation with specifically designed modules to encode the semantic layouts.
In this paper, we propose the <span id="id12.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>, a simple framework that can flexibly translate various geometric conditions into text prompts and empower pre-trained text-to-image (T2I) diffusion models for high-quality detection data generation.
Unlike previous L2I methods, our <span id="id12.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> is able to encode not only the bounding boxes but also extra geometric conditions such as camera views in self-driving scenes.
Extensive experiments demonstrate <span id="id12.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> outperforms previous L2I methods while maintaining 4<math id="id12.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="id12.1.m1.1a"><mo id="id12.1.m1.1.1" xref="id12.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="id12.1.m1.1b"><times id="id12.1.m1.1.1.cmml" xref="id12.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="id12.1.m1.1c">\times</annotation></semantics></math> training time faster.
To the best of our knowledge, this is the first work to adopt diffusion models for layout-to-image generation with geometric conditions and demonstrate that L2I-generated images can be beneficial for improving the performance of object detectors.</p>
</div>
<figure id="S0.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S0.F1.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x1.png" id="S0.F1.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="204" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(a) </span><span id="S0.F1.sf1.6.1" class="ltx_text ltx_font_bold">Qualitative comparison</span> between our <span id="S0.F1.sf1.7.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> and the state-of-the-art layout-to-image (L2I) generation method <cite class="ltx_cite ltx_citemacro_citep">(Jahn et al., <a href="#bib.bib24" title="" class="ltx_ref">2021</a>)</cite>.
See more applications (<span id="S0.F1.sf1.8.3" class="ltx_text ltx_font_italic">e.g</span>.<span id="S0.F1.sf1.9.4" class="ltx_text"></span>, <span id="S0.F1.sf1.10.5" class="ltx_text ltx_font_bold">3D geometric controls</span>) in Appendix <a href="#A4" title="Appendix D More Applications ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D</span></a>-<a href="#A5" title="Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">E</span></a>.
</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S0.F1.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x2.png" id="S0.F1.sf2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="409" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(b) </span><span id="S0.F1.sf2.4.1" class="ltx_text ltx_font_bold">Curve of mAP</span> with respect to the portion (%) of real data usage (<span id="S0.F1.sf2.5.2" class="ltx_text ltx_font_italic">c.f</span>.<span id="S0.F1.sf2.6.3" class="ltx_text"></span> Tab. <a href="#A1.T8" title="Table 8 ‣ Detailed results of real data necessity. ‣ Appendix A More Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>).
</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>(a) <span id="S0.F1.7.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can generate object detection data by encoding different geometric conditions (<span id="S0.F1.8.2" class="ltx_text ltx_font_italic">e.g</span>.<span id="S0.F1.9.3" class="ltx_text"></span>, <span id="S0.F1.10.4" class="ltx_text ltx_font_bold">bounding boxes</span> (bottom left) and <span id="S0.F1.11.5" class="ltx_text ltx_font_bold">camera views</span> (bottom middle &amp; right)) with a unified architecture.
(b) <span id="S0.F1.12.6" class="ltx_text ltx_font_bold">For the first time</span>,
we demonstrate that L2I-generated images can benefit the training of object detectors <cite class="ltx_cite ltx_citemacro_citep">(Ren et al., <a href="#bib.bib42" title="" class="ltx_ref">2015</a>)</cite>, especially under annotation-scarce circumstances.
</figcaption>
</figure><span id="footnotex1" class="ltx_note ltx_role_footnotetext"><sup class="ltx_note_mark">0</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">0</sup><span class="ltx_note_type">footnotetext: </span>
<sup id="footnotex1.1" class="ltx_sup"><span id="footnotex1.1.1" class="ltx_text ltx_font_italic">∗</span></sup>Equal contribution.
<sup id="footnotex1.2" class="ltx_sup"><span id="footnotex1.2.1" class="ltx_text ltx_font_italic">†</span></sup>Corresponding author.
</span></span></span><span id="footnotex2" class="ltx_note ltx_role_footnotetext"><sup class="ltx_note_mark">0</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">0</sup><span class="ltx_note_type">footnotetext: </span>
Project Page: <a target="_blank" href="https://kaichen1998.github.io/projects/geodiffusion/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://kaichen1998.github.io/projects/geodiffusion/</a>.
</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para ltx_noindent">
<p id="S1.p1.1" class="ltx_p">The cost of real data collection and annotation has been a longstanding problem in the field of deep learning. As a more cost-effective alternative, data generation techniques have been investigated for potential performance improvement <cite class="ltx_cite ltx_citemacro_citep">(Perez &amp; Wang, <a href="#bib.bib40" title="" class="ltx_ref">2017</a>; Bowles et al., <a href="#bib.bib1" title="" class="ltx_ref">2018</a>)</cite>.
However, effectiveness of such techniques has not met the expectation, mainly limited by the quality of generated data.
Recently, diffusion models (DMs) <cite class="ltx_cite ltx_citemacro_citep">(Ho et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>; Nichol &amp; Dhariwal, <a href="#bib.bib39" title="" class="ltx_ref">2021</a>)</cite> have emerged as one of the most popular generative models, owing to the remarkable ability to create content.
Moreover, as demonstrated by He <span id="S1.p1.1.1" class="ltx_text ltx_font_italic">et al</span>.<span id="S1.p1.1.2" class="ltx_text"></span> <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a href="#bib.bib19" title="" class="ltx_ref">2022</a>)</cite>, DMs can generate high-quality images to improve the performance of classification models.
However, the usage of DMs to generate data for complex perception tasks (<span id="S1.p1.1.3" class="ltx_text ltx_font_italic">e.g</span>.<span id="S1.p1.1.4" class="ltx_text"></span>, object detection <cite class="ltx_cite ltx_citemacro_citep">(Caesar et al., <a href="#bib.bib3" title="" class="ltx_ref">2020</a>; Han et al., <a href="#bib.bib17" title="" class="ltx_ref">2021</a>; Li et al., <a href="#bib.bib27" title="" class="ltx_ref">2022</a>)</cite>)
has been rarely explored,
which requires to consider about not only image-level perceptual quality but also geometric controls (<span id="S1.p1.1.5" class="ltx_text ltx_font_italic">e.g</span>.<span id="S1.p1.1.6" class="ltx_text"></span>, bounding boxes and camera views).
Thus, there is a need to investigate how to effectively utilize DMs for generating high-quality data for such perception tasks.</p>
</div>
<div id="S1.p2" class="ltx_para ltx_noindent">
<p id="S1.p2.1" class="ltx_p">Existing works primarily utilize two manners to employ generative models for <span id="S1.p2.1.1" class="ltx_text ltx_font_italic">controllable</span> detection data generation: 1) copy-paste synthesis <cite class="ltx_cite ltx_citemacro_citep">(Dvornik et al., <a href="#bib.bib10" title="" class="ltx_ref">2018</a>; Zhao et al., <a href="#bib.bib57" title="" class="ltx_ref">2022</a>)</cite> and 2) layout-to-image (L2I) generation <cite class="ltx_cite ltx_citemacro_citep">(Sun &amp; Wu, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>; Zhao et al., <a href="#bib.bib56" title="" class="ltx_ref">2019</a>)</cite>.
Copy-paste synthesis involves by generating the foreground objects and placing them on a pre-existing background image.
Although proven beneficial for detectors, it only combines different parts of images instead of generating a complete scene, leading to less realistic images.
L2I generation, on the other hand, adopts classical generative models (VAE <cite class="ltx_cite ltx_citemacro_citep">(Kingma &amp; Welling, <a href="#bib.bib25" title="" class="ltx_ref">2013</a>)</cite> and GAN <cite class="ltx_cite ltx_citemacro_citep">(Goodfellow et al., <a href="#bib.bib14" title="" class="ltx_ref">2014</a>)</cite>), to directly generate realistic detection data conditional on semantic layouts.
However, L2I generation relies on specifically designed modules (<span id="S1.p2.1.2" class="ltx_text ltx_font_italic">e.g</span>.<span id="S1.p2.1.3" class="ltx_text"></span>, RoI Align <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al., <a href="#bib.bib56" title="" class="ltx_ref">2019</a>; He et al., <a href="#bib.bib20" title="" class="ltx_ref">2021</a>)</cite> and layout attention <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib29" title="" class="ltx_ref">2023b</a>; Cheng et al., <a href="#bib.bib8" title="" class="ltx_ref">2023</a>)</cite>) to encode layouts, limiting its flexibility to incorporate extra geometric conditions such as camera views.
Therefore, the question arises:
<span id="S1.p2.1.4" class="ltx_text ltx_font_italic">Can we utilize a pre-trained powerful text-to-image (T2I) diffusion model to encode various geometric conditions for high-quality detection data generation?</span></p>
</div>
<div id="S1.p3" class="ltx_para ltx_noindent">
<p id="S1.p3.1" class="ltx_p">Inspired by the recent advancement of language models (LMs) <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a href="#bib.bib6" title="" class="ltx_ref">2023b</a>; Gou et al., <a href="#bib.bib15" title="" class="ltx_ref">2023</a>)</cite>, we propose <span id="S1.p3.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>, a simple framework to translate different geometric conditions as a “foreign language” via text prompts to empower pre-trained text-to-image diffusion models <cite class="ltx_cite ltx_citemacro_citep">(Rombach et al., <a href="#bib.bib45" title="" class="ltx_ref">2022</a>)</cite> for high-quality object detection data generation.
Different from the previous L2I methods which can only encode bounding boxes, our work can encode various additional geometric conditions flexibly
benefiting from translating conditions into text prompts
(<span id="S1.p3.1.2" class="ltx_text ltx_font_italic">e.g</span>.<span id="S1.p3.1.3" class="ltx_text"></span>, <span id="S1.p3.1.4" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> is able to control image generation conditioning on camera views in self-driving scenes).
Considering the extreme imbalance among foreground and background regions, we further propose a foreground re-weighting mechanism which adaptively assigns higher loss weights to foreground regions while considering the area difference among foreground objects at the same time.
Despite its simplicity, <span id="S1.p3.1.5" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> generates highly realistic images consistent with geometric layouts, significantly surpassing previous L2I methods <span id="S1.p3.1.6" class="ltx_text" style="color:#000000;">(<span id="S1.p3.1.6.1" class="ltx_text ltx_font_bold">+21.85 FID</span> and <span id="S1.p3.1.6.2" class="ltx_text ltx_font_bold">+27.1 mAP</span> compared with LostGAN <cite class="ltx_cite ltx_citemacro_citep">(Sun &amp; Wu, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>)</cite> and <span id="S1.p3.1.6.3" class="ltx_text ltx_font_bold">+12.27 FID</span> and <span id="S1.p3.1.6.4" class="ltx_text ltx_font_bold">+11.9 mAP</span> compared with the ControlNet <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a href="#bib.bib55" title="" class="ltx_ref">2023</a>)</cite>)</span>.
<span id="S1.p3.1.7" class="ltx_text ltx_font_bold">For the first time</span>, we demonstrate generated images of L2I models can be beneficial for training object detectors, particularly in annotation-scarce scenarios.
Moreover, <span id="S1.p3.1.8" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can generate novel images for simulation (Fig. <a href="#S4.F4" title="Figure 4 ‣ Discussion. ‣ 4.2.2 Trainability ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>) and support complicated image inpainting requests (Fig. <a href="#S4.F5" title="Figure 5 ‣ Inpainting. ‣ 4.3 Universality ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>).</p>
</div>
<div id="S1.p4" class="ltx_para ltx_noindent">
<p id="S1.p4.1" class="ltx_p">The main contributions of this work contain three parts:</p>
<ol id="S1.I1" class="ltx_enumerate">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S1.I1.i1.p1" class="ltx_para ltx_noindent">
<p id="S1.I1.i1.p1.1" class="ltx_p"><span id="S1.I1.i1.p1.1.1" class="ltx_text" style="color:#000000;">We propose <span id="S1.I1.i1.p1.1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>, an embarrassingly simple framework to integrate geometric controls into pre-trained diffusion models for detection data generation via text prompts.</span></p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S1.I1.i2.p1" class="ltx_para ltx_noindent">
<p id="S1.I1.i2.p1.1" class="ltx_p">With extensive experiments, we demonstrate that <span id="S1.I1.i2.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> outperforms previous L2I methods by a significant margin while maintaining highly efficient (approximately 4<math id="S1.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S1.I1.i2.p1.1.m1.1a"><mo id="S1.I1.i2.p1.1.m1.1.1" xref="S1.I1.i2.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S1.I1.i2.p1.1.m1.1b"><times id="S1.I1.i2.p1.1.m1.1.1.cmml" xref="S1.I1.i2.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.i2.p1.1.m1.1c">\times</annotation></semantics></math> training acceleration).</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S1.I1.i3.p1" class="ltx_para ltx_noindent">
<p id="S1.I1.i3.p1.1" class="ltx_p">For the first time, we demonstrate that the generated images of layout-to-image models can be beneficial to training object detectors, especially for the annotation-scarce circumstances in object detection datasets.</p>
</div>
</li>
</ol>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Diffusion models.</h5>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px1.p1.1" class="ltx_p">Recent progress in generative models has witnessed the success of diffusion models <cite class="ltx_cite ltx_citemacro_citep">(Ho et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>; Song et al., <a href="#bib.bib48" title="" class="ltx_ref">2020</a>)</cite>, which generates images through a progressive denoising diffusion procedure starting from a normal distributed random sample.
These models have shown exceptional capabilities in image generation and potential applications, including text-to-image synthesis <cite class="ltx_cite ltx_citemacro_citep">(Nichol et al., <a href="#bib.bib38" title="" class="ltx_ref">2021</a>; Ramesh et al., <a href="#bib.bib41" title="" class="ltx_ref">2022</a>)</cite>, image-to-image translation <cite class="ltx_cite ltx_citemacro_citep">(Saharia et al., <a href="#bib.bib46" title="" class="ltx_ref">2022a</a>; <a href="#bib.bib47" title="" class="ltx_ref">b</a>)</cite>, inpainting <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a href="#bib.bib52" title="" class="ltx_ref">2022</a>)</cite>, and text-guided image editing <cite class="ltx_cite ltx_citemacro_citep">(Nichol et al., <a href="#bib.bib38" title="" class="ltx_ref">2021</a>; Hertz et al., <a href="#bib.bib21" title="" class="ltx_ref">2022</a>)</cite>.
Given the impressive success, employing diffusion models to generate perception-centric training data holds significant promise for exploiting the boundaries of perceptual model capabilities.</p>
</div>
<figure id="S2.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span><span id="S2.T1.5.1" class="ltx_text ltx_font_bold">Key differences between our </span><span id="S2.T1.6.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span><span id="S2.T1.7.3" class="ltx_text ltx_font_bold"> and existing works.</span>
<span id="S2.T1.8.4" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can generate highly realistic detection data with flexible fine-grained text-prompted geometric controls.
</figcaption>
<div id="S2.T1.9" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:489.8pt;height:86.4pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-12.9pt,2.3pt) scale(0.95,0.95) ;">
<table id="S2.T1.9.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S2.T1.9.1.1.1" class="ltx_tr">
<th id="S2.T1.9.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:5.3pt;padding-right:5.3pt;">Paradigm</th>
<th id="S2.T1.9.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:5.3pt;padding-right:5.3pt;">Realistic</th>
<th id="S2.T1.9.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:5.3pt;padding-right:5.3pt;">Layout Control</th>
<th id="S2.T1.9.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:5.3pt;padding-right:5.3pt;">Extra Geo. Control</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S2.T1.9.1.2.1" class="ltx_tr">
<th id="S2.T1.9.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.3pt;padding-right:5.3pt;">Copy-paste <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al., <a href="#bib.bib57" title="" class="ltx_ref">2022</a>)</cite>
</th>
<td id="S2.T1.9.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#FAE6E6;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.2.1.2.1" class="ltx_text" style="background-color:#FAE6E6;">✗</span></td>
<td id="S2.T1.9.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E6F3E8;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.2.1.3.1" class="ltx_text" style="background-color:#E6F3E8;">✓</span></td>
<td id="S2.T1.9.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#FAE6E6;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.2.1.4.1" class="ltx_text" style="background-color:#FAE6E6;">✗</span></td>
</tr>
<tr id="S2.T1.9.1.3.2" class="ltx_tr">
<th id="S2.T1.9.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:5.3pt;padding-right:5.3pt;">Layout-to-image <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib29" title="" class="ltx_ref">2023b</a>)</cite>
</th>
<td id="S2.T1.9.1.3.2.2" class="ltx_td ltx_align_center" style="background-color:#E6F3E8;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.3.2.2.1" class="ltx_text" style="background-color:#E6F3E8;">✓</span></td>
<td id="S2.T1.9.1.3.2.3" class="ltx_td ltx_align_center" style="background-color:#E6F3E8;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.3.2.3.1" class="ltx_text" style="background-color:#E6F3E8;">✓</span></td>
<td id="S2.T1.9.1.3.2.4" class="ltx_td ltx_align_center" style="background-color:#FAE6E6;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.3.2.4.1" class="ltx_text" style="background-color:#FAE6E6;">✗</span></td>
</tr>
<tr id="S2.T1.9.1.4.3" class="ltx_tr">
<th id="S2.T1.9.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:5.3pt;padding-right:5.3pt;">Perception-based <cite class="ltx_cite ltx_citemacro_citep">(Wu et al., <a href="#bib.bib53" title="" class="ltx_ref">2023</a>)</cite>
</th>
<td id="S2.T1.9.1.4.3.2" class="ltx_td ltx_align_center" style="background-color:#E6F3E8;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.4.3.2.1" class="ltx_text" style="background-color:#E6F3E8;">✓</span></td>
<td id="S2.T1.9.1.4.3.3" class="ltx_td ltx_align_center" style="background-color:#FAE6E6;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.4.3.3.1" class="ltx_text" style="background-color:#FAE6E6;">✗</span></td>
<td id="S2.T1.9.1.4.3.4" class="ltx_td ltx_align_center" style="background-color:#FAE6E6;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.4.3.4.1" class="ltx_text" style="background-color:#FAE6E6;">✗</span></td>
</tr>
<tr id="S2.T1.9.1.5.4" class="ltx_tr">
<th id="S2.T1.9.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.5.4.1.1" class="ltx_text ltx_font_bold">GeoDiffusion</span></th>
<td id="S2.T1.9.1.5.4.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="background-color:#E6F3E8;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.5.4.2.1" class="ltx_text" style="background-color:#E6F3E8;">✓</span></td>
<td id="S2.T1.9.1.5.4.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="background-color:#E6F3E8;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.5.4.3.1" class="ltx_text" style="background-color:#E6F3E8;">✓</span></td>
<td id="S2.T1.9.1.5.4.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="background-color:#E6F3E8;padding-left:5.3pt;padding-right:5.3pt;"><span id="S2.T1.9.1.5.4.4.1" class="ltx_text" style="background-color:#E6F3E8;">✓</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Copy-paste synthesis.</h5>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px2.p1.1" class="ltx_p">Considering that object detection models require a large amount of data, the replication of image samples, also known as copy-paste, has emerged as a straightforward way to improve data efficiency of object detection models.
Nikita <span id="S2.SS0.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_italic">et al</span>.<span id="S2.SS0.SSS0.Px2.p1.1.2" class="ltx_text"></span> <cite class="ltx_cite ltx_citemacro_citep">(Dvornik et al., <a href="#bib.bib10" title="" class="ltx_ref">2018</a>)</cite> first introduce Copy-Paste as an effective augmentation for detectors.
Simple Copy-Paste <cite class="ltx_cite ltx_citemacro_citep">(Ghiasi et al., <a href="#bib.bib13" title="" class="ltx_ref">2021</a>)</cite> uses a simple random placement strategy and yields solid improvements.
Recently, <cite class="ltx_cite ltx_citemacro_citep">(Ge et al., <a href="#bib.bib12" title="" class="ltx_ref">2022</a>; Zhao et al., <a href="#bib.bib57" title="" class="ltx_ref">2022</a>)</cite> perform copy-paste synthesis by firstly generating foreground objects which are copied and pasted on a background image.
Although beneficial for detectors, the synthesized images are: a) <span id="S2.SS0.SSS0.Px2.p1.1.3" class="ltx_text ltx_font_italic">not realistic</span>; b) <span id="S2.SS0.SSS0.Px2.p1.1.4" class="ltx_text ltx_font_italic">no controllable</span> on fine-grained geometric conditions (<span id="S2.SS0.SSS0.Px2.p1.1.5" class="ltx_text ltx_font_italic">e.g</span>.<span id="S2.SS0.SSS0.Px2.p1.1.6" class="ltx_text"></span>, camera views).
Thus, we focus on integrating various geometric controls into pre-trained diffusion models.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Layout-to-image generation</h5>

<div id="S2.SS0.SSS0.Px3.p1" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px3.p1.1" class="ltx_p">aims at taking a graphical input of a high-level layout and generating a corresponding photorealistic image.
To address, LAMA <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib30" title="" class="ltx_ref">2021</a>)</cite> designs a locality-aware mask adaption module to adapt the overlapped object masks during generation,
while Taming <cite class="ltx_cite ltx_citemacro_citep">(Jahn et al., <a href="#bib.bib24" title="" class="ltx_ref">2021</a>)</cite> demonstrates a conceptually simple model can outperform previous highly specialized systems when trained in the latent space.
Recently, GLIGEN <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib29" title="" class="ltx_ref">2023b</a>)</cite> introduces extra gated self-attention layers into pre-trained diffusion models for layout control, and LayoutDiffuse <cite class="ltx_cite ltx_citemacro_citep">(Cheng et al., <a href="#bib.bib8" title="" class="ltx_ref">2023</a>)</cite> utilizes novel layout attention modules specifically designed for bounding boxes.
The most similar with ours is ReCo <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a href="#bib.bib54" title="" class="ltx_ref">2023</a>)</cite>, while <span id="S2.SS0.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> further 1) supports extra geometric controls purely with text prompts, 2) proposes the foreground prior re-weighting for better foreground object modeling and 3) demonstrates L2I-generated images can benefit object detectors.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Perception-based generation.</h5>

<div id="S2.SS0.SSS0.Px4.p1" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px4.p1.1" class="ltx_p">Instead of conducting conditional generation given a specific input layout, perception-based generation aims at generating corresponding annotations simultaneously during the original unconditional generation procedure by adopting a perception head upon the pre-trained diffusion models.
DatasetDM <cite class="ltx_cite ltx_citemacro_citep">(Wu et al., <a href="#bib.bib53" title="" class="ltx_ref">2023</a>)</cite> learns a Mask2Former-style P-decoder upon a fixed Stable Diffusion model, while Li <span id="S2.SS0.SSS0.Px4.p1.1.1" class="ltx_text ltx_font_italic">et al</span>.<span id="S2.SS0.SSS0.Px4.p1.1.2" class="ltx_text"></span> <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib31" title="" class="ltx_ref">2023c</a>)</cite> further propose a fusion module to support open-vocabulary segmentation.
Although effective, perception-based methods 1) can hardly outperform directly combining pre-trained diffusion models with specialized open-world perception models (<span id="S2.SS0.SSS0.Px4.p1.1.3" class="ltx_text ltx_font_italic">e.g</span>.<span id="S2.SS0.SSS0.Px4.p1.1.4" class="ltx_text"></span>, SAM <cite class="ltx_cite ltx_citemacro_citep">(Kirillov et al., <a href="#bib.bib26" title="" class="ltx_ref">2023</a>)</cite>),
2) solely rely on pre-trained diffusion models for image generation and cannot generalize to other domains (<span id="S2.SS0.SSS0.Px4.p1.1.5" class="ltx_text ltx_font_italic">e.g</span>.<span id="S2.SS0.SSS0.Px4.p1.1.6" class="ltx_text"></span>, driving scenes) and
3) only support textual-conditional generation, neither the fine-grained geometric controls (<span id="S2.SS0.SSS0.Px4.p1.1.7" class="ltx_text ltx_font_italic">e.g</span>.<span id="S2.SS0.SSS0.Px4.p1.1.8" class="ltx_text"></span>, bounding boxes and camera views) nor sophisticated image editing requests (<span id="S2.SS0.SSS0.Px4.p1.1.9" class="ltx_text ltx_font_italic">e.g</span>.<span id="S2.SS0.SSS0.Px4.p1.1.10" class="ltx_text"></span>, inpainting).</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>

<div id="S3.p1" class="ltx_para ltx_noindent">
<p id="S3.p1.1" class="ltx_p">In this section, we first introduce the basic formulation of our <span id="S3.p1.1.1" class="ltx_text ltx_font_italic">generalized layout-to-image</span> (GL2I) generation problem with geometric conditions and diffusion models (DMs) <cite class="ltx_cite ltx_citemacro_citep">(Ho et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> in Sec. <a href="#S3.SS1.SSS1" title="3.1.1 Generalized Layout-to-image Generation ‣ 3.1 Preliminary ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1.1</span></a> and <a href="#S3.SS1.SSS2" title="3.1.2 Conditional Diffusion Models ‣ 3.1 Preliminary ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1.2</span></a> separately.
Then, we discuss how to flexibly encode the geometric conditions via text prompts to utilize pre-trained text-to-image (T2I) diffusion models <cite class="ltx_cite ltx_citemacro_citep">(Rombach et al., <a href="#bib.bib45" title="" class="ltx_ref">2022</a>)</cite> and build our <span id="S3.p1.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> in Sec. <a href="#S3.SS2" title="3.2 Geometric Conditions as a Foreign Language ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a> and <a href="#S3.SS3" title="3.3 Foreground Prior Re-weighting ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Preliminary</h3>

<section id="S3.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.1 </span>Generalized Layout-to-image Generation</h4>

<div id="S3.SS1.SSS1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS1.SSS1.p1.10" class="ltx_p">Let <math id="S3.SS1.SSS1.p1.1.m1.2" class="ltx_Math" alttext="L=(v,\{(c_{i},b_{i})\}_{i=1}^{N})" display="inline"><semantics id="S3.SS1.SSS1.p1.1.m1.2a"><mrow id="S3.SS1.SSS1.p1.1.m1.2.2" xref="S3.SS1.SSS1.p1.1.m1.2.2.cmml"><mi id="S3.SS1.SSS1.p1.1.m1.2.2.3" xref="S3.SS1.SSS1.p1.1.m1.2.2.3.cmml">L</mi><mo id="S3.SS1.SSS1.p1.1.m1.2.2.2" xref="S3.SS1.SSS1.p1.1.m1.2.2.2.cmml">=</mo><mrow id="S3.SS1.SSS1.p1.1.m1.2.2.1.1" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.2.cmml"><mo stretchy="false" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.2" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.2.cmml">(</mo><mi id="S3.SS1.SSS1.p1.1.m1.1.1" xref="S3.SS1.SSS1.p1.1.m1.1.1.cmml">v</mi><mo id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.3" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.2.cmml">,</mo><msubsup id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.cmml"><mrow id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.2" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.2.cmml">{</mo><mrow id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.3" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml">(</mo><msub id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">c</mi><mi id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.4" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml">b</mi><mi id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.5" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo stretchy="false" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.3" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.cmml"><mi id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.2" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.2.cmml">i</mi><mo id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.1" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.3" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.3" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.3.cmml">N</mi></msubsup><mo stretchy="false" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.4" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.1.m1.2b"><apply id="S3.SS1.SSS1.p1.1.m1.2.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2"><eq id="S3.SS1.SSS1.p1.1.m1.2.2.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.2"></eq><ci id="S3.SS1.SSS1.p1.1.m1.2.2.3.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.3">𝐿</ci><interval closure="open" id="S3.SS1.SSS1.p1.1.m1.2.2.1.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1"><ci id="S3.SS1.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS1.p1.1.m1.1.1">𝑣</ci><apply id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1">superscript</csymbol><apply id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1">subscript</csymbol><set id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1"><interval closure="open" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2"><apply id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝑐</ci><ci id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2">𝑏</ci><ci id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3">𝑖</ci></apply></interval></set><apply id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3"><eq id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.1"></eq><ci id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS1.SSS1.p1.1.m1.2.2.1.1.1.3">𝑁</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.1.m1.2c">L=(v,\{(c_{i},b_{i})\}_{i=1}^{N})</annotation></semantics></math> be a <span id="S3.SS1.SSS1.p1.10.1" class="ltx_text ltx_font_italic">geometric layout</span> with <math id="S3.SS1.SSS1.p1.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS1.SSS1.p1.2.m2.1a"><mi id="S3.SS1.SSS1.p1.2.m2.1.1" xref="S3.SS1.SSS1.p1.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.2.m2.1b"><ci id="S3.SS1.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS1.p1.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.2.m2.1c">N</annotation></semantics></math> bounding boxes, where <math id="S3.SS1.SSS1.p1.3.m3.1" class="ltx_Math" alttext="c_{i}\in\mathcal{C}" display="inline"><semantics id="S3.SS1.SSS1.p1.3.m3.1a"><mrow id="S3.SS1.SSS1.p1.3.m3.1.1" xref="S3.SS1.SSS1.p1.3.m3.1.1.cmml"><msub id="S3.SS1.SSS1.p1.3.m3.1.1.2" xref="S3.SS1.SSS1.p1.3.m3.1.1.2.cmml"><mi id="S3.SS1.SSS1.p1.3.m3.1.1.2.2" xref="S3.SS1.SSS1.p1.3.m3.1.1.2.2.cmml">c</mi><mi id="S3.SS1.SSS1.p1.3.m3.1.1.2.3" xref="S3.SS1.SSS1.p1.3.m3.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS1.SSS1.p1.3.m3.1.1.1" xref="S3.SS1.SSS1.p1.3.m3.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.3.m3.1.1.3" xref="S3.SS1.SSS1.p1.3.m3.1.1.3.cmml">𝒞</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.3.m3.1b"><apply id="S3.SS1.SSS1.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS1.p1.3.m3.1.1"><in id="S3.SS1.SSS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSS1.p1.3.m3.1.1.1"></in><apply id="S3.SS1.SSS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSS1.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.3.m3.1.1.2.1.cmml" xref="S3.SS1.SSS1.p1.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS1.SSS1.p1.3.m3.1.1.2.2.cmml" xref="S3.SS1.SSS1.p1.3.m3.1.1.2.2">𝑐</ci><ci id="S3.SS1.SSS1.p1.3.m3.1.1.2.3.cmml" xref="S3.SS1.SSS1.p1.3.m3.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.SSS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.SSS1.p1.3.m3.1.1.3">𝒞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.3.m3.1c">c_{i}\in\mathcal{C}</annotation></semantics></math> denotes the semantic class, and <math id="S3.SS1.SSS1.p1.4.m4.12" class="ltx_Math" alttext="b_{i}=[x_{i,1},y_{i,1},x_{i,2},y_{i,2}]" display="inline"><semantics id="S3.SS1.SSS1.p1.4.m4.12a"><mrow id="S3.SS1.SSS1.p1.4.m4.12.12" xref="S3.SS1.SSS1.p1.4.m4.12.12.cmml"><msub id="S3.SS1.SSS1.p1.4.m4.12.12.6" xref="S3.SS1.SSS1.p1.4.m4.12.12.6.cmml"><mi id="S3.SS1.SSS1.p1.4.m4.12.12.6.2" xref="S3.SS1.SSS1.p1.4.m4.12.12.6.2.cmml">b</mi><mi id="S3.SS1.SSS1.p1.4.m4.12.12.6.3" xref="S3.SS1.SSS1.p1.4.m4.12.12.6.3.cmml">i</mi></msub><mo id="S3.SS1.SSS1.p1.4.m4.12.12.5" xref="S3.SS1.SSS1.p1.4.m4.12.12.5.cmml">=</mo><mrow id="S3.SS1.SSS1.p1.4.m4.12.12.4.4" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.5.cmml"><mo stretchy="false" id="S3.SS1.SSS1.p1.4.m4.12.12.4.4.5" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.5.cmml">[</mo><msub id="S3.SS1.SSS1.p1.4.m4.9.9.1.1.1" xref="S3.SS1.SSS1.p1.4.m4.9.9.1.1.1.cmml"><mi id="S3.SS1.SSS1.p1.4.m4.9.9.1.1.1.2" xref="S3.SS1.SSS1.p1.4.m4.9.9.1.1.1.2.cmml">x</mi><mrow id="S3.SS1.SSS1.p1.4.m4.2.2.2.4" xref="S3.SS1.SSS1.p1.4.m4.2.2.2.3.cmml"><mi id="S3.SS1.SSS1.p1.4.m4.1.1.1.1" xref="S3.SS1.SSS1.p1.4.m4.1.1.1.1.cmml">i</mi><mo id="S3.SS1.SSS1.p1.4.m4.2.2.2.4.1" xref="S3.SS1.SSS1.p1.4.m4.2.2.2.3.cmml">,</mo><mn id="S3.SS1.SSS1.p1.4.m4.2.2.2.2" xref="S3.SS1.SSS1.p1.4.m4.2.2.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS1.SSS1.p1.4.m4.12.12.4.4.6" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.5.cmml">,</mo><msub id="S3.SS1.SSS1.p1.4.m4.10.10.2.2.2" xref="S3.SS1.SSS1.p1.4.m4.10.10.2.2.2.cmml"><mi id="S3.SS1.SSS1.p1.4.m4.10.10.2.2.2.2" xref="S3.SS1.SSS1.p1.4.m4.10.10.2.2.2.2.cmml">y</mi><mrow id="S3.SS1.SSS1.p1.4.m4.4.4.2.4" xref="S3.SS1.SSS1.p1.4.m4.4.4.2.3.cmml"><mi id="S3.SS1.SSS1.p1.4.m4.3.3.1.1" xref="S3.SS1.SSS1.p1.4.m4.3.3.1.1.cmml">i</mi><mo id="S3.SS1.SSS1.p1.4.m4.4.4.2.4.1" xref="S3.SS1.SSS1.p1.4.m4.4.4.2.3.cmml">,</mo><mn id="S3.SS1.SSS1.p1.4.m4.4.4.2.2" xref="S3.SS1.SSS1.p1.4.m4.4.4.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS1.SSS1.p1.4.m4.12.12.4.4.7" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.5.cmml">,</mo><msub id="S3.SS1.SSS1.p1.4.m4.11.11.3.3.3" xref="S3.SS1.SSS1.p1.4.m4.11.11.3.3.3.cmml"><mi id="S3.SS1.SSS1.p1.4.m4.11.11.3.3.3.2" xref="S3.SS1.SSS1.p1.4.m4.11.11.3.3.3.2.cmml">x</mi><mrow id="S3.SS1.SSS1.p1.4.m4.6.6.2.4" xref="S3.SS1.SSS1.p1.4.m4.6.6.2.3.cmml"><mi id="S3.SS1.SSS1.p1.4.m4.5.5.1.1" xref="S3.SS1.SSS1.p1.4.m4.5.5.1.1.cmml">i</mi><mo id="S3.SS1.SSS1.p1.4.m4.6.6.2.4.1" xref="S3.SS1.SSS1.p1.4.m4.6.6.2.3.cmml">,</mo><mn id="S3.SS1.SSS1.p1.4.m4.6.6.2.2" xref="S3.SS1.SSS1.p1.4.m4.6.6.2.2.cmml">2</mn></mrow></msub><mo id="S3.SS1.SSS1.p1.4.m4.12.12.4.4.8" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.5.cmml">,</mo><msub id="S3.SS1.SSS1.p1.4.m4.12.12.4.4.4" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.4.4.cmml"><mi id="S3.SS1.SSS1.p1.4.m4.12.12.4.4.4.2" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.4.4.2.cmml">y</mi><mrow id="S3.SS1.SSS1.p1.4.m4.8.8.2.4" xref="S3.SS1.SSS1.p1.4.m4.8.8.2.3.cmml"><mi id="S3.SS1.SSS1.p1.4.m4.7.7.1.1" xref="S3.SS1.SSS1.p1.4.m4.7.7.1.1.cmml">i</mi><mo id="S3.SS1.SSS1.p1.4.m4.8.8.2.4.1" xref="S3.SS1.SSS1.p1.4.m4.8.8.2.3.cmml">,</mo><mn id="S3.SS1.SSS1.p1.4.m4.8.8.2.2" xref="S3.SS1.SSS1.p1.4.m4.8.8.2.2.cmml">2</mn></mrow></msub><mo stretchy="false" id="S3.SS1.SSS1.p1.4.m4.12.12.4.4.9" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.5.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.4.m4.12b"><apply id="S3.SS1.SSS1.p1.4.m4.12.12.cmml" xref="S3.SS1.SSS1.p1.4.m4.12.12"><eq id="S3.SS1.SSS1.p1.4.m4.12.12.5.cmml" xref="S3.SS1.SSS1.p1.4.m4.12.12.5"></eq><apply id="S3.SS1.SSS1.p1.4.m4.12.12.6.cmml" xref="S3.SS1.SSS1.p1.4.m4.12.12.6"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.4.m4.12.12.6.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.12.12.6">subscript</csymbol><ci id="S3.SS1.SSS1.p1.4.m4.12.12.6.2.cmml" xref="S3.SS1.SSS1.p1.4.m4.12.12.6.2">𝑏</ci><ci id="S3.SS1.SSS1.p1.4.m4.12.12.6.3.cmml" xref="S3.SS1.SSS1.p1.4.m4.12.12.6.3">𝑖</ci></apply><list id="S3.SS1.SSS1.p1.4.m4.12.12.4.5.cmml" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.4"><apply id="S3.SS1.SSS1.p1.4.m4.9.9.1.1.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.9.9.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.4.m4.9.9.1.1.1.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.9.9.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS1.p1.4.m4.9.9.1.1.1.2.cmml" xref="S3.SS1.SSS1.p1.4.m4.9.9.1.1.1.2">𝑥</ci><list id="S3.SS1.SSS1.p1.4.m4.2.2.2.3.cmml" xref="S3.SS1.SSS1.p1.4.m4.2.2.2.4"><ci id="S3.SS1.SSS1.p1.4.m4.1.1.1.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.1.1.1.1">𝑖</ci><cn type="integer" id="S3.SS1.SSS1.p1.4.m4.2.2.2.2.cmml" xref="S3.SS1.SSS1.p1.4.m4.2.2.2.2">1</cn></list></apply><apply id="S3.SS1.SSS1.p1.4.m4.10.10.2.2.2.cmml" xref="S3.SS1.SSS1.p1.4.m4.10.10.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.4.m4.10.10.2.2.2.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.10.10.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS1.p1.4.m4.10.10.2.2.2.2.cmml" xref="S3.SS1.SSS1.p1.4.m4.10.10.2.2.2.2">𝑦</ci><list id="S3.SS1.SSS1.p1.4.m4.4.4.2.3.cmml" xref="S3.SS1.SSS1.p1.4.m4.4.4.2.4"><ci id="S3.SS1.SSS1.p1.4.m4.3.3.1.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.3.3.1.1">𝑖</ci><cn type="integer" id="S3.SS1.SSS1.p1.4.m4.4.4.2.2.cmml" xref="S3.SS1.SSS1.p1.4.m4.4.4.2.2">1</cn></list></apply><apply id="S3.SS1.SSS1.p1.4.m4.11.11.3.3.3.cmml" xref="S3.SS1.SSS1.p1.4.m4.11.11.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.4.m4.11.11.3.3.3.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.11.11.3.3.3">subscript</csymbol><ci id="S3.SS1.SSS1.p1.4.m4.11.11.3.3.3.2.cmml" xref="S3.SS1.SSS1.p1.4.m4.11.11.3.3.3.2">𝑥</ci><list id="S3.SS1.SSS1.p1.4.m4.6.6.2.3.cmml" xref="S3.SS1.SSS1.p1.4.m4.6.6.2.4"><ci id="S3.SS1.SSS1.p1.4.m4.5.5.1.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.5.5.1.1">𝑖</ci><cn type="integer" id="S3.SS1.SSS1.p1.4.m4.6.6.2.2.cmml" xref="S3.SS1.SSS1.p1.4.m4.6.6.2.2">2</cn></list></apply><apply id="S3.SS1.SSS1.p1.4.m4.12.12.4.4.4.cmml" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.4.4"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.4.m4.12.12.4.4.4.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.4.4">subscript</csymbol><ci id="S3.SS1.SSS1.p1.4.m4.12.12.4.4.4.2.cmml" xref="S3.SS1.SSS1.p1.4.m4.12.12.4.4.4.2">𝑦</ci><list id="S3.SS1.SSS1.p1.4.m4.8.8.2.3.cmml" xref="S3.SS1.SSS1.p1.4.m4.8.8.2.4"><ci id="S3.SS1.SSS1.p1.4.m4.7.7.1.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.7.7.1.1">𝑖</ci><cn type="integer" id="S3.SS1.SSS1.p1.4.m4.8.8.2.2.cmml" xref="S3.SS1.SSS1.p1.4.m4.8.8.2.2">2</cn></list></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.4.m4.12c">b_{i}=[x_{i,1},y_{i,1},x_{i,2},y_{i,2}]</annotation></semantics></math> represents locations of the bounding box (<span id="S3.SS1.SSS1.p1.10.2" class="ltx_text ltx_font_italic">i.e</span>.<span id="S3.SS1.SSS1.p1.10.3" class="ltx_text"></span>, top-left and bottm-right corners).
<math id="S3.SS1.SSS1.p1.5.m5.1" class="ltx_Math" alttext="v\in\mathcal{V}" display="inline"><semantics id="S3.SS1.SSS1.p1.5.m5.1a"><mrow id="S3.SS1.SSS1.p1.5.m5.1.1" xref="S3.SS1.SSS1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.SSS1.p1.5.m5.1.1.2" xref="S3.SS1.SSS1.p1.5.m5.1.1.2.cmml">v</mi><mo id="S3.SS1.SSS1.p1.5.m5.1.1.1" xref="S3.SS1.SSS1.p1.5.m5.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.5.m5.1.1.3" xref="S3.SS1.SSS1.p1.5.m5.1.1.3.cmml">𝒱</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.5.m5.1b"><apply id="S3.SS1.SSS1.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS1.p1.5.m5.1.1"><in id="S3.SS1.SSS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.SSS1.p1.5.m5.1.1.1"></in><ci id="S3.SS1.SSS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.SSS1.p1.5.m5.1.1.2">𝑣</ci><ci id="S3.SS1.SSS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.SSS1.p1.5.m5.1.1.3">𝒱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.5.m5.1c">v\in\mathcal{V}</annotation></semantics></math> can be any extra <span id="S3.SS1.SSS1.p1.10.4" class="ltx_text ltx_font_italic">geometric conditions</span> associated with the layout.
Without loss of generality, we take camera views as an example in this paper.
Thus, the <span id="S3.SS1.SSS1.p1.10.5" class="ltx_text ltx_font_italic">generalized layout-to-image</span> generation aims at learning a <math id="S3.SS1.SSS1.p1.6.m6.2" class="ltx_Math" alttext="\mathcal{G}(\cdot,\cdot)" display="inline"><semantics id="S3.SS1.SSS1.p1.6.m6.2a"><mrow id="S3.SS1.SSS1.p1.6.m6.2.3" xref="S3.SS1.SSS1.p1.6.m6.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.6.m6.2.3.2" xref="S3.SS1.SSS1.p1.6.m6.2.3.2.cmml">𝒢</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS1.p1.6.m6.2.3.1" xref="S3.SS1.SSS1.p1.6.m6.2.3.1.cmml">​</mo><mrow id="S3.SS1.SSS1.p1.6.m6.2.3.3.2" xref="S3.SS1.SSS1.p1.6.m6.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS1.SSS1.p1.6.m6.2.3.3.2.1" xref="S3.SS1.SSS1.p1.6.m6.2.3.3.1.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.SSS1.p1.6.m6.1.1" xref="S3.SS1.SSS1.p1.6.m6.1.1.cmml">⋅</mo><mo rspace="0em" id="S3.SS1.SSS1.p1.6.m6.2.3.3.2.2" xref="S3.SS1.SSS1.p1.6.m6.2.3.3.1.cmml">,</mo><mo lspace="0em" rspace="0em" id="S3.SS1.SSS1.p1.6.m6.2.2" xref="S3.SS1.SSS1.p1.6.m6.2.2.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.SSS1.p1.6.m6.2.3.3.2.3" xref="S3.SS1.SSS1.p1.6.m6.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.6.m6.2b"><apply id="S3.SS1.SSS1.p1.6.m6.2.3.cmml" xref="S3.SS1.SSS1.p1.6.m6.2.3"><times id="S3.SS1.SSS1.p1.6.m6.2.3.1.cmml" xref="S3.SS1.SSS1.p1.6.m6.2.3.1"></times><ci id="S3.SS1.SSS1.p1.6.m6.2.3.2.cmml" xref="S3.SS1.SSS1.p1.6.m6.2.3.2">𝒢</ci><interval closure="open" id="S3.SS1.SSS1.p1.6.m6.2.3.3.1.cmml" xref="S3.SS1.SSS1.p1.6.m6.2.3.3.2"><ci id="S3.SS1.SSS1.p1.6.m6.1.1.cmml" xref="S3.SS1.SSS1.p1.6.m6.1.1">⋅</ci><ci id="S3.SS1.SSS1.p1.6.m6.2.2.cmml" xref="S3.SS1.SSS1.p1.6.m6.2.2">⋅</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.6.m6.2c">\mathcal{G}(\cdot,\cdot)</annotation></semantics></math> to generate images <math id="S3.SS1.SSS1.p1.7.m7.1" class="ltx_Math" alttext="I\in\mathcal{R}^{H\times W\times 3}" display="inline"><semantics id="S3.SS1.SSS1.p1.7.m7.1a"><mrow id="S3.SS1.SSS1.p1.7.m7.1.1" xref="S3.SS1.SSS1.p1.7.m7.1.1.cmml"><mi id="S3.SS1.SSS1.p1.7.m7.1.1.2" xref="S3.SS1.SSS1.p1.7.m7.1.1.2.cmml">I</mi><mo id="S3.SS1.SSS1.p1.7.m7.1.1.1" xref="S3.SS1.SSS1.p1.7.m7.1.1.1.cmml">∈</mo><msup id="S3.SS1.SSS1.p1.7.m7.1.1.3" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.7.m7.1.1.3.2" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.2.cmml">ℛ</mi><mrow id="S3.SS1.SSS1.p1.7.m7.1.1.3.3" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3.cmml"><mi id="S3.SS1.SSS1.p1.7.m7.1.1.3.3.2" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS1.p1.7.m7.1.1.3.3.1" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.SSS1.p1.7.m7.1.1.3.3.3" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3.3.cmml">W</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS1.p1.7.m7.1.1.3.3.1a" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3.1.cmml">×</mo><mn id="S3.SS1.SSS1.p1.7.m7.1.1.3.3.4" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3.4.cmml">3</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.7.m7.1b"><apply id="S3.SS1.SSS1.p1.7.m7.1.1.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1"><in id="S3.SS1.SSS1.p1.7.m7.1.1.1.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1.1"></in><ci id="S3.SS1.SSS1.p1.7.m7.1.1.2.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1.2">𝐼</ci><apply id="S3.SS1.SSS1.p1.7.m7.1.1.3.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.7.m7.1.1.3.1.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS1.p1.7.m7.1.1.3.2.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.2">ℛ</ci><apply id="S3.SS1.SSS1.p1.7.m7.1.1.3.3.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3"><times id="S3.SS1.SSS1.p1.7.m7.1.1.3.3.1.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3.1"></times><ci id="S3.SS1.SSS1.p1.7.m7.1.1.3.3.2.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3.2">𝐻</ci><ci id="S3.SS1.SSS1.p1.7.m7.1.1.3.3.3.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3.3">𝑊</ci><cn type="integer" id="S3.SS1.SSS1.p1.7.m7.1.1.3.3.4.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1.3.3.4">3</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.7.m7.1c">I\in\mathcal{R}^{H\times W\times 3}</annotation></semantics></math> conditional on given geometric layouts <math id="S3.SS1.SSS1.p1.8.m8.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS1.SSS1.p1.8.m8.1a"><mi id="S3.SS1.SSS1.p1.8.m8.1.1" xref="S3.SS1.SSS1.p1.8.m8.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.8.m8.1b"><ci id="S3.SS1.SSS1.p1.8.m8.1.1.cmml" xref="S3.SS1.SSS1.p1.8.m8.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.8.m8.1c">L</annotation></semantics></math> as <math id="S3.SS1.SSS1.p1.9.m9.2" class="ltx_Math" alttext="I=\mathcal{G}(L,z)" display="inline"><semantics id="S3.SS1.SSS1.p1.9.m9.2a"><mrow id="S3.SS1.SSS1.p1.9.m9.2.3" xref="S3.SS1.SSS1.p1.9.m9.2.3.cmml"><mi id="S3.SS1.SSS1.p1.9.m9.2.3.2" xref="S3.SS1.SSS1.p1.9.m9.2.3.2.cmml">I</mi><mo id="S3.SS1.SSS1.p1.9.m9.2.3.1" xref="S3.SS1.SSS1.p1.9.m9.2.3.1.cmml">=</mo><mrow id="S3.SS1.SSS1.p1.9.m9.2.3.3" xref="S3.SS1.SSS1.p1.9.m9.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.9.m9.2.3.3.2" xref="S3.SS1.SSS1.p1.9.m9.2.3.3.2.cmml">𝒢</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS1.p1.9.m9.2.3.3.1" xref="S3.SS1.SSS1.p1.9.m9.2.3.3.1.cmml">​</mo><mrow id="S3.SS1.SSS1.p1.9.m9.2.3.3.3.2" xref="S3.SS1.SSS1.p1.9.m9.2.3.3.3.1.cmml"><mo stretchy="false" id="S3.SS1.SSS1.p1.9.m9.2.3.3.3.2.1" xref="S3.SS1.SSS1.p1.9.m9.2.3.3.3.1.cmml">(</mo><mi id="S3.SS1.SSS1.p1.9.m9.1.1" xref="S3.SS1.SSS1.p1.9.m9.1.1.cmml">L</mi><mo id="S3.SS1.SSS1.p1.9.m9.2.3.3.3.2.2" xref="S3.SS1.SSS1.p1.9.m9.2.3.3.3.1.cmml">,</mo><mi id="S3.SS1.SSS1.p1.9.m9.2.2" xref="S3.SS1.SSS1.p1.9.m9.2.2.cmml">z</mi><mo stretchy="false" id="S3.SS1.SSS1.p1.9.m9.2.3.3.3.2.3" xref="S3.SS1.SSS1.p1.9.m9.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.9.m9.2b"><apply id="S3.SS1.SSS1.p1.9.m9.2.3.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3"><eq id="S3.SS1.SSS1.p1.9.m9.2.3.1.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3.1"></eq><ci id="S3.SS1.SSS1.p1.9.m9.2.3.2.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3.2">𝐼</ci><apply id="S3.SS1.SSS1.p1.9.m9.2.3.3.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3.3"><times id="S3.SS1.SSS1.p1.9.m9.2.3.3.1.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3.3.1"></times><ci id="S3.SS1.SSS1.p1.9.m9.2.3.3.2.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3.3.2">𝒢</ci><interval closure="open" id="S3.SS1.SSS1.p1.9.m9.2.3.3.3.1.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3.3.3.2"><ci id="S3.SS1.SSS1.p1.9.m9.1.1.cmml" xref="S3.SS1.SSS1.p1.9.m9.1.1">𝐿</ci><ci id="S3.SS1.SSS1.p1.9.m9.2.2.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.2">𝑧</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.9.m9.2c">I=\mathcal{G}(L,z)</annotation></semantics></math>, where <math id="S3.SS1.SSS1.p1.10.m10.2" class="ltx_Math" alttext="z\sim\mathcal{N}(0,1)" display="inline"><semantics id="S3.SS1.SSS1.p1.10.m10.2a"><mrow id="S3.SS1.SSS1.p1.10.m10.2.3" xref="S3.SS1.SSS1.p1.10.m10.2.3.cmml"><mi id="S3.SS1.SSS1.p1.10.m10.2.3.2" xref="S3.SS1.SSS1.p1.10.m10.2.3.2.cmml">z</mi><mo id="S3.SS1.SSS1.p1.10.m10.2.3.1" xref="S3.SS1.SSS1.p1.10.m10.2.3.1.cmml">∼</mo><mrow id="S3.SS1.SSS1.p1.10.m10.2.3.3" xref="S3.SS1.SSS1.p1.10.m10.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.10.m10.2.3.3.2" xref="S3.SS1.SSS1.p1.10.m10.2.3.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS1.p1.10.m10.2.3.3.1" xref="S3.SS1.SSS1.p1.10.m10.2.3.3.1.cmml">​</mo><mrow id="S3.SS1.SSS1.p1.10.m10.2.3.3.3.2" xref="S3.SS1.SSS1.p1.10.m10.2.3.3.3.1.cmml"><mo stretchy="false" id="S3.SS1.SSS1.p1.10.m10.2.3.3.3.2.1" xref="S3.SS1.SSS1.p1.10.m10.2.3.3.3.1.cmml">(</mo><mn id="S3.SS1.SSS1.p1.10.m10.1.1" xref="S3.SS1.SSS1.p1.10.m10.1.1.cmml">0</mn><mo id="S3.SS1.SSS1.p1.10.m10.2.3.3.3.2.2" xref="S3.SS1.SSS1.p1.10.m10.2.3.3.3.1.cmml">,</mo><mn id="S3.SS1.SSS1.p1.10.m10.2.2" xref="S3.SS1.SSS1.p1.10.m10.2.2.cmml">1</mn><mo stretchy="false" id="S3.SS1.SSS1.p1.10.m10.2.3.3.3.2.3" xref="S3.SS1.SSS1.p1.10.m10.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.10.m10.2b"><apply id="S3.SS1.SSS1.p1.10.m10.2.3.cmml" xref="S3.SS1.SSS1.p1.10.m10.2.3"><csymbol cd="latexml" id="S3.SS1.SSS1.p1.10.m10.2.3.1.cmml" xref="S3.SS1.SSS1.p1.10.m10.2.3.1">similar-to</csymbol><ci id="S3.SS1.SSS1.p1.10.m10.2.3.2.cmml" xref="S3.SS1.SSS1.p1.10.m10.2.3.2">𝑧</ci><apply id="S3.SS1.SSS1.p1.10.m10.2.3.3.cmml" xref="S3.SS1.SSS1.p1.10.m10.2.3.3"><times id="S3.SS1.SSS1.p1.10.m10.2.3.3.1.cmml" xref="S3.SS1.SSS1.p1.10.m10.2.3.3.1"></times><ci id="S3.SS1.SSS1.p1.10.m10.2.3.3.2.cmml" xref="S3.SS1.SSS1.p1.10.m10.2.3.3.2">𝒩</ci><interval closure="open" id="S3.SS1.SSS1.p1.10.m10.2.3.3.3.1.cmml" xref="S3.SS1.SSS1.p1.10.m10.2.3.3.3.2"><cn type="integer" id="S3.SS1.SSS1.p1.10.m10.1.1.cmml" xref="S3.SS1.SSS1.p1.10.m10.1.1">0</cn><cn type="integer" id="S3.SS1.SSS1.p1.10.m10.2.2.cmml" xref="S3.SS1.SSS1.p1.10.m10.2.2">1</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.10.m10.2c">z\sim\mathcal{N}(0,1)</annotation></semantics></math> is a random Gaussian noise.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2306.04607/assets/x3.png" id="S3.F2.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="163" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span><span id="S3.F2.5.1" class="ltx_text ltx_font_bold">Model architecture of <span id="S3.F2.5.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>.</span>
(a) <span id="S3.F2.6.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> encodes various geometric conditions via text prompts to empower text-to-image (T2I) diffusion models for generalized layout-to-image generation with various geometric conditions, even supporting the 3D geometric conditions as shown in Fig. <a href="#A5.F11" title="Figure 11 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>.
(b) <span id="S3.F2.7.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can generate highly realistic and diverse detection data to benefit the training of object detectors.
</figcaption>
</figure>
</section>
<section id="S3.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.2 </span>Conditional Diffusion Models</h4>

<div id="S3.SS1.SSS2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS1.SSS2.p1.7" class="ltx_p">Different from typical generative models like GAN <cite class="ltx_cite ltx_citemacro_citep">(Goodfellow et al., <a href="#bib.bib14" title="" class="ltx_ref">2014</a>)</cite> and VAE <cite class="ltx_cite ltx_citemacro_citep">(Kingma &amp; Welling, <a href="#bib.bib25" title="" class="ltx_ref">2013</a>)</cite>, diffusion models <cite class="ltx_cite ltx_citemacro_citep">(Ho et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> learn data underlying distribution by conducting a <math id="S3.SS1.SSS2.p1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS1.SSS2.p1.1.m1.1a"><mi id="S3.SS1.SSS2.p1.1.m1.1.1" xref="S3.SS1.SSS2.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p1.1.m1.1b"><ci id="S3.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p1.1.m1.1c">T</annotation></semantics></math>-step denoising process from normally distributed random variables, which can also be considered as learning an inverse process of a fixed Markov Chain of length <math id="S3.SS1.SSS2.p1.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS1.SSS2.p1.2.m2.1a"><mi id="S3.SS1.SSS2.p1.2.m2.1.1" xref="S3.SS1.SSS2.p1.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p1.2.m2.1b"><ci id="S3.SS1.SSS2.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS2.p1.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p1.2.m2.1c">T</annotation></semantics></math>.
Given a noisy input <math id="S3.SS1.SSS2.p1.3.m3.1" class="ltx_Math" alttext="x_{t}" display="inline"><semantics id="S3.SS1.SSS2.p1.3.m3.1a"><msub id="S3.SS1.SSS2.p1.3.m3.1.1" xref="S3.SS1.SSS2.p1.3.m3.1.1.cmml"><mi id="S3.SS1.SSS2.p1.3.m3.1.1.2" xref="S3.SS1.SSS2.p1.3.m3.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS2.p1.3.m3.1.1.3" xref="S3.SS1.SSS2.p1.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p1.3.m3.1b"><apply id="S3.SS1.SSS2.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSS2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSS2.p1.3.m3.1.1.2">𝑥</ci><ci id="S3.SS1.SSS2.p1.3.m3.1.1.3.cmml" xref="S3.SS1.SSS2.p1.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p1.3.m3.1c">x_{t}</annotation></semantics></math> at the time step <math id="S3.SS1.SSS2.p1.4.m4.3" class="ltx_Math" alttext="t\in\{1,...,T\}" display="inline"><semantics id="S3.SS1.SSS2.p1.4.m4.3a"><mrow id="S3.SS1.SSS2.p1.4.m4.3.4" xref="S3.SS1.SSS2.p1.4.m4.3.4.cmml"><mi id="S3.SS1.SSS2.p1.4.m4.3.4.2" xref="S3.SS1.SSS2.p1.4.m4.3.4.2.cmml">t</mi><mo id="S3.SS1.SSS2.p1.4.m4.3.4.1" xref="S3.SS1.SSS2.p1.4.m4.3.4.1.cmml">∈</mo><mrow id="S3.SS1.SSS2.p1.4.m4.3.4.3.2" xref="S3.SS1.SSS2.p1.4.m4.3.4.3.1.cmml"><mo stretchy="false" id="S3.SS1.SSS2.p1.4.m4.3.4.3.2.1" xref="S3.SS1.SSS2.p1.4.m4.3.4.3.1.cmml">{</mo><mn id="S3.SS1.SSS2.p1.4.m4.1.1" xref="S3.SS1.SSS2.p1.4.m4.1.1.cmml">1</mn><mo id="S3.SS1.SSS2.p1.4.m4.3.4.3.2.2" xref="S3.SS1.SSS2.p1.4.m4.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.SSS2.p1.4.m4.2.2" xref="S3.SS1.SSS2.p1.4.m4.2.2.cmml">…</mi><mo id="S3.SS1.SSS2.p1.4.m4.3.4.3.2.3" xref="S3.SS1.SSS2.p1.4.m4.3.4.3.1.cmml">,</mo><mi id="S3.SS1.SSS2.p1.4.m4.3.3" xref="S3.SS1.SSS2.p1.4.m4.3.3.cmml">T</mi><mo stretchy="false" id="S3.SS1.SSS2.p1.4.m4.3.4.3.2.4" xref="S3.SS1.SSS2.p1.4.m4.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p1.4.m4.3b"><apply id="S3.SS1.SSS2.p1.4.m4.3.4.cmml" xref="S3.SS1.SSS2.p1.4.m4.3.4"><in id="S3.SS1.SSS2.p1.4.m4.3.4.1.cmml" xref="S3.SS1.SSS2.p1.4.m4.3.4.1"></in><ci id="S3.SS1.SSS2.p1.4.m4.3.4.2.cmml" xref="S3.SS1.SSS2.p1.4.m4.3.4.2">𝑡</ci><set id="S3.SS1.SSS2.p1.4.m4.3.4.3.1.cmml" xref="S3.SS1.SSS2.p1.4.m4.3.4.3.2"><cn type="integer" id="S3.SS1.SSS2.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS2.p1.4.m4.1.1">1</cn><ci id="S3.SS1.SSS2.p1.4.m4.2.2.cmml" xref="S3.SS1.SSS2.p1.4.m4.2.2">…</ci><ci id="S3.SS1.SSS2.p1.4.m4.3.3.cmml" xref="S3.SS1.SSS2.p1.4.m4.3.3">𝑇</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p1.4.m4.3c">t\in\{1,...,T\}</annotation></semantics></math>, the model <math id="S3.SS1.SSS2.p1.5.m5.2" class="ltx_Math" alttext="\epsilon_{\theta}(x_{t},t)" display="inline"><semantics id="S3.SS1.SSS2.p1.5.m5.2a"><mrow id="S3.SS1.SSS2.p1.5.m5.2.2" xref="S3.SS1.SSS2.p1.5.m5.2.2.cmml"><msub id="S3.SS1.SSS2.p1.5.m5.2.2.3" xref="S3.SS1.SSS2.p1.5.m5.2.2.3.cmml"><mi id="S3.SS1.SSS2.p1.5.m5.2.2.3.2" xref="S3.SS1.SSS2.p1.5.m5.2.2.3.2.cmml">ϵ</mi><mi id="S3.SS1.SSS2.p1.5.m5.2.2.3.3" xref="S3.SS1.SSS2.p1.5.m5.2.2.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.SSS2.p1.5.m5.2.2.2" xref="S3.SS1.SSS2.p1.5.m5.2.2.2.cmml">​</mo><mrow id="S3.SS1.SSS2.p1.5.m5.2.2.1.1" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.2.cmml"><mo stretchy="false" id="S3.SS1.SSS2.p1.5.m5.2.2.1.1.2" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.2.cmml">(</mo><msub id="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.cmml"><mi id="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.2" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.3" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.3.cmml">t</mi></msub><mo id="S3.SS1.SSS2.p1.5.m5.2.2.1.1.3" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.2.cmml">,</mo><mi id="S3.SS1.SSS2.p1.5.m5.1.1" xref="S3.SS1.SSS2.p1.5.m5.1.1.cmml">t</mi><mo stretchy="false" id="S3.SS1.SSS2.p1.5.m5.2.2.1.1.4" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p1.5.m5.2b"><apply id="S3.SS1.SSS2.p1.5.m5.2.2.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2"><times id="S3.SS1.SSS2.p1.5.m5.2.2.2.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2.2"></times><apply id="S3.SS1.SSS2.p1.5.m5.2.2.3.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p1.5.m5.2.2.3.1.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2.3">subscript</csymbol><ci id="S3.SS1.SSS2.p1.5.m5.2.2.3.2.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2.3.2">italic-ϵ</ci><ci id="S3.SS1.SSS2.p1.5.m5.2.2.3.3.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2.3.3">𝜃</ci></apply><interval closure="open" id="S3.SS1.SSS2.p1.5.m5.2.2.1.2.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.1"><apply id="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.2.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.2">𝑥</ci><ci id="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.3.cmml" xref="S3.SS1.SSS2.p1.5.m5.2.2.1.1.1.3">𝑡</ci></apply><ci id="S3.SS1.SSS2.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS2.p1.5.m5.1.1">𝑡</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p1.5.m5.2c">\epsilon_{\theta}(x_{t},t)</annotation></semantics></math> is trained to recover its clean version <math id="S3.SS1.SSS2.p1.6.m6.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS1.SSS2.p1.6.m6.1a"><mi id="S3.SS1.SSS2.p1.6.m6.1.1" xref="S3.SS1.SSS2.p1.6.m6.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p1.6.m6.1b"><ci id="S3.SS1.SSS2.p1.6.m6.1.1.cmml" xref="S3.SS1.SSS2.p1.6.m6.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p1.6.m6.1c">x</annotation></semantics></math> by predicting the random noise added at time step <math id="S3.SS1.SSS2.p1.7.m7.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS1.SSS2.p1.7.m7.1a"><mi id="S3.SS1.SSS2.p1.7.m7.1.1" xref="S3.SS1.SSS2.p1.7.m7.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p1.7.m7.1b"><ci id="S3.SS1.SSS2.p1.7.m7.1.1.cmml" xref="S3.SS1.SSS2.p1.7.m7.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p1.7.m7.1c">t</annotation></semantics></math>, and the objective function can be formulated as,</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.8" class="ltx_Math" alttext="\mathcal{L}_{DM}=\mathbb{E}_{x,\epsilon\sim\mathcal{N}(0,1),t}\|\epsilon-\epsilon_{\theta}(x_{t},t)\|^{2}." display="block"><semantics id="S3.E1.m1.8a"><mrow id="S3.E1.m1.8.8.1" xref="S3.E1.m1.8.8.1.1.cmml"><mrow id="S3.E1.m1.8.8.1.1" xref="S3.E1.m1.8.8.1.1.cmml"><msub id="S3.E1.m1.8.8.1.1.3" xref="S3.E1.m1.8.8.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.8.8.1.1.3.2" xref="S3.E1.m1.8.8.1.1.3.2.cmml">ℒ</mi><mrow id="S3.E1.m1.8.8.1.1.3.3" xref="S3.E1.m1.8.8.1.1.3.3.cmml"><mi id="S3.E1.m1.8.8.1.1.3.3.2" xref="S3.E1.m1.8.8.1.1.3.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.8.8.1.1.3.3.1" xref="S3.E1.m1.8.8.1.1.3.3.1.cmml">​</mo><mi id="S3.E1.m1.8.8.1.1.3.3.3" xref="S3.E1.m1.8.8.1.1.3.3.3.cmml">M</mi></mrow></msub><mo id="S3.E1.m1.8.8.1.1.2" xref="S3.E1.m1.8.8.1.1.2.cmml">=</mo><mrow id="S3.E1.m1.8.8.1.1.1" xref="S3.E1.m1.8.8.1.1.1.cmml"><msub id="S3.E1.m1.8.8.1.1.1.3" xref="S3.E1.m1.8.8.1.1.1.3.cmml"><mi id="S3.E1.m1.8.8.1.1.1.3.2" xref="S3.E1.m1.8.8.1.1.1.3.2.cmml">𝔼</mi><mrow id="S3.E1.m1.6.6.6.6" xref="S3.E1.m1.6.6.6.7.cmml"><mrow id="S3.E1.m1.6.6.6.6.1" xref="S3.E1.m1.6.6.6.6.1.cmml"><mrow id="S3.E1.m1.6.6.6.6.1.2.2" xref="S3.E1.m1.6.6.6.6.1.2.1.cmml"><mi id="S3.E1.m1.3.3.3.3" xref="S3.E1.m1.3.3.3.3.cmml">x</mi><mo id="S3.E1.m1.6.6.6.6.1.2.2.1" xref="S3.E1.m1.6.6.6.6.1.2.1.cmml">,</mo><mi id="S3.E1.m1.4.4.4.4" xref="S3.E1.m1.4.4.4.4.cmml">ϵ</mi></mrow><mo id="S3.E1.m1.6.6.6.6.1.1" xref="S3.E1.m1.6.6.6.6.1.1.cmml">∼</mo><mrow id="S3.E1.m1.6.6.6.6.1.3" xref="S3.E1.m1.6.6.6.6.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.6.6.6.6.1.3.2" xref="S3.E1.m1.6.6.6.6.1.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.6.6.6.6.1.3.1" xref="S3.E1.m1.6.6.6.6.1.3.1.cmml">​</mo><mrow id="S3.E1.m1.6.6.6.6.1.3.3.2" xref="S3.E1.m1.6.6.6.6.1.3.3.1.cmml"><mo stretchy="false" id="S3.E1.m1.6.6.6.6.1.3.3.2.1" xref="S3.E1.m1.6.6.6.6.1.3.3.1.cmml">(</mo><mn id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">0</mn><mo id="S3.E1.m1.6.6.6.6.1.3.3.2.2" xref="S3.E1.m1.6.6.6.6.1.3.3.1.cmml">,</mo><mn id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.2.cmml">1</mn><mo stretchy="false" id="S3.E1.m1.6.6.6.6.1.3.3.2.3" xref="S3.E1.m1.6.6.6.6.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.6.6.6.6.2" xref="S3.E1.m1.6.6.6.7a.cmml">,</mo><mi id="S3.E1.m1.5.5.5.5" xref="S3.E1.m1.5.5.5.5.cmml">t</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.8.8.1.1.1.2" xref="S3.E1.m1.8.8.1.1.1.2.cmml">​</mo><msup id="S3.E1.m1.8.8.1.1.1.1" xref="S3.E1.m1.8.8.1.1.1.1.cmml"><mrow id="S3.E1.m1.8.8.1.1.1.1.1.1" xref="S3.E1.m1.8.8.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E1.m1.8.8.1.1.1.1.1.1.2" xref="S3.E1.m1.8.8.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E1.m1.8.8.1.1.1.1.1.1.1" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.8.8.1.1.1.1.1.1.1.3" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.3.cmml">ϵ</mi><mo id="S3.E1.m1.8.8.1.1.1.1.1.1.1.2" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.2.cmml">−</mo><mrow id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.2.cmml">ϵ</mi><mi id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><msub id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E1.m1.7.7" xref="S3.E1.m1.7.7.cmml">t</mi><mo stretchy="false" id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.4" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E1.m1.8.8.1.1.1.1.1.1.3" xref="S3.E1.m1.8.8.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E1.m1.8.8.1.1.1.1.3" xref="S3.E1.m1.8.8.1.1.1.1.3.cmml">2</mn></msup></mrow></mrow><mo lspace="0em" id="S3.E1.m1.8.8.1.2" xref="S3.E1.m1.8.8.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.8b"><apply id="S3.E1.m1.8.8.1.1.cmml" xref="S3.E1.m1.8.8.1"><eq id="S3.E1.m1.8.8.1.1.2.cmml" xref="S3.E1.m1.8.8.1.1.2"></eq><apply id="S3.E1.m1.8.8.1.1.3.cmml" xref="S3.E1.m1.8.8.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.8.8.1.1.3.1.cmml" xref="S3.E1.m1.8.8.1.1.3">subscript</csymbol><ci id="S3.E1.m1.8.8.1.1.3.2.cmml" xref="S3.E1.m1.8.8.1.1.3.2">ℒ</ci><apply id="S3.E1.m1.8.8.1.1.3.3.cmml" xref="S3.E1.m1.8.8.1.1.3.3"><times id="S3.E1.m1.8.8.1.1.3.3.1.cmml" xref="S3.E1.m1.8.8.1.1.3.3.1"></times><ci id="S3.E1.m1.8.8.1.1.3.3.2.cmml" xref="S3.E1.m1.8.8.1.1.3.3.2">𝐷</ci><ci id="S3.E1.m1.8.8.1.1.3.3.3.cmml" xref="S3.E1.m1.8.8.1.1.3.3.3">𝑀</ci></apply></apply><apply id="S3.E1.m1.8.8.1.1.1.cmml" xref="S3.E1.m1.8.8.1.1.1"><times id="S3.E1.m1.8.8.1.1.1.2.cmml" xref="S3.E1.m1.8.8.1.1.1.2"></times><apply id="S3.E1.m1.8.8.1.1.1.3.cmml" xref="S3.E1.m1.8.8.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.8.8.1.1.1.3.1.cmml" xref="S3.E1.m1.8.8.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.8.8.1.1.1.3.2.cmml" xref="S3.E1.m1.8.8.1.1.1.3.2">𝔼</ci><apply id="S3.E1.m1.6.6.6.7.cmml" xref="S3.E1.m1.6.6.6.6"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.6.7a.cmml" xref="S3.E1.m1.6.6.6.6.2">formulae-sequence</csymbol><apply id="S3.E1.m1.6.6.6.6.1.cmml" xref="S3.E1.m1.6.6.6.6.1"><csymbol cd="latexml" id="S3.E1.m1.6.6.6.6.1.1.cmml" xref="S3.E1.m1.6.6.6.6.1.1">similar-to</csymbol><list id="S3.E1.m1.6.6.6.6.1.2.1.cmml" xref="S3.E1.m1.6.6.6.6.1.2.2"><ci id="S3.E1.m1.3.3.3.3.cmml" xref="S3.E1.m1.3.3.3.3">𝑥</ci><ci id="S3.E1.m1.4.4.4.4.cmml" xref="S3.E1.m1.4.4.4.4">italic-ϵ</ci></list><apply id="S3.E1.m1.6.6.6.6.1.3.cmml" xref="S3.E1.m1.6.6.6.6.1.3"><times id="S3.E1.m1.6.6.6.6.1.3.1.cmml" xref="S3.E1.m1.6.6.6.6.1.3.1"></times><ci id="S3.E1.m1.6.6.6.6.1.3.2.cmml" xref="S3.E1.m1.6.6.6.6.1.3.2">𝒩</ci><interval closure="open" id="S3.E1.m1.6.6.6.6.1.3.3.1.cmml" xref="S3.E1.m1.6.6.6.6.1.3.3.2"><cn type="integer" id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1">0</cn><cn type="integer" id="S3.E1.m1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2">1</cn></interval></apply></apply><ci id="S3.E1.m1.5.5.5.5.cmml" xref="S3.E1.m1.5.5.5.5">𝑡</ci></apply></apply><apply id="S3.E1.m1.8.8.1.1.1.1.cmml" xref="S3.E1.m1.8.8.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.8.8.1.1.1.1.2.cmml" xref="S3.E1.m1.8.8.1.1.1.1">superscript</csymbol><apply id="S3.E1.m1.8.8.1.1.1.1.1.2.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.8.8.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.2">norm</csymbol><apply id="S3.E1.m1.8.8.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1"><minus id="S3.E1.m1.8.8.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.2"></minus><ci id="S3.E1.m1.8.8.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.3">italic-ϵ</ci><apply id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1"><times id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.2">italic-ϵ</ci><ci id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.3.3">𝜃</ci></apply><interval closure="open" id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1"><apply id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="S3.E1.m1.7.7.cmml" xref="S3.E1.m1.7.7">𝑡</ci></interval></apply></apply></apply><cn type="integer" id="S3.E1.m1.8.8.1.1.1.1.3.cmml" xref="S3.E1.m1.8.8.1.1.1.1.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.8c">\mathcal{L}_{DM}=\mathbb{E}_{x,\epsilon\sim\mathcal{N}(0,1),t}\|\epsilon-\epsilon_{\theta}(x_{t},t)\|^{2}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS1.SSS2.p2" class="ltx_para ltx_noindent">
<p id="S3.SS1.SSS2.p2.3" class="ltx_p">Latent diffusion models (LDM) <cite class="ltx_cite ltx_citemacro_citep">(Rombach et al., <a href="#bib.bib45" title="" class="ltx_ref">2022</a>)</cite> instead perform the diffusion process in the latent space of a pre-trained Vector Quantized Variational AutoEncoder (VQ-VAE) <cite class="ltx_cite ltx_citemacro_citep">(Van Den Oord et al., <a href="#bib.bib50" title="" class="ltx_ref">2017</a>)</cite>.
The input image <math id="S3.SS1.SSS2.p2.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS1.SSS2.p2.1.m1.1a"><mi id="S3.SS1.SSS2.p2.1.m1.1.1" xref="S3.SS1.SSS2.p2.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p2.1.m1.1b"><ci id="S3.SS1.SSS2.p2.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p2.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p2.1.m1.1c">x</annotation></semantics></math> is first encoded into the latent space of VQ-VAE encoder as
<math id="S3.SS1.SSS2.p2.2.m2.1" class="ltx_Math" alttext="z=\mathcal{E}(x)\in\mathcal{R}^{H^{\prime}\times W^{\prime}\times D^{\prime}}" display="inline"><semantics id="S3.SS1.SSS2.p2.2.m2.1a"><mrow id="S3.SS1.SSS2.p2.2.m2.1.2" xref="S3.SS1.SSS2.p2.2.m2.1.2.cmml"><mi id="S3.SS1.SSS2.p2.2.m2.1.2.2" xref="S3.SS1.SSS2.p2.2.m2.1.2.2.cmml">z</mi><mo id="S3.SS1.SSS2.p2.2.m2.1.2.3" xref="S3.SS1.SSS2.p2.2.m2.1.2.3.cmml">=</mo><mrow id="S3.SS1.SSS2.p2.2.m2.1.2.4" xref="S3.SS1.SSS2.p2.2.m2.1.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p2.2.m2.1.2.4.2" xref="S3.SS1.SSS2.p2.2.m2.1.2.4.2.cmml">ℰ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS2.p2.2.m2.1.2.4.1" xref="S3.SS1.SSS2.p2.2.m2.1.2.4.1.cmml">​</mo><mrow id="S3.SS1.SSS2.p2.2.m2.1.2.4.3.2" xref="S3.SS1.SSS2.p2.2.m2.1.2.4.cmml"><mo stretchy="false" id="S3.SS1.SSS2.p2.2.m2.1.2.4.3.2.1" xref="S3.SS1.SSS2.p2.2.m2.1.2.4.cmml">(</mo><mi id="S3.SS1.SSS2.p2.2.m2.1.1" xref="S3.SS1.SSS2.p2.2.m2.1.1.cmml">x</mi><mo stretchy="false" id="S3.SS1.SSS2.p2.2.m2.1.2.4.3.2.2" xref="S3.SS1.SSS2.p2.2.m2.1.2.4.cmml">)</mo></mrow></mrow><mo id="S3.SS1.SSS2.p2.2.m2.1.2.5" xref="S3.SS1.SSS2.p2.2.m2.1.2.5.cmml">∈</mo><msup id="S3.SS1.SSS2.p2.2.m2.1.2.6" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p2.2.m2.1.2.6.2" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.2.cmml">ℛ</mi><mrow id="S3.SS1.SSS2.p2.2.m2.1.2.6.3" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.cmml"><msup id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.cmml"><mi id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.2" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.2.cmml">H</mi><mo id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.3" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.3.cmml">′</mo></msup><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.1" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.1.cmml">×</mo><msup id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.cmml"><mi id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.2" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.2.cmml">W</mi><mo id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.3" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.3.cmml">′</mo></msup><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.1a" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.1.cmml">×</mo><msup id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.cmml"><mi id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.2" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.2.cmml">D</mi><mo id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.3" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.3.cmml">′</mo></msup></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p2.2.m2.1b"><apply id="S3.SS1.SSS2.p2.2.m2.1.2.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2"><and id="S3.SS1.SSS2.p2.2.m2.1.2a.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2"></and><apply id="S3.SS1.SSS2.p2.2.m2.1.2b.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2"><eq id="S3.SS1.SSS2.p2.2.m2.1.2.3.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.3"></eq><ci id="S3.SS1.SSS2.p2.2.m2.1.2.2.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.2">𝑧</ci><apply id="S3.SS1.SSS2.p2.2.m2.1.2.4.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.4"><times id="S3.SS1.SSS2.p2.2.m2.1.2.4.1.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.4.1"></times><ci id="S3.SS1.SSS2.p2.2.m2.1.2.4.2.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.4.2">ℰ</ci><ci id="S3.SS1.SSS2.p2.2.m2.1.1.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.1">𝑥</ci></apply></apply><apply id="S3.SS1.SSS2.p2.2.m2.1.2c.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2"><in id="S3.SS1.SSS2.p2.2.m2.1.2.5.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.5"></in><share href="#S3.SS1.SSS2.p2.2.m2.1.2.4.cmml" id="S3.SS1.SSS2.p2.2.m2.1.2d.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2"></share><apply id="S3.SS1.SSS2.p2.2.m2.1.2.6.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p2.2.m2.1.2.6.1.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6">superscript</csymbol><ci id="S3.SS1.SSS2.p2.2.m2.1.2.6.2.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.2">ℛ</ci><apply id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3"><times id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.1.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.1"></times><apply id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.1.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2">superscript</csymbol><ci id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.2.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.2">𝐻</ci><ci id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.3.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.2.3">′</ci></apply><apply id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.1.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3">superscript</csymbol><ci id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.2.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.2">𝑊</ci><ci id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.3.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.3.3">′</ci></apply><apply id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.1.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4">superscript</csymbol><ci id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.2.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.2">𝐷</ci><ci id="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.3.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.2.6.3.4.3">′</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p2.2.m2.1c">z=\mathcal{E}(x)\in\mathcal{R}^{H^{\prime}\times W^{\prime}\times D^{\prime}}</annotation></semantics></math>, and then taken as clean samples in Eqn. <a href="#S3.E1" title="In 3.1.2 Conditional Diffusion Models ‣ 3.1 Preliminary ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.
To facilitate conditional generation, LDM further introduces a conditional encoder <math id="S3.SS1.SSS2.p2.3.m3.1" class="ltx_Math" alttext="\tau_{\theta}(\cdot)" display="inline"><semantics id="S3.SS1.SSS2.p2.3.m3.1a"><mrow id="S3.SS1.SSS2.p2.3.m3.1.2" xref="S3.SS1.SSS2.p2.3.m3.1.2.cmml"><msub id="S3.SS1.SSS2.p2.3.m3.1.2.2" xref="S3.SS1.SSS2.p2.3.m3.1.2.2.cmml"><mi id="S3.SS1.SSS2.p2.3.m3.1.2.2.2" xref="S3.SS1.SSS2.p2.3.m3.1.2.2.2.cmml">τ</mi><mi id="S3.SS1.SSS2.p2.3.m3.1.2.2.3" xref="S3.SS1.SSS2.p2.3.m3.1.2.2.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.SSS2.p2.3.m3.1.2.1" xref="S3.SS1.SSS2.p2.3.m3.1.2.1.cmml">​</mo><mrow id="S3.SS1.SSS2.p2.3.m3.1.2.3.2" xref="S3.SS1.SSS2.p2.3.m3.1.2.cmml"><mo stretchy="false" id="S3.SS1.SSS2.p2.3.m3.1.2.3.2.1" xref="S3.SS1.SSS2.p2.3.m3.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.SSS2.p2.3.m3.1.1" xref="S3.SS1.SSS2.p2.3.m3.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.SSS2.p2.3.m3.1.2.3.2.2" xref="S3.SS1.SSS2.p2.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p2.3.m3.1b"><apply id="S3.SS1.SSS2.p2.3.m3.1.2.cmml" xref="S3.SS1.SSS2.p2.3.m3.1.2"><times id="S3.SS1.SSS2.p2.3.m3.1.2.1.cmml" xref="S3.SS1.SSS2.p2.3.m3.1.2.1"></times><apply id="S3.SS1.SSS2.p2.3.m3.1.2.2.cmml" xref="S3.SS1.SSS2.p2.3.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p2.3.m3.1.2.2.1.cmml" xref="S3.SS1.SSS2.p2.3.m3.1.2.2">subscript</csymbol><ci id="S3.SS1.SSS2.p2.3.m3.1.2.2.2.cmml" xref="S3.SS1.SSS2.p2.3.m3.1.2.2.2">𝜏</ci><ci id="S3.SS1.SSS2.p2.3.m3.1.2.2.3.cmml" xref="S3.SS1.SSS2.p2.3.m3.1.2.2.3">𝜃</ci></apply><ci id="S3.SS1.SSS2.p2.3.m3.1.1.cmml" xref="S3.SS1.SSS2.p2.3.m3.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p2.3.m3.1c">\tau_{\theta}(\cdot)</annotation></semantics></math>, and the objective can be formulated as,</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.9" class="ltx_Math" alttext="\mathcal{L}_{LDM}=\mathbb{E}_{\mathcal{E}(x),\epsilon\sim\mathcal{N}(0,1),t}\|\epsilon-\epsilon_{\theta}(z_{t},t,\tau_{\theta}(y))\|^{2}," display="block"><semantics id="S3.E2.m1.9a"><mrow id="S3.E2.m1.9.9.1" xref="S3.E2.m1.9.9.1.1.cmml"><mrow id="S3.E2.m1.9.9.1.1" xref="S3.E2.m1.9.9.1.1.cmml"><msub id="S3.E2.m1.9.9.1.1.3" xref="S3.E2.m1.9.9.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.9.9.1.1.3.2" xref="S3.E2.m1.9.9.1.1.3.2.cmml">ℒ</mi><mrow id="S3.E2.m1.9.9.1.1.3.3" xref="S3.E2.m1.9.9.1.1.3.3.cmml"><mi id="S3.E2.m1.9.9.1.1.3.3.2" xref="S3.E2.m1.9.9.1.1.3.3.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.9.9.1.1.3.3.1" xref="S3.E2.m1.9.9.1.1.3.3.1.cmml">​</mo><mi id="S3.E2.m1.9.9.1.1.3.3.3" xref="S3.E2.m1.9.9.1.1.3.3.3.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.9.9.1.1.3.3.1a" xref="S3.E2.m1.9.9.1.1.3.3.1.cmml">​</mo><mi id="S3.E2.m1.9.9.1.1.3.3.4" xref="S3.E2.m1.9.9.1.1.3.3.4.cmml">M</mi></mrow></msub><mo id="S3.E2.m1.9.9.1.1.2" xref="S3.E2.m1.9.9.1.1.2.cmml">=</mo><mrow id="S3.E2.m1.9.9.1.1.1" xref="S3.E2.m1.9.9.1.1.1.cmml"><msub id="S3.E2.m1.9.9.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.3.cmml"><mi id="S3.E2.m1.9.9.1.1.1.3.2" xref="S3.E2.m1.9.9.1.1.1.3.2.cmml">𝔼</mi><mrow id="S3.E2.m1.6.6.6.6" xref="S3.E2.m1.6.6.6.7.cmml"><mrow id="S3.E2.m1.6.6.6.6.1" xref="S3.E2.m1.6.6.6.6.1.cmml"><mrow id="S3.E2.m1.6.6.6.6.1.1.1" xref="S3.E2.m1.6.6.6.6.1.1.2.cmml"><mrow id="S3.E2.m1.6.6.6.6.1.1.1.1" xref="S3.E2.m1.6.6.6.6.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.6.6.6.6.1.1.1.1.2" xref="S3.E2.m1.6.6.6.6.1.1.1.1.2.cmml">ℰ</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.6.6.6.6.1.1.1.1.1" xref="S3.E2.m1.6.6.6.6.1.1.1.1.1.cmml">​</mo><mrow id="S3.E2.m1.6.6.6.6.1.1.1.1.3.2" xref="S3.E2.m1.6.6.6.6.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.6.6.6.6.1.1.1.1.3.2.1" xref="S3.E2.m1.6.6.6.6.1.1.1.1.cmml">(</mo><mi id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml">x</mi><mo stretchy="false" id="S3.E2.m1.6.6.6.6.1.1.1.1.3.2.2" xref="S3.E2.m1.6.6.6.6.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.6.6.6.6.1.1.1.2" xref="S3.E2.m1.6.6.6.6.1.1.2.cmml">,</mo><mi id="S3.E2.m1.4.4.4.4" xref="S3.E2.m1.4.4.4.4.cmml">ϵ</mi></mrow><mo id="S3.E2.m1.6.6.6.6.1.2" xref="S3.E2.m1.6.6.6.6.1.2.cmml">∼</mo><mrow id="S3.E2.m1.6.6.6.6.1.3" xref="S3.E2.m1.6.6.6.6.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.6.6.6.6.1.3.2" xref="S3.E2.m1.6.6.6.6.1.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.6.6.6.6.1.3.1" xref="S3.E2.m1.6.6.6.6.1.3.1.cmml">​</mo><mrow id="S3.E2.m1.6.6.6.6.1.3.3.2" xref="S3.E2.m1.6.6.6.6.1.3.3.1.cmml"><mo stretchy="false" id="S3.E2.m1.6.6.6.6.1.3.3.2.1" xref="S3.E2.m1.6.6.6.6.1.3.3.1.cmml">(</mo><mn id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.2.cmml">0</mn><mo id="S3.E2.m1.6.6.6.6.1.3.3.2.2" xref="S3.E2.m1.6.6.6.6.1.3.3.1.cmml">,</mo><mn id="S3.E2.m1.3.3.3.3" xref="S3.E2.m1.3.3.3.3.cmml">1</mn><mo stretchy="false" id="S3.E2.m1.6.6.6.6.1.3.3.2.3" xref="S3.E2.m1.6.6.6.6.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2.m1.6.6.6.6.2" xref="S3.E2.m1.6.6.6.7a.cmml">,</mo><mi id="S3.E2.m1.5.5.5.5" xref="S3.E2.m1.5.5.5.5.cmml">t</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.9.9.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.2.cmml">​</mo><msup id="S3.E2.m1.9.9.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.cmml"><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.4" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.4.cmml">ϵ</mi><mo id="S3.E2.m1.9.9.1.1.1.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.3.cmml">−</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.cmml"><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.2.cmml">ϵ</mi><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.3.cmml">​</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.4" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mi id="S3.E2.m1.8.8" xref="S3.E2.m1.8.8.cmml">t</mi><mo id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.5" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.2.cmml">τ</mi><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.1.cmml">​</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.3.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.cmml"><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.3.2.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.cmml">(</mo><mi id="S3.E2.m1.7.7" xref="S3.E2.m1.7.7.cmml">y</mi><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.3.2.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.6" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E2.m1.9.9.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.3.cmml">2</mn></msup></mrow></mrow><mo id="S3.E2.m1.9.9.1.2" xref="S3.E2.m1.9.9.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.9b"><apply id="S3.E2.m1.9.9.1.1.cmml" xref="S3.E2.m1.9.9.1"><eq id="S3.E2.m1.9.9.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.2"></eq><apply id="S3.E2.m1.9.9.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.3.1.cmml" xref="S3.E2.m1.9.9.1.1.3">subscript</csymbol><ci id="S3.E2.m1.9.9.1.1.3.2.cmml" xref="S3.E2.m1.9.9.1.1.3.2">ℒ</ci><apply id="S3.E2.m1.9.9.1.1.3.3.cmml" xref="S3.E2.m1.9.9.1.1.3.3"><times id="S3.E2.m1.9.9.1.1.3.3.1.cmml" xref="S3.E2.m1.9.9.1.1.3.3.1"></times><ci id="S3.E2.m1.9.9.1.1.3.3.2.cmml" xref="S3.E2.m1.9.9.1.1.3.3.2">𝐿</ci><ci id="S3.E2.m1.9.9.1.1.3.3.3.cmml" xref="S3.E2.m1.9.9.1.1.3.3.3">𝐷</ci><ci id="S3.E2.m1.9.9.1.1.3.3.4.cmml" xref="S3.E2.m1.9.9.1.1.3.3.4">𝑀</ci></apply></apply><apply id="S3.E2.m1.9.9.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1"><times id="S3.E2.m1.9.9.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.2"></times><apply id="S3.E2.m1.9.9.1.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.3.1.cmml" xref="S3.E2.m1.9.9.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.9.9.1.1.1.3.2.cmml" xref="S3.E2.m1.9.9.1.1.1.3.2">𝔼</ci><apply id="S3.E2.m1.6.6.6.7.cmml" xref="S3.E2.m1.6.6.6.6"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.6.7a.cmml" xref="S3.E2.m1.6.6.6.6.2">formulae-sequence</csymbol><apply id="S3.E2.m1.6.6.6.6.1.cmml" xref="S3.E2.m1.6.6.6.6.1"><csymbol cd="latexml" id="S3.E2.m1.6.6.6.6.1.2.cmml" xref="S3.E2.m1.6.6.6.6.1.2">similar-to</csymbol><list id="S3.E2.m1.6.6.6.6.1.1.2.cmml" xref="S3.E2.m1.6.6.6.6.1.1.1"><apply id="S3.E2.m1.6.6.6.6.1.1.1.1.cmml" xref="S3.E2.m1.6.6.6.6.1.1.1.1"><times id="S3.E2.m1.6.6.6.6.1.1.1.1.1.cmml" xref="S3.E2.m1.6.6.6.6.1.1.1.1.1"></times><ci id="S3.E2.m1.6.6.6.6.1.1.1.1.2.cmml" xref="S3.E2.m1.6.6.6.6.1.1.1.1.2">ℰ</ci><ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">𝑥</ci></apply><ci id="S3.E2.m1.4.4.4.4.cmml" xref="S3.E2.m1.4.4.4.4">italic-ϵ</ci></list><apply id="S3.E2.m1.6.6.6.6.1.3.cmml" xref="S3.E2.m1.6.6.6.6.1.3"><times id="S3.E2.m1.6.6.6.6.1.3.1.cmml" xref="S3.E2.m1.6.6.6.6.1.3.1"></times><ci id="S3.E2.m1.6.6.6.6.1.3.2.cmml" xref="S3.E2.m1.6.6.6.6.1.3.2">𝒩</ci><interval closure="open" id="S3.E2.m1.6.6.6.6.1.3.3.1.cmml" xref="S3.E2.m1.6.6.6.6.1.3.3.2"><cn type="integer" id="S3.E2.m1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2">0</cn><cn type="integer" id="S3.E2.m1.3.3.3.3.cmml" xref="S3.E2.m1.3.3.3.3">1</cn></interval></apply></apply><ci id="S3.E2.m1.5.5.5.5.cmml" xref="S3.E2.m1.5.5.5.5">𝑡</ci></apply></apply><apply id="S3.E2.m1.9.9.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1">superscript</csymbol><apply id="S3.E2.m1.9.9.1.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.9.9.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.2">norm</csymbol><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1"><minus id="S3.E2.m1.9.9.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.3"></minus><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.4.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.4">italic-ϵ</ci><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2"><times id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.3"></times><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.2">italic-ϵ</ci><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.4.3">𝜃</ci></apply><vector id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2"><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="S3.E2.m1.8.8.cmml" xref="S3.E2.m1.8.8">𝑡</ci><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2"><times id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.1"></times><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.2">𝜏</ci><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.2.2.2.3">𝜃</ci></apply><ci id="S3.E2.m1.7.7.cmml" xref="S3.E2.m1.7.7">𝑦</ci></apply></vector></apply></apply></apply><cn type="integer" id="S3.E2.m1.9.9.1.1.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.9c">\mathcal{L}_{LDM}=\mathbb{E}_{\mathcal{E}(x),\epsilon\sim\mathcal{N}(0,1),t}\|\epsilon-\epsilon_{\theta}(z_{t},t,\tau_{\theta}(y))\|^{2},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.SSS2.p2.4" class="ltx_p">where <math id="S3.SS1.SSS2.p2.4.m1.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S3.SS1.SSS2.p2.4.m1.1a"><mi id="S3.SS1.SSS2.p2.4.m1.1.1" xref="S3.SS1.SSS2.p2.4.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p2.4.m1.1b"><ci id="S3.SS1.SSS2.p2.4.m1.1.1.cmml" xref="S3.SS1.SSS2.p2.4.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p2.4.m1.1c">y</annotation></semantics></math> in the introduced condition (<span id="S3.SS1.SSS2.p2.4.1" class="ltx_text ltx_font_italic">e.g</span>.<span id="S3.SS1.SSS2.p2.4.2" class="ltx_text"></span>, text in LDM <cite class="ltx_cite ltx_citemacro_citep">(Rombach et al., <a href="#bib.bib45" title="" class="ltx_ref">2022</a>)</cite>).</p>
</div>
</section>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Geometric Conditions as a Foreign Language</h3>

<div id="S3.SS2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.p1.4" class="ltx_p">In this section, we explore encoding various geometric conditions via text prompts to utilize the pre-trained text-to-image diffusion models for better GL2I generation.
As discussed in Sec. <a href="#S3.SS1.SSS1" title="3.1.1 Generalized Layout-to-image Generation ‣ 3.1 Preliminary ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1.1</span></a>, a geometric layout <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">L</annotation></semantics></math> consists of three basic components, including the locations <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="\{b_{i}\}" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><mrow id="S3.SS2.p1.2.m2.1.1.1" xref="S3.SS2.p1.2.m2.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p1.2.m2.1.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">{</mo><msub id="S3.SS2.p1.2.m2.1.1.1.1" xref="S3.SS2.p1.2.m2.1.1.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.1.1.2" xref="S3.SS2.p1.2.m2.1.1.1.1.2.cmml">b</mi><mi id="S3.SS2.p1.2.m2.1.1.1.1.3" xref="S3.SS2.p1.2.m2.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.p1.2.m2.1.1.1.3" xref="S3.SS2.p1.2.m2.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><set id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1"><apply id="S3.SS2.p1.2.m2.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.2">𝑏</ci><ci id="S3.SS2.p1.2.m2.1.1.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.3">𝑖</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">\{b_{i}\}</annotation></semantics></math> and the semantic classes <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="\{c_{i}\}" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mrow id="S3.SS2.p1.3.m3.1.1.1" xref="S3.SS2.p1.3.m3.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p1.3.m3.1.1.1.2" xref="S3.SS2.p1.3.m3.1.1.2.cmml">{</mo><msub id="S3.SS2.p1.3.m3.1.1.1.1" xref="S3.SS2.p1.3.m3.1.1.1.1.cmml"><mi id="S3.SS2.p1.3.m3.1.1.1.1.2" xref="S3.SS2.p1.3.m3.1.1.1.1.2.cmml">c</mi><mi id="S3.SS2.p1.3.m3.1.1.1.1.3" xref="S3.SS2.p1.3.m3.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.p1.3.m3.1.1.1.3" xref="S3.SS2.p1.3.m3.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><set id="S3.SS2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.1"><apply id="S3.SS2.p1.3.m3.1.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.3.m3.1.1.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.2">𝑐</ci><ci id="S3.SS2.p1.3.m3.1.1.1.1.3.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.3">𝑖</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">\{c_{i}\}</annotation></semantics></math> of bounding boxes and the extra geometric conditions <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="v" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><mi id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><ci id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">v</annotation></semantics></math> (<span id="S3.SS2.p1.4.1" class="ltx_text ltx_font_italic">e.g</span>.<span id="S3.SS2.p1.4.2" class="ltx_text"></span>, camera views).</p>
</div>
<section id="S3.SS2.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Location “Translation”.</h5>

<div id="S3.SS2.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.SSS0.Px1.p1.6" class="ltx_p">While classes <math id="S3.SS2.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="\{c_{i}\}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.1.m1.1a"><mrow id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml">{</mo><msub id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2.cmml">c</mi><mi id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.1.m1.1b"><set id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1"><apply id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.2">𝑐</ci><ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.1.3">𝑖</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.1.m1.1c">\{c_{i}\}</annotation></semantics></math> and conditions <math id="S3.SS2.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="v" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.2.m2.1a"><mi id="S3.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.2.m2.1b"><ci id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.2.m2.1c">v</annotation></semantics></math> can be naturally encoded by replacing with the corresponding textual explanations (see Sec. <a href="#S4.SS1" title="4.1 Implementation Details ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a> for details), locations <math id="S3.SS2.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="\{b_{i}\}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.3.m3.1a"><mrow id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.2.cmml">{</mo><msub id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.2.cmml">b</mi><mi id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.3.m3.1b"><set id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1"><apply id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.2">𝑏</ci><ci id="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.3.m3.1.1.1.1.3">𝑖</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.3.m3.1c">\{b_{i}\}</annotation></semantics></math> can not since the coordinates are continuous.
Inspired by <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a href="#bib.bib7" title="" class="ltx_ref">2021b</a>)</cite>, we discretize the continuous coordinates by dividing the image into a grid of <span id="S3.SS2.SSS0.Px1.p1.6.1" class="ltx_text ltx_font_bold">location bins</span>.
Each location bin corresponds to a unique <span id="S3.SS2.SSS0.Px1.p1.6.2" class="ltx_text ltx_font_bold">location token</span> which will be inserted into the text encoder vocabulary of diffusion models.
Therefore, each <span id="S3.SS2.SSS0.Px1.p1.6.3" class="ltx_text ltx_font_italic">corner</span> can be represented by the <span id="S3.SS2.SSS0.Px1.p1.6.4" class="ltx_text ltx_font_italic">location token</span> corresponding to the <span id="S3.SS2.SSS0.Px1.p1.6.5" class="ltx_text ltx_font_italic">location bin</span> it belongs to, and the “translation” procedure from the box locations to plain text is accomplished.
See Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.1.1 Generalized Layout-to-image Generation ‣ 3.1 Preliminary ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> for an illustration.
Specifically, given a grid of size <math id="S3.SS2.SSS0.Px1.p1.4.m4.2" class="ltx_Math" alttext="(H_{bin},W_{bin})" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.4.m4.2a"><mrow id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.3.cmml">(</mo><msub id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.2.cmml">H</mi><mrow id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.1" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.1a" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.4" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.4.cmml">n</mi></mrow></msub><mo id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.4" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.3.cmml">,</mo><msub id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.2.cmml">W</mi><mrow id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.2" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.1" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.3" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.1a" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.4" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.4.cmml">n</mi></mrow></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.5" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.4.m4.2b"><interval closure="open" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2"><apply id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.2">𝐻</ci><apply id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3"><times id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.1"></times><ci id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.2">𝑏</ci><ci id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.3">𝑖</ci><ci id="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.4.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.1.1.1.1.3.4">𝑛</ci></apply></apply><apply id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.2">𝑊</ci><apply id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3"><times id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.1"></times><ci id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.2">𝑏</ci><ci id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.3">𝑖</ci><ci id="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.4.cmml" xref="S3.SS2.SSS0.Px1.p1.4.m4.2.2.2.2.3.4">𝑛</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.4.m4.2c">(H_{bin},W_{bin})</annotation></semantics></math>, the corner <math id="S3.SS2.SSS0.Px1.p1.5.m5.2" class="ltx_Math" alttext="(x_{0},y_{0})" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.5.m5.2a"><mrow id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.3.cmml">(</mo><msub id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.2.cmml">x</mi><mn id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.cmml">0</mn></msub><mo id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.4" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.3.cmml">,</mo><msub id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.2.cmml">y</mi><mn id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.3.cmml">0</mn></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.5" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.5.m5.2b"><interval closure="open" id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2"><apply id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.1.1.1.1.3">0</cn></apply><apply id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.2">𝑦</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.5.m5.2.2.2.2.3">0</cn></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.5.m5.2c">(x_{0},y_{0})</annotation></semantics></math> is represented by the <math id="S3.SS2.SSS0.Px1.p1.6.m6.2" class="ltx_Math" alttext="\sigma(x_{0},y_{0})" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.6.m6.2a"><mrow id="S3.SS2.SSS0.Px1.p1.6.m6.2.2" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.4" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.4.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.3" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.3.cmml">​</mo><mrow id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.3.cmml">(</mo><msub id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.2.cmml">x</mi><mn id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.3.cmml">0</mn></msub><mo id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.4" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.3.cmml">,</mo><msub id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.2.cmml">y</mi><mn id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.3.cmml">0</mn></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.5" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.6.m6.2b"><apply id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2"><times id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.3"></times><ci id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.4.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.4">𝜎</ci><interval closure="open" id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2"><apply id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.1.1.1.1.1.3">0</cn></apply><apply id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.2">𝑦</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.6.m6.2.2.2.2.2.3">0</cn></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.6.m6.2c">\sigma(x_{0},y_{0})</annotation></semantics></math> location token as,</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.1" class="ltx_Math" alttext="\sigma(x_{0},y_{0})=\mathcal{T}[y_{bin}*W_{bin}+x_{bin}]," display="block"><semantics id="S3.E3.m1.1a"><mrow id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.2.cmml"><mi id="S3.E3.m1.1.1.1.1.2.4" xref="S3.E3.m1.1.1.1.1.2.4.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.2.3.cmml">​</mo><mrow id="S3.E3.m1.1.1.1.1.2.2.2" xref="S3.E3.m1.1.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.2.2.2.3" xref="S3.E3.m1.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E3.m1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mn id="S3.E3.m1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="S3.E3.m1.1.1.1.1.2.2.2.4" xref="S3.E3.m1.1.1.1.1.2.2.3.cmml">,</mo><msub id="S3.E3.m1.1.1.1.1.2.2.2.2" xref="S3.E3.m1.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E3.m1.1.1.1.1.2.2.2.2.2" xref="S3.E3.m1.1.1.1.1.2.2.2.2.2.cmml">y</mi><mn id="S3.E3.m1.1.1.1.1.2.2.2.2.3" xref="S3.E3.m1.1.1.1.1.2.2.2.2.3.cmml">0</mn></msub><mo stretchy="false" id="S3.E3.m1.1.1.1.1.2.2.2.5" xref="S3.E3.m1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.1.1.1.1.4" xref="S3.E3.m1.1.1.1.1.4.cmml">=</mo><mrow id="S3.E3.m1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.3.3.cmml">𝒯</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.3.2.cmml">​</mo><mrow id="S3.E3.m1.1.1.1.1.3.1.1" xref="S3.E3.m1.1.1.1.1.3.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.3.1.1.2" xref="S3.E3.m1.1.1.1.1.3.1.2.1.cmml">[</mo><mrow id="S3.E3.m1.1.1.1.1.3.1.1.1" xref="S3.E3.m1.1.1.1.1.3.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1.3.1.1.1.2" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.cmml"><msub id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.cmml"><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.2" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.2.cmml">y</mi><mrow id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.cmml"><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.2" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.1" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.1.cmml">​</mo><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.3" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.1a" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.1.cmml">​</mo><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.4" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.4.cmml">n</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.E3.m1.1.1.1.1.3.1.1.1.2.1" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.1.cmml">∗</mo><msub id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.cmml"><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.2" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.2.cmml">W</mi><mrow id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.cmml"><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.2" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.1" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.1.cmml">​</mo><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.3" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.1a" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.1.cmml">​</mo><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.4" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.4.cmml">n</mi></mrow></msub></mrow><mo id="S3.E3.m1.1.1.1.1.3.1.1.1.1" xref="S3.E3.m1.1.1.1.1.3.1.1.1.1.cmml">+</mo><msub id="S3.E3.m1.1.1.1.1.3.1.1.1.3" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.cmml"><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.2.cmml">x</mi><mrow id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.cmml"><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.2" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.1" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.3" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.1a" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.4" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.4.cmml">n</mi></mrow></msub></mrow><mo stretchy="false" id="S3.E3.m1.1.1.1.1.3.1.1.3" xref="S3.E3.m1.1.1.1.1.3.1.2.1.cmml">]</mo></mrow></mrow></mrow><mo id="S3.E3.m1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.1b"><apply id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"><eq id="S3.E3.m1.1.1.1.1.4.cmml" xref="S3.E3.m1.1.1.1.1.4"></eq><apply id="S3.E3.m1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.2"><times id="S3.E3.m1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.2.3"></times><ci id="S3.E3.m1.1.1.1.1.2.4.cmml" xref="S3.E3.m1.1.1.1.1.2.4">𝜎</ci><interval closure="open" id="S3.E3.m1.1.1.1.1.2.2.3.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2"><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3">0</cn></apply><apply id="S3.E3.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2.2">𝑦</ci><cn type="integer" id="S3.E3.m1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2.3">0</cn></apply></interval></apply><apply id="S3.E3.m1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.3"><times id="S3.E3.m1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.2"></times><ci id="S3.E3.m1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3">𝒯</ci><apply id="S3.E3.m1.1.1.1.1.3.1.2.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1"><csymbol cd="latexml" id="S3.E3.m1.1.1.1.1.3.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.2">delimited-[]</csymbol><apply id="S3.E3.m1.1.1.1.1.3.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1"><plus id="S3.E3.m1.1.1.1.1.3.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.1"></plus><apply id="S3.E3.m1.1.1.1.1.3.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2"><times id="S3.E3.m1.1.1.1.1.3.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.1"></times><apply id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.2">𝑦</ci><apply id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3"><times id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.1"></times><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.2">𝑏</ci><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.3">𝑖</ci><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.4.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.2.3.4">𝑛</ci></apply></apply><apply id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.2">𝑊</ci><apply id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3"><times id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.1"></times><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.2">𝑏</ci><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.3">𝑖</ci><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.4.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.2.3.3.4">𝑛</ci></apply></apply></apply><apply id="S3.E3.m1.1.1.1.1.3.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.2">𝑥</ci><apply id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3"><times id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.1"></times><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.2">𝑏</ci><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.3">𝑖</ci><ci id="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.4.cmml" xref="S3.E3.m1.1.1.1.1.3.1.1.1.3.3.4">𝑛</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.1c">\sigma(x_{0},y_{0})=\mathcal{T}[y_{bin}*W_{bin}+x_{bin}],</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.1" class="ltx_Math" alttext="x_{bin}=\lfloor x_{0}/W*W_{bin}\rfloor,\ y_{bin}=\lfloor y_{0}/H*H_{bin}\rfloor," display="block"><semantics id="S3.E4.m1.1a"><mrow id="S3.E4.m1.1.1.1"><mrow id="S3.E4.m1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.3.cmml"><mrow id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.cmml"><msub id="S3.E4.m1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.1.1.1.3.2.cmml">x</mi><mrow id="S3.E4.m1.1.1.1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.3.3.2" xref="S3.E4.m1.1.1.1.1.1.1.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.1.1.3.3.1" xref="S3.E4.m1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.1.1.3.3.3" xref="S3.E4.m1.1.1.1.1.1.1.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.1.1.3.3.1a" xref="S3.E4.m1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.1.1.3.3.4" xref="S3.E4.m1.1.1.1.1.1.1.3.3.4.cmml">n</mi></mrow></msub><mo id="S3.E4.m1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E4.m1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.1.2.1.cmml">⌊</mo><mrow id="S3.E4.m1.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">x</mi><mn id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.3.cmml">0</mn></msub><mo id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.1.cmml">/</mo><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.3.cmml">W</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.cmml">∗</mo><msub id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">W</mi><mrow id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.1a" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.4" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.4.cmml">n</mi></mrow></msub></mrow><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.2.1.cmml">⌋</mo></mrow></mrow><mo rspace="0.667em" id="S3.E4.m1.1.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.3a.cmml">,</mo><mrow id="S3.E4.m1.1.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.2.2.cmml"><msub id="S3.E4.m1.1.1.1.1.2.2.3" xref="S3.E4.m1.1.1.1.1.2.2.3.cmml"><mi id="S3.E4.m1.1.1.1.1.2.2.3.2" xref="S3.E4.m1.1.1.1.1.2.2.3.2.cmml">y</mi><mrow id="S3.E4.m1.1.1.1.1.2.2.3.3" xref="S3.E4.m1.1.1.1.1.2.2.3.3.cmml"><mi id="S3.E4.m1.1.1.1.1.2.2.3.3.2" xref="S3.E4.m1.1.1.1.1.2.2.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.2.2.3.3.1" xref="S3.E4.m1.1.1.1.1.2.2.3.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.2.2.3.3.3" xref="S3.E4.m1.1.1.1.1.2.2.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.2.2.3.3.1a" xref="S3.E4.m1.1.1.1.1.2.2.3.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.2.2.3.3.4" xref="S3.E4.m1.1.1.1.1.2.2.3.3.4.cmml">n</mi></mrow></msub><mo id="S3.E4.m1.1.1.1.1.2.2.2" xref="S3.E4.m1.1.1.1.1.2.2.2.cmml">=</mo><mrow id="S3.E4.m1.1.1.1.1.2.2.1.1" xref="S3.E4.m1.1.1.1.1.2.2.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.2.2.1.1.2" xref="S3.E4.m1.1.1.1.1.2.2.1.2.1.cmml">⌊</mo><mrow id="S3.E4.m1.1.1.1.1.2.2.1.1.1" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.cmml"><msub id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.cmml"><mi id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.2" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.2.cmml">y</mi><mn id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.3" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.3.cmml">0</mn></msub><mo id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.1" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.1.cmml">/</mo><mi id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.3.cmml">H</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.E4.m1.1.1.1.1.2.2.1.1.1.1" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.1.cmml">∗</mo><msub id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.2" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.2.cmml">H</mi><mrow id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.cmml"><mi id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.2" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.1" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.3" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.1a" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.4" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.4.cmml">n</mi></mrow></msub></mrow><mo stretchy="false" id="S3.E4.m1.1.1.1.1.2.2.1.1.3" xref="S3.E4.m1.1.1.1.1.2.2.1.2.1.cmml">⌋</mo></mrow></mrow></mrow><mo id="S3.E4.m1.1.1.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.1b"><apply id="S3.E4.m1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.3a.cmml" xref="S3.E4.m1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E4.m1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1"><eq id="S3.E4.m1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2"></eq><apply id="S3.E4.m1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3.2">𝑥</ci><apply id="S3.E4.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3.3"><times id="S3.E4.m1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3.3.1"></times><ci id="S3.E4.m1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3.3.2">𝑏</ci><ci id="S3.E4.m1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3.3.3">𝑖</ci><ci id="S3.E4.m1.1.1.1.1.1.1.3.3.4.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3.3.4">𝑛</ci></apply></apply><apply id="S3.E4.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1"><floor id="S3.E4.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2"></floor><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1"><times id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1"></times><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2"><divide id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.1"></divide><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.2">𝑥</ci><cn type="integer" id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.2.3">0</cn></apply><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.3">𝑊</ci></apply><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.2">𝑊</ci><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3"><times id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.1"></times><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.2">𝑏</ci><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.3">𝑖</ci><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.4.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.3.4">𝑛</ci></apply></apply></apply></apply></apply><apply id="S3.E4.m1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2"><eq id="S3.E4.m1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2.2"></eq><apply id="S3.E4.m1.1.1.1.1.2.2.3.cmml" xref="S3.E4.m1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.2.2.3.1.cmml" xref="S3.E4.m1.1.1.1.1.2.2.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.2.2.3.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2.3.2">𝑦</ci><apply id="S3.E4.m1.1.1.1.1.2.2.3.3.cmml" xref="S3.E4.m1.1.1.1.1.2.2.3.3"><times id="S3.E4.m1.1.1.1.1.2.2.3.3.1.cmml" xref="S3.E4.m1.1.1.1.1.2.2.3.3.1"></times><ci id="S3.E4.m1.1.1.1.1.2.2.3.3.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2.3.3.2">𝑏</ci><ci id="S3.E4.m1.1.1.1.1.2.2.3.3.3.cmml" xref="S3.E4.m1.1.1.1.1.2.2.3.3.3">𝑖</ci><ci id="S3.E4.m1.1.1.1.1.2.2.3.3.4.cmml" xref="S3.E4.m1.1.1.1.1.2.2.3.3.4">𝑛</ci></apply></apply><apply id="S3.E4.m1.1.1.1.1.2.2.1.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1"><floor id="S3.E4.m1.1.1.1.1.2.2.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.2"></floor><apply id="S3.E4.m1.1.1.1.1.2.2.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1"><times id="S3.E4.m1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.1"></times><apply id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2"><divide id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.1"></divide><apply id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.1.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.2">𝑦</ci><cn type="integer" id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.3.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.2.3">0</cn></apply><ci id="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.2.3">𝐻</ci></apply><apply id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.2">𝐻</ci><apply id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3"><times id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.1.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.1"></times><ci id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.2.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.2">𝑏</ci><ci id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.3.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.3">𝑖</ci><ci id="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.4.cmml" xref="S3.E4.m1.1.1.1.1.2.2.1.1.1.3.3.4">𝑛</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.1c">x_{bin}=\lfloor x_{0}/W*W_{bin}\rfloor,\ y_{bin}=\lfloor y_{0}/H*H_{bin}\rfloor,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.SSS0.Px1.p1.10" class="ltx_p">where <math id="S3.SS2.SSS0.Px1.p1.7.m1.1" class="ltx_Math" alttext="\mathcal{T}=\{&lt;L_{i}&gt;\}_{i=1}^{H_{bin}*W_{bin}}" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.7.m1.1a"><mrow id="S3.SS2.SSS0.Px1.p1.7.m1.1.1" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.3.cmml">𝒯</mi><mo id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.2.cmml">=</mo><msubsup id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.cmml"><mrow id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.2.cmml">{</mo><mrow id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.2.cmml"><mo fence="true" lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.2.1.cmml">&lt;</mo><msub id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.2.cmml">L</mi><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo fence="true" lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.2.1.cmml">&gt;</mo></mrow><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.2" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.2.cmml">i</mi><mo id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.1" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.3.cmml">1</mn></mrow><mrow id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.cmml"><msub id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.2" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.2.cmml">H</mi><mrow id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.2" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.1" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.1a" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.4" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.4.cmml">n</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.1" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.1.cmml">∗</mo><msub id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.2" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.2.cmml">W</mi><mrow id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.2" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.1" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.3" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.1a" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.4" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.4.cmml">n</mi></mrow></msub></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.7.m1.1b"><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1"><eq id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.2"></eq><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.3">𝒯</ci><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1">superscript</csymbol><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1">subscript</csymbol><set id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1"><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.2">expectation</csymbol><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.2">𝐿</ci><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></set><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3"><eq id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.1"></eq><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3"><times id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.1"></times><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.2">𝐻</ci><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3"><times id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.1"></times><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.2">𝑏</ci><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.3">𝑖</ci><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.4.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.2.3.4">𝑛</ci></apply></apply><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.2">𝑊</ci><apply id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3"><times id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.1"></times><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.2.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.2">𝑏</ci><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.3">𝑖</ci><ci id="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.4.cmml" xref="S3.SS2.SSS0.Px1.p1.7.m1.1.1.1.3.3.3.4">𝑛</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.7.m1.1c">\mathcal{T}=\{&lt;L_{i}&gt;\}_{i=1}^{H_{bin}*W_{bin}}</annotation></semantics></math> is the set of location tokens, and <math id="S3.SS2.SSS0.Px1.p1.8.m2.1" class="ltx_Math" alttext="\mathcal{T}[\cdot]" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.8.m2.1a"><mrow id="S3.SS2.SSS0.Px1.p1.8.m2.1.2" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px1.p1.8.m2.1.2.2" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2.2.cmml">𝒯</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.8.m2.1.2.1" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2.1.cmml">​</mo><mrow id="S3.SS2.SSS0.Px1.p1.8.m2.1.2.3.2" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2.3.1.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.8.m2.1.2.3.2.1" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2.3.1.1.cmml">[</mo><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.8.m2.1.1" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.8.m2.1.2.3.2.2" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.8.m2.1b"><apply id="S3.SS2.SSS0.Px1.p1.8.m2.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2"><times id="S3.SS2.SSS0.Px1.p1.8.m2.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2.1"></times><ci id="S3.SS2.SSS0.Px1.p1.8.m2.1.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2.2">𝒯</ci><apply id="S3.SS2.SSS0.Px1.p1.8.m2.1.2.3.1.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2.3.2"><csymbol cd="latexml" id="S3.SS2.SSS0.Px1.p1.8.m2.1.2.3.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.2.3.2.1">delimited-[]</csymbol><ci id="S3.SS2.SSS0.Px1.p1.8.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.8.m2.1.1">⋅</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.8.m2.1c">\mathcal{T}[\cdot]</annotation></semantics></math> is the index operation.
Thus, a bounding box <math id="S3.SS2.SSS0.Px1.p1.9.m3.2" class="ltx_Math" alttext="(c_{i},b_{i})" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.9.m3.2a"><mrow id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.3.cmml">(</mo><msub id="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.2.cmml">c</mi><mi id="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.4" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.3.cmml">,</mo><msub id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.2.cmml">b</mi><mi id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.5" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.9.m3.2b"><interval closure="open" id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2"><apply id="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.2">𝑐</ci><ci id="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m3.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.2">𝑏</ci><ci id="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.9.m3.2.2.2.2.3">𝑖</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.9.m3.2c">(c_{i},b_{i})</annotation></semantics></math> is encoded into a “pharse” with three tokens as <math id="S3.SS2.SSS0.Px1.p1.10.m4.11" class="ltx_Math" alttext="(c_{i},\sigma(x_{i,1},y_{i,1}),\sigma(x_{i,2},y_{i,2}))" display="inline"><semantics id="S3.SS2.SSS0.Px1.p1.10.m4.11a"><mrow id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.4.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.4" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.4.cmml">(</mo><msub id="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.2.cmml">c</mi><mi id="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.3" xref="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.3.cmml">i</mi></msub><mo id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.5" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.4.cmml">,</mo><mrow id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.4" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.4.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.3" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.3.cmml">​</mo><mrow id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.3" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.3.cmml">(</mo><msub id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.1.1.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.1.1.1.2.cmml">x</mi><mrow id="S3.SS2.SSS0.Px1.p1.10.m4.2.2.2.4" xref="S3.SS2.SSS0.Px1.p1.10.m4.2.2.2.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.1.1.1.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.1.1.1.1.cmml">i</mi><mo id="S3.SS2.SSS0.Px1.p1.10.m4.2.2.2.4.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.2.2.2.3.cmml">,</mo><mn id="S3.SS2.SSS0.Px1.p1.10.m4.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.2.2.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.4" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.3.cmml">,</mo><msub id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.2.2.cmml">y</mi><mrow id="S3.SS2.SSS0.Px1.p1.10.m4.4.4.2.4" xref="S3.SS2.SSS0.Px1.p1.10.m4.4.4.2.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.3.3.1.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.3.3.1.1.cmml">i</mi><mo id="S3.SS2.SSS0.Px1.p1.10.m4.4.4.2.4.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.4.4.2.3.cmml">,</mo><mn id="S3.SS2.SSS0.Px1.p1.10.m4.4.4.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.4.4.2.2.cmml">1</mn></mrow></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.5" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.6" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.4.cmml">,</mo><mrow id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.4" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.4.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.3" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.3.cmml">​</mo><mrow id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.3" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.3.cmml">(</mo><msub id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.1.1.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.1.1.1.2.cmml">x</mi><mrow id="S3.SS2.SSS0.Px1.p1.10.m4.6.6.2.4" xref="S3.SS2.SSS0.Px1.p1.10.m4.6.6.2.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.5.5.1.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.5.5.1.1.cmml">i</mi><mo id="S3.SS2.SSS0.Px1.p1.10.m4.6.6.2.4.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.6.6.2.3.cmml">,</mo><mn id="S3.SS2.SSS0.Px1.p1.10.m4.6.6.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.6.6.2.2.cmml">2</mn></mrow></msub><mo id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.4" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.3.cmml">,</mo><msub id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.2.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.2.2.cmml">y</mi><mrow id="S3.SS2.SSS0.Px1.p1.10.m4.8.8.2.4" xref="S3.SS2.SSS0.Px1.p1.10.m4.8.8.2.3.cmml"><mi id="S3.SS2.SSS0.Px1.p1.10.m4.7.7.1.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.7.7.1.1.cmml">i</mi><mo id="S3.SS2.SSS0.Px1.p1.10.m4.8.8.2.4.1" xref="S3.SS2.SSS0.Px1.p1.10.m4.8.8.2.3.cmml">,</mo><mn id="S3.SS2.SSS0.Px1.p1.10.m4.8.8.2.2" xref="S3.SS2.SSS0.Px1.p1.10.m4.8.8.2.2.cmml">2</mn></mrow></msub><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.5" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.7" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.10.m4.11b"><vector id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.4.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3"><apply id="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.2">𝑐</ci><ci id="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.9.9.1.1.3">𝑖</ci></apply><apply id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2"><times id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.3"></times><ci id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.4.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.4">𝜎</ci><interval closure="open" id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2"><apply id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.1.1.1.2">𝑥</ci><list id="S3.SS2.SSS0.Px1.p1.10.m4.2.2.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.2.2.2.4"><ci id="S3.SS2.SSS0.Px1.p1.10.m4.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.1.1.1.1">𝑖</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.10.m4.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.2.2.2.2">1</cn></list></apply><apply id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.10.10.2.2.2.2.2.2">𝑦</ci><list id="S3.SS2.SSS0.Px1.p1.10.m4.4.4.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.4.4.2.4"><ci id="S3.SS2.SSS0.Px1.p1.10.m4.3.3.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.3.3.1.1">𝑖</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.10.m4.4.4.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.4.4.2.2">1</cn></list></apply></interval></apply><apply id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3"><times id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.3.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.3"></times><ci id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.4.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.4">𝜎</ci><interval closure="open" id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2"><apply id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.1.1.1.2">𝑥</ci><list id="S3.SS2.SSS0.Px1.p1.10.m4.6.6.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.6.6.2.4"><ci id="S3.SS2.SSS0.Px1.p1.10.m4.5.5.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.5.5.1.1">𝑖</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.10.m4.6.6.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.6.6.2.2">2</cn></list></apply><apply id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.2.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.11.11.3.3.2.2.2.2">𝑦</ci><list id="S3.SS2.SSS0.Px1.p1.10.m4.8.8.2.3.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.8.8.2.4"><ci id="S3.SS2.SSS0.Px1.p1.10.m4.7.7.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.7.7.1.1">𝑖</ci><cn type="integer" id="S3.SS2.SSS0.Px1.p1.10.m4.8.8.2.2.cmml" xref="S3.SS2.SSS0.Px1.p1.10.m4.8.8.2.2">2</cn></list></apply></interval></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.10.m4.11c">(c_{i},\sigma(x_{i,1},y_{i,1}),\sigma(x_{i,2},y_{i,2}))</annotation></semantics></math>.</p>
</div>
</section>
<section id="S3.SS2.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Prompt construction.</h5>

<div id="S3.SS2.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.SSS0.Px2.p1.1" class="ltx_p">To generate a text prompt, we can serialize multiple box “phrases” into a single sequence.
In line with <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a href="#bib.bib7" title="" class="ltx_ref">2021b</a>)</cite>, here we utilize a random ordering strategy by randomly shuffling the box sequence each time a layout is presented to the model.
Finally, we construct the text prompts with the template, “<span id="S3.SS2.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_typewriter">An image of {view} camera with {boxes}</span>”.
As demonstrated in Tab. <a href="#S4.T2" title="Table 2 ‣ Dataset. ‣ 4.1 Implementation Details ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, this seemingly simple approach can effectively empower the T2I diffusion models for high-fidelity GL2I generation, and even <span id="S3.SS2.SSS0.Px2.p1.1.2" class="ltx_text ltx_font_italic">3D geometric controls</span> as shown in Fig. <a href="#A5.F11" title="Figure 11 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>.</p>
</div>
<figure id="S3.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F3.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x4.png" id="S3.F3.sf1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="245" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Constant re-weighting.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F3.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x5.png" id="S3.F3.sf2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="245" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Area re-weighting.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span><span id="S3.F3.2.1" class="ltx_text ltx_font_bold">Foreground prior re-weighting</span>.
(a) Constant re-weighting
assigns equal weight to all the bounding boxes, while (b) area re-weighting adaptively assigns higher weights to smaller boxes.
</figcaption>
</figure>
</section>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Foreground Prior Re-weighting</h3>

<div id="S3.SS3.p1" class="ltx_para ltx_noindent">
<p id="S3.SS3.p1.1" class="ltx_p">The objective function presented in Eqn. <a href="#S3.E2" title="In 3.1.2 Conditional Diffusion Models ‣ 3.1 Preliminary ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> is designed under the assumption of a uniform prior distribution across spatial coordinates. However, due to the extreme imbalance between foreground and background, we further introduce an adaptive re-weighting mask, denoted by <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="m\in\mathcal{R}^{H^{\prime}\times W^{\prime}}" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mrow id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml">m</mi><mo id="S3.SS3.p1.1.m1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.cmml">∈</mo><msup id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.1.m1.1.1.3.2" xref="S3.SS3.p1.1.m1.1.1.3.2.cmml">ℛ</mi><mrow id="S3.SS3.p1.1.m1.1.1.3.3" xref="S3.SS3.p1.1.m1.1.1.3.3.cmml"><msup id="S3.SS3.p1.1.m1.1.1.3.3.2" xref="S3.SS3.p1.1.m1.1.1.3.3.2.cmml"><mi id="S3.SS3.p1.1.m1.1.1.3.3.2.2" xref="S3.SS3.p1.1.m1.1.1.3.3.2.2.cmml">H</mi><mo id="S3.SS3.p1.1.m1.1.1.3.3.2.3" xref="S3.SS3.p1.1.m1.1.1.3.3.2.3.cmml">′</mo></msup><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p1.1.m1.1.1.3.3.1" xref="S3.SS3.p1.1.m1.1.1.3.3.1.cmml">×</mo><msup id="S3.SS3.p1.1.m1.1.1.3.3.3" xref="S3.SS3.p1.1.m1.1.1.3.3.3.cmml"><mi id="S3.SS3.p1.1.m1.1.1.3.3.3.2" xref="S3.SS3.p1.1.m1.1.1.3.3.3.2.cmml">W</mi><mo id="S3.SS3.p1.1.m1.1.1.3.3.3.3" xref="S3.SS3.p1.1.m1.1.1.3.3.3.3.cmml">′</mo></msup></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><in id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1"></in><ci id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2">𝑚</ci><apply id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.3.1.cmml" xref="S3.SS3.p1.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.3.2.cmml" xref="S3.SS3.p1.1.m1.1.1.3.2">ℛ</ci><apply id="S3.SS3.p1.1.m1.1.1.3.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3"><times id="S3.SS3.p1.1.m1.1.1.3.3.1.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3.1"></times><apply id="S3.SS3.p1.1.m1.1.1.3.3.2.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.3.3.2.1.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3.2">superscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.3.3.2.2.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3.2.2">𝐻</ci><ci id="S3.SS3.p1.1.m1.1.1.3.3.2.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3.2.3">′</ci></apply><apply id="S3.SS3.p1.1.m1.1.1.3.3.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.3.3.3.1.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3.3">superscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.3.3.3.2.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3.3.2">𝑊</ci><ci id="S3.SS3.p1.1.m1.1.1.3.3.3.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3.3.3">′</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">m\in\mathcal{R}^{H^{\prime}\times W^{\prime}}</annotation></semantics></math>, to adjust the prior.
This enables the model to focus more thoroughly on foreground generation and better address the challenges posed by the foreground-background imbalance.</p>
</div>
<section id="S3.SS3.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Constant re-weighting.</h5>

<div id="S3.SS3.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS3.SSS0.Px1.p1.1" class="ltx_p">To distinguish the foreground from background regions, we employ a re-weighting strategy whereby foreground regions are assigned a weight <math id="S3.SS3.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="w(w&gt;1)" display="inline"><semantics id="S3.SS3.SSS0.Px1.p1.1.m1.1a"><mrow id="S3.SS3.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.3" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.3.cmml">w</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.2" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.2.cmml">​</mo><mrow id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.2" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.2" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.2.cmml">w</mi><mo id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.1" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.1.cmml">&gt;</mo><mn id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.3" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.3" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.1.m1.1b"><apply id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1"><times id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.2"></times><ci id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.3">𝑤</ci><apply id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1"><gt id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.1"></gt><ci id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.2">𝑤</ci><cn type="integer" id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.1.1.1.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.1.m1.1c">w(w&gt;1)</annotation></semantics></math>, greater than that assigned to the background regions.</p>
</div>
</section>
<section id="S3.SS3.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Area re-weighting.</h5>

<div id="S3.SS3.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS3.SSS0.Px2.p1.1" class="ltx_p">The constant re-weighting strategy assigns equal weight to all foreground boxes, which causes larger boxes to exert a greater influence than smaller ones, thereby hindering the effective generation of small objects.
To mitigate this issue, we propose an area re-weighting method to dynamically assign higher weights to smaller boxes. A comparison of this approach can be seen in Fig. <a href="#S3.F3" title="Figure 3 ‣ Prompt construction. ‣ 3.2 Geometric Conditions as a Foreign Language ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
Finally, the re-weighting mask <math id="S3.SS3.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.1.m1.1a"><mi id="S3.SS3.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.1.m1.1b"><ci id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.1.m1.1c">m</annotation></semantics></math> can be represented as,</p>
<table id="S3.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E5.m1.6" class="ltx_Math" alttext="m^{\prime}_{ij}=\left\{\begin{array}[]{lc}w/c_{ij}^{p}&amp;(i,j)\in\text{foreground}\\
1/(H^{\prime}*W^{\prime})^{p}&amp;(i,j)\in\text{background}\\
\end{array}\right.," display="block"><semantics id="S3.E5.m1.6a"><mrow id="S3.E5.m1.6.6.1" xref="S3.E5.m1.6.6.1.1.cmml"><mrow id="S3.E5.m1.6.6.1.1" xref="S3.E5.m1.6.6.1.1.cmml"><msubsup id="S3.E5.m1.6.6.1.1.2" xref="S3.E5.m1.6.6.1.1.2.cmml"><mi id="S3.E5.m1.6.6.1.1.2.2.2" xref="S3.E5.m1.6.6.1.1.2.2.2.cmml">m</mi><mrow id="S3.E5.m1.6.6.1.1.2.3" xref="S3.E5.m1.6.6.1.1.2.3.cmml"><mi id="S3.E5.m1.6.6.1.1.2.3.2" xref="S3.E5.m1.6.6.1.1.2.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.6.6.1.1.2.3.1" xref="S3.E5.m1.6.6.1.1.2.3.1.cmml">​</mo><mi id="S3.E5.m1.6.6.1.1.2.3.3" xref="S3.E5.m1.6.6.1.1.2.3.3.cmml">j</mi></mrow><mo id="S3.E5.m1.6.6.1.1.2.2.3" xref="S3.E5.m1.6.6.1.1.2.2.3.cmml">′</mo></msubsup><mo id="S3.E5.m1.6.6.1.1.1" xref="S3.E5.m1.6.6.1.1.1.cmml">=</mo><mrow id="S3.E5.m1.6.6.1.1.3.2" xref="S3.E5.m1.6.6.1.1.3.1.cmml"><mo id="S3.E5.m1.6.6.1.1.3.2.1" xref="S3.E5.m1.6.6.1.1.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt" id="S3.E5.m1.5.5" xref="S3.E5.m1.5.5.cmml"><mtr id="S3.E5.m1.5.5a" xref="S3.E5.m1.5.5.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.5.5b" xref="S3.E5.m1.5.5.cmml"><mrow id="S3.E5.m1.2.2.2.3.1" xref="S3.E5.m1.2.2.2.3.1.cmml"><mi id="S3.E5.m1.2.2.2.3.1.2" xref="S3.E5.m1.2.2.2.3.1.2.cmml">w</mi><mo id="S3.E5.m1.2.2.2.3.1.1" xref="S3.E5.m1.2.2.2.3.1.1.cmml">/</mo><msubsup id="S3.E5.m1.2.2.2.3.1.3" xref="S3.E5.m1.2.2.2.3.1.3.cmml"><mi id="S3.E5.m1.2.2.2.3.1.3.2.2" xref="S3.E5.m1.2.2.2.3.1.3.2.2.cmml">c</mi><mrow id="S3.E5.m1.2.2.2.3.1.3.2.3" xref="S3.E5.m1.2.2.2.3.1.3.2.3.cmml"><mi id="S3.E5.m1.2.2.2.3.1.3.2.3.2" xref="S3.E5.m1.2.2.2.3.1.3.2.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.2.2.2.3.1.3.2.3.1" xref="S3.E5.m1.2.2.2.3.1.3.2.3.1.cmml">​</mo><mi id="S3.E5.m1.2.2.2.3.1.3.2.3.3" xref="S3.E5.m1.2.2.2.3.1.3.2.3.3.cmml">j</mi></mrow><mi id="S3.E5.m1.2.2.2.3.1.3.3" xref="S3.E5.m1.2.2.2.3.1.3.3.cmml">p</mi></msubsup></mrow></mtd><mtd id="S3.E5.m1.5.5c" xref="S3.E5.m1.5.5.cmml"><mrow id="S3.E5.m1.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.cmml"><mrow id="S3.E5.m1.2.2.2.2.2.4.2" xref="S3.E5.m1.2.2.2.2.2.4.1.cmml"><mo stretchy="false" id="S3.E5.m1.2.2.2.2.2.4.2.1" xref="S3.E5.m1.2.2.2.2.2.4.1.cmml">(</mo><mi id="S3.E5.m1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.cmml">i</mi><mo id="S3.E5.m1.2.2.2.2.2.4.2.2" xref="S3.E5.m1.2.2.2.2.2.4.1.cmml">,</mo><mi id="S3.E5.m1.2.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.2.cmml">j</mi><mo stretchy="false" id="S3.E5.m1.2.2.2.2.2.4.2.3" xref="S3.E5.m1.2.2.2.2.2.4.1.cmml">)</mo></mrow><mo id="S3.E5.m1.2.2.2.2.2.3" xref="S3.E5.m1.2.2.2.2.2.3.cmml">∈</mo><mtext id="S3.E5.m1.2.2.2.2.2.5" xref="S3.E5.m1.2.2.2.2.2.5a.cmml">foreground</mtext></mrow></mtd></mtr><mtr id="S3.E5.m1.5.5d" xref="S3.E5.m1.5.5.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.5.5e" xref="S3.E5.m1.5.5.cmml"><mrow id="S3.E5.m1.3.3.3.1.1" xref="S3.E5.m1.3.3.3.1.1.cmml"><mn id="S3.E5.m1.3.3.3.1.1.3" xref="S3.E5.m1.3.3.3.1.1.3.cmml">1</mn><mo id="S3.E5.m1.3.3.3.1.1.2" xref="S3.E5.m1.3.3.3.1.1.2.cmml">/</mo><msup id="S3.E5.m1.3.3.3.1.1.1" xref="S3.E5.m1.3.3.3.1.1.1.cmml"><mrow id="S3.E5.m1.3.3.3.1.1.1.1.1" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.3.3.3.1.1.1.1.1.2" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.3.3.3.1.1.1.1.1.1" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.cmml"><msup id="S3.E5.m1.3.3.3.1.1.1.1.1.1.2" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.cmml"><mi id="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.2" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.2.cmml">H</mi><mo id="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.3" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.3.cmml">′</mo></msup><mo lspace="0.222em" rspace="0.222em" id="S3.E5.m1.3.3.3.1.1.1.1.1.1.1" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.1.cmml">∗</mo><msup id="S3.E5.m1.3.3.3.1.1.1.1.1.1.3" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.2" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.2.cmml">W</mi><mo id="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.3" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.3.cmml">′</mo></msup></mrow><mo stretchy="false" id="S3.E5.m1.3.3.3.1.1.1.1.1.3" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.cmml">)</mo></mrow><mi id="S3.E5.m1.3.3.3.1.1.1.3" xref="S3.E5.m1.3.3.3.1.1.1.3.cmml">p</mi></msup></mrow></mtd><mtd id="S3.E5.m1.5.5f" xref="S3.E5.m1.5.5.cmml"><mrow id="S3.E5.m1.5.5.5.3.2" xref="S3.E5.m1.5.5.5.3.2.cmml"><mrow id="S3.E5.m1.5.5.5.3.2.4.2" xref="S3.E5.m1.5.5.5.3.2.4.1.cmml"><mo stretchy="false" id="S3.E5.m1.5.5.5.3.2.4.2.1" xref="S3.E5.m1.5.5.5.3.2.4.1.cmml">(</mo><mi id="S3.E5.m1.4.4.4.2.1.1" xref="S3.E5.m1.4.4.4.2.1.1.cmml">i</mi><mo id="S3.E5.m1.5.5.5.3.2.4.2.2" xref="S3.E5.m1.5.5.5.3.2.4.1.cmml">,</mo><mi id="S3.E5.m1.5.5.5.3.2.2" xref="S3.E5.m1.5.5.5.3.2.2.cmml">j</mi><mo stretchy="false" id="S3.E5.m1.5.5.5.3.2.4.2.3" xref="S3.E5.m1.5.5.5.3.2.4.1.cmml">)</mo></mrow><mo id="S3.E5.m1.5.5.5.3.2.3" xref="S3.E5.m1.5.5.5.3.2.3.cmml">∈</mo><mtext id="S3.E5.m1.5.5.5.3.2.5" xref="S3.E5.m1.5.5.5.3.2.5a.cmml">background</mtext></mrow></mtd></mtr></mtable><mi id="S3.E5.m1.6.6.1.1.3.2.2" xref="S3.E5.m1.6.6.1.1.3.1.1.cmml"></mi></mrow></mrow><mo id="S3.E5.m1.6.6.1.2" xref="S3.E5.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.6b"><apply id="S3.E5.m1.6.6.1.1.cmml" xref="S3.E5.m1.6.6.1"><eq id="S3.E5.m1.6.6.1.1.1.cmml" xref="S3.E5.m1.6.6.1.1.1"></eq><apply id="S3.E5.m1.6.6.1.1.2.cmml" xref="S3.E5.m1.6.6.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.1.1.2.1.cmml" xref="S3.E5.m1.6.6.1.1.2">subscript</csymbol><apply id="S3.E5.m1.6.6.1.1.2.2.cmml" xref="S3.E5.m1.6.6.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.1.1.2.2.1.cmml" xref="S3.E5.m1.6.6.1.1.2">superscript</csymbol><ci id="S3.E5.m1.6.6.1.1.2.2.2.cmml" xref="S3.E5.m1.6.6.1.1.2.2.2">𝑚</ci><ci id="S3.E5.m1.6.6.1.1.2.2.3.cmml" xref="S3.E5.m1.6.6.1.1.2.2.3">′</ci></apply><apply id="S3.E5.m1.6.6.1.1.2.3.cmml" xref="S3.E5.m1.6.6.1.1.2.3"><times id="S3.E5.m1.6.6.1.1.2.3.1.cmml" xref="S3.E5.m1.6.6.1.1.2.3.1"></times><ci id="S3.E5.m1.6.6.1.1.2.3.2.cmml" xref="S3.E5.m1.6.6.1.1.2.3.2">𝑖</ci><ci id="S3.E5.m1.6.6.1.1.2.3.3.cmml" xref="S3.E5.m1.6.6.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S3.E5.m1.6.6.1.1.3.1.cmml" xref="S3.E5.m1.6.6.1.1.3.2"><csymbol cd="latexml" id="S3.E5.m1.6.6.1.1.3.1.1.cmml" xref="S3.E5.m1.6.6.1.1.3.2.1">cases</csymbol><matrix id="S3.E5.m1.5.5.cmml" xref="S3.E5.m1.5.5"><matrixrow id="S3.E5.m1.5.5a.cmml" xref="S3.E5.m1.5.5"><apply id="S3.E5.m1.2.2.2.3.1.cmml" xref="S3.E5.m1.2.2.2.3.1"><divide id="S3.E5.m1.2.2.2.3.1.1.cmml" xref="S3.E5.m1.2.2.2.3.1.1"></divide><ci id="S3.E5.m1.2.2.2.3.1.2.cmml" xref="S3.E5.m1.2.2.2.3.1.2">𝑤</ci><apply id="S3.E5.m1.2.2.2.3.1.3.cmml" xref="S3.E5.m1.2.2.2.3.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.3.1.3.1.cmml" xref="S3.E5.m1.2.2.2.3.1.3">superscript</csymbol><apply id="S3.E5.m1.2.2.2.3.1.3.2.cmml" xref="S3.E5.m1.2.2.2.3.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.3.1.3.2.1.cmml" xref="S3.E5.m1.2.2.2.3.1.3">subscript</csymbol><ci id="S3.E5.m1.2.2.2.3.1.3.2.2.cmml" xref="S3.E5.m1.2.2.2.3.1.3.2.2">𝑐</ci><apply id="S3.E5.m1.2.2.2.3.1.3.2.3.cmml" xref="S3.E5.m1.2.2.2.3.1.3.2.3"><times id="S3.E5.m1.2.2.2.3.1.3.2.3.1.cmml" xref="S3.E5.m1.2.2.2.3.1.3.2.3.1"></times><ci id="S3.E5.m1.2.2.2.3.1.3.2.3.2.cmml" xref="S3.E5.m1.2.2.2.3.1.3.2.3.2">𝑖</ci><ci id="S3.E5.m1.2.2.2.3.1.3.2.3.3.cmml" xref="S3.E5.m1.2.2.2.3.1.3.2.3.3">𝑗</ci></apply></apply><ci id="S3.E5.m1.2.2.2.3.1.3.3.cmml" xref="S3.E5.m1.2.2.2.3.1.3.3">𝑝</ci></apply></apply><apply id="S3.E5.m1.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2"><in id="S3.E5.m1.2.2.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.2.3"></in><interval closure="open" id="S3.E5.m1.2.2.2.2.2.4.1.cmml" xref="S3.E5.m1.2.2.2.2.2.4.2"><ci id="S3.E5.m1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1">𝑖</ci><ci id="S3.E5.m1.2.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.2">𝑗</ci></interval><ci id="S3.E5.m1.2.2.2.2.2.5a.cmml" xref="S3.E5.m1.2.2.2.2.2.5"><mtext id="S3.E5.m1.2.2.2.2.2.5.cmml" xref="S3.E5.m1.2.2.2.2.2.5">foreground</mtext></ci></apply></matrixrow><matrixrow id="S3.E5.m1.5.5b.cmml" xref="S3.E5.m1.5.5"><apply id="S3.E5.m1.3.3.3.1.1.cmml" xref="S3.E5.m1.3.3.3.1.1"><divide id="S3.E5.m1.3.3.3.1.1.2.cmml" xref="S3.E5.m1.3.3.3.1.1.2"></divide><cn type="integer" id="S3.E5.m1.3.3.3.1.1.3.cmml" xref="S3.E5.m1.3.3.3.1.1.3">1</cn><apply id="S3.E5.m1.3.3.3.1.1.1.cmml" xref="S3.E5.m1.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.1.1.1.2.cmml" xref="S3.E5.m1.3.3.3.1.1.1">superscript</csymbol><apply id="S3.E5.m1.3.3.3.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.3.1.1.1.1.1"><times id="S3.E5.m1.3.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.1"></times><apply id="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.2">𝐻</ci><ci id="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.2.3">′</ci></apply><apply id="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.2">𝑊</ci><ci id="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.3.3.3.1.1.1.1.1.1.3.3">′</ci></apply></apply><ci id="S3.E5.m1.3.3.3.1.1.1.3.cmml" xref="S3.E5.m1.3.3.3.1.1.1.3">𝑝</ci></apply></apply><apply id="S3.E5.m1.5.5.5.3.2.cmml" xref="S3.E5.m1.5.5.5.3.2"><in id="S3.E5.m1.5.5.5.3.2.3.cmml" xref="S3.E5.m1.5.5.5.3.2.3"></in><interval closure="open" id="S3.E5.m1.5.5.5.3.2.4.1.cmml" xref="S3.E5.m1.5.5.5.3.2.4.2"><ci id="S3.E5.m1.4.4.4.2.1.1.cmml" xref="S3.E5.m1.4.4.4.2.1.1">𝑖</ci><ci id="S3.E5.m1.5.5.5.3.2.2.cmml" xref="S3.E5.m1.5.5.5.3.2.2">𝑗</ci></interval><ci id="S3.E5.m1.5.5.5.3.2.5a.cmml" xref="S3.E5.m1.5.5.5.3.2.5"><mtext id="S3.E5.m1.5.5.5.3.2.5.cmml" xref="S3.E5.m1.5.5.5.3.2.5">background</mtext></ci></apply></matrixrow></matrix></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.6c">m^{\prime}_{ij}=\left\{\begin{array}[]{lc}w/c_{ij}^{p}&amp;(i,j)\in\text{foreground}\\
1/(H^{\prime}*W^{\prime})^{p}&amp;(i,j)\in\text{background}\\
\end{array}\right.,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.1" class="ltx_Math" alttext="m_{ij}=H^{\prime}*W^{\prime}*m^{\prime}_{ij}/\sum m^{\prime}_{ij}," display="block"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><msub id="S3.E6.m1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.cmml"><mi id="S3.E6.m1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.2.2.cmml">m</mi><mrow id="S3.E6.m1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.2.3.2" xref="S3.E6.m1.1.1.1.1.2.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.2.3.1" xref="S3.E6.m1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.2.3.3" xref="S3.E6.m1.1.1.1.1.2.3.3.cmml">j</mi></mrow></msub><mo id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E6.m1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.3.cmml"><mrow id="S3.E6.m1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.3.2.cmml"><msup id="S3.E6.m1.1.1.1.1.3.2.2" xref="S3.E6.m1.1.1.1.1.3.2.2.cmml"><mi id="S3.E6.m1.1.1.1.1.3.2.2.2" xref="S3.E6.m1.1.1.1.1.3.2.2.2.cmml">H</mi><mo id="S3.E6.m1.1.1.1.1.3.2.2.3" xref="S3.E6.m1.1.1.1.1.3.2.2.3.cmml">′</mo></msup><mo lspace="0.222em" rspace="0.222em" id="S3.E6.m1.1.1.1.1.3.2.1" xref="S3.E6.m1.1.1.1.1.3.2.1.cmml">∗</mo><msup id="S3.E6.m1.1.1.1.1.3.2.3" xref="S3.E6.m1.1.1.1.1.3.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.3.2.3.2" xref="S3.E6.m1.1.1.1.1.3.2.3.2.cmml">W</mi><mo id="S3.E6.m1.1.1.1.1.3.2.3.3" xref="S3.E6.m1.1.1.1.1.3.2.3.3.cmml">′</mo></msup><mo lspace="0.222em" rspace="0.222em" id="S3.E6.m1.1.1.1.1.3.2.1a" xref="S3.E6.m1.1.1.1.1.3.2.1.cmml">∗</mo><msubsup id="S3.E6.m1.1.1.1.1.3.2.4" xref="S3.E6.m1.1.1.1.1.3.2.4.cmml"><mi id="S3.E6.m1.1.1.1.1.3.2.4.2.2" xref="S3.E6.m1.1.1.1.1.3.2.4.2.2.cmml">m</mi><mrow id="S3.E6.m1.1.1.1.1.3.2.4.3" xref="S3.E6.m1.1.1.1.1.3.2.4.3.cmml"><mi id="S3.E6.m1.1.1.1.1.3.2.4.3.2" xref="S3.E6.m1.1.1.1.1.3.2.4.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.3.2.4.3.1" xref="S3.E6.m1.1.1.1.1.3.2.4.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.3.2.4.3.3" xref="S3.E6.m1.1.1.1.1.3.2.4.3.3.cmml">j</mi></mrow><mo id="S3.E6.m1.1.1.1.1.3.2.4.2.3" xref="S3.E6.m1.1.1.1.1.3.2.4.2.3.cmml">′</mo></msubsup></mrow><mo rspace="0.055em" id="S3.E6.m1.1.1.1.1.3.1" xref="S3.E6.m1.1.1.1.1.3.1.cmml">/</mo><mrow id="S3.E6.m1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.3.3.cmml"><mo movablelimits="false" id="S3.E6.m1.1.1.1.1.3.3.1" xref="S3.E6.m1.1.1.1.1.3.3.1.cmml">∑</mo><msubsup id="S3.E6.m1.1.1.1.1.3.3.2" xref="S3.E6.m1.1.1.1.1.3.3.2.cmml"><mi id="S3.E6.m1.1.1.1.1.3.3.2.2.2" xref="S3.E6.m1.1.1.1.1.3.3.2.2.2.cmml">m</mi><mrow id="S3.E6.m1.1.1.1.1.3.3.2.3" xref="S3.E6.m1.1.1.1.1.3.3.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.3.3.2.3.2" xref="S3.E6.m1.1.1.1.1.3.3.2.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.3.3.2.3.1" xref="S3.E6.m1.1.1.1.1.3.3.2.3.1.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.3.3.2.3.3" xref="S3.E6.m1.1.1.1.1.3.3.2.3.3.cmml">j</mi></mrow><mo id="S3.E6.m1.1.1.1.1.3.3.2.2.3" xref="S3.E6.m1.1.1.1.1.3.3.2.2.3.cmml">′</mo></msubsup></mrow></mrow></mrow><mo id="S3.E6.m1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><eq id="S3.E6.m1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1"></eq><apply id="S3.E6.m1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2">𝑚</ci><apply id="S3.E6.m1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.3"><times id="S3.E6.m1.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.2.3.1"></times><ci id="S3.E6.m1.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.2.3.2">𝑖</ci><ci id="S3.E6.m1.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.3"><divide id="S3.E6.m1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.1"></divide><apply id="S3.E6.m1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2"><times id="S3.E6.m1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2.1"></times><apply id="S3.E6.m1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2.2">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2.2.2">𝐻</ci><ci id="S3.E6.m1.1.1.1.1.3.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.2.3">′</ci></apply><apply id="S3.E6.m1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3.2">𝑊</ci><ci id="S3.E6.m1.1.1.1.1.3.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3.3">′</ci></apply><apply id="S3.E6.m1.1.1.1.1.3.2.4.cmml" xref="S3.E6.m1.1.1.1.1.3.2.4"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.2.4.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2.4">subscript</csymbol><apply id="S3.E6.m1.1.1.1.1.3.2.4.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2.4"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.2.4.2.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2.4">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.2.4.2.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2.4.2.2">𝑚</ci><ci id="S3.E6.m1.1.1.1.1.3.2.4.2.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.4.2.3">′</ci></apply><apply id="S3.E6.m1.1.1.1.1.3.2.4.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.4.3"><times id="S3.E6.m1.1.1.1.1.3.2.4.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2.4.3.1"></times><ci id="S3.E6.m1.1.1.1.1.3.2.4.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2.4.3.2">𝑖</ci><ci id="S3.E6.m1.1.1.1.1.3.2.4.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.4.3.3">𝑗</ci></apply></apply></apply><apply id="S3.E6.m1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.3"><sum id="S3.E6.m1.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.3.1"></sum><apply id="S3.E6.m1.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.3.2.1.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2">subscript</csymbol><apply id="S3.E6.m1.1.1.1.1.3.3.2.2.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.3.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.3.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2.2.2">𝑚</ci><ci id="S3.E6.m1.1.1.1.1.3.3.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2.2.3">′</ci></apply><apply id="S3.E6.m1.1.1.1.1.3.3.2.3.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2.3"><times id="S3.E6.m1.1.1.1.1.3.3.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2.3.1"></times><ci id="S3.E6.m1.1.1.1.1.3.3.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2.3.2">𝑖</ci><ci id="S3.E6.m1.1.1.1.1.3.3.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2.3.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">m_{ij}=H^{\prime}*W^{\prime}*m^{\prime}_{ij}/\sum m^{\prime}_{ij},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.SSS0.Px2.p1.5" class="ltx_p">where <math id="S3.SS3.SSS0.Px2.p1.2.m1.1" class="ltx_Math" alttext="c_{ij}" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.2.m1.1a"><msub id="S3.SS3.SSS0.Px2.p1.2.m1.1.1" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.cmml"><mi id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.2" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.2.cmml">c</mi><mrow id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.cmml"><mi id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.2" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.2.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.1" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.3" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.3.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.2.m1.1b"><apply id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.2">𝑐</ci><apply id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3"><times id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.1"></times><ci id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.2">𝑖</ci><ci id="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.3.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m1.1.1.3.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.2.m1.1c">c_{ij}</annotation></semantics></math> represents the area of the bounding box to which pixel <math id="S3.SS3.SSS0.Px2.p1.3.m2.2" class="ltx_Math" alttext="(i,j)" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.3.m2.2a"><mrow id="S3.SS3.SSS0.Px2.p1.3.m2.2.3.2" xref="S3.SS3.SSS0.Px2.p1.3.m2.2.3.1.cmml"><mo stretchy="false" id="S3.SS3.SSS0.Px2.p1.3.m2.2.3.2.1" xref="S3.SS3.SSS0.Px2.p1.3.m2.2.3.1.cmml">(</mo><mi id="S3.SS3.SSS0.Px2.p1.3.m2.1.1" xref="S3.SS3.SSS0.Px2.p1.3.m2.1.1.cmml">i</mi><mo id="S3.SS3.SSS0.Px2.p1.3.m2.2.3.2.2" xref="S3.SS3.SSS0.Px2.p1.3.m2.2.3.1.cmml">,</mo><mi id="S3.SS3.SSS0.Px2.p1.3.m2.2.2" xref="S3.SS3.SSS0.Px2.p1.3.m2.2.2.cmml">j</mi><mo stretchy="false" id="S3.SS3.SSS0.Px2.p1.3.m2.2.3.2.3" xref="S3.SS3.SSS0.Px2.p1.3.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.3.m2.2b"><interval closure="open" id="S3.SS3.SSS0.Px2.p1.3.m2.2.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m2.2.3.2"><ci id="S3.SS3.SSS0.Px2.p1.3.m2.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m2.1.1">𝑖</ci><ci id="S3.SS3.SSS0.Px2.p1.3.m2.2.2.cmml" xref="S3.SS3.SSS0.Px2.p1.3.m2.2.2">𝑗</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.3.m2.2c">(i,j)</annotation></semantics></math> belongs, and <math id="S3.SS3.SSS0.Px2.p1.4.m3.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.4.m3.1a"><mi id="S3.SS3.SSS0.Px2.p1.4.m3.1.1" xref="S3.SS3.SSS0.Px2.p1.4.m3.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.4.m3.1b"><ci id="S3.SS3.SSS0.Px2.p1.4.m3.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m3.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.4.m3.1c">p</annotation></semantics></math> is a tunable parameter.
To improve the numerical stability during the fine-tuning process, Eqn. <a href="#S3.E6" title="In Area re-weighting. ‣ 3.3 Foreground Prior Re-weighting ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> normalizes the re-weighting mask <math id="S3.SS3.SSS0.Px2.p1.5.m4.1" class="ltx_Math" alttext="m^{\prime}" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.5.m4.1a"><msup id="S3.SS3.SSS0.Px2.p1.5.m4.1.1" xref="S3.SS3.SSS0.Px2.p1.5.m4.1.1.cmml"><mi id="S3.SS3.SSS0.Px2.p1.5.m4.1.1.2" xref="S3.SS3.SSS0.Px2.p1.5.m4.1.1.2.cmml">m</mi><mo id="S3.SS3.SSS0.Px2.p1.5.m4.1.1.3" xref="S3.SS3.SSS0.Px2.p1.5.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.5.m4.1b"><apply id="S3.SS3.SSS0.Px2.p1.5.m4.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.5.m4.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m4.1.1">superscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.5.m4.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m4.1.1.2">𝑚</ci><ci id="S3.SS3.SSS0.Px2.p1.5.m4.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.5.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.5.m4.1c">m^{\prime}</annotation></semantics></math>.
The benefits of this normalization process are demonstrated in Tab. <a href="#A3.T9" title="Table 9 ‣ More generalizability analysis. ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>.</p>
</div>
</section>
<section id="S3.SS3.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Objective function.</h5>

<div id="S3.SS3.SSS0.Px3.p1" class="ltx_para ltx_noindent">
<p id="S3.SS3.SSS0.Px3.p1.2" class="ltx_p">The final objective function of our <span id="S3.SS3.SSS0.Px3.p1.2.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can be formulated as,</p>
<table id="S3.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E7.m1.7" class="ltx_Math" alttext="\mathcal{L}_{\rm GeoDiffusion}=\mathbb{E}_{\mathcal{E}(x),\epsilon,t}\|\epsilon-\epsilon_{\theta}(z_{t},t,\tau_{\theta}(y))\|^{2}\odot m," display="block"><semantics id="S3.E7.m1.7a"><mrow id="S3.E7.m1.7.7.1" xref="S3.E7.m1.7.7.1.1.cmml"><mrow id="S3.E7.m1.7.7.1.1" xref="S3.E7.m1.7.7.1.1.cmml"><msub id="S3.E7.m1.7.7.1.1.3" xref="S3.E7.m1.7.7.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.7.7.1.1.3.2" xref="S3.E7.m1.7.7.1.1.3.2.cmml">ℒ</mi><mi id="S3.E7.m1.7.7.1.1.3.3" xref="S3.E7.m1.7.7.1.1.3.3.cmml">GeoDiffusion</mi></msub><mo id="S3.E7.m1.7.7.1.1.2" xref="S3.E7.m1.7.7.1.1.2.cmml">=</mo><mrow id="S3.E7.m1.7.7.1.1.1" xref="S3.E7.m1.7.7.1.1.1.cmml"><mrow id="S3.E7.m1.7.7.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.cmml"><msub id="S3.E7.m1.7.7.1.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.1.3.cmml"><mi id="S3.E7.m1.7.7.1.1.1.1.3.2" xref="S3.E7.m1.7.7.1.1.1.1.3.2.cmml">𝔼</mi><mrow id="S3.E7.m1.4.4.4.4" xref="S3.E7.m1.4.4.4.5.cmml"><mrow id="S3.E7.m1.4.4.4.4.1" xref="S3.E7.m1.4.4.4.4.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.4.4.4.4.1.2" xref="S3.E7.m1.4.4.4.4.1.2.cmml">ℰ</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.4.4.4.4.1.1" xref="S3.E7.m1.4.4.4.4.1.1.cmml">​</mo><mrow id="S3.E7.m1.4.4.4.4.1.3.2" xref="S3.E7.m1.4.4.4.4.1.cmml"><mo stretchy="false" id="S3.E7.m1.4.4.4.4.1.3.2.1" xref="S3.E7.m1.4.4.4.4.1.cmml">(</mo><mi id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml">x</mi><mo stretchy="false" id="S3.E7.m1.4.4.4.4.1.3.2.2" xref="S3.E7.m1.4.4.4.4.1.cmml">)</mo></mrow></mrow><mo id="S3.E7.m1.4.4.4.4.2" xref="S3.E7.m1.4.4.4.5.cmml">,</mo><mi id="S3.E7.m1.2.2.2.2" xref="S3.E7.m1.2.2.2.2.cmml">ϵ</mi><mo id="S3.E7.m1.4.4.4.4.3" xref="S3.E7.m1.4.4.4.5.cmml">,</mo><mi id="S3.E7.m1.3.3.3.3" xref="S3.E7.m1.3.3.3.3.cmml">t</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.7.7.1.1.1.1.2" xref="S3.E7.m1.7.7.1.1.1.1.2.cmml">​</mo><msup id="S3.E7.m1.7.7.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.1.cmml"><mrow id="S3.E7.m1.7.7.1.1.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.4" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.4.cmml">ϵ</mi><mo id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.3.cmml">−</mo><mrow id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.cmml"><mi id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.2.cmml">ϵ</mi><mi id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.3.cmml">​</mo><mrow id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.4" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mi id="S3.E7.m1.6.6" xref="S3.E7.m1.6.6.cmml">t</mi><mo id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.5" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.2.cmml">τ</mi><mi id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.1" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.1.cmml">​</mo><mrow id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.3.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.cmml"><mo stretchy="false" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.3.2.1" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.cmml">(</mo><mi id="S3.E7.m1.5.5" xref="S3.E7.m1.5.5.cmml">y</mi><mo stretchy="false" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.3.2.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.6" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo rspace="0.055em" stretchy="false" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E7.m1.7.7.1.1.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.1.1.3.cmml">2</mn></msup></mrow><mo rspace="0.222em" id="S3.E7.m1.7.7.1.1.1.2" xref="S3.E7.m1.7.7.1.1.1.2.cmml">⊙</mo><mi id="S3.E7.m1.7.7.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.3.cmml">m</mi></mrow></mrow><mo id="S3.E7.m1.7.7.1.2" xref="S3.E7.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.7b"><apply id="S3.E7.m1.7.7.1.1.cmml" xref="S3.E7.m1.7.7.1"><eq id="S3.E7.m1.7.7.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.2"></eq><apply id="S3.E7.m1.7.7.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.3.1.cmml" xref="S3.E7.m1.7.7.1.1.3">subscript</csymbol><ci id="S3.E7.m1.7.7.1.1.3.2.cmml" xref="S3.E7.m1.7.7.1.1.3.2">ℒ</ci><ci id="S3.E7.m1.7.7.1.1.3.3.cmml" xref="S3.E7.m1.7.7.1.1.3.3">GeoDiffusion</ci></apply><apply id="S3.E7.m1.7.7.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1"><csymbol cd="latexml" id="S3.E7.m1.7.7.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.2">direct-product</csymbol><apply id="S3.E7.m1.7.7.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1"><times id="S3.E7.m1.7.7.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.2"></times><apply id="S3.E7.m1.7.7.1.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.1.3.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.3">subscript</csymbol><ci id="S3.E7.m1.7.7.1.1.1.1.3.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.3.2">𝔼</ci><list id="S3.E7.m1.4.4.4.5.cmml" xref="S3.E7.m1.4.4.4.4"><apply id="S3.E7.m1.4.4.4.4.1.cmml" xref="S3.E7.m1.4.4.4.4.1"><times id="S3.E7.m1.4.4.4.4.1.1.cmml" xref="S3.E7.m1.4.4.4.4.1.1"></times><ci id="S3.E7.m1.4.4.4.4.1.2.cmml" xref="S3.E7.m1.4.4.4.4.1.2">ℰ</ci><ci id="S3.E7.m1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1">𝑥</ci></apply><ci id="S3.E7.m1.2.2.2.2.cmml" xref="S3.E7.m1.2.2.2.2">italic-ϵ</ci><ci id="S3.E7.m1.3.3.3.3.cmml" xref="S3.E7.m1.3.3.3.3">𝑡</ci></list></apply><apply id="S3.E7.m1.7.7.1.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1">superscript</csymbol><apply id="S3.E7.m1.7.7.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E7.m1.7.7.1.1.1.1.1.1.2.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.2">norm</csymbol><apply id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1"><minus id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.3"></minus><ci id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.4.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.4">italic-ϵ</ci><apply id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2"><times id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.3"></times><apply id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.2">italic-ϵ</ci><ci id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.4.3">𝜃</ci></apply><vector id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2"><apply id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="S3.E7.m1.6.6.cmml" xref="S3.E7.m1.6.6">𝑡</ci><apply id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2"><times id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.1"></times><apply id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.2">𝜏</ci><ci id="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.1.1.2.2.2.2.2.3">𝜃</ci></apply><ci id="S3.E7.m1.5.5.cmml" xref="S3.E7.m1.5.5">𝑦</ci></apply></vector></apply></apply></apply><cn type="integer" id="S3.E7.m1.7.7.1.1.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.3">2</cn></apply></apply><ci id="S3.E7.m1.7.7.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.7c">\mathcal{L}_{\rm GeoDiffusion}=\mathbb{E}_{\mathcal{E}(x),\epsilon,t}\|\epsilon-\epsilon_{\theta}(z_{t},t,\tau_{\theta}(y))\|^{2}\odot m,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.SSS0.Px3.p1.1" class="ltx_p">where <math id="S3.SS3.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S3.SS3.SSS0.Px3.p1.1.m1.1a"><mi id="S3.SS3.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS3.SSS0.Px3.p1.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px3.p1.1.m1.1b"><ci id="S3.SS3.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px3.p1.1.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px3.p1.1.m1.1c">y</annotation></semantics></math> is the encoded layout as discussed in Sec. <a href="#S3.SS2" title="3.2 Geometric Conditions as a Foreign Language ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>.</p>
</div>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Implementation Details</h3>

<section id="S4.SS1.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Dataset.</h5>

<div id="S4.SS1.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.SSS0.Px1.p1.1" class="ltx_p">Our experiments primarily utilize the widely used NuImages <cite class="ltx_cite ltx_citemacro_citep">(Caesar et al., <a href="#bib.bib3" title="" class="ltx_ref">2020</a>)</cite> dataset, which consists of 60K training samples and 15K validation samples with high-quality bounding box annotations from 10 semantic classes.
The dataset captures images from 6 camera views (<span id="S4.SS1.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_italic">front, front left, front right, back, back left and back right</span>), rendering it a suitable choice for our GL2I generation problem.
Moreover, to showcase the universality of <span id="S4.SS1.SSS0.Px1.p1.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> for common layout-to-image settings, we present experimental results on COCO <cite class="ltx_cite ltx_citemacro_citep">(Lin et al., <a href="#bib.bib32" title="" class="ltx_ref">2014</a>; Caesar et al., <a href="#bib.bib2" title="" class="ltx_ref">2018</a>)</cite> in Sec. <a href="#S4.SS3" title="4.3 Universality ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span><span id="S4.T2.26.1" class="ltx_text ltx_font_bold">Comparison of generation fidelity on NuImages.</span>
1) Effectiveness: <span id="S4.T2.27.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> surpasses all baselines by a significant margin, suggesting the effectiveness of adopting text-prompted geometric control.
2) Efficiency: Our <span id="S4.T2.28.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> generates highly-discriminative images even under annotation-scarce circumstances.
“Const.” and “ped.” suggests construction and pedestrian separately.
*: represents the real image <span id="S4.T2.29.4" class="ltx_text ltx_font_italic">Oracle</span> baseline.
</figcaption>
<table id="S4.T2.21.21" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T2.2.2.2" class="ltx_tr">
<td id="S4.T2.2.2.2.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_tt" style="padding-left:1.7pt;padding-right:1.7pt;" rowspan="2"><span id="S4.T2.2.2.2.3.1" class="ltx_text">Method</span></td>
<td id="S4.T2.2.2.2.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:1.7pt;padding-right:1.7pt;">Input</td>
<td id="S4.T2.2.2.2.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:1.7pt;padding-right:1.7pt;" rowspan="2"><span id="S4.T2.2.2.2.5.1" class="ltx_text">Ep.</span></td>
<td id="S4.T2.1.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:1.7pt;padding-right:1.7pt;" rowspan="2"><span id="S4.T2.1.1.1.1.1" class="ltx_text">FID<math id="S4.T2.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T2.1.1.1.1.1.m1.1a"><mo stretchy="false" id="S4.T2.1.1.1.1.1.m1.1.1" xref="S4.T2.1.1.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.1.1.m1.1b"><ci id="S4.T2.1.1.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.1.1.m1.1c">\downarrow</annotation></semantics></math></span></td>
<td id="S4.T2.2.2.2.2" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_tt" style="padding-left:1.7pt;padding-right:1.7pt;" colspan="9">Average Precision<math id="S4.T2.2.2.2.2.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T2.2.2.2.2.m1.1a"><mo stretchy="false" id="S4.T2.2.2.2.2.m1.1.1" xref="S4.T2.2.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.2.m1.1b"><ci id="S4.T2.2.2.2.2.m1.1.1.cmml" xref="S4.T2.2.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.2.m1.1c">\uparrow</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T2.6.6.6" class="ltx_tr">
<td id="S4.T2.6.6.6.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">Res.</td>
<td id="S4.T2.6.6.6.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">mAP</td>
<td id="S4.T2.3.3.3.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">AP<sub id="S4.T2.3.3.3.1.1" class="ltx_sub"><span id="S4.T2.3.3.3.1.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</td>
<td id="S4.T2.4.4.4.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">AP<sub id="S4.T2.4.4.4.2.1" class="ltx_sub"><span id="S4.T2.4.4.4.2.1.1" class="ltx_text ltx_font_italic">75</span></sub>
</td>
<td id="S4.T2.5.5.5.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">AP<sup id="S4.T2.5.5.5.3.1" class="ltx_sup"><span id="S4.T2.5.5.5.3.1.1" class="ltx_text ltx_font_italic">m</span></sup>
</td>
<td id="S4.T2.6.6.6.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">AP<sup id="S4.T2.6.6.6.4.1" class="ltx_sup"><span id="S4.T2.6.6.6.4.1.1" class="ltx_text ltx_font_italic">l</span></sup>
</td>
<td id="S4.T2.6.6.6.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">trailer</td>
<td id="S4.T2.6.6.6.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">const.</td>
<td id="S4.T2.6.6.6.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">ped.</td>
<td id="S4.T2.6.6.6.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">car</td>
</tr>
<tr id="S4.T2.21.21.22.1" class="ltx_tr">
<td id="S4.T2.21.21.22.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">Oracle*</td>
<td id="S4.T2.21.21.22.1.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">-</td>
<td id="S4.T2.21.21.22.1.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">-</td>
<td id="S4.T2.21.21.22.1.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">-</td>
<td id="S4.T2.21.21.22.1.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">48.2</td>
<td id="S4.T2.21.21.22.1.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">75.0</td>
<td id="S4.T2.21.21.22.1.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">52.0</td>
<td id="S4.T2.21.21.22.1.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">46.7</td>
<td id="S4.T2.21.21.22.1.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">60.5</td>
<td id="S4.T2.21.21.22.1.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">17.8</td>
<td id="S4.T2.21.21.22.1.11" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">30.9</td>
<td id="S4.T2.21.21.22.1.12" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">48.5</td>
<td id="S4.T2.21.21.22.1.13" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">64.9</td>
</tr>
<tr id="S4.T2.7.7.7" class="ltx_tr">
<td id="S4.T2.7.7.7.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">LostGAN</td>
<td id="S4.T2.7.7.7.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">256<math id="S4.T2.7.7.7.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.7.7.7.1.m1.1a"><mo id="S4.T2.7.7.7.1.m1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.7.7.7.1.m1.1b"><times id="S4.T2.7.7.7.1.m1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.7.7.7.1.m1.1c">\times</annotation></semantics></math>256</td>
<td id="S4.T2.7.7.7.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">256</td>
<td id="S4.T2.7.7.7.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">59.95</td>
<td id="S4.T2.7.7.7.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">4.4</td>
<td id="S4.T2.7.7.7.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">9.8</td>
<td id="S4.T2.7.7.7.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">3.3</td>
<td id="S4.T2.7.7.7.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">2.1</td>
<td id="S4.T2.7.7.7.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">12.3</td>
<td id="S4.T2.7.7.7.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">0.3</td>
<td id="S4.T2.7.7.7.11" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">1.3</td>
<td id="S4.T2.7.7.7.12" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">2.7</td>
<td id="S4.T2.7.7.7.13" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;">12.2</td>
</tr>
<tr id="S4.T2.8.8.8" class="ltx_tr">
<td id="S4.T2.8.8.8.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">LAMA</td>
<td id="S4.T2.8.8.8.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">256<math id="S4.T2.8.8.8.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.8.8.8.1.m1.1a"><mo id="S4.T2.8.8.8.1.m1.1.1" xref="S4.T2.8.8.8.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.8.8.8.1.m1.1b"><times id="S4.T2.8.8.8.1.m1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.8.8.8.1.m1.1c">\times</annotation></semantics></math>256</td>
<td id="S4.T2.8.8.8.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">256</td>
<td id="S4.T2.8.8.8.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">63.85</td>
<td id="S4.T2.8.8.8.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">3.2</td>
<td id="S4.T2.8.8.8.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">8.3</td>
<td id="S4.T2.8.8.8.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">1.9</td>
<td id="S4.T2.8.8.8.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">2.0</td>
<td id="S4.T2.8.8.8.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">9.4</td>
<td id="S4.T2.8.8.8.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">1.4</td>
<td id="S4.T2.8.8.8.11" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">1.0</td>
<td id="S4.T2.8.8.8.12" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">1.3</td>
<td id="S4.T2.8.8.8.13" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">8.8</td>
</tr>
<tr id="S4.T2.9.9.9" class="ltx_tr">
<td id="S4.T2.9.9.9.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">Taming</td>
<td id="S4.T2.9.9.9.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">256<math id="S4.T2.9.9.9.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.9.9.9.1.m1.1a"><mo id="S4.T2.9.9.9.1.m1.1.1" xref="S4.T2.9.9.9.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.9.9.9.1.m1.1b"><times id="S4.T2.9.9.9.1.m1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.9.9.9.1.m1.1c">\times</annotation></semantics></math>256</td>
<td id="S4.T2.9.9.9.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">256</td>
<td id="S4.T2.9.9.9.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">32.84</td>
<td id="S4.T2.9.9.9.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">7.4</td>
<td id="S4.T2.9.9.9.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">19.0</td>
<td id="S4.T2.9.9.9.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">4.8</td>
<td id="S4.T2.9.9.9.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">2.8</td>
<td id="S4.T2.9.9.9.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;">18.8</td>
<td id="S4.T2.9.9.9.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">6.0</td>
<td id="S4.T2.9.9.9.11" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">4.0</td>
<td id="S4.T2.9.9.9.12" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">3.0</td>
<td id="S4.T2.9.9.9.13" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;">17.3</td>
</tr>
<tr id="S4.T2.10.10.10" class="ltx_tr">
<td id="S4.T2.10.10.10.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.2.1" class="ltx_text" style="color:#000000;">ReCo</span></td>
<td id="S4.T2.10.10.10.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.1.1" class="ltx_text" style="color:#000000;">512<math id="S4.T2.10.10.10.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.10.10.10.1.1.m1.1a"><mo mathcolor="#000000" id="S4.T2.10.10.10.1.1.m1.1.1" xref="S4.T2.10.10.10.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.10.10.10.1.1.m1.1b"><times id="S4.T2.10.10.10.1.1.m1.1.1.cmml" xref="S4.T2.10.10.10.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.10.10.10.1.1.m1.1c">\times</annotation></semantics></math>512</span></td>
<td id="S4.T2.10.10.10.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.3.1" class="ltx_text" style="color:#000000;">64</span></td>
<td id="S4.T2.10.10.10.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.4.1" class="ltx_text" style="color:#000000;">27.10</span></td>
<td id="S4.T2.10.10.10.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.5.1" class="ltx_text" style="color:#000000;">17.1</span></td>
<td id="S4.T2.10.10.10.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.6.1" class="ltx_text" style="color:#000000;">41.1</span></td>
<td id="S4.T2.10.10.10.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.7.1" class="ltx_text" style="color:#000000;">11.8</span></td>
<td id="S4.T2.10.10.10.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.8.1" class="ltx_text" style="color:#000000;">10.9</span></td>
<td id="S4.T2.10.10.10.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.9.1" class="ltx_text" style="color:#000000;">36.2</span></td>
<td id="S4.T2.10.10.10.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.10.1" class="ltx_text" style="color:#000000;">8.0</span></td>
<td id="S4.T2.10.10.10.11" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.11.1" class="ltx_text" style="color:#000000;">11.8</span></td>
<td id="S4.T2.10.10.10.12" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.12.1" class="ltx_text" style="color:#000000;">7.6</span></td>
<td id="S4.T2.10.10.10.13" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.10.10.10.13.1" class="ltx_text" style="color:#000000;">31.8</span></td>
</tr>
<tr id="S4.T2.11.11.11" class="ltx_tr">
<td id="S4.T2.11.11.11.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.2.1" class="ltx_text" style="color:#000000;">GLIGEN</span></td>
<td id="S4.T2.11.11.11.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.1.1" class="ltx_text" style="color:#000000;">512<math id="S4.T2.11.11.11.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.11.11.11.1.1.m1.1a"><mo mathcolor="#000000" id="S4.T2.11.11.11.1.1.m1.1.1" xref="S4.T2.11.11.11.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.11.11.11.1.1.m1.1b"><times id="S4.T2.11.11.11.1.1.m1.1.1.cmml" xref="S4.T2.11.11.11.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.11.11.11.1.1.m1.1c">\times</annotation></semantics></math>512</span></td>
<td id="S4.T2.11.11.11.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.3.1" class="ltx_text" style="color:#000000;">64</span></td>
<td id="S4.T2.11.11.11.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.4.1" class="ltx_text" style="color:#000000;">16.68</span></td>
<td id="S4.T2.11.11.11.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.5.1" class="ltx_text" style="color:#000000;">21.3</span></td>
<td id="S4.T2.11.11.11.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.6.1" class="ltx_text" style="color:#000000;">42.1</span></td>
<td id="S4.T2.11.11.11.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.7.1" class="ltx_text" style="color:#000000;">19.1</span></td>
<td id="S4.T2.11.11.11.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.8.1" class="ltx_text" style="color:#000000;">15.9</span></td>
<td id="S4.T2.11.11.11.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.9.1" class="ltx_text" style="color:#000000;">40.8</span></td>
<td id="S4.T2.11.11.11.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.10.1" class="ltx_text" style="color:#000000;">8.5</span></td>
<td id="S4.T2.11.11.11.11" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.11.1" class="ltx_text" style="color:#000000;">14.3</span></td>
<td id="S4.T2.11.11.11.12" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.12.1" class="ltx_text" style="color:#000000;">14.7</span></td>
<td id="S4.T2.11.11.11.13" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.11.11.11.13.1" class="ltx_text" style="color:#000000;">38.7</span></td>
</tr>
<tr id="S4.T2.12.12.12" class="ltx_tr">
<td id="S4.T2.12.12.12.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.2.1" class="ltx_text" style="color:#000000;">ControlNet</span></td>
<td id="S4.T2.12.12.12.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.1.1" class="ltx_text" style="color:#000000;">512<math id="S4.T2.12.12.12.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.12.12.12.1.1.m1.1a"><mo mathcolor="#000000" id="S4.T2.12.12.12.1.1.m1.1.1" xref="S4.T2.12.12.12.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.12.12.12.1.1.m1.1b"><times id="S4.T2.12.12.12.1.1.m1.1.1.cmml" xref="S4.T2.12.12.12.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.12.12.12.1.1.m1.1c">\times</annotation></semantics></math>512</span></td>
<td id="S4.T2.12.12.12.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.3.1" class="ltx_text" style="color:#000000;">64</span></td>
<td id="S4.T2.12.12.12.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.4.1" class="ltx_text" style="color:#000000;">23.26</span></td>
<td id="S4.T2.12.12.12.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.5.1" class="ltx_text" style="color:#000000;">22.6</span></td>
<td id="S4.T2.12.12.12.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.6.1" class="ltx_text" style="color:#000000;">43.9</span></td>
<td id="S4.T2.12.12.12.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.7.1" class="ltx_text" style="color:#000000;">20.7</span></td>
<td id="S4.T2.12.12.12.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.8.1" class="ltx_text" style="color:#000000;">17.3</span></td>
<td id="S4.T2.12.12.12.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.9.1" class="ltx_text" style="color:#000000;">41.9</span></td>
<td id="S4.T2.12.12.12.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.10.1" class="ltx_text" style="color:#000000;">10.5</span></td>
<td id="S4.T2.12.12.12.11" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.11.1" class="ltx_text" style="color:#000000;">15.1</span></td>
<td id="S4.T2.12.12.12.12" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.12.1" class="ltx_text" style="color:#000000;">16.7</span></td>
<td id="S4.T2.12.12.12.13" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.12.12.12.13.1" class="ltx_text" style="color:#000000;">40.7</span></td>
</tr>
<tr id="S4.T2.15.15.15" class="ltx_tr" style="background-color:#E8F2FF;">
<td id="S4.T2.15.15.15.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.4.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">GeoDiffusion</span></td>
<td id="S4.T2.13.13.13.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.13.13.13.1.1" class="ltx_text" style="background-color:#E8F2FF;">256<math id="S4.T2.13.13.13.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.13.13.13.1.1.m1.1a"><mo mathbackground="#E8F2FF" id="S4.T2.13.13.13.1.1.m1.1.1" xref="S4.T2.13.13.13.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.13.13.13.1.1.m1.1b"><times id="S4.T2.13.13.13.1.1.m1.1.1.cmml" xref="S4.T2.13.13.13.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.13.13.13.1.1.m1.1c">\times</annotation></semantics></math>256</span></td>
<td id="S4.T2.15.15.15.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.5.1" class="ltx_text" style="background-color:#E8F2FF;">64</span></td>
<td id="S4.T2.14.14.14.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.14.14.14.2.1" class="ltx_text" style="background-color:#E8F2FF;">14.58<sup id="S4.T2.14.14.14.2.1.1" class="ltx_sup"><span id="S4.T2.14.14.14.2.1.1.1" class="ltx_text ltx_font_italic" style="color:#70AD47;">+18.26</span></sup></span></td>
<td id="S4.T2.15.15.15.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.3.1" class="ltx_text" style="background-color:#E8F2FF;">15.6<sup id="S4.T2.15.15.15.3.1.1" class="ltx_sup"><span id="S4.T2.15.15.15.3.1.1.1" class="ltx_text ltx_font_italic" style="color:#70AD47;">+8.2</span></sup></span></td>
<td id="S4.T2.15.15.15.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.6.1" class="ltx_text" style="background-color:#E8F2FF;">31.7</span></td>
<td id="S4.T2.15.15.15.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.7.1" class="ltx_text" style="background-color:#E8F2FF;">13.4</span></td>
<td id="S4.T2.15.15.15.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.8.1" class="ltx_text" style="background-color:#E8F2FF;">6.3</span></td>
<td id="S4.T2.15.15.15.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.9.1" class="ltx_text" style="background-color:#E8F2FF;">38.3</span></td>
<td id="S4.T2.15.15.15.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.10.1" class="ltx_text" style="background-color:#E8F2FF;">13.3</span></td>
<td id="S4.T2.15.15.15.11" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.11.1" class="ltx_text" style="background-color:#E8F2FF;">10.8</span></td>
<td id="S4.T2.15.15.15.12" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.12.1" class="ltx_text" style="background-color:#E8F2FF;">6.5</span></td>
<td id="S4.T2.15.15.15.13" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.15.15.15.13.1" class="ltx_text" style="background-color:#E8F2FF;">26.3</span></td>
</tr>
<tr id="S4.T2.18.18.18" class="ltx_tr" style="background-color:#E8F2FF;">
<td id="S4.T2.18.18.18.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.4.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">GeoDiffusion</span></td>
<td id="S4.T2.16.16.16.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.16.16.16.1.1" class="ltx_text" style="background-color:#E8F2FF;">512<math id="S4.T2.16.16.16.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.16.16.16.1.1.m1.1a"><mo mathbackground="#E8F2FF" id="S4.T2.16.16.16.1.1.m1.1.1" xref="S4.T2.16.16.16.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.16.16.16.1.1.m1.1b"><times id="S4.T2.16.16.16.1.1.m1.1.1.cmml" xref="S4.T2.16.16.16.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.16.16.16.1.1.m1.1c">\times</annotation></semantics></math>512</span></td>
<td id="S4.T2.18.18.18.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.5.1" class="ltx_text" style="background-color:#E8F2FF;">64</span></td>
<td id="S4.T2.17.17.17.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.17.17.17.2.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">9.58<sup id="S4.T2.17.17.17.2.1.1" class="ltx_sup"><span id="S4.T2.17.17.17.2.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic" style="color:#70AD47;">+23.26</span></sup></span></td>
<td id="S4.T2.18.18.18.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.3.1" class="ltx_text" style="background-color:#E8F2FF;">31.8<sup id="S4.T2.18.18.18.3.1.1" class="ltx_sup"><span id="S4.T2.18.18.18.3.1.1.1" class="ltx_text ltx_font_italic" style="color:#70AD47;">+24.4</span></sup></span></td>
<td id="S4.T2.18.18.18.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.6.1" class="ltx_text" style="background-color:#E8F2FF;">62.9</span></td>
<td id="S4.T2.18.18.18.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.7.1" class="ltx_text" style="background-color:#E8F2FF;">28.7</span></td>
<td id="S4.T2.18.18.18.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.8.1" class="ltx_text" style="background-color:#E8F2FF;">27.0</span></td>
<td id="S4.T2.18.18.18.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.9.1" class="ltx_text" style="background-color:#E8F2FF;">53.8</span></td>
<td id="S4.T2.18.18.18.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.10.1" class="ltx_text" style="background-color:#E8F2FF;">21.2</span></td>
<td id="S4.T2.18.18.18.11" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.11.1" class="ltx_text" style="background-color:#E8F2FF;">27.8</span></td>
<td id="S4.T2.18.18.18.12" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.12.1" class="ltx_text" style="background-color:#E8F2FF;">18.2</span></td>
<td id="S4.T2.18.18.18.13" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.18.18.18.13.1" class="ltx_text" style="background-color:#E8F2FF;">46.0</span></td>
</tr>
<tr id="S4.T2.21.21.21" class="ltx_tr" style="background-color:#E8F2FF;">
<td id="S4.T2.21.21.21.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.4.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">GeoDiffusion</span></td>
<td id="S4.T2.19.19.19.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.19.19.19.1.1" class="ltx_text" style="background-color:#E8F2FF;">800<math id="S4.T2.19.19.19.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.19.19.19.1.1.m1.1a"><mo mathbackground="#E8F2FF" id="S4.T2.19.19.19.1.1.m1.1.1" xref="S4.T2.19.19.19.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.19.19.19.1.1.m1.1b"><times id="S4.T2.19.19.19.1.1.m1.1.1.cmml" xref="S4.T2.19.19.19.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.19.19.19.1.1.m1.1c">\times</annotation></semantics></math>456</span></td>
<td id="S4.T2.21.21.21.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.5.1" class="ltx_text" style="background-color:#E8F2FF;">64</span></td>
<td id="S4.T2.20.20.20.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.20.20.20.2.1" class="ltx_text" style="background-color:#E8F2FF;">10.99<sup id="S4.T2.20.20.20.2.1.1" class="ltx_sup"><span id="S4.T2.20.20.20.2.1.1.1" class="ltx_text ltx_font_italic" style="color:#70AD47;">+21.85</span></sup></span></td>
<td id="S4.T2.21.21.21.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.3.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">34.5<sup id="S4.T2.21.21.21.3.1.1" class="ltx_sup"><span id="S4.T2.21.21.21.3.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic" style="color:#70AD47;">+27.1</span></sup></span></td>
<td id="S4.T2.21.21.21.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.6.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">68.5</span></td>
<td id="S4.T2.21.21.21.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.7.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">30.6</span></td>
<td id="S4.T2.21.21.21.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.8.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">31.1</span></td>
<td id="S4.T2.21.21.21.9" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.9.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">54.6</span></td>
<td id="S4.T2.21.21.21.10" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.10.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">20.4</span></td>
<td id="S4.T2.21.21.21.11" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.11.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">29.3</span></td>
<td id="S4.T2.21.21.21.12" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.12.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">21.6</span></td>
<td id="S4.T2.21.21.21.13" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.7pt;padding-right:1.7pt;"><span id="S4.T2.21.21.21.13.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">48.8</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S4.SS1.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Optimization.</h5>

<div id="S4.SS1.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.SSS0.Px2.p1.2" class="ltx_p">We initialize the embedding matrix of the location tokens with 2D sine-cosine embeddings <cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al., <a href="#bib.bib51" title="" class="ltx_ref">2017</a>)</cite>, while the remaining parameters of <span id="S4.SS1.SSS0.Px2.p1.2.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> are initialized with Stable Diffusion (v1.5), a pre-trained text-to-image diffusion model based on LDM <cite class="ltx_cite ltx_citemacro_citep">(Rombach et al., <a href="#bib.bib45" title="" class="ltx_ref">2022</a>)</cite>.
With VQ-VAE fixed, we fine-tune all parameters of the text encoder and U-Net using AdamW <cite class="ltx_cite ltx_citemacro_citep">(Loshchilov &amp; Hutter, <a href="#bib.bib36" title="" class="ltx_ref">2019</a>)</cite> optimizer and a cosine learning rate schedule with a linear warm-up of 3000 iterations.
The batch size is set to 64, and learning rates are set to <math id="S4.SS1.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="4e^{-5}" display="inline"><semantics id="S4.SS1.SSS0.Px2.p1.1.m1.1a"><mrow id="S4.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.cmml"><mn id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml">4</mn><mo lspace="0em" rspace="0em" id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml">​</mo><msup id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mi id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.2" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">e</mi><mrow id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3.cmml"><mo id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3a" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3.cmml">−</mo><mn id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3.2" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.1.m1.1b"><apply id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1"><times id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.1"></times><cn type="integer" id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.2">4</cn><apply id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3">superscript</csymbol><ci id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.2">𝑒</ci><apply id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3"><minus id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3"></minus><cn type="integer" id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.1.m1.1c">4e^{-5}</annotation></semantics></math> for U-Net and <math id="S4.SS1.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="3e^{-5}" display="inline"><semantics id="S4.SS1.SSS0.Px2.p1.2.m2.1a"><mrow id="S4.SS1.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.cmml"><mn id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml">3</mn><mo lspace="0em" rspace="0em" id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml">​</mo><msup id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml"><mi id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.2" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.2.cmml">e</mi><mrow id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.cmml"><mo id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3a" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.cmml">−</mo><mn id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.2" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.2.m2.1b"><apply id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1"><times id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.1"></times><cn type="integer" id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.2">3</cn><apply id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.1.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3">superscript</csymbol><ci id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.2.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.2">𝑒</ci><apply id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3"><minus id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.1.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3"></minus><cn type="integer" id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.2.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.2.m2.1c">3e^{-5}</annotation></semantics></math> for the text encoder.
Layer-wise learning rate decay <cite class="ltx_cite ltx_citemacro_citep">(Clark et al., <a href="#bib.bib9" title="" class="ltx_ref">2020</a>)</cite> is further adopted for the text encoder, with a decay ratio of 0.95.
With 10% probability, the text prompt is replaced with a <span id="S4.SS1.SSS0.Px2.p1.2.2" class="ltx_text ltx_font_italic">null</span> text for unconditional generation.
We fine-tune our <span id="S4.SS1.SSS0.Px2.p1.2.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> for 64 epochs, while baseline methods are trained for 256 epochs to maintain a similar training budget with the COCO recipe in <cite class="ltx_cite ltx_citemacro_citep">(Sun &amp; Wu, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>; Li et al., <a href="#bib.bib30" title="" class="ltx_ref">2021</a>; Jahn et al., <a href="#bib.bib24" title="" class="ltx_ref">2021</a>)</cite>.
Over-fitting is observed if training baselines longer.
During generation, we sample images using the PLMS <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a href="#bib.bib33" title="" class="ltx_ref">2022a</a>)</cite> scheduler for 100 steps with the classifier-free guidance (CFG) set as 5.0.</p>
</div>
</section>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Main Results</h3>

<div id="S4.SS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.p1.1" class="ltx_p">The quality of object detection data is predicated on three key criteria: the <span id="S4.SS2.p1.1.1" class="ltx_text ltx_font_bold">fidelity</span>, <span id="S4.SS2.p1.1.2" class="ltx_text ltx_font_bold">trainability</span>, and <span id="S4.SS2.p1.1.3" class="ltx_text ltx_font_bold">generalizability</span>.
Fidelity demands a realistic object representation while consistent with geometric layouts.
Trainability concerns the usefulness of generated images for the training of object detectors.
Generalizability demands the capacity to simulate uncollected, novel scenes in real datasets.
In this section, we conduct a comprehensive evaluation of <span id="S4.SS2.p1.1.4" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> for these critical areas.</p>
</div>
<section id="S4.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1 </span>Fidelity</h4>

<section id="S4.SS2.SSS1.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Setup.</h5>

<div id="S4.SS2.SSS1.Px1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS1.Px1.p1.1" class="ltx_p">We utilize two primary metrics on the NuImages validation set to evaluate Fidelity. The perceptual quality is measured with the Frechet Inception Distance (FID)<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>
Images are all resize into <math id="footnote1.m1.1" class="ltx_Math" alttext="256\times 256" display="inline"><semantics id="footnote1.m1.1b"><mrow id="footnote1.m1.1.1" xref="footnote1.m1.1.1.cmml"><mn id="footnote1.m1.1.1.2" xref="footnote1.m1.1.1.2.cmml">256</mn><mo lspace="0.222em" rspace="0.222em" id="footnote1.m1.1.1.1" xref="footnote1.m1.1.1.1.cmml">×</mo><mn id="footnote1.m1.1.1.3" xref="footnote1.m1.1.1.3.cmml">256</mn></mrow><annotation-xml encoding="MathML-Content" id="footnote1.m1.1c"><apply id="footnote1.m1.1.1.cmml" xref="footnote1.m1.1.1"><times id="footnote1.m1.1.1.1.cmml" xref="footnote1.m1.1.1.1"></times><cn type="integer" id="footnote1.m1.1.1.2.cmml" xref="footnote1.m1.1.1.2">256</cn><cn type="integer" id="footnote1.m1.1.1.3.cmml" xref="footnote1.m1.1.1.3">256</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m1.1d">256\times 256</annotation></semantics></math> before evaluation.</span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(Heusel et al., <a href="#bib.bib22" title="" class="ltx_ref">2017</a>)</cite>, while consistency between generated images and geometric layouts is evaluated via reporting the COCO-style average precision <cite class="ltx_cite ltx_citemacro_citep">(Lin et al., <a href="#bib.bib32" title="" class="ltx_ref">2014</a>)</cite> using a pre-trained object detector, which is similar to the YOLO score in LAMA <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib30" title="" class="ltx_ref">2021</a>)</cite>.
A Mask R-CNN<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://github.com/open-mmlab/mmdetection3d/tree/master/configs/nuimages</span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a href="#bib.bib18" title="" class="ltx_ref">2017</a>)</cite> model pre-trained on the NuImages training set is used to make predictions on generated images.
These predictions are subsequently compared with the corresponding ground truth annotations.
We further provide the detection results on real validation images as the <span id="S4.SS2.SSS1.Px1.p1.1.1" class="ltx_text ltx_font_italic">Oracle</span> baseline in Tab. <a href="#S4.T2" title="Table 2 ‣ Dataset. ‣ 4.1 Implementation Details ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> for reference.</p>
</div>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span><span id="S4.T3.15.1" class="ltx_text ltx_font_bold">Comparison of generation trainability on NuImages.</span>
1) <span id="S4.T3.16.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> is <span id="S4.T3.17.3" class="ltx_text ltx_font_bold">the only</span> layout-to-image method showing consistent improvements over almost all classes,
2) especially on rare ones, verifying that <span id="S4.T3.18.4" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> indeed helps relieve annotation scarcity during detector training.
By default the 800<math id="S4.T3.2.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T3.2.2.m1.1b"><mo id="S4.T3.2.2.m1.1.1" xref="S4.T3.2.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T3.2.2.m1.1c"><times id="S4.T3.2.2.m1.1.1.cmml" xref="S4.T3.2.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.2.m1.1d">\times</annotation></semantics></math>456 <span id="S4.T3.19.5" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> variant is utilized for all trainability evaluation.
</figcaption>
<table id="S4.T3.9.9" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T3.9.9.8.1" class="ltx_tr">
<th id="S4.T3.9.9.8.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">Method</th>
<th id="S4.T3.9.9.8.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">mAP</th>
<td id="S4.T3.9.9.8.1.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">car</td>
<td id="S4.T3.9.9.8.1.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">truck</td>
<td id="S4.T3.9.9.8.1.5" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">trailer</td>
<td id="S4.T3.9.9.8.1.6" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">bus</td>
<td id="S4.T3.9.9.8.1.7" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">const.</td>
<td id="S4.T3.9.9.8.1.8" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">bicycle</td>
<td id="S4.T3.9.9.8.1.9" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">motorcycle</td>
<td id="S4.T3.9.9.8.1.10" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">ped.</td>
<td id="S4.T3.9.9.8.1.11" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">cone</td>
<td id="S4.T3.9.9.8.1.12" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.8pt;padding-right:2.8pt;">barrier</td>
</tr>
<tr id="S4.T3.9.9.9.2" class="ltx_tr">
<th id="S4.T3.9.9.9.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">Real only</th>
<th id="S4.T3.9.9.9.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">36.9</th>
<td id="S4.T3.9.9.9.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">52.9</td>
<td id="S4.T3.9.9.9.2.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">40.9</td>
<td id="S4.T3.9.9.9.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">15.5</td>
<td id="S4.T3.9.9.9.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">42.1</td>
<td id="S4.T3.9.9.9.2.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">24.0</td>
<td id="S4.T3.9.9.9.2.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">44.7</td>
<td id="S4.T3.9.9.9.2.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">46.7</td>
<td id="S4.T3.9.9.9.2.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.9.2.10.1" class="ltx_text ltx_font_bold">31.3</span></td>
<td id="S4.T3.9.9.9.2.11" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.9.2.11.1" class="ltx_text ltx_font_bold">32.5</span></td>
<td id="S4.T3.9.9.9.2.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">38.9</td>
</tr>
<tr id="S4.T3.3.3.1" class="ltx_tr">
<th id="S4.T3.3.3.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">LostGAN</th>
<th id="S4.T3.3.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">35.6<sup id="S4.T3.3.3.1.1.1" class="ltx_sup"><span id="S4.T3.3.3.1.1.1.1" class="ltx_text ltx_font_italic" style="color:#CC0000;">-1.3</span></sup>
</th>
<td id="S4.T3.3.3.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">51.7</td>
<td id="S4.T3.3.3.1.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">39.6</td>
<td id="S4.T3.3.3.1.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">12.9</td>
<td id="S4.T3.3.3.1.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">41.3</td>
<td id="S4.T3.3.3.1.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">22.7</td>
<td id="S4.T3.3.3.1.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">42.4</td>
<td id="S4.T3.3.3.1.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">45.6</td>
<td id="S4.T3.3.3.1.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">30.0</td>
<td id="S4.T3.3.3.1.11" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">31.6</td>
<td id="S4.T3.3.3.1.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;">37.9</td>
</tr>
<tr id="S4.T3.4.4.2" class="ltx_tr">
<th id="S4.T3.4.4.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-left:2.8pt;padding-right:2.8pt;">LAMA</th>
<th id="S4.T3.4.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.8pt;padding-right:2.8pt;">35.6<sup id="S4.T3.4.4.2.1.1" class="ltx_sup"><span id="S4.T3.4.4.2.1.1.1" class="ltx_text ltx_font_italic" style="color:#CC0000;">-1.3</span></sup>
</th>
<td id="S4.T3.4.4.2.3" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">51.7</td>
<td id="S4.T3.4.4.2.4" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">39.2</td>
<td id="S4.T3.4.4.2.5" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">14.3</td>
<td id="S4.T3.4.4.2.6" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">40.5</td>
<td id="S4.T3.4.4.2.7" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">22.9</td>
<td id="S4.T3.4.4.2.8" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">43.2</td>
<td id="S4.T3.4.4.2.9" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">44.9</td>
<td id="S4.T3.4.4.2.10" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">30.0</td>
<td id="S4.T3.4.4.2.11" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">31.3</td>
<td id="S4.T3.4.4.2.12" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">38.3</td>
</tr>
<tr id="S4.T3.5.5.3" class="ltx_tr">
<th id="S4.T3.5.5.3.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-left:2.8pt;padding-right:2.8pt;">Taming</th>
<th id="S4.T3.5.5.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.8pt;padding-right:2.8pt;">35.8<sup id="S4.T3.5.5.3.1.1" class="ltx_sup"><span id="S4.T3.5.5.3.1.1.1" class="ltx_text ltx_font_italic" style="color:#CC0000;">-1.1</span></sup>
</th>
<td id="S4.T3.5.5.3.3" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">51.9</td>
<td id="S4.T3.5.5.3.4" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">39.3</td>
<td id="S4.T3.5.5.3.5" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">14.7</td>
<td id="S4.T3.5.5.3.6" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">41.1</td>
<td id="S4.T3.5.5.3.7" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">22.4</td>
<td id="S4.T3.5.5.3.8" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">43.1</td>
<td id="S4.T3.5.5.3.9" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">45.4</td>
<td id="S4.T3.5.5.3.10" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">30.4</td>
<td id="S4.T3.5.5.3.11" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">31.6</td>
<td id="S4.T3.5.5.3.12" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;">38.1</td>
</tr>
<tr id="S4.T3.6.6.4" class="ltx_tr">
<th id="S4.T3.6.6.4.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.2.1" class="ltx_text" style="color:#000000;">ReCo</span></th>
<th id="S4.T3.6.6.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.1.1" class="ltx_text" style="color:#000000;">36.1<sup id="S4.T3.6.6.4.1.1.1" class="ltx_sup"><span id="S4.T3.6.6.4.1.1.1.1" class="ltx_text ltx_font_italic" style="color:#CC0000;">-0.8</span></sup></span></th>
<td id="S4.T3.6.6.4.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.3.1" class="ltx_text" style="color:#000000;">52.2</span></td>
<td id="S4.T3.6.6.4.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.4.1" class="ltx_text" style="color:#000000;">40.9</span></td>
<td id="S4.T3.6.6.4.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.5.1" class="ltx_text" style="color:#000000;">14.3</span></td>
<td id="S4.T3.6.6.4.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.6.1" class="ltx_text" style="color:#000000;">41.8</span></td>
<td id="S4.T3.6.6.4.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.7.1" class="ltx_text" style="color:#000000;">24.2</span></td>
<td id="S4.T3.6.6.4.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.8.1" class="ltx_text" style="color:#000000;">42.8</span></td>
<td id="S4.T3.6.6.4.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.9.1" class="ltx_text" style="color:#000000;">45.9</span></td>
<td id="S4.T3.6.6.4.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.10.1" class="ltx_text" style="color:#000000;">29.5</span></td>
<td id="S4.T3.6.6.4.11" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.11.1" class="ltx_text" style="color:#000000;">31.2</span></td>
<td id="S4.T3.6.6.4.12" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.6.6.4.12.1" class="ltx_text" style="color:#000000;">38.3</span></td>
</tr>
<tr id="S4.T3.7.7.5" class="ltx_tr">
<th id="S4.T3.7.7.5.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.2.1" class="ltx_text" style="color:#000000;">GLIGEN</span></th>
<th id="S4.T3.7.7.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.1.1" class="ltx_text" style="color:#000000;">36.3<sup id="S4.T3.7.7.5.1.1.1" class="ltx_sup"><span id="S4.T3.7.7.5.1.1.1.1" class="ltx_text ltx_font_italic" style="color:#CC0000;">-0.6</span></sup></span></th>
<td id="S4.T3.7.7.5.3" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.3.1" class="ltx_text" style="color:#000000;">52.8</span></td>
<td id="S4.T3.7.7.5.4" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.4.1" class="ltx_text" style="color:#000000;">40.7</span></td>
<td id="S4.T3.7.7.5.5" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.5.1" class="ltx_text" style="color:#000000;">14.1</span></td>
<td id="S4.T3.7.7.5.6" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.6.1" class="ltx_text" style="color:#000000;">42.0</span></td>
<td id="S4.T3.7.7.5.7" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.7.1" class="ltx_text" style="color:#000000;">23.8</span></td>
<td id="S4.T3.7.7.5.8" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.8.1" class="ltx_text" style="color:#000000;">43.5</span></td>
<td id="S4.T3.7.7.5.9" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.9.1" class="ltx_text" style="color:#000000;">46.2</span></td>
<td id="S4.T3.7.7.5.10" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.10.1" class="ltx_text" style="color:#000000;">30.2</span></td>
<td id="S4.T3.7.7.5.11" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.11.1" class="ltx_text" style="color:#000000;">31.7</span></td>
<td id="S4.T3.7.7.5.12" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.7.7.5.12.1" class="ltx_text" style="color:#000000;">38.4</span></td>
</tr>
<tr id="S4.T3.8.8.6" class="ltx_tr">
<th id="S4.T3.8.8.6.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.2.1" class="ltx_text" style="color:#000000;">ControlNet</span></th>
<th id="S4.T3.8.8.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.1.1" class="ltx_text" style="color:#000000;">36.4<sup id="S4.T3.8.8.6.1.1.1" class="ltx_sup"><span id="S4.T3.8.8.6.1.1.1.1" class="ltx_text ltx_font_italic" style="color:#CC0000;">-0.5</span></sup></span></th>
<td id="S4.T3.8.8.6.3" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.3.1" class="ltx_text" style="color:#000000;">52.8</span></td>
<td id="S4.T3.8.8.6.4" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.4.1" class="ltx_text" style="color:#000000;">40.5</span></td>
<td id="S4.T3.8.8.6.5" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.5.1" class="ltx_text" style="color:#000000;">13.6</span></td>
<td id="S4.T3.8.8.6.6" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.6.1" class="ltx_text" style="color:#000000;">42.1</span></td>
<td id="S4.T3.8.8.6.7" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.7.1" class="ltx_text" style="color:#000000;">24.1</span></td>
<td id="S4.T3.8.8.6.8" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.8.1" class="ltx_text" style="color:#000000;">43.9</span></td>
<td id="S4.T3.8.8.6.9" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.9.1" class="ltx_text" style="color:#000000;">46.1</span></td>
<td id="S4.T3.8.8.6.10" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.10.1" class="ltx_text" style="color:#000000;">30.3</span></td>
<td id="S4.T3.8.8.6.11" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.11.1" class="ltx_text" style="color:#000000;">31.8</span></td>
<td id="S4.T3.8.8.6.12" class="ltx_td ltx_align_center" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.8.8.6.12.1" class="ltx_text" style="color:#000000;">38.6</span></td>
</tr>
<tr id="S4.T3.9.9.7" class="ltx_tr" style="background-color:#E8F2FF;">
<th id="S4.T3.9.9.7.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.2.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">GeoDiffusion</span></th>
<th id="S4.T3.9.9.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.1.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">38.3<sup id="S4.T3.9.9.7.1.1.1" class="ltx_sup"><span id="S4.T3.9.9.7.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic" style="color:#70AD47;">+1.4</span></sup></span></th>
<td id="S4.T3.9.9.7.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.3.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">53.2</span></td>
<td id="S4.T3.9.9.7.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.4.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">43.8</span></td>
<td id="S4.T3.9.9.7.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.5.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">18.3</span></td>
<td id="S4.T3.9.9.7.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.6.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">45.0</span></td>
<td id="S4.T3.9.9.7.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.7.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">27.6</span></td>
<td id="S4.T3.9.9.7.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.8.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">45.3</span></td>
<td id="S4.T3.9.9.7.9" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.9.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">46.9</span></td>
<td id="S4.T3.9.9.7.10" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.10.1" class="ltx_text" style="background-color:#E8F2FF;">30.5</span></td>
<td id="S4.T3.9.9.7.11" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.11.1" class="ltx_text" style="background-color:#E8F2FF;">32.1</span></td>
<td id="S4.T3.9.9.7.12" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.8pt;padding-right:2.8pt;"><span id="S4.T3.9.9.7.12.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">39.8</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S4.SS2.SSS1.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Discussion.</h5>

<div id="S4.SS2.SSS1.Px2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS1.Px2.p1.4" class="ltx_p">As in Tab. <a href="#S4.T2" title="Table 2 ‣ Dataset. ‣ 4.1 Implementation Details ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, <span id="S4.SS2.SSS1.Px2.p1.4.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> surpasses all the baselines in terms of perceptual quality (FID) and layout consistency (mAP) with 256<math id="S4.SS2.SSS1.Px2.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.SS2.SSS1.Px2.p1.1.m1.1a"><mo id="S4.SS2.SSS1.Px2.p1.1.m1.1.1" xref="S4.SS2.SSS1.Px2.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px2.p1.1.m1.1b"><times id="S4.SS2.SSS1.Px2.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS1.Px2.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px2.p1.1.m1.1c">\times</annotation></semantics></math>256 input, <span id="S4.SS2.SSS1.Px2.p1.2.1" class="ltx_text" style="color:#000000;">accompanied with a <span id="S4.SS2.SSS1.Px2.p1.2.1.1" class="ltx_text ltx_font_bold">4<math id="S4.SS2.SSS1.Px2.p1.2.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.SS2.SSS1.Px2.p1.2.1.1.m1.1a"><mo mathcolor="#000000" id="S4.SS2.SSS1.Px2.p1.2.1.1.m1.1.1" xref="S4.SS2.SSS1.Px2.p1.2.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px2.p1.2.1.1.m1.1b"><times id="S4.SS2.SSS1.Px2.p1.2.1.1.m1.1.1.cmml" xref="S4.SS2.SSS1.Px2.p1.2.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px2.p1.2.1.1.m1.1c">\times</annotation></semantics></math> acceleration</span> (64 vs. 256 epochs)</span>, which indicates that the text-prompted geometric control is an effective approach.
Moreover, the simplicity of LDM empowers <span id="S4.SS2.SSS1.Px2.p1.4.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> to generate higher-resolution images with minimal modifications.
With 800<math id="S4.SS2.SSS1.Px2.p1.3.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.SS2.SSS1.Px2.p1.3.m2.1a"><mo id="S4.SS2.SSS1.Px2.p1.3.m2.1.1" xref="S4.SS2.SSS1.Px2.p1.3.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px2.p1.3.m2.1b"><times id="S4.SS2.SSS1.Px2.p1.3.m2.1.1.cmml" xref="S4.SS2.SSS1.Px2.p1.3.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px2.p1.3.m2.1c">\times</annotation></semantics></math>456 input, <span id="S4.SS2.SSS1.Px2.p1.4.4" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> gets <span id="S4.SS2.SSS1.Px2.p1.4.5" class="ltx_text ltx_font_bold">10.99 FID</span> and <span id="S4.SS2.SSS1.Px2.p1.4.6" class="ltx_text ltx_font_bold">34.5 mAP</span>, marking a significant progress towards bridging the gap with real images, especially for the large object generation (54.6 vs. 60.5 AP<sup id="S4.SS2.SSS1.Px2.p1.4.7" class="ltx_sup"><span id="S4.SS2.SSS1.Px2.p1.4.7.1" class="ltx_text ltx_font_italic">l</span></sup>).
Fig. <a href="#S0.F1.sf1" title="In Figure 1 ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1(a)</span></a> provides a qualitative comparison of generated images.
<span id="S4.SS2.SSS1.Px2.p1.4.8" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> generates images that are more realistic and tightly fitting to the bounding boxes, making it feasible to enhance object detector training, as later discussed in Sec. <a href="#S4.SS2.SSS2" title="4.2.2 Trainability ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.2</span></a>.</p>
</div>
<div id="S4.SS2.SSS1.Px2.p2" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS1.Px2.p2.1" class="ltx_p">We further report the class-wise AP of the top-2 frequent (<span id="S4.SS2.SSS1.Px2.p2.1.1" class="ltx_text ltx_font_italic">i.e</span>.<span id="S4.SS2.SSS1.Px2.p2.1.2" class="ltx_text"></span>, car and pedestrian) and rare classes (<span id="S4.SS2.SSS1.Px2.p2.1.3" class="ltx_text ltx_font_italic">e.g</span>.<span id="S4.SS2.SSS1.Px2.p2.1.4" class="ltx_text"></span>, trailer and construction, occupying only 1.5% of training annotations) in Tab. <a href="#S4.T2" title="Table 2 ‣ Dataset. ‣ 4.1 Implementation Details ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
We observe that <span id="S4.SS2.SSS1.Px2.p2.1.5" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> performs relatively well in annotation-scarce scenarios, achieving higher trailer AP even than the <span id="S4.SS2.SSS1.Px2.p2.1.6" class="ltx_text ltx_font_italic">Oracle</span> baseline and demonstrating ability to generate highly-discriminative objects even with limited annotations.
However, similar to previous methods, <span id="S4.SS2.SSS1.Px2.p2.1.7" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> encounters difficulty with high variance (<span id="S4.SS2.SSS1.Px2.p2.1.8" class="ltx_text ltx_font_italic">e.g</span>.<span id="S4.SS2.SSS1.Px2.p2.1.9" class="ltx_text"></span>, pedestrians) and occlusion (<span id="S4.SS2.SSS1.Px2.p2.1.10" class="ltx_text ltx_font_italic">e.g</span>.<span id="S4.SS2.SSS1.Px2.p2.1.11" class="ltx_text"></span>, cars) circumstances, highlighting the areas where further improvements are still needed.</p>
</div>
</section>
</section>
<section id="S4.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2 </span>Trainability</h4>

<div id="S4.SS2.SSS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS2.p1.1" class="ltx_p">In this section, we investigate the potential benefits of <span id="S4.SS2.SSS2.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>-generated images for object detector training.
To this end, we utilize the generated images as augmented samples during the training of an object detector to further evaluate the efficacy of our proposed model.</p>
</div>
<section id="S4.SS2.SSS2.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Setup.</h5>

<div id="S4.SS2.SSS2.Px1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS2.Px1.p1.1" class="ltx_p">Taking data annotations of the NuImages training set as input, we first filter bounding boxes smaller than 0.2% of the image area, then augment the bounding boxes by randomly flipping with 0.5 probability and shifting no more than 256 pixels.
The generated images are considered augmented samples and combined with the real images to expand the training data.
A Faster R-CNN <cite class="ltx_cite ltx_citemacro_citep">(Ren et al., <a href="#bib.bib42" title="" class="ltx_ref">2015</a>)</cite> initialized with ImageNet pre-trained weights is then trained using the standard 1<math id="S4.SS2.SSS2.Px1.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.SS2.SSS2.Px1.p1.1.m1.1a"><mo id="S4.SS2.SSS2.Px1.p1.1.m1.1.1" xref="S4.SS2.SSS2.Px1.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.Px1.p1.1.m1.1b"><times id="S4.SS2.SSS2.Px1.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS2.Px1.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.Px1.p1.1.m1.1c">\times</annotation></semantics></math> schedule and evaluated on the validation set.</p>
</div>
</section>
<section id="S4.SS2.SSS2.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Discussion.</h5>

<div id="S4.SS2.SSS2.Px2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS2.Px2.p1.1" class="ltx_p">As reported in Tab. <a href="#S4.T3" title="Table 3 ‣ Setup. ‣ 4.2.1 Fidelity ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, <span id="S4.SS2.SSS2.Px2.p1.1.1" class="ltx_text ltx_font_bold">for the first time</span>, we demonstrate that the generated images of layout-to-image models can be advantageous to object detector training.
Our <span id="S4.SS2.SSS2.Px2.p1.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> is the only method to achieve a consistent improvement for almost all semantic classes, which is much more obvious for rare classes (<span id="S4.SS2.SSS2.Px2.p1.1.3" class="ltx_text ltx_font_italic">e.g</span>.<span id="S4.SS2.SSS2.Px2.p1.1.4" class="ltx_text"></span>, <span id="S4.SS2.SSS2.Px2.p1.1.5" class="ltx_text ltx_font_bold">+2.8</span> for trailer, <span id="S4.SS2.SSS2.Px2.p1.1.6" class="ltx_text ltx_font_bold">+3.6</span> for construction and <span id="S4.SS2.SSS2.Px2.p1.1.7" class="ltx_text ltx_font_bold">+2.9</span> for bus, the top-3 most rare classes occupying only 7.2% of the training annotations), revealing that
<span id="S4.SS2.SSS2.Px2.p1.1.8" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> indeed contributes by relieving annotation scarcity of rare classes, thanks to the data efficiency as discussed in Sec. <a href="#S4.SS2.SSS1" title="4.2.1 Fidelity ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.1</span></a>.</p>
</div>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2306.04607/assets/x6.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="208" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span><span id="S4.F4.3.1" class="ltx_text ltx_font_bold">Visualization of generation generalizability on NuImages</span>.
From left to right, we present the query layout, the generated images conditional on the original, the flipped and shifted layouts.
<span id="S4.F4.4.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> performs surprisingly well on the real-life collected geometric layouts (2nd &amp; 3rd columns), while revealing superior robustness for out-of-distribution situations
(4th column).
</figcaption>
</figure>
</section>
<section id="S4.SS2.SSS2.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Necessity of real data</h5>

<div id="S4.SS2.SSS2.Px3.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS2.Px3.p1.1" class="ltx_p">brought by <span id="S4.SS2.SSS2.Px3.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> is further verified by varying the amount of real data usage.
We randomly sample 10%, 25%, 50%, and 75% of the real training set, and each subset is utilized to train a Faster R-CNN together with generated images separately.
We consider two augmentation modes,
1) <span id="S4.SS2.SSS2.Px3.p1.1.2" class="ltx_text ltx_font_italic">Full</span>: <span id="S4.SS2.SSS2.Px3.p1.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> trained on the full training set is utilized to augment each subset as in Tab. <a href="#S4.T3" title="Table 3 ‣ Setup. ‣ 4.2.1 Fidelity ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
2) <span id="S4.SS2.SSS2.Px3.p1.1.4" class="ltx_text ltx_font_italic">Subset</span>: we re-train <span id="S4.SS2.SSS2.Px3.p1.1.5" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> with each real data subset separately, which are then used to augment the corresponding subset.
The number of gradient steps are maintained unchanged for each pair experiment with the same amount of real data by enlarging the batch size adaptively.
As shown in Fig. <a href="#S0.F1.sf2" title="In Figure 1 ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1(b)</span></a>, <span id="S4.SS2.SSS2.Px3.p1.1.6" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> achieves consistent improvement over different real training data budgets.
The more scarce real data is, the more significant improvement <span id="S4.SS2.SSS2.Px3.p1.1.7" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> achieves, as in Tab. <a href="#A1.T8" title="Table 8 ‣ Detailed results of real data necessity. ‣ Appendix A More Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, sufficiently revealing that generated images do help ease the data necessity.
With only 75% of real data, the detector can perform comparably with the full real dataset by augmenting with <span id="S4.SS2.SSS2.Px3.p1.1.8" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>.</p>
</div>
</section>
</section>
<section id="S4.SS2.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.3 </span>Generalizability</h4>

<div id="S4.SS2.SSS3.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS3.p1.1" class="ltx_p">In this section, we evaluate the generalizability and robustness of <span id="S4.SS2.SSS3.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> on novel layouts unseen during fine-tuning.</p>
</div>
<section id="S4.SS2.SSS3.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Setup.</h5>

<div id="S4.SS2.SSS3.Px1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS3.Px1.p1.1" class="ltx_p">To guarantee that the input geometric layouts are reasonable (<span id="S4.SS2.SSS3.Px1.p1.1.1" class="ltx_text ltx_font_italic">e.g</span>.<span id="S4.SS2.SSS3.Px1.p1.1.2" class="ltx_text"></span>, no violation of the basic physical laws like objects closer to the camera seem larger), we first randomly sample a query layout from the validation set, based on which we further disturb the query bounding boxes with 1) <span id="S4.SS2.SSS3.Px1.p1.1.3" class="ltx_text ltx_font_italic">flipping</span> and 2) <span id="S4.SS2.SSS3.Px1.p1.1.4" class="ltx_text ltx_font_italic">random shifting</span> for no more than 256 pixels along each spatial dimension, the exact same recipe we utilze in Sec. <a href="#S4.SS2.SSS2" title="4.2.2 Trainability ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.2</span></a> for bounding box augmentation.
Check more generalizability analysis for OoD circumstances in Appendix <a href="#A3" title="Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
</section>
<section id="S4.SS2.SSS3.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Discussion.</h5>

<div id="S4.SS2.SSS3.Px2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS3.Px2.p1.1" class="ltx_p">We visualize the generated results in Fig. <a href="#S4.F4" title="Figure 4 ‣ Discussion. ‣ 4.2.2 Trainability ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
<span id="S4.SS2.SSS3.Px2.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> demonstrates superior generalizability to conduct generation on the novel unseen layouts.
Specifically, <span id="S4.SS2.SSS3.Px2.p1.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> performs surprisingly well given geometric layouts collected in real-world scenarios and its corresponding flip variant (2nd &amp; 3rd columns in Fig. <a href="#S4.F4" title="Figure 4 ‣ Discussion. ‣ 4.2.2 Trainability ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).
Moreover, we observe <span id="S4.SS2.SSS3.Px2.p1.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> demonstrates strong robustness to layout augmentation even if the resulting layouts are out-of-distribution.
For example, <span id="S4.SS2.SSS3.Px2.p1.1.4" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> learns to generate a downhill for boxes lower than current grounding plane (<span id="S4.SS2.SSS3.Px2.p1.1.5" class="ltx_text ltx_font_italic">e.g</span>.<span id="S4.SS2.SSS3.Px2.p1.1.6" class="ltx_text"></span>, the <span id="S4.SS2.SSS3.Px2.p1.1.7" class="ltx_text ltx_font_italic">shift</span> column of the 1st row), or an uphill for bounding boxes higher than the current grounding plane (<span id="S4.SS2.SSS3.Px2.p1.1.8" class="ltx_text ltx_font_italic">e.g</span>.<span id="S4.SS2.SSS3.Px2.p1.1.9" class="ltx_text"></span>, <span id="S4.SS2.SSS3.Px2.p1.1.10" class="ltx_text ltx_font_italic">shift</span> of 2nd &amp; 3rd rows) to maintain consistent with given geometric layouts.
The remarkable robustness also convinces us to adopt bounding box augmentation for the object detector training in Sec. <a href="#S4.SS2.SSS2" title="4.2.2 Trainability ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.2</span></a> to further increase annotation diversity of the augmented training set.</p>
</div>
</section>
</section>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Universality</h3>

<section id="S4.SS3.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Setup.</h5>

<div id="S4.SS3.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.SSS0.Px1.p1.1" class="ltx_p">To demonstrate the universality of <span id="S4.SS3.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>, we further conduct experiments on COCO-Stuff dataset <cite class="ltx_cite ltx_citemacro_citep">(Caesar et al., <a href="#bib.bib2" title="" class="ltx_ref">2018</a>)</cite> following common practices <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib30" title="" class="ltx_ref">2021</a>; <a href="#bib.bib29" title="" class="ltx_ref">2023b</a>)</cite>.
We keep hyper-parameters consistent with Sec. <a href="#S4.SS1" title="4.1 Implementation Details ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>, except we utilize the DPM-Solver <cite class="ltx_cite ltx_citemacro_citep">(Lu et al., <a href="#bib.bib37" title="" class="ltx_ref">2022</a>)</cite> scheduler for 50-step denoising with the classifier-free guidance ratio set as 4.0 during generation.</p>
</div>
</section>
<section id="S4.SS3.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Fidelity.</h5>

<div id="S4.SS3.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.SSS0.Px2.p1.1" class="ltx_p">We ignore object annotations covering less than 2% of the image area, and only images with 3 to 8 objects are utilized during validation following <cite class="ltx_cite ltx_citemacro_citet">Li et al. (<a href="#bib.bib30" title="" class="ltx_ref">2021</a>)</cite>.
Similarly with Sec. <a href="#S4.SS2.SSS1" title="4.2.1 Fidelity ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.1</span></a>, we report FID and YOLO score <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib30" title="" class="ltx_ref">2021</a>)</cite> to evaluate perceptual quality and layout consistency respectively.
As shown in Tab. <a href="#S4.T6" title="Table 6 ‣ Inpainting. ‣ 4.3 Universality ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, <span id="S4.SS3.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> outperforms all baselines in terms of both the FID and YOLO score with significant efficiency, consistent with our observation on NuImages in Tab. <a href="#S4.T2" title="Table 2 ‣ Dataset. ‣ 4.1 Implementation Details ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, revealing the universality of <span id="S4.SS3.SSS0.Px2.p1.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>.
More qualitative comparison is provided in Fig. <a href="#A5.F12" title="Figure 12 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>.</p>
</div>
</section>
<section id="S4.SS3.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Trainability.</h5>

<div id="S4.SS3.SSS0.Px3.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.SSS0.Px3.p1.1" class="ltx_p">We then utilize <span id="S4.SS3.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> to augment COCO detection training set following the exact same box augmentation pipeline in Sec. <a href="#S4.SS2.SSS2" title="4.2.2 Trainability ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.2</span></a>.
As demonstrated in Tab. <a href="#S4.T6" title="Table 6 ‣ Inpainting. ‣ 4.3 Universality ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, <span id="S4.SS3.SSS0.Px3.p1.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> also achieves significant improvement on COCO validation set,
suggesting that <span id="S4.SS3.SSS0.Px3.p1.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can indeed generate high-quality detection data regardless of domains.</p>
</div>
</section>
<section id="S4.SS3.SSS0.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Inpainting.</h5>

<div id="S4.SS3.SSS0.Px4.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.SSS0.Px4.p1.1" class="ltx_p">We further explore applicability of inpainting for <span id="S4.SS3.SSS0.Px4.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>.
Similarly with the fidelity evaluation, we randomly mask one object for each image of COCO detection validation set, and ask models to inpaint missing areas.
A YOLO detector is adopted to evaluate recognizability of inpainted results similarly with YOLO score following <cite class="ltx_cite ltx_citemacro_citet">Li et al. (<a href="#bib.bib29" title="" class="ltx_ref">2023b</a>)</cite>.
<span id="S4.SS3.SSS0.Px4.p1.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> surpasses SD baseline remarkably, as in Tab. <a href="#S4.T6" title="Table 6 ‣ Inpainting. ‣ 4.3 Universality ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.
We further provide a qualitative comparison in Fig. <a href="#S4.F5" title="Figure 5 ‣ Inpainting. ‣ 4.3 Universality ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, where <span id="S4.SS3.SSS0.Px4.p1.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can successfully deal with the sophisticated image synthesis requirement.</p>
</div>
<figure id="S4.T6" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.T6.14" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:216.8pt;">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Table 4: </span><span id="S4.T6.14.17.1" class="ltx_text ltx_font_bold">Comparison of generation fidelity on COCO.</span>
<sup id="S4.T6.14.18.2" class="ltx_sup"><span id="S4.T6.14.18.2.1" class="ltx_text ltx_font_italic">†</span></sup>: our re-implementation.
</figcaption>
<div id="S4.T6.14.14" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:207.6pt;height:273.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.5pt,7.2pt) scale(0.95,0.95) ;">
<table id="S4.T6.14.14.12" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T6.8.8.6.6" class="ltx_tr">
<th id="S4.T6.8.8.6.6.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Method</th>
<th id="S4.T6.8.8.6.6.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Epoch</th>
<th id="S4.T6.3.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">FID<math id="S4.T6.3.3.1.1.1.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T6.3.3.1.1.1.m1.1a"><mo stretchy="false" id="S4.T6.3.3.1.1.1.m1.1.1" xref="S4.T6.3.3.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T6.3.3.1.1.1.m1.1b"><ci id="S4.T6.3.3.1.1.1.m1.1.1.cmml" xref="S4.T6.3.3.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.3.3.1.1.1.m1.1c">\downarrow</annotation></semantics></math>
</th>
<td id="S4.T6.4.4.2.2.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">mAP<math id="S4.T6.4.4.2.2.2.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T6.4.4.2.2.2.m1.1a"><mo stretchy="false" id="S4.T6.4.4.2.2.2.m1.1.1" xref="S4.T6.4.4.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T6.4.4.2.2.2.m1.1b"><ci id="S4.T6.4.4.2.2.2.m1.1.1.cmml" xref="S4.T6.4.4.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.4.4.2.2.2.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T6.6.6.4.4.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">AP<sub id="S4.T6.6.6.4.4.4.1" class="ltx_sub"><span id="S4.T6.6.6.4.4.4.1.1" class="ltx_text ltx_font_italic">50</span></sub><math id="S4.T6.6.6.4.4.4.m2.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T6.6.6.4.4.4.m2.1a"><mo stretchy="false" id="S4.T6.6.6.4.4.4.m2.1.1" xref="S4.T6.6.6.4.4.4.m2.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T6.6.6.4.4.4.m2.1b"><ci id="S4.T6.6.6.4.4.4.m2.1.1.cmml" xref="S4.T6.6.6.4.4.4.m2.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.6.6.4.4.4.m2.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T6.8.8.6.6.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">AP<sub id="S4.T6.8.8.6.6.6.1" class="ltx_sub"><span id="S4.T6.8.8.6.6.6.1.1" class="ltx_text ltx_font_italic">75</span></sub><math id="S4.T6.8.8.6.6.6.m2.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T6.8.8.6.6.6.m2.1a"><mo stretchy="false" id="S4.T6.8.8.6.6.6.m2.1.1" xref="S4.T6.8.8.6.6.6.m2.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T6.8.8.6.6.6.m2.1b"><ci id="S4.T6.8.8.6.6.6.m2.1.1.cmml" xref="S4.T6.8.8.6.6.6.m2.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.8.8.6.6.6.m2.1c">\uparrow</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T6.9.9.7.7" class="ltx_tr">
<th id="S4.T6.9.9.7.7.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.9.9.7.7.1.1" class="ltx_text ltx_font_italic">256<math id="S4.T6.9.9.7.7.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T6.9.9.7.7.1.1.m1.1a"><mo id="S4.T6.9.9.7.7.1.1.m1.1.1" xref="S4.T6.9.9.7.7.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T6.9.9.7.7.1.1.m1.1b"><times id="S4.T6.9.9.7.7.1.1.m1.1.1.cmml" xref="S4.T6.9.9.7.7.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.9.9.7.7.1.1.m1.1c">\times</annotation></semantics></math>256</span></th>
<th id="S4.T6.9.9.7.7.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"></th>
<th id="S4.T6.9.9.7.7.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"></th>
<td id="S4.T6.9.9.7.7.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"></td>
<td id="S4.T6.9.9.7.7.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"></td>
<td id="S4.T6.9.9.7.7.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"></td>
</tr>
<tr id="S4.T6.14.14.12.13.1" class="ltx_tr">
<th id="S4.T6.14.14.12.13.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">LostGAN</th>
<th id="S4.T6.14.14.12.13.1.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">200</th>
<th id="S4.T6.14.14.12.13.1.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">42.55</th>
<td id="S4.T6.14.14.12.13.1.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">9.1</td>
<td id="S4.T6.14.14.12.13.1.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">15.3</td>
<td id="S4.T6.14.14.12.13.1.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">9.8</td>
</tr>
<tr id="S4.T6.14.14.12.14.2" class="ltx_tr">
<th id="S4.T6.14.14.12.14.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">LAMA</th>
<th id="S4.T6.14.14.12.14.2.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">200</th>
<th id="S4.T6.14.14.12.14.2.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">31.12</th>
<td id="S4.T6.14.14.12.14.2.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">13.4</td>
<td id="S4.T6.14.14.12.14.2.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">19.7</td>
<td id="S4.T6.14.14.12.14.2.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">14.9</td>
</tr>
<tr id="S4.T6.14.14.12.15.3" class="ltx_tr">
<th id="S4.T6.14.14.12.15.3.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">CAL2IM</th>
<th id="S4.T6.14.14.12.15.3.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">200</th>
<th id="S4.T6.14.14.12.15.3.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">29.56</th>
<td id="S4.T6.14.14.12.15.3.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">10.0</td>
<td id="S4.T6.14.14.12.15.3.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">14.9</td>
<td id="S4.T6.14.14.12.15.3.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">11.1</td>
</tr>
<tr id="S4.T6.14.14.12.16.4" class="ltx_tr">
<th id="S4.T6.14.14.12.16.4.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Taming</th>
<th id="S4.T6.14.14.12.16.4.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">68+60</th>
<th id="S4.T6.14.14.12.16.4.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">33.68</th>
<td id="S4.T6.14.14.12.16.4.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">-</td>
<td id="S4.T6.14.14.12.16.4.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">-</td>
<td id="S4.T6.14.14.12.16.4.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">-</td>
</tr>
<tr id="S4.T6.14.14.12.17.5" class="ltx_tr">
<th id="S4.T6.14.14.12.17.5.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">TwFA</th>
<th id="S4.T6.14.14.12.17.5.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">300</th>
<th id="S4.T6.14.14.12.17.5.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">22.15</th>
<td id="S4.T6.14.14.12.17.5.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">-</td>
<td id="S4.T6.14.14.12.17.5.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">28.2</td>
<td id="S4.T6.14.14.12.17.5.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">20.1</td>
</tr>
<tr id="S4.T6.14.14.12.18.6" class="ltx_tr">
<th id="S4.T6.14.14.12.18.6.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">Frido</th>
<th id="S4.T6.14.14.12.18.6.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">200</th>
<th id="S4.T6.14.14.12.18.6.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">37.14</th>
<td id="S4.T6.14.14.12.18.6.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">17.2</td>
<td id="S4.T6.14.14.12.18.6.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">-</td>
<td id="S4.T6.14.14.12.18.6.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">-</td>
</tr>
<tr id="S4.T6.10.10.8.8" class="ltx_tr">
<th id="S4.T6.10.10.8.8.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">L.Diffusion<sup id="S4.T6.10.10.8.8.1.1" class="ltx_sup"><span id="S4.T6.10.10.8.8.1.1.1" class="ltx_text ltx_font_italic">†</span></sup>
</th>
<th id="S4.T6.10.10.8.8.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">180</th>
<th id="S4.T6.10.10.8.8.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">22.65</th>
<td id="S4.T6.10.10.8.8.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">14.9</td>
<td id="S4.T6.10.10.8.8.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">27.5</td>
<td id="S4.T6.10.10.8.8.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">14.9</td>
</tr>
<tr id="S4.T6.14.14.12.19.7" class="ltx_tr" style="background-color:#E8F2FF;">
<th id="S4.T6.14.14.12.19.7.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.19.7.1.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">GeoDiffusion</span></th>
<th id="S4.T6.14.14.12.19.7.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.19.7.2.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">60</span></th>
<th id="S4.T6.14.14.12.19.7.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.19.7.3.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">20.16</span></th>
<td id="S4.T6.14.14.12.19.7.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.19.7.4.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">29.1</span></td>
<td id="S4.T6.14.14.12.19.7.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.19.7.5.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">38.9</span></td>
<td id="S4.T6.14.14.12.19.7.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.19.7.6.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">33.6</span></td>
</tr>
<tr id="S4.T6.11.11.9.9" class="ltx_tr">
<th id="S4.T6.11.11.9.9.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.11.11.9.9.1.1" class="ltx_text ltx_font_italic">512<math id="S4.T6.11.11.9.9.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T6.11.11.9.9.1.1.m1.1a"><mo id="S4.T6.11.11.9.9.1.1.m1.1.1" xref="S4.T6.11.11.9.9.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T6.11.11.9.9.1.1.m1.1b"><times id="S4.T6.11.11.9.9.1.1.m1.1.1.cmml" xref="S4.T6.11.11.9.9.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.11.11.9.9.1.1.m1.1c">\times</annotation></semantics></math>512</span></th>
<th id="S4.T6.11.11.9.9.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"></th>
<th id="S4.T6.11.11.9.9.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"></th>
<td id="S4.T6.11.11.9.9.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"></td>
<td id="S4.T6.11.11.9.9.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"></td>
<td id="S4.T6.11.11.9.9.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;"></td>
</tr>
<tr id="S4.T6.12.12.10.10" class="ltx_tr">
<th id="S4.T6.12.12.10.10.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">ReCo<sup id="S4.T6.12.12.10.10.1.1" class="ltx_sup"><span id="S4.T6.12.12.10.10.1.1.1" class="ltx_text ltx_font_italic">†</span></sup>
</th>
<th id="S4.T6.12.12.10.10.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">100</th>
<th id="S4.T6.12.12.10.10.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">29.69</th>
<td id="S4.T6.12.12.10.10.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">18.8</td>
<td id="S4.T6.12.12.10.10.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">33.5</td>
<td id="S4.T6.12.12.10.10.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">19.7</td>
</tr>
<tr id="S4.T6.13.13.11.11" class="ltx_tr">
<th id="S4.T6.13.13.11.11.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">ControlNet<sup id="S4.T6.13.13.11.11.1.1" class="ltx_sup"><span id="S4.T6.13.13.11.11.1.1.1" class="ltx_text ltx_font_italic">†</span></sup>
</th>
<th id="S4.T6.13.13.11.11.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">60</th>
<th id="S4.T6.13.13.11.11.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">28.14</th>
<td id="S4.T6.13.13.11.11.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">25.2</td>
<td id="S4.T6.13.13.11.11.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.13.13.11.11.5.1" class="ltx_text ltx_font_bold">46.7</span></td>
<td id="S4.T6.13.13.11.11.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">22.7</td>
</tr>
<tr id="S4.T6.14.14.12.12" class="ltx_tr">
<th id="S4.T6.14.14.12.12.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">L.Diffuse<sup id="S4.T6.14.14.12.12.1.1" class="ltx_sup"><span id="S4.T6.14.14.12.12.1.1.1" class="ltx_text ltx_font_italic">†</span></sup>
</th>
<th id="S4.T6.14.14.12.12.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">60</th>
<th id="S4.T6.14.14.12.12.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">22.20</th>
<td id="S4.T6.14.14.12.12.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">11.4</td>
<td id="S4.T6.14.14.12.12.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">23.1</td>
<td id="S4.T6.14.14.12.12.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">10.1</td>
</tr>
<tr id="S4.T6.14.14.12.20.8" class="ltx_tr">
<th id="S4.T6.14.14.12.20.8.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">GLIGEN</th>
<th id="S4.T6.14.14.12.20.8.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">86</th>
<th id="S4.T6.14.14.12.20.8.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">21.04</th>
<td id="S4.T6.14.14.12.20.8.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">22.4</td>
<td id="S4.T6.14.14.12.20.8.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">36.5</td>
<td id="S4.T6.14.14.12.20.8.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">24.1</td>
</tr>
<tr id="S4.T6.14.14.12.21.9" class="ltx_tr" style="background-color:#E8F2FF;">
<th id="S4.T6.14.14.12.21.9.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.21.9.1.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">GeoDiffusion</span></th>
<th id="S4.T6.14.14.12.21.9.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.21.9.2.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">60</span></th>
<th id="S4.T6.14.14.12.21.9.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.21.9.3.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">18.89</span></th>
<td id="S4.T6.14.14.12.21.9.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.21.9.4.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">30.6</span></td>
<td id="S4.T6.14.14.12.21.9.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.21.9.5.1" class="ltx_text" style="background-color:#E8F2FF;">41.7</span></td>
<td id="S4.T6.14.14.12.21.9.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S4.T6.14.14.12.21.9.6.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">35.6</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.T6.23" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:216.8pt;">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Table 5: </span><span id="S4.T6.23.12.1" class="ltx_text ltx_font_bold">Comparison of trainability on COCO.</span>
Indeed, <span id="S4.T6.23.13.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can benefit detection training regardless of domains.
</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="S4.T6.18.4" class="ltx_inline-block ltx_figure_panel ltx_transformed_outer" style="width:188.8pt;height:119.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.0pt,3.1pt) scale(0.95,0.95) ;">
<table id="S4.T6.18.4.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T6.18.4.4.4" class="ltx_tr">
<th id="S4.T6.18.4.4.4.5" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">Method</th>
<th id="S4.T6.18.4.4.4.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">mAP</th>
<th id="S4.T6.15.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">AP<sub id="S4.T6.15.1.1.1.1.1" class="ltx_sub"><span id="S4.T6.15.1.1.1.1.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</th>
<th id="S4.T6.16.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">AP<sub id="S4.T6.16.2.2.2.2.1" class="ltx_sub"><span id="S4.T6.16.2.2.2.2.1.1" class="ltx_text ltx_font_italic">75</span></sub>
</th>
<th id="S4.T6.17.3.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">AP<sup id="S4.T6.17.3.3.3.3.1" class="ltx_sup"><span id="S4.T6.17.3.3.3.3.1.1" class="ltx_text ltx_font_italic">m</span></sup>
</th>
<th id="S4.T6.18.4.4.4.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">AP<sup id="S4.T6.18.4.4.4.4.1" class="ltx_sup"><span id="S4.T6.18.4.4.4.4.1.1" class="ltx_text ltx_font_italic">l</span></sup>
</th>
</tr>
<tr id="S4.T6.18.4.4.5.1" class="ltx_tr">
<th id="S4.T6.18.4.4.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">Real only</th>
<th id="S4.T6.18.4.4.5.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">37.3</th>
<th id="S4.T6.18.4.4.5.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">58.2</th>
<th id="S4.T6.18.4.4.5.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">40.8</th>
<th id="S4.T6.18.4.4.5.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">40.7</th>
<th id="S4.T6.18.4.4.5.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">48.2</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T6.18.4.4.6.1" class="ltx_tr">
<th id="S4.T6.18.4.4.6.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">L.Diffusion</th>
<th id="S4.T6.18.4.4.6.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">36.5</th>
<td id="S4.T6.18.4.4.6.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">57.0</td>
<td id="S4.T6.18.4.4.6.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">39.5</td>
<td id="S4.T6.18.4.4.6.1.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">39.7</td>
<td id="S4.T6.18.4.4.6.1.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">47.5</td>
</tr>
<tr id="S4.T6.18.4.4.7.2" class="ltx_tr">
<th id="S4.T6.18.4.4.7.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;">L.Diffuse</th>
<th id="S4.T6.18.4.4.7.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;">36.6</th>
<td id="S4.T6.18.4.4.7.2.3" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">57.4</td>
<td id="S4.T6.18.4.4.7.2.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;">39.5</td>
<td id="S4.T6.18.4.4.7.2.5" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">40.0</td>
<td id="S4.T6.18.4.4.7.2.6" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">47.4</td>
</tr>
<tr id="S4.T6.18.4.4.8.3" class="ltx_tr">
<th id="S4.T6.18.4.4.8.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;">GLIGEN</th>
<th id="S4.T6.18.4.4.8.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;">36.8</th>
<td id="S4.T6.18.4.4.8.3.3" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">57.6</td>
<td id="S4.T6.18.4.4.8.3.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;">39.9</td>
<td id="S4.T6.18.4.4.8.3.5" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">40.3</td>
<td id="S4.T6.18.4.4.8.3.6" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">47.9</td>
</tr>
<tr id="S4.T6.18.4.4.9.4" class="ltx_tr">
<th id="S4.T6.18.4.4.9.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.9.4.1.1" class="ltx_text" style="color:#000000;">ControlNet</span></th>
<th id="S4.T6.18.4.4.9.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.9.4.2.1" class="ltx_text" style="color:#000000;">36.9</span></th>
<td id="S4.T6.18.4.4.9.4.3" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.9.4.3.1" class="ltx_text" style="color:#000000;">57.8</span></td>
<td id="S4.T6.18.4.4.9.4.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.9.4.4.1" class="ltx_text" style="color:#000000;">39.6</span></td>
<td id="S4.T6.18.4.4.9.4.5" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.9.4.5.1" class="ltx_text" style="color:#000000;">40.4</span></td>
<td id="S4.T6.18.4.4.9.4.6" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.9.4.6.1" class="ltx_text" style="color:#000000;">49.0</span></td>
</tr>
<tr id="S4.T6.18.4.4.10.5" class="ltx_tr" style="background-color:#E8F2FF;">
<th id="S4.T6.18.4.4.10.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.10.5.1.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">GeoDiffusion</span></th>
<th id="S4.T6.18.4.4.10.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.10.5.2.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">38.4</span></th>
<td id="S4.T6.18.4.4.10.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.10.5.3.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">58.5</span></td>
<td id="S4.T6.18.4.4.10.5.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.10.5.4.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">42.4</span></td>
<td id="S4.T6.18.4.4.10.5.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.10.5.5.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">42.1</span></td>
<td id="S4.T6.18.4.4.10.5.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.18.4.4.10.5.6.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">50.3</span></td>
</tr>
</tbody>
</table>
</span></div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Table 6: </span><span id="S4.T6.23.15.1" class="ltx_text ltx_font_bold">Comparison of COCO inpainting.</span>
</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="S4.T6.23.9" class="ltx_inline-block ltx_figure_panel ltx_align_center ltx_transformed_outer" style="width:191.8pt;height:90pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
<table id="S4.T6.23.9.5" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T6.20.6.2.2" class="ltx_tr">
<th id="S4.T6.20.6.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">Method</th>
<th id="S4.T6.20.6.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">mAP</th>
<th id="S4.T6.19.5.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">AP<sub id="S4.T6.19.5.1.1.1.1" class="ltx_sub"><span id="S4.T6.19.5.1.1.1.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</th>
<th id="S4.T6.20.6.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">AP<sub id="S4.T6.20.6.2.2.2.1" class="ltx_sub"><span id="S4.T6.20.6.2.2.2.1.1" class="ltx_text ltx_font_italic">75</span></sub>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T6.23.9.5.6.1" class="ltx_tr">
<th id="S4.T6.23.9.5.6.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">Stable Diffusion</th>
<th id="S4.T6.23.9.5.6.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">17.6</th>
<td id="S4.T6.23.9.5.6.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">23.2</td>
<td id="S4.T6.23.9.5.6.1.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">20.0</td>
</tr>
<tr id="S4.T6.23.9.5.7.2" class="ltx_tr">
<th id="S4.T6.23.9.5.7.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.23.9.5.7.2.1.1" class="ltx_text" style="color:#000000;">ControlNet</span></th>
<th id="S4.T6.23.9.5.7.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.23.9.5.7.2.2.1" class="ltx_text" style="color:#000000;">17.8</span></th>
<td id="S4.T6.23.9.5.7.2.3" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.23.9.5.7.2.3.1" class="ltx_text" style="color:#000000;">25.7</span></td>
<td id="S4.T6.23.9.5.7.2.4" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.23.9.5.7.2.4.1" class="ltx_text" style="color:#000000;">20.2</span></td>
</tr>
<tr id="S4.T6.23.9.5.8.3" class="ltx_tr">
<th id="S4.T6.23.9.5.8.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.23.9.5.8.3.1.1" class="ltx_text" style="color:#000000;">GLIGEN</span></th>
<th id="S4.T6.23.9.5.8.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.23.9.5.8.3.2.1" class="ltx_text" style="color:#000000;">18.3</span></th>
<td id="S4.T6.23.9.5.8.3.3" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.23.9.5.8.3.3.1" class="ltx_text" style="color:#000000;">25.8</span></td>
<td id="S4.T6.23.9.5.8.3.4" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.23.9.5.8.3.4.1" class="ltx_text" style="color:#000000;">20.9</span></td>
</tr>
<tr id="S4.T6.23.9.5.5" class="ltx_tr" style="background-color:#E8F2FF;">
<th id="S4.T6.23.9.5.5.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.23.9.5.5.4.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">GeoDiffusion</span></th>
<th id="S4.T6.21.7.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.21.7.3.3.1.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">19.0<sup id="S4.T6.21.7.3.3.1.1.1" class="ltx_sup"><span id="S4.T6.21.7.3.3.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic" style="color:#70AD47;">+1.4</span></sup></span></th>
<td id="S4.T6.22.8.4.4.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.22.8.4.4.2.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">26.2<sup id="S4.T6.22.8.4.4.2.1.1" class="ltx_sup"><span id="S4.T6.22.8.4.4.2.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic" style="color:#70AD47;">+3.0</span></sup></span></td>
<td id="S4.T6.23.9.5.5.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="S4.T6.23.9.5.5.3.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">21.6<sup id="S4.T6.23.9.5.5.3.1.1" class="ltx_sup"><span id="S4.T6.23.9.5.5.3.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic" style="color:#70AD47;">+1.6</span></sup></span></td>
</tr>
</tbody>
</table>
</span></div>
</div>
</div>
</figure>
</div>
</div>
</figure>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2306.04607/assets/x7.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="86" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>
<span id="S4.F5.2.1" class="ltx_text" style="color:#000000;">
<span id="S4.F5.2.1.1" class="ltx_text ltx_font_bold">Visualization of image inpainting on COCO.</span>
Due to the existence of multiple people, Stable Diffusion cannot properly deal with the inpainting request, while <span id="S4.F5.2.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> solves by successfully understanding location of missing areas thanks to the text-prompted geometric control.
</span>
</figcaption>
</figure>
</section>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Ablation study</h3>

<figure id="S4.T7" class="ltx_table ltx_align_floatright">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 7: </span><span id="S4.T7.12.1" class="ltx_text ltx_font_bold">Ablations on location grid size.</span>
Foreground re-weighting is not adopted here.
Default settings are marked in <span id="S4.T7.13.2" class="ltx_text"><span id="S4.T7.13.2.1" class="ltx_text" style="background-color:#E6E6E6;">gray</span></span>.
</figcaption>
<table id="S4.T7.9.9" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T7.2.2.2" class="ltx_tr">
<th id="S4.T7.2.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;">Grid size</th>
<th id="S4.T7.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;"># Pixels</th>
<th id="S4.T7.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;" rowspan="2"><span id="S4.T7.1.1.1.1.1" class="ltx_text">FID<math id="S4.T7.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T7.1.1.1.1.1.m1.1a"><mo stretchy="false" id="S4.T7.1.1.1.1.1.m1.1.1" xref="S4.T7.1.1.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T7.1.1.1.1.1.m1.1b"><ci id="S4.T7.1.1.1.1.1.m1.1.1.cmml" xref="S4.T7.1.1.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.1.1.1.1.1.m1.1c">\downarrow</annotation></semantics></math></span></th>
<th id="S4.T7.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;" rowspan="2"><span id="S4.T7.2.2.2.2.1" class="ltx_text">mAP<math id="S4.T7.2.2.2.2.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T7.2.2.2.2.1.m1.1a"><mo stretchy="false" id="S4.T7.2.2.2.2.1.m1.1.1" xref="S4.T7.2.2.2.2.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T7.2.2.2.2.1.m1.1b"><ci id="S4.T7.2.2.2.2.1.m1.1.1.cmml" xref="S4.T7.2.2.2.2.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.2.2.2.2.1.m1.1c">\uparrow</annotation></semantics></math></span></th>
</tr>
<tr id="S4.T7.3.3.3" class="ltx_tr">
<th id="S4.T7.3.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;"><math id="S4.T7.3.3.3.1.m1.2" class="ltx_Math" alttext="(H_{bin},W_{bin})" display="inline"><semantics id="S4.T7.3.3.3.1.m1.2a"><mrow id="S4.T7.3.3.3.1.m1.2.2.2" xref="S4.T7.3.3.3.1.m1.2.2.3.cmml"><mo stretchy="false" id="S4.T7.3.3.3.1.m1.2.2.2.3" xref="S4.T7.3.3.3.1.m1.2.2.3.cmml">(</mo><msub id="S4.T7.3.3.3.1.m1.1.1.1.1" xref="S4.T7.3.3.3.1.m1.1.1.1.1.cmml"><mi id="S4.T7.3.3.3.1.m1.1.1.1.1.2" xref="S4.T7.3.3.3.1.m1.1.1.1.1.2.cmml">H</mi><mrow id="S4.T7.3.3.3.1.m1.1.1.1.1.3" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3.cmml"><mi id="S4.T7.3.3.3.1.m1.1.1.1.1.3.2" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.T7.3.3.3.1.m1.1.1.1.1.3.1" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.T7.3.3.3.1.m1.1.1.1.1.3.3" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.T7.3.3.3.1.m1.1.1.1.1.3.1a" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.T7.3.3.3.1.m1.1.1.1.1.3.4" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3.4.cmml">n</mi></mrow></msub><mo id="S4.T7.3.3.3.1.m1.2.2.2.4" xref="S4.T7.3.3.3.1.m1.2.2.3.cmml">,</mo><msub id="S4.T7.3.3.3.1.m1.2.2.2.2" xref="S4.T7.3.3.3.1.m1.2.2.2.2.cmml"><mi id="S4.T7.3.3.3.1.m1.2.2.2.2.2" xref="S4.T7.3.3.3.1.m1.2.2.2.2.2.cmml">W</mi><mrow id="S4.T7.3.3.3.1.m1.2.2.2.2.3" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3.cmml"><mi id="S4.T7.3.3.3.1.m1.2.2.2.2.3.2" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.T7.3.3.3.1.m1.2.2.2.2.3.1" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3.1.cmml">​</mo><mi id="S4.T7.3.3.3.1.m1.2.2.2.2.3.3" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.T7.3.3.3.1.m1.2.2.2.2.3.1a" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3.1.cmml">​</mo><mi id="S4.T7.3.3.3.1.m1.2.2.2.2.3.4" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3.4.cmml">n</mi></mrow></msub><mo stretchy="false" id="S4.T7.3.3.3.1.m1.2.2.2.5" xref="S4.T7.3.3.3.1.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T7.3.3.3.1.m1.2b"><interval closure="open" id="S4.T7.3.3.3.1.m1.2.2.3.cmml" xref="S4.T7.3.3.3.1.m1.2.2.2"><apply id="S4.T7.3.3.3.1.m1.1.1.1.1.cmml" xref="S4.T7.3.3.3.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T7.3.3.3.1.m1.1.1.1.1.1.cmml" xref="S4.T7.3.3.3.1.m1.1.1.1.1">subscript</csymbol><ci id="S4.T7.3.3.3.1.m1.1.1.1.1.2.cmml" xref="S4.T7.3.3.3.1.m1.1.1.1.1.2">𝐻</ci><apply id="S4.T7.3.3.3.1.m1.1.1.1.1.3.cmml" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3"><times id="S4.T7.3.3.3.1.m1.1.1.1.1.3.1.cmml" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3.1"></times><ci id="S4.T7.3.3.3.1.m1.1.1.1.1.3.2.cmml" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3.2">𝑏</ci><ci id="S4.T7.3.3.3.1.m1.1.1.1.1.3.3.cmml" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3.3">𝑖</ci><ci id="S4.T7.3.3.3.1.m1.1.1.1.1.3.4.cmml" xref="S4.T7.3.3.3.1.m1.1.1.1.1.3.4">𝑛</ci></apply></apply><apply id="S4.T7.3.3.3.1.m1.2.2.2.2.cmml" xref="S4.T7.3.3.3.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S4.T7.3.3.3.1.m1.2.2.2.2.1.cmml" xref="S4.T7.3.3.3.1.m1.2.2.2.2">subscript</csymbol><ci id="S4.T7.3.3.3.1.m1.2.2.2.2.2.cmml" xref="S4.T7.3.3.3.1.m1.2.2.2.2.2">𝑊</ci><apply id="S4.T7.3.3.3.1.m1.2.2.2.2.3.cmml" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3"><times id="S4.T7.3.3.3.1.m1.2.2.2.2.3.1.cmml" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3.1"></times><ci id="S4.T7.3.3.3.1.m1.2.2.2.2.3.2.cmml" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3.2">𝑏</ci><ci id="S4.T7.3.3.3.1.m1.2.2.2.2.3.3.cmml" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3.3">𝑖</ci><ci id="S4.T7.3.3.3.1.m1.2.2.2.2.3.4.cmml" xref="S4.T7.3.3.3.1.m1.2.2.2.2.3.4">𝑛</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.3.3.3.1.m1.2c">(H_{bin},W_{bin})</annotation></semantics></math></th>
<th id="S4.T7.3.3.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">/ bin</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T7.5.5.5" class="ltx_tr">
<th id="S4.T7.4.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">100<math id="S4.T7.4.4.4.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T7.4.4.4.1.m1.1a"><mo id="S4.T7.4.4.4.1.m1.1.1" xref="S4.T7.4.4.4.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T7.4.4.4.1.m1.1b"><times id="S4.T7.4.4.4.1.m1.1.1.cmml" xref="S4.T7.4.4.4.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.4.4.4.1.m1.1c">\times</annotation></semantics></math>57</th>
<th id="S4.T7.5.5.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">8<math id="S4.T7.5.5.5.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T7.5.5.5.2.m1.1a"><mo id="S4.T7.5.5.5.2.m1.1.1" xref="S4.T7.5.5.5.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T7.5.5.5.2.m1.1b"><times id="S4.T7.5.5.5.2.m1.1.1.cmml" xref="S4.T7.5.5.5.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.5.5.5.2.m1.1c">\times</annotation></semantics></math>8</th>
<td id="S4.T7.5.5.5.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">14.94</td>
<td id="S4.T7.5.5.5.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">20.8</td>
</tr>
<tr id="S4.T7.7.7.7" class="ltx_tr">
<th id="S4.T7.6.6.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">200<math id="S4.T7.6.6.6.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T7.6.6.6.1.m1.1a"><mo id="S4.T7.6.6.6.1.m1.1.1" xref="S4.T7.6.6.6.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T7.6.6.6.1.m1.1b"><times id="S4.T7.6.6.6.1.m1.1.1.cmml" xref="S4.T7.6.6.6.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.6.6.6.1.m1.1c">\times</annotation></semantics></math>114</th>
<th id="S4.T7.7.7.7.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">4<math id="S4.T7.7.7.7.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T7.7.7.7.2.m1.1a"><mo id="S4.T7.7.7.7.2.m1.1.1" xref="S4.T7.7.7.7.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T7.7.7.7.2.m1.1b"><times id="S4.T7.7.7.7.2.m1.1.1.cmml" xref="S4.T7.7.7.7.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.7.7.7.2.m1.1c">\times</annotation></semantics></math>4</th>
<td id="S4.T7.7.7.7.3" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">11.83</td>
<td id="S4.T7.7.7.7.4" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">21.4</td>
</tr>
<tr id="S4.T7.9.9.9" class="ltx_tr">
<th id="S4.T7.8.8.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;"><span id="S4.T7.8.8.8.1.1" class="ltx_text ltx_font_bold">400<math id="S4.T7.8.8.8.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T7.8.8.8.1.1.m1.1a"><mo id="S4.T7.8.8.8.1.1.m1.1.1" xref="S4.T7.8.8.8.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T7.8.8.8.1.1.m1.1b"><times id="S4.T7.8.8.8.1.1.m1.1.1.cmml" xref="S4.T7.8.8.8.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.8.8.8.1.1.m1.1c">\times</annotation></semantics></math>228</span></th>
<th id="S4.T7.9.9.9.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;"><span id="S4.T7.9.9.9.2.1" class="ltx_text ltx_font_bold">2<math id="S4.T7.9.9.9.2.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T7.9.9.9.2.1.m1.1a"><mo id="S4.T7.9.9.9.2.1.m1.1.1" xref="S4.T7.9.9.9.2.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T7.9.9.9.2.1.m1.1b"><times id="S4.T7.9.9.9.2.1.m1.1.1.cmml" xref="S4.T7.9.9.9.2.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.9.9.9.2.1.m1.1c">\times</annotation></semantics></math>2</span></th>
<td id="S4.T7.9.9.9.3" class="ltx_td ltx_align_center ltx_border_bb" style="background-color:#E6E6E6;padding-left:4.0pt;padding-right:4.0pt;"><span id="S4.T7.9.9.9.3.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">11.63</span></td>
<td id="S4.T7.9.9.9.4" class="ltx_td ltx_align_center ltx_border_bb" style="background-color:#E6E6E6;padding-left:4.0pt;padding-right:4.0pt;"><span id="S4.T7.9.9.9.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">23.7</span></td>
</tr>
</tbody>
</table>
</figure>
<div id="S4.SS4.p1" class="ltx_para ltx_noindent">
<p id="S4.SS4.p1.1" class="ltx_p">In this section, we conduct ablation studies on the essential components of our <span id="S4.SS4.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>.
<span id="S4.SS4.p1.1.2" class="ltx_text" style="color:#000000;">
Check detailed experiment setups, more ablations and discussions in Tab. <a href="#A3.T9" title="Table 9 ‣ More generalizability analysis. ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>-<a href="#A3.T10" title="Table 10 ‣ More generalizability analysis. ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> and Appendix <a href="#A2" title="Appendix B More Ablation Study ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>-<a href="#A4" title="Appendix D More Applications ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D</span></a>.
</span></p>
</div>
<section id="S4.SS4.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Location grid size</h5>

<div id="S4.SS4.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS4.SSS0.Px1.p1.2" class="ltx_p"><math id="S4.SS4.SSS0.Px1.p1.1.m1.2" class="ltx_Math" alttext="(H_{bin},W_{bin})" display="inline"><semantics id="S4.SS4.SSS0.Px1.p1.1.m1.2a"><mrow id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.3.cmml"><mo stretchy="false" id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.3" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.3.cmml">(</mo><msub id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.cmml"><mi id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.2" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.2.cmml">H</mi><mrow id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.cmml"><mi id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.2" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.1" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.3" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.1a" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.4" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.4.cmml">n</mi></mrow></msub><mo id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.4" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.3.cmml">,</mo><msub id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.cmml"><mi id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.2" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.2.cmml">W</mi><mrow id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.cmml"><mi id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.2" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.1" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.3" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.1a" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.4" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.4.cmml">n</mi></mrow></msub><mo stretchy="false" id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.5" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS0.Px1.p1.1.m1.2b"><interval closure="open" id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.3.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2"><apply id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.2.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.2">𝐻</ci><apply id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3"><times id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.1.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.1"></times><ci id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.2.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.2">𝑏</ci><ci id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.3.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.3">𝑖</ci><ci id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.4.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.1.1.3.4">𝑛</ci></apply></apply><apply id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.1.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2">subscript</csymbol><ci id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.2.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.2">𝑊</ci><apply id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3"><times id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.1.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.1"></times><ci id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.2.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.2">𝑏</ci><ci id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.3.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.3">𝑖</ci><ci id="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.4.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.2.2.2.2.3.4">𝑛</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS0.Px1.p1.1.m1.2c">(H_{bin},W_{bin})</annotation></semantics></math> is ablated in Tab. <a href="#S4.T7" title="Table 7 ‣ 4.4 Ablation study ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.
A larger grid size can achieve consistent improvement for both the perceptual quality and the layout consistency.
Indeed, a larger grid size stands for a smaller bin size and less coordinate discretization error, and thus, a more accurate encoding of geometric layouts.
Due to the restriction of hardware resources, the most fine-grained grid size we adopt is 2<math id="S4.SS4.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.SS4.SSS0.Px1.p1.2.m2.1a"><mo id="S4.SS4.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS4.SSS0.Px1.p1.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS0.Px1.p1.2.m2.1b"><times id="S4.SS4.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S4.SS4.SSS0.Px1.p1.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS0.Px1.p1.2.m2.1c">\times</annotation></semantics></math>2 pixels per bin.</p>
</div>
</section>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para ltx_noindent">
<p id="S5.p1.1" class="ltx_p"><span id="S5.p1.1.1" class="ltx_text" style="color:#000000;">This paper proposes <span id="S5.p1.1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>, an embarrassingly simple architecture with the text-prompted geometric control to empower pre-trained text-to-image diffusion models for object detection data generation.</span>
<span id="S5.p1.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> is demonstrated effective in generating realistic images that conform to specified geometric layouts, as evidenced by the extensive experiments that reveal high fidelity, enhanced trainability in annotation-scarce scenarios, and improved generalizability to novel scenes.</p>
</div>
<section id="S5.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Acknowledgement.</h5>

<div id="S5.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S5.SS0.SSS0.Px1.p1.1" class="ltx_p">We gratefully acknowledge the support of the MindSpore, CANN (Compute Architecture for Neural Networks) and Ascend AI Processor used for this research.
This research has been made possible by funding support from the Research Grants Council of Hong Kong through the Research Impact Fund project R6003-21.</p>
</div>
</section>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bowles et al. (2018)</span>
<span class="ltx_bibblock">
Christopher Bowles, Liang Chen, Ricardo Guerrero, Paul Bentley, Roger Gunn, Alexander Hammers, David Alexander Dickie, Maria Valdés Hernández, Joanna Wardlaw, and Daniel Rueckert.

</span>
<span class="ltx_bibblock">Gan augmentation: Augmenting training data using generative adversarial networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1810.10863</em>, 2018.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Caesar et al. (2018)</span>
<span class="ltx_bibblock">
Holger Caesar, Jasper Uijlings, and Vittorio Ferrari.

</span>
<span class="ltx_bibblock">Coco-stuff: Thing and stuff classes in context.

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2018.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Caesar et al. (2020)</span>
<span class="ltx_bibblock">
Holger Caesar, Varun Bankiti, Alex H Lang, Sourabh Vora, Venice Erin Liong, Qiang Xu, Anush Krishnan, Yu Pan, Giancarlo Baldan, and Oscar Beijbom.

</span>
<span class="ltx_bibblock">nuscenes: A multimodal dataset for autonomous driving.

</span>
<span class="ltx_bibblock">In <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2020.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2021a)</span>
<span class="ltx_bibblock">
Kai Chen, Lanqing Hong, Hang Xu, Zhenguo Li, and Dit-Yan Yeung.

</span>
<span class="ltx_bibblock">Multisiam: Self-supervised multi-instance siamese representation learning for autonomous driving.

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2021a.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2023a)</span>
<span class="ltx_bibblock">
Kai Chen, Zhili Liu, Lanqing Hong, Hang Xu, Zhenguo Li, and Dit-Yan Yeung.

</span>
<span class="ltx_bibblock">Mixed autoencoder for self-supervised visual representation learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2023a.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2023b)</span>
<span class="ltx_bibblock">
Kai Chen, Chunwei Wang, Kuo Yang, Jianhua Han, Lanqing Hong, Fei Mi, Hang Xu, Zhengying Liu, Wenyong Huang, Zhenguo Li, Dit-Yan Yeung, Lifeng Shang, Xin Jiang, and Qun Liu.

</span>
<span class="ltx_bibblock">Gaining wisdom from setbacks: Aligning large language models via mistake analysis.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.10477</em>, 2023b.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2021b)</span>
<span class="ltx_bibblock">
Ting Chen, Saurabh Saxena, Lala Li, David J Fleet, and Geoffrey Hinton.

</span>
<span class="ltx_bibblock">Pix2seq: A language modeling framework for object detection.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2109.10852</em>, 2021b.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cheng et al. (2023)</span>
<span class="ltx_bibblock">
Jiaxin Cheng, Xiao Liang, Xingjian Shi, Tong He, Tianjun Xiao, and Mu Li.

</span>
<span class="ltx_bibblock">Layoutdiffuse: Adapting foundational diffusion models for layout-to-image generation.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.08908</em>, 2023.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Clark et al. (2020)</span>
<span class="ltx_bibblock">
Kevin Clark, Minh-Thang Luong, Quoc V Le, and Christopher D Manning.

</span>
<span class="ltx_bibblock">Electra: Pre-training text encoders as discriminators rather than generators.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2020.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dvornik et al. (2018)</span>
<span class="ltx_bibblock">
Nikita Dvornik, Julien Mairal, and Cordelia Schmid.

</span>
<span class="ltx_bibblock">Modeling visual context is key to augmenting object detection datasets.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2018.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2023)</span>
<span class="ltx_bibblock">
Ruiyuan Gao, Kai Chen, Enze Xie, Lanqing Hong, Zhenguo Li, Dit-Yan Yeung, and Qiang Xu.

</span>
<span class="ltx_bibblock">Magicdrive: Street view generation with diverse 3d geometry control.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.02601</em>, 2023.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ge et al. (2022)</span>
<span class="ltx_bibblock">
Yunhao Ge, Jiashu Xu, Brian Nlong Zhao, Laurent Itti, and Vibhav Vineet.

</span>
<span class="ltx_bibblock">Dall-e for detection: Language-driven context image synthesis for object detection.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2206.09592</em>, 2022.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghiasi et al. (2021)</span>
<span class="ltx_bibblock">
Golnaz Ghiasi, Yin Cui, Aravind Srinivas, Rui Qian, Tsung-Yi Lin, Ekin D Cubuk, Quoc V Le, and Barret Zoph.

</span>
<span class="ltx_bibblock">Simple copy-paste is a strong data augmentation method for instance segmentation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2021.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Goodfellow et al. (2014)</span>
<span class="ltx_bibblock">
Ian J Goodfellow, Jean Pouget-Abadie, Mehdi Mirza, Bing Xu, David Warde-Farley, Sherjil Ozair, Aaron Courville, and Yoshua Bengio.

</span>
<span class="ltx_bibblock">Generative adversarial networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1406.2661</em>, 2014.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gou et al. (2023)</span>
<span class="ltx_bibblock">
Yunhao Gou, Zhili Liu, Kai Chen, Lanqing Hong, Hang Xu, Aoxue Li, Dit-Yan Yeung, James T Kwok, and Yu Zhang.

</span>
<span class="ltx_bibblock">Mixture of cluster-conditional lora experts for vision-language instruction tuning.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2312.12379</em>, 2023.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gupta et al. (2019)</span>
<span class="ltx_bibblock">
Agrim Gupta, Piotr Dollar, and Ross Girshick.

</span>
<span class="ltx_bibblock">Lvis: A dataset for large vocabulary instance segmentation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2019.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Han et al. (2021)</span>
<span class="ltx_bibblock">
Jianhua Han, Xiwen Liang, Hang Xu, Kai Chen, Lanqing Hong, Chaoqiang Ye, Wei Zhang, Zhenguo Li, Xiaodan Liang, and Chunjing Xu.

</span>
<span class="ltx_bibblock">Soda10m: Towards large-scale object detection benchmark for autonomous driving.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2106.11118</em>, 2021.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2017)</span>
<span class="ltx_bibblock">
Kaiming He, Georgia Gkioxari, Piotr Dollár, and Ross Girshick.

</span>
<span class="ltx_bibblock">Mask r-cnn.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2017.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2022)</span>
<span class="ltx_bibblock">
Ruifei He, Shuyang Sun, Xin Yu, Chuhui Xue, Wenqing Zhang, Philip Torr, Song Bai, and Xiaojuan Qi.

</span>
<span class="ltx_bibblock">Is synthetic data from generative models ready for image recognition?

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2210.07574</em>, 2022.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2021)</span>
<span class="ltx_bibblock">
Sen He, Wentong Liao, Michael Ying Yang, Yongxin Yang, Yi-Zhe Song, Bodo Rosenhahn, and Tao Xiang.

</span>
<span class="ltx_bibblock">Context-aware layout to image generation with enhanced object appearance.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2021.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hertz et al. (2022)</span>
<span class="ltx_bibblock">
Amir Hertz, Ron Mokady, Jay Tenenbaum, Kfir Aberman, Yael Pritch, and Daniel Cohen-Or.

</span>
<span class="ltx_bibblock">Prompt-to-prompt image editing with cross attention control.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2208.01626</em>, 2022.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Heusel et al. (2017)</span>
<span class="ltx_bibblock">
Martin Heusel, Hubert Ramsauer, Thomas Unterthiner, Bernhard Nessler, and Sepp Hochreiter.

</span>
<span class="ltx_bibblock">Gans trained by a two time-scale update rule converge to a local nash equilibrium.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2017.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ho et al. (2020)</span>
<span class="ltx_bibblock">
Jonathan Ho, Ajay Jain, and Pieter Abbeel.

</span>
<span class="ltx_bibblock">Denoising diffusion probabilistic models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jahn et al. (2021)</span>
<span class="ltx_bibblock">
Manuel Jahn, Robin Rombach, and Björn Ommer.

</span>
<span class="ltx_bibblock">High-resolution complex scene synthesis with transformers.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2105.06458</em>, 2021.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kingma &amp; Welling (2013)</span>
<span class="ltx_bibblock">
Diederik P Kingma and Max Welling.

</span>
<span class="ltx_bibblock">Auto-encoding variational bayes.

</span>
<span class="ltx_bibblock"><em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1312.6114</em>, 2013.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kirillov et al. (2023)</span>
<span class="ltx_bibblock">
Alexander Kirillov, Eric Mintun, Nikhila Ravi, Hanzi Mao, Chloe Rolland, Laura Gustafson, Tete Xiao, Spencer Whitehead, Alexander C Berg, Wan-Yen Lo, et al.

</span>
<span class="ltx_bibblock">Segment anything.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2304.02643</em>, 2023.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2022)</span>
<span class="ltx_bibblock">
Kaican Li, Kai Chen, Haoyu Wang, Lanqing Hong, Chaoqiang Ye, Jianhua Han, Yukuai Chen, Wei Zhang, Chunjing Xu, Dit-Yan Yeung, et al.

</span>
<span class="ltx_bibblock">Coda: A real-world road corner case dataset for object detection in autonomous driving.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2203.07724</em>, 2022.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023a)</span>
<span class="ltx_bibblock">
Pengxiang Li, Zhili Liu, Kai Chen, Lanqing Hong, Yunzhi Zhuge, Dit-Yan Yeung, Huchuan Lu, and Xu Jia.

</span>
<span class="ltx_bibblock">Trackdiffusion: Multi-object tracking data generation via diffusion models.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2312.00651</em>, 2023a.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023b)</span>
<span class="ltx_bibblock">
Yuheng Li, Haotian Liu, Qingyang Wu, Fangzhou Mu, Jianwei Yang, Jianfeng Gao, Chunyuan Li, and Yong Jae Lee.

</span>
<span class="ltx_bibblock">Gligen: Open-set grounded text-to-image generation.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2301.07093</em>, 2023b.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2021)</span>
<span class="ltx_bibblock">
Zejian Li, Jingyu Wu, Immanuel Koh, Yongchuan Tang, and Lingyun Sun.

</span>
<span class="ltx_bibblock">Image synthesis from layout with locality-aware mask adaption.

</span>
<span class="ltx_bibblock">In <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2021.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023c)</span>
<span class="ltx_bibblock">
Ziyi Li, Qinye Zhou, Xiaoyun Zhang, Ya Zhang, Yanfeng Wang, and Weidi Xie.

</span>
<span class="ltx_bibblock">Open-vocabulary object segmentation with diffusion models.

</span>
<span class="ltx_bibblock"><em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2023c.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2014)</span>
<span class="ltx_bibblock">
Tsung-Yi Lin, Michael Maire, Serge Belongie, James Hays, Pietro Perona, Deva Ramanan, Piotr Dollár, and C Lawrence Zitnick.

</span>
<span class="ltx_bibblock">Microsoft coco: Common objects in context.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2014.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2022a)</span>
<span class="ltx_bibblock">
Luping Liu, Yi Ren, Zhijie Lin, and Zhou Zhao.

</span>
<span class="ltx_bibblock">Pseudo numerical methods for diffusion models on manifolds.

</span>
<span class="ltx_bibblock"><em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2202.09778</em>, 2022a.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2022b)</span>
<span class="ltx_bibblock">
Zhili Liu, Jianhua Han, Kai Chen, Lanqing Hong, Hang Xu, Chunjing Xu, and Zhenguo Li.

</span>
<span class="ltx_bibblock">Task-customized self-supervised pre-training with scalable dynamic routing.

</span>
<span class="ltx_bibblock">In <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">AAAI</em>, 2022b.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023)</span>
<span class="ltx_bibblock">
Zhili Liu, Kai Chen, Yifan Zhang, Jianhua Han, Lanqing Hong, Hang Xu, Zhenguo Li, Dit-Yan Yeung, and James Kwok.

</span>
<span class="ltx_bibblock">Geom-erasing: Geometry-driven removal of implicit concept in diffusion models.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.05873</em>, 2023.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Loshchilov &amp; Hutter (2019)</span>
<span class="ltx_bibblock">
Ilya Loshchilov and Frank Hutter.

</span>
<span class="ltx_bibblock">Decoupled weight decay regularization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2019.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al. (2022)</span>
<span class="ltx_bibblock">
Cheng Lu, Yuhao Zhou, Fan Bao, Jianfei Chen, Chongxuan Li, and Jun Zhu.

</span>
<span class="ltx_bibblock">Dpm-solver: A fast ode solver for diffusion probabilistic model sampling in around 10 steps.

</span>
<span class="ltx_bibblock"><em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2206.00927</em>, 2022.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nichol et al. (2021)</span>
<span class="ltx_bibblock">
Alex Nichol, Prafulla Dhariwal, Aditya Ramesh, Pranav Shyam, Pamela Mishkin, Bob McGrew, Ilya Sutskever, and Mark Chen.

</span>
<span class="ltx_bibblock">Glide: Towards photorealistic image generation and editing with text-guided diffusion models.

</span>
<span class="ltx_bibblock"><em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2112.10741</em>, 2021.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nichol &amp; Dhariwal (2021)</span>
<span class="ltx_bibblock">
Alexander Quinn Nichol and Prafulla Dhariwal.

</span>
<span class="ltx_bibblock">Improved denoising diffusion probabilistic models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">ICML</em>, 2021.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Perez &amp; Wang (2017)</span>
<span class="ltx_bibblock">
Luis Perez and Jason Wang.

</span>
<span class="ltx_bibblock">The effectiveness of data augmentation in image classification using deep learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1712.04621</em>, 2017.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ramesh et al. (2022)</span>
<span class="ltx_bibblock">
Aditya Ramesh, Prafulla Dhariwal, Alex Nichol, Casey Chu, and Mark Chen.

</span>
<span class="ltx_bibblock">Hierarchical text-conditional image generation with clip latents.

</span>
<span class="ltx_bibblock"><em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2204.06125</em>, 2022.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ren et al. (2015)</span>
<span class="ltx_bibblock">
Shaoqing Ren, Kaiming He, Ross Girshick, and Jian Sun.

</span>
<span class="ltx_bibblock">Faster R-CNN: Towards real-time object detection with region proposal networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2015.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reza et al. (2019)</span>
<span class="ltx_bibblock">
Md Alimoor Reza, Akshay U Naik, Kai Chen, and David J Crandall.

</span>
<span class="ltx_bibblock">Automatic annotation for semantic segmentation in indoor scenes.

</span>
<span class="ltx_bibblock">In <em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">IROS</em>, 2019.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reza et al. (2020)</span>
<span class="ltx_bibblock">
Md Alimoor Reza, Kai Chen, Akshay Naik, David J Crandall, and Soon-Heung Jung.

</span>
<span class="ltx_bibblock">Automatic dense annotation for monocular 3D scene understanding.

</span>
<span class="ltx_bibblock">In <em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">IEEE Access</em>, 2020.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rombach et al. (2022)</span>
<span class="ltx_bibblock">
Robin Rombach, Andreas Blattmann, Dominik Lorenz, Patrick Esser, and Björn Ommer.

</span>
<span class="ltx_bibblock">High-resolution image synthesis with latent diffusion models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2022.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saharia et al. (2022a)</span>
<span class="ltx_bibblock">
Chitwan Saharia, William Chan, Huiwen Chang, Chris Lee, Jonathan Ho, Tim Salimans, David Fleet, and Mohammad Norouzi.

</span>
<span class="ltx_bibblock">Palette: Image-to-image diffusion models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">SIGGRAPH</em>, 2022a.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saharia et al. (2022b)</span>
<span class="ltx_bibblock">
Chitwan Saharia, Jonathan Ho, William Chan, Tim Salimans, David J Fleet, and Mohammad Norouzi.

</span>
<span class="ltx_bibblock">Image super-resolution via iterative refinement.

</span>
<span class="ltx_bibblock">In <em id="bib.bib47.1.1" class="ltx_emph ltx_font_italic">PAMI</em>, 2022b.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song et al. (2020)</span>
<span class="ltx_bibblock">
Jiaming Song, Chenlin Meng, and Stefano Ermon.

</span>
<span class="ltx_bibblock">Denoising diffusion implicit models.

</span>
<span class="ltx_bibblock"><em id="bib.bib48.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2010.02502</em>, 2020.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun &amp; Wu (2019)</span>
<span class="ltx_bibblock">
Wei Sun and Tianfu Wu.

</span>
<span class="ltx_bibblock">Image synthesis from reconfigurable layout and style.

</span>
<span class="ltx_bibblock">In <em id="bib.bib49.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2019.

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Van Den Oord et al. (2017)</span>
<span class="ltx_bibblock">
Aaron Van Den Oord, Oriol Vinyals, et al.

</span>
<span class="ltx_bibblock">Neural discrete representation learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib50.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2017.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al. (2017)</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, Aidan N Gomez, Łukasz Kaiser, and Illia Polosukhin.

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock">In <em id="bib.bib51.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2017.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2022)</span>
<span class="ltx_bibblock">
Su Wang, Chitwan Saharia, Ceslee Montgomery, Jordi Pont-Tuset, Shai Noy, Stefano Pellegrini, Yasumasa Onoe, Sarah Laszlo, David J Fleet, Radu Soricut, et al.

</span>
<span class="ltx_bibblock">Imagen editor and editbench: Advancing and evaluating text-guided image inpainting.

</span>
<span class="ltx_bibblock"><em id="bib.bib52.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2212.06909</em>, 2022.

</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2023)</span>
<span class="ltx_bibblock">
Weijia Wu, Yuzhong Zhao, Hao Chen, Yuchao Gu, Rui Zhao, Yefei He, Hong Zhou, Mike Zheng Shou, and Chunhua Shen.

</span>
<span class="ltx_bibblock">Datasetdm: Synthesizing data with perception annotations using diffusion models.

</span>
<span class="ltx_bibblock"><em id="bib.bib53.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2308.06160</em>, 2023.

</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2023)</span>
<span class="ltx_bibblock">
Zhengyuan Yang, Jianfeng Wang, Zhe Gan, Linjie Li, Kevin Lin, Chenfei Wu, Nan Duan, Zicheng Liu, Ce Liu, Michael Zeng, and Lijuan Wang.

</span>
<span class="ltx_bibblock">Reco: Region-controlled text-to-image generation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib54.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2023.

</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2023)</span>
<span class="ltx_bibblock">
Lvmin Zhang, Anyi Rao, and Maneesh Agrawala.

</span>
<span class="ltx_bibblock">Adding conditional control to text-to-image diffusion models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib55.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, 2023.

</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. (2019)</span>
<span class="ltx_bibblock">
Bo Zhao, Lili Meng, Weidong Yin, and Leonid Sigal.

</span>
<span class="ltx_bibblock">Image generation from layout.

</span>
<span class="ltx_bibblock">In <em id="bib.bib56.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2019.

</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. (2022)</span>
<span class="ltx_bibblock">
Hanqing Zhao, Dianmo Sheng, Jianmin Bao, Dongdong Chen, Dong Chen, Fang Wen, Lu Yuan, Ce Liu, Wenbo Zhou, Qi Chu, et al.

</span>
<span class="ltx_bibblock">X-paste: Revisit copy-paste at scale with clip and stablediffusion.

</span>
<span class="ltx_bibblock"><em id="bib.bib57.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2212.03863</em>, 2022.

</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhili et al. (2023)</span>
<span class="ltx_bibblock">
LIU Zhili, Kai Chen, Jianhua Han, HONG Lanqing, Hang Xu, Zhenguo Li, and James Kwok.

</span>
<span class="ltx_bibblock">Task-customized masked autoencoder via mixture of cluster-conditional experts.

</span>
<span class="ltx_bibblock">In <em id="bib.bib58.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2023.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="Ax1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">Appendix</h2>

</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>More Experiments</h2>

<section id="A1.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Detailed results of real data necessity.</h5>

<div id="A1.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="A1.SS0.SSS0.Px1.p1.1" class="ltx_p">As discussed in Sec. <a href="#S4.SS2.SSS2" title="4.2.2 Trainability ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.2</span></a>, the usage of the augmented dataset generated by <span id="A1.SS0.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can significantly ease the necessity of real data during object detector training in different real training data budget ranging from 10% to 75%.
We provide detailed experimental results in Tab. <a href="#A1.T8" title="Table 8 ‣ Detailed results of real data necessity. ‣ Appendix A More Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>.</p>
</div>
<figure id="A1.T8" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8: </span><span id="A1.T8.11.1" class="ltx_text ltx_font_bold">Necessity of real data.</span>
<span id="A1.T8.12.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> achieves consistent improvement over various real data budget, which is more significant on more annotation-scarce subsets.
</figcaption>
<div id="A1.T8.8.8" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:251.8pt;height:72pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
<table id="A1.T8.8.8.8" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A1.T8.8.8.8.9.1" class="ltx_tr">
<th id="A1.T8.8.8.8.9.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:1.9pt;padding-right:1.9pt;">Method</th>
<th id="A1.T8.8.8.8.9.1.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:1.9pt;padding-right:1.9pt;">10%</th>
<th id="A1.T8.8.8.8.9.1.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:1.9pt;padding-right:1.9pt;">25%</th>
<th id="A1.T8.8.8.8.9.1.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:1.9pt;padding-right:1.9pt;">50%</th>
<th id="A1.T8.8.8.8.9.1.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:1.9pt;padding-right:1.9pt;">75%</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A1.T8.8.8.8.10.1" class="ltx_tr">
<th id="A1.T8.8.8.8.10.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:1.9pt;padding-right:1.9pt;">w/o GeoDiffusion</th>
<td id="A1.T8.8.8.8.10.1.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.9pt;padding-right:1.9pt;">24.6</td>
<td id="A1.T8.8.8.8.10.1.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.9pt;padding-right:1.9pt;">30.0</td>
<td id="A1.T8.8.8.8.10.1.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.9pt;padding-right:1.9pt;">33.6</td>
<td id="A1.T8.8.8.8.10.1.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.9pt;padding-right:1.9pt;">35.8</td>
</tr>
<tr id="A1.T8.4.4.4.4" class="ltx_tr" style="background-color:#E8F2FF;">
<th id="A1.T8.4.4.4.4.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-left:1.9pt;padding-right:1.9pt;"><span id="A1.T8.4.4.4.4.5.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">w/ GeoDiffusion (Subset)</span></th>
<td id="A1.T8.1.1.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.9pt;padding-right:1.9pt;"><span id="A1.T8.1.1.1.1.1.1" class="ltx_text" style="background-color:#E8F2FF;">27.8<sup id="A1.T8.1.1.1.1.1.1.1" class="ltx_sup"><span id="A1.T8.1.1.1.1.1.1.1.1" class="ltx_text ltx_font_italic" style="color:#70AD47;">+3.2</span></sup></span></td>
<td id="A1.T8.2.2.2.2.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.9pt;padding-right:1.9pt;"><span id="A1.T8.2.2.2.2.2.1" class="ltx_text" style="background-color:#E8F2FF;">33.1<sup id="A1.T8.2.2.2.2.2.1.1" class="ltx_sup"><span id="A1.T8.2.2.2.2.2.1.1.1" class="ltx_text ltx_font_italic" style="color:#70AD47;">+3.1</span></sup></span></td>
<td id="A1.T8.3.3.3.3.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.9pt;padding-right:1.9pt;"><span id="A1.T8.3.3.3.3.3.1" class="ltx_text" style="background-color:#E8F2FF;">35.7<sup id="A1.T8.3.3.3.3.3.1.1" class="ltx_sup"><span id="A1.T8.3.3.3.3.3.1.1.1" class="ltx_text ltx_font_italic" style="color:#70AD47;">+2.1</span></sup></span></td>
<td id="A1.T8.4.4.4.4.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.9pt;padding-right:1.9pt;"><span id="A1.T8.4.4.4.4.4.1" class="ltx_text" style="background-color:#E8F2FF;">37.2<sup id="A1.T8.4.4.4.4.4.1.1" class="ltx_sup"><span id="A1.T8.4.4.4.4.4.1.1.1" class="ltx_text ltx_font_italic" style="color:#70AD47;">+1.4</span></sup></span></td>
</tr>
<tr id="A1.T8.8.8.8.8" class="ltx_tr" style="background-color:#E8F2FF;">
<th id="A1.T8.8.8.8.8.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-left:1.9pt;padding-right:1.9pt;"><span id="A1.T8.8.8.8.8.5.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">w/ GeoDiffusion (Full)</span></th>
<td id="A1.T8.5.5.5.5.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.9pt;padding-right:1.9pt;"><span id="A1.T8.5.5.5.5.1.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">30.1<sup id="A1.T8.5.5.5.5.1.1.1" class="ltx_sup"><span id="A1.T8.5.5.5.5.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic" style="color:#70AD47;">+5.5</span></sup></span></td>
<td id="A1.T8.6.6.6.6.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.9pt;padding-right:1.9pt;"><span id="A1.T8.6.6.6.6.2.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">33.3<sup id="A1.T8.6.6.6.6.2.1.1" class="ltx_sup"><span id="A1.T8.6.6.6.6.2.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic" style="color:#70AD47;">+3.3</span></sup></span></td>
<td id="A1.T8.7.7.7.7.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.9pt;padding-right:1.9pt;"><span id="A1.T8.7.7.7.7.3.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">35.8<sup id="A1.T8.7.7.7.7.3.1.1" class="ltx_sup"><span id="A1.T8.7.7.7.7.3.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic" style="color:#70AD47;">+2.2</span></sup></span></td>
<td id="A1.T8.8.8.8.8.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:1.9pt;padding-right:1.9pt;"><span id="A1.T8.8.8.8.8.4.1" class="ltx_text ltx_font_bold" style="background-color:#E8F2FF;">37.3<sup id="A1.T8.8.8.8.8.4.1.1" class="ltx_sup"><span id="A1.T8.8.8.8.8.4.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic" style="color:#70AD47;">+1.5</span></sup></span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>More Ablation Study</h2>

<section id="A2.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Setup.</h5>

<div id="A2.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="A2.SS0.SSS0.Px1.p1.1" class="ltx_p">We conduct ablation studies mainly with respect to fidelity and report the FID and COCO-style mAP following the exact same setting in Sec. <a href="#S4.SS2.SSS1" title="4.2.1 Fidelity ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.1</span></a>.
Specifically, the input resolution is set to be 800<math id="A2.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A2.SS0.SSS0.Px1.p1.1.m1.1a"><mo id="A2.SS0.SSS0.Px1.p1.1.m1.1.1" xref="A2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.SS0.SSS0.Px1.p1.1.m1.1b"><times id="A2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="A2.SS0.SSS0.Px1.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.SS0.SSS0.Px1.p1.1.m1.1c">\times</annotation></semantics></math>456, and our <span id="A2.SS0.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> is fine-tuned for 64 epochs on the NuImages training set.
The optimization recipe is maintained the same with Sec. <a href="#S4.SS1" title="4.1 Implementation Details ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Pre-trained text encoder.</h5>

<div id="A2.SS0.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="A2.SS0.SSS0.Px2.p1.1" class="ltx_p">To verify the necessity of using the pre-trained text encoder, we only initialize the VQ-VAE and U-Net with Stable Diffusion, while randomly initializing the parameters of the text encoder for comparison following the official implementation of LDM.
As demonstrated in Tab. <a href="#A3.T9" title="Table 9 ‣ More generalizability analysis. ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>, the default <span id="A2.SS0.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> significantly surpasses the variant without the pre-trained text encoder by 4.82 FID and 14.2 mAP,
suggesting that with a proper “translation”, the pre-trained text encoder indeed possesses transferability to encode geometric conditions and enable T2I diffusion models for high-quality object detection data generation.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Foreground prior re-weighting.</h5>

<div id="A2.SS0.SSS0.Px3.p1" class="ltx_para ltx_noindent">
<p id="A2.SS0.SSS0.Px3.p1.1" class="ltx_p">In Tab. <a href="#A3.T9" title="Table 9 ‣ More generalizability analysis. ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>, we study the effect of foreground re-weighting.
Adopting the constant re-weighting obtains a significant +3.4 mAP improvement (27.1 <em id="A2.SS0.SSS0.Px3.p1.1.1" class="ltx_emph ltx_font_italic">vs.</em> 23.7), which further increases to 30.1 mAP with the help of area re-weighting, revealing that foreground modeling is essential for object detection data generation.
Note that the mAP improvement comes at a cost of a minor FID increase (11.99 <em id="A2.SS0.SSS0.Px3.p1.1.2" class="ltx_emph ltx_font_italic">vs.</em> 11.63) since we manually adjust the prior distribution over spatial locations.
We further verify the effectiveness of mask normalization in Eqn. <a href="#S3.E6" title="In Area re-weighting. ‣ 3.3 Foreground Prior Re-weighting ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, which can significantly decrease FID while maintaining the mAP value almost unchanged (5th &amp; 7th rows), suggesting that mask normalization is mainly beneficial for fine-tuning the diffusion models after foreground re-weighting.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Importance of camera views.</h5>

<div id="A2.SS0.SSS0.Px4.p1" class="ltx_para ltx_noindent">
<p id="A2.SS0.SSS0.Px4.p1.1" class="ltx_p">In this work, camera views are considered as an example to demonstrate that text can be indeed used as a universal encoding for various geometric conditions.
A toy example is provided in Fig. <a href="#S0.F1.sf1" title="In Figure 1 ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1(a)</span></a>, fully proving text indeed has the potential to decouple various conditions with a unified representation.
Moreover, we further build a <span id="A2.SS0.SSS0.Px4.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> <span id="A2.SS0.SSS0.Px4.p1.1.2" class="ltx_text ltx_font_italic">w/o camera views</span>, significantly worse than the default <span id="A2.SS0.SSS0.Px4.p1.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> as shown in Tab. <a href="#A3.T10" title="Table 10 ‣ More generalizability analysis. ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>, revealing the importance of adopting camera views.
Check Fig. <a href="#A5.F9" title="Figure 9 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>
for more qualitative comparison.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px5" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Location tokens.</h5>

<div id="A2.SS0.SSS0.Px5.p1" class="ltx_para ltx_noindent">
<p id="A2.SS0.SSS0.Px5.p1.1" class="ltx_p">As stated in Sec. <a href="#S4.SS1" title="4.1 Implementation Details ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>, location tokens are first initialized with 2D sine-cosine embeddings and then fine-tuned together with the whole model.
We further train a <span id="A2.SS0.SSS0.Px5.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> <span id="A2.SS0.SSS0.Px5.p1.1.2" class="ltx_text ltx_font_italic">with fixed location tokens</span>, which performs worse than the default <span id="A2.SS0.SSS0.Px5.p1.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> as in Tab. <a href="#A3.T10" title="Table 10 ‣ More generalizability analysis. ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>.</p>
</div>
</section>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>More Discussions</h2>

<section id="A3.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">More generalizability analysis.</h5>

<div id="A3.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="A3.SS0.SSS0.Px1.p1.1" class="ltx_p">We first provide more visualization for augmented bounding boxes similar to Sec. <a href="#S4.SS2.SSS3" title="4.2.3 Generalizability ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.3</span></a>.
As shown in Fig. <a href="#A3.F6" title="Figure 6 ‣ Adaptation of the Foreground Re-weighting with existing methods ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>,
<span id="A3.SS0.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> demonstrates superior robustness towards the real-life collected and augmented layouts, convincing us to flexibly perform bounding box augmentation for the more diverse augmented set.</p>
</div>
<div id="A3.SS0.SSS0.Px1.p2" class="ltx_para ltx_noindent">
<p id="A3.SS0.SSS0.Px1.p2.1" class="ltx_p">We further explore the generalizability for totally out-of-distribution (OoD) layouts (<span id="A3.SS0.SSS0.Px1.p2.1.1" class="ltx_text ltx_font_italic">i.e</span>.<span id="A3.SS0.SSS0.Px1.p2.1.2" class="ltx_text"></span>, unseen boxes and classes) in Fig. <a href="#A3.F7" title="Figure 7 ‣ Adaptation of the Foreground Re-weighting with existing methods ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.
<span id="A3.SS0.SSS0.Px1.p2.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> performs surprisingly well for OoD bounding boxes (<span id="A3.SS0.SSS0.Px1.p2.1.4" class="ltx_text ltx_font_italic">e.g</span>.<span id="A3.SS0.SSS0.Px1.p2.1.5" class="ltx_text"></span>, unusually large bounding boxes with only one object in an entire image) as in Fig. <a href="#A3.F7.sf1" title="In Figure 7 ‣ Adaptation of the Foreground Re-weighting with existing methods ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7(a)</span></a>, but still suffers from unseen classes as in Fig. <a href="#A3.F7.sf2" title="In Figure 7 ‣ Adaptation of the Foreground Re-weighting with existing methods ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7(b)</span></a>, probably due to the inevitable forgetting during fine-tuning.
Parameter-efficient fine-tuning (PEFT) <cite class="ltx_cite ltx_citemacro_citep">(Cheng et al., <a href="#bib.bib8" title="" class="ltx_ref">2023</a>; Li et al., <a href="#bib.bib29" title="" class="ltx_ref">2023b</a>)</cite> might ease the problem but at a cost of generation quality as shown in Tab. <a href="#S4.T6" title="Table 6 ‣ Inpainting. ‣ 4.3 Universality ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.
Considering our focus is to generate high-quality detection data to augment real data, fidelity, and trainability are considered as the primary criteria in this work.</p>
</div>
<figure id="A3.T9" class="ltx_table">
<table id="A3.T9.4.4" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A3.T9.4.4.4" class="ltx_tr">
<td id="A3.T9.4.4.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:6.0pt;padding-right:6.0pt;">Pre-trained text encoder</td>
<td id="A3.T9.1.1.1.1" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:6.0pt;padding-right:6.0pt;">Constant <math id="A3.T9.1.1.1.1.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="A3.T9.1.1.1.1.m1.1a"><mi id="A3.T9.1.1.1.1.m1.1.1" xref="A3.T9.1.1.1.1.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="A3.T9.1.1.1.1.m1.1b"><ci id="A3.T9.1.1.1.1.m1.1.1.cmml" xref="A3.T9.1.1.1.1.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.1.1.1.1.m1.1c">w</annotation></semantics></math>
</td>
<td id="A3.T9.2.2.2.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:6.0pt;padding-right:6.0pt;">Area <math id="A3.T9.2.2.2.2.m1.1" class="ltx_Math" alttext="p" display="inline"><semantics id="A3.T9.2.2.2.2.m1.1a"><mi id="A3.T9.2.2.2.2.m1.1.1" xref="A3.T9.2.2.2.2.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="A3.T9.2.2.2.2.m1.1b"><ci id="A3.T9.2.2.2.2.m1.1.1.cmml" xref="A3.T9.2.2.2.2.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.2.2.2.2.m1.1c">p</annotation></semantics></math>
</td>
<td id="A3.T9.4.4.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:6.0pt;padding-right:6.0pt;">Norm</td>
<td id="A3.T9.3.3.3.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:6.0pt;padding-right:6.0pt;">FID<math id="A3.T9.3.3.3.3.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="A3.T9.3.3.3.3.m1.1a"><mo stretchy="false" id="A3.T9.3.3.3.3.m1.1.1" xref="A3.T9.3.3.3.3.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="A3.T9.3.3.3.3.m1.1b"><ci id="A3.T9.3.3.3.3.m1.1.1.cmml" xref="A3.T9.3.3.3.3.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.3.3.3.3.m1.1c">\downarrow</annotation></semantics></math>
</td>
<td id="A3.T9.4.4.4.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:6.0pt;padding-right:6.0pt;">mAP <math id="A3.T9.4.4.4.4.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="A3.T9.4.4.4.4.m1.1a"><mo stretchy="false" id="A3.T9.4.4.4.4.m1.1.1" xref="A3.T9.4.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A3.T9.4.4.4.4.m1.1b"><ci id="A3.T9.4.4.4.4.m1.1.1.cmml" xref="A3.T9.4.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.4.4.4.4.m1.1c">\uparrow</annotation></semantics></math>
</td>
</tr>
<tr id="A3.T9.4.4.5.1" class="ltx_tr">
<td id="A3.T9.4.4.5.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">✗</td>
<td id="A3.T9.4.4.5.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">1.0 (no re-weight)</td>
<td id="A3.T9.4.4.5.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">0</td>
<td id="A3.T9.4.4.5.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.5.1.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">16.45</td>
<td id="A3.T9.4.4.5.1.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">9.5</td>
</tr>
<tr id="A3.T9.4.4.6.2" class="ltx_tr">
<td id="A3.T9.4.4.6.2.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.6.2.2" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">1.0 (no re-weight)</td>
<td id="A3.T9.4.4.6.2.3" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">0</td>
<td id="A3.T9.4.4.6.2.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.6.2.5" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;"><span id="A3.T9.4.4.6.2.5.1" class="ltx_text ltx_font_bold">11.63</span></td>
<td id="A3.T9.4.4.6.2.6" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">23.7</td>
</tr>
<tr id="A3.T9.4.4.7.3" class="ltx_tr">
<td id="A3.T9.4.4.7.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.7.3.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">2.0</td>
<td id="A3.T9.4.4.7.3.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">0</td>
<td id="A3.T9.4.4.7.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.7.3.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">11.77</td>
<td id="A3.T9.4.4.7.3.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">27.1</td>
</tr>
<tr id="A3.T9.4.4.8.4" class="ltx_tr">
<td id="A3.T9.4.4.8.4.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.8.4.2" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">4.0</td>
<td id="A3.T9.4.4.8.4.3" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">0</td>
<td id="A3.T9.4.4.8.4.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.8.4.5" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">12.90</td>
<td id="A3.T9.4.4.8.4.6" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">26.2</td>
</tr>
<tr id="A3.T9.4.4.9.5" class="ltx_tr">
<td id="A3.T9.4.4.9.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.9.5.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;"><span id="A3.T9.4.4.9.5.2.1" class="ltx_text ltx_font_bold">2.0</span></td>
<td id="A3.T9.4.4.9.5.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;"><span id="A3.T9.4.4.9.5.3.1" class="ltx_text ltx_font_bold">0.2</span></td>
<td id="A3.T9.4.4.9.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.9.5.5" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E6E6E6;padding-left:6.0pt;padding-right:6.0pt;"><span id="A3.T9.4.4.9.5.5.1" class="ltx_text" style="background-color:#E6E6E6;">11.99</span></td>
<td id="A3.T9.4.4.9.5.6" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E6E6E6;padding-left:6.0pt;padding-right:6.0pt;"><span id="A3.T9.4.4.9.5.6.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">30.1</span></td>
</tr>
<tr id="A3.T9.4.4.10.6" class="ltx_tr">
<td id="A3.T9.4.4.10.6.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.10.6.2" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">2.0</td>
<td id="A3.T9.4.4.10.6.3" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">0.4</td>
<td id="A3.T9.4.4.10.6.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.10.6.5" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">14.99</td>
<td id="A3.T9.4.4.10.6.6" class="ltx_td ltx_align_center" style="padding-left:6.0pt;padding-right:6.0pt;">28.3</td>
</tr>
<tr id="A3.T9.4.4.11.7" class="ltx_tr">
<td id="A3.T9.4.4.11.7.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">✓</td>
<td id="A3.T9.4.4.11.7.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">2.0</td>
<td id="A3.T9.4.4.11.7.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">0.2</td>
<td id="A3.T9.4.4.11.7.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">✗</td>
<td id="A3.T9.4.4.11.7.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">14.76</td>
<td id="A3.T9.4.4.11.7.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:6.0pt;padding-right:6.0pt;">29.8</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 9: </span><span id="A3.T9.7.1" class="ltx_text ltx_font_bold">Ablations on the text encoder and foreground re-weighting.</span>
The best result is achieved when both constant and area re-weighting are adopted.
Default settings are marked in <span id="A3.T9.8.2" class="ltx_text" style="background-color:#E6E6E6;">gray</span>.
</figcaption>
</figure>
<figure id="A3.T10" class="ltx_table">
<table id="A3.T10.2.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T10.2.2.2" class="ltx_tr">
<th id="A3.T10.2.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:14.2pt;padding-right:14.2pt;">Camera views</th>
<th id="A3.T10.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:14.2pt;padding-right:14.2pt;">Learned Location Token</th>
<th id="A3.T10.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:14.2pt;padding-right:14.2pt;">FID<math id="A3.T10.1.1.1.1.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="A3.T10.1.1.1.1.m1.1a"><mo stretchy="false" id="A3.T10.1.1.1.1.m1.1.1" xref="A3.T10.1.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="A3.T10.1.1.1.1.m1.1b"><ci id="A3.T10.1.1.1.1.m1.1.1.cmml" xref="A3.T10.1.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.1.1.1.1.m1.1c">\downarrow</annotation></semantics></math>
</th>
<th id="A3.T10.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:14.2pt;padding-right:14.2pt;">mAP <math id="A3.T10.2.2.2.2.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="A3.T10.2.2.2.2.m1.1a"><mo stretchy="false" id="A3.T10.2.2.2.2.m1.1.1" xref="A3.T10.2.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A3.T10.2.2.2.2.m1.1b"><ci id="A3.T10.2.2.2.2.m1.1.1.cmml" xref="A3.T10.2.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.2.2.2.2.m1.1c">\uparrow</annotation></semantics></math>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T10.2.2.3.1" class="ltx_tr">
<th id="A3.T10.2.2.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:14.2pt;padding-right:14.2pt;">✓</th>
<th id="A3.T10.2.2.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:14.2pt;padding-right:14.2pt;">✓</th>
<td id="A3.T10.2.2.3.1.3" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E6E6E6;padding-left:14.2pt;padding-right:14.2pt;"><span id="A3.T10.2.2.3.1.3.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">10.99</span></td>
<td id="A3.T10.2.2.3.1.4" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E6E6E6;padding-left:14.2pt;padding-right:14.2pt;"><span id="A3.T10.2.2.3.1.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">34.5</span></td>
</tr>
<tr id="A3.T10.2.2.4.2" class="ltx_tr">
<th id="A3.T10.2.2.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:14.2pt;padding-right:14.2pt;">✗</th>
<th id="A3.T10.2.2.4.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:14.2pt;padding-right:14.2pt;">✓</th>
<td id="A3.T10.2.2.4.2.3" class="ltx_td ltx_align_center" style="padding-left:14.2pt;padding-right:14.2pt;">11.95</td>
<td id="A3.T10.2.2.4.2.4" class="ltx_td ltx_align_center" style="padding-left:14.2pt;padding-right:14.2pt;">31.0</td>
</tr>
<tr id="A3.T10.2.2.5.3" class="ltx_tr">
<th id="A3.T10.2.2.5.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-left:14.2pt;padding-right:14.2pt;">✓</th>
<th id="A3.T10.2.2.5.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-left:14.2pt;padding-right:14.2pt;">✗</th>
<td id="A3.T10.2.2.5.3.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:14.2pt;padding-right:14.2pt;">14.36</td>
<td id="A3.T10.2.2.5.3.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:14.2pt;padding-right:14.2pt;">27.7</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 10: </span><span id="A3.T10.5.1" class="ltx_text ltx_font_bold">Ablations on camera views and location tokens.</span>
Default settings are marked in <span id="A3.T10.6.2" class="ltx_text" style="background-color:#E6E6E6;">gray</span>.
</figcaption>
</figure>
</section>
<section id="A3.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Advantage over ControlNet</h5>

<div id="A3.SS0.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="A3.SS0.SSS0.Px2.p1.1" class="ltx_p">mainly lies in the simplicity of <span id="A3.SS0.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> emerging especially when extended to multi-conditional generation, where usually more than 3 conditions are considered for a single generative model simultaneously (<span id="A3.SS0.SSS0.Px2.p1.1.2" class="ltx_text ltx_font_italic">e.g</span>.<span id="A3.SS0.SSS0.Px2.p1.1.3" class="ltx_text"></span>, 3D geometric controls <cite class="ltx_cite ltx_citemacro_citep">(Gao et al., <a href="#bib.bib11" title="" class="ltx_ref">2023</a>)</cite>, multi-object tracking <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib28" title="" class="ltx_ref">2023a</a>)</cite> and the implicit concept removal <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a href="#bib.bib35" title="" class="ltx_ref">2023</a>)</cite>).
Different from ControlNet <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a href="#bib.bib55" title="" class="ltx_ref">2023</a>)</cite> requiring <span id="A3.SS0.SSS0.Px2.p1.1.4" class="ltx_text ltx_font_italic">different copies of parameters for different conditions</span>, our
<span id="A3.SS0.SSS0.Px2.p1.1.5" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> utilizes the text prompt as a <span id="A3.SS0.SSS0.Px2.p1.1.6" class="ltx_text ltx_font_italic">shared and universal encoding</span> of the various geometric controls (as shown in Fig. <a href="#A5.F9" title="Figure 9 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>), which is more scalable, deployable, and computationally efficient.</p>
</div>
</section>
<section id="A3.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Advantage over methods with more complicated designs</h5>

<div id="A3.SS0.SSS0.Px3.p1" class="ltx_para ltx_noindent">
<p id="A3.SS0.SSS0.Px3.p1.1" class="ltx_p">contains three perspectives, including:
<span id="A3.SS0.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_bold">1) Utilization of foundational pre-trained models.</span>
Unlike GAN-based methods, <span id="A3.SS0.SSS0.Px3.p1.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> leverages large-scale pre-trained text-to-image diffusion models (<span id="A3.SS0.SSS0.Px3.p1.1.3" class="ltx_text ltx_font_italic">e.g</span>.<span id="A3.SS0.SSS0.Px3.p1.1.4" class="ltx_text"></span>, Stable Diffusion), enabling the generation of highly realistic and diverse detection data, which is crucial for data augmentation.
<span id="A3.SS0.SSS0.Px3.p1.1.5" class="ltx_text ltx_font_bold">2) Transferability of the text encoder.</span>
Different from existing methods (<span id="A3.SS0.SSS0.Px3.p1.1.6" class="ltx_text ltx_font_italic">e.g</span>.<span id="A3.SS0.SSS0.Px3.p1.1.7" class="ltx_text"></span>, GLIGEN <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib29" title="" class="ltx_ref">2023b</a>)</cite>) requiring specifically designed bounding box encoding modules and training the parameters from scratch, <span id="A3.SS0.SSS0.Px3.p1.1.8" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> capitalizes on the transferability of text encoder (verified in Tab. <a href="#A3.T10" title="Table 10 ‣ More generalizability analysis. ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>, Rows 1 and 2), empowering more efficient adaptation and decreased need for the annotated training data, which is particularly beneficial for long-tailed classes with scarce data annotation.
Specifically, <span id="A3.SS0.SSS0.Px3.p1.1.9" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> shows remarkable improvement in rare classes compared to GLIGEN, achieving <span id="A3.SS0.SSS0.Px3.p1.1.10" class="ltx_text ltx_font_bold">+11.9</span> and <span id="A3.SS0.SSS0.Px3.p1.1.11" class="ltx_text ltx_font_bold">+15.0</span> mAP for trailers and construction respectively, the Top-2 rare classes on NuImages, as reported in Tab. <a href="#S4.T2" title="Table 2 ‣ Dataset. ‣ 4.1 Implementation Details ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
<span id="A3.SS0.SSS0.Px3.p1.1.12" class="ltx_text ltx_font_bold">3) Usage of foreground prior re-weighting,</span> which significantly enhances the generation performance of foreground objects, as evident in Tab. <a href="#A3.T10" title="Table 10 ‣ More generalizability analysis. ‣ Appendix C More Discussions ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> (Rows 2 and 5).</p>
</div>
</section>
<section id="A3.SS0.SSS0.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Location translation via text.</h5>

<div id="A3.SS0.SSS0.Px4.p1" class="ltx_para ltx_noindent">
<p id="A3.SS0.SSS0.Px4.p1.1" class="ltx_p">Although seeming cumbersome, the main purpose is to adopt <span id="A3.SS0.SSS0.Px4.p1.1.1" class="ltx_text ltx_font_bold">text as a universal encoding</span> for various geometric conditions and empower pre-trained T2I DMs for detection data generation, which, however, might not support the dense pixel-level semantic control currently (<span id="A3.SS0.SSS0.Px4.p1.1.2" class="ltx_text ltx_font_italic">e.g</span>.<span id="A3.SS0.SSS0.Px4.p1.1.3" class="ltx_text"></span>, mask-to-image generation).</p>
</div>
</section>
<section id="A3.SS0.SSS0.Px5" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Extendibility.</h5>

<div id="A3.SS0.SSS0.Px5.p1" class="ltx_para ltx_noindent">
<p id="A3.SS0.SSS0.Px5.p1.1" class="ltx_p">Thus, <span id="A3.SS0.SSS0.Px5.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can be extended to other descriptions as long as they can be discretized (<span id="A3.SS0.SSS0.Px5.p1.1.2" class="ltx_text ltx_font_italic">e.g</span>.<span id="A3.SS0.SSS0.Px5.p1.1.3" class="ltx_text"></span>, locations) or represented by text prompts (<span id="A3.SS0.SSS0.Px5.p1.1.4" class="ltx_text ltx_font_italic">e.g</span>.<span id="A3.SS0.SSS0.Px5.p1.1.5" class="ltx_text"></span>, car colors).</p>
</div>
</section>
<section id="A3.SS0.SSS0.Px6" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Adaptation of the Foreground Re-weighting with existing methods</h5>

<div id="A3.SS0.SSS0.Px6.p1" class="ltx_para ltx_noindent">
<p id="A3.SS0.SSS0.Px6.p1.1" class="ltx_p">can be beneficial if applicable.
However, existing methods utilize specific modules to encoder layouts (<span id="A3.SS0.SSS0.Px6.p1.1.1" class="ltx_text ltx_font_italic">e.g</span>.<span id="A3.SS0.SSS0.Px6.p1.1.2" class="ltx_text"></span>, RoI Align to take foreground features only in LAMA), suggesting that specific designs might still be required for the adaptation, which is beyond the scope of this work.</p>
</div>
<figure id="A3.F6" class="ltx_figure"><img src="/html/2306.04607/assets/x8.png" id="A3.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="207" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span><span id="A3.F6.3.1" class="ltx_text ltx_font_bold">More visualization of generation generalizability for augmented bounding boxes</span>.
<span id="A3.F6.4.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> demonstrates superior performance for real-life collected and augmented layouts, consistently with what we have observed in Fig. <a href="#S4.F4" title="Figure 4 ‣ Discussion. ‣ 4.2.2 Trainability ‣ 4.2 Main Results ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
</figcaption>
</figure>
<figure id="A3.F7" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A3.F7.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x9.png" id="A3.F7.sf1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="77" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span><span id="A3.F7.sf1.2.1" class="ltx_text ltx_font_bold">Out-of-distribution bounding boxes.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A3.F7.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x10.png" id="A3.F7.sf2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="67" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span><span id="A3.F7.sf2.2.1" class="ltx_text ltx_font_bold">Out-of-distribution classes.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span><span id="A3.F7.6.1" class="ltx_text ltx_font_bold">More visualization of generation generalizability for totally out-of-distribution layouts.</span>
Our <span id="A3.F7.7.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> demonstrates strong robustness towards (a) OoD bounding boxes, but suffers from (b) unseen classes (<span id="A3.F7.8.3" class="ltx_text ltx_font_italic">i.e</span>.<span id="A3.F7.9.4" class="ltx_text"></span>, <span id="A3.F7.10.5" class="ltx_text ltx_font_italic">dog, cat and tiger</span>) during fine-tuning.
</figcaption>
</figure>
</section>
<section id="A3.SS0.SSS0.Px7" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Limitation.</h5>

<div id="A3.SS0.SSS0.Px7.p1" class="ltx_para ltx_noindent">
<p id="A3.SS0.SSS0.Px7.p1.1" class="ltx_p">We notice that the <span id="A3.SS0.SSS0.Px7.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>-generated images by now can only contribute as augmented samples to train object detectors together with the real images.
It is appealing to train detectors with generated images solely, and we will explore it in the future work.
We hope that our simple yet effective method can bring researchers’ attention to large-scale object detection <span id="A3.SS0.SSS0.Px7.p1.1.2" class="ltx_text ltx_font_italic">dataset</span> generation with more flexible and controllable generative models.
The incorporation among <span id="A3.SS0.SSS0.Px7.p1.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> with the annotation generation <cite class="ltx_cite ltx_citemacro_citep">(Reza et al., <a href="#bib.bib43" title="" class="ltx_ref">2019</a>; <a href="#bib.bib44" title="" class="ltx_ref">2020</a>)</cite> and even perception-based methods <cite class="ltx_cite ltx_citemacro_citep">(Wu et al., <a href="#bib.bib53" title="" class="ltx_ref">2023</a>; Li et al., <a href="#bib.bib31" title="" class="ltx_ref">2023c</a>)</cite> is also appealing, which will be explored in the future.</p>
</div>
<div id="A3.SS0.SSS0.Px7.p2" class="ltx_para ltx_noindent">
<p id="A3.SS0.SSS0.Px7.p2.1" class="ltx_p">Meanwhile, more flexible usage of the generated images beyond data augmentation, especially incorporation with generative pre-training <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a href="#bib.bib5" title="" class="ltx_ref">2023a</a>; Zhili et al., <a href="#bib.bib58" title="" class="ltx_ref">2023</a>)</cite>, contrastive learning <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a href="#bib.bib4" title="" class="ltx_ref">2021a</a>; Liu et al., <a href="#bib.bib34" title="" class="ltx_ref">2022b</a>)</cite>, is also an appealing future research direction.</p>
</div>
</section>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>More Applications</h2>

<section id="A4.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Camera views</h5>

<div id="A4.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="A4.SS0.SSS0.Px1.p1.1" class="ltx_p">are introduced in <span id="A4.SS0.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> primarily to demonstrate that text prompts can serve as a unified representation for various geometric conditions, facilitating independent manipulation without interdependencies.
As illustrated in Fig. <a href="#A5.F9" title="Figure 9 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>, simply converting the camera view tokens “<span id="A4.SS0.SSS0.Px1.p1.1.2" class="ltx_text ltx_font_typewriter">{view}</span>” can effectively generate images from different camera views while maintaining semantic consistency, revealing <span id="A4.SS0.SSS0.Px1.p1.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span>’s flexible ability to handle various geometric conditions.</p>
</div>
</section>
<section id="A4.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Domain adaptation</h5>

<div id="A4.SS0.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="A4.SS0.SSS0.Px2.p1.1" class="ltx_p">among different weather conditions and times of day can be supported simply by integrating the extra conditions into the text prompts as, “<span id="A4.SS0.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_typewriter">A {weather} {time} image of {view} camera with {bboxes}</span>”.
Fig. <a href="#A5.F10" title="Figure 10 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> showcases the capability of our <span id="A4.SS0.SSS0.Px2.p1.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> to flexibly adapt between daytime, rainy and night scenes.</p>
</div>
</section>
<section id="A4.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Long-tailed generation.</h5>

<div id="A4.SS0.SSS0.Px3.p1" class="ltx_para ltx_noindent">
<p id="A4.SS0.SSS0.Px3.p1.1" class="ltx_p">We further train a <span id="A4.SS0.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> on the challenging LVIS <cite class="ltx_cite ltx_citemacro_citep">(Gupta et al., <a href="#bib.bib16" title="" class="ltx_ref">2019</a>)</cite> dataset, an extremely long-tailed scenario, with the exact same optimization recipe with the COCO-Stuff as in Sec. <a href="#S4.SS3" title="4.3 Universality ‣ 4 Experiments ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>, and provide a qualitative evaluation in Fig. <a href="#A5.F13" title="Figure 13 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>, where the annotations of <span id="A4.SS0.SSS0.Px3.p1.1.2" class="ltx_text ltx_font_bold">“rare classes”</span> are highlighted in the images.
As shown in Fig. <a href="#A5.F13" title="Figure 13 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>, <span id="A4.SS0.SSS0.Px3.p1.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> demonstrates superior generation capabilities even for the long-tailed rare classes.</p>
</div>
</section>
<section id="A4.SS0.SSS0.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">3D geometric controls</h5>

<div id="A4.SS0.SSS0.Px4.p1" class="ltx_para ltx_noindent">
<p id="A4.SS0.SSS0.Px4.p1.3" class="ltx_p">(<span id="A4.SS0.SSS0.Px4.p1.3.1" class="ltx_text ltx_font_italic">e.g</span>.<span id="A4.SS0.SSS0.Px4.p1.3.2" class="ltx_text"></span>, 3D locations, depth and angles) can be supported in <span id="A4.SS0.SSS0.Px4.p1.3.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> by projecting 3D bounding boxes into the 2D image planes.
Specifically, the 3D LiDAR coordinates of all corners of the 3D bounding boxes are first projected into the 2D image plane as <math id="A4.SS0.SSS0.Px4.p1.1.m1.1" class="ltx_Math" alttext="\{(x_{i},y_{i})\}_{i=1}^{8}" display="inline"><semantics id="A4.SS0.SSS0.Px4.p1.1.m1.1a"><msubsup id="A4.SS0.SSS0.Px4.p1.1.m1.1.1" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.cmml"><mrow id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.2" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.2.cmml">{</mo><mrow id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.3" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.3.cmml">(</mo><msub id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.2" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.3" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.4" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.3.cmml">,</mo><msub id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.cmml"><mi id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.2" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.2.cmml">y</mi><mi id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.3" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.5" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo stretchy="false" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.3" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.cmml"><mi id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.2" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.2.cmml">i</mi><mo id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.1" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.1.cmml">=</mo><mn id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.3" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.3.cmml">1</mn></mrow><mn id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.3" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.3.cmml">8</mn></msubsup><annotation-xml encoding="MathML-Content" id="A4.SS0.SSS0.Px4.p1.1.m1.1b"><apply id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.2.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1">superscript</csymbol><apply id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.2.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1">subscript</csymbol><set id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.2.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1"><interval closure="open" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.3.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2"><apply id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.1.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.2.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.2">𝑦</ci><ci id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.3.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.1.2.2.3">𝑖</ci></apply></interval></set><apply id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3"><eq id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.1.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.1"></eq><ci id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.2.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.2">𝑖</ci><cn type="integer" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.3.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.1.3.3">1</cn></apply></apply><cn type="integer" id="A4.SS0.SSS0.Px4.p1.1.m1.1.1.3.cmml" xref="A4.SS0.SSS0.Px4.p1.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS0.SSS0.Px4.p1.1.m1.1c">\{(x_{i},y_{i})\}_{i=1}^{8}</annotation></semantics></math>, where <math id="A4.SS0.SSS0.Px4.p1.2.m2.2" class="ltx_Math" alttext="(x_{i},y_{i})" display="inline"><semantics id="A4.SS0.SSS0.Px4.p1.2.m2.2a"><mrow id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.3.cmml"><mo stretchy="false" id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.3" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.3.cmml">(</mo><msub id="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1" xref="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.cmml"><mi id="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.2" xref="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.2.cmml">x</mi><mi id="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.3" xref="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.4" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.3.cmml">,</mo><msub id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.cmml"><mi id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.2" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.2.cmml">y</mi><mi id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.3" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.5" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.SS0.SSS0.Px4.p1.2.m2.2b"><interval closure="open" id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.3.cmml" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2"><apply id="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.cmml" xref="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.1.cmml" xref="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1">subscript</csymbol><ci id="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.2.cmml" xref="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.2">𝑥</ci><ci id="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.3.cmml" xref="A4.SS0.SSS0.Px4.p1.2.m2.1.1.1.1.3">𝑖</ci></apply><apply id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.cmml" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.1.cmml" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2">subscript</csymbol><ci id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.2.cmml" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.2">𝑦</ci><ci id="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.3.cmml" xref="A4.SS0.SSS0.Px4.p1.2.m2.2.2.2.2.3">𝑖</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="A4.SS0.SSS0.Px4.p1.2.m2.2c">(x_{i},y_{i})</annotation></semantics></math> denotes the projected <math id="A4.SS0.SSS0.Px4.p1.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="A4.SS0.SSS0.Px4.p1.3.m3.1a"><mi id="A4.SS0.SSS0.Px4.p1.3.m3.1.1" xref="A4.SS0.SSS0.Px4.p1.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="A4.SS0.SSS0.Px4.p1.3.m3.1b"><ci id="A4.SS0.SSS0.Px4.p1.3.m3.1.1.cmml" xref="A4.SS0.SSS0.Px4.p1.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS0.SSS0.Px4.p1.3.m3.1c">i</annotation></semantics></math>-th corner of the given 3D bounding box, and then discretized and encoded separately following the exact same manner with Sec. <a href="#S3.SS2" title="3.2 Geometric Conditions as a Foreign Language ‣ 3 Method ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>.
Note that different from the 2D scenario, a 3D bounding box is determined by 8 corners.
Thus, <span id="A4.SS0.SSS0.Px4.p1.3.4" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can control the <span id="A4.SS0.SSS0.Px4.p1.3.5" class="ltx_text ltx_font_italic">3D locations</span> and <span id="A4.SS0.SSS0.Px4.p1.3.6" class="ltx_text ltx_font_italic">depth</span> with the same text-prompted geometric controls, as demonstrated in Fig. <a href="#A5.F11" title="Figure 11 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>, while <span id="A4.SS0.SSS0.Px4.p1.3.7" class="ltx_text ltx_font_italic">angles</span> can be supported simply by <span id="A4.SS0.SSS0.Px4.p1.3.8" class="ltx_text ltx_font_bold">reversing</span> the encoding order of the 8 corners into the text prompts to change the object orientation, as shown in Fig. <a href="#A5.F11" title="Figure 11 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a> (4th column).
We will support more 3D geometric controls in the future work.</p>
</div>
</section>
</section>
<section id="A5" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>More Qualitative Comparison</h2>

<div id="A5.p1" class="ltx_para ltx_noindent">
<p id="A5.p1.1" class="ltx_p">We provide more qualitative comparison on NuImages, COCO-Stuff and LVIS datasets in Fig. <a href="#A5.F8" title="Figure 8 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>-<a href="#A5.F13" title="Figure 13 ‣ Appendix E More Qualitative Comparison ‣ GeoDiffusion: Text-Prompted Geometric Control for Object Detection Data Generation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>.</p>
</div>
<figure id="A5.F8" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F8.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x11.png" id="A5.F8.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="206" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F8.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x12.png" id="A5.F8.2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="196" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F8.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x13.png" id="A5.F8.3.g1" class="ltx_graphics ltx_img_landscape" width="461" height="195" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span><span id="A5.F8.5.1" class="ltx_text ltx_font_bold">More qualitative comparison on the NuImages <cite class="ltx_cite ltx_citemacro_citep">(Caesar et al., <a href="#bib.bib3" title="" class="ltx_ref">2020</a>)</cite> dataset</span>.
</figcaption>
</figure>
<figure id="A5.F9" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F9.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x14.png" id="A5.F9.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="207" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F9.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x15.png" id="A5.F9.2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="198" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F9.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x16.png" id="A5.F9.3.g1" class="ltx_graphics ltx_img_landscape" width="461" height="200" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>
<span id="A5.F9.5.1" class="ltx_text" style="color:#000000;">
<span id="A5.F9.5.1.1" class="ltx_text ltx_font_bold">More qualitative comparison for camera-dependent generation on NuImages <cite class="ltx_cite ltx_citemacro_citep">(Caesar et al., <a href="#bib.bib3" title="" class="ltx_ref">2020</a>)</cite> dataset</span>.
</span>
</figcaption>
</figure>
<figure id="A5.F10" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F10.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x17.png" id="A5.F10.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="210" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F10.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x18.png" id="A5.F10.2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="199" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F10.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x19.png" id="A5.F10.3.g1" class="ltx_graphics ltx_img_landscape" width="461" height="200" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>
<span id="A5.F10.5.1" class="ltx_text" style="color:#000000;">
<span id="A5.F10.5.1.1" class="ltx_text ltx_font_bold">More qualitative comparison for the weather and time day control generation on the NuImages <cite class="ltx_cite ltx_citemacro_citep">(Caesar et al., <a href="#bib.bib3" title="" class="ltx_ref">2020</a>)</cite> dataset</span>.
</span>
</figcaption>
</figure>
<figure id="A5.F11" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F11.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x20.png" id="A5.F11.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="205" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F11.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x21.png" id="A5.F11.2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="197" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F11.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x22.png" id="A5.F11.3.g1" class="ltx_graphics ltx_img_landscape" width="461" height="196" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 11: </span>
<span id="A5.F11.5.1" class="ltx_text" style="color:#000000;">
<span id="A5.F11.5.1.1" class="ltx_text ltx_font_bold">More qualitative comparison for the 3D geometric controls on the NuScenes <cite class="ltx_cite ltx_citemacro_citep">(Caesar et al., <a href="#bib.bib3" title="" class="ltx_ref">2020</a>)</cite> dataset</span>.
</span>
</figcaption>
</figure>
<figure id="A5.F12" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F12.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x23.png" id="A5.F12.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="166" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F12.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x24.png" id="A5.F12.2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="155" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F12.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x25.png" id="A5.F12.3.g1" class="ltx_graphics ltx_img_landscape" width="461" height="231" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 12: </span><span id="A5.F12.7.1" class="ltx_text ltx_font_bold">More qualitative comparison on the COCO-Stuff <cite class="ltx_cite ltx_citemacro_citep">(Caesar et al., <a href="#bib.bib2" title="" class="ltx_ref">2018</a>)</cite> dataset</span>.
Our <span id="A5.F12.8.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can successfully deal with both outdoor (1st-4th rows) and indoor (5th-7th rows) scenes, while demonstrating significant fidelity and diversity (4th-6th columns are generated images by <span id="A5.F12.9.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> under three different random seeds).
</figcaption>
</figure>
<figure id="A5.F13" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F13.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x26.png" id="A5.F13.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="248" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A5.F13.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2306.04607/assets/x27.png" id="A5.F13.2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="238" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 13: </span>
<span id="A5.F13.4.1" class="ltx_text" style="color:#000000;">
<span id="A5.F13.4.1.1" class="ltx_text ltx_font_bold">More qualitative comparison on the LVIS <cite class="ltx_cite ltx_citemacro_citep">(Gupta et al., <a href="#bib.bib16" title="" class="ltx_ref">2019</a>)</cite> dataset</span>.
Within each group, we demonstrate the input layouts (left), the ground truth images (middle) and the generated images by <span id="A5.F13.4.1.2" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> (right).
We also highlight the annotations of long-tail rare classes on the images.
Our <span id="A5.F13.4.1.3" class="ltx_text ltx_font_smallcaps">GeoDiffusion</span> can successfully generate highly realistic images consistent with the given layouts, even for the long-tail rare classes.
</span>
</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2306.04606" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2306.04607" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2306.04607">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2306.04607" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2306.04608" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Feb 29 01:57:08 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
