<!DOCTYPE html><html lang="en" data-theme="light"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution</title>
<!--Generated on Sat Oct  5 05:57:29 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css">




<base href="https://arxiv.org/html/2410.04047v1/"><link rel="stylesheet" href="https://use.typekit.net/rwr5zpx.css"><link rel="icon" type="image/png" href="https://static.arxiv.org/static/browse/0.3.4/images/icons/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="https://static.arxiv.org/static/browse/0.3.4/images/icons/favicon-32x32.png" sizes="32x32"></head>
<body><header class="mob_header">
    <div class="html-header-logo">
      <a href="https://arxiv.org/">
        <img alt="logo" class="logomark" role="presentation" width="100" src="https://services.dev.arxiv.org/html/static/arxiv-logomark-small-white.svg">
        <span class="sr-only">Back to arXiv</span>
      </a>
    </div>

    <!--TOC, dark mode, links-->
    <div class="html-header-nav">
      <!--back to abstract-->
      
        <a class="nav-link ar5iv-footer-button hover-effect" aria-label="Back to abstract page" href="https://arxiv.org/abs/2410.04047v1">
        <svg xmlns="http://www.w3.org/2000/svg" height="1.25em" viewBox="0 0 512 512" fill="#ffffff" aria-hidden="true">
            <path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"></path>
        </svg>
        </a>
      <!--dark mode-->
      <a class="ar5iv-toggle-color-scheme" title="Toggle dark/light mode" aria-label="System preference">
        <label id="automatic-tog" class="toggle-icon" title="Switch to light mode" for="__palette_3">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"></path></svg>
        </label>
        
        
      </a>
      <!--nav-->
      <button class="navbar-toggler ar5iv-footer-button" type="button" data-bs-theme="dark" data-bs-toggle="collapse" aria-expanded="false" data-bs-target=".ltx_page_main >.ltx_TOC.mobile" aria-controls="navbarSupportedContent" aria-label="Toggle navigation" style="border:none; margin-right: 0em;">
        <svg xmlns="http://www.w3.org/2000/svg" height="1.25em" viewBox="0 0 448 512" aria-hidden="true" role="img" fill="#ffffff"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"></path></svg>
      </button>
    </div>
    </header><header class="desktop_header">
    <div class="html-header-logo">
      <a href="https://arxiv.org/">
          <img alt="logo" class="logo" role="presentation" width="100" src="https://services.dev.arxiv.org/html/static/arxiv-logo-one-color-white.svg">
          <span class="sr-only">Back to arXiv</span>
      </a>
    </div>
    <div class="html-header-message" role="banner">
        <p>This is <strong>experimental HTML</strong> to improve accessibility. We invite you to report rendering errors. <span class="sr-only">Use Alt+Y to toggle on accessible reporting links and Alt+Shift+Y to toggle off.</span> Learn more <a href="https://info.arxiv.org/about/accessible_HTML.html" target="_blank">about this project</a> and <a href="https://info.arxiv.org/help/submit_latex_best_practices.html" target="_blank">help improve conversions</a>.
        </p>
    </div>
    <nav class="html-header-nav">
      <a class="ar5iv-footer-button hover-effect" href="https://info.arxiv.org/about/accessible_HTML.html" target="_blank">Why HTML?</a>
      <a class="ar5iv-footer-button hover-effect" target="_blank" href="https://arxiv.org/html/2410.04047v1/#myForm">Report Issue</a>
      <a class="ar5iv-footer-button hover-effect" href="https://arxiv.org/abs/2410.04047v1">Back to Abstract</a>
      <a class="ar5iv-footer-button hover-effect" href="https://arxiv.org/pdf/2410.04047v1" target="_blank">Download PDF</a>
      <a class="ar5iv-toggle-color-scheme" title="Toggle dark/light mode">
        <label id="automatic-tog" class="toggle-icon" title="Switch to light mode" for="__palette_3">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"></path></svg>
        </label>
        
        
      </a>
    </nav></header>

<div class="ltx_page_main" id="main">
<nav class="ltx_TOC active" aria-labelledby="toc_header"><h2 id="toc_header" class="sr-only">Table of Contents</h2>

      <div id="listIcon" type="button" class="hide">
          <svg width="17px" height="17px" viewBox="0 0 512 512" style="pointer-events: none;">
          <path d="M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"></path>
          </svg>
      </div>
      <div id="arrowIcon" type="button">
          <svg width="17px" height="17px" viewBox="0 0 448 512" style="pointer-events: none;">
          <path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path>
          </svg>
      </div><ol class="ltx_toclist"><li class="ltx_tocentry ltx_tocentry_section">
    <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#abstract" title="Abstract">
      <span class="ltx_text ltx_ref_title">
        <span class="ltx_tag ltx_tag_ref"></span>
        Abstract
      </span>
    </a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S1" title="In Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S2" title="In Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Relevant Works</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S2.SS0.SSS0.Px1" title="In 2 Relevant Works ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Time Series Analysis Tasks and Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S2.SS0.SSS0.Px2" title="In 2 Relevant Works ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Complex and Compositional Reasoning with Pre-trained Foundation Models</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S3" title="In Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Task Definition</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S4" title="In Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Dataset and Tasks</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S4.SS1" title="In 4 Dataset and Tasks ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Decision Making</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S4.SS1.SSS0.Px1" title="In 4.1 Decision Making ‣ 4 Dataset and Tasks ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Question Template (Decision Making on Financial Time Series)</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S4.SS2" title="In 4 Dataset and Tasks ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Compositional Question Answering</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S4.SS2.SSS0.Px1" title="In 4.2 Compositional Question Answering ‣ 4 Dataset and Tasks ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Question Template (Compositional Question Answering on Energy Supply Time Series)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S4.SS2.SSS0.Px2" title="In 4.2 Compositional Question Answering ‣ 4 Dataset and Tasks ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Question Template (Compositional Question Answering on Financial Time Series )</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S4.SS3" title="In 4 Dataset and Tasks ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Causal Mining</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S4.SS3.SSS0.Px1" title="In 4.3 Causal Mining ‣ 4 Dataset and Tasks ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Question Template (Causal Analysis)</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S5" title="In Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Program-based Time Series Reasoning</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S5.SS0.SSS0.Px1" title="In 5 Program-based Time Series Reasoning ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Task Decomposer</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6" title="In Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.SS1" title="In 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span>Decision Making</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.SS1.SSS0.Px1" title="In 6.1 Decision Making ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Evaluation Protocol</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.SS1.SSS0.Px2" title="In 6.1 Decision Making ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Overall Performance</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.SS2" title="In 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span>Compositional Question Answering</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.SS2.SSS0.Px1" title="In 6.2 Compositional Question Answering ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Evaluation Protocol</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.SS2.SSS0.Px2" title="In 6.2 Compositional Question Answering ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Overall Performance</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.SS2.SSS0.Px3" title="In 6.2 Compositional Question Answering ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Error Analysis</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.SS3" title="In 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.3 </span>Causal Relationship Recognition</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.SS3.SSS0.Px1" title="In 6.3 Causal Relationship Recognition ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Evaluation Protocol</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.SS3.SSS0.Px2" title="In 6.3 Causal Relationship Recognition ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title">Overall Performance</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S7" title="In Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A1" title="In Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Analysis for different in-context samples.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A2" title="In Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Error Examples</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A3" title="In Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Prompt and Tool</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A3.SS1" title="In Appendix C Prompt and Tool ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.1 </span>Prompt for TS-Reasoner</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A3.SS2" title="In Appendix C Prompt and Tool ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.2 </span>Available Modules in Toolbox</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A3.SS3" title="In Appendix C Prompt and Tool ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.3 </span>CoT Prompt</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A3.SS4" title="In Appendix C Prompt and Tool ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.4 </span>Casual Mining Data Generation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
    <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib" title="References">
      <span class="ltx_text ltx_ref_title">
        <span class="ltx_tag ltx_tag_ref"></span>
        References
      </span>
    </a></li></ol></nav>

<div class="ltx_page_content"><div id="target-section" class="section"><a id="license-tr" href="https://info.arxiv.org/help/license/index.html#licenses-available">License: CC Zero</a><div id="watermark-tr">arXiv:2410.04047v1 [cs.LG] 05 Oct 2024</div></div>
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution</h1><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Wen Ye, Yizhou Zhang<span class="ltx_note ltx_role_footnotemark" id="footnotex1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span>, Wei Yang<span class="ltx_note ltx_role_footnotemark" id="footnotex2"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span>, Lumingyuan Tang, Defu Cao, Jie Cai, Yan Liu 
<br class="ltx_break">University of Southern California
<br class="ltx_break">Los Angeles, CA 90089, USA 
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter" id="id1.1.id1">{yewen,zhangyiz,wyang930,lumingyu,defucao,caijie,yanliu.cs}@usc.edu</span>
<br class="ltx_break">
</span><span class="ltx_author_notes">Equal Contribution.</span></span>
</div><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_abstract" id="abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<p class="ltx_p" id="id2.id1">In recent decades, there have been substantial advances in time series models and benchmarks across various individual tasks, such as time series forecasting, classification, and anomaly detection.
Meanwhile, compositional reasoning in time series prevalent in real-world applications (e.g., decision-making and compositional question answering) is in great demand. Unlike simple tasks that primarily focus on predictive accuracy, compositional reasoning emphasizes the synthesis of diverse information from both time series data and various domain knowledge, making it distinct and extremely more challenging. In this paper, we introduce Compositional Time Series Reasoning, a new task of handling intricate multistep reasoning tasks from time series data. Specifically, this new task focuses on various question instances requiring structural and compositional reasoning abilities on time series data, such as decision-making and compositional question answering.
As an initial attempt to tackle this novel task, we developed TS-Reasoner, a program-aided approach that utilizes large language model (LLM) to decompose a complex task into steps of programs that leverage existing time series models and numerical subroutines. Unlike existing reasoning work which only calls off-the-shelf modules, TS-Reasoner allows for the creation of custom modules and provides greater flexibility to incorporate domain knowledge as well as user-specified constraints. We demonstrate the effectiveness of our method through a comprehensive set of experiments. These promising results indicate potential opportunities in the new task of time series reasoning and highlight the need for further research.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Over the past few decades, research in time series analysis has heavily focused on improving the performance of individual tasks such as time series forecasting, anomaly detection, and time series classification <cite class="ltx_cite ltx_citemacro_citep">(De&nbsp;Gooijer &amp; Hyndman, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib13" title="">2006</a>; Kirchgässner et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib33" title="">2012</a>; Zong et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib61" title="">2018</a>; Dau et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib12" title="">2019</a>; Hamilton, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib24" title="">2020</a>; Jin et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib29" title="">2024</a>)</cite>. These results have benefited various areas such as risk assessment in finance, disease diagnose in healthcare, pandemic modeling in public health and event detection in natural and social science <cite class="ltx_cite ltx_citemacro_citep">(Tsay, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib45" title="">2005</a>; Cao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib5" title="">2022</a>; <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib8" title="">2023c</a>; Kamra et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib31" title="">2021</a>; Team &amp; Murray, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib44" title="">2020</a>; Penfold &amp; Zhang, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib38" title="">2013</a>; Cheng et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib10" title="">2021</a>; Sharma et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib41" title="">2021</a>; Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib56" title="">2021</a>)</cite>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">However, most real-world applications demand multi-step reasoning, where well-established tasks should serve as intermediate steps.
A typical example is forecasting future energy supply <cite class="ltx_cite ltx_citemacro_citep">(Zheng et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib57" title="">2022</a>)</cite>, in which scientists must integrate domain knowledge with statistical analysis. The process begins with the examination of time series data to forecast future signals with statistical methods, following by formulating constraints based on domain expertise to refine predictions. Another typical example is analyzing climate time series <cite class="ltx_cite ltx_citemacro_citep">(Mudelsee, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib36" title="">2010</a>)</cite>, where it is not only necessary to predict what happens next but also crucial for experts to comprehend the fundamental physical laws governing such data.
For instance, a climate scientist studying the impact of greenhouse gas emissions on global temperature might employ advanced time series analysis for multi-step reasoning, including <span class="ltx_text ltx_font_italic" id="S1.p2.1.1">forecasting</span> future temperature trends and variability, <span class="ltx_text ltx_font_italic" id="S1.p2.1.2">analyzing cross-correlations</span> between different climate indicator variables (e.g., CO2 levels, ocean temperatures, ice cover), <span class="ltx_text ltx_font_italic" id="S1.p2.1.3">detecting anomalies</span> in weather patterns, <span class="ltx_text ltx_font_italic" id="S1.p2.1.4">simulating</span> various emission scenarios, and <span class="ltx_text ltx_font_italic" id="S1.p2.1.5">imputing missing</span> historical climate data. Traditionally, these various analyses would be involved with many different specialists - climatologists for temperature forecasting, oceanographers for sea-level analysis, atmospheric scientists for greenhouse gas modeling, and data scientists for anomaly detection. Such manual solutions to scientific projects are labor-intensive, and often requiring long time ranging from months to years. Additionally, the intermediate tasks like forecasting are typically optimized independently, leading to inefficiencies. In contrast, an end-to-end task framework for time series reasoning, particularly with advancements in large language models (LLMs), can optimize these subtasks cohesively. This integrated paradigm can reduce time and resource requirements, resulting in more accurate and timely predictions.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Nevertheless, this aim of end-to-end time series task execution is challenging due to the lack of exploration at the intersection of structural reasoning and numerical computation of temporal signals.
State-of-the-art time series foundation models <cite class="ltx_cite ltx_citemacro_citep">(Ansari et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib2" title="">2024</a>; Woo et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib49" title="">2024</a>; Cao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib7" title="">2023b</a>)</cite> excel in handling temporal patterns but lack reasoning abilities over context observed in Large Language Models (LLMs) &nbsp;<cite class="ltx_cite ltx_citemacro_citep">(Edwards et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib17" title="">2024</a>)</cite>. This dichotomy is particularly evident in compositional time series tasks requiring structural multi-step reasoning, since current time series models&nbsp;<cite class="ltx_cite ltx_citemacro_citep">(Wu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib50" title="">2021</a>; <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib51" title="">2022</a>)</cite>, despite their sophistication, are primarily designed for single-task inference within predefined definitions. This paradigm limits existing time series models’ applicability to diverse, compositional problems. This gap in time series analysis opens up significant research opportunities in the realm of multi-step reasoning, where models are required to synthesize multiple pieces of information over time series.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="492" id="S1.F1.g1" src="https://arxiv.org/html/2410.04047v1/x1.png" width="830">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Examples of End-to-End Tasks on Time Series. These tasks require the model to perform multi-step reasoning on time series data.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">With the rise of LLMs, complex logic-based reasoning on data with various modality has become readily feasible <cite class="ltx_cite ltx_citemacro_citep">(Qiao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib39" title="">2022</a>; Huang &amp; Chang, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib27" title="">2022</a>)</cite>, providing a promising opportunity for the study of complex time series analysis and compositional reasoning. Existing work has explored reasoning across various domains, such as chain-of-thought (CoT) reasoning in natural language <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib48" title="">2022</a>)</cite>, VisProg in computer vision <cite class="ltx_cite ltx_citemacro_citep">(Gupta &amp; Kembhavi, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib23" title="">2023</a>)</cite>, and Thought-of-Table for tabular data <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib47" title="">2024</a>)</cite>. However, research focused specifically on complex and compositional time series reasoning remains limited. Most studies involving large language models and time-series modality still primarily emphasize individual tasks (e.g., forecasting) <cite class="ltx_cite ltx_citemacro_citep">(Jin et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib29" title="">2024</a>)</cite>, feature understanding<cite class="ltx_cite ltx_citemacro_citep">(Fons et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib19" title="">2024</a>)</cite> and one-step question answering <cite class="ltx_cite ltx_citemacro_citep">(Merrill et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib34" title="">2024</a>)</cite>. Based on our best knowledge, multi-step and compositional reasoning in time series remains very under-explored.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">In this paper, we make an initial attempt at bridging the aforementioned gap by proposing a new paradigm of Complex and Compositional Time Series Reasoning. It shifts the focus from standard predictive tasks to those requiring sophisticated reasoning processes. More specific examples are shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">1</span></a>. Furthermore, we develop a program-aided reasoning approach, which utilizes LLMs context learning ability to decompose complex tasks into structured programs for multi-step reasoning. This flexible approach named as TS-Reasoner<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Demo video explaining how TS-Reasoner works can be found in <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://anonymous.4open.science/r/Video-2CEC/" title="">https://anonymous.4open.science/r/Video-2CEC/</a></span></span></span> is different from traditional program-aided reasoning systems <cite class="ltx_cite ltx_citemacro_citep">(Gupta &amp; Kembhavi, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib23" title="">2023</a>)</cite> in that it supports the creation of custom modules and adapts to external knowledge and/or users-specified constraints.
For evaluation, we compile new datasets in finance and energy domains and construct a series of commonly-asked and/or most-concerned questions that requires complex reasoning and compositions.
Through extensive experiments in two application domains, we demonstrate that TS-Reasoner consistently achieves better results than state-of-art methods in a series of evaluation metrics. These promising results reveal potential opportunities in complex and compositional time series reasoning and underscore the importance of further exploration into this new task.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Relevant Works</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Time Series Analysis Tasks and Models</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p1.1">Classical time series analysis encompasses several key tasks that leverage patterns and trends in data over time. These tasks include forecasting, imputation (filling in missing data points to create a complete dataset), classification (categorizing time series data into predefined classes), and anomaly detection (identifying unusual patterns or outliers that deviate from expected behavior). Each of these tasks serves unique purposes across various application domains, highlighting the significance of time series analysis. However, recent researches reveal that it is extremely difficult to evaluate the performance of time series models on one specific task with a unified metrics for all applications since the results could affect the final outcomes of multi-step reasoning tasks in a different way from the metrics, such MAPE, RMSE and so on. This challenge motivates the exploration on end-to-end execution of multi-step time series tasks.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px1.p2">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p2.1">To tackle time series analysis, researchers have made significant contribution over the years. Early methods were mainly task-specific, where each individual task—such as forecasting, imputation, classification, or anomaly detection—was addressed by a dedicated model optimized for its specific purpose, resulting in a fragmented approach. Recently, inspired by the emergence of large language models, there has been a shift toward general-purpose Large Time Series Models. Notable contributions include work by <cite class="ltx_cite ltx_citemacro_citep">(Gruver et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib22" title="">2024</a>)</cite>, who simply encoded time series as strings, and <cite class="ltx_cite ltx_citemacro_citep">(Jin et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib28" title="">2023</a>)</cite>, who converted time series into language representations through alignment. <cite class="ltx_cite ltx_citemacro_citep">(Cao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib7" title="">2023b</a>)</cite> and <cite class="ltx_cite ltx_citemacro_citep">(Pan et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib37" title="">2024</a>)</cite> incorporated decomposition techniques and prompt design, enabling generalization to unseen data and multimodal scenarios. <cite class="ltx_cite ltx_citemacro_citep">(Zhou et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib59" title="">2023</a>)</cite> adapted GPT-2 as a general-purpose time series analysis model, extending it to various tasks. Additionally, <cite class="ltx_cite ltx_citemacro_citep">(Talukder et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib43" title="">2024</a>)</cite> utilized VQVAE as a tokenizer for transformers, while <cite class="ltx_cite ltx_citemacro_citep">(Ansari et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib2" title="">2024</a>)</cite> employed scaling and quantization techniques for embedding time series. These models are designed to handle multiple preset tasks and are jointly pre-trained on diverse datasets. However they still operate under predefined task modes, which limits their ability to perform complex and compositional reasoning. As a result, while they can handle multiple tasks, they lack the flexibility to adapt to more intricate scenarios that require a deeper understanding on task instructions and composition of different tasks or concepts.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Complex and Compositional Reasoning with Pre-trained Foundation Models</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p1.1">Large Language Models (LLMs) have demonstrated significant capabilities in managing complex reasoning tasks by emulating human cognitive processes, especially when incorporated with appropriate in-context samples <cite class="ltx_cite ltx_citemacro_citep">(Huang &amp; Chang, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib27" title="">2022</a>; Qiao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib39" title="">2022</a>; Ahn et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib1" title="">2024</a>; Qu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib40" title="">2024</a>)</cite>. The Chain of Thought (CoT) prompting method <cite class="ltx_cite ltx_citemacro_citep">(Wei et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib48" title="">2022</a>)</cite> is a prime example, encouraging models to articulate intermediate reasoning steps (i.e. <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px2.p1.1.1">rationales</span>) before reaching a conclusion. This method improves performance in multi-step logical deductions by transparently demonstrating the thought process leading to an answer as well as expanding the expressive power of Transformer architecture <cite class="ltx_cite ltx_citemacro_citep">(Feng et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib18" title="">2023</a>; Merrill &amp; Sabharwal, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib35" title="">2023</a>)</cite>. Following CoT, more rationale dependency structures are proposed to capture more reasoning paradigms, such as Tree-of-Thoughts, Graph-of-Thoughts and Self-Consistent CoT <cite class="ltx_cite ltx_citemacro_citep">(Yao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib52" title="">2023a</a>; <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib53" title="">b</a>; Wang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib46" title="">2022</a>)</cite>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px2.p2">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p2.1">Moreover, program-based reasoning <cite class="ltx_cite ltx_citemacro_citep">(Zhu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib60" title="">2022</a>; Jung et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib30" title="">2022</a>; Zhou et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib58" title="">2022</a>; Khot et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib32" title="">2022</a>; Creswell &amp; Shanahan, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib11" title="">2022</a>; Gao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib20" title="">2023</a>)</cite> represents an advanced form of eliciting complex reasoning from LLMs. This involves framing reasoning tasks as code generation, where the model is trained or prompted to understand and manipulate logical constructs akin to programming <cite class="ltx_cite ltx_citemacro_citep">(Shi et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib42" title="">2023</a>)</cite>. This method capitalizes on the structured nature of programming to enhance the model’s ability to perform tasks that involve intricate logic and computation steps. Additionally, program-based reasoning also enables LLMs to make use of heterogeneous modules to tackle various data modalities. For example, VisProg <cite class="ltx_cite ltx_citemacro_citep">(Gupta &amp; Kembhavi, <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib23" title="">2023</a>)</cite> allows LLM to call vision modules for visual reasoning tasks, and Chain-of-Table <cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib47" title="">2024</a>)</cite> enables LLM to acquire better performance on tabular data analysis. The tabular data reasoning is analogous to time series <cite class="ltx_cite ltx_citemacro_citep">(Dong et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib15" title="">2019</a>; He et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib25" title="">2024</a>; Hu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib26" title="">2024</a>; Du et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib16" title="">2021</a>)</cite>. However, tabular data is typically static and presented as discrete records, while time series emphasizes dynamic changes and focuses on trends and patterns that change over time, requiring consideration of temporal dependencies and continuity. Consequently, the datasets related to tabular data reasoning are mostly concerned with tasks such as information retrieval <cite class="ltx_cite ltx_citemacro_citep">(He et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib25" title="">2024</a>)</cite>, information completion <cite class="ltx_cite ltx_citemacro_citep">(Bandyopadhyay et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib3" title="">2019</a>)</cite>, and fact verification <cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib9" title="">2019</a>; Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib54" title="">2020</a>)</cite>, often overlooking the dynamic characteristics of the time dimension. As a result, existing methods for tabular data are not directly suitable for address complex time series questions, especially when temporal dynamics play a key role in such questions.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px2.p3">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p3.1">Recent works also explored the performance of LLM on time series understanding and question answering. <cite class="ltx_cite ltx_citemacro_citep">(Fons et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib19" title="">2024</a>)</cite> introduces a comprehensive taxonomy of time series features and utilizes a synthetic dataset to evaluate LLM performance on tasks such as feature detection, classification, and arithmetic reasoning. In contrast, <cite class="ltx_cite ltx_citemacro_citep">(Merrill et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib34" title="">2024</a>)</cite> focuses on more difficult question-answering tasks involving time series data, including challenges such as etiological inference, which require simultaneous understanding over natural language and time series inputs. However, both studies are constrained by their focus on individual tasks, lacking exploration of multi-step or compositional reasoning, thus limiting their applicability to more advanced inferential processes.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Task Definition</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we first define compositional time series reasoning, which involves the synthesis of information from time series data in conjunction with task-specific instructions and contextual external knowledge.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_theorem ltx_theorem_definition" id="S3.Thmdefinition1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="S3.Thmdefinition1.1.1.1">Definition 3.1</span></span><span class="ltx_text ltx_font_bold" id="S3.Thmdefinition1.2.2"> </span>(<span class="ltx_text ltx_font_bold" id="S3.Thmdefinition1.3.3">Compositional Time Series Reasoning</span>)<span class="ltx_text ltx_font_bold" id="S3.Thmdefinition1.4.4">.</span>
</h6><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S3.Thmdefinition1.p1">
<p class="ltx_p" id="S3.Thmdefinition1.p1.10"><span class="ltx_text ltx_font_italic" id="S3.Thmdefinition1.p1.10.10">Let <math alttext="\bf x" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.1.1.m1.1"><semantics id="S3.Thmdefinition1.p1.1.1.m1.1a"><mi id="S3.Thmdefinition1.p1.1.1.m1.1.1" xref="S3.Thmdefinition1.p1.1.1.m1.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.1.1.m1.1b"><ci id="S3.Thmdefinition1.p1.1.1.m1.1.1.cmml" xref="S3.Thmdefinition1.p1.1.1.m1.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.1.1.m1.1c">\bf x</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.1.1.m1.1d">bold_x</annotation></semantics></math> denote a time series, which is a sequence of data points indexed in time order. Let <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.2.2.m2.1"><semantics id="S3.Thmdefinition1.p1.2.2.m2.1a"><mi id="S3.Thmdefinition1.p1.2.2.m2.1.1" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.2.2.m2.1b"><ci id="S3.Thmdefinition1.p1.2.2.m2.1.1.cmml" xref="S3.Thmdefinition1.p1.2.2.m2.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.2.2.m2.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.2.2.m2.1d">bold_C</annotation></semantics></math> represent the context, which encompasses the <span class="ltx_text ltx_font_bold" id="S3.Thmdefinition1.p1.10.10.1">task instruction</span> and additional external information. The primary objective of time series reasoning is to derive a set of rationales <math alttext="\mathbf{R}=(r_{1},r_{2},\ldots,r_{n})" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.3.3.m3.4"><semantics id="S3.Thmdefinition1.p1.3.3.m3.4a"><mrow id="S3.Thmdefinition1.p1.3.3.m3.4.4" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.cmml"><mi id="S3.Thmdefinition1.p1.3.3.m3.4.4.5" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.5.cmml">𝐑</mi><mo id="S3.Thmdefinition1.p1.3.3.m3.4.4.4" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.4.cmml">=</mo><mrow id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.4.cmml"><mo id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.4" stretchy="false" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.4.cmml">(</mo><msub id="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1" xref="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.cmml"><mi id="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.2" xref="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.2.cmml">r</mi><mn id="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.3" xref="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.5" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.4.cmml">,</mo><msub id="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2" xref="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.cmml"><mi id="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.2" xref="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.2.cmml">r</mi><mn id="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.3" xref="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.6" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.4.cmml">,</mo><mi id="S3.Thmdefinition1.p1.3.3.m3.1.1" mathvariant="normal" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.cmml">…</mi><mo id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.7" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.4.cmml">,</mo><msub id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.cmml"><mi id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.2" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.2.cmml">r</mi><mi id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.3" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.3.cmml">n</mi></msub><mo id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.8" stretchy="false" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.3.3.m3.4b"><apply id="S3.Thmdefinition1.p1.3.3.m3.4.4.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.4.4"><eq id="S3.Thmdefinition1.p1.3.3.m3.4.4.4.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.4"></eq><ci id="S3.Thmdefinition1.p1.3.3.m3.4.4.5.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.5">𝐑</ci><vector id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.4.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3"><apply id="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.1.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.2.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.2">𝑟</ci><cn id="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="S3.Thmdefinition1.p1.3.3.m3.2.2.1.1.1.3">1</cn></apply><apply id="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.1.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2">subscript</csymbol><ci id="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.2.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.2">𝑟</ci><cn id="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.3.cmml" type="integer" xref="S3.Thmdefinition1.p1.3.3.m3.3.3.2.2.2.3">2</cn></apply><ci id="S3.Thmdefinition1.p1.3.3.m3.1.1.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1">…</ci><apply id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.1.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3">subscript</csymbol><ci id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.2.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.2">𝑟</ci><ci id="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.3.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.4.4.3.3.3.3">𝑛</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.3.3.m3.4c">\mathbf{R}=(r_{1},r_{2},\ldots,r_{n})</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.3.3.m3.4d">bold_R = ( italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_r start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_r start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT )</annotation></semantics></math> that are conditional on the inputs <math alttext="\bf x" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.4.4.m4.1"><semantics id="S3.Thmdefinition1.p1.4.4.m4.1a"><mi id="S3.Thmdefinition1.p1.4.4.m4.1.1" xref="S3.Thmdefinition1.p1.4.4.m4.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.4.4.m4.1b"><ci id="S3.Thmdefinition1.p1.4.4.m4.1.1.cmml" xref="S3.Thmdefinition1.p1.4.4.m4.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.4.4.m4.1c">\bf x</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.4.4.m4.1d">bold_x</annotation></semantics></math> and <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.5.5.m5.1"><semantics id="S3.Thmdefinition1.p1.5.5.m5.1a"><mi id="S3.Thmdefinition1.p1.5.5.m5.1.1" xref="S3.Thmdefinition1.p1.5.5.m5.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.5.5.m5.1b"><ci id="S3.Thmdefinition1.p1.5.5.m5.1.1.cmml" xref="S3.Thmdefinition1.p1.5.5.m5.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.5.5.m5.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.5.5.m5.1d">bold_C</annotation></semantics></math> in an step-by-step manner. Each <math alttext="r_{i}" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.6.6.m6.1"><semantics id="S3.Thmdefinition1.p1.6.6.m6.1a"><msub id="S3.Thmdefinition1.p1.6.6.m6.1.1" xref="S3.Thmdefinition1.p1.6.6.m6.1.1.cmml"><mi id="S3.Thmdefinition1.p1.6.6.m6.1.1.2" xref="S3.Thmdefinition1.p1.6.6.m6.1.1.2.cmml">r</mi><mi id="S3.Thmdefinition1.p1.6.6.m6.1.1.3" xref="S3.Thmdefinition1.p1.6.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.6.6.m6.1b"><apply id="S3.Thmdefinition1.p1.6.6.m6.1.1.cmml" xref="S3.Thmdefinition1.p1.6.6.m6.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.6.6.m6.1.1.1.cmml" xref="S3.Thmdefinition1.p1.6.6.m6.1.1">subscript</csymbol><ci id="S3.Thmdefinition1.p1.6.6.m6.1.1.2.cmml" xref="S3.Thmdefinition1.p1.6.6.m6.1.1.2">𝑟</ci><ci id="S3.Thmdefinition1.p1.6.6.m6.1.1.3.cmml" xref="S3.Thmdefinition1.p1.6.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.6.6.m6.1c">r_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.6.6.m6.1d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> addresses a single sub-task related to the time series, e.g. <math alttext="r_{1}" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.7.7.m7.1"><semantics id="S3.Thmdefinition1.p1.7.7.m7.1a"><msub id="S3.Thmdefinition1.p1.7.7.m7.1.1" xref="S3.Thmdefinition1.p1.7.7.m7.1.1.cmml"><mi id="S3.Thmdefinition1.p1.7.7.m7.1.1.2" xref="S3.Thmdefinition1.p1.7.7.m7.1.1.2.cmml">r</mi><mn id="S3.Thmdefinition1.p1.7.7.m7.1.1.3" xref="S3.Thmdefinition1.p1.7.7.m7.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.7.7.m7.1b"><apply id="S3.Thmdefinition1.p1.7.7.m7.1.1.cmml" xref="S3.Thmdefinition1.p1.7.7.m7.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.7.7.m7.1.1.1.cmml" xref="S3.Thmdefinition1.p1.7.7.m7.1.1">subscript</csymbol><ci id="S3.Thmdefinition1.p1.7.7.m7.1.1.2.cmml" xref="S3.Thmdefinition1.p1.7.7.m7.1.1.2">𝑟</ci><cn id="S3.Thmdefinition1.p1.7.7.m7.1.1.3.cmml" type="integer" xref="S3.Thmdefinition1.p1.7.7.m7.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.7.7.m7.1c">r_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.7.7.m7.1d">italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> tackle missing value imputation, <math alttext="r_{2}" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.8.8.m8.1"><semantics id="S3.Thmdefinition1.p1.8.8.m8.1a"><msub id="S3.Thmdefinition1.p1.8.8.m8.1.1" xref="S3.Thmdefinition1.p1.8.8.m8.1.1.cmml"><mi id="S3.Thmdefinition1.p1.8.8.m8.1.1.2" xref="S3.Thmdefinition1.p1.8.8.m8.1.1.2.cmml">r</mi><mn id="S3.Thmdefinition1.p1.8.8.m8.1.1.3" xref="S3.Thmdefinition1.p1.8.8.m8.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.8.8.m8.1b"><apply id="S3.Thmdefinition1.p1.8.8.m8.1.1.cmml" xref="S3.Thmdefinition1.p1.8.8.m8.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.8.8.m8.1.1.1.cmml" xref="S3.Thmdefinition1.p1.8.8.m8.1.1">subscript</csymbol><ci id="S3.Thmdefinition1.p1.8.8.m8.1.1.2.cmml" xref="S3.Thmdefinition1.p1.8.8.m8.1.1.2">𝑟</ci><cn id="S3.Thmdefinition1.p1.8.8.m8.1.1.3.cmml" type="integer" xref="S3.Thmdefinition1.p1.8.8.m8.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.8.8.m8.1c">r_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.8.8.m8.1d">italic_r start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> tackle forecasting, and <math alttext="r_{3}" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.9.9.m9.1"><semantics id="S3.Thmdefinition1.p1.9.9.m9.1a"><msub id="S3.Thmdefinition1.p1.9.9.m9.1.1" xref="S3.Thmdefinition1.p1.9.9.m9.1.1.cmml"><mi id="S3.Thmdefinition1.p1.9.9.m9.1.1.2" xref="S3.Thmdefinition1.p1.9.9.m9.1.1.2.cmml">r</mi><mn id="S3.Thmdefinition1.p1.9.9.m9.1.1.3" xref="S3.Thmdefinition1.p1.9.9.m9.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.9.9.m9.1b"><apply id="S3.Thmdefinition1.p1.9.9.m9.1.1.cmml" xref="S3.Thmdefinition1.p1.9.9.m9.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.9.9.m9.1.1.1.cmml" xref="S3.Thmdefinition1.p1.9.9.m9.1.1">subscript</csymbol><ci id="S3.Thmdefinition1.p1.9.9.m9.1.1.2.cmml" xref="S3.Thmdefinition1.p1.9.9.m9.1.1.2">𝑟</ci><cn id="S3.Thmdefinition1.p1.9.9.m9.1.1.3.cmml" type="integer" xref="S3.Thmdefinition1.p1.9.9.m9.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.9.9.m9.1c">r_{3}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.9.9.m9.1d">italic_r start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> tackle numerical reasoning and optimization. Then we can generate the final answer <math alttext="\bf y" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.10.10.m10.1"><semantics id="S3.Thmdefinition1.p1.10.10.m10.1a"><mi id="S3.Thmdefinition1.p1.10.10.m10.1.1" xref="S3.Thmdefinition1.p1.10.10.m10.1.1.cmml">𝐲</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.10.10.m10.1b"><ci id="S3.Thmdefinition1.p1.10.10.m10.1.1.cmml" xref="S3.Thmdefinition1.p1.10.10.m10.1.1">𝐲</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.10.10.m10.1c">\bf y</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.10.10.m10.1d">bold_y</annotation></semantics></math> to the task based on both rationales and the input, mathematically expressed as:</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="r_{i+1}=f(r_{1},...,r_{i},{\bf x},\mathbf{C})\quad\Rightarrow\quad{\bf y}=g(%
\mathbf{R},{\bf x},\mathbf{C})=g(r_{1},...,r_{n},{\bf x},\mathbf{C})" class="ltx_Math" display="block" id="S3.Ex1.m1.12"><semantics id="S3.Ex1.m1.12a"><mrow id="S3.Ex1.m1.12.12.2" xref="S3.Ex1.m1.12.12.3.cmml"><mrow id="S3.Ex1.m1.11.11.1.1" xref="S3.Ex1.m1.11.11.1.1.cmml"><msub id="S3.Ex1.m1.11.11.1.1.3" xref="S3.Ex1.m1.11.11.1.1.3.cmml"><mi id="S3.Ex1.m1.11.11.1.1.3.2" xref="S3.Ex1.m1.11.11.1.1.3.2.cmml">r</mi><mrow id="S3.Ex1.m1.11.11.1.1.3.3" xref="S3.Ex1.m1.11.11.1.1.3.3.cmml"><mi id="S3.Ex1.m1.11.11.1.1.3.3.2" xref="S3.Ex1.m1.11.11.1.1.3.3.2.cmml">i</mi><mo id="S3.Ex1.m1.11.11.1.1.3.3.1" xref="S3.Ex1.m1.11.11.1.1.3.3.1.cmml">+</mo><mn id="S3.Ex1.m1.11.11.1.1.3.3.3" xref="S3.Ex1.m1.11.11.1.1.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.Ex1.m1.11.11.1.1.2" xref="S3.Ex1.m1.11.11.1.1.2.cmml">=</mo><mrow id="S3.Ex1.m1.11.11.1.1.1.1" xref="S3.Ex1.m1.11.11.1.1.1.2.cmml"><mrow id="S3.Ex1.m1.11.11.1.1.1.1.1" xref="S3.Ex1.m1.11.11.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.11.11.1.1.1.1.1.4" xref="S3.Ex1.m1.11.11.1.1.1.1.1.4.cmml">f</mi><mo id="S3.Ex1.m1.11.11.1.1.1.1.1.3" xref="S3.Ex1.m1.11.11.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.3.cmml"><mo id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.3" stretchy="false" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.3.cmml">(</mo><msub id="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.2.cmml">r</mi><mn id="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.4" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.3.cmml">,</mo><mi id="S3.Ex1.m1.1.1" mathvariant="normal" xref="S3.Ex1.m1.1.1.cmml">…</mi><mo id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.5" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.cmml"><mi id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.2" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.2.cmml">r</mi><mi id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.3" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.3.cmml">i</mi></msub><mo id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.6" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.3.cmml">,</mo><mi id="S3.Ex1.m1.2.2" xref="S3.Ex1.m1.2.2.cmml">𝐱</mi><mo id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.7" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.3.cmml">,</mo><mi id="S3.Ex1.m1.3.3" xref="S3.Ex1.m1.3.3.cmml">𝐂</mi><mo id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.8" stretchy="false" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mspace id="S3.Ex1.m1.11.11.1.1.1.1.2" width="1em" xref="S3.Ex1.m1.11.11.1.1.1.2.cmml"></mspace><mo id="S3.Ex1.m1.10.10" stretchy="false" xref="S3.Ex1.m1.10.10.cmml">⇒</mo></mrow></mrow><mspace id="S3.Ex1.m1.12.12.2.3" width="1em" xref="S3.Ex1.m1.12.12.3a.cmml"></mspace><mrow id="S3.Ex1.m1.12.12.2.2" xref="S3.Ex1.m1.12.12.2.2.cmml"><mi id="S3.Ex1.m1.12.12.2.2.4" xref="S3.Ex1.m1.12.12.2.2.4.cmml">𝐲</mi><mo id="S3.Ex1.m1.12.12.2.2.5" xref="S3.Ex1.m1.12.12.2.2.5.cmml">=</mo><mrow id="S3.Ex1.m1.12.12.2.2.6" xref="S3.Ex1.m1.12.12.2.2.6.cmml"><mi id="S3.Ex1.m1.12.12.2.2.6.2" xref="S3.Ex1.m1.12.12.2.2.6.2.cmml">g</mi><mo id="S3.Ex1.m1.12.12.2.2.6.1" xref="S3.Ex1.m1.12.12.2.2.6.1.cmml">⁢</mo><mrow id="S3.Ex1.m1.12.12.2.2.6.3.2" xref="S3.Ex1.m1.12.12.2.2.6.3.1.cmml"><mo id="S3.Ex1.m1.12.12.2.2.6.3.2.1" stretchy="false" xref="S3.Ex1.m1.12.12.2.2.6.3.1.cmml">(</mo><mi id="S3.Ex1.m1.4.4" xref="S3.Ex1.m1.4.4.cmml">𝐑</mi><mo id="S3.Ex1.m1.12.12.2.2.6.3.2.2" xref="S3.Ex1.m1.12.12.2.2.6.3.1.cmml">,</mo><mi id="S3.Ex1.m1.5.5" xref="S3.Ex1.m1.5.5.cmml">𝐱</mi><mo id="S3.Ex1.m1.12.12.2.2.6.3.2.3" xref="S3.Ex1.m1.12.12.2.2.6.3.1.cmml">,</mo><mi id="S3.Ex1.m1.6.6" xref="S3.Ex1.m1.6.6.cmml">𝐂</mi><mo id="S3.Ex1.m1.12.12.2.2.6.3.2.4" stretchy="false" xref="S3.Ex1.m1.12.12.2.2.6.3.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex1.m1.12.12.2.2.7" xref="S3.Ex1.m1.12.12.2.2.7.cmml">=</mo><mrow id="S3.Ex1.m1.12.12.2.2.2" xref="S3.Ex1.m1.12.12.2.2.2.cmml"><mi id="S3.Ex1.m1.12.12.2.2.2.4" xref="S3.Ex1.m1.12.12.2.2.2.4.cmml">g</mi><mo id="S3.Ex1.m1.12.12.2.2.2.3" xref="S3.Ex1.m1.12.12.2.2.2.3.cmml">⁢</mo><mrow id="S3.Ex1.m1.12.12.2.2.2.2.2" xref="S3.Ex1.m1.12.12.2.2.2.2.3.cmml"><mo id="S3.Ex1.m1.12.12.2.2.2.2.2.3" stretchy="false" xref="S3.Ex1.m1.12.12.2.2.2.2.3.cmml">(</mo><msub id="S3.Ex1.m1.12.12.2.2.1.1.1.1" xref="S3.Ex1.m1.12.12.2.2.1.1.1.1.cmml"><mi id="S3.Ex1.m1.12.12.2.2.1.1.1.1.2" xref="S3.Ex1.m1.12.12.2.2.1.1.1.1.2.cmml">r</mi><mn id="S3.Ex1.m1.12.12.2.2.1.1.1.1.3" xref="S3.Ex1.m1.12.12.2.2.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.Ex1.m1.12.12.2.2.2.2.2.4" xref="S3.Ex1.m1.12.12.2.2.2.2.3.cmml">,</mo><mi id="S3.Ex1.m1.7.7" mathvariant="normal" xref="S3.Ex1.m1.7.7.cmml">…</mi><mo id="S3.Ex1.m1.12.12.2.2.2.2.2.5" xref="S3.Ex1.m1.12.12.2.2.2.2.3.cmml">,</mo><msub id="S3.Ex1.m1.12.12.2.2.2.2.2.2" xref="S3.Ex1.m1.12.12.2.2.2.2.2.2.cmml"><mi id="S3.Ex1.m1.12.12.2.2.2.2.2.2.2" xref="S3.Ex1.m1.12.12.2.2.2.2.2.2.2.cmml">r</mi><mi id="S3.Ex1.m1.12.12.2.2.2.2.2.2.3" xref="S3.Ex1.m1.12.12.2.2.2.2.2.2.3.cmml">n</mi></msub><mo id="S3.Ex1.m1.12.12.2.2.2.2.2.6" xref="S3.Ex1.m1.12.12.2.2.2.2.3.cmml">,</mo><mi id="S3.Ex1.m1.8.8" xref="S3.Ex1.m1.8.8.cmml">𝐱</mi><mo id="S3.Ex1.m1.12.12.2.2.2.2.2.7" xref="S3.Ex1.m1.12.12.2.2.2.2.3.cmml">,</mo><mi id="S3.Ex1.m1.9.9" xref="S3.Ex1.m1.9.9.cmml">𝐂</mi><mo id="S3.Ex1.m1.12.12.2.2.2.2.2.8" stretchy="false" xref="S3.Ex1.m1.12.12.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.12b"><apply id="S3.Ex1.m1.12.12.3.cmml" xref="S3.Ex1.m1.12.12.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.12.12.3a.cmml" xref="S3.Ex1.m1.12.12.2.3">formulae-sequence</csymbol><apply id="S3.Ex1.m1.11.11.1.1.cmml" xref="S3.Ex1.m1.11.11.1.1"><eq id="S3.Ex1.m1.11.11.1.1.2.cmml" xref="S3.Ex1.m1.11.11.1.1.2"></eq><apply id="S3.Ex1.m1.11.11.1.1.3.cmml" xref="S3.Ex1.m1.11.11.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.11.11.1.1.3.1.cmml" xref="S3.Ex1.m1.11.11.1.1.3">subscript</csymbol><ci id="S3.Ex1.m1.11.11.1.1.3.2.cmml" xref="S3.Ex1.m1.11.11.1.1.3.2">𝑟</ci><apply id="S3.Ex1.m1.11.11.1.1.3.3.cmml" xref="S3.Ex1.m1.11.11.1.1.3.3"><plus id="S3.Ex1.m1.11.11.1.1.3.3.1.cmml" xref="S3.Ex1.m1.11.11.1.1.3.3.1"></plus><ci id="S3.Ex1.m1.11.11.1.1.3.3.2.cmml" xref="S3.Ex1.m1.11.11.1.1.3.3.2">𝑖</ci><cn id="S3.Ex1.m1.11.11.1.1.3.3.3.cmml" type="integer" xref="S3.Ex1.m1.11.11.1.1.3.3.3">1</cn></apply></apply><list id="S3.Ex1.m1.11.11.1.1.1.2.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1"><apply id="S3.Ex1.m1.11.11.1.1.1.1.1.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1"><times id="S3.Ex1.m1.11.11.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1.3"></times><ci id="S3.Ex1.m1.11.11.1.1.1.1.1.4.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1.4">𝑓</ci><vector id="S3.Ex1.m1.11.11.1.1.1.1.1.2.3.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.2"><apply id="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.2">𝑟</ci><cn id="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.Ex1.m1.11.11.1.1.1.1.1.1.1.1.3">1</cn></apply><ci id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1">…</ci><apply id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.2">𝑟</ci><ci id="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex1.m1.11.11.1.1.1.1.1.2.2.2.3">𝑖</ci></apply><ci id="S3.Ex1.m1.2.2.cmml" xref="S3.Ex1.m1.2.2">𝐱</ci><ci id="S3.Ex1.m1.3.3.cmml" xref="S3.Ex1.m1.3.3">𝐂</ci></vector></apply><ci id="S3.Ex1.m1.10.10.cmml" xref="S3.Ex1.m1.10.10">⇒</ci></list></apply><apply id="S3.Ex1.m1.12.12.2.2.cmml" xref="S3.Ex1.m1.12.12.2.2"><and id="S3.Ex1.m1.12.12.2.2a.cmml" xref="S3.Ex1.m1.12.12.2.2"></and><apply id="S3.Ex1.m1.12.12.2.2b.cmml" xref="S3.Ex1.m1.12.12.2.2"><eq id="S3.Ex1.m1.12.12.2.2.5.cmml" xref="S3.Ex1.m1.12.12.2.2.5"></eq><ci id="S3.Ex1.m1.12.12.2.2.4.cmml" xref="S3.Ex1.m1.12.12.2.2.4">𝐲</ci><apply id="S3.Ex1.m1.12.12.2.2.6.cmml" xref="S3.Ex1.m1.12.12.2.2.6"><times id="S3.Ex1.m1.12.12.2.2.6.1.cmml" xref="S3.Ex1.m1.12.12.2.2.6.1"></times><ci id="S3.Ex1.m1.12.12.2.2.6.2.cmml" xref="S3.Ex1.m1.12.12.2.2.6.2">𝑔</ci><vector id="S3.Ex1.m1.12.12.2.2.6.3.1.cmml" xref="S3.Ex1.m1.12.12.2.2.6.3.2"><ci id="S3.Ex1.m1.4.4.cmml" xref="S3.Ex1.m1.4.4">𝐑</ci><ci id="S3.Ex1.m1.5.5.cmml" xref="S3.Ex1.m1.5.5">𝐱</ci><ci id="S3.Ex1.m1.6.6.cmml" xref="S3.Ex1.m1.6.6">𝐂</ci></vector></apply></apply><apply id="S3.Ex1.m1.12.12.2.2c.cmml" xref="S3.Ex1.m1.12.12.2.2"><eq id="S3.Ex1.m1.12.12.2.2.7.cmml" xref="S3.Ex1.m1.12.12.2.2.7"></eq><share href="https://arxiv.org/html/2410.04047v1#S3.Ex1.m1.12.12.2.2.6.cmml" id="S3.Ex1.m1.12.12.2.2d.cmml" xref="S3.Ex1.m1.12.12.2.2"></share><apply id="S3.Ex1.m1.12.12.2.2.2.cmml" xref="S3.Ex1.m1.12.12.2.2.2"><times id="S3.Ex1.m1.12.12.2.2.2.3.cmml" xref="S3.Ex1.m1.12.12.2.2.2.3"></times><ci id="S3.Ex1.m1.12.12.2.2.2.4.cmml" xref="S3.Ex1.m1.12.12.2.2.2.4">𝑔</ci><vector id="S3.Ex1.m1.12.12.2.2.2.2.3.cmml" xref="S3.Ex1.m1.12.12.2.2.2.2.2"><apply id="S3.Ex1.m1.12.12.2.2.1.1.1.1.cmml" xref="S3.Ex1.m1.12.12.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.12.12.2.2.1.1.1.1.1.cmml" xref="S3.Ex1.m1.12.12.2.2.1.1.1.1">subscript</csymbol><ci id="S3.Ex1.m1.12.12.2.2.1.1.1.1.2.cmml" xref="S3.Ex1.m1.12.12.2.2.1.1.1.1.2">𝑟</ci><cn id="S3.Ex1.m1.12.12.2.2.1.1.1.1.3.cmml" type="integer" xref="S3.Ex1.m1.12.12.2.2.1.1.1.1.3">1</cn></apply><ci id="S3.Ex1.m1.7.7.cmml" xref="S3.Ex1.m1.7.7">…</ci><apply id="S3.Ex1.m1.12.12.2.2.2.2.2.2.cmml" xref="S3.Ex1.m1.12.12.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.12.12.2.2.2.2.2.2.1.cmml" xref="S3.Ex1.m1.12.12.2.2.2.2.2.2">subscript</csymbol><ci id="S3.Ex1.m1.12.12.2.2.2.2.2.2.2.cmml" xref="S3.Ex1.m1.12.12.2.2.2.2.2.2.2">𝑟</ci><ci id="S3.Ex1.m1.12.12.2.2.2.2.2.2.3.cmml" xref="S3.Ex1.m1.12.12.2.2.2.2.2.2.3">𝑛</ci></apply><ci id="S3.Ex1.m1.8.8.cmml" xref="S3.Ex1.m1.8.8">𝐱</ci><ci id="S3.Ex1.m1.9.9.cmml" xref="S3.Ex1.m1.9.9">𝐂</ci></vector></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.12c">r_{i+1}=f(r_{1},...,r_{i},{\bf x},\mathbf{C})\quad\Rightarrow\quad{\bf y}=g(%
\mathbf{R},{\bf x},\mathbf{C})=g(r_{1},...,r_{n},{\bf x},\mathbf{C})</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.12d">italic_r start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT = italic_f ( italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , bold_x , bold_C ) ⇒ bold_y = italic_g ( bold_R , bold_x , bold_C ) = italic_g ( italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_r start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , bold_x , bold_C )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</div>
<div class="ltx_para ltx_noindent" id="S3.p2">
<p class="ltx_p" id="S3.p2.7">Here, <math alttext="g" class="ltx_Math" display="inline" id="S3.p2.1.m1.1"><semantics id="S3.p2.1.m1.1a"><mi id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><ci id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">g</annotation><annotation encoding="application/x-llamapun" id="S3.p2.1.m1.1d">italic_g</annotation></semantics></math> is a function that maps the generated rationales <math alttext="\mathbf{R}" class="ltx_Math" display="inline" id="S3.p2.2.m2.1"><semantics id="S3.p2.2.m2.1a"><mi id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml">𝐑</mi><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><ci id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1">𝐑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">\mathbf{R}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.2.m2.1d">bold_R</annotation></semantics></math> along with the inputs <math alttext="\bf x" class="ltx_Math" display="inline" id="S3.p2.3.m3.1"><semantics id="S3.p2.3.m3.1a"><mi id="S3.p2.3.m3.1.1" xref="S3.p2.3.m3.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.1b"><ci id="S3.p2.3.m3.1.1.cmml" xref="S3.p2.3.m3.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.1c">\bf x</annotation><annotation encoding="application/x-llamapun" id="S3.p2.3.m3.1d">bold_x</annotation></semantics></math> and <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S3.p2.4.m4.1"><semantics id="S3.p2.4.m4.1a"><mi id="S3.p2.4.m4.1.1" xref="S3.p2.4.m4.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.1b"><ci id="S3.p2.4.m4.1.1.cmml" xref="S3.p2.4.m4.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.4.m4.1d">bold_C</annotation></semantics></math> to the final response <math alttext="\bf y" class="ltx_Math" display="inline" id="S3.p2.5.m5.1"><semantics id="S3.p2.5.m5.1a"><mi id="S3.p2.5.m5.1.1" xref="S3.p2.5.m5.1.1.cmml">𝐲</mi><annotation-xml encoding="MathML-Content" id="S3.p2.5.m5.1b"><ci id="S3.p2.5.m5.1.1.cmml" xref="S3.p2.5.m5.1.1">𝐲</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m5.1c">\bf y</annotation><annotation encoding="application/x-llamapun" id="S3.p2.5.m5.1d">bold_y</annotation></semantics></math>, and <math alttext="g" class="ltx_Math" display="inline" id="S3.p2.6.m6.1"><semantics id="S3.p2.6.m6.1a"><mi id="S3.p2.6.m6.1.1" xref="S3.p2.6.m6.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S3.p2.6.m6.1b"><ci id="S3.p2.6.m6.1.1.cmml" xref="S3.p2.6.m6.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.6.m6.1c">g</annotation><annotation encoding="application/x-llamapun" id="S3.p2.6.m6.1d">italic_g</annotation></semantics></math>. The rationales <math alttext="\mathbf{R}" class="ltx_Math" display="inline" id="S3.p2.7.m7.1"><semantics id="S3.p2.7.m7.1a"><mi id="S3.p2.7.m7.1.1" xref="S3.p2.7.m7.1.1.cmml">𝐑</mi><annotation-xml encoding="MathML-Content" id="S3.p2.7.m7.1b"><ci id="S3.p2.7.m7.1.1.cmml" xref="S3.p2.7.m7.1.1">𝐑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.7.m7.1c">\mathbf{R}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.7.m7.1d">bold_R</annotation></semantics></math> serve as intermediary results or conclusions that facilitate the reasoning process and may exhibit various probabilistic structural dependencies. The most common one is the sequential dependency, on which we define <span class="ltx_text ltx_font_bold" id="S3.p2.7.1">Chain of Thought (CoT)<cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_medium" id="S3.p2.7.1.1.1">(</span>Feng et&nbsp;al.<span class="ltx_text ltx_font_medium" id="S3.p2.7.1.2.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib18" title="">2023</a><span class="ltx_text ltx_font_medium" id="S3.p2.7.1.3.3">)</span></cite></span>:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="r_{i}\sim p_{\theta}(r_{i}|r_{1},r_{2},...,r_{i-1},{\bf x},\mathbf{C})" class="ltx_Math" display="block" id="S3.E1.m1.4"><semantics id="S3.E1.m1.4a"><mrow id="S3.E1.m1.4.4" xref="S3.E1.m1.4.4.cmml"><msub id="S3.E1.m1.4.4.3" xref="S3.E1.m1.4.4.3.cmml"><mi id="S3.E1.m1.4.4.3.2" xref="S3.E1.m1.4.4.3.2.cmml">r</mi><mi id="S3.E1.m1.4.4.3.3" xref="S3.E1.m1.4.4.3.3.cmml">i</mi></msub><mo id="S3.E1.m1.4.4.2" xref="S3.E1.m1.4.4.2.cmml">∼</mo><mrow id="S3.E1.m1.4.4.1" xref="S3.E1.m1.4.4.1.cmml"><msub id="S3.E1.m1.4.4.1.3" xref="S3.E1.m1.4.4.1.3.cmml"><mi id="S3.E1.m1.4.4.1.3.2" xref="S3.E1.m1.4.4.1.3.2.cmml">p</mi><mi id="S3.E1.m1.4.4.1.3.3" xref="S3.E1.m1.4.4.1.3.3.cmml">θ</mi></msub><mo id="S3.E1.m1.4.4.1.2" xref="S3.E1.m1.4.4.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.4.4.1.1.1" xref="S3.E1.m1.4.4.1.1.1.1.cmml"><mo id="S3.E1.m1.4.4.1.1.1.2" stretchy="false" xref="S3.E1.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.4.4.1.1.1.1" xref="S3.E1.m1.4.4.1.1.1.1.cmml"><msub id="S3.E1.m1.4.4.1.1.1.1.5" xref="S3.E1.m1.4.4.1.1.1.1.5.cmml"><mi id="S3.E1.m1.4.4.1.1.1.1.5.2" xref="S3.E1.m1.4.4.1.1.1.1.5.2.cmml">r</mi><mi id="S3.E1.m1.4.4.1.1.1.1.5.3" xref="S3.E1.m1.4.4.1.1.1.1.5.3.cmml">i</mi></msub><mo fence="false" id="S3.E1.m1.4.4.1.1.1.1.4" xref="S3.E1.m1.4.4.1.1.1.1.4.cmml">|</mo><mrow id="S3.E1.m1.4.4.1.1.1.1.3.3" xref="S3.E1.m1.4.4.1.1.1.1.3.4.cmml"><msub id="S3.E1.m1.4.4.1.1.1.1.1.1.1" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.4.4.1.1.1.1.1.1.1.2" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1.2.cmml">r</mi><mn id="S3.E1.m1.4.4.1.1.1.1.1.1.1.3" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.E1.m1.4.4.1.1.1.1.3.3.4" xref="S3.E1.m1.4.4.1.1.1.1.3.4.cmml">,</mo><msub id="S3.E1.m1.4.4.1.1.1.1.2.2.2" xref="S3.E1.m1.4.4.1.1.1.1.2.2.2.cmml"><mi id="S3.E1.m1.4.4.1.1.1.1.2.2.2.2" xref="S3.E1.m1.4.4.1.1.1.1.2.2.2.2.cmml">r</mi><mn id="S3.E1.m1.4.4.1.1.1.1.2.2.2.3" xref="S3.E1.m1.4.4.1.1.1.1.2.2.2.3.cmml">2</mn></msub><mo id="S3.E1.m1.4.4.1.1.1.1.3.3.5" xref="S3.E1.m1.4.4.1.1.1.1.3.4.cmml">,</mo><mi id="S3.E1.m1.1.1" mathvariant="normal" xref="S3.E1.m1.1.1.cmml">…</mi><mo id="S3.E1.m1.4.4.1.1.1.1.3.3.6" xref="S3.E1.m1.4.4.1.1.1.1.3.4.cmml">,</mo><msub id="S3.E1.m1.4.4.1.1.1.1.3.3.3" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.cmml"><mi id="S3.E1.m1.4.4.1.1.1.1.3.3.3.2" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.2.cmml">r</mi><mrow id="S3.E1.m1.4.4.1.1.1.1.3.3.3.3" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.cmml"><mi id="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.2" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.2.cmml">i</mi><mo id="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.1" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.1.cmml">−</mo><mn id="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.3" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.E1.m1.4.4.1.1.1.1.3.3.7" xref="S3.E1.m1.4.4.1.1.1.1.3.4.cmml">,</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">𝐱</mi><mo id="S3.E1.m1.4.4.1.1.1.1.3.3.8" xref="S3.E1.m1.4.4.1.1.1.1.3.4.cmml">,</mo><mi id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml">𝐂</mi></mrow></mrow><mo id="S3.E1.m1.4.4.1.1.1.3" stretchy="false" xref="S3.E1.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.4b"><apply id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4"><csymbol cd="latexml" id="S3.E1.m1.4.4.2.cmml" xref="S3.E1.m1.4.4.2">similar-to</csymbol><apply id="S3.E1.m1.4.4.3.cmml" xref="S3.E1.m1.4.4.3"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.3.1.cmml" xref="S3.E1.m1.4.4.3">subscript</csymbol><ci id="S3.E1.m1.4.4.3.2.cmml" xref="S3.E1.m1.4.4.3.2">𝑟</ci><ci id="S3.E1.m1.4.4.3.3.cmml" xref="S3.E1.m1.4.4.3.3">𝑖</ci></apply><apply id="S3.E1.m1.4.4.1.cmml" xref="S3.E1.m1.4.4.1"><times id="S3.E1.m1.4.4.1.2.cmml" xref="S3.E1.m1.4.4.1.2"></times><apply id="S3.E1.m1.4.4.1.3.cmml" xref="S3.E1.m1.4.4.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.3.1.cmml" xref="S3.E1.m1.4.4.1.3">subscript</csymbol><ci id="S3.E1.m1.4.4.1.3.2.cmml" xref="S3.E1.m1.4.4.1.3.2">𝑝</ci><ci id="S3.E1.m1.4.4.1.3.3.cmml" xref="S3.E1.m1.4.4.1.3.3">𝜃</ci></apply><apply id="S3.E1.m1.4.4.1.1.1.1.cmml" xref="S3.E1.m1.4.4.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.4.4.1.1.1.1.4.cmml" xref="S3.E1.m1.4.4.1.1.1.1.4">conditional</csymbol><apply id="S3.E1.m1.4.4.1.1.1.1.5.cmml" xref="S3.E1.m1.4.4.1.1.1.1.5"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.1.1.5.1.cmml" xref="S3.E1.m1.4.4.1.1.1.1.5">subscript</csymbol><ci id="S3.E1.m1.4.4.1.1.1.1.5.2.cmml" xref="S3.E1.m1.4.4.1.1.1.1.5.2">𝑟</ci><ci id="S3.E1.m1.4.4.1.1.1.1.5.3.cmml" xref="S3.E1.m1.4.4.1.1.1.1.5.3">𝑖</ci></apply><list id="S3.E1.m1.4.4.1.1.1.1.3.4.cmml" xref="S3.E1.m1.4.4.1.1.1.1.3.3"><apply id="S3.E1.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1.2">𝑟</ci><cn id="S3.E1.m1.4.4.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1.3">1</cn></apply><apply id="S3.E1.m1.4.4.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.4.4.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.1.1.2.2.2.1.cmml" xref="S3.E1.m1.4.4.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E1.m1.4.4.1.1.1.1.2.2.2.2.cmml" xref="S3.E1.m1.4.4.1.1.1.1.2.2.2.2">𝑟</ci><cn id="S3.E1.m1.4.4.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S3.E1.m1.4.4.1.1.1.1.2.2.2.3">2</cn></apply><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">…</ci><apply id="S3.E1.m1.4.4.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.1.1.3.3.3.1.cmml" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E1.m1.4.4.1.1.1.1.3.3.3.2.cmml" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.2">𝑟</ci><apply id="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.cmml" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.3"><minus id="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.1.cmml" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.1"></minus><ci id="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.2.cmml" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.2">𝑖</ci><cn id="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.3.cmml" type="integer" xref="S3.E1.m1.4.4.1.1.1.1.3.3.3.3.3">1</cn></apply></apply><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">𝐱</ci><ci id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3">𝐂</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.4c">r_{i}\sim p_{\theta}(r_{i}|r_{1},r_{2},...,r_{i-1},{\bf x},\mathbf{C})</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.4d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∼ italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_r start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_r start_POSTSUBSCRIPT italic_i - 1 end_POSTSUBSCRIPT , bold_x , bold_C )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.p2.8">where <math alttext="p_{\theta}" class="ltx_Math" display="inline" id="S3.p2.8.m1.1"><semantics id="S3.p2.8.m1.1a"><msub id="S3.p2.8.m1.1.1" xref="S3.p2.8.m1.1.1.cmml"><mi id="S3.p2.8.m1.1.1.2" xref="S3.p2.8.m1.1.1.2.cmml">p</mi><mi id="S3.p2.8.m1.1.1.3" xref="S3.p2.8.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.8.m1.1b"><apply id="S3.p2.8.m1.1.1.cmml" xref="S3.p2.8.m1.1.1"><csymbol cd="ambiguous" id="S3.p2.8.m1.1.1.1.cmml" xref="S3.p2.8.m1.1.1">subscript</csymbol><ci id="S3.p2.8.m1.1.1.2.cmml" xref="S3.p2.8.m1.1.1.2">𝑝</ci><ci id="S3.p2.8.m1.1.1.3.cmml" xref="S3.p2.8.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.8.m1.1c">p_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.8.m1.1d">italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> is a Large Language Model (LLM), and every rationale is generated fully by the LLM based on auto-regressive decoding. In this paper, our model will apply an alternative paradigm, which is <span class="ltx_text ltx_font_bold" id="S3.p2.8.1">Program-based Reasoning</span>, whose mathematical expression is as follows:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="r_{i}=f_{i}(r_{i}|r_{1},r_{2},...,r_{i-1},{\bf x},\mathbf{C}),\quad f_{i}\sim p%
_{\theta}(f_{1},f_{2},...,f_{i-1},{\bf x},\mathbf{C})" class="ltx_Math" display="block" id="S3.E2.m1.8"><semantics id="S3.E2.m1.8a"><mrow id="S3.E2.m1.8.8.2" xref="S3.E2.m1.8.8.3.cmml"><mrow id="S3.E2.m1.7.7.1.1" xref="S3.E2.m1.7.7.1.1.cmml"><msub id="S3.E2.m1.7.7.1.1.3" xref="S3.E2.m1.7.7.1.1.3.cmml"><mi id="S3.E2.m1.7.7.1.1.3.2" xref="S3.E2.m1.7.7.1.1.3.2.cmml">r</mi><mi id="S3.E2.m1.7.7.1.1.3.3" xref="S3.E2.m1.7.7.1.1.3.3.cmml">i</mi></msub><mo id="S3.E2.m1.7.7.1.1.2" xref="S3.E2.m1.7.7.1.1.2.cmml">=</mo><mrow id="S3.E2.m1.7.7.1.1.1" xref="S3.E2.m1.7.7.1.1.1.cmml"><msub id="S3.E2.m1.7.7.1.1.1.3" xref="S3.E2.m1.7.7.1.1.1.3.cmml"><mi id="S3.E2.m1.7.7.1.1.1.3.2" xref="S3.E2.m1.7.7.1.1.1.3.2.cmml">f</mi><mi id="S3.E2.m1.7.7.1.1.1.3.3" xref="S3.E2.m1.7.7.1.1.1.3.3.cmml">i</mi></msub><mo id="S3.E2.m1.7.7.1.1.1.2" xref="S3.E2.m1.7.7.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.7.7.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.7.7.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.7.7.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.7.7.1.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.1.1.1.1.cmml"><msub id="S3.E2.m1.7.7.1.1.1.1.1.1.5" xref="S3.E2.m1.7.7.1.1.1.1.1.1.5.cmml"><mi id="S3.E2.m1.7.7.1.1.1.1.1.1.5.2" xref="S3.E2.m1.7.7.1.1.1.1.1.1.5.2.cmml">r</mi><mi id="S3.E2.m1.7.7.1.1.1.1.1.1.5.3" xref="S3.E2.m1.7.7.1.1.1.1.1.1.5.3.cmml">i</mi></msub><mo fence="false" id="S3.E2.m1.7.7.1.1.1.1.1.1.4" xref="S3.E2.m1.7.7.1.1.1.1.1.1.4.cmml">|</mo><mrow id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.4.cmml"><msub id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml">r</mi><mn id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.4" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2" xref="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.2" xref="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.2.cmml">r</mi><mn id="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.3" xref="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.3.cmml">2</mn></msub><mo id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.5" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.4.cmml">,</mo><mi id="S3.E2.m1.1.1" mathvariant="normal" xref="S3.E2.m1.1.1.cmml">…</mi><mo id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.6" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.2" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.2.cmml">r</mi><mrow id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.cmml"><mi id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.2" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.2.cmml">i</mi><mo id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.1" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.1.cmml">−</mo><mn id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.3" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.7" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.4.cmml">,</mo><mi id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml">𝐱</mi><mo id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.8" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.4.cmml">,</mo><mi id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml">𝐂</mi></mrow></mrow><mo id="S3.E2.m1.7.7.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.7.7.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2.m1.8.8.2.3" rspace="1.167em" xref="S3.E2.m1.8.8.3a.cmml">,</mo><mrow id="S3.E2.m1.8.8.2.2" xref="S3.E2.m1.8.8.2.2.cmml"><msub id="S3.E2.m1.8.8.2.2.5" xref="S3.E2.m1.8.8.2.2.5.cmml"><mi id="S3.E2.m1.8.8.2.2.5.2" xref="S3.E2.m1.8.8.2.2.5.2.cmml">f</mi><mi id="S3.E2.m1.8.8.2.2.5.3" xref="S3.E2.m1.8.8.2.2.5.3.cmml">i</mi></msub><mo id="S3.E2.m1.8.8.2.2.4" xref="S3.E2.m1.8.8.2.2.4.cmml">∼</mo><mrow id="S3.E2.m1.8.8.2.2.3" xref="S3.E2.m1.8.8.2.2.3.cmml"><msub id="S3.E2.m1.8.8.2.2.3.5" xref="S3.E2.m1.8.8.2.2.3.5.cmml"><mi id="S3.E2.m1.8.8.2.2.3.5.2" xref="S3.E2.m1.8.8.2.2.3.5.2.cmml">p</mi><mi id="S3.E2.m1.8.8.2.2.3.5.3" xref="S3.E2.m1.8.8.2.2.3.5.3.cmml">θ</mi></msub><mo id="S3.E2.m1.8.8.2.2.3.4" xref="S3.E2.m1.8.8.2.2.3.4.cmml">⁢</mo><mrow id="S3.E2.m1.8.8.2.2.3.3.3" xref="S3.E2.m1.8.8.2.2.3.3.4.cmml"><mo id="S3.E2.m1.8.8.2.2.3.3.3.4" stretchy="false" xref="S3.E2.m1.8.8.2.2.3.3.4.cmml">(</mo><msub id="S3.E2.m1.8.8.2.2.1.1.1.1" xref="S3.E2.m1.8.8.2.2.1.1.1.1.cmml"><mi id="S3.E2.m1.8.8.2.2.1.1.1.1.2" xref="S3.E2.m1.8.8.2.2.1.1.1.1.2.cmml">f</mi><mn id="S3.E2.m1.8.8.2.2.1.1.1.1.3" xref="S3.E2.m1.8.8.2.2.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.E2.m1.8.8.2.2.3.3.3.5" xref="S3.E2.m1.8.8.2.2.3.3.4.cmml">,</mo><msub id="S3.E2.m1.8.8.2.2.2.2.2.2" xref="S3.E2.m1.8.8.2.2.2.2.2.2.cmml"><mi id="S3.E2.m1.8.8.2.2.2.2.2.2.2" xref="S3.E2.m1.8.8.2.2.2.2.2.2.2.cmml">f</mi><mn id="S3.E2.m1.8.8.2.2.2.2.2.2.3" xref="S3.E2.m1.8.8.2.2.2.2.2.2.3.cmml">2</mn></msub><mo id="S3.E2.m1.8.8.2.2.3.3.3.6" xref="S3.E2.m1.8.8.2.2.3.3.4.cmml">,</mo><mi id="S3.E2.m1.4.4" mathvariant="normal" xref="S3.E2.m1.4.4.cmml">…</mi><mo id="S3.E2.m1.8.8.2.2.3.3.3.7" xref="S3.E2.m1.8.8.2.2.3.3.4.cmml">,</mo><msub id="S3.E2.m1.8.8.2.2.3.3.3.3" xref="S3.E2.m1.8.8.2.2.3.3.3.3.cmml"><mi id="S3.E2.m1.8.8.2.2.3.3.3.3.2" xref="S3.E2.m1.8.8.2.2.3.3.3.3.2.cmml">f</mi><mrow id="S3.E2.m1.8.8.2.2.3.3.3.3.3" xref="S3.E2.m1.8.8.2.2.3.3.3.3.3.cmml"><mi id="S3.E2.m1.8.8.2.2.3.3.3.3.3.2" xref="S3.E2.m1.8.8.2.2.3.3.3.3.3.2.cmml">i</mi><mo id="S3.E2.m1.8.8.2.2.3.3.3.3.3.1" xref="S3.E2.m1.8.8.2.2.3.3.3.3.3.1.cmml">−</mo><mn id="S3.E2.m1.8.8.2.2.3.3.3.3.3.3" xref="S3.E2.m1.8.8.2.2.3.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.E2.m1.8.8.2.2.3.3.3.8" xref="S3.E2.m1.8.8.2.2.3.3.4.cmml">,</mo><mi id="S3.E2.m1.5.5" xref="S3.E2.m1.5.5.cmml">𝐱</mi><mo id="S3.E2.m1.8.8.2.2.3.3.3.9" xref="S3.E2.m1.8.8.2.2.3.3.4.cmml">,</mo><mi id="S3.E2.m1.6.6" xref="S3.E2.m1.6.6.cmml">𝐂</mi><mo id="S3.E2.m1.8.8.2.2.3.3.3.10" stretchy="false" xref="S3.E2.m1.8.8.2.2.3.3.4.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.8b"><apply id="S3.E2.m1.8.8.3.cmml" xref="S3.E2.m1.8.8.2"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.3a.cmml" xref="S3.E2.m1.8.8.2.3">formulae-sequence</csymbol><apply id="S3.E2.m1.7.7.1.1.cmml" xref="S3.E2.m1.7.7.1.1"><eq id="S3.E2.m1.7.7.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.2"></eq><apply id="S3.E2.m1.7.7.1.1.3.cmml" xref="S3.E2.m1.7.7.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.3.1.cmml" xref="S3.E2.m1.7.7.1.1.3">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.3.2.cmml" xref="S3.E2.m1.7.7.1.1.3.2">𝑟</ci><ci id="S3.E2.m1.7.7.1.1.3.3.cmml" xref="S3.E2.m1.7.7.1.1.3.3">𝑖</ci></apply><apply id="S3.E2.m1.7.7.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.1"><times id="S3.E2.m1.7.7.1.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.1.2"></times><apply id="S3.E2.m1.7.7.1.1.1.3.cmml" xref="S3.E2.m1.7.7.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.1.3.1.cmml" xref="S3.E2.m1.7.7.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.1.3.2.cmml" xref="S3.E2.m1.7.7.1.1.1.3.2">𝑓</ci><ci id="S3.E2.m1.7.7.1.1.1.3.3.cmml" xref="S3.E2.m1.7.7.1.1.1.3.3">𝑖</ci></apply><apply id="S3.E2.m1.7.7.1.1.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.7.7.1.1.1.1.1.1.4.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.4">conditional</csymbol><apply id="S3.E2.m1.7.7.1.1.1.1.1.1.5.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.1.1.1.1.5.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.5">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.1.1.1.1.5.2.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.5.2">𝑟</ci><ci id="S3.E2.m1.7.7.1.1.1.1.1.1.5.3.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.5.3">𝑖</ci></apply><list id="S3.E2.m1.7.7.1.1.1.1.1.1.3.4.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3"><apply id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.2">𝑟</ci><cn id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3">1</cn></apply><apply id="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.2">𝑟</ci><cn id="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S3.E2.m1.7.7.1.1.1.1.1.1.2.2.2.3">2</cn></apply><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">…</ci><apply id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.2">𝑟</ci><apply id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3"><minus id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.1"></minus><ci id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.2.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.2">𝑖</ci><cn id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.3.cmml" type="integer" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.3.3.3">1</cn></apply></apply><ci id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2">𝐱</ci><ci id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3">𝐂</ci></list></apply></apply></apply><apply id="S3.E2.m1.8.8.2.2.cmml" xref="S3.E2.m1.8.8.2.2"><csymbol cd="latexml" id="S3.E2.m1.8.8.2.2.4.cmml" xref="S3.E2.m1.8.8.2.2.4">similar-to</csymbol><apply id="S3.E2.m1.8.8.2.2.5.cmml" xref="S3.E2.m1.8.8.2.2.5"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.2.2.5.1.cmml" xref="S3.E2.m1.8.8.2.2.5">subscript</csymbol><ci id="S3.E2.m1.8.8.2.2.5.2.cmml" xref="S3.E2.m1.8.8.2.2.5.2">𝑓</ci><ci id="S3.E2.m1.8.8.2.2.5.3.cmml" xref="S3.E2.m1.8.8.2.2.5.3">𝑖</ci></apply><apply id="S3.E2.m1.8.8.2.2.3.cmml" xref="S3.E2.m1.8.8.2.2.3"><times id="S3.E2.m1.8.8.2.2.3.4.cmml" xref="S3.E2.m1.8.8.2.2.3.4"></times><apply id="S3.E2.m1.8.8.2.2.3.5.cmml" xref="S3.E2.m1.8.8.2.2.3.5"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.2.2.3.5.1.cmml" xref="S3.E2.m1.8.8.2.2.3.5">subscript</csymbol><ci id="S3.E2.m1.8.8.2.2.3.5.2.cmml" xref="S3.E2.m1.8.8.2.2.3.5.2">𝑝</ci><ci id="S3.E2.m1.8.8.2.2.3.5.3.cmml" xref="S3.E2.m1.8.8.2.2.3.5.3">𝜃</ci></apply><vector id="S3.E2.m1.8.8.2.2.3.3.4.cmml" xref="S3.E2.m1.8.8.2.2.3.3.3"><apply id="S3.E2.m1.8.8.2.2.1.1.1.1.cmml" xref="S3.E2.m1.8.8.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.2.2.1.1.1.1.1.cmml" xref="S3.E2.m1.8.8.2.2.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.8.8.2.2.1.1.1.1.2.cmml" xref="S3.E2.m1.8.8.2.2.1.1.1.1.2">𝑓</ci><cn id="S3.E2.m1.8.8.2.2.1.1.1.1.3.cmml" type="integer" xref="S3.E2.m1.8.8.2.2.1.1.1.1.3">1</cn></apply><apply id="S3.E2.m1.8.8.2.2.2.2.2.2.cmml" xref="S3.E2.m1.8.8.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.2.2.2.2.2.2.1.cmml" xref="S3.E2.m1.8.8.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E2.m1.8.8.2.2.2.2.2.2.2.cmml" xref="S3.E2.m1.8.8.2.2.2.2.2.2.2">𝑓</ci><cn id="S3.E2.m1.8.8.2.2.2.2.2.2.3.cmml" type="integer" xref="S3.E2.m1.8.8.2.2.2.2.2.2.3">2</cn></apply><ci id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4">…</ci><apply id="S3.E2.m1.8.8.2.2.3.3.3.3.cmml" xref="S3.E2.m1.8.8.2.2.3.3.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.2.2.3.3.3.3.1.cmml" xref="S3.E2.m1.8.8.2.2.3.3.3.3">subscript</csymbol><ci id="S3.E2.m1.8.8.2.2.3.3.3.3.2.cmml" xref="S3.E2.m1.8.8.2.2.3.3.3.3.2">𝑓</ci><apply id="S3.E2.m1.8.8.2.2.3.3.3.3.3.cmml" xref="S3.E2.m1.8.8.2.2.3.3.3.3.3"><minus id="S3.E2.m1.8.8.2.2.3.3.3.3.3.1.cmml" xref="S3.E2.m1.8.8.2.2.3.3.3.3.3.1"></minus><ci id="S3.E2.m1.8.8.2.2.3.3.3.3.3.2.cmml" xref="S3.E2.m1.8.8.2.2.3.3.3.3.3.2">𝑖</ci><cn id="S3.E2.m1.8.8.2.2.3.3.3.3.3.3.cmml" type="integer" xref="S3.E2.m1.8.8.2.2.3.3.3.3.3.3">1</cn></apply></apply><ci id="S3.E2.m1.5.5.cmml" xref="S3.E2.m1.5.5">𝐱</ci><ci id="S3.E2.m1.6.6.cmml" xref="S3.E2.m1.6.6">𝐂</ci></vector></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.8c">r_{i}=f_{i}(r_{i}|r_{1},r_{2},...,r_{i-1},{\bf x},\mathbf{C}),\quad f_{i}\sim p%
_{\theta}(f_{1},f_{2},...,f_{i-1},{\bf x},\mathbf{C})</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.8d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_r start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_r start_POSTSUBSCRIPT italic_i - 1 end_POSTSUBSCRIPT , bold_x , bold_C ) , italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∼ italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_f start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_f start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_f start_POSTSUBSCRIPT italic_i - 1 end_POSTSUBSCRIPT , bold_x , bold_C )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.p2.11">where <math alttext="p_{\theta}" class="ltx_Math" display="inline" id="S3.p2.9.m1.1"><semantics id="S3.p2.9.m1.1a"><msub id="S3.p2.9.m1.1.1" xref="S3.p2.9.m1.1.1.cmml"><mi id="S3.p2.9.m1.1.1.2" xref="S3.p2.9.m1.1.1.2.cmml">p</mi><mi id="S3.p2.9.m1.1.1.3" xref="S3.p2.9.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.9.m1.1b"><apply id="S3.p2.9.m1.1.1.cmml" xref="S3.p2.9.m1.1.1"><csymbol cd="ambiguous" id="S3.p2.9.m1.1.1.1.cmml" xref="S3.p2.9.m1.1.1">subscript</csymbol><ci id="S3.p2.9.m1.1.1.2.cmml" xref="S3.p2.9.m1.1.1.2">𝑝</ci><ci id="S3.p2.9.m1.1.1.3.cmml" xref="S3.p2.9.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.9.m1.1c">p_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.9.m1.1d">italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> is a LLM that can generate code, and <math alttext="f_{1},...,f_{i}" class="ltx_Math" display="inline" id="S3.p2.10.m2.3"><semantics id="S3.p2.10.m2.3a"><mrow id="S3.p2.10.m2.3.3.2" xref="S3.p2.10.m2.3.3.3.cmml"><msub id="S3.p2.10.m2.2.2.1.1" xref="S3.p2.10.m2.2.2.1.1.cmml"><mi id="S3.p2.10.m2.2.2.1.1.2" xref="S3.p2.10.m2.2.2.1.1.2.cmml">f</mi><mn id="S3.p2.10.m2.2.2.1.1.3" xref="S3.p2.10.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.p2.10.m2.3.3.2.3" xref="S3.p2.10.m2.3.3.3.cmml">,</mo><mi id="S3.p2.10.m2.1.1" mathvariant="normal" xref="S3.p2.10.m2.1.1.cmml">…</mi><mo id="S3.p2.10.m2.3.3.2.4" xref="S3.p2.10.m2.3.3.3.cmml">,</mo><msub id="S3.p2.10.m2.3.3.2.2" xref="S3.p2.10.m2.3.3.2.2.cmml"><mi id="S3.p2.10.m2.3.3.2.2.2" xref="S3.p2.10.m2.3.3.2.2.2.cmml">f</mi><mi id="S3.p2.10.m2.3.3.2.2.3" xref="S3.p2.10.m2.3.3.2.2.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.10.m2.3b"><list id="S3.p2.10.m2.3.3.3.cmml" xref="S3.p2.10.m2.3.3.2"><apply id="S3.p2.10.m2.2.2.1.1.cmml" xref="S3.p2.10.m2.2.2.1.1"><csymbol cd="ambiguous" id="S3.p2.10.m2.2.2.1.1.1.cmml" xref="S3.p2.10.m2.2.2.1.1">subscript</csymbol><ci id="S3.p2.10.m2.2.2.1.1.2.cmml" xref="S3.p2.10.m2.2.2.1.1.2">𝑓</ci><cn id="S3.p2.10.m2.2.2.1.1.3.cmml" type="integer" xref="S3.p2.10.m2.2.2.1.1.3">1</cn></apply><ci id="S3.p2.10.m2.1.1.cmml" xref="S3.p2.10.m2.1.1">…</ci><apply id="S3.p2.10.m2.3.3.2.2.cmml" xref="S3.p2.10.m2.3.3.2.2"><csymbol cd="ambiguous" id="S3.p2.10.m2.3.3.2.2.1.cmml" xref="S3.p2.10.m2.3.3.2.2">subscript</csymbol><ci id="S3.p2.10.m2.3.3.2.2.2.cmml" xref="S3.p2.10.m2.3.3.2.2.2">𝑓</ci><ci id="S3.p2.10.m2.3.3.2.2.3.cmml" xref="S3.p2.10.m2.3.3.2.2.3">𝑖</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.10.m2.3c">f_{1},...,f_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.10.m2.3d">italic_f start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> are program sentences generated by <math alttext="p_{\theta}" class="ltx_Math" display="inline" id="S3.p2.11.m3.1"><semantics id="S3.p2.11.m3.1a"><msub id="S3.p2.11.m3.1.1" xref="S3.p2.11.m3.1.1.cmml"><mi id="S3.p2.11.m3.1.1.2" xref="S3.p2.11.m3.1.1.2.cmml">p</mi><mi id="S3.p2.11.m3.1.1.3" xref="S3.p2.11.m3.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.11.m3.1b"><apply id="S3.p2.11.m3.1.1.cmml" xref="S3.p2.11.m3.1.1"><csymbol cd="ambiguous" id="S3.p2.11.m3.1.1.1.cmml" xref="S3.p2.11.m3.1.1">subscript</csymbol><ci id="S3.p2.11.m3.1.1.2.cmml" xref="S3.p2.11.m3.1.1.2">𝑝</ci><ci id="S3.p2.11.m3.1.1.3.cmml" xref="S3.p2.11.m3.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.11.m3.1c">p_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.11.m3.1d">italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="360" id="S3.F2.g1" src="https://arxiv.org/html/2410.04047v1/x2.png" width="706">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>The proposed pipeline for evaluation and time series reasoner. Top left: Instruction, Data, Evaluation Config sampled Instruction-Program Generator. Top Left: Evaluation given model output and evaluation config. Right:TS-Reasoner performs task decomposition and program execution to obtain final answer.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Dataset and Tasks</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">Our dataset<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>We will release the data and materials for public use. </span></span></span> is primarily built for three major categories of tasks: decision making on financial data, compositional question answering about finance market and energy usage, and causal mining on synthetic dataset <cite class="ltx_cite ltx_citemacro_citep">(Denis et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib14" title="">2003</a>; Gonzalez-Vidal et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib21" title="">2019</a>; Cao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib6" title="">2023a</a>)</cite>. Among these tasks, decision making present unique challenges for evaluation, as they cannot be easily assessed through simple comparisons with ground truth answers like traditional question answering tasks. To address this, we innovatively proposed an instruction/program pool to abstract the evaluation process for these tasks, shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S3.F2" title="Figure 2 ‣ 3 Task Definition ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">2</span></a>. Specifically, we designed a set of appropriate instructions for each application domain, in which each instruction is paired with an evaluation configuration that outlines the criteria for success. Given a response, our unified evaluation program (shown in Algorithm 1) determines whether the answer is successful based on the evaluation configuration, reporting both the success rate and end task specific performance metrics. For instance, in the context of financial decision making, we assess whether the given decision is compliant with the given budget and evaluate the corresponding outcomes such as the total profit.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S4.p2">
<p class="ltx_p" id="S4.p2.1">This comprehensive approach allows us to effectively evaluate performance across diverse tasks that extend beyond conventional time series analysis, providing a clear picture of both success rates and overall effectiveness.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S4.p3">
<div class="ltx_listing ltx_lst_language_Python ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S4.p3.1" style="background-color:#F2F2EB;border-color: #000000;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,ZGVmIEV2YWx1YXRvcihyZXNwb25zZSwgZ3JvdW5kX3RydXRoX2RhdGEsIGV2YWxfY29uZmlnKToKICAgICNvYnRhaW4gcmVsZXZhbnQgY29udGV4dCBmcm9tIHF1ZXN0aW9uCiAgICBjb250ZXh0ID0gZXZhbF9jb25maWdbJ2NvbnRleHQnXQogICAgI29idGFpbiBuZWVkZWQgY29uc3RyYWludHMgc3BlY2lmaWVkIGluIHF1ZXN0aW9uCiAgICBjb25zdHJhaW50ID0gZXZhbF9jb25maWdbJ2NvbnN0cmFpbnQnXQogICAgI2NvbnN0cmFpbnQgdmVyaWZpY2F0aW9uCiAgICBmbGFnID0gY2hlY2tfY29uc3RyYWludChyZXNwb25zZT1yZXNwb25zZSxjb250ZXh0PWNvbnRlZXh0LCBjb25zdHJhaW50PWNvbnN0cmFpbnRdKQogICAgI3Rhc2sgc3BlY2lmaWMgZXZhbHVhdGlvbgogICAgcGVyZm9ybWFuY2UgPSB0YXNrX3NwZWNpZmljX2V2YWwoZXZhbF9jb25maWdbInRhc2tfbmFtZSJdLGRhdGE9Z3JvdW5kX3RydXRoX2RhdGEpCiAgICByZXR1cm4gZmxhZywgKnBlcmZvcm1hbmNlCg==">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx1">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx1.1" style="color:#1F8FFF;">def</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx1.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx1.3">Evaluator</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx1.4">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx1.5">response</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx1.6">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx1.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx1.8">ground_truth_data</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx1.9">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx1.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx1.11">eval_config</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx1.12">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx2">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.1"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_italic" id="lstnumberx2.2" style="color:#008000;">#obtain<span class="ltx_text ltx_lst_space" id="lstnumberx2.2.1"> </span>relevant<span class="ltx_text ltx_lst_space" id="lstnumberx2.2.2"> </span>context<span class="ltx_text ltx_lst_space" id="lstnumberx2.2.3"> </span>from<span class="ltx_text ltx_lst_space" id="lstnumberx2.2.4"> </span>question</span>
</div>
<div class="ltx_listingline" id="lstnumberx3">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.1"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.2">context</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.3"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.4">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.5"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.6">eval_config</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.7">[</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx3.8" style="color:#FF7D00;">’context’</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.9">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx4">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.1"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_italic" id="lstnumberx4.2" style="color:#008000;">#obtain<span class="ltx_text ltx_lst_space" id="lstnumberx4.2.1"> </span>needed<span class="ltx_text ltx_lst_space" id="lstnumberx4.2.2"> </span>constraints<span class="ltx_text ltx_lst_space" id="lstnumberx4.2.3"> </span>specified<span class="ltx_text ltx_lst_space" id="lstnumberx4.2.4"> </span>in<span class="ltx_text ltx_lst_space" id="lstnumberx4.2.5"> </span>question</span>
</div>
<div class="ltx_listingline" id="lstnumberx5">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.1"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx5.2">constraint</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.3"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.4">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.5"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx5.6">eval_config</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.7">[</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx5.8" style="color:#FF7D00;">’constraint’</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.9">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx6">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.1"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_italic" id="lstnumberx6.2" style="color:#008000;">#constraint<span class="ltx_text ltx_lst_space" id="lstnumberx6.2.1"> </span>verification</span>
</div>
<div class="ltx_listingline" id="lstnumberx7">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.1"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.2">flag</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.3"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.4">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.5"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.6">check_constraint</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.7">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.8">response</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.9">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.10">response</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.11">,</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.12">context</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.13">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.14">conteext</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.15">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.17">constraint</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.18">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.19">constraint</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.20">])</span>
</div>
<div class="ltx_listingline" id="lstnumberx8">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.1"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_italic" id="lstnumberx8.2" style="color:#008000;">#task<span class="ltx_text ltx_lst_space" id="lstnumberx8.2.1"> </span>specific<span class="ltx_text ltx_lst_space" id="lstnumberx8.2.2"> </span>evaluation</span>
</div>
<div class="ltx_listingline" id="lstnumberx9">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.1"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.2">performance</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.3"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.4">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.5"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.6">task_specific_eval</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.7">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.8">eval_config</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.9">[</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx9.10" style="color:#FF7D00;">"task_name"</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.11">],</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.12">data</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.13">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.14">ground_truth_data</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.15">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx10">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.1"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx10.2" style="color:#1F8FFF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.4">flag</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.5">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.7">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.8">performance</span>
</div>
</div>
<p class="ltx_p ltx_align_center" id="S4.p3.2">Algorithm 1: The Unified Evaluation Program.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Decision Making</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">In our decision-making task, we focus on investment portfolio decisions within the financial market, which requires the ability to synthesize information from multiple areas such as trend recognition, risk assessment, and numerical optimization based on human expertise <cite class="ltx_cite ltx_citemacro_citep">(Bonaparte et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib4" title="">2014</a>)</cite>. For each test sample, historical stock prices of interest are provided alongside immediate future data. The historical data includes natural language questions articulating investment goals—such as maximizing profit—as well as constraints, including budget limitations, expected profit ratios, and acceptable loss ratios. The question is generated according to the following template:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p2">
<svg class="ltx_picture" height="107.81" id="S4.SS1.p2.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,107.81) matrix(1 0 0 -1 0 0)"><g fill="#FFFFFF" fill-opacity="1.0"><path d="M 0 5.91 L 0 101.91 C 0 105.17 2.64 107.81 5.91 107.81 L 594.09 107.81 C 597.36 107.81 600 105.17 600 101.91 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 101.91 C 1.97 104.08 3.73 105.85 5.91 105.85 L 594.09 105.85 C 596.27 105.85 598.03 104.08 598.03 101.91 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignObject color="#000000" height="80.25" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69"><span class="ltx_inline-sectional-block ltx_minipage" id="S4.SS1.p2.pic1.1.1.1.1.1">
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Question Template (Decision Making on Financial Time Series)</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<span class="ltx_para" id="S4.SS1.SSS0.Px1.p1">
<span class="ltx_p" id="S4.SS1.SSS0.Px1.p1.1"><span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.1">I have historical stock value data for some stocks that I’m interested in investing in with a budget of </span>{<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.2">budget</span>}<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.3"> dollars. [1. I want to make at least </span>{<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.4">profit percent</span>}<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.5">%
profit. 2. I have a risk tolerance of </span>{<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.6">risk percent</span>}<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.7">%. 3. I want to allocate no more than </span>{<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.8">allocation budget</span>}<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.9"> dollars to </span>{<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.10">stock name</span>}<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.11">.] Please give me an investment strategy for the next </span>{<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.12">future length</span>}<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.13"> </span>{<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.14">data resolution: day or hour</span>}<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.15">s. </span>{<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.16">output requirement</span>}<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.17">.</span></span>
</span>
</section></span></foreignObject></g></g></svg><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Compositional Question Answering</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">In our compositional question answering task, we primarily focus on financial markets and load-related issues in the energy sector. Specifically, each test sample provides the model with a natural language question and relevant time series historical data, such as stock prices and energy supply data. The questions are generated by the following templates:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p2">
<svg class="ltx_picture" height="240.65" id="S4.SS2.p2.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,240.65) matrix(1 0 0 -1 0 0)"><g fill="#FFFFFF" fill-opacity="1.0"><path d="M 0 5.91 L 0 234.74 C 0 238 2.64 240.65 5.91 240.65 L 594.09 240.65 C 597.36 240.65 600 238 600 234.74 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 234.74 C 1.97 236.92 3.73 238.68 5.91 238.68 L 594.09 238.68 C 596.27 238.68 598.03 236.92 598.03 234.74 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignObject color="#000000" height="213.09" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69"><span class="ltx_inline-sectional-block ltx_minipage" id="S4.SS2.p2.pic1.1.1.1.1.1">
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Question Template (Compositional Question Answering on Energy Supply Time Series)</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<span class="ltx_para ltx_noindent" id="S4.SS2.SSS0.Px1.p1">
<span class="ltx_p" id="S4.SS2.SSS0.Px1.p1.1"><span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.1">I have historical </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.2">influence variables</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.3"> data and the corresponding target variable data for the past </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.4">historical length</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.5"> minutes. [1. I need to ensure that the maximum allowable system load does not exceed </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.6">load value</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.7"> MW. 2. I require that the system load is maintained above a minimum of </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.8">load value</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.9"> MW. 3. I must monitor the load ramp rate to ensure it does not exceed </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.10">constraint value</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.11"> MW for each time step. 4. I need to manage the load variability so that it does not exceed </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.12">constraint value</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.13"> MW over the given period.] Think about how </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.14">influence variables</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.15"> influence </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.16">target variable</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.17">. Please give me a forecast for the next </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.18">future length</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.19"> minutes for target variable. Your goal is to make the most accurate forecast as possible, refine prediction result based on the constraint previously described, </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.20">output requirement</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px1.p1.1.21">.
</span></span>
</span>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Question Template (Compositional Question Answering on Financial Time Series )</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<span class="ltx_para" id="S4.SS2.SSS0.Px2.p1">
<span class="ltx_p" id="S4.SS2.SSS0.Px2.p1.1"><span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px2.p1.1.1">I have the past </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px2.p1.1.2">historical length</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px2.p1.1.3"> hours historical stock value data for some stocks that I’m interested in investing in. [1. I want to predict the volatility of the stock price 2. I want to predict the stock price ] for the future future length hours. Your goal is to make the most accurate prediction. Please give me your prediction, </span>{<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px2.p1.1.4">output requirement</span>}<span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px2.p1.1.5">.
</span></span>
</span>
</section></span></foreignObject></g></g></svg><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Causal Mining</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">For causal mining, we synthesize a set of data grounded in domain knowledge related to climate science, finance, and economics. Specifically, we generate a series of multivariate time series data based on established causal relationships and meteorological principles. Each test sample consists of a time series dataset of various variables, accompanied by a natural language instruction that asks the model to uncover the causal dependencies between the given time series. For details on data generation process, please refer to section <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A3.SS4" title="C.4 Casual Mining Data Generation ‣ Appendix C Prompt and Tool ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">C.4</span></a>. The reasoning model must infer dependencies based on the given data and instructions. The evaluation framework then measures the model’s performance by comparing its inferred causal relationships with the ground truth. The questions are generated by the following template:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.p2">
<svg class="ltx_picture" height="91.21" id="S4.SS3.p2.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,91.21) matrix(1 0 0 -1 0 0)"><g fill="#FFFFFF" fill-opacity="1.0"><path d="M 0 5.91 L 0 85.3 C 0 88.57 2.64 91.21 5.91 91.21 L 594.09 91.21 C 597.36 91.21 600 88.57 600 85.3 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 85.3 C 1.97 87.48 3.73 89.24 5.91 89.24 L 594.09 89.24 C 596.27 89.24 598.03 87.48 598.03 85.3 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignObject color="#000000" height="63.65" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69"><span class="ltx_inline-sectional-block ltx_minipage" id="S4.SS3.p2.pic1.1.1.1.1.1">
<section class="ltx_paragraph" id="S4.SS3.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Question Template (Causal Analysis)</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<span class="ltx_para" id="S4.SS3.SSS0.Px1.p1">
<span class="ltx_p" id="S4.SS3.SSS0.Px1.p1.1"><span class="ltx_text ltx_font_italic" id="S4.SS3.SSS0.Px1.p1.1.1">I have historical </span>{<span class="ltx_text ltx_font_italic" id="S4.SS3.SSS0.Px1.p1.1.2">variable names</span>}<span class="ltx_text ltx_font_italic" id="S4.SS3.SSS0.Px1.p1.1.3"> data and want to get the causal relationship between each pair of the variables. I know that </span>{<span class="ltx_text ltx_font_italic" id="S4.SS3.SSS0.Px1.p1.1.4">ratio</span>}<span class="ltx_text ltx_font_italic" id="S4.SS3.SSS0.Px1.p1.1.5">% of the variable pairs have relationship. Consider the potential influence of each variable on the others in this variable list: variable names. </span>{<span class="ltx_text ltx_font_italic" id="S4.SS3.SSS0.Px1.p1.1.6">output requirement</span>}<span class="ltx_text ltx_font_italic" id="S4.SS3.SSS0.Px1.p1.1.7">.</span></span>
</span>
</section></span></foreignObject></g></g></svg><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Program-based Time Series Reasoning</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">When handling time series data, methods that rely solely on large language models (LLMs) for reasoning, such as the Chain-of-Thought (CoT) approach, often struggle with understanding numerical information <cite class="ltx_cite ltx_citemacro_citep">(Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#bib.bib55" title="">2024</a>)</cite>. These models, while powerful in generating logical inferences, are prone to making errors in calculations or failing to adhere to numerical constraints that are crucial in tasks involving time series analysis. These shortcomings underscore the necessity for programmatic assistance in reasoning processes. To mitigate such errors, we propose a framework that supplements LLM-based reasoning with program-based decomposition and leverages the in-context learning ability of LLMs.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S5.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="325" id="S5.F3.g1" src="https://arxiv.org/html/2410.04047v1/x3.png" width="789">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>The pipeline of TS-Reasoner. The LLM work as task decomposer, which learn from in-context examples to decompose task instances as programs. Then a program executor will call modules in our tool box to run relevant programs in the given order to obtain final result.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_paragraph" id="S5.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Task Decomposer</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S5.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S5.SS0.SSS0.Px1.p1.1">The proposed framework handles time series data by integrating program-based decomposition and task-specific models. As illustrated in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S5.F3" title="Figure 3 ‣ 5 Program-based Time Series Reasoning ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">3</span></a>, the core idea revolves around a programmatic task decomposition engine, which we refer to as the ”Problem Decomposer”. This component is responsible for disassembling complex tasks into a series of smaller, manageable subtasks, each described in a programmatic manner. These subtasks are subsequently addressed by distinct processing modules, enabling the framework to provide robust, step-wise solutions to time series-related problems. In TS-Reasoner , We use ChatGPT-3.5-turbo as our task decomposer. We leverage the in-context learning ability of pretrained language model and construct question-program pairs as in-context examples. The in context examples are carefully constructed so that the samples questions are equally distributed across the four question types (Financial Investment Strategy, Future Stock Characteristic Prediction, Energy Load Perdiction with known knowledge, Causal Relation). As shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S5.F3" title="Figure 3 ‣ 5 Program-based Time Series Reasoning ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">3</span></a>, every in-context sample is a question program pair where the question is described in natural language and the program is pseudo-code like. Please refer to section <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A3.SS1" title="C.1 Prompt for TS-Reasoner ‣ Appendix C Prompt and Tool ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">C.1</span></a> for prompts given to task decomposer.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS0.SSS0.Px1.p2">
<p class="ltx_p" id="S5.SS0.SSS0.Px1.p2.1">The decomposition of tasks allows for targeted processing through three types of modules, each specialized for different aspects of the reasoning process:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS0.SSS0.Px1.p3">
<p class="ltx_p" id="S5.SS0.SSS0.Px1.p3.1"><span class="ltx_text ltx_font_bold" id="S5.SS0.SSS0.Px1.p3.1.1">Time Series Model Modules: </span>
These modules are grounded in foundation time series models and are primarily responsible for handling standard operations such as forecasting, anomaly detection, trend analysis, and other predictive or diagnostic tasks. Their purpose is to leverage established models in the field to process data-driven subtasks with high precision and efficiency.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS0.SSS0.Px1.p4">
<p class="ltx_p" id="S5.SS0.SSS0.Px1.p4.1"><span class="ltx_text ltx_font_bold" id="S5.SS0.SSS0.Px1.p4.1.1">Numerical Method Modules:</span>
A second class of modules focuses on numerical and statistical methods. These modules are particularly adept at performing quantitative manipulations on the data, such as extracting trends, computing ranges, and conducting basic arithmetic or statistical analyses. The application of numerical techniques allows for a clearer interpretation of time series dynamics, particularly in tasks where precise quantitative reasoning is required.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS0.SSS0.Px1.p5">
<p class="ltx_p" id="S5.SS0.SSS0.Px1.p5.1"><span class="ltx_text ltx_font_bold" id="S5.SS0.SSS0.Px1.p5.1.1">Custom Module Generation via Large Language Models (LLMs): </span>
The third type of module addresses a significant challenge in time series reasoning: the handling of external knowledge and user-specific instructions that cannot be predefined. In many real-world scenarios, users may incorporate unique external knowledge (i.e. maximum or minimum of the value range in forecasting) or requirement, which are often expressed in natural language within the input instructions. To handle such custom requirements, the framework includes a “Custom Module Generation Function,” which calls on a large language model (LLM) to interpret the natural language directives. The LLM translates these personalized constraints and objectives into programmatic code, wrapping them into a callable module that integrates seamlessly with the broader reasoning process.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS0.SSS0.Px1.p6">
<p class="ltx_p" id="S5.SS0.SSS0.Px1.p6.1">Together, these three module types execute the sequence of tasks generated by the Problem Decomposer. Once the subtasks are processed, the system produces corresponding outputs and traces, ensuring transparency and traceability in the solution path. For details on available modules in the toolbox, please refer to section <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A3.SS2" title="C.2 Available Modules in Toolbox ‣ Appendix C Prompt and Tool ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">C.2</span></a>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Experiments</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<figure class="ltx_table" id="S6.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S6.T1.1" style="width:397.5pt;height:78.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-28.4pt,5.6pt) scale(0.874927145595587,0.874927145595587) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S6.T1.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T1.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S6.T1.1.1.1.1.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.1.1.1.1">Task Requirement</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3" id="S6.T1.1.1.1.1.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.1.1.2.1">TS-Reasoner</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3" id="S6.T1.1.1.1.1.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.1.1.3.1">CoT + code</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3" id="S6.T1.1.1.1.1.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.1.1.4.1">CoT</span></th>
</tr>
<tr class="ltx_tr" id="S6.T1.1.1.2.2">
<th class="ltx_td ltx_th ltx_th_row" id="S6.T1.1.1.2.2.1" style="padding-top:1pt;padding-bottom:1pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T1.1.1.2.2.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.2.2.2.1">SR(%)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T1.1.1.2.2.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.2.2.3.1">AAP</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T1.1.1.2.2.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.2.2.4.1">RAP</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T1.1.1.2.2.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.2.2.5.1">SR(%)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T1.1.1.2.2.6" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.2.2.6.1">AAP</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T1.1.1.2.2.7" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.2.2.7.1">RAP</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T1.1.1.2.2.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.2.2.8.1">SR(%)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T1.1.1.2.2.9" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.2.2.9.1">AAP</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T1.1.1.2.2.10" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.2.2.10.1">RAP</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T1.1.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S6.T1.1.1.3.1.1" style="padding-top:1pt;padding-bottom:1pt;">Profit Percent</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.3.1.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.3.1.2.1">59.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.3.1.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.3.1.3.1">243.31</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.3.1.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.3.1.4.1">32.34</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.3.1.5" style="padding-top:1pt;padding-bottom:1pt;">10.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.3.1.6" style="padding-top:1pt;padding-bottom:1pt;">38.75</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.3.1.7" style="padding-top:1pt;padding-bottom:1pt;">-172.21</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.3.1.8" style="padding-top:1pt;padding-bottom:1pt;">18.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.3.1.9" style="padding-top:1pt;padding-bottom:1pt;">0.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.3.1.10" style="padding-top:1pt;padding-bottom:1pt;">-210.97</td>
</tr>
<tr class="ltx_tr" id="S6.T1.1.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T1.1.1.4.2.1" style="padding-top:1pt;padding-bottom:1pt;">Risk Tolerance</th>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.2.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.4.2.2.1">96.0</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.2.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.4.2.3.1">54.54</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.2.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.4.2.4.1">-46.04</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.2.5" style="padding-top:1pt;padding-bottom:1pt;">24.0</td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.2.6" style="padding-top:1pt;padding-bottom:1pt;">4.36</td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.2.7" style="padding-top:1pt;padding-bottom:1pt;">-96.22</td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.2.8" style="padding-top:1pt;padding-bottom:1pt;">10.0</td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.2.9" style="padding-top:1pt;padding-bottom:1pt;">0.0</td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.2.10" style="padding-top:1pt;padding-bottom:1pt;">-100.58</td>
</tr>
<tr class="ltx_tr" id="S6.T1.1.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S6.T1.1.1.5.3.1" style="padding-top:1pt;padding-bottom:1pt;">Budget Allocation</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.1.1.5.3.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.5.3.2.1">90.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.1.1.5.3.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.5.3.3.1">37.12</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.1.1.5.3.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T1.1.1.5.3.4.1">7.57</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.1.1.5.3.5" style="padding-top:1pt;padding-bottom:1pt;">32.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.1.1.5.3.6" style="padding-top:1pt;padding-bottom:1pt;">-98.54</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.1.1.5.3.7" style="padding-top:1pt;padding-bottom:1pt;">-128.09</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.1.1.5.3.8" style="padding-top:1pt;padding-bottom:1pt;">6.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.1.1.5.3.9" style="padding-top:1pt;padding-bottom:1pt;">-0.41</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.1.1.5.3.10" style="padding-top:1pt;padding-bottom:1pt;">-29.96</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>The success rate and performance of TS-Reasoner against other baselines on desicion making. SR stands for Success Rate; AAP stands for Absolute Average Profit. RAP is the Relative Average Profit. In Profit Percent and Budget Allocation task, we aim at improving the profit. Thus positive RAP is expected. In Risk Tolerance, the model is required to first ensure the risk and minimize the profit reduction. Thus, negative RAP with lower absolute value is expected. <span class="ltx_text ltx_font_bold" id="S6.T1.3.1">Bold</span> indicates the best results</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this section, we conducted a series of comparative experiments to assess the performance of various models across our defined tasks of decision making, compositional question answering, and multi-domain causal mining. Our baseline models included the Chain of Thought (CoT) approach and CoT + code approach. For the most competitive result, we used ChatGPT-4-turbo. In CoT prompting, we outline the steps for the model to think about and directly return result. In CoT + code setting, we provide CoT prompts that outline steps to take and additionally allows the model the generate code that we execute to obtain result. Fore more details on the prompts, please refer to section <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A3.SS3" title="C.3 CoT Prompt ‣ Appendix C Prompt and Tool ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">C.3</span></a>. Through these experiments, we aimed to measure not only the performance of the outputs but also the models’ ability to adhere to constraints and optimize outcomes within the complex frameworks of financial markets and energy usage. By systematically analyzing the strengths and weaknesses of each approach, we seek to elucidate the most effective strategies for leveraging large language models in practical decision-making, compositional question answering and causal inference tasks.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Decision Making</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_paragraph" id="S6.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Evaluation Protocol</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S6.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S6.SS1.SSS0.Px1.p1.1">In decision making, the overall objective and specific user requirements may be different. For this reason, we respectively report the performance of models on each kind of instances. The user’s main objective is to maximize the total profit/ minimize the loss. The customized requirements can be generally divided to: Profit Percent Guarantee (the decision needs to guarantee the minimum profit percent that the user expected), Risk Tolerance
(the volatility of the investment portfolio must be within an expected range), and Budget Allocation (control the budget for a specific stock). In evaluation, we focus on two types of metrics: success rate (SR), absolute average profit (AAP) and relative average profit (RAP). The strict success rate is defined as the percentage of test samples that did not violate any constraint and requirements. The average absolute profit is the profit that the model made on all successful instances. The relative average profit is defined as the relative profit gain over the vanilla investment strategy that do not consider the requirements in the instructions. In Profit Percent and Budget Allocation task, we aim at improving the profit over the vanilla strategy. In Risk Tolerance, the model is required to first ensure the risk and minimize the profit reduction over the vanilla strategy.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_paragraph" id="S6.SS1.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Overall Performance</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S6.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S6.SS1.SSS0.Px2.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.T1" title="Table 1 ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">1</span></a> shows the performance of TS-Reasoner and baseline reasoning approaches. It is evident that TS-Reasoner generally outperforms CoT and CoT + code in terms of strict success rate, particularly in financial decision-making. TS-Reasoner achieves high success rates in risk tolerance and budget allocation, and performs moderately in profit percent, which is intuitive as guaranteeing profit is always harder than constraining loss and budget. Also, it notable that TS-Reasoner has a higher relative profit gain over vanilla strategy and behaves more conservatively in risk control scenarios (although still maintaining overall positive absolute profit). On the task of Profit Percent and Budget Allocation, TS-Reasoner consistently improve the profit over the vanilla strategy in the instruction. On the task Risk Tolerance, we can see that TS-Reasoner acquired the minimum loss when ensuring highest success rate. In contrast, the baselines completely lose competitiveness against vanilla strategy.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_table" id="S6.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S6.T2.1" style="width:397.5pt;height:91pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-115.7pt,26.5pt) scale(0.632014130561736,0.632014130561736) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S6.T2.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T2.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S6.T2.1.1.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">&nbsp;&nbsp;      <span class="ltx_text ltx_font_bold" id="S6.T2.1.1.1.1.1.1">Task</span>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S6.T2.1.1.1.1.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.1.1.2.1">Reasoning</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S6.T2.1.1.1.1.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.1.1.3.1">TS-Reasoner</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S6.T2.1.1.1.1.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.1.1.4.1">CoT + code</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S6.T2.1.1.1.1.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.1.1.5.1">CoT</span></th>
</tr>
<tr class="ltx_tr" id="S6.T2.1.1.2.2">
<th class="ltx_td ltx_th ltx_th_row" id="S6.T2.1.1.2.2.1" style="padding-top:1pt;padding-bottom:1pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" id="S6.T2.1.1.2.2.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.2.2.2.1">Steps</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T2.1.1.2.2.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.2.2.3.1">SR(%)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T2.1.1.2.2.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.2.2.4.1">MAPE(std)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T2.1.1.2.2.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.2.2.5.1">SR(%)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T2.1.1.2.2.6" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.2.2.6.1">MAPE(std)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T2.1.1.2.2.7" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.2.2.7.1">SR(%)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S6.T2.1.1.2.2.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.2.2.8.1">MAPE(std)</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T2.1.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S6.T2.1.1.3.1.1" style="padding-top:1pt;padding-bottom:1pt;">Stock Future Price Prediction</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S6.T2.1.1.3.1.2" style="padding-top:1pt;padding-bottom:1pt;">1</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.1.1.3.1.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.3.1.3.1">100.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.1.1.3.1.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.3.1.4.1">0.042(0.030)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.1.1.3.1.5" style="padding-top:1pt;padding-bottom:1pt;">98.00</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.1.1.3.1.6" style="padding-top:1pt;padding-bottom:1pt;">0.043(0.031)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.1.1.3.1.7" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.3.1.7.1">100.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.1.1.3.1.8" style="padding-top:1pt;padding-bottom:1pt;">0.058(0.047)</td>
</tr>
<tr class="ltx_tr" id="S6.T2.1.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T2.1.1.4.2.1" style="padding-top:1pt;padding-bottom:1pt;">Stock Future Volatility Prediction</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T2.1.1.4.2.2" style="padding-top:1pt;padding-bottom:1pt;">2</th>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.4.2.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.4.2.3.1">100.0</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.4.2.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.4.2.4.1">0.748(0.691)</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.4.2.5" style="padding-top:1pt;padding-bottom:1pt;">90.00</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.4.2.6" style="padding-top:1pt;padding-bottom:1pt;">0.848(0.181)</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.4.2.7" style="padding-top:1pt;padding-bottom:1pt;">88.00</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.4.2.8" style="padding-top:1pt;padding-bottom:1pt;">0.865(0.158)</td>
</tr>
<tr class="ltx_tr" id="S6.T2.1.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T2.1.1.5.3.1" style="padding-top:1pt;padding-bottom:1pt;">Energy Power w/ Max Load</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T2.1.1.5.3.2" style="padding-top:1pt;padding-bottom:1pt;">3</th>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.5.3.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.5.3.3.1">97.87</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.5.3.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.5.3.4.1">0.101(0.339)</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.5.3.5" style="padding-top:1pt;padding-bottom:1pt;">85.10</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.5.3.6" style="padding-top:1pt;padding-bottom:1pt;">0.226(0.402)</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.5.3.7" style="padding-top:1pt;padding-bottom:1pt;">53.20</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.5.3.8" style="padding-top:1pt;padding-bottom:1pt;">0.120(0.230)</td>
</tr>
<tr class="ltx_tr" id="S6.T2.1.1.6.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T2.1.1.6.4.1" style="padding-top:1pt;padding-bottom:1pt;">Energy Power w/ Min Load</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T2.1.1.6.4.2" style="padding-top:1pt;padding-bottom:1pt;">3</th>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.6.4.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.6.4.3.1">97.83</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.6.4.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.6.4.4.1">0.084(0.104)</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.6.4.5" style="padding-top:1pt;padding-bottom:1pt;">73.91</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.6.4.6" style="padding-top:1pt;padding-bottom:1pt;">0.682(1.337)</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.6.4.7" style="padding-top:1pt;padding-bottom:1pt;">54.30</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.6.4.8" style="padding-top:1pt;padding-bottom:1pt;">0.279(0.500)</td>
</tr>
<tr class="ltx_tr" id="S6.T2.1.1.7.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T2.1.1.7.5.1" style="padding-top:1pt;padding-bottom:1pt;">Load Ramp Rate in Energy Power</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S6.T2.1.1.7.5.2" style="padding-top:1pt;padding-bottom:1pt;">3</th>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.7.5.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.7.5.3.1">100.0</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.7.5.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.7.5.4.1">0.060(0.153)</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.7.5.5" style="padding-top:1pt;padding-bottom:1pt;">89.58</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.7.5.6" style="padding-top:1pt;padding-bottom:1pt;">0.167(0.281)</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.7.5.7" style="padding-top:1pt;padding-bottom:1pt;">75.00</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.7.5.8" style="padding-top:1pt;padding-bottom:1pt;">0.062(0.170)</td>
</tr>
<tr class="ltx_tr" id="S6.T2.1.1.8.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S6.T2.1.1.8.6.1" style="padding-top:1pt;padding-bottom:1pt;">Load Variability Limit in Energy Power</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="S6.T2.1.1.8.6.2" style="padding-top:1pt;padding-bottom:1pt;">3</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.1.1.8.6.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.8.6.3.1">93.88</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.1.1.8.6.4" style="padding-top:1pt;padding-bottom:1pt;">0.288 (0.385)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.1.1.8.6.5" style="padding-top:1pt;padding-bottom:1pt;">85.71</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.1.1.8.6.6" style="padding-top:1pt;padding-bottom:1pt;">0.265(0.472)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.1.1.8.6.7" style="padding-top:1pt;padding-bottom:1pt;">55.10</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.1.1.8.6.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.8.6.8.1">0.243(0.391)</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>The overall success rate and performance of our model against other baselines on compositional QA. SR stands for Success Rate; MAPE is the Mean Absolute Percentage Error. <span class="ltx_text ltx_font_bold" id="S6.T2.3.1">Bold</span> indicates the best results</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<figure class="ltx_figure" id="S6.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="233" id="S6.F4.g1" src="https://arxiv.org/html/2410.04047v1/x4.png" width="789">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Error distribution of different approaches on QA of Energy Power w/ Min Load.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</section>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Compositional Question Answering</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_paragraph" id="S6.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Evaluation Protocol</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S6.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S6.SS2.SSS0.Px1.p1.1">In compositional QA, the various questions may lead to different reasoning steps. For this reason, we respectively report the performance of models on each kind of instances. Specifically, we applied the data from finance (stock price) and energy power supply. For finance, we mainly tackle the prediction on price, volatility, which are relatively simple. For energy supply, we consider the energy power supply forecast with external requirement attached such as the max and min load regularization for the system or load ramp rate and variability limit. Given such requirements, TS-Reasoner needs to additionally refine the results based on the specified external knowledge. In evaluation, we focus on two types of metrics: success rate (SR) and Mean Absolute Percentage Error (MAPE). The success rate is defined as the percentage of test samples in which the model successfully execute the tasks and did not violate any constraint in the instructions (e.g. Energy Power load constraint/Requirement).</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_paragraph" id="S6.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Overall Performance</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S6.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S6.SS2.SSS0.Px2.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.T2" title="Table 2 ‣ Overall Performance ‣ 6.1 Decision Making ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">2</span></a> shows the performance of TS-Reasoner and baseline reasoning approaches. It is evident that TS-Reasoner generally outperforms CoT and CoT + code in terms of both success rate (SR) and MAPE. We can observe that as reasoning steps increase, TS-Reasoner shows a clear advantage over CoT and CoT + code. For simpler tasks with 1-2 steps, the performance across all models is relatively similar. However, as tasks become more complex, TS-Reasoner consistently outperforms both baselines, with significantly higher success rates (SR) and better MAPE.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_paragraph" id="S6.SS2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Error Analysis</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S6.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="S6.SS2.SSS0.Px3.p1.1">In Fig. <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.F4" title="Figure 4 ‣ Overall Performance ‣ 6.1 Decision Making ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">4</span></a>, we present a case study on the energy load prediction task when minimum load is specified. The analysis examines how the error rate varies in different approaches. By introducing program-aided reasoning, result errors are substantially alleviated, which are usually bottlenecked by numerical errors from LLM. Meanwhile, although CoT w/ code compress the rate of result error, it addiditonally introduce execution error, which implies problematic code generated by LLM. In contrast, TS-Reasoneris able to eliminate execution errors due to robustly tested modules. This result provides more insight in the advantage of program-based reasoning in time series reasoning. The errors include the neglection of critical constraints and requirement, mismanagement of numerical computations, problematic integration of intermediate output. For concrete examples of error cases, please refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A2" title="Appendix B Error Examples ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">B</span></a></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_subsection" id="S6.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3 </span>Causal Relationship Recognition</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_paragraph" id="S6.SS3.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Evaluation Protocol</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S6.SS3.SSS0.Px1.p1">
<p class="ltx_p" id="S6.SS3.SSS0.Px1.p1.1">In causal relationship recognition, TS-Reasoner is given multi-variable time series, a description to the data, and expert knowledge of percentage of true relationships. The model need to incorporate the expert knowledge and the causal discovery tools based on directed acyclic graph to infer the probable causal relationship across multiple variables. In evaluation, we focus on three types of metrics: success rate (SR), causal relationship accuracy (CRA) and causal graph accuracy (CGA). The success rate is defined as the percentage of test samples in which the model successfully execute the task and did not violate any constraint in the instructions (e.g. the percentage of the causal relationships). The causal relationship accuracy is defined as the accuracy of classifying each pair of variable as causally related or not. The causal graph accuracy is defined as the percentage of test samples of which all causal relationships are correctly classified.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_paragraph" id="S6.SS3.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Overall Performance</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S6.SS3.SSS0.Px2.p1">
<p class="ltx_p" id="S6.SS3.SSS0.Px2.p1.1">In the causal relation recognition task, TS-Reasoner outperform the CoT and CoT + code on all metrics, as shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#S6.F5" title="Figure 5 ‣ Overall Performance ‣ 6.3 Causal Relationship Recognition ‣ 6 Experiments ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">5</span></a>. It is also noticeable that the performance of all methods on CGA, which is the hardest evaluation metric, are not satisfactory. Specifically, both CoT-based methods acquired 0.0 accuracy, which means that for any given test instance, none of these approaches can correctly infer all pairs causal relationships within it. Although TS-Reasoner slightly outperforms the baselines, the result is still very modest, opening opportunities for future works on addressing challenges under this setting.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S6.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="160" id="S6.F5.g1" src="https://arxiv.org/html/2410.04047v1/extracted/5903357/img/Figure_15.png" width="598">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>The overall success rate and performance of TS-Reasoner against other baselines on Causal Relationship Recognition</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</section>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusion</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">In this work, we proposed complex and compositional time series reasoning task. To address this task, we developed a dedicated dataset collected from multiple domains and an evaluation framework that facilitate assessment of reasoning capabilities in time series analysis. Based on this framework and dataset, we developed a novel model, TS-Reasoner, which integrates program-based decomposition with large language models (LLMs) and task-specific modules. Our approach combines time series models, numerical methods, and LLM-generated custom modules to ensure both numerical accuracy and flexibility in handling a wide range of tasks, including personalized decision-making scenarios. This contribution offers a structured method that overcomes the limitations of purely LLM-driven reasoning—such as numerical errors encountered in Chain-of-Thought approaches—by enhancing it with programmatic task decomposition. For future work, we aim to explore longer reasoning chains, incorporate data from more diverse domains, and investigate better methods for multimodal knowledge integration (e.g. information from tables and vision), further advancing the capabilities of compositional time series reasoning.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ahn et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Janice Ahn, Rishu Verma, Renze Lou, Di&nbsp;Liu, Rui Zhang, and Wenpeng Yin.

</span>
<span class="ltx_bibblock">Large language models for mathematical reasoning: Progresses and challenges.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2402.00157</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ansari et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Abdul&nbsp;Fatir Ansari, Lorenzo Stella, Caner Turkmen, Xiyuan Zhang, Pedro Mercado, Huibin Shen, Oleksandr Shchur, Syama&nbsp;Sundar Rangapuram, Sebastian&nbsp;Pineda Arango, Shubham Kapoor, et&nbsp;al.

</span>
<span class="ltx_bibblock">Chronos: Learning the language of time series.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">arXiv preprint arXiv:2403.07815</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bandyopadhyay et&nbsp;al. (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Bortik Bandyopadhyay, Xiang Deng, Goonmeet Bajaj, Huan Sun, and Srinivasan Parthasarathy.

</span>
<span class="ltx_bibblock">Automatic table completion using knowledge base.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">arXiv preprint arXiv:1909.09565</em>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonaparte et&nbsp;al. (2014)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yosef Bonaparte, George&nbsp;M Korniotis, and Alok Kumar.

</span>
<span class="ltx_bibblock">Income hedging and portfolio decisions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Journal of Financial Economics</em>, 113(2):300–324, 2014.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cao et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Defu Cao, Yousef El-Laham, Loc Trinh, Svitlana Vyetrenko, and Yan Liu.

</span>
<span class="ltx_bibblock">A synthetic limit order book dataset for benchmarking forecasting algorithms under distributional shift.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">NeurIPS 2022 Workshop on Distribution Shifts: Connecting Methods and Applications</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cao et&nbsp;al. (2023a)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Defu Cao, James Enouen, Yujing Wang, Xiangchen Song, Chuizheng Meng, Hao Niu, and Yan Liu.

</span>
<span class="ltx_bibblock">Estimating treatment effects from irregular time series observations with hidden confounders.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, volume 37 (6), pp.&nbsp; 6897–6905, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cao et&nbsp;al. (2023b)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Defu Cao, Furong Jia, Sercan&nbsp;O Arik, Tomas Pfister, Yixiang Zheng, Wen Ye, and Yan Liu.

</span>
<span class="ltx_bibblock">Tempo: Prompt-based generative pre-trained transformer for time series forecasting.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2310.04948</em>, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cao et&nbsp;al. (2023c)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Defu Cao, Yixiang Zheng, Parisa Hassanzadeh, Simran Lamba, Xiaomo Liu, and Yan Liu.

</span>
<span class="ltx_bibblock">Large scale financial time series forecasting with multi-faceted model.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">Proceedings of the Fourth ACM International Conference on AI in Finance</em>, pp.&nbsp; 472–480, 2023c.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al. (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Wenhu Chen, Hongmin Wang, Jianshu Chen, Yunkai Zhang, Hong Wang, Shiyang Li, Xiyou Zhou, and William&nbsp;Yang Wang.

</span>
<span class="ltx_bibblock">Tabfact: A large-scale dataset for table-based fact verification.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:1909.02164</em>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cheng et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yifang Cheng, Zachary Ross, Egill Hauksson, and Yehuda Ben-Zion.

</span>
<span class="ltx_bibblock">A refined comprehensive earthquake focal mechanism catalog for southern california derived with deep learning algorithms.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">AGU Fall Meeting Abstracts</em>, volume 2021, pp.&nbsp; S32A–05, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Creswell &amp; Shanahan (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Antonia Creswell and Murray Shanahan.

</span>
<span class="ltx_bibblock">Faithful reasoning using large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:2208.14271</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dau et&nbsp;al. (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Hoang&nbsp;Anh Dau, Anthony Bagnall, Kaveh Kamgar, Chin-Chia&nbsp;Michael Yeh, Yan Zhu, Shaghayegh Gharghabi, Chotirat&nbsp;Ann Ratanamahatana, and Eamonn Keogh.

</span>
<span class="ltx_bibblock">The ucr time series archive.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">IEEE/CAA Journal of Automatica Sinica</em>, 6(6):1293–1305, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">De&nbsp;Gooijer &amp; Hyndman (2006)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Jan&nbsp;G De&nbsp;Gooijer and Rob&nbsp;J Hyndman.

</span>
<span class="ltx_bibblock">25 years of time series forecasting.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">International journal of forecasting</em>, 22(3):443–473, 2006.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Denis et&nbsp;al. (2003)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Diane&nbsp;K Denis, John&nbsp;J McConnell, Alexei&nbsp;V Ovtchinnikov, and Yun Yu.

</span>
<span class="ltx_bibblock">S&amp;p 500 index additions and earnings expectations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">the Journal of Finance</em>, 58(5):1821–1840, 2003.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong et&nbsp;al. (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Haoyu Dong, Shijie Liu, Zhouyu Fu, Shi Han, and Dongmei Zhang.

</span>
<span class="ltx_bibblock">Semantic structure extraction for spreadsheet tables with a multi-task learning architecture.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Workshop on Document Intelligence at NeurIPS 2019</em>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Lun Du, Fei Gao, Xu&nbsp;Chen, Ran Jia, Junshan Wang, Jiang Zhang, Shi Han, and Dongmei Zhang.

</span>
<span class="ltx_bibblock">Tabularnet: A neural network architecture for understanding semantic structures of tabular data.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Proceedings of the 27th ACM SIGKDD Conference on Knowledge Discovery &amp; Data Mining</em>, pp.&nbsp; 322–331, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Edwards et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Thomas&nbsp;DP Edwards, James Alvey, Justin Alsing, Nam&nbsp;H Nguyen, and Benjamin&nbsp;D Wandelt.

</span>
<span class="ltx_bibblock">Scaling-laws for large time-series models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:2405.13867</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Feng et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Guhao Feng, Yuntian Gu, Bohang Zhang, Haotian Ye, Di&nbsp;He, and Liwei Wang.

</span>
<span class="ltx_bibblock">Towards revealing the mystery behind chain of thought: a theoretical perspective.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">arXiv preprint arXiv:2305.15408</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fons et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Elizabeth Fons, Rachneet Kaur, Soham Palande, Zhen Zeng, Svitlana Vyetrenko, and Tucker Balch.

</span>
<span class="ltx_bibblock">Evaluating large language models on time series feature understanding: A comprehensive taxonomy and benchmark.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:2404.16563</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Luyu Gao, Aman Madaan, Shuyan Zhou, Uri Alon, Pengfei Liu, Yiming Yang, Jamie Callan, and Graham Neubig.

</span>
<span class="ltx_bibblock">Pal: Program-aided language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">International Conference on Machine Learning</em>, pp.&nbsp; 10764–10799. PMLR, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gonzalez-Vidal et&nbsp;al. (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Aurora Gonzalez-Vidal, Fernando Jimenez, and Antonio&nbsp;F Gomez-Skarmeta.

</span>
<span class="ltx_bibblock">A methodology for energy multivariate time series forecasting in smart buildings based on feature selection.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Energy and Buildings</em>, 196:71–82, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gruver et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Nate Gruver, Marc Finzi, Shikai Qiu, and Andrew&nbsp;G Wilson.

</span>
<span class="ltx_bibblock">Large language models are zero-shot time series forecasters.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Advances in Neural Information Processing Systems</em>, 36, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gupta &amp; Kembhavi (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Tanmay Gupta and Aniruddha Kembhavi.

</span>
<span class="ltx_bibblock">Visual programming: Compositional visual reasoning without training.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition</em>, pp.&nbsp; 14953–14962, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hamilton (2020)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
James&nbsp;D Hamilton.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Time series analysis</em>.

</span>
<span class="ltx_bibblock">Princeton university press, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Xinyi He, Mengyu Zhou, Xinrun Xu, Xiaojun Ma, Rui Ding, Lun Du, Yan Gao, Ran Jia, Xu&nbsp;Chen, Shi Han, et&nbsp;al.

</span>
<span class="ltx_bibblock">Text2analysis: A benchmark of table question answering with advanced data analysis and unclear queries.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, volume 38 (16), pp.&nbsp; 18206–18215, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yaojie Hu, Ilias Fountalis, Jin Tian, and Nikolaos Vasiloglou.

</span>
<span class="ltx_bibblock">Annotatedtables: A large tabular dataset with language model annotations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">arXiv preprint arXiv:2406.16349</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang &amp; Chang (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Jie Huang and Kevin Chen-Chuan Chang.

</span>
<span class="ltx_bibblock">Towards reasoning in large language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">arXiv preprint arXiv:2212.10403</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Ming Jin, Shiyu Wang, Lintao Ma, Zhixuan Chu, James&nbsp;Y Zhang, Xiaoming Shi, Pin-Yu Chen, Yuxuan Liang, Yuan-Fang Li, Shirui Pan, et&nbsp;al.

</span>
<span class="ltx_bibblock">Time-llm: Time series forecasting by reprogramming large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">arXiv preprint arXiv:2310.01728</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Ming Jin, Shiyu Wang, Lintao Ma, Zhixuan Chu, James&nbsp;Y. Zhang, Xiaoming Shi, Pin-Yu Chen, Yuxuan Liang, Yuan-Fang Li, Shirui Pan, and Qingsong Wen.

</span>
<span class="ltx_bibblock">Time-LLM: Time series forecasting by reprogramming large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">The Twelfth International Conference on Learning Representations</em>, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=Unb5CVPtae" title="">https://openreview.net/forum?id=Unb5CVPtae</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jung et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Jaehun Jung, Lianhui Qin, Sean Welleck, Faeze Brahman, Chandra Bhagavatula, Ronan&nbsp;Le Bras, and Yejin Choi.

</span>
<span class="ltx_bibblock">Maieutic prompting: Logically consistent reasoning with recursive explanations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">arXiv preprint arXiv:2205.11822</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kamra et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Nitin Kamra, Yizhou Zhang, Sirisha Rambhatla, Chuizheng Meng, and Yan Liu.

</span>
<span class="ltx_bibblock">Polsird: modeling epidemic spread under intervention policies: analyzing the first wave of covid-19 in the usa.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Journal of Healthcare Informatics Research</em>, 5(3):231–248, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khot et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Tushar Khot, Harsh Trivedi, Matthew Finlayson, Yao Fu, Kyle Richardson, Peter Clark, and Ashish Sabharwal.

</span>
<span class="ltx_bibblock">Decomposed prompting: A modular approach for solving complex tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">arXiv preprint arXiv:2210.02406</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kirchgässner et&nbsp;al. (2012)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Gebhard Kirchgässner, Jürgen Wolters, and Uwe Hassler.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Introduction to modern time series analysis</em>.

</span>
<span class="ltx_bibblock">Springer Science &amp; Business Media, 2012.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Merrill et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Mike&nbsp;A Merrill, Mingtian Tan, Vinayak Gupta, Tom Hartvigsen, and Tim Althoff.

</span>
<span class="ltx_bibblock">Language models still struggle to zero-shot reason about time series.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">arXiv preprint arXiv:2404.11757</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Merrill &amp; Sabharwal (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
William Merrill and Ashish Sabharwal.

</span>
<span class="ltx_bibblock">The parallelism tradeoff: Limitations of log-precision transformers.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">Transactions of the Association for Computational Linguistics</em>, 11:531–545, 2023.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1162/tacl˙a˙00562</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.tacl-1.31" title="">https://aclanthology.org/2023.tacl-1.31</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mudelsee (2010)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Manfred Mudelsee.

</span>
<span class="ltx_bibblock">Climate time series analysis.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">Atmospheric and</em>, 397, 2010.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pan et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Zijie Pan, Yushan Jiang, Sahil Garg, Anderson Schneider, Yuriy Nevmyvaka, and Dongjin Song.

</span>
<span class="ltx_bibblock"><math alttext="\textbf{S}^{2}" class="ltx_Math" display="inline" id="bib.bib37.1.m1.1"><semantics id="bib.bib37.1.m1.1a"><msup id="bib.bib37.1.m1.1.1" xref="bib.bib37.1.m1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="bib.bib37.1.m1.1.1.2" xref="bib.bib37.1.m1.1.1.2a.cmml">S</mtext><mn id="bib.bib37.1.m1.1.1.3" xref="bib.bib37.1.m1.1.1.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="bib.bib37.1.m1.1b"><apply id="bib.bib37.1.m1.1.1.cmml" xref="bib.bib37.1.m1.1.1"><csymbol cd="ambiguous" id="bib.bib37.1.m1.1.1.1.cmml" xref="bib.bib37.1.m1.1.1">superscript</csymbol><ci id="bib.bib37.1.m1.1.1.2a.cmml" xref="bib.bib37.1.m1.1.1.2"><mtext class="ltx_mathvariant_bold" id="bib.bib37.1.m1.1.1.2.cmml" xref="bib.bib37.1.m1.1.1.2">S</mtext></ci><cn id="bib.bib37.1.m1.1.1.3.cmml" type="integer" xref="bib.bib37.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="bib.bib37.1.m1.1c">\textbf{S}^{2}</annotation><annotation encoding="application/x-llamapun" id="bib.bib37.1.m1.1d">S start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT</annotation></semantics></math> ip-llm: Semantic space informed prompt learning with llm for time series forecasting.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib37.2.1">Forty-first International Conference on Machine Learning</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Penfold &amp; Zhang (2013)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Robert&nbsp;B Penfold and Fang Zhang.

</span>
<span class="ltx_bibblock">Use of interrupted time series analysis in evaluating health care quality improvements.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Academic pediatrics</em>, 13(6):S38–S44, 2013.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qiao et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Shuofei Qiao, Yixin Ou, Ningyu Zhang, Xiang Chen, Yunzhi Yao, Shumin Deng, Chuanqi Tan, Fei Huang, and Huajun Chen.

</span>
<span class="ltx_bibblock">Reasoning with language model prompting: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">arXiv preprint arXiv:2212.09597</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qu et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yuxiao Qu, Tianjun Zhang, Naman Garg, and Aviral Kumar.

</span>
<span class="ltx_bibblock">Recursive introspection: Teaching language model agents how to self-improve.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">arXiv preprint arXiv:2407.18219</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sharma et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Karishma Sharma, Yizhou Zhang, Emilio Ferrara, and Yan Liu.

</span>
<span class="ltx_bibblock">Identifying coordinated accounts on social media through hidden influence and group behaviours.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">Proceedings of the 27th ACM SIGKDD Conference on Knowledge Discovery &amp; Data Mining</em>, pp.&nbsp; 1441–1451, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Ensheng Shi, Yanlin Wang, Hongyu Zhang, Lun Du, Shi Han, Dongmei Zhang, and Hongbin Sun.

</span>
<span class="ltx_bibblock">Towards efficient fine-tuning of pre-trained code models: An experimental study and beyond.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">Proceedings of the 32nd ACM SIGSOFT International Symposium on Software Testing and Analysis</em>, pp.&nbsp; 39–51, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Talukder et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Sabera Talukder, Yisong Yue, and Georgia Gkioxari.

</span>
<span class="ltx_bibblock">Totem: Tokenized time series embeddings for general time series analysis, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team &amp; Murray (2020)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
IHME COVID-19 Health Service Utilization&nbsp;Forecasting Team and Christopher&nbsp;JL Murray.

</span>
<span class="ltx_bibblock">Forecasting the impact of the first wave of the covid-19 pandemic on hospital demand and deaths for the usa and european economic area countries.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">MedRxiv</em>, pp.&nbsp; 2020–04, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tsay (2005)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Ruey&nbsp;S Tsay.

</span>
<span class="ltx_bibblock">Analysis of financial time series.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">John Eiley and Sons</em>, 2005.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed&nbsp;Chi, Sharan Narang, Aakanksha Chowdhery, and Denny Zhou.

</span>
<span class="ltx_bibblock">Self-consistency improves chain of thought reasoning in language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">arXiv preprint arXiv:2203.11171</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Zilong Wang, Hao Zhang, Chun-Liang Li, Julian&nbsp;Martin Eisenschlos, Vincent Perot, Zifeng Wang, Lesly Miculicich, Yasuhisa Fujii, Jingbo Shang, Chen-Yu Lee, et&nbsp;al.

</span>
<span class="ltx_bibblock">Chain-of-table: Evolving tables in the reasoning chain for table understanding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">arXiv preprint arXiv:2401.04398</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed&nbsp;Chi, Quoc&nbsp;V Le, Denny Zhou, et&nbsp;al.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">Advances in Neural Information Processing Systems</em>, 35:24824–24837, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Woo et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Gerald Woo, Chenghao Liu, Akshat Kumar, Caiming Xiong, Silvio Savarese, and Doyen Sahoo.

</span>
<span class="ltx_bibblock">Unified training of universal time series forecasting transformers.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">Forty-first International Conference on Machine Learning</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Haixu Wu, Jiehui Xu, Jianmin Wang, and Mingsheng Long.

</span>
<span class="ltx_bibblock">Autoformer: Decomposition transformers with auto-correlation for long-term series forecasting.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">Advances in Neural Information Processing Systems (NeurIPS)</em>, pp.&nbsp; 101–112, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Haixu Wu, Tengge Hu, Yong Liu, Hang Zhou, Jianmin Wang, and Mingsheng Long.

</span>
<span class="ltx_bibblock">Timesnet: Temporal 2d-variation modeling for general time series analysis.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">arXiv preprint arXiv:2210.02186</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et&nbsp;al. (2023a)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Shunyu Yao, Dian Yu, Jeffrey Zhao, Izhak Shafran, Thomas&nbsp;L Griffiths, Yuan Cao, and Karthik Narasimhan.

</span>
<span class="ltx_bibblock">Tree of thoughts: Deliberate problem solving with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib52.1.1">arXiv preprint arXiv:2305.10601</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et&nbsp;al. (2023b)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yao Yao, Zuchao Li, and Hai Zhao.

</span>
<span class="ltx_bibblock">Beyond chain-of-thought, effective graph-of-thought reasoning in language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">arXiv preprint arXiv:2305.16582</em>, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al. (2020)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Hongzhi Zhang, Yingyao Wang, Sirui Wang, Xuezhi Cao, Fuzheng Zhang, and Zhongyuan Wang.

</span>
<span class="ltx_bibblock">Table fact verification with structure-aware transformer.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib54.1.1">Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP)</em>, pp.&nbsp; 1624–1629, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Renrui Zhang, Dongzhi Jiang, Yichi Zhang, Haokun Lin, Ziyu Guo, Pengshuo Qiu, Aojun Zhou, Pan Lu, Kai-Wei Chang, Peng Gao, et&nbsp;al.

</span>
<span class="ltx_bibblock">Mathverse: Does your multi-modal llm truly see the diagrams in visual math problems?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">arXiv preprint arXiv:2403.14624</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yizhou Zhang, Karishma Sharma, and Yan Liu.

</span>
<span class="ltx_bibblock">Vigdet: Knowledge informed neural temporal point process for coordination detection on social media.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.1.1">Advances in Neural Information Processing Systems</em>, 34:3218–3231, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Xiangtian Zheng, Nan Xu, Loc Trinh, Dongqi Wu, Tong Huang, S&nbsp;Sivaranjani, Yan Liu, and Le&nbsp;Xie.

</span>
<span class="ltx_bibblock">A multi-scale time-series dataset with benchmark for machine learning in decarbonized energy grids.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">Scientific Data</em>, 9(1):359, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Denny Zhou, Nathanael Schärli, Le&nbsp;Hou, Jason Wei, Nathan Scales, Xuezhi Wang, Dale Schuurmans, Claire Cui, Olivier Bousquet, Quoc Le, et&nbsp;al.

</span>
<span class="ltx_bibblock">Least-to-most prompting enables complex reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib58.1.1">arXiv preprint arXiv:2205.10625</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Tian Zhou, Peisong Niu, Liang Sun, Rong Jin, et&nbsp;al.

</span>
<span class="ltx_bibblock">One fits all: Power general time series analysis by pretrained lm.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib59.1.1">Advances in neural information processing systems</em>, 36:43322–43355, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Xinyu Zhu, Junjie Wang, Lin Zhang, Yuxiang Zhang, Ruyi Gan, Jiaxing Zhang, and Yujiu Yang.

</span>
<span class="ltx_bibblock">Solving math word problem via cooperative reasoning induced language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib60.1.1">arXiv preprint arXiv:2210.16257</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zong et&nbsp;al. (2018)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Bo&nbsp;Zong, Qi&nbsp;Song, Martin&nbsp;Renqiang Min, Wei Cheng, Cristian Lumezanu, Daeki Cho, and Haifeng Chen.

</span>
<span class="ltx_bibblock">Deep autoencoding gaussian mixture model for unsupervised anomaly detection.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib61.1.1">International conference on learning representations</em>, 2018.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Analysis for different in-context samples.</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">In Fig. <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A1.F6" title="Figure 6 ‣ Appendix A Analysis for different in-context samples. ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">6</span></a>, we analyze how the in-context samples impact the correctness of the program generated by the model. Specifically, we report how the percentage of the program that are correct varies with the number of in-context samples. As we can see, as the number increases, the correctness of generated program improves. When 16 samples are provided, the model is able to always generate correct programs.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="A1.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="198" id="A1.F6.g1" src="https://arxiv.org/html/2410.04047v1/extracted/5903357/img/Analysis_3.png" width="359">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Program Correctness Rate under varying numbers of in-context samples.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Error Examples</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">In this section, we present the example errors (shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A2.F7" title="Figure 7 ‣ Appendix B Error Examples ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">7</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A2.F8" title="Figure 8 ‣ Appendix B Error Examples ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">8</span></a>) from TS-Reasoner, CoT, and CoT + code approaches.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="A2.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="317" id="A2.F7.g1" src="https://arxiv.org/html/2410.04047v1/x5.png" width="830">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Examples of Result Errors in TS-Reasoner and CoT approach.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<figure class="ltx_figure" id="A2.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="305" id="A2.F8.g1" src="https://arxiv.org/html/2410.04047v1/x6.png" width="830">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Examples of Execution Errors occurred CoT + code approach.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Prompt and Tool</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsection" id="A3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1 </span>Prompt for TS-Reasoner</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="A3.SS1.p1">
<p class="ltx_p" id="A3.SS1.p1.1">Return only programs, using the specified operation functions. Do not return any results like dictionaries or lists. You must accurately learn the relationship between the question and the required operations. You must choose correct operations for each question. Do not use other irrelevant operations.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p2">
<p class="ltx_p" id="A3.SS1.p2.1">Question:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p3">
<p class="ltx_p" id="A3.SS1.p3.1">I have historical Variable A, Variable B, Variable C, Variable D, Variable E, Variable F data and want to get the causal relationship between each pair of the variables. I know that 70.0% of the variable pairs have relationship. Consider the potential influence of each variable on the others in this variable list: [’Variable A’, ’Variable B’, ’Variable C’, ’Variable D’, ’Variable E’, ’Variable F’]. Please provide 2d numpy matrix with binary values to indicate whether each pair of variables has a relationship.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p4">
<p class="ltx_p" id="A3.SS1.p4.1">Program:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p5">
<p class="ltx_p" id="A3.SS1.p5.1">X0 = GrangerCausalMatrixOP(data=VAL)</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p6">
<p class="ltx_p" id="A3.SS1.p6.1">FINAL_RESULT = GetCausalRelationsOP(data=X0, relation_ratio=RATIO)</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p7">
<p class="ltx_p" id="A3.SS1.p7.1">Question:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p8">
<p class="ltx_p" id="A3.SS1.p8.1">I have the past 65 days historical stock value data for some stocks that I’m interested in investing in. I want to predict the volatility of the stock price for the future 18 days. Your goal is to make the most accurate prediction .Please give me your prediction, return a 1d numpy array with the predicted volatility of each stock.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p9">
<p class="ltx_p" id="A3.SS1.p9.1">Program:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p10">
<p class="ltx_p" id="A3.SS1.p10.1">X0=SinglePreOP(data=VAL, future_length=N)</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p11">
<p class="ltx_p" id="A3.SS1.p11.1">FINAL_RESULT = VolDetOP(data=X0)</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p12">
<p class="ltx_p" id="A3.SS1.p12.1">…(more in-context samples)</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p13">
<p class="ltx_p" id="A3.SS1.p13.1">Question:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p14">
<p class="ltx_p" id="A3.SS1.p14.1">I have historical Relative Humidity, Temperature data and the corresponding wind_power data for the past 191 minutes. I need to ensure that the maximum allowable system load does not exceed 1.33 MW. Think about how Relative Humidity, Temperature influence wind_power. Please give me a forecast for the next 56 minutes for wind_power. Your goal is to make the most accurate forecast as possible, refine prediction result based on the constraint previously described, and return the result as a 1D array.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p15">
<p class="ltx_p" id="A3.SS1.p15.1">Program:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p16">
<p class="ltx_p" id="A3.SS1.p16.1">Follow previous examples and answer my last question in the same format as previous examples within markdown format in “‘python“‘. Only include output steps in the python markdown, do not repeat my question or include ’Program:’ in python markdown. Do not use irrelevant operations, only use operations that are necessary for the question.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="A3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.2 </span>Available Modules in Toolbox</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="A3.SS2.p1">
<p class="ltx_p" id="A3.SS2.p1.1">The tasks defined in this paper, along with their corresponding input-output formats and the tools utilized, are summarized in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.04047v1#A3.T3" title="Table 3 ‣ C.2 Available Modules in Toolbox ‣ Appendix C Prompt and Tool ‣ Beyond Forecasting: Compositional Time Series Reasoning for End-to-End Task Execution"><span class="ltx_text ltx_ref_tag">3</span></a> below.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_table" id="A3.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A3.T3.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A3.T3.1.1.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A3.T3.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.1.1.1.1">
<span class="ltx_p" id="A3.T3.1.1.1.1.1.1" style="width:113.8pt;">Task</span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A3.T3.1.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.1.1.2.1">
<span class="ltx_p" id="A3.T3.1.1.1.2.1.1" style="width:142.3pt;">Input-Output</span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A3.T3.1.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.1.1.3.1">
<span class="ltx_p" id="A3.T3.1.1.1.3.1.1" style="width:113.8pt;">Tools</span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A3.T3.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T3.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.2.1.1.1">
<span class="ltx_p" id="A3.T3.1.2.1.1.1.1" style="width:113.8pt;">Future Stock Prediction</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T3.1.2.1.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.2.1.2.1">
<span class="ltx_p" id="A3.T3.1.2.1.2.1.1" style="width:142.3pt;">Input: Time Series + Question
<br class="ltx_break">Output: Time Series</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T3.1.2.1.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.2.1.3.1">
<span class="ltx_p" id="A3.T3.1.2.1.3.1.1" style="width:113.8pt;">SinglePreOP, MultiPreOP, TrendPreOP, RefGenOP</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T3.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T3.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.3.2.1.1">
<span class="ltx_p" id="A3.T3.1.3.2.1.1.1" style="width:113.8pt;">Stock Investment</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T3.1.3.2.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.3.2.2.1">
<span class="ltx_p" id="A3.T3.1.3.2.2.1.1" style="width:142.3pt;">Input: Time Series + Instruction
<br class="ltx_break">Output: Investment Strategy</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T3.1.3.2.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.3.2.3.1">
<span class="ltx_p" id="A3.T3.1.3.2.3.1.1" style="width:113.8pt;">MultiPreOP, ApplyOP, ObjGenOP, ConGenOP, OptOP</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T3.1.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T3.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.4.3.1.1">
<span class="ltx_p" id="A3.T3.1.4.3.1.1.1" style="width:113.8pt;">Energy Prediction</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T3.1.4.3.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.4.3.2.1">
<span class="ltx_p" id="A3.T3.1.4.3.2.1.1" style="width:142.3pt;">Input: Time Series + Question
<br class="ltx_break">Output: Time Series</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T3.1.4.3.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.4.3.3.1">
<span class="ltx_p" id="A3.T3.1.4.3.3.1.1" style="width:113.8pt;">MultiPreOP, ApplyOP, RefGenOP</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T3.1.5.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" id="A3.T3.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.5.4.1.1">
<span class="ltx_p" id="A3.T3.1.5.4.1.1.1" style="width:113.8pt;">Causal Relation</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" id="A3.T3.1.5.4.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.5.4.2.1">
<span class="ltx_p" id="A3.T3.1.5.4.2.1.1" style="width:142.3pt;">Input: Time Series + Instruction
<br class="ltx_break">Output: Causal Relationship</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" id="A3.T3.1.5.4.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T3.1.5.4.3.1">
<span class="ltx_p" id="A3.T3.1.5.4.3.1.1" style="width:113.8pt;">GrangerCausalMatrixOP, GetCausalRelationsOP</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Overall performance of causal relationship recognition.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="A3.SS2.p2">
<p class="ltx_p" id="A3.SS2.p2.1">Specifically, the detailed description of the Predefined Tools is as follows:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p3">
<p class="ltx_p" id="A3.SS2.p3.1">- SinglePreOP: This operator is primarily used for univariate time series forecasting, leveraging advanced time series large language models to accurately predict future sequences. The input consists of two variables: ’data’, representing the input historical time series, and ‘future_length‘, specifying the number of future steps to predict. The output is a time series of length ‘future_length‘.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p4">
<p class="ltx_p" id="A3.SS2.p4.1">- VolDetOP: This operator performs volatility detection on time series by utilizing a volatility detection algorithm. The input consists of a single variable, ‘data‘, which represents the time series to be analyzed. The output is the volatility result for the input time series, which can be classified into one of three categories: ’volatility clustering’, ’persistent volatility’, or ’non-volatility’.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p5">
<p class="ltx_p" id="A3.SS2.p5.1">- TrendPreOP: This operator performs trend detection on time series by utilizing a trend detection algorithm. The input consists of a single variable, ‘data‘, which represents the time series to be analyzed. The output is the trend result for the input time series, classified into one of three categories: ’increasing’, ’decreasing’, or ’steady’.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p6">
<p class="ltx_p" id="A3.SS2.p6.1">- MultiPreOP: This is a multivariate time series forecasting operator used to accurately predict the target variable based on multiple covariates. The input consists of three variables: ‘data‘, ‘future_data‘, and ‘future_length‘. ‘data‘ represents the historical time series of several covariates and one target variable, ‘future_data‘ provides the future time series of several covariates, and ‘future_length‘ specifies the forecast length for the target variable. The output is the predicted time series of the target variable with a length of ‘future_length‘.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p7">
<p class="ltx_p" id="A3.SS2.p7.1">- RefGenOP: This operator is primarily used to generate a corresponding function based on the requirement described in a time series forecasting task. The generated function can then be applied to ‘data‘ to meet the specified conditions. The input consists of a single variable, ‘requirement‘, which represents the requirement description from the task. The output is a function generated according to the task requirement.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p8">
<p class="ltx_p" id="A3.SS2.p8.1">- ApplyOP: This operator functions as an executor, applying the input function to the corresponding data. The input consists of two variables: ‘func‘, which represents a function (such as a requirement function generated by RefGenOP), and ‘data‘, which represents the data to be processed. The output is obtained by passing ‘data‘ through the ‘func‘ function.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p9">
<p class="ltx_p" id="A3.SS2.p9.1">- ObjGenOP: This operator is designed to generate an optimization objective for an optimal investment strategy based on the user’s investment goals. The input consists of a single variable, ‘obj_information‘, which contains the user’s description of their investment objectives (including expected profit, etc.). The operator utilizes large language models to interpret the investment-related information provided by the user and generates an optimization objective function. The output is the optimization objective function derived from the input investment information.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p10">
<p class="ltx_p" id="A3.SS2.p10.1">- ConGenOP: This operator is designed to generate a constraint function based on the user’s investment-related constraints. The input consists of a single variable, ‘con_information‘, which contains the user’s description of their investment constraints (such as budget limits and acceptable risk tolerance). The operator leverages large language models to interpret the investment-related information provided by the user and generates a corresponding constraint function. The output is the constraint function derived from the input investment information.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p11">
<p class="ltx_p" id="A3.SS2.p11.1">- OptOP: This operator is primarily used for generating the optimal stock investment strategy. The input consists of four variables: ‘data‘, ‘constraint‘, ‘future_length‘, and ‘objective‘. ‘data‘ represents the historical stock data to be invested in, ‘constraint‘ denotes the investment constraint function (such as budget constraints, return rate constraints, etc.), ‘future_length‘ specifies the number of future investment time steps, and ‘objective‘ represents the investment objective function. This operator leverages large language models to understand stock data, investment goals, and constraints to automatically generate the optimal investment strategy. The output is the optimal investment strategy based on all input information.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p12">
<p class="ltx_p" id="A3.SS2.p12.1">- GrangerCausalMatrixOP: This operator is used to calculate the Granger causality relationship between each pair of variables in a time series dataset. The input consists of a single variable, ‘data‘, which is composed of the historical data of C time series. The output is a matrix of shape [C, C], where each element represents the significance (p-value) of the causal relationship between the corresponding variables.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p13">
<p class="ltx_p" id="A3.SS2.p13.1">- GetCausalRelationsOP: This operator is used to determine significant causal relationships based on a Granger causality matrix, which stores the p-values of the causal relationships between variables. A threshold parameter, ‘relation_ratio‘, is applied to identify significant causal relationships, and the output is a binary matrix indicating which variables have significant causal links. The input consists of two variables: ‘data‘, which is the precomputed causality matrix, and ‘relation_ratio‘, which is the threshold. The output is a matrix composed of zeros and ones, reflecting the causal relationships.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="A3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.3 </span>CoT Prompt</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="A3.SS3.p1">
<p class="ltx_p" id="A3.SS3.p1.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p1.1.1">(1) Stock Future Price Prediction CoT</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p2">
<p class="ltx_p" id="A3.SS3.p2.1">You are an experienced data scientist specializing in time series forecasting. I will provide you with a list of multiple time series. You must generate only predictions for the following questions, returning only the predictions without any codes, markdown formatting or extra characters. question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p3">
<p class="ltx_p" id="A3.SS3.p3.1">Chain of Thought:
Step 1: Understand and parse the input data from text. Must clarify the number of all stocks.
Step 2: Choose an appropriate model: You will select an appropriate time series forecasting model (e.g., ARIMA, LSTM, etc.) based on the input data. Make sure the model is suitable for forecasting the next n steps.
Step 3: Apply the model: You will apply the chosen model to each time series (each column in the input data) and generate predictions for the next n steps.
Step 4: Return the prediction results: Output the future predictions directly as ’predictions=List([List(),List(),…,])’.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p4">
<p class="ltx_p" id="A3.SS3.p4.1">Requirement:
Do not return any codes, just the final results ’predictions=List([List(),List(),…,])’.
Please ensure that the output number of stocks is correct and the predicted length is accurate.
Simply output the future predictions as a list.
The predictions should be stored in a variable called ‘predictions‘ and output the list directly.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p5">
<p class="ltx_p" id="A3.SS3.p5.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p5.1.1">(2) Stock Future Price Prediction CoT with Code</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p6">
<p class="ltx_p" id="A3.SS3.p6.1">You are an expert in time series forecasting. You need to perform a forecasting tasks. Generate only Python code, no markdown or extra characters, for the task below: question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p7">
<p class="ltx_p" id="A3.SS3.p7.1">Instructions:
1. Input is a 2D numpy array ‘data‘ of shape [L, C], where L is the historical data length and C is the number of time series. ‘n‘ is the future length to predict.
2. Define a function that predicts n steps for each time series using models like ARIMA or LSTM. Ensure the model outputs all n steps of predictions.
3. Store your output in the variable called ‘predictions‘. ‘predictions‘ should be a nested list: ‘predictions = [[step1, step2, …, stepn] for each time series]‘, Your prediction should be a 2d array of shape [n,C].</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p8">
<p class="ltx_p" id="A3.SS3.p8.1">Requirements:
- Define data = np.array([]) as placeholders and do not include any hardcoded data in the data variable.
- Ensure the code is fully executable and ‘n‘ is set from the prompt.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p9">
<p class="ltx_p" id="A3.SS3.p9.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p9.1.1">(3) Stock Future Volatility Prediction CoT</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p10">
<p class="ltx_p" id="A3.SS3.p10.1">You are an experienced data scientist specializing in time series forecasting. I will provide you with a list of multiple time series. You must generate only predictions for the following questions, returning only the predictions without any codes, markdown formatting or extra characters. question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p11">
<p class="ltx_p" id="A3.SS3.p11.1">Chain of Thought:
Step 1: Understand and parse the input data from text. Must clarify the number of all stocks.
Step 2: Choose an appropriate model: You will select an appropriate time series forecasting model (e.g., ARIMA, LSTM, etc.) based on the input data. Make sure the model is suitable for forecasting the next n steps.
Step 3: Apply the model: You will apply the chosen model to each time series (each column in the input data) and generate predictions for the next n steps.
Step 4. Calculate the volatility of each time forcasted time series. Volatility refers to the standard deviation of a time series.
Step 5: Return the prediction results: Output the future predictions directly as ’predictions=List([volatility1, volatility2,…])’.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p12">
<p class="ltx_p" id="A3.SS3.p12.1">Requirement:
Do not return any codes, just the final results ’predictions=List([volatility1, volatility2,…])’.
Please ensure that the output number of stocks is correct and the predicted length is accurate.
Simply output the future predictions as a list of length equals to stocks.
The predictions should be stored in a variable called ‘predictions‘ and output the list directly.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p13">
<p class="ltx_p" id="A3.SS3.p13.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p13.1.1">(4) Stock Future Volatility Prediction CoT with Code</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p14">
<p class="ltx_p" id="A3.SS3.p14.1">You are an expert in time series forecasting. You need to perform a forecasting tasks. Generate only Python code, no markdown or extra characters, for the task below: question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p15">
<p class="ltx_p" id="A3.SS3.p15.1">Instructions:
1. Input is a 2D numpy array ‘data‘ of shape [L, C], where L is the historical data length and C is the number of time series. ‘n‘ is the future length to predict.
2. Define a function that predicts n steps for each time series using models like ARIMA or LSTM. Ensure the model outputs all n steps of predictions.
3. Calculate the volatility of each time forcasted time series
4. Store your output in the variable called ‘predictions‘. ‘predictions‘ should be a list od length C: ‘predictions = [volatility1, volatility2,…]‘.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p16">
<p class="ltx_p" id="A3.SS3.p16.1">Requirements:
- Define data = np.array([]) as placeholders and do not include any hardcoded data in the data variable.
- Ensure the code is fully executable and ‘n‘ is set from the prompt.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p17">
<p class="ltx_p" id="A3.SS3.p17.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p17.1.1">(5) Stock Future Trend Classification CoT</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p18">
<p class="ltx_p" id="A3.SS3.p18.1">You are an experienced data scientist specializing in time series forecasting. I will provide you with a list of multiple time series. You must generate only predictions for the following questions, returning only the predictions without any codes, markdown formatting or extra characters. question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p19">
<p class="ltx_p" id="A3.SS3.p19.1">Chain of Thought:
Step 1: Understand and parse the input data from text. Must clarify the number of all stocks.
Step 2: Choose an appropriate model: You will select an appropriate time series forecasting model (e.g., ARIMA, LSTM, etc.) based on the input data. Make sure the model is suitable for forecasting the next n steps.
Step 3: Apply the model: You will apply the chosen model to each time series (each column in the input data) and generate predictions for the next n steps.
Step 4. Calculate the trend of each time forcasted time series. Trend refers to increasing, decreasing and unknown.
Step 5: Return the prediction results: Output the future predictions directly as ’predictions=List([trend1, trend2,…])’.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p20">
<p class="ltx_p" id="A3.SS3.p20.1">Requirement:
Do not return any codes, just the final results ’predictions=List([trend1, trend2,…])’.
Please ensure that the output number of stocks is correct and the predicted length is accurate.
Simply output the future predictions as a list of length equals to stocks.
The predictions should be stored in a variable called ‘predictions‘ and output the list directly.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p21">
<p class="ltx_p" id="A3.SS3.p21.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p21.1.1">(6) Stock Future Trend Classification CoT with Code</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p22">
<p class="ltx_p" id="A3.SS3.p22.1">You are an expert in time series forecasting. You need to perform a forecasting tasks. Generate only Python code, no markdown or extra characters, for the task below: question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p23">
<p class="ltx_p" id="A3.SS3.p23.1">Instructions:
1. Input is a 2D numpy array ‘data‘ of shape [L, C], where L is the historical data length and C is the number of time series. ‘n‘ is the future length to predict.
2. Define a function that predicts n steps for each time series using models like ARIMA or LSTM. Ensure the model outputs all n steps of predictions.
3. Extract the trend of each time series forcasted time series (increasing, decreasing, unknown)
4. Store your output in the variable called ‘predictions‘. ‘predictions‘ should be a list od length C: ‘predictions = [trend1, trend2,…]‘.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p24">
<p class="ltx_p" id="A3.SS3.p24.1">Requirements:
- Define data = np.array([]) as placeholders and do not include any hardcoded data in the data variable.
- Ensure the code is fully executable and ‘n‘ is set from the prompt.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p25">
<p class="ltx_p" id="A3.SS3.p25.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p25.1.1">(7) Electricity Prediction CoT</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p26">
<p class="ltx_p" id="A3.SS3.p26.2">You are an expert in time series forecasting. You need to perform a forecasting task on electricity data. Generate only the final results, no markdown, code, or extra characters, for the task below: question. Given future covariate data <math alttext="future\_data" class="ltx_Math" display="inline" id="A3.SS3.p26.1.m1.1"><semantics id="A3.SS3.p26.1.m1.1a"><mrow id="A3.SS3.p26.1.m1.1.1" xref="A3.SS3.p26.1.m1.1.1.cmml"><mi id="A3.SS3.p26.1.m1.1.1.2" xref="A3.SS3.p26.1.m1.1.1.2.cmml">f</mi><mo id="A3.SS3.p26.1.m1.1.1.1" xref="A3.SS3.p26.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.1.m1.1.1.3" xref="A3.SS3.p26.1.m1.1.1.3.cmml">u</mi><mo id="A3.SS3.p26.1.m1.1.1.1a" xref="A3.SS3.p26.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.1.m1.1.1.4" xref="A3.SS3.p26.1.m1.1.1.4.cmml">t</mi><mo id="A3.SS3.p26.1.m1.1.1.1b" xref="A3.SS3.p26.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.1.m1.1.1.5" xref="A3.SS3.p26.1.m1.1.1.5.cmml">u</mi><mo id="A3.SS3.p26.1.m1.1.1.1c" xref="A3.SS3.p26.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.1.m1.1.1.6" xref="A3.SS3.p26.1.m1.1.1.6.cmml">r</mi><mo id="A3.SS3.p26.1.m1.1.1.1d" xref="A3.SS3.p26.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.1.m1.1.1.7" xref="A3.SS3.p26.1.m1.1.1.7.cmml">e</mi><mo id="A3.SS3.p26.1.m1.1.1.1e" xref="A3.SS3.p26.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.1.m1.1.1.8" mathvariant="normal" xref="A3.SS3.p26.1.m1.1.1.8.cmml">_</mi><mo id="A3.SS3.p26.1.m1.1.1.1f" xref="A3.SS3.p26.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.1.m1.1.1.9" xref="A3.SS3.p26.1.m1.1.1.9.cmml">d</mi><mo id="A3.SS3.p26.1.m1.1.1.1g" xref="A3.SS3.p26.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.1.m1.1.1.10" xref="A3.SS3.p26.1.m1.1.1.10.cmml">a</mi><mo id="A3.SS3.p26.1.m1.1.1.1h" xref="A3.SS3.p26.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.1.m1.1.1.11" xref="A3.SS3.p26.1.m1.1.1.11.cmml">t</mi><mo id="A3.SS3.p26.1.m1.1.1.1i" xref="A3.SS3.p26.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.1.m1.1.1.12" xref="A3.SS3.p26.1.m1.1.1.12.cmml">a</mi></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p26.1.m1.1b"><apply id="A3.SS3.p26.1.m1.1.1.cmml" xref="A3.SS3.p26.1.m1.1.1"><times id="A3.SS3.p26.1.m1.1.1.1.cmml" xref="A3.SS3.p26.1.m1.1.1.1"></times><ci id="A3.SS3.p26.1.m1.1.1.2.cmml" xref="A3.SS3.p26.1.m1.1.1.2">𝑓</ci><ci id="A3.SS3.p26.1.m1.1.1.3.cmml" xref="A3.SS3.p26.1.m1.1.1.3">𝑢</ci><ci id="A3.SS3.p26.1.m1.1.1.4.cmml" xref="A3.SS3.p26.1.m1.1.1.4">𝑡</ci><ci id="A3.SS3.p26.1.m1.1.1.5.cmml" xref="A3.SS3.p26.1.m1.1.1.5">𝑢</ci><ci id="A3.SS3.p26.1.m1.1.1.6.cmml" xref="A3.SS3.p26.1.m1.1.1.6">𝑟</ci><ci id="A3.SS3.p26.1.m1.1.1.7.cmml" xref="A3.SS3.p26.1.m1.1.1.7">𝑒</ci><ci id="A3.SS3.p26.1.m1.1.1.8.cmml" xref="A3.SS3.p26.1.m1.1.1.8">_</ci><ci id="A3.SS3.p26.1.m1.1.1.9.cmml" xref="A3.SS3.p26.1.m1.1.1.9">𝑑</ci><ci id="A3.SS3.p26.1.m1.1.1.10.cmml" xref="A3.SS3.p26.1.m1.1.1.10">𝑎</ci><ci id="A3.SS3.p26.1.m1.1.1.11.cmml" xref="A3.SS3.p26.1.m1.1.1.11">𝑡</ci><ci id="A3.SS3.p26.1.m1.1.1.12.cmml" xref="A3.SS3.p26.1.m1.1.1.12">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p26.1.m1.1c">future\_data</annotation><annotation encoding="application/x-llamapun" id="A3.SS3.p26.1.m1.1d">italic_f italic_u italic_t italic_u italic_r italic_e _ italic_d italic_a italic_t italic_a</annotation></semantics></math> and the prediction length <math alttext="future\_length" class="ltx_Math" display="inline" id="A3.SS3.p26.2.m2.1"><semantics id="A3.SS3.p26.2.m2.1a"><mrow id="A3.SS3.p26.2.m2.1.1" xref="A3.SS3.p26.2.m2.1.1.cmml"><mi id="A3.SS3.p26.2.m2.1.1.2" xref="A3.SS3.p26.2.m2.1.1.2.cmml">f</mi><mo id="A3.SS3.p26.2.m2.1.1.1" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.3" xref="A3.SS3.p26.2.m2.1.1.3.cmml">u</mi><mo id="A3.SS3.p26.2.m2.1.1.1a" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.4" xref="A3.SS3.p26.2.m2.1.1.4.cmml">t</mi><mo id="A3.SS3.p26.2.m2.1.1.1b" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.5" xref="A3.SS3.p26.2.m2.1.1.5.cmml">u</mi><mo id="A3.SS3.p26.2.m2.1.1.1c" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.6" xref="A3.SS3.p26.2.m2.1.1.6.cmml">r</mi><mo id="A3.SS3.p26.2.m2.1.1.1d" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.7" xref="A3.SS3.p26.2.m2.1.1.7.cmml">e</mi><mo id="A3.SS3.p26.2.m2.1.1.1e" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.8" mathvariant="normal" xref="A3.SS3.p26.2.m2.1.1.8.cmml">_</mi><mo id="A3.SS3.p26.2.m2.1.1.1f" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.9" xref="A3.SS3.p26.2.m2.1.1.9.cmml">l</mi><mo id="A3.SS3.p26.2.m2.1.1.1g" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.10" xref="A3.SS3.p26.2.m2.1.1.10.cmml">e</mi><mo id="A3.SS3.p26.2.m2.1.1.1h" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.11" xref="A3.SS3.p26.2.m2.1.1.11.cmml">n</mi><mo id="A3.SS3.p26.2.m2.1.1.1i" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.12" xref="A3.SS3.p26.2.m2.1.1.12.cmml">g</mi><mo id="A3.SS3.p26.2.m2.1.1.1j" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.13" xref="A3.SS3.p26.2.m2.1.1.13.cmml">t</mi><mo id="A3.SS3.p26.2.m2.1.1.1k" xref="A3.SS3.p26.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p26.2.m2.1.1.14" xref="A3.SS3.p26.2.m2.1.1.14.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p26.2.m2.1b"><apply id="A3.SS3.p26.2.m2.1.1.cmml" xref="A3.SS3.p26.2.m2.1.1"><times id="A3.SS3.p26.2.m2.1.1.1.cmml" xref="A3.SS3.p26.2.m2.1.1.1"></times><ci id="A3.SS3.p26.2.m2.1.1.2.cmml" xref="A3.SS3.p26.2.m2.1.1.2">𝑓</ci><ci id="A3.SS3.p26.2.m2.1.1.3.cmml" xref="A3.SS3.p26.2.m2.1.1.3">𝑢</ci><ci id="A3.SS3.p26.2.m2.1.1.4.cmml" xref="A3.SS3.p26.2.m2.1.1.4">𝑡</ci><ci id="A3.SS3.p26.2.m2.1.1.5.cmml" xref="A3.SS3.p26.2.m2.1.1.5">𝑢</ci><ci id="A3.SS3.p26.2.m2.1.1.6.cmml" xref="A3.SS3.p26.2.m2.1.1.6">𝑟</ci><ci id="A3.SS3.p26.2.m2.1.1.7.cmml" xref="A3.SS3.p26.2.m2.1.1.7">𝑒</ci><ci id="A3.SS3.p26.2.m2.1.1.8.cmml" xref="A3.SS3.p26.2.m2.1.1.8">_</ci><ci id="A3.SS3.p26.2.m2.1.1.9.cmml" xref="A3.SS3.p26.2.m2.1.1.9">𝑙</ci><ci id="A3.SS3.p26.2.m2.1.1.10.cmml" xref="A3.SS3.p26.2.m2.1.1.10">𝑒</ci><ci id="A3.SS3.p26.2.m2.1.1.11.cmml" xref="A3.SS3.p26.2.m2.1.1.11">𝑛</ci><ci id="A3.SS3.p26.2.m2.1.1.12.cmml" xref="A3.SS3.p26.2.m2.1.1.12">𝑔</ci><ci id="A3.SS3.p26.2.m2.1.1.13.cmml" xref="A3.SS3.p26.2.m2.1.1.13">𝑡</ci><ci id="A3.SS3.p26.2.m2.1.1.14.cmml" xref="A3.SS3.p26.2.m2.1.1.14">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p26.2.m2.1c">future\_length</annotation><annotation encoding="application/x-llamapun" id="A3.SS3.p26.2.m2.1d">italic_f italic_u italic_t italic_u italic_r italic_e _ italic_l italic_e italic_n italic_g italic_t italic_h</annotation></semantics></math>, please predict the values of the target variable.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p27">
<p class="ltx_p" id="A3.SS3.p27.3">Chain of Thought:
1: Understand and parse the input data from text. Here are several historical time series, where only one time series is the target variable and the other time series are covariates.
2. Select a multiple regression model to model the relationship between covariates and the target variable, such as the LinearRegression model.
3: Based on the future covariate data, use the model from step two to predict the target variable of the length <math alttext="future\_length" class="ltx_Math" display="inline" id="A3.SS3.p27.1.m1.1"><semantics id="A3.SS3.p27.1.m1.1a"><mrow id="A3.SS3.p27.1.m1.1.1" xref="A3.SS3.p27.1.m1.1.1.cmml"><mi id="A3.SS3.p27.1.m1.1.1.2" xref="A3.SS3.p27.1.m1.1.1.2.cmml">f</mi><mo id="A3.SS3.p27.1.m1.1.1.1" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.3" xref="A3.SS3.p27.1.m1.1.1.3.cmml">u</mi><mo id="A3.SS3.p27.1.m1.1.1.1a" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.4" xref="A3.SS3.p27.1.m1.1.1.4.cmml">t</mi><mo id="A3.SS3.p27.1.m1.1.1.1b" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.5" xref="A3.SS3.p27.1.m1.1.1.5.cmml">u</mi><mo id="A3.SS3.p27.1.m1.1.1.1c" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.6" xref="A3.SS3.p27.1.m1.1.1.6.cmml">r</mi><mo id="A3.SS3.p27.1.m1.1.1.1d" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.7" xref="A3.SS3.p27.1.m1.1.1.7.cmml">e</mi><mo id="A3.SS3.p27.1.m1.1.1.1e" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.8" mathvariant="normal" xref="A3.SS3.p27.1.m1.1.1.8.cmml">_</mi><mo id="A3.SS3.p27.1.m1.1.1.1f" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.9" xref="A3.SS3.p27.1.m1.1.1.9.cmml">l</mi><mo id="A3.SS3.p27.1.m1.1.1.1g" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.10" xref="A3.SS3.p27.1.m1.1.1.10.cmml">e</mi><mo id="A3.SS3.p27.1.m1.1.1.1h" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.11" xref="A3.SS3.p27.1.m1.1.1.11.cmml">n</mi><mo id="A3.SS3.p27.1.m1.1.1.1i" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.12" xref="A3.SS3.p27.1.m1.1.1.12.cmml">g</mi><mo id="A3.SS3.p27.1.m1.1.1.1j" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.13" xref="A3.SS3.p27.1.m1.1.1.13.cmml">t</mi><mo id="A3.SS3.p27.1.m1.1.1.1k" xref="A3.SS3.p27.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.1.m1.1.1.14" xref="A3.SS3.p27.1.m1.1.1.14.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p27.1.m1.1b"><apply id="A3.SS3.p27.1.m1.1.1.cmml" xref="A3.SS3.p27.1.m1.1.1"><times id="A3.SS3.p27.1.m1.1.1.1.cmml" xref="A3.SS3.p27.1.m1.1.1.1"></times><ci id="A3.SS3.p27.1.m1.1.1.2.cmml" xref="A3.SS3.p27.1.m1.1.1.2">𝑓</ci><ci id="A3.SS3.p27.1.m1.1.1.3.cmml" xref="A3.SS3.p27.1.m1.1.1.3">𝑢</ci><ci id="A3.SS3.p27.1.m1.1.1.4.cmml" xref="A3.SS3.p27.1.m1.1.1.4">𝑡</ci><ci id="A3.SS3.p27.1.m1.1.1.5.cmml" xref="A3.SS3.p27.1.m1.1.1.5">𝑢</ci><ci id="A3.SS3.p27.1.m1.1.1.6.cmml" xref="A3.SS3.p27.1.m1.1.1.6">𝑟</ci><ci id="A3.SS3.p27.1.m1.1.1.7.cmml" xref="A3.SS3.p27.1.m1.1.1.7">𝑒</ci><ci id="A3.SS3.p27.1.m1.1.1.8.cmml" xref="A3.SS3.p27.1.m1.1.1.8">_</ci><ci id="A3.SS3.p27.1.m1.1.1.9.cmml" xref="A3.SS3.p27.1.m1.1.1.9">𝑙</ci><ci id="A3.SS3.p27.1.m1.1.1.10.cmml" xref="A3.SS3.p27.1.m1.1.1.10">𝑒</ci><ci id="A3.SS3.p27.1.m1.1.1.11.cmml" xref="A3.SS3.p27.1.m1.1.1.11">𝑛</ci><ci id="A3.SS3.p27.1.m1.1.1.12.cmml" xref="A3.SS3.p27.1.m1.1.1.12">𝑔</ci><ci id="A3.SS3.p27.1.m1.1.1.13.cmml" xref="A3.SS3.p27.1.m1.1.1.13">𝑡</ci><ci id="A3.SS3.p27.1.m1.1.1.14.cmml" xref="A3.SS3.p27.1.m1.1.1.14">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p27.1.m1.1c">future\_length</annotation><annotation encoding="application/x-llamapun" id="A3.SS3.p27.1.m1.1d">italic_f italic_u italic_t italic_u italic_r italic_e _ italic_l italic_e italic_n italic_g italic_t italic_h</annotation></semantics></math>.
4: Refine your predictions if necessary to meet the required constraints and store the final results in predictions.
5. If the predicted length exceeds <math alttext="future\_length" class="ltx_Math" display="inline" id="A3.SS3.p27.2.m2.1"><semantics id="A3.SS3.p27.2.m2.1a"><mrow id="A3.SS3.p27.2.m2.1.1" xref="A3.SS3.p27.2.m2.1.1.cmml"><mi id="A3.SS3.p27.2.m2.1.1.2" xref="A3.SS3.p27.2.m2.1.1.2.cmml">f</mi><mo id="A3.SS3.p27.2.m2.1.1.1" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.3" xref="A3.SS3.p27.2.m2.1.1.3.cmml">u</mi><mo id="A3.SS3.p27.2.m2.1.1.1a" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.4" xref="A3.SS3.p27.2.m2.1.1.4.cmml">t</mi><mo id="A3.SS3.p27.2.m2.1.1.1b" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.5" xref="A3.SS3.p27.2.m2.1.1.5.cmml">u</mi><mo id="A3.SS3.p27.2.m2.1.1.1c" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.6" xref="A3.SS3.p27.2.m2.1.1.6.cmml">r</mi><mo id="A3.SS3.p27.2.m2.1.1.1d" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.7" xref="A3.SS3.p27.2.m2.1.1.7.cmml">e</mi><mo id="A3.SS3.p27.2.m2.1.1.1e" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.8" mathvariant="normal" xref="A3.SS3.p27.2.m2.1.1.8.cmml">_</mi><mo id="A3.SS3.p27.2.m2.1.1.1f" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.9" xref="A3.SS3.p27.2.m2.1.1.9.cmml">l</mi><mo id="A3.SS3.p27.2.m2.1.1.1g" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.10" xref="A3.SS3.p27.2.m2.1.1.10.cmml">e</mi><mo id="A3.SS3.p27.2.m2.1.1.1h" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.11" xref="A3.SS3.p27.2.m2.1.1.11.cmml">n</mi><mo id="A3.SS3.p27.2.m2.1.1.1i" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.12" xref="A3.SS3.p27.2.m2.1.1.12.cmml">g</mi><mo id="A3.SS3.p27.2.m2.1.1.1j" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.13" xref="A3.SS3.p27.2.m2.1.1.13.cmml">t</mi><mo id="A3.SS3.p27.2.m2.1.1.1k" xref="A3.SS3.p27.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.2.m2.1.1.14" xref="A3.SS3.p27.2.m2.1.1.14.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p27.2.m2.1b"><apply id="A3.SS3.p27.2.m2.1.1.cmml" xref="A3.SS3.p27.2.m2.1.1"><times id="A3.SS3.p27.2.m2.1.1.1.cmml" xref="A3.SS3.p27.2.m2.1.1.1"></times><ci id="A3.SS3.p27.2.m2.1.1.2.cmml" xref="A3.SS3.p27.2.m2.1.1.2">𝑓</ci><ci id="A3.SS3.p27.2.m2.1.1.3.cmml" xref="A3.SS3.p27.2.m2.1.1.3">𝑢</ci><ci id="A3.SS3.p27.2.m2.1.1.4.cmml" xref="A3.SS3.p27.2.m2.1.1.4">𝑡</ci><ci id="A3.SS3.p27.2.m2.1.1.5.cmml" xref="A3.SS3.p27.2.m2.1.1.5">𝑢</ci><ci id="A3.SS3.p27.2.m2.1.1.6.cmml" xref="A3.SS3.p27.2.m2.1.1.6">𝑟</ci><ci id="A3.SS3.p27.2.m2.1.1.7.cmml" xref="A3.SS3.p27.2.m2.1.1.7">𝑒</ci><ci id="A3.SS3.p27.2.m2.1.1.8.cmml" xref="A3.SS3.p27.2.m2.1.1.8">_</ci><ci id="A3.SS3.p27.2.m2.1.1.9.cmml" xref="A3.SS3.p27.2.m2.1.1.9">𝑙</ci><ci id="A3.SS3.p27.2.m2.1.1.10.cmml" xref="A3.SS3.p27.2.m2.1.1.10">𝑒</ci><ci id="A3.SS3.p27.2.m2.1.1.11.cmml" xref="A3.SS3.p27.2.m2.1.1.11">𝑛</ci><ci id="A3.SS3.p27.2.m2.1.1.12.cmml" xref="A3.SS3.p27.2.m2.1.1.12">𝑔</ci><ci id="A3.SS3.p27.2.m2.1.1.13.cmml" xref="A3.SS3.p27.2.m2.1.1.13">𝑡</ci><ci id="A3.SS3.p27.2.m2.1.1.14.cmml" xref="A3.SS3.p27.2.m2.1.1.14">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p27.2.m2.1c">future\_length</annotation><annotation encoding="application/x-llamapun" id="A3.SS3.p27.2.m2.1d">italic_f italic_u italic_t italic_u italic_r italic_e _ italic_l italic_e italic_n italic_g italic_t italic_h</annotation></semantics></math>, please truncate it and then return the predictions of length <math alttext="future\_length" class="ltx_Math" display="inline" id="A3.SS3.p27.3.m3.1"><semantics id="A3.SS3.p27.3.m3.1a"><mrow id="A3.SS3.p27.3.m3.1.1" xref="A3.SS3.p27.3.m3.1.1.cmml"><mi id="A3.SS3.p27.3.m3.1.1.2" xref="A3.SS3.p27.3.m3.1.1.2.cmml">f</mi><mo id="A3.SS3.p27.3.m3.1.1.1" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.3" xref="A3.SS3.p27.3.m3.1.1.3.cmml">u</mi><mo id="A3.SS3.p27.3.m3.1.1.1a" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.4" xref="A3.SS3.p27.3.m3.1.1.4.cmml">t</mi><mo id="A3.SS3.p27.3.m3.1.1.1b" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.5" xref="A3.SS3.p27.3.m3.1.1.5.cmml">u</mi><mo id="A3.SS3.p27.3.m3.1.1.1c" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.6" xref="A3.SS3.p27.3.m3.1.1.6.cmml">r</mi><mo id="A3.SS3.p27.3.m3.1.1.1d" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.7" xref="A3.SS3.p27.3.m3.1.1.7.cmml">e</mi><mo id="A3.SS3.p27.3.m3.1.1.1e" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.8" mathvariant="normal" xref="A3.SS3.p27.3.m3.1.1.8.cmml">_</mi><mo id="A3.SS3.p27.3.m3.1.1.1f" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.9" xref="A3.SS3.p27.3.m3.1.1.9.cmml">l</mi><mo id="A3.SS3.p27.3.m3.1.1.1g" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.10" xref="A3.SS3.p27.3.m3.1.1.10.cmml">e</mi><mo id="A3.SS3.p27.3.m3.1.1.1h" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.11" xref="A3.SS3.p27.3.m3.1.1.11.cmml">n</mi><mo id="A3.SS3.p27.3.m3.1.1.1i" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.12" xref="A3.SS3.p27.3.m3.1.1.12.cmml">g</mi><mo id="A3.SS3.p27.3.m3.1.1.1j" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.13" xref="A3.SS3.p27.3.m3.1.1.13.cmml">t</mi><mo id="A3.SS3.p27.3.m3.1.1.1k" xref="A3.SS3.p27.3.m3.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p27.3.m3.1.1.14" xref="A3.SS3.p27.3.m3.1.1.14.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p27.3.m3.1b"><apply id="A3.SS3.p27.3.m3.1.1.cmml" xref="A3.SS3.p27.3.m3.1.1"><times id="A3.SS3.p27.3.m3.1.1.1.cmml" xref="A3.SS3.p27.3.m3.1.1.1"></times><ci id="A3.SS3.p27.3.m3.1.1.2.cmml" xref="A3.SS3.p27.3.m3.1.1.2">𝑓</ci><ci id="A3.SS3.p27.3.m3.1.1.3.cmml" xref="A3.SS3.p27.3.m3.1.1.3">𝑢</ci><ci id="A3.SS3.p27.3.m3.1.1.4.cmml" xref="A3.SS3.p27.3.m3.1.1.4">𝑡</ci><ci id="A3.SS3.p27.3.m3.1.1.5.cmml" xref="A3.SS3.p27.3.m3.1.1.5">𝑢</ci><ci id="A3.SS3.p27.3.m3.1.1.6.cmml" xref="A3.SS3.p27.3.m3.1.1.6">𝑟</ci><ci id="A3.SS3.p27.3.m3.1.1.7.cmml" xref="A3.SS3.p27.3.m3.1.1.7">𝑒</ci><ci id="A3.SS3.p27.3.m3.1.1.8.cmml" xref="A3.SS3.p27.3.m3.1.1.8">_</ci><ci id="A3.SS3.p27.3.m3.1.1.9.cmml" xref="A3.SS3.p27.3.m3.1.1.9">𝑙</ci><ci id="A3.SS3.p27.3.m3.1.1.10.cmml" xref="A3.SS3.p27.3.m3.1.1.10">𝑒</ci><ci id="A3.SS3.p27.3.m3.1.1.11.cmml" xref="A3.SS3.p27.3.m3.1.1.11">𝑛</ci><ci id="A3.SS3.p27.3.m3.1.1.12.cmml" xref="A3.SS3.p27.3.m3.1.1.12">𝑔</ci><ci id="A3.SS3.p27.3.m3.1.1.13.cmml" xref="A3.SS3.p27.3.m3.1.1.13">𝑡</ci><ci id="A3.SS3.p27.3.m3.1.1.14.cmml" xref="A3.SS3.p27.3.m3.1.1.14">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p27.3.m3.1c">future\_length</annotation><annotation encoding="application/x-llamapun" id="A3.SS3.p27.3.m3.1d">italic_f italic_u italic_t italic_u italic_r italic_e _ italic_l italic_e italic_n italic_g italic_t italic_h</annotation></semantics></math>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p28">
<p class="ltx_p" id="A3.SS3.p28.2">Requirements:
The predictions must be returned as a completely list predictions of length <math alttext="future\_length" class="ltx_Math" display="inline" id="A3.SS3.p28.1.m1.1"><semantics id="A3.SS3.p28.1.m1.1a"><mrow id="A3.SS3.p28.1.m1.1.1" xref="A3.SS3.p28.1.m1.1.1.cmml"><mi id="A3.SS3.p28.1.m1.1.1.2" xref="A3.SS3.p28.1.m1.1.1.2.cmml">f</mi><mo id="A3.SS3.p28.1.m1.1.1.1" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.3" xref="A3.SS3.p28.1.m1.1.1.3.cmml">u</mi><mo id="A3.SS3.p28.1.m1.1.1.1a" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.4" xref="A3.SS3.p28.1.m1.1.1.4.cmml">t</mi><mo id="A3.SS3.p28.1.m1.1.1.1b" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.5" xref="A3.SS3.p28.1.m1.1.1.5.cmml">u</mi><mo id="A3.SS3.p28.1.m1.1.1.1c" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.6" xref="A3.SS3.p28.1.m1.1.1.6.cmml">r</mi><mo id="A3.SS3.p28.1.m1.1.1.1d" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.7" xref="A3.SS3.p28.1.m1.1.1.7.cmml">e</mi><mo id="A3.SS3.p28.1.m1.1.1.1e" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.8" mathvariant="normal" xref="A3.SS3.p28.1.m1.1.1.8.cmml">_</mi><mo id="A3.SS3.p28.1.m1.1.1.1f" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.9" xref="A3.SS3.p28.1.m1.1.1.9.cmml">l</mi><mo id="A3.SS3.p28.1.m1.1.1.1g" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.10" xref="A3.SS3.p28.1.m1.1.1.10.cmml">e</mi><mo id="A3.SS3.p28.1.m1.1.1.1h" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.11" xref="A3.SS3.p28.1.m1.1.1.11.cmml">n</mi><mo id="A3.SS3.p28.1.m1.1.1.1i" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.12" xref="A3.SS3.p28.1.m1.1.1.12.cmml">g</mi><mo id="A3.SS3.p28.1.m1.1.1.1j" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.13" xref="A3.SS3.p28.1.m1.1.1.13.cmml">t</mi><mo id="A3.SS3.p28.1.m1.1.1.1k" xref="A3.SS3.p28.1.m1.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.1.m1.1.1.14" xref="A3.SS3.p28.1.m1.1.1.14.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p28.1.m1.1b"><apply id="A3.SS3.p28.1.m1.1.1.cmml" xref="A3.SS3.p28.1.m1.1.1"><times id="A3.SS3.p28.1.m1.1.1.1.cmml" xref="A3.SS3.p28.1.m1.1.1.1"></times><ci id="A3.SS3.p28.1.m1.1.1.2.cmml" xref="A3.SS3.p28.1.m1.1.1.2">𝑓</ci><ci id="A3.SS3.p28.1.m1.1.1.3.cmml" xref="A3.SS3.p28.1.m1.1.1.3">𝑢</ci><ci id="A3.SS3.p28.1.m1.1.1.4.cmml" xref="A3.SS3.p28.1.m1.1.1.4">𝑡</ci><ci id="A3.SS3.p28.1.m1.1.1.5.cmml" xref="A3.SS3.p28.1.m1.1.1.5">𝑢</ci><ci id="A3.SS3.p28.1.m1.1.1.6.cmml" xref="A3.SS3.p28.1.m1.1.1.6">𝑟</ci><ci id="A3.SS3.p28.1.m1.1.1.7.cmml" xref="A3.SS3.p28.1.m1.1.1.7">𝑒</ci><ci id="A3.SS3.p28.1.m1.1.1.8.cmml" xref="A3.SS3.p28.1.m1.1.1.8">_</ci><ci id="A3.SS3.p28.1.m1.1.1.9.cmml" xref="A3.SS3.p28.1.m1.1.1.9">𝑙</ci><ci id="A3.SS3.p28.1.m1.1.1.10.cmml" xref="A3.SS3.p28.1.m1.1.1.10">𝑒</ci><ci id="A3.SS3.p28.1.m1.1.1.11.cmml" xref="A3.SS3.p28.1.m1.1.1.11">𝑛</ci><ci id="A3.SS3.p28.1.m1.1.1.12.cmml" xref="A3.SS3.p28.1.m1.1.1.12">𝑔</ci><ci id="A3.SS3.p28.1.m1.1.1.13.cmml" xref="A3.SS3.p28.1.m1.1.1.13">𝑡</ci><ci id="A3.SS3.p28.1.m1.1.1.14.cmml" xref="A3.SS3.p28.1.m1.1.1.14">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p28.1.m1.1c">future\_length</annotation><annotation encoding="application/x-llamapun" id="A3.SS3.p28.1.m1.1d">italic_f italic_u italic_t italic_u italic_r italic_e _ italic_l italic_e italic_n italic_g italic_t italic_h</annotation></semantics></math>.
Ensure that the output is directly the result without any code, markdown, or extra characters. Only return the list predictions with length <math alttext="future\_length" class="ltx_Math" display="inline" id="A3.SS3.p28.2.m2.1"><semantics id="A3.SS3.p28.2.m2.1a"><mrow id="A3.SS3.p28.2.m2.1.1" xref="A3.SS3.p28.2.m2.1.1.cmml"><mi id="A3.SS3.p28.2.m2.1.1.2" xref="A3.SS3.p28.2.m2.1.1.2.cmml">f</mi><mo id="A3.SS3.p28.2.m2.1.1.1" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.3" xref="A3.SS3.p28.2.m2.1.1.3.cmml">u</mi><mo id="A3.SS3.p28.2.m2.1.1.1a" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.4" xref="A3.SS3.p28.2.m2.1.1.4.cmml">t</mi><mo id="A3.SS3.p28.2.m2.1.1.1b" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.5" xref="A3.SS3.p28.2.m2.1.1.5.cmml">u</mi><mo id="A3.SS3.p28.2.m2.1.1.1c" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.6" xref="A3.SS3.p28.2.m2.1.1.6.cmml">r</mi><mo id="A3.SS3.p28.2.m2.1.1.1d" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.7" xref="A3.SS3.p28.2.m2.1.1.7.cmml">e</mi><mo id="A3.SS3.p28.2.m2.1.1.1e" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.8" mathvariant="normal" xref="A3.SS3.p28.2.m2.1.1.8.cmml">_</mi><mo id="A3.SS3.p28.2.m2.1.1.1f" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.9" xref="A3.SS3.p28.2.m2.1.1.9.cmml">l</mi><mo id="A3.SS3.p28.2.m2.1.1.1g" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.10" xref="A3.SS3.p28.2.m2.1.1.10.cmml">e</mi><mo id="A3.SS3.p28.2.m2.1.1.1h" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.11" xref="A3.SS3.p28.2.m2.1.1.11.cmml">n</mi><mo id="A3.SS3.p28.2.m2.1.1.1i" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.12" xref="A3.SS3.p28.2.m2.1.1.12.cmml">g</mi><mo id="A3.SS3.p28.2.m2.1.1.1j" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.13" xref="A3.SS3.p28.2.m2.1.1.13.cmml">t</mi><mo id="A3.SS3.p28.2.m2.1.1.1k" xref="A3.SS3.p28.2.m2.1.1.1.cmml">⁢</mo><mi id="A3.SS3.p28.2.m2.1.1.14" xref="A3.SS3.p28.2.m2.1.1.14.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p28.2.m2.1b"><apply id="A3.SS3.p28.2.m2.1.1.cmml" xref="A3.SS3.p28.2.m2.1.1"><times id="A3.SS3.p28.2.m2.1.1.1.cmml" xref="A3.SS3.p28.2.m2.1.1.1"></times><ci id="A3.SS3.p28.2.m2.1.1.2.cmml" xref="A3.SS3.p28.2.m2.1.1.2">𝑓</ci><ci id="A3.SS3.p28.2.m2.1.1.3.cmml" xref="A3.SS3.p28.2.m2.1.1.3">𝑢</ci><ci id="A3.SS3.p28.2.m2.1.1.4.cmml" xref="A3.SS3.p28.2.m2.1.1.4">𝑡</ci><ci id="A3.SS3.p28.2.m2.1.1.5.cmml" xref="A3.SS3.p28.2.m2.1.1.5">𝑢</ci><ci id="A3.SS3.p28.2.m2.1.1.6.cmml" xref="A3.SS3.p28.2.m2.1.1.6">𝑟</ci><ci id="A3.SS3.p28.2.m2.1.1.7.cmml" xref="A3.SS3.p28.2.m2.1.1.7">𝑒</ci><ci id="A3.SS3.p28.2.m2.1.1.8.cmml" xref="A3.SS3.p28.2.m2.1.1.8">_</ci><ci id="A3.SS3.p28.2.m2.1.1.9.cmml" xref="A3.SS3.p28.2.m2.1.1.9">𝑙</ci><ci id="A3.SS3.p28.2.m2.1.1.10.cmml" xref="A3.SS3.p28.2.m2.1.1.10">𝑒</ci><ci id="A3.SS3.p28.2.m2.1.1.11.cmml" xref="A3.SS3.p28.2.m2.1.1.11">𝑛</ci><ci id="A3.SS3.p28.2.m2.1.1.12.cmml" xref="A3.SS3.p28.2.m2.1.1.12">𝑔</ci><ci id="A3.SS3.p28.2.m2.1.1.13.cmml" xref="A3.SS3.p28.2.m2.1.1.13">𝑡</ci><ci id="A3.SS3.p28.2.m2.1.1.14.cmml" xref="A3.SS3.p28.2.m2.1.1.14">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p28.2.m2.1c">future\_length</annotation><annotation encoding="application/x-llamapun" id="A3.SS3.p28.2.m2.1d">italic_f italic_u italic_t italic_u italic_r italic_e _ italic_l italic_e italic_n italic_g italic_t italic_h</annotation></semantics></math>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p29">
<p class="ltx_p" id="A3.SS3.p29.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p29.1.1">(8) Electricity Prediction CoT with Code</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p30">
<p class="ltx_p" id="A3.SS3.p30.1">You are an expert in time series forecasting. You need to perform a forecasting task on electricity data. Generate only Python code, no markdown or extra characters, for the task below: question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p31">
<p class="ltx_p" id="A3.SS3.p31.1">Instructions:
1. Input is a 2D numpy array ‘data‘ of shape [L+n, C], where L is the historical data length and C is the number of time series. ‘n‘ is the future length to predict. The first C-1 columns are covariates, and the last column is the target variable.
2. Define a function that predicts n steps for the target variable given the covariates of the future n steps.
3. Store your output in the variable called ‘predictions‘. ‘predictions‘ should be a list of length n: ‘predictions = [step1, step2,…]‘.
3. Given the constraint, refine your prediction and store the refined prediction in the variable called ‘predictions‘.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p32">
<p class="ltx_p" id="A3.SS3.p32.1">Requirements:
- Define data = np.array([]) as placeholders and do not include any hardcoded data in the data variable.
- Ensure the code is fully executable and ‘n‘,‘L‘ is set from the prompt.
- Do not include any comments, especially when you call the function.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p33">
<p class="ltx_p" id="A3.SS3.p33.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p33.1.1">(9) Causal Relation CoT</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p34">
<p class="ltx_p" id="A3.SS3.p34.1">You are an expert in time series causality analysis. You need to perform a causality analysis task. Generate only predictions, no any codes, no any markdown or extra characters, for the task below: question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p35">
<p class="ltx_p" id="A3.SS3.p35.1">Instructions:
1. Create a 2D numpy array ‘data‘ of shape [hist_len, stock_len], where hist_len is the data length and stock_len is the number of time series.
2. Implement a function that analyzes the causal relationship between the time series using Granger causality test.
3. Store your output in the variable called ‘causal_relations‘. ‘causal_relations‘ should be a 2d array of shape [stock_len, stock_len]
4. Given the constraint, refine your causal relations and store the refined causal relations in the variable called ‘causal_relations‘.
5. Your final result should contain binary values (0 or 1) indicating the presence or absence of causality between the time series.
6. Store the final output in the variable called ‘predictions‘.
7. You don’t need to consider self-causality. The ratio mentioned in the constraint is the ratio of the number of causal relations to the total number of possible causal relations excluding self-causality.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p36">
<p class="ltx_p" id="A3.SS3.p36.1">Requirements:
- Ensure that the final output in the predictions variable strictly follows a two-dimensional array format, containing only binary values (0 or 1) that signify the presence or absence of causality between the time series.
- Must return only the predictions with a shape [stock_len, stock_len].</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p37">
<p class="ltx_p" id="A3.SS3.p37.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p37.1.1">(10) Causal Relation CoT with Code</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p38">
<p class="ltx_p" id="A3.SS3.p38.1">You are an expert in time series causality analysis. You need to perform a causality analysis task. Generate only Python code, no markdown or extra characters, for the task below: question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p39">
<p class="ltx_p" id="A3.SS3.p39.1">Instructions:
1. Input is a 2D numpy array ‘data‘ of shape [L, C], where L is the data length and C is the number of time series.
2. Define a function that analyzes the causal relationship between the time series using Granger causality test.
3. Store your output in the variable called ‘causal_relations‘. ‘causal_relations‘ should be a 2d array of shape [C, C]
4. Given the constraint, refine your causal relations and store the refined causal relations in the variable called ‘causal_relations‘.
5. Your final result should contain binary values (0 or 1) indicating the presence or absence of causality between the time series.
6. Store the final output in the variable called ‘predictions‘.
7. You don’t need to consider self-causality. The ratio mentioned in the constraint is the ratio of the number of causal relations to the total number of possible causal relations excluding self-causality.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p40">
<p class="ltx_p" id="A3.SS3.p40.1">Requirements:
- Define data = np.array([]) as placeholders and do not include any hardcoded data in the data variable.
- Ensure the code is fully executable.
- Do not include any comments, especially when you call the function.
- For any package import, import the functions directly.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p41">
<p class="ltx_p" id="A3.SS3.p41.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p41.1.1">(11) Stock Investment CoT</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p42">
<p class="ltx_p" id="A3.SS3.p42.1">You are an expert in stock investment. You need to perform a stock investment task. Generate only final strategy, no any codes, no any markdown or extra characters, for the task below: question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p43">
<p class="ltx_p" id="A3.SS3.p43.1">Instructions:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p44">
<p class="ltx_p" id="A3.SS3.p44.1">1. Create a pandas DataFrame data with columns stock_columns, representing historical stock prices over hist_len hours.
2. Implement a prediction function for forecasting future stock prices using an appropriate model.
3. Develop an objective function to optimize the total expected profit, considering the budget and the other constraints.
4. Apply constraints to ensure that units are non-negative, both wait_resolutions and hold_resolutions are at least zero, and their sum does not exceed future_len.
5. Calculate the optimal investment strategy, optimizing the expected profit while adhering to the constraints.
6. Format the optimized strategy into a dictionary named predictions that details the investment strategy for each stock.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p45">
<p class="ltx_p" id="A3.SS3.p45.1">Output Requirements:
1. Directly return the optimized strategy as a dictionary formatted as follows:

”investment target” (name of the stock): 
”units”: number of shares to buy and should be no smaller than 0
”wait_resolutions”: number of resolutions to wait before buying the stock and should be greater than or equal to 0
”hold_resolutions”: number of resolutions to hold the stock for and should be strictly less than the future length n
,

2. Ensure the strategy is feasible within the provided constraints and budget.
3. Exclude any extraneous comments or code annotations in the output.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p46">
<p class="ltx_p" id="A3.SS3.p46.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p46.1.1">(12) Stock Investment CoT with Code</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p47">
<p class="ltx_p" id="A3.SS3.p47.1">You are an expert in stock investment. You need to perform a stock investment task. Generate only Python code, no markdown or extra characters, for the task below: question</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p48">
<p class="ltx_p" id="A3.SS3.p48.1">Instructions:
1. Input is a pandas dataframe ‘data‘ of shape [L, C], where L is the historical data length and C is the number of time series. The column names are the stock names, and the values are the stock prices.
2. Define a function that predicts the future price of each stock using a suitable model.
3. Design an objective and constraint function to optimize the investment strategy.
4. Optimize the investment strategy based on the functions you designed. Store the optimized strategy in the variable called ‘predictions‘.
5. The output format should be 
”investment target” (name of the stock): 
”units”: number of shares to buy and should be no smaller than 0
”wait_resolutions”: number of resolutions to wait before buying the stock and should be greater than or equal to 0
”hold_resolutions”: number of resolutions to hold the stock for and should be strictly less than the future length n
,</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p49">
<p class="ltx_p" id="A3.SS3.p49.1">Requirements:
- Define data =pd.DataFrame() as placeholders and do not include any hardcoded data in the data variable.
- Ensure the code is fully executable.
- Do not include any comments, especially when you call the function.
- For any package import, import the functions directly.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="A3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.4 </span>Casual Mining Data Generation</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="A3.SS4.p1">
<p class="ltx_p" id="A3.SS4.p1.1">Now you are a Time series data scientist, please help me to write the code to generate some synthetic data in real world Time series domain, you should save the data into ”*/data.csv”:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p2">
<p class="ltx_p" id="A3.SS4.p2.1">Now suggesting you should construct a series data based on a relation matrix and the correlation ratio for different influence factor, you should notice the following points,for time step I want you to generate 500 time steps:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p3">
<p class="ltx_p" id="A3.SS4.p3.1">1. data correlation:
the multi variable should be correlated, sample: which A first influence B, then B have influence on C or D, there should be some time delay, as the influence on other staff needs time.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p4">
<p class="ltx_p" id="A3.SS4.p4.1">2. data trend:
there should be some trend in the data, like the data is increasing or decreasing.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p5">
<p class="ltx_p" id="A3.SS4.p5.1">3. data: seasonality
there should be some seasonality in the data, like the data is periodic.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p6">
<p class="ltx_p" id="A3.SS4.p6.1">4. data noise:
the noise should be added to the data, as the real world data is not perfect.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p7">
<p class="ltx_p" id="A3.SS4.p7.1">5. data background:
the data should have some real world background, you should first think about different real world data, and provide a description for the variable and time series data, then generate the data using the code.
CoT Sample:
Q:
Approximate Relation Ratio: 0.5
Relation Matrix:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="A3.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{array}[]{c|cccc}&amp;A&amp;B&amp;C&amp;D\\
\hline\cr A&amp;1&amp;1&amp;0&amp;0.5\\
B&amp;0&amp;1&amp;0&amp;1\\
C&amp;0&amp;1&amp;1&amp;1\\
D&amp;0&amp;0&amp;0&amp;1\end{array}" class="ltx_Math" display="block" id="A3.Ex2.m1.1"><semantics id="A3.Ex2.m1.1a"><mtable columnspacing="5pt" displaystyle="true" id="A3.Ex2.m1.1.1" rowspacing="0pt" xref="A3.Ex2.m1.1.1.cmml"><mtr id="A3.Ex2.m1.1.1a" xref="A3.Ex2.m1.1.1.cmml"><mtd class="ltx_border_r" id="A3.Ex2.m1.1.1b" xref="A3.Ex2.m1.1.1.cmml"></mtd><mtd id="A3.Ex2.m1.1.1c" xref="A3.Ex2.m1.1.1.cmml"><mi id="A3.Ex2.m1.1.1.1.2.1" xref="A3.Ex2.m1.1.1.1.2.1.cmml">A</mi></mtd><mtd id="A3.Ex2.m1.1.1d" xref="A3.Ex2.m1.1.1.cmml"><mi id="A3.Ex2.m1.1.1.1.3.1" xref="A3.Ex2.m1.1.1.1.3.1.cmml">B</mi></mtd><mtd id="A3.Ex2.m1.1.1e" xref="A3.Ex2.m1.1.1.cmml"><mi id="A3.Ex2.m1.1.1.1.4.1" xref="A3.Ex2.m1.1.1.1.4.1.cmml">C</mi></mtd><mtd id="A3.Ex2.m1.1.1f" xref="A3.Ex2.m1.1.1.cmml"><mi id="A3.Ex2.m1.1.1.1.5.1" xref="A3.Ex2.m1.1.1.1.5.1.cmml">D</mi></mtd></mtr><mtr id="A3.Ex2.m1.1.1g" xref="A3.Ex2.m1.1.1.cmml"><mtd class="ltx_border_t" id="A3.Ex2.m1.1.1h" xref="A3.Ex2.m1.1.1.cmml"></mtd><mtd class="ltx_border_t" id="A3.Ex2.m1.1.1i" xref="A3.Ex2.m1.1.1.cmml"></mtd><mtd class="ltx_border_t" id="A3.Ex2.m1.1.1j" xref="A3.Ex2.m1.1.1.cmml"></mtd><mtd class="ltx_border_t" id="A3.Ex2.m1.1.1k" xref="A3.Ex2.m1.1.1.cmml"></mtd><mtd class="ltx_border_t" id="A3.Ex2.m1.1.1l" xref="A3.Ex2.m1.1.1.cmml"></mtd></mtr><mtr id="A3.Ex2.m1.1.1m" xref="A3.Ex2.m1.1.1.cmml"><mtd class="ltx_border_r" id="A3.Ex2.m1.1.1n" xref="A3.Ex2.m1.1.1.cmml"><mi id="A3.Ex2.m1.1.1.3.1.1" xref="A3.Ex2.m1.1.1.3.1.1.cmml">A</mi></mtd><mtd id="A3.Ex2.m1.1.1o" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.3.2.1" xref="A3.Ex2.m1.1.1.3.2.1.cmml">1</mn></mtd><mtd id="A3.Ex2.m1.1.1p" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.3.3.1" xref="A3.Ex2.m1.1.1.3.3.1.cmml">1</mn></mtd><mtd id="A3.Ex2.m1.1.1q" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.3.4.1" xref="A3.Ex2.m1.1.1.3.4.1.cmml">0</mn></mtd><mtd id="A3.Ex2.m1.1.1r" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.3.5.1" xref="A3.Ex2.m1.1.1.3.5.1.cmml">0.5</mn></mtd></mtr><mtr id="A3.Ex2.m1.1.1s" xref="A3.Ex2.m1.1.1.cmml"><mtd class="ltx_border_r" id="A3.Ex2.m1.1.1t" xref="A3.Ex2.m1.1.1.cmml"><mi id="A3.Ex2.m1.1.1.4.1.1" xref="A3.Ex2.m1.1.1.4.1.1.cmml">B</mi></mtd><mtd id="A3.Ex2.m1.1.1u" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.4.2.1" xref="A3.Ex2.m1.1.1.4.2.1.cmml">0</mn></mtd><mtd id="A3.Ex2.m1.1.1v" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.4.3.1" xref="A3.Ex2.m1.1.1.4.3.1.cmml">1</mn></mtd><mtd id="A3.Ex2.m1.1.1w" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.4.4.1" xref="A3.Ex2.m1.1.1.4.4.1.cmml">0</mn></mtd><mtd id="A3.Ex2.m1.1.1x" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.4.5.1" xref="A3.Ex2.m1.1.1.4.5.1.cmml">1</mn></mtd></mtr><mtr id="A3.Ex2.m1.1.1y" xref="A3.Ex2.m1.1.1.cmml"><mtd class="ltx_border_r" id="A3.Ex2.m1.1.1z" xref="A3.Ex2.m1.1.1.cmml"><mi id="A3.Ex2.m1.1.1.5.1.1" xref="A3.Ex2.m1.1.1.5.1.1.cmml">C</mi></mtd><mtd id="A3.Ex2.m1.1.1aa" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.5.2.1" xref="A3.Ex2.m1.1.1.5.2.1.cmml">0</mn></mtd><mtd id="A3.Ex2.m1.1.1ab" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.5.3.1" xref="A3.Ex2.m1.1.1.5.3.1.cmml">1</mn></mtd><mtd id="A3.Ex2.m1.1.1ac" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.5.4.1" xref="A3.Ex2.m1.1.1.5.4.1.cmml">1</mn></mtd><mtd id="A3.Ex2.m1.1.1ad" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.5.5.1" xref="A3.Ex2.m1.1.1.5.5.1.cmml">1</mn></mtd></mtr><mtr id="A3.Ex2.m1.1.1ae" xref="A3.Ex2.m1.1.1.cmml"><mtd class="ltx_border_r" id="A3.Ex2.m1.1.1af" xref="A3.Ex2.m1.1.1.cmml"><mi id="A3.Ex2.m1.1.1.6.1.1" xref="A3.Ex2.m1.1.1.6.1.1.cmml">D</mi></mtd><mtd id="A3.Ex2.m1.1.1ag" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.6.2.1" xref="A3.Ex2.m1.1.1.6.2.1.cmml">0</mn></mtd><mtd id="A3.Ex2.m1.1.1ah" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.6.3.1" xref="A3.Ex2.m1.1.1.6.3.1.cmml">0</mn></mtd><mtd id="A3.Ex2.m1.1.1ai" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.6.4.1" xref="A3.Ex2.m1.1.1.6.4.1.cmml">0</mn></mtd><mtd id="A3.Ex2.m1.1.1aj" xref="A3.Ex2.m1.1.1.cmml"><mn id="A3.Ex2.m1.1.1.6.5.1" xref="A3.Ex2.m1.1.1.6.5.1.cmml">1</mn></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="A3.Ex2.m1.1b"><matrix id="A3.Ex2.m1.1.1.cmml" xref="A3.Ex2.m1.1.1"><matrixrow id="A3.Ex2.m1.1.1a.cmml" xref="A3.Ex2.m1.1.1"><cerror id="A3.Ex2.m1.1.1b.cmml" xref="A3.Ex2.m1.1.1"><csymbol cd="ambiguous" id="A3.Ex2.m1.1.1c.cmml" xref="A3.Ex2.m1.1.1">missing-subexpression</csymbol></cerror><ci id="A3.Ex2.m1.1.1.1.2.1.cmml" xref="A3.Ex2.m1.1.1.1.2.1">𝐴</ci><ci id="A3.Ex2.m1.1.1.1.3.1.cmml" xref="A3.Ex2.m1.1.1.1.3.1">𝐵</ci><ci id="A3.Ex2.m1.1.1.1.4.1.cmml" xref="A3.Ex2.m1.1.1.1.4.1">𝐶</ci><ci id="A3.Ex2.m1.1.1.1.5.1.cmml" xref="A3.Ex2.m1.1.1.1.5.1">𝐷</ci></matrixrow><matrixrow id="A3.Ex2.m1.1.1d.cmml" xref="A3.Ex2.m1.1.1"><cerror id="A3.Ex2.m1.1.1e.cmml" xref="A3.Ex2.m1.1.1"><csymbol cd="ambiguous" id="A3.Ex2.m1.1.1f.cmml" xref="A3.Ex2.m1.1.1">missing-subexpression</csymbol></cerror><cerror id="A3.Ex2.m1.1.1g.cmml" xref="A3.Ex2.m1.1.1"><csymbol cd="ambiguous" id="A3.Ex2.m1.1.1h.cmml" xref="A3.Ex2.m1.1.1">missing-subexpression</csymbol></cerror><cerror id="A3.Ex2.m1.1.1i.cmml" xref="A3.Ex2.m1.1.1"><csymbol cd="ambiguous" id="A3.Ex2.m1.1.1j.cmml" xref="A3.Ex2.m1.1.1">missing-subexpression</csymbol></cerror><cerror id="A3.Ex2.m1.1.1k.cmml" xref="A3.Ex2.m1.1.1"><csymbol cd="ambiguous" id="A3.Ex2.m1.1.1l.cmml" xref="A3.Ex2.m1.1.1">missing-subexpression</csymbol></cerror><cerror id="A3.Ex2.m1.1.1m.cmml" xref="A3.Ex2.m1.1.1"><csymbol cd="ambiguous" id="A3.Ex2.m1.1.1n.cmml" xref="A3.Ex2.m1.1.1">missing-subexpression</csymbol></cerror></matrixrow><matrixrow id="A3.Ex2.m1.1.1o.cmml" xref="A3.Ex2.m1.1.1"><ci id="A3.Ex2.m1.1.1.3.1.1.cmml" xref="A3.Ex2.m1.1.1.3.1.1">𝐴</ci><cn id="A3.Ex2.m1.1.1.3.2.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.3.2.1">1</cn><cn id="A3.Ex2.m1.1.1.3.3.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.3.3.1">1</cn><cn id="A3.Ex2.m1.1.1.3.4.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.3.4.1">0</cn><cn id="A3.Ex2.m1.1.1.3.5.1.cmml" type="float" xref="A3.Ex2.m1.1.1.3.5.1">0.5</cn></matrixrow><matrixrow id="A3.Ex2.m1.1.1p.cmml" xref="A3.Ex2.m1.1.1"><ci id="A3.Ex2.m1.1.1.4.1.1.cmml" xref="A3.Ex2.m1.1.1.4.1.1">𝐵</ci><cn id="A3.Ex2.m1.1.1.4.2.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.4.2.1">0</cn><cn id="A3.Ex2.m1.1.1.4.3.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.4.3.1">1</cn><cn id="A3.Ex2.m1.1.1.4.4.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.4.4.1">0</cn><cn id="A3.Ex2.m1.1.1.4.5.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.4.5.1">1</cn></matrixrow><matrixrow id="A3.Ex2.m1.1.1q.cmml" xref="A3.Ex2.m1.1.1"><ci id="A3.Ex2.m1.1.1.5.1.1.cmml" xref="A3.Ex2.m1.1.1.5.1.1">𝐶</ci><cn id="A3.Ex2.m1.1.1.5.2.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.5.2.1">0</cn><cn id="A3.Ex2.m1.1.1.5.3.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.5.3.1">1</cn><cn id="A3.Ex2.m1.1.1.5.4.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.5.4.1">1</cn><cn id="A3.Ex2.m1.1.1.5.5.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.5.5.1">1</cn></matrixrow><matrixrow id="A3.Ex2.m1.1.1r.cmml" xref="A3.Ex2.m1.1.1"><ci id="A3.Ex2.m1.1.1.6.1.1.cmml" xref="A3.Ex2.m1.1.1.6.1.1">𝐷</ci><cn id="A3.Ex2.m1.1.1.6.2.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.6.2.1">0</cn><cn id="A3.Ex2.m1.1.1.6.3.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.6.3.1">0</cn><cn id="A3.Ex2.m1.1.1.6.4.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.6.4.1">0</cn><cn id="A3.Ex2.m1.1.1.6.5.1.cmml" type="integer" xref="A3.Ex2.m1.1.1.6.5.1">1</cn></matrixrow></matrix></annotation-xml><annotation encoding="application/x-tex" id="A3.Ex2.m1.1c">\begin{array}[]{c|cccc}&amp;A&amp;B&amp;C&amp;D\\
\hline\cr A&amp;1&amp;1&amp;0&amp;0.5\\
B&amp;0&amp;1&amp;0&amp;1\\
C&amp;0&amp;1&amp;1&amp;1\\
D&amp;0&amp;0&amp;0&amp;1\end{array}</annotation><annotation encoding="application/x-llamapun" id="A3.Ex2.m1.1d">start_ARRAY start_ROW start_CELL end_CELL start_CELL italic_A end_CELL start_CELL italic_B end_CELL start_CELL italic_C end_CELL start_CELL italic_D end_CELL end_ROW start_ROW start_CELL end_CELL start_CELL end_CELL start_CELL end_CELL start_CELL end_CELL start_CELL end_CELL end_ROW start_ROW start_CELL italic_A end_CELL start_CELL 1 end_CELL start_CELL 1 end_CELL start_CELL 0 end_CELL start_CELL 0.5 end_CELL end_ROW start_ROW start_CELL italic_B end_CELL start_CELL 0 end_CELL start_CELL 1 end_CELL start_CELL 0 end_CELL start_CELL 1 end_CELL end_ROW start_ROW start_CELL italic_C end_CELL start_CELL 0 end_CELL start_CELL 1 end_CELL start_CELL 1 end_CELL start_CELL 1 end_CELL end_ROW start_ROW start_CELL italic_D end_CELL start_CELL 0 end_CELL start_CELL 0 end_CELL start_CELL 0 end_CELL start_CELL 1 end_CELL end_ROW end_ARRAY</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p8">
<ul class="ltx_itemize" id="A3.I1">
<li class="ltx_item" id="A3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A3.I1.i1.p1">
<p class="ltx_p" id="A3.I1.i1.p1.1">A influences B and D, and itself.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A3.I1.i2.p1">
<p class="ltx_p" id="A3.I1.i2.p1.1">B influences D, and itself.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A3.I1.i3.p1">
<p class="ltx_p" id="A3.I1.i3.p1.1">C influences B and D, and itself.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A3.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para ltx_noindent" id="A3.I1.i4.p1">
<p class="ltx_p" id="A3.I1.i4.p1.1">D influences only itself.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
</ul>
<p class="ltx_p" id="A3.SS4.p8.1">variable size: 4
A:
Scenario: Sales Data of a Chain of Stores Over Time
Let’s assume we are generating synthetic data,the variable size for the data is 4. for the daily sales of multiple stores across a chain, the sales numbers are influenced by:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p9">
<p class="ltx_p" id="A3.SS4.p9.1">1. Advertising (A): The level of advertising spend directly impacts the sales of each store. After a delay, this starts influencing sales.
2. Sales (B): The sales numbers for each store are influenced by both the advertising and local seasonal events.
3. Economic Factors (C): Broader economic trends, like GDP growth or unemployment rates, also impact sales. These factors show a delayed and more subtle influence over time.
4. Customer Sentiment (D): Customer sentiment affects the sales of specific products in each store and is influenced by both advertising and broader economic factors.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p10">
<p class="ltx_p" id="A3.SS4.p10.1">Seasonality: Sales experience periodic seasonal trends, with peaks around the holidays and lower numbers during off-seasons.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p11">
<p class="ltx_p" id="A3.SS4.p11.1">Trend: There is a general increasing trend in sales as the chain expands.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p12">
<p class="ltx_p" id="A3.SS4.p12.1">Noise: Random noise is added to mimic real-world data fluctuations.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p13">
<p class="ltx_p" id="A3.SS4.p13.1">Code to Generate Synthetic Time Series Data:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="A3.SS4.p13.2" style="background-color:#F2F2EB;border-color: #000000;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,CmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgcGFuZGFzIGFzIHBkCmltcG9ydCBtYXRwbG90bGliLnB5cGxvdCBhcyBwbHQKCiMgRGVmaW5lIHRpbWUgcmFuZ2UgKGUuZy4sIDMgeWVhcnMgb2YgZGFpbHkgZGF0YSkKbnAucmFuZG9tLnNlZWQoNDIpCmRheXMgPSAzNjUgKiAzCnRpbWUgPSBwZC5kYXRlX3JhbmdlKHN0YXJ0PScyMDIwLTAxLTAxJywgcGVyaW9kcz1kYXlzLCBmcmVxPSdEJykKCiMgSW5pdGlhbGl6ZSBwYXJhbWV0ZXJzIGZvciBzZWFzb25hbGl0eSwgdHJlbmQsIGFuZCBub2lzZQpzZWFzb25hbF9wZXJpb2QgPSAzNjUgICMgWWVhcmx5IHNlYXNvbmFsaXR5CnNhbGVzX2luY3JlYXNlX3RyZW5kID0gMC4wNSAgIyBEYWlseSBpbmNyZW1lbnRhbCBzYWxlcyBncm93dGgKbm9pc2VfbGV2ZWwgPSAwLjA1ICAjIE5vaXNlIGxldmVsCgojIERlZmluZSBBZHZlcnRpc2luZyBTcGVuZCAoQSkKYWR2ZXJ0aXNpbmdfYmFzZSA9IDUwICsgMTAgKiBucC5zaW4oMiAqIG5wLnBpICogbnAuYXJhbmdlKGRheXMpCi8gc2Vhc29uYWxfcGVyaW9kKSAgIyBTZWFzb25hbCBhZHMKYWR2ZXJ0aXNpbmdfc3BlbmQgPSBhZHZlcnRpc2luZ19iYXNlICsKbnAucmFuZG9tLm5vcm1hbChzY2FsZT01LCBzaXplPWRheXMpICAjIEFkZCBub2lzZSB0byBhZHZlcnRpc2luZwoKIyBFY29ub21pYyBmYWN0b3JzIChDKSB3aXRoIGEgbG9uZy10ZXJtIHRyZW5kIGFuZCBzZWFzb25hbGl0eQplY29ub21pY19mYWN0b3JzID0gMTAwICsgMiAqIG5wLmFyYW5nZShkYXlzKSAvIGRheXMKKyAxMCAqIG5wLnNpbigyICogbnAucGkgKiBucC5hcmFuZ2UoZGF5cykgLyAoc2Vhc29uYWxfcGVyaW9kICogMikpICAjIFNsb3cgaW5jcmVhc2UgYW5kIGxvbmctdGVybSBzZWFzb25hbGl0eQplY29ub21pY19mYWN0b3JzICs9IG5wLnJhbmRvbS5ub3JtYWwoc2NhbGU9Mywgc2l6ZT1kYXlzKSAgIyBBZGQgbm9pc2UgdG8gZWNvbm9taWMgZmFjdG9ycwoKIyBDdXN0b21lciBTZW50aW1lbnQgKEQpLCBpbmZsdWVuY2VkIGJ5IEFkdmVydGlzaW5nIGFuZCBFY29ub21pYyBmYWN0b3JzCmN1c3RvbWVyX3NlbnRpbWVudCA9IDcwICsgMC4zICogYWR2ZXJ0aXNpbmdfc3BlbmQgKyAwLjEgKiBlY29ub21pY19mYWN0b3JzCmN1c3RvbWVyX3NlbnRpbWVudCArPSBucC5yYW5kb20ubm9ybWFsKHNjYWxlPTMsIHNpemU9ZGF5cykgICMgQWRkIG5vaXNlIHRvIHNlbnRpbWVudAoKIyBTYWxlcyAoQikgaXMgaW5mbHVlbmNlZCBieSBBZHZlcnRpc2luZywKRWNvbm9taWMgZmFjdG9ycywgYW5kIEN1c3RvbWVyIFNlbnRpbWVudApzYWxlc19iYXNlID0gMjAwICsgc2FsZXNfaW5jcmVhc2VfdHJlbmQgKiBucC5hcmFuZ2UoZGF5cykgICMgR2VuZXJhbCB0cmVuZApzZWFzb25hbGl0eSA9IDUwICogbnAuc2luKDIgKiBucC5waSAqIG5wLmFyYW5nZShkYXlzKSAvIHNlYXNvbmFsX3BlcmlvZCkgICMgU2Vhc29uYWwgdmFyaWF0aW9uCnNhbGVzID0gc2FsZXNfYmFzZSArIHNlYXNvbmFsaXR5ICsgMC40ICogYWR2ZXJ0aXNpbmdfc3BlbmQKKyAwLjMgKiBlY29ub21pY19mYWN0b3JzICsgMC4yICogY3VzdG9tZXJfc2VudGltZW50CnNhbGVzICs9IG5wLnJhbmRvbS5ub3JtYWwoc2NhbGU9bm9pc2VfbGV2ZWwgKiBzYWxlc19iYXNlLCBzaXplPWRheXMpICAjIEFkZCBub2lzZSB0byBzYWxlcwoKIyBDcmVhdGUgRGF0YUZyYW1lIHRvIGhvbGQgdGhlIHRpbWUgc2VyaWVzIGRhdGEKZGF0YSA9IHBkLkRhdGFGcmFtZSh7CiAgICAnRGF0ZSc6IHRpbWUsCiAgICAnQWR2ZXJ0aXNpbmcgU3BlbmQgKEEpJzogYWR2ZXJ0aXNpbmdfc3BlbmQsCiAgICAnRWNvbm9taWMgRmFjdG9ycyAoQyknOiBlY29ub21pY19mYWN0b3JzLAogICAgJ0N1c3RvbWVyIFNlbnRpbWVudCAoRCknOiBjdXN0b21lcl9zZW50aW1lbnQsCiAgICAnU2FsZXMgKEIpJzogc2FsZXMKfSkKCiMgU2V0IERhdGUgYXMgaW5kZXgKZGF0YS5zZXRfaW5kZXgoJ0RhdGUnLCBpbnBsYWNlPVRydWUpCgojIERpc3BsYXkgdGhlIGZpcnN0IGZldyByb3dzIG9mIHRoZSBkYXRhc2V0CnByaW50KGRhdGEuaGVhZCgpKQojIFBsZWFzZSBvbmx5IHNhdmUgdGhlIGRhdGEgaGVyZQpkZi50b19jc3YoJy9Zb3VyX2RhdGFfcmVwby9kYXRhLmNzdicsIGluZGV4PUZhbHNlKQoK">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx11">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div class="ltx_listingline" id="lstnumberx12">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.1">import</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.3">numpy</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.5">as</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.7">np</span>
</div>
<div class="ltx_listingline" id="lstnumberx13">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx13.1">import</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx13.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx13.3">pandas</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx13.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx13.5">as</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx13.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx13.7">pd</span>
</div>
<div class="ltx_listingline" id="lstnumberx14">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.1">import</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.3">matplotlib</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.4">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.5">pyplot</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.7">as</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.9">plt</span>
</div>
<div class="ltx_listingline" id="lstnumberx15">
<span class="ltx_tag ltx_tag_listingline">5</span>
</div>
<div class="ltx_listingline" id="lstnumberx16">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.1">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.3">Define</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.5">time</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.7">range</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.8"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.9">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.10">e</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.11">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.12">g</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.13">.,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.14"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.15">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.17">years</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.18"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.19">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.20"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.21">daily</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.22"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx16.23">data</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.24">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx17">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.1">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.2">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.3">random</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.4">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx17.5">seed</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.6">(42)</span>
</div>
<div class="ltx_listingline" id="lstnumberx18">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.1">days</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.5">365</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.7">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.8"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.9">3</span>
</div>
<div class="ltx_listingline" id="lstnumberx19">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.1">time</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx19.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx19.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.5">pd</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.6">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.7">date_range</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.8">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.9">start</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.10">=’2020-01-01’,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx19.11"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.12">periods</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.13">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.14">days</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.15">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx19.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.17">freq</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.18">=’</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.19">D</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.20">’)</span>
</div>
<div class="ltx_listingline" id="lstnumberx20">
<span class="ltx_tag ltx_tag_listingline">10</span>
</div>
<div class="ltx_listingline" id="lstnumberx21">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.1">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.3">Initialize</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.5">parameters</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.7">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.9">seasonality</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.10">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.11"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.12">trend</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.13">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.14"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.15">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.17">noise</span>
</div>
<div class="ltx_listingline" id="lstnumberx22">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx22.1">seasonal_period</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.5">365</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.7">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx22.9">Yearly</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx22.11">seasonality</span>
</div>
<div class="ltx_listingline" id="lstnumberx23">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.1">sales_increase_trend</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.5">0.05</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.7">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.9">Daily</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.11">incremental</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.13">sales</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.14"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.15">growth</span>
</div>
<div class="ltx_listingline" id="lstnumberx24">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx24.1">noise_level</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.5">0.05</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.7">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx24.9">Noise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx24.11">level</span>
</div>
<div class="ltx_listingline" id="lstnumberx25">
<span class="ltx_tag ltx_tag_listingline">15</span>
</div>
<div class="ltx_listingline" id="lstnumberx26">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.1">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.3">Define</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.5">Advertising</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.7">Spend</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.8"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.9">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.10">A</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.11">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx27">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.1">advertising_base</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.5">50</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.7">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.8"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.9">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.10"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.11">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.13">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.14">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.15">sin</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.16">(2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.17"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.18">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.19"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.20">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.21">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.22">pi</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.23"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.24">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.25"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.26">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.27">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.28">arange</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.29">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.30">days</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.31">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx28">
<span class="ltx_tag ltx_tag_listingline">18</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.1">/</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.3">seasonal_period</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.4">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.5"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.6">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.8">Seasonal</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.9"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.10">ads</span>
</div>
<div class="ltx_listingline" id="lstnumberx29">
<span class="ltx_tag ltx_tag_listingline">19</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx29.1">advertising_spend</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx29.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx29.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx29.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx29.5">advertising_base</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx29.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx29.7">+</span>
</div>
<div class="ltx_listingline" id="lstnumberx30">
<span class="ltx_tag ltx_tag_listingline">20</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.1">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.2">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.3">random</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.4">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.5">normal</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.6">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.7">scale</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.8">=5,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.9"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.10">size</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.11">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.12">days</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.13">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.14"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.15">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.17">Add</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.18"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.19">noise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.20"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.21">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.22"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.23">advertising</span>
</div>
<div class="ltx_listingline" id="lstnumberx31">
<span class="ltx_tag ltx_tag_listingline">21</span>
</div>
<div class="ltx_listingline" id="lstnumberx32">
<span class="ltx_tag ltx_tag_listingline">22</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx32.1">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.3">Economic</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.5">factors</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx32.7">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.8">C</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx32.9">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.11">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.13">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.14"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.15">long</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx32.16">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.17">term</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.18"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.19">trend</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.20"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.21">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.22"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.23">seasonality</span>
</div>
<div class="ltx_listingline" id="lstnumberx33">
<span class="ltx_tag ltx_tag_listingline">23</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx33.1">economic_factors</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.5">100</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.7">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.8"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.9">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.10"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.11">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx33.13">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.14">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx33.15">arange</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.16">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx33.17">days</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.18">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.19"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.20">/</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.21"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx33.22">days</span>
</div>
<div class="ltx_listingline" id="lstnumberx34">
<span class="ltx_tag ltx_tag_listingline">24</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.1">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.3">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.5">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.7">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.8">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.9">sin</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.10">(2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.11"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.12">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.13"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.14">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.15">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.16">pi</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.17"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.18">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.19"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.20">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.21">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.22">arange</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.23">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.24">days</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.25">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.26"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.27">/</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.28"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.29">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.30">seasonal_period</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.31"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.32">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.33"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.34">2))</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.35"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.36">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.37"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.38">Slow</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.39"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.40">increase</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.41"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.42">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.43"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.44">long</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.45">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.46">term</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.47"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.48">seasonality</span>
</div>
<div class="ltx_listingline" id="lstnumberx35">
<span class="ltx_tag ltx_tag_listingline">25</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.1">economic_factors</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.3">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.5">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.6">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.7">random</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.8">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.9">normal</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.10">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.11">scale</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.12">=3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.13"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.14">size</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.15">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.16">days</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.17">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.18"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.19">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.20"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.21">Add</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.22"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.23">noise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.24"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.25">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.26"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.27">economic</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.28"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx35.29">factors</span>
</div>
<div class="ltx_listingline" id="lstnumberx36">
<span class="ltx_tag ltx_tag_listingline">26</span>
</div>
<div class="ltx_listingline" id="lstnumberx37">
<span class="ltx_tag ltx_tag_listingline">27</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx37.1">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx37.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx37.3">Customer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx37.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx37.5">Sentiment</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx37.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx37.7">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx37.8">D</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx37.9">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx37.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx37.11">influenced</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx37.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx37.13">by</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx37.14"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx37.15">Advertising</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx37.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx37.17">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx37.18"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx37.19">Economic</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx37.20"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx37.21">factors</span>
</div>
<div class="ltx_listingline" id="lstnumberx38">
<span class="ltx_tag ltx_tag_listingline">28</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx38.1">customer_sentiment</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.5">70</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.7">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.8"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.9">0.3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.10"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.11">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx38.13">advertising_spend</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.14"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.15">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.16"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.17">0.1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.18"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx38.19">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx38.20"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx38.21">economic_factors</span>
</div>
<div class="ltx_listingline" id="lstnumberx39">
<span class="ltx_tag ltx_tag_listingline">29</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.1">customer_sentiment</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.3">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.5">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.6">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.7">random</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.8">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.9">normal</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.10">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.11">scale</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.12">=3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.13"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.14">size</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.15">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.16">days</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.17">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.18"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.19">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.20"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.21">Add</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.22"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.23">noise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.24"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.25">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.26"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.27">sentiment</span>
</div>
<div class="ltx_listingline" id="lstnumberx40">
<span class="ltx_tag ltx_tag_listingline">30</span>
</div>
<div class="ltx_listingline" id="lstnumberx41">
<span class="ltx_tag ltx_tag_listingline">31</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx41.1">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx41.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx41.3">Sales</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx41.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx41.5">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx41.6">B</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx41.7">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx41.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx41.9">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx41.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx41.11">influenced</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx41.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx41.13">by</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx41.14"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx41.15">Advertising</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx41.16">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx42">
<span class="ltx_tag ltx_tag_listingline">32</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.1">Economic</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.3">factors</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.4">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.5"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.6">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.8">Customer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.9"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.10">Sentiment</span>
</div>
<div class="ltx_listingline" id="lstnumberx43">
<span class="ltx_tag ltx_tag_listingline">33</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.1">sales_base</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.5">200</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.7">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.9">sales_increase_trend</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.10"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.11">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.13">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.14">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.15">arange</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.16">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.17">days</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.18">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.19"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.20">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.21"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.22">General</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.23"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.24">trend</span>
</div>
<div class="ltx_listingline" id="lstnumberx44">
<span class="ltx_tag ltx_tag_listingline">34</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.1">seasonality</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.5">50</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.7">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.9">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.10">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.11">sin</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.12">(2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.13"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.14">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.15"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.16">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.17">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.18">pi</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.19"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.20">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.21"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.22">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.23">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.24">arange</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.25">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.26">days</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.27">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.28"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.29">/</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.30"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.31">seasonal_period</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.32">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.33"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx44.34">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.35"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.36">Seasonal</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx44.37"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx44.38">variation</span>
</div>
<div class="ltx_listingline" id="lstnumberx45">
<span class="ltx_tag ltx_tag_listingline">35</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.1">sales</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx45.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.5">sales_base</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx45.7">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.9">seasonality</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.10"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx45.11">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.12"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx45.13">0.4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.14"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx45.15">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.17">advertising_spend</span>
</div>
<div class="ltx_listingline" id="lstnumberx46">
<span class="ltx_tag ltx_tag_listingline">36</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx46.1">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx46.3">0.3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx46.5">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx46.7">economic_factors</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.8"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx46.9">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.10"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx46.11">0.2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.12"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx46.13">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx46.14"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx46.15">customer_sentiment</span>
</div>
<div class="ltx_listingline" id="lstnumberx47">
<span class="ltx_tag ltx_tag_listingline">37</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.1">sales</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.3">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.5">np</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.6">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.7">random</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.8">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.9">normal</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.10">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.11">scale</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.12">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.13">noise_level</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.14"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.15">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.17">sales_base</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.18">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.19"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.20">size</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.21">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.22">days</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.23">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.24"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx47.25">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.26"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.27">Add</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.28"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.29">noise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.30"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.31">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx47.32"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.33">sales</span>
</div>
<div class="ltx_listingline" id="lstnumberx48">
<span class="ltx_tag ltx_tag_listingline">38</span>
</div>
<div class="ltx_listingline" id="lstnumberx49">
<span class="ltx_tag ltx_tag_listingline">39</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx49.1">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.3">Create</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.5">DataFrame</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.7">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.9">hold</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.11">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.13">time</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.14"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.15">series</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.17">data</span>
</div>
<div class="ltx_listingline" id="lstnumberx50">
<span class="ltx_tag ltx_tag_listingline">40</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx50.1">data</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx50.2"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx50.3">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx50.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx50.5">pd</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx50.6">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx50.7">DataFrame</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx50.8">({</span>
</div>
<div class="ltx_listingline" id="lstnumberx51">
<span class="ltx_tag ltx_tag_listingline">41</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx51.1"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx51.2">’</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx51.3">Date</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx51.4">’:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx51.5"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx51.6">time</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx51.7">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx52">
<span class="ltx_tag ltx_tag_listingline">42</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx52.1"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx52.2">’</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx52.3">Advertising</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx52.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx52.5">Spend</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx52.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx52.7">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx52.8">A</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx52.9">)’:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx52.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx52.11">advertising_spend</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx52.12">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx53">
<span class="ltx_tag ltx_tag_listingline">43</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.1"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.2">’</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.3">Economic</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.5">Factors</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.7">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.8">C</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.9">)’:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx53.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx53.11">economic_factors</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx53.12">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx54">
<span class="ltx_tag ltx_tag_listingline">44</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx54.1"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx54.2">’</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx54.3">Customer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx54.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx54.5">Sentiment</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx54.6"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx54.7">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx54.8">D</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx54.9">)’:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx54.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx54.11">customer_sentiment</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx54.12">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx55">
<span class="ltx_tag ltx_tag_listingline">45</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.1"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.2">’</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.3">Sales</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.4"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.5">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.6">B</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.7">)’:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.9">sales</span>
</div>
<div class="ltx_listingline" id="lstnumberx56">
<span class="ltx_tag ltx_tag_listingline">46</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx56.1">})</span>
</div>
<div class="ltx_listingline" id="lstnumberx57">
<span class="ltx_tag ltx_tag_listingline">47</span>
</div>
<div class="ltx_listingline" id="lstnumberx58">
<span class="ltx_tag ltx_tag_listingline">48</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx58.1">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx58.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx58.3">Set</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx58.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx58.5">Date</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx58.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx58.7">as</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx58.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx58.9">index</span>
</div>
<div class="ltx_listingline" id="lstnumberx59">
<span class="ltx_tag ltx_tag_listingline">49</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx59.1">data</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.2">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx59.3">set_index</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.4">(’</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx59.5">Date</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.6">’,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx59.8">inplace</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.9">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx59.10">True</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.11">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx60">
<span class="ltx_tag ltx_tag_listingline">50</span>
</div>
<div class="ltx_listingline" id="lstnumberx61">
<span class="ltx_tag ltx_tag_listingline">51</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.1">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx61.3">Display</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx61.5">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx61.7">first</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx61.9">few</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx61.11">rows</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx61.13">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.14"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx61.15">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx61.17">dataset</span>
</div>
<div class="ltx_listingline" id="lstnumberx62">
<span class="ltx_tag ltx_tag_listingline">52</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx62.1">print</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx62.2">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx62.3">data</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx62.4">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx62.5">head</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx62.6">())</span>
</div>
<div class="ltx_listingline" id="lstnumberx63">
<span class="ltx_tag ltx_tag_listingline">53</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx63.1">#</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx63.3">Please</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx63.5">only</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx63.7">save</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx63.9">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx63.11">data</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx63.13">here</span>
</div>
<div class="ltx_listingline" id="lstnumberx64">
<span class="ltx_tag ltx_tag_listingline">54</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx64.1">df</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.2">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx64.3">to_csv</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.4">(’/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx64.5">Your_data_repo</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.6">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx64.7">data</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.8">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx64.9">csv</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.10">’,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx64.11"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx64.12">index</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.13">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx64.14">False</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.15">)</span>
</div>
</div>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p14">
<p class="ltx_p" id="A3.SS4.p14.1">Explanation for :</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p15">
<p class="ltx_p" id="A3.SS4.p15.1">A (Advertising Spend) influences B (Sales) directly (1) and D (Customer Sentiment) indirectly (0.5).</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p16">
<p class="ltx_p" id="A3.SS4.p16.1">B (Sales) directly influences D (Customer Sentiment) (1).</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p17">
<p class="ltx_p" id="A3.SS4.p17.1">C (Economic Factors) influences both B (Sales) and D (Customer Sentiment) (1).</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS4.p18">
<p class="ltx_p" id="A3.SS4.p18.1">D (Customer Sentiment) doesn’t have a direct influence on other variables, but it affects Sales (B) in real-world scenarios. However, in this matrix, it only affects itself (1).</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_pagination ltx_role_newpage"></div>
</div>
</section>
</section>
</article>
</div>

</div>


<button type="button" class="btn btn-primary hover-rp-button" id="openForm">Report Issue</button><div class="modal" id="myForm" role="dialog" aria-labelledby="modal-title"><div class="modal-dialog"><form class="modal-content" id="myFormContent" enctype="multipart/form-data"><div class="modal-header" id="modal-header"><h5 class="modal-title">Report Github Issue</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><label for="form_title" id="modalTitle">Title:</label><input class="form-control" id="form_title" name="form_title" required="required" placeholder="Enter title"><label for="description" id="selectedTextModalDescription" style="display: none;">Content selection saved. Describe the issue below:</label><label for="description" id="nomralModalDescription">Description:</label><textarea class="form-control" id="description" name="description" required="required" style="height: 80px;" maxlength="500" placeholder="500 characters maximum"></textarea></div><div class="modal-footer d-flex justify-content-end"><button type="submit" class="sr-only button" id="modal-submit-sr">Submit without Github</button><button type="submit" class="btn btn-primary" id="modal-submit">Submit in Github</button></div></form></div></div><button id="small-report-button" type="button" class="btn btn-secondary btn-sm" style="background-color: rgb(179, 27, 27); position: fixed;">Report Issue for Selection</button><div class="ltx_page_footer">
        <div class="ltx_page_logo">
            Generated by
            <a href="https://math.nist.gov/~BMiller/LaTeXML/" class="ltx_LaTeXML_logo">
                <span style="letter-spacing: -0.2em; margin-right: 0.1em;">
                    L
                    <span style="font-size: 70%; position: relative; bottom: 2.2pt;">A</span>
                    T
                    <span style="position: relative; bottom: -0.4ex;">E</span>
                </span>
                <span class="ltx_font_smallcaps">xml</span>
                <img alt="[LOGO]" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==">
            </a>
        </div></div><footer id="footer" class="ltx_document">
        <div class="keyboard-glossary">
            <h2>Instructions for reporting errors</h2>
            <p>We are continuing to improve HTML versions of papers, and your feedback helps enhance accessibility and mobile support. To report errors in the HTML that will help us improve conversion and rendering, choose any of the methods listed below:</p>
            <ul>
                <li>Click the "Report Issue" button.</li>
                <li>Open a report feedback form via keyboard, use "<strong>Ctrl + ?</strong>".</li>
                <li>Make a text selection and click the "Report Issue for Selection" button near your cursor.</li>
                <li class="sr-only">You can use Alt+Y to toggle on and Alt+Shift+Y to toggle off accessible reporting links at each section.</li>
            </ul>
            <p>Our team has already identified <a class="ltx_ref" href="https://github.com/arXiv/html_feedback/issues" target="_blank">the following issues</a>. We appreciate your time reviewing and reporting rendering errors we may not have found yet. Your efforts will help us improve the HTML versions for all readers, because disability should not be a barrier to accessing research. Thank you for your continued support in championing open access for all.</p>
            <p>Have a free development cycle? Help support accessibility at arXiv! Our collaborators at LaTeXML maintain a <a class="ltx_ref" href="https://github.com/brucemiller/LaTeXML/wiki/Porting-LaTeX-packages-for-LaTeXML" target="_blank">list of packages that need conversion</a>, and welcome <a class="ltx_ref" href="https://github.com/brucemiller/LaTeXML/issues" target="_blank">developer contributions</a>.</p>
        </div>
    </footer></body></html>