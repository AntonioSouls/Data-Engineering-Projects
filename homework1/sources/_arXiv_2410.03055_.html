<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Permissive Information-Flow Analysis for Large Language Models</title>
<!--Generated on Thu Oct  3 23:53:06 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2410.03055v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S1" title="In Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">I </span><span class="ltx_text ltx_font_smallcaps">Introduction</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S2" title="In Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">II </span><span class="ltx_text ltx_font_smallcaps">Problem Setting and Goal</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S2.SS1" title="In II Problem Setting and Goal â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-A</span> </span><span class="ltx_text ltx_font_italic">Information-Flow Labels</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S2.SS2" title="In II Problem Setting and Goal â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-B</span> </span><span class="ltx_text ltx_font_italic">Goal: Permissive Label Propagation</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3" title="In Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">III </span><span class="ltx_text ltx_font_smallcaps">Permissive Label Propagation</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS1" title="In III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-A</span> </span>Lambda-similar Labels</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS2" title="In III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-B</span> </span>Computing lambda-similar Labels</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS3" title="In III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-C</span> </span><span class="ltx_text ltx_font_italic">Correctness</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS4" title="In III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-D</span> </span><span class="ltx_text ltx_font_italic">A System for Label Propagation</span></span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS4.SSS0.Px1" title="In III-D A System for Label Propagation â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Prompt-based Augmentation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS4.SSS0.Px2" title="In III-D A System for Label Propagation â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><math alttext="k" class="ltx_Math" display="inline"><semantics><mi>k</mi><annotation-xml encoding="MathML-Content"><ci>ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex">k</annotation><annotation encoding="application/x-llamapun">italic_k</annotation></semantics></math>NNÂ Language Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS4.SSS0.Px3" title="In III-D A System for Label Propagation â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Label Propagation Wrapper</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS4.SSS0.Px4" title="In III-D A System for Label Propagation â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Safety</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS5" title="In III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-E</span> </span><span class="ltx_text ltx_font_italic">Computational Cost</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4" title="In Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">IV </span><span class="ltx_text ltx_font_smallcaps">Evaluation Setup</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS1" title="In IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-A</span> </span><span class="ltx_text ltx_font_italic">Research Questions</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS2" title="In IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-B</span> </span><span class="ltx_text ltx_font_italic">Evaluation Metrics</span></span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS2.SSS0.Px1" title="In IV-B Evaluation Metrics â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Exact match</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS2.SSS0.Px2" title="In IV-B Evaluation Metrics â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Precision and Recall</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS2.SSS0.Px3" title="In IV-B Evaluation Metrics â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Label improvement</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS2.SSS0.Px4" title="In IV-B Evaluation Metrics â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Model output alignment</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS3" title="In IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-C</span> </span><span class="ltx_text ltx_font_italic">Baseline</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS4" title="In IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-D</span> </span><span class="ltx_text ltx_font_italic">Models</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS5" title="In IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-E</span> </span><span class="ltx_text ltx_font_italic">Datasets</span></span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS5.SSS0.Px1" title="In IV-E Datasets â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Synthetic key-value dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS5.SSS0.Px2" title="In IV-E Datasets â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">News article dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS5.SSS0.Px3" title="In IV-E Datasets â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">LLM agent dataset</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5" title="In Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">V </span><span class="ltx_text ltx_font_smallcaps">Results</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.SS1" title="In V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">V-A</span> </span><span class="ltx_text ltx_font_italic">Synthetic key-value dataset</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.SS2" title="In V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">V-B</span> </span><span class="ltx_text ltx_font_italic">News article dataset</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.SS3" title="In V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">V-C</span> </span><span class="ltx_text ltx_font_italic">LLM agent dataset</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S6" title="In Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">VI </span><span class="ltx_text ltx_font_smallcaps">Analysis and Discussion</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S6.SS1" title="In VI Analysis and Discussion â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-A</span> </span><span class="ltx_text ltx_font_italic">Use-cases</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S6.SS2" title="In VI Analysis and Discussion â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-B</span> </span><span class="ltx_text ltx_font_italic">Limitations</span></span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S6.SS2.SSS0.Px1" title="In VI-B Limitations â€£ VI Analysis and Discussion â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Impact of adversary</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S6.SS3" title="In VI Analysis and Discussion â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-C</span> </span><span class="ltx_text ltx_font_italic">Extensions</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S7" title="In Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">VII </span><span class="ltx_text ltx_font_smallcaps">Related Work</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S7.SS0.SSS0.Px1" title="In VII Related Work â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Influence estimation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S7.SS0.SSS0.Px2" title="In VII Related Work â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Information-flow analysis</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S7.SS0.SSS0.Px3" title="In VII Related Work â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title">Information-flow analysis in AI applications</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S8" title="In Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">VIII </span><span class="ltx_text ltx_font_smallcaps">Conclusion</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S9" title="In Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">IX </span><span class="ltx_text ltx_font_smallcaps">Acknowledgements</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#A0.SS1" title="In Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">-A</span> </span><span class="ltx_text ltx_font_italic">Improving performance on fine-grained lattices</span></span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Permissive Information-Flow Analysis for Large Language Models</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shoaib Ahmed Siddiqui
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id2.1.id1">University of Cambridge</span>
<br class="ltx_break"/>msas3@cam.ac.uk
</span></span></span>
<span class="ltx_author_before">â€ƒâ€ƒ</span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Radhika Gaonkar
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id3.1.id1">Microsoft</span>
<br class="ltx_break"/>radhika.gaonkar@microsoft.com
</span></span></span>
<span class="ltx_author_before">â€ƒâ€ƒ</span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Boris KÃ¶pf


 <span class="ltx_text" id="id4.1.id1"></span><span class="ltx_text" id="id5.2.id2"></span> <span class="ltx_ERROR undefined" id="id6.3.id3">{@IEEEauthorhalign}</span>
David Krueger
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id7.4.id1">Microsoft</span>
<br class="ltx_break"/>boris.koepf@microsoft.com
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id8.5.id1">University of Cambridge</span>
<br class="ltx_break"/>dsk30@cam.ac.uk
</span></span></span>
<span class="ltx_author_before">â€ƒâ€ƒ</span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Andrew Paverd
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id9.1.id1">Microsoft</span>
<br class="ltx_break"/>andrew.paverd@microsoft.com
</span></span></span>
<span class="ltx_author_before">â€ƒâ€ƒ</span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ahmed Salem
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id10.1.id1">Microsoft</span>
<br class="ltx_break"/>t-salemahmed@microsoft.com
</span></span></span>
<span class="ltx_author_before">â€ƒâ€ƒ</span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shruti Tople


 <span class="ltx_text" id="id11.1.id1"></span><span class="ltx_text" id="id12.2.id2"></span> <span class="ltx_ERROR undefined" id="id13.3.id3">{@IEEEauthorhalign}</span>
Lukas Wutschitz
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id14.4.id1">Microsoft</span>
<br class="ltx_break"/>shruti.tople@microsoft.com
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id15.5.id1">Microsoft</span>
<br class="ltx_break"/>lukas.wutschitz@microsoft.com
</span></span></span>
<span class="ltx_author_before">â€ƒâ€ƒ</span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Menglin Xia
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id16.1.id1">Microsoft</span>
<br class="ltx_break"/>mollyxia@microsoft.com
</span></span></span>
<span class="ltx_author_before">â€ƒâ€ƒ</span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Santiago Zanella-BÃ©guelin
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id17.1.id1">Microsoft</span>
<br class="ltx_break"/>santiago@microsoft.com
</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id1.1">Large Language Models (LLMs) are rapidly becoming commodity components of larger software systems.
This poses natural security and privacy problems: poisoned data retrieved from one component can change the modelâ€™s behavior and compromise the entire system, including coercing the model to spread confidential data to untrusted components.
One promising approach is to tackle this problem at the system level via dynamic information flow (aka taint) tracking.
Unfortunately, the traditional approach of propagating the most restrictive input label to the output is too conservative for applications where LLMs operate on inputs retrieved from diverse sources.
In this paper, we propose a novel, more permissive approach to propagate information flow labels through LLM queries.
The key idea behind our approach is to propagate only the labels of the samples that were <em class="ltx_emph ltx_font_italic" id="id1.1.1">influential</em> in generating the model output and to eliminate the labels of unnecessary input.
We implement and investigate the effectiveness of two variations of this approach, based on (i) prompt-based retrieval augmentation, and (ii) a <math alttext="k" class="ltx_Math" display="inline" id="id1.1.m1.1"><semantics id="id1.1.m1.1a"><mi id="id1.1.m1.1.1" xref="id1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="id1.1.m1.1b"><ci id="id1.1.m1.1.1.cmml" xref="id1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="id1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="id1.1.m1.1d">italic_k</annotation></semantics></math>-nearest-neighbors language model.
We compare these with the baseline of an introspection-based influence estimator that directly asks the language model to predict the output label.
The results obtained highlight the superiority of our prompt-based label propagator, which improves the label in more than 85% of the cases in an LLM agent setting.
These findings underscore the practicality of permissive label propagation for retrieval augmentation.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span class="ltx_text ltx_font_smallcaps" id="S1.1.1">Introduction</span>
</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Large Language Models (LLMs) such as GPT-4Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib1" title="">1</a>]</cite>, LlamaÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib2" title="">2</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib3" title="">3</a>]</cite>, MistralÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib4" title="">4</a>]</cite>, and PaLMÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib5" title="">5</a>]</cite> are rapidly becoming commodity components of larger software systems.
The inputs to these LLMs often consist of data retrieved from a variety of sources, including websites, productivity software, or toolsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib6" title="">6</a>]</cite>, and their output is usually passed on to other software components for further processingÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib7" title="">7</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">This poses natural security and privacy problems: low integrity inputs (e.g., poisoned data) can change the modelâ€™s behavior in unexpected ways and potentially affect the entire systemÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib8" title="">8</a>]</cite>.
Similarly, high confidentiality inputs (e.g., confidential documents) can be inadvertently leaked to an untrusted downstream componentÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib9" title="">9</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">One possible approach to address this problem is to rely on the LLM itself for mitigation, for example via introspection of the retrieved inputs or guardrails given in the meta-prompt.
However, such defenses can be circumvented with more advanced attacksÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib10" title="">10</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib11" title="">11</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib12" title="">12</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib13" title="">13</a>]</cite>, leading to the undesirable cat-and-mouse game that is common in system security.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="452" id="S1.F1.g1" src="x1.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.5.1.1" style="font-size:90%;">Figure 1</span>: </span><span class="ltx_text" id="S1.F1.6.2" style="font-size:90%;">
Illustration of a label propagator (LP) for large language models (LLMs) with tool-calling capabilities.
The goal of the LP is to assign the most suitable label to the output of the LLM.
In this instance, we consider labels representing <em class="ltx_emph ltx_font_italic" id="S1.F1.6.2.1">trusted</em> and <em class="ltx_emph ltx_font_italic" id="S1.F1.6.2.2">untrusted</em> sources.
A naÃ¯ve LP assigns the most conservative label to the output, which in this example is <em class="ltx_emph ltx_font_italic" id="S1.F1.6.2.3">untrusted</em>.
Our proposed influence-based LP takes into account the influence of each retrieved document and determines that the same output can be obtained by solely relying on trusted documents.
</span></figcaption>
</figure>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Another approach is to tackle this problem at the system level via dynamic information flow (aka taint) trackingÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib14" title="">14</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib15" title="">15</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib16" title="">16</a>]</cite>.
Taint tracking is a standard technique for enforcing integrity and confidentiality properties, and has been used successfully in many applications, including detecting cross-site-scripting vulnerabilitiesÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib17" title="">17</a>]</cite> and privacy leaks in mobile applicationsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib18" title="">18</a>]</cite>.
In taint tracking, each piece of data is augmented with labels describing its integrity or confidentiality.
Taint is usually propagated conservatively: the output of an operation is labeled as the most restrictive (i.e., most confidential or least trusted) label of its inputs.
For example, the output of a function that takes two arguments, one trusted and one untrusted, would be labeled as untrusted.
A challenge of applying such label propagation mechanisms to LLMs is that the output label would be the upper bound of <em class="ltx_emph ltx_font_italic" id="S1.p4.1.1">all inputs</em> (i.e., the <em class="ltx_emph ltx_font_italic" id="S1.p4.1.2">context</em>) used for inference.
With LLMs having the ability to retrieve documents from different sources, this can quickly become unnecessarily restrictive, a phenomenon known in the literature as <em class="ltx_emph ltx_font_italic" id="S1.p4.1.3">label creep</em>Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib16" title="">16</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.2">In this paper, we propose a novel approach to propagate more <span class="ltx_text ltx_font_italic" id="S1.p5.2.1">permissive</span> information-flow labels in LLM-based applications which we will refer to as an influence-based label propagator (LP).
The key idea of our approach is to propagate only the labels of the samples that were <span class="ltx_text ltx_font_italic" id="S1.p5.2.2">influential</span> in generating the modelâ€™s outputâ€”and drop the labels of the inputs that are not required.
Specifically, for a given context and fixed tolerance <math alttext="\lambda" class="ltx_Math" display="inline" id="S1.p5.1.m1.1"><semantics id="S1.p5.1.m1.1a"><mi id="S1.p5.1.m1.1.1" xref="S1.p5.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S1.p5.1.m1.1b"><ci id="S1.p5.1.m1.1.1.cmml" xref="S1.p5.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S1.p5.1.m1.1d">italic_Î»</annotation></semantics></math>, we identify all subcontexts for which the model achieves utility that is at most <math alttext="\lambda" class="ltx_Math" display="inline" id="S1.p5.2.m2.1"><semantics id="S1.p5.2.m2.1a"><mi id="S1.p5.2.m2.1.1" xref="S1.p5.2.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S1.p5.2.m2.1b"><ci id="S1.p5.2.m2.1.1.cmml" xref="S1.p5.2.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S1.p5.2.m2.1d">italic_Î»</annotation></semantics></math> below the utility of the full context.
Within those subcontexts, we then select the one with the most permissive label.
We prove that, under idealizing assumptions, our algorithm identifies the most permissive label(s) possible.
An example of our approach is shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S1.F1" title="Figure 1 â€£ I Introduction â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">To ground our work in a relevant LLM system, we implement and evaluate two different realizations of our label propagator:

<span class="ltx_inline-enumerate" id="S1.I1">
<span class="ltx_inline-item" id="S1.I1.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text" id="S1.I1.i1.1">a RAG-based systemÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib19" title="">19</a>]</cite> where the retrieved documents are provided within the prompt to an autoregressive LLM, and
</span></span>
<span class="ltx_inline-item" id="S1.I1.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text" id="S1.I1.i2.1">a <math alttext="k" class="ltx_Math" display="inline" id="S1.I1.i2.1.m1.1"><semantics id="S1.I1.i2.1.m1.1a"><mi id="S1.I1.i2.1.m1.1.1" xref="S1.I1.i2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S1.I1.i2.1.m1.1b"><ci id="S1.I1.i2.1.m1.1.1.cmml" xref="S1.I1.i2.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.i2.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S1.I1.i2.1.m1.1d">italic_k</annotation></semantics></math>NN-LMÂ architectureÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib20" title="">20</a>]</cite>, where the output distribution is computed as a mixture of the distribution of the model and the retrieved documents.
</span></span>
</span></p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">We demonstrate the effectiveness of an influence-based label propagator by evaluating it on three datasets:

<span class="ltx_inline-enumerate" id="S1.I2">
<span class="ltx_inline-item" id="S1.I2.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text" id="S1.I2.i1.1">a synthetic dataset containing specific personal details testing the label propagatorâ€™s ability to handle a large number of inputs,
</span></span>
<span class="ltx_inline-item" id="S1.I2.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text" id="S1.I2.i2.1">a news article dataset assessing whether the LP is able to handle long free-form natural language, and
</span></span>
<span class="ltx_inline-item" id="S1.I2.i3"><span class="ltx_tag ltx_tag_inline-item">(iii)</span> <span class="ltx_text" id="S1.I2.i3.1">a dataset consisting of LLM agent conversations as depicted in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S1.F1" title="Figure 1 â€£ I Introduction â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a>.
</span></span>
</span></p>
</div>
<section class="ltx_paragraph" id="S1.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Summary of contributions</h4>
<div class="ltx_para" id="S1.SS0.SSS0.Px1.p1">
<ul class="ltx_itemize" id="S1.I3">
<li class="ltx_item" id="S1.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I3.i1.p1">
<p class="ltx_p" id="S1.I3.i1.p1.1">We formulate the problem of security label propagation for retrieval-augmented LLMs and LLM agents.</p>
</div>
</li>
<li class="ltx_item" id="S1.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I3.i2.p1">
<p class="ltx_p" id="S1.I3.i2.p1.1">We propose a permissive approach that propagates only the labels of influential inputs while maintaining safety and never propagating an overly permissive label.</p>
</div>
</li>
<li class="ltx_item" id="S1.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I3.i3.p1">
<p class="ltx_p" id="S1.I3.i3.p1.1">We show that our permissive approach correctly identifies the exact labels in at least 75% of the cases and improves the label in at least 50% of the cases on all datasets, thus mitigating the problem of label creep.</p>
</div>
</li>
<li class="ltx_item" id="S1.I3.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I3.i4.p1">
<p class="ltx_p" id="S1.I3.i4.p1.1">We show that influence-based label propagation can lead to more permissive labels without degrading the quality of the LLM output.</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span class="ltx_text ltx_font_smallcaps" id="S2.1.1">Problem Setting and Goal</span>
</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.7">We consider a general inference scenario in which an LLM takes as input a textual prompt <math alttext="x" class="ltx_Math" display="inline" id="S2.p1.1.m1.1"><semantics id="S2.p1.1.m1.1a"><mi id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.1b"><ci id="S2.p1.1.m1.1.1.cmml" xref="S2.p1.1.m1.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S2.p1.1.m1.1d">italic_x</annotation></semantics></math> and a set of <em class="ltx_emph ltx_font_italic" id="S2.p1.7.1">documents</em><span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Without loss of generality, we use the term <em class="ltx_emph ltx_font_italic" id="footnote1.1">document</em> to refer to an individual piece of textual data in the context. This could be a document, webpage, email, a previous output of the LLM in a multi-turn interaction, etc. In this work, we consider the context to be an unordered set.</span></span></span> <math alttext="C" class="ltx_Math" display="inline" id="S2.p1.2.m2.1"><semantics id="S2.p1.2.m2.1a"><mi id="S2.p1.2.m2.1.1" xref="S2.p1.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.p1.2.m2.1b"><ci id="S2.p1.2.m2.1.1.cmml" xref="S2.p1.2.m2.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.2.m2.1c">C</annotation><annotation encoding="application/x-llamapun" id="S2.p1.2.m2.1d">italic_C</annotation></semantics></math>, which we refer to as the <em class="ltx_emph ltx_font_italic" id="S2.p1.7.2">context</em>.
We refer to any subset <math alttext="S\subset C" class="ltx_Math" display="inline" id="S2.p1.3.m3.1"><semantics id="S2.p1.3.m3.1a"><mrow id="S2.p1.3.m3.1.1" xref="S2.p1.3.m3.1.1.cmml"><mi id="S2.p1.3.m3.1.1.2" xref="S2.p1.3.m3.1.1.2.cmml">S</mi><mo id="S2.p1.3.m3.1.1.1" xref="S2.p1.3.m3.1.1.1.cmml">âŠ‚</mo><mi id="S2.p1.3.m3.1.1.3" xref="S2.p1.3.m3.1.1.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.3.m3.1b"><apply id="S2.p1.3.m3.1.1.cmml" xref="S2.p1.3.m3.1.1"><subset id="S2.p1.3.m3.1.1.1.cmml" xref="S2.p1.3.m3.1.1.1"></subset><ci id="S2.p1.3.m3.1.1.2.cmml" xref="S2.p1.3.m3.1.1.2">ğ‘†</ci><ci id="S2.p1.3.m3.1.1.3.cmml" xref="S2.p1.3.m3.1.1.3">ğ¶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.3.m3.1c">S\subset C</annotation><annotation encoding="application/x-llamapun" id="S2.p1.3.m3.1d">italic_S âŠ‚ italic_C</annotation></semantics></math> as a <em class="ltx_emph ltx_font_italic" id="S2.p1.7.3">subcontext</em>.
Given prompt <math alttext="x" class="ltx_Math" display="inline" id="S2.p1.4.m4.1"><semantics id="S2.p1.4.m4.1a"><mi id="S2.p1.4.m4.1.1" xref="S2.p1.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.p1.4.m4.1b"><ci id="S2.p1.4.m4.1.1.cmml" xref="S2.p1.4.m4.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.4.m4.1c">x</annotation><annotation encoding="application/x-llamapun" id="S2.p1.4.m4.1d">italic_x</annotation></semantics></math> and context <math alttext="C" class="ltx_Math" display="inline" id="S2.p1.5.m5.1"><semantics id="S2.p1.5.m5.1a"><mi id="S2.p1.5.m5.1.1" xref="S2.p1.5.m5.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.p1.5.m5.1b"><ci id="S2.p1.5.m5.1.1.cmml" xref="S2.p1.5.m5.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.5.m5.1c">C</annotation><annotation encoding="application/x-llamapun" id="S2.p1.5.m5.1d">italic_C</annotation></semantics></math>, we represent the LLM as a probability distribution <math alttext="p_{\text{LM}}(y|x,C)" class="ltx_Math" display="inline" id="S2.p1.6.m6.3"><semantics id="S2.p1.6.m6.3a"><mrow id="S2.p1.6.m6.3.3" xref="S2.p1.6.m6.3.3.cmml"><msub id="S2.p1.6.m6.3.3.3" xref="S2.p1.6.m6.3.3.3.cmml"><mi id="S2.p1.6.m6.3.3.3.2" xref="S2.p1.6.m6.3.3.3.2.cmml">p</mi><mtext id="S2.p1.6.m6.3.3.3.3" xref="S2.p1.6.m6.3.3.3.3a.cmml">LM</mtext></msub><mo id="S2.p1.6.m6.3.3.2" xref="S2.p1.6.m6.3.3.2.cmml">â¢</mo><mrow id="S2.p1.6.m6.3.3.1.1" xref="S2.p1.6.m6.3.3.1.1.1.cmml"><mo id="S2.p1.6.m6.3.3.1.1.2" stretchy="false" xref="S2.p1.6.m6.3.3.1.1.1.cmml">(</mo><mrow id="S2.p1.6.m6.3.3.1.1.1" xref="S2.p1.6.m6.3.3.1.1.1.cmml"><mi id="S2.p1.6.m6.3.3.1.1.1.2" xref="S2.p1.6.m6.3.3.1.1.1.2.cmml">y</mi><mo fence="false" id="S2.p1.6.m6.3.3.1.1.1.1" xref="S2.p1.6.m6.3.3.1.1.1.1.cmml">|</mo><mrow id="S2.p1.6.m6.3.3.1.1.1.3.2" xref="S2.p1.6.m6.3.3.1.1.1.3.1.cmml"><mi id="S2.p1.6.m6.1.1" xref="S2.p1.6.m6.1.1.cmml">x</mi><mo id="S2.p1.6.m6.3.3.1.1.1.3.2.1" xref="S2.p1.6.m6.3.3.1.1.1.3.1.cmml">,</mo><mi id="S2.p1.6.m6.2.2" xref="S2.p1.6.m6.2.2.cmml">C</mi></mrow></mrow><mo id="S2.p1.6.m6.3.3.1.1.3" stretchy="false" xref="S2.p1.6.m6.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.6.m6.3b"><apply id="S2.p1.6.m6.3.3.cmml" xref="S2.p1.6.m6.3.3"><times id="S2.p1.6.m6.3.3.2.cmml" xref="S2.p1.6.m6.3.3.2"></times><apply id="S2.p1.6.m6.3.3.3.cmml" xref="S2.p1.6.m6.3.3.3"><csymbol cd="ambiguous" id="S2.p1.6.m6.3.3.3.1.cmml" xref="S2.p1.6.m6.3.3.3">subscript</csymbol><ci id="S2.p1.6.m6.3.3.3.2.cmml" xref="S2.p1.6.m6.3.3.3.2">ğ‘</ci><ci id="S2.p1.6.m6.3.3.3.3a.cmml" xref="S2.p1.6.m6.3.3.3.3"><mtext id="S2.p1.6.m6.3.3.3.3.cmml" mathsize="70%" xref="S2.p1.6.m6.3.3.3.3">LM</mtext></ci></apply><apply id="S2.p1.6.m6.3.3.1.1.1.cmml" xref="S2.p1.6.m6.3.3.1.1"><csymbol cd="latexml" id="S2.p1.6.m6.3.3.1.1.1.1.cmml" xref="S2.p1.6.m6.3.3.1.1.1.1">conditional</csymbol><ci id="S2.p1.6.m6.3.3.1.1.1.2.cmml" xref="S2.p1.6.m6.3.3.1.1.1.2">ğ‘¦</ci><list id="S2.p1.6.m6.3.3.1.1.1.3.1.cmml" xref="S2.p1.6.m6.3.3.1.1.1.3.2"><ci id="S2.p1.6.m6.1.1.cmml" xref="S2.p1.6.m6.1.1">ğ‘¥</ci><ci id="S2.p1.6.m6.2.2.cmml" xref="S2.p1.6.m6.2.2">ğ¶</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.6.m6.3c">p_{\text{LM}}(y|x,C)</annotation><annotation encoding="application/x-llamapun" id="S2.p1.6.m6.3d">italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C )</annotation></semantics></math> over possible completions <math alttext="y" class="ltx_Math" display="inline" id="S2.p1.7.m7.1"><semantics id="S2.p1.7.m7.1a"><mi id="S2.p1.7.m7.1.1" xref="S2.p1.7.m7.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.p1.7.m7.1b"><ci id="S2.p1.7.m7.1.1.cmml" xref="S2.p1.7.m7.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.7.m7.1c">y</annotation><annotation encoding="application/x-llamapun" id="S2.p1.7.m7.1d">italic_y</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">This formulation is sufficiently general to represent many real-world applications of LLMs.
For example, in retrieval-augmented generation (RAG)Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib19" title="">19</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib21" title="">21</a>]</cite>, the context contains documents retrieved from the knowledge-base.
Alternatively, if an LLM uses plugins or function calls to obtain additional information (e.g., web search, email retrieval, calendar query, etc.)Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib22" title="">22</a>]</cite>, the data returned by the plugins is part of the context.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS1.5.1.1">II-A</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS1.6.2">Information-Flow Labels</span>
</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.3">We assume that each document <math alttext="c\in C" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.1"><semantics id="S2.SS1.p1.1.m1.1a"><mrow id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml"><mi id="S2.SS1.p1.1.m1.1.1.2" xref="S2.SS1.p1.1.m1.1.1.2.cmml">c</mi><mo id="S2.SS1.p1.1.m1.1.1.1" xref="S2.SS1.p1.1.m1.1.1.1.cmml">âˆˆ</mo><mi id="S2.SS1.p1.1.m1.1.1.3" xref="S2.SS1.p1.1.m1.1.1.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><apply id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1"><in id="S2.SS1.p1.1.m1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1"></in><ci id="S2.SS1.p1.1.m1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.1.1.2">ğ‘</ci><ci id="S2.SS1.p1.1.m1.1.1.3.cmml" xref="S2.SS1.p1.1.m1.1.1.3">ğ¶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">c\in C</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.1.m1.1d">italic_c âˆˆ italic_C</annotation></semantics></math> in the context is assigned a <em class="ltx_emph ltx_font_italic" id="S2.SS1.p1.3.1">label</em> from a set <math alttext="\mathcal{L}" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.1"><semantics id="S2.SS1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">â„’</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">â„’</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.2.m2.1d">caligraphic_L</annotation></semantics></math> of labels, which we model as a label assignment function <math alttext="\ell:C\rightarrow\mathcal{L}" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.1"><semantics id="S2.SS1.p1.3.m3.1a"><mrow id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml"><mi id="S2.SS1.p1.3.m3.1.1.2" mathvariant="normal" xref="S2.SS1.p1.3.m3.1.1.2.cmml">â„“</mi><mo id="S2.SS1.p1.3.m3.1.1.1" lspace="0.278em" rspace="0.278em" xref="S2.SS1.p1.3.m3.1.1.1.cmml">:</mo><mrow id="S2.SS1.p1.3.m3.1.1.3" xref="S2.SS1.p1.3.m3.1.1.3.cmml"><mi id="S2.SS1.p1.3.m3.1.1.3.2" xref="S2.SS1.p1.3.m3.1.1.3.2.cmml">C</mi><mo id="S2.SS1.p1.3.m3.1.1.3.1" stretchy="false" xref="S2.SS1.p1.3.m3.1.1.3.1.cmml">â†’</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.3.m3.1.1.3.3" xref="S2.SS1.p1.3.m3.1.1.3.3.cmml">â„’</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><apply id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1"><ci id="S2.SS1.p1.3.m3.1.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1.1">:</ci><ci id="S2.SS1.p1.3.m3.1.1.2.cmml" xref="S2.SS1.p1.3.m3.1.1.2">â„“</ci><apply id="S2.SS1.p1.3.m3.1.1.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3"><ci id="S2.SS1.p1.3.m3.1.1.3.1.cmml" xref="S2.SS1.p1.3.m3.1.1.3.1">â†’</ci><ci id="S2.SS1.p1.3.m3.1.1.3.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2">ğ¶</ci><ci id="S2.SS1.p1.3.m3.1.1.3.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3">â„’</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">\ell:C\rightarrow\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.3.m3.1d">roman_â„“ : italic_C â†’ caligraphic_L</annotation></semantics></math>.
Labels can be used for many purposes, including representing access control information or information about the reliability of the source of the document.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.8">As is common practiceÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib23" title="">23</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib24" title="">24</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib16" title="">16</a>]</cite>, we assume <math alttext="\mathcal{L}" class="ltx_Math" display="inline" id="S2.SS1.p2.1.m1.1"><semantics id="S2.SS1.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml">â„’</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.1b"><ci id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">â„’</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.1c">\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.1.m1.1d">caligraphic_L</annotation></semantics></math> forms a <em class="ltx_emph ltx_font_italic" id="S2.SS1.p2.8.1">lattice</em>, i.e., it has a partial order <math alttext="\sqsubseteq" class="ltx_Math" display="inline" id="S2.SS1.p2.2.m2.1"><semantics id="S2.SS1.p2.2.m2.1a"><mo id="S2.SS1.p2.2.m2.1.1" xref="S2.SS1.p2.2.m2.1.1.cmml">âŠ‘</mo><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.2.m2.1b"><csymbol cd="latexml" id="S2.SS1.p2.2.m2.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1">square-image-of-or-equals</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.2.m2.1c">\sqsubseteq</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.2.m2.1d">âŠ‘</annotation></semantics></math> in which every pair of labels <math alttext="L_{1},L_{2}\in\mathcal{L}" class="ltx_Math" display="inline" id="S2.SS1.p2.3.m3.2"><semantics id="S2.SS1.p2.3.m3.2a"><mrow id="S2.SS1.p2.3.m3.2.2" xref="S2.SS1.p2.3.m3.2.2.cmml"><mrow id="S2.SS1.p2.3.m3.2.2.2.2" xref="S2.SS1.p2.3.m3.2.2.2.3.cmml"><msub id="S2.SS1.p2.3.m3.1.1.1.1.1" xref="S2.SS1.p2.3.m3.1.1.1.1.1.cmml"><mi id="S2.SS1.p2.3.m3.1.1.1.1.1.2" xref="S2.SS1.p2.3.m3.1.1.1.1.1.2.cmml">L</mi><mn id="S2.SS1.p2.3.m3.1.1.1.1.1.3" xref="S2.SS1.p2.3.m3.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S2.SS1.p2.3.m3.2.2.2.2.3" xref="S2.SS1.p2.3.m3.2.2.2.3.cmml">,</mo><msub id="S2.SS1.p2.3.m3.2.2.2.2.2" xref="S2.SS1.p2.3.m3.2.2.2.2.2.cmml"><mi id="S2.SS1.p2.3.m3.2.2.2.2.2.2" xref="S2.SS1.p2.3.m3.2.2.2.2.2.2.cmml">L</mi><mn id="S2.SS1.p2.3.m3.2.2.2.2.2.3" xref="S2.SS1.p2.3.m3.2.2.2.2.2.3.cmml">2</mn></msub></mrow><mo id="S2.SS1.p2.3.m3.2.2.3" xref="S2.SS1.p2.3.m3.2.2.3.cmml">âˆˆ</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p2.3.m3.2.2.4" xref="S2.SS1.p2.3.m3.2.2.4.cmml">â„’</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.3.m3.2b"><apply id="S2.SS1.p2.3.m3.2.2.cmml" xref="S2.SS1.p2.3.m3.2.2"><in id="S2.SS1.p2.3.m3.2.2.3.cmml" xref="S2.SS1.p2.3.m3.2.2.3"></in><list id="S2.SS1.p2.3.m3.2.2.2.3.cmml" xref="S2.SS1.p2.3.m3.2.2.2.2"><apply id="S2.SS1.p2.3.m3.1.1.1.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.3.m3.1.1.1.1.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1.1.1.1">subscript</csymbol><ci id="S2.SS1.p2.3.m3.1.1.1.1.1.2.cmml" xref="S2.SS1.p2.3.m3.1.1.1.1.1.2">ğ¿</ci><cn id="S2.SS1.p2.3.m3.1.1.1.1.1.3.cmml" type="integer" xref="S2.SS1.p2.3.m3.1.1.1.1.1.3">1</cn></apply><apply id="S2.SS1.p2.3.m3.2.2.2.2.2.cmml" xref="S2.SS1.p2.3.m3.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p2.3.m3.2.2.2.2.2.1.cmml" xref="S2.SS1.p2.3.m3.2.2.2.2.2">subscript</csymbol><ci id="S2.SS1.p2.3.m3.2.2.2.2.2.2.cmml" xref="S2.SS1.p2.3.m3.2.2.2.2.2.2">ğ¿</ci><cn id="S2.SS1.p2.3.m3.2.2.2.2.2.3.cmml" type="integer" xref="S2.SS1.p2.3.m3.2.2.2.2.2.3">2</cn></apply></list><ci id="S2.SS1.p2.3.m3.2.2.4.cmml" xref="S2.SS1.p2.3.m3.2.2.4">â„’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.3.m3.2c">L_{1},L_{2}\in\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.3.m3.2d">italic_L start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT âˆˆ caligraphic_L</annotation></semantics></math> has a least upper bound (aka <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.8.2">join</span>) <math alttext="L_{1}\sqcup L_{2}" class="ltx_Math" display="inline" id="S2.SS1.p2.4.m4.1"><semantics id="S2.SS1.p2.4.m4.1a"><mrow id="S2.SS1.p2.4.m4.1.1" xref="S2.SS1.p2.4.m4.1.1.cmml"><msub id="S2.SS1.p2.4.m4.1.1.2" xref="S2.SS1.p2.4.m4.1.1.2.cmml"><mi id="S2.SS1.p2.4.m4.1.1.2.2" xref="S2.SS1.p2.4.m4.1.1.2.2.cmml">L</mi><mn id="S2.SS1.p2.4.m4.1.1.2.3" xref="S2.SS1.p2.4.m4.1.1.2.3.cmml">1</mn></msub><mo id="S2.SS1.p2.4.m4.1.1.1" xref="S2.SS1.p2.4.m4.1.1.1.cmml">âŠ”</mo><msub id="S2.SS1.p2.4.m4.1.1.3" xref="S2.SS1.p2.4.m4.1.1.3.cmml"><mi id="S2.SS1.p2.4.m4.1.1.3.2" xref="S2.SS1.p2.4.m4.1.1.3.2.cmml">L</mi><mn id="S2.SS1.p2.4.m4.1.1.3.3" xref="S2.SS1.p2.4.m4.1.1.3.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.4.m4.1b"><apply id="S2.SS1.p2.4.m4.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1"><csymbol cd="latexml" id="S2.SS1.p2.4.m4.1.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1.1">square-union</csymbol><apply id="S2.SS1.p2.4.m4.1.1.2.cmml" xref="S2.SS1.p2.4.m4.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p2.4.m4.1.1.2.1.cmml" xref="S2.SS1.p2.4.m4.1.1.2">subscript</csymbol><ci id="S2.SS1.p2.4.m4.1.1.2.2.cmml" xref="S2.SS1.p2.4.m4.1.1.2.2">ğ¿</ci><cn id="S2.SS1.p2.4.m4.1.1.2.3.cmml" type="integer" xref="S2.SS1.p2.4.m4.1.1.2.3">1</cn></apply><apply id="S2.SS1.p2.4.m4.1.1.3.cmml" xref="S2.SS1.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p2.4.m4.1.1.3.1.cmml" xref="S2.SS1.p2.4.m4.1.1.3">subscript</csymbol><ci id="S2.SS1.p2.4.m4.1.1.3.2.cmml" xref="S2.SS1.p2.4.m4.1.1.3.2">ğ¿</ci><cn id="S2.SS1.p2.4.m4.1.1.3.3.cmml" type="integer" xref="S2.SS1.p2.4.m4.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.4.m4.1c">L_{1}\sqcup L_{2}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.4.m4.1d">italic_L start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT âŠ” italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> and a greatest lower bound (aka <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.8.3">meet</span>) <math alttext="L_{1}\sqcap L_{2}" class="ltx_Math" display="inline" id="S2.SS1.p2.5.m5.1"><semantics id="S2.SS1.p2.5.m5.1a"><mrow id="S2.SS1.p2.5.m5.1.1" xref="S2.SS1.p2.5.m5.1.1.cmml"><msub id="S2.SS1.p2.5.m5.1.1.2" xref="S2.SS1.p2.5.m5.1.1.2.cmml"><mi id="S2.SS1.p2.5.m5.1.1.2.2" xref="S2.SS1.p2.5.m5.1.1.2.2.cmml">L</mi><mn id="S2.SS1.p2.5.m5.1.1.2.3" xref="S2.SS1.p2.5.m5.1.1.2.3.cmml">1</mn></msub><mo id="S2.SS1.p2.5.m5.1.1.1" xref="S2.SS1.p2.5.m5.1.1.1.cmml">âŠ“</mo><msub id="S2.SS1.p2.5.m5.1.1.3" xref="S2.SS1.p2.5.m5.1.1.3.cmml"><mi id="S2.SS1.p2.5.m5.1.1.3.2" xref="S2.SS1.p2.5.m5.1.1.3.2.cmml">L</mi><mn id="S2.SS1.p2.5.m5.1.1.3.3" xref="S2.SS1.p2.5.m5.1.1.3.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.5.m5.1b"><apply id="S2.SS1.p2.5.m5.1.1.cmml" xref="S2.SS1.p2.5.m5.1.1"><csymbol cd="latexml" id="S2.SS1.p2.5.m5.1.1.1.cmml" xref="S2.SS1.p2.5.m5.1.1.1">square-intersection</csymbol><apply id="S2.SS1.p2.5.m5.1.1.2.cmml" xref="S2.SS1.p2.5.m5.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p2.5.m5.1.1.2.1.cmml" xref="S2.SS1.p2.5.m5.1.1.2">subscript</csymbol><ci id="S2.SS1.p2.5.m5.1.1.2.2.cmml" xref="S2.SS1.p2.5.m5.1.1.2.2">ğ¿</ci><cn id="S2.SS1.p2.5.m5.1.1.2.3.cmml" type="integer" xref="S2.SS1.p2.5.m5.1.1.2.3">1</cn></apply><apply id="S2.SS1.p2.5.m5.1.1.3.cmml" xref="S2.SS1.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p2.5.m5.1.1.3.1.cmml" xref="S2.SS1.p2.5.m5.1.1.3">subscript</csymbol><ci id="S2.SS1.p2.5.m5.1.1.3.2.cmml" xref="S2.SS1.p2.5.m5.1.1.3.2">ğ¿</ci><cn id="S2.SS1.p2.5.m5.1.1.3.3.cmml" type="integer" xref="S2.SS1.p2.5.m5.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.5.m5.1c">L_{1}\sqcap L_{2}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.5.m5.1d">italic_L start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT âŠ“ italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>.
One often uses join and meet operations to combine multiple labels into a single label that still captures the relevant security information.
In particular, we can naturally define the label <math alttext="L" class="ltx_Math" display="inline" id="S2.SS1.p2.6.m6.1"><semantics id="S2.SS1.p2.6.m6.1a"><mi id="S2.SS1.p2.6.m6.1.1" xref="S2.SS1.p2.6.m6.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.6.m6.1b"><ci id="S2.SS1.p2.6.m6.1.1.cmml" xref="S2.SS1.p2.6.m6.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.6.m6.1c">L</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.6.m6.1d">italic_L</annotation></semantics></math> of a context <math alttext="C" class="ltx_Math" display="inline" id="S2.SS1.p2.7.m7.1"><semantics id="S2.SS1.p2.7.m7.1a"><mi id="S2.SS1.p2.7.m7.1.1" xref="S2.SS1.p2.7.m7.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.7.m7.1b"><ci id="S2.SS1.p2.7.m7.1.1.cmml" xref="S2.SS1.p2.7.m7.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.7.m7.1c">C</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.7.m7.1d">italic_C</annotation></semantics></math> as <math alttext="L=\bigsqcup_{c\in C}\ell(c)" class="ltx_Math" display="inline" id="S2.SS1.p2.8.m8.1"><semantics id="S2.SS1.p2.8.m8.1a"><mrow id="S2.SS1.p2.8.m8.1.2" xref="S2.SS1.p2.8.m8.1.2.cmml"><mi id="S2.SS1.p2.8.m8.1.2.2" xref="S2.SS1.p2.8.m8.1.2.2.cmml">L</mi><mo id="S2.SS1.p2.8.m8.1.2.1" rspace="0.111em" xref="S2.SS1.p2.8.m8.1.2.1.cmml">=</mo><mrow id="S2.SS1.p2.8.m8.1.2.3" xref="S2.SS1.p2.8.m8.1.2.3.cmml"><msub id="S2.SS1.p2.8.m8.1.2.3.1" xref="S2.SS1.p2.8.m8.1.2.3.1.cmml"><mo id="S2.SS1.p2.8.m8.1.2.3.1.2" xref="S2.SS1.p2.8.m8.1.2.3.1.2.cmml">â¨†</mo><mrow id="S2.SS1.p2.8.m8.1.2.3.1.3" xref="S2.SS1.p2.8.m8.1.2.3.1.3.cmml"><mi id="S2.SS1.p2.8.m8.1.2.3.1.3.2" xref="S2.SS1.p2.8.m8.1.2.3.1.3.2.cmml">c</mi><mo id="S2.SS1.p2.8.m8.1.2.3.1.3.1" xref="S2.SS1.p2.8.m8.1.2.3.1.3.1.cmml">âˆˆ</mo><mi id="S2.SS1.p2.8.m8.1.2.3.1.3.3" xref="S2.SS1.p2.8.m8.1.2.3.1.3.3.cmml">C</mi></mrow></msub><mrow id="S2.SS1.p2.8.m8.1.2.3.2" xref="S2.SS1.p2.8.m8.1.2.3.2.cmml"><mi id="S2.SS1.p2.8.m8.1.2.3.2.2" mathvariant="normal" xref="S2.SS1.p2.8.m8.1.2.3.2.2.cmml">â„“</mi><mo id="S2.SS1.p2.8.m8.1.2.3.2.1" xref="S2.SS1.p2.8.m8.1.2.3.2.1.cmml">â¢</mo><mrow id="S2.SS1.p2.8.m8.1.2.3.2.3.2" xref="S2.SS1.p2.8.m8.1.2.3.2.cmml"><mo id="S2.SS1.p2.8.m8.1.2.3.2.3.2.1" stretchy="false" xref="S2.SS1.p2.8.m8.1.2.3.2.cmml">(</mo><mi id="S2.SS1.p2.8.m8.1.1" xref="S2.SS1.p2.8.m8.1.1.cmml">c</mi><mo id="S2.SS1.p2.8.m8.1.2.3.2.3.2.2" stretchy="false" xref="S2.SS1.p2.8.m8.1.2.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.8.m8.1b"><apply id="S2.SS1.p2.8.m8.1.2.cmml" xref="S2.SS1.p2.8.m8.1.2"><eq id="S2.SS1.p2.8.m8.1.2.1.cmml" xref="S2.SS1.p2.8.m8.1.2.1"></eq><ci id="S2.SS1.p2.8.m8.1.2.2.cmml" xref="S2.SS1.p2.8.m8.1.2.2">ğ¿</ci><apply id="S2.SS1.p2.8.m8.1.2.3.cmml" xref="S2.SS1.p2.8.m8.1.2.3"><apply id="S2.SS1.p2.8.m8.1.2.3.1.cmml" xref="S2.SS1.p2.8.m8.1.2.3.1"><csymbol cd="ambiguous" id="S2.SS1.p2.8.m8.1.2.3.1.1.cmml" xref="S2.SS1.p2.8.m8.1.2.3.1">subscript</csymbol><csymbol cd="latexml" id="S2.SS1.p2.8.m8.1.2.3.1.2.cmml" xref="S2.SS1.p2.8.m8.1.2.3.1.2">square-union</csymbol><apply id="S2.SS1.p2.8.m8.1.2.3.1.3.cmml" xref="S2.SS1.p2.8.m8.1.2.3.1.3"><in id="S2.SS1.p2.8.m8.1.2.3.1.3.1.cmml" xref="S2.SS1.p2.8.m8.1.2.3.1.3.1"></in><ci id="S2.SS1.p2.8.m8.1.2.3.1.3.2.cmml" xref="S2.SS1.p2.8.m8.1.2.3.1.3.2">ğ‘</ci><ci id="S2.SS1.p2.8.m8.1.2.3.1.3.3.cmml" xref="S2.SS1.p2.8.m8.1.2.3.1.3.3">ğ¶</ci></apply></apply><apply id="S2.SS1.p2.8.m8.1.2.3.2.cmml" xref="S2.SS1.p2.8.m8.1.2.3.2"><times id="S2.SS1.p2.8.m8.1.2.3.2.1.cmml" xref="S2.SS1.p2.8.m8.1.2.3.2.1"></times><ci id="S2.SS1.p2.8.m8.1.2.3.2.2.cmml" xref="S2.SS1.p2.8.m8.1.2.3.2.2">â„“</ci><ci id="S2.SS1.p2.8.m8.1.1.cmml" xref="S2.SS1.p2.8.m8.1.1">ğ‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.8.m8.1c">L=\bigsqcup_{c\in C}\ell(c)</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.8.m8.1d">italic_L = â¨† start_POSTSUBSCRIPT italic_c âˆˆ italic_C end_POSTSUBSCRIPT roman_â„“ ( italic_c )</annotation></semantics></math>.
In all cases, labels lower in the lattice are said to be more <em class="ltx_emph ltx_font_italic" id="S2.SS1.p2.8.4">permissive</em>, as illustrated in the following examples:</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p3">
<p class="ltx_p" id="S2.SS1.p3.6"><span class="ltx_text ltx_font_bold" id="S2.SS1.p3.6.1">Confidentiality.</span> A canonical example of a security lattice is the set <math alttext="\{\textnormal{Secret},\textnormal{General}\}" class="ltx_Math" display="inline" id="S2.SS1.p3.1.m1.2"><semantics id="S2.SS1.p3.1.m1.2a"><mrow id="S2.SS1.p3.1.m1.2.3.2" xref="S2.SS1.p3.1.m1.2.3.1.cmml"><mo id="S2.SS1.p3.1.m1.2.3.2.1" stretchy="false" xref="S2.SS1.p3.1.m1.2.3.1.cmml">{</mo><mtext id="S2.SS1.p3.1.m1.1.1" xref="S2.SS1.p3.1.m1.1.1a.cmml">Secret</mtext><mo id="S2.SS1.p3.1.m1.2.3.2.2" xref="S2.SS1.p3.1.m1.2.3.1.cmml">,</mo><mtext id="S2.SS1.p3.1.m1.2.2" xref="S2.SS1.p3.1.m1.2.2a.cmml">General</mtext><mo id="S2.SS1.p3.1.m1.2.3.2.3" stretchy="false" xref="S2.SS1.p3.1.m1.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.1.m1.2b"><set id="S2.SS1.p3.1.m1.2.3.1.cmml" xref="S2.SS1.p3.1.m1.2.3.2"><ci id="S2.SS1.p3.1.m1.1.1a.cmml" xref="S2.SS1.p3.1.m1.1.1"><mtext id="S2.SS1.p3.1.m1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1">Secret</mtext></ci><ci id="S2.SS1.p3.1.m1.2.2a.cmml" xref="S2.SS1.p3.1.m1.2.2"><mtext id="S2.SS1.p3.1.m1.2.2.cmml" xref="S2.SS1.p3.1.m1.2.2">General</mtext></ci></set></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.1.m1.2c">\{\textnormal{Secret},\textnormal{General}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.1.m1.2d">{ Secret , General }</annotation></semantics></math>, denoting high and low confidentiality data, where <math alttext="\textnormal{General}\sqsubseteq\textnormal{Secret}" class="ltx_Math" display="inline" id="S2.SS1.p3.2.m2.1"><semantics id="S2.SS1.p3.2.m2.1a"><mrow id="S2.SS1.p3.2.m2.1.1" xref="S2.SS1.p3.2.m2.1.1.cmml"><mtext id="S2.SS1.p3.2.m2.1.1.2" xref="S2.SS1.p3.2.m2.1.1.2a.cmml">General</mtext><mo id="S2.SS1.p3.2.m2.1.1.1" xref="S2.SS1.p3.2.m2.1.1.1.cmml">âŠ‘</mo><mtext id="S2.SS1.p3.2.m2.1.1.3" xref="S2.SS1.p3.2.m2.1.1.3a.cmml">Secret</mtext></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.2.m2.1b"><apply id="S2.SS1.p3.2.m2.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1"><csymbol cd="latexml" id="S2.SS1.p3.2.m2.1.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1.1">square-image-of-or-equals</csymbol><ci id="S2.SS1.p3.2.m2.1.1.2a.cmml" xref="S2.SS1.p3.2.m2.1.1.2"><mtext id="S2.SS1.p3.2.m2.1.1.2.cmml" xref="S2.SS1.p3.2.m2.1.1.2">General</mtext></ci><ci id="S2.SS1.p3.2.m2.1.1.3a.cmml" xref="S2.SS1.p3.2.m2.1.1.3"><mtext id="S2.SS1.p3.2.m2.1.1.3.cmml" xref="S2.SS1.p3.2.m2.1.1.3">Secret</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.2.m2.1c">\textnormal{General}\sqsubseteq\textnormal{Secret}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.2.m2.1d">General âŠ‘ Secret</annotation></semantics></math>.
The join of <span class="ltx_text ltx_markedasmath" id="S2.SS1.p3.6.2">Secret</span> and <span class="ltx_text ltx_markedasmath" id="S2.SS1.p3.6.3">General</span> is <span class="ltx_text ltx_markedasmath" id="S2.SS1.p3.6.4">Secret</span> (i.e., high confidentiality), but <span class="ltx_text ltx_markedasmath" id="S2.SS1.p3.6.5">General</span> is the more permissive label.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p4">
<p class="ltx_p" id="S2.SS1.p4.6"><span class="ltx_text ltx_font_bold" id="S2.SS1.p4.6.1">Integrity.</span> Similarly for integrity, the set <math alttext="\{\textnormal{HiInt},\textnormal{LoInt}\}" class="ltx_Math" display="inline" id="S2.SS1.p4.1.m1.2"><semantics id="S2.SS1.p4.1.m1.2a"><mrow id="S2.SS1.p4.1.m1.2.3.2" xref="S2.SS1.p4.1.m1.2.3.1.cmml"><mo id="S2.SS1.p4.1.m1.2.3.2.1" stretchy="false" xref="S2.SS1.p4.1.m1.2.3.1.cmml">{</mo><mtext id="S2.SS1.p4.1.m1.1.1" xref="S2.SS1.p4.1.m1.1.1a.cmml">HiInt</mtext><mo id="S2.SS1.p4.1.m1.2.3.2.2" xref="S2.SS1.p4.1.m1.2.3.1.cmml">,</mo><mtext id="S2.SS1.p4.1.m1.2.2" xref="S2.SS1.p4.1.m1.2.2a.cmml">LoInt</mtext><mo id="S2.SS1.p4.1.m1.2.3.2.3" stretchy="false" xref="S2.SS1.p4.1.m1.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.1.m1.2b"><set id="S2.SS1.p4.1.m1.2.3.1.cmml" xref="S2.SS1.p4.1.m1.2.3.2"><ci id="S2.SS1.p4.1.m1.1.1a.cmml" xref="S2.SS1.p4.1.m1.1.1"><mtext id="S2.SS1.p4.1.m1.1.1.cmml" xref="S2.SS1.p4.1.m1.1.1">HiInt</mtext></ci><ci id="S2.SS1.p4.1.m1.2.2a.cmml" xref="S2.SS1.p4.1.m1.2.2"><mtext id="S2.SS1.p4.1.m1.2.2.cmml" xref="S2.SS1.p4.1.m1.2.2">LoInt</mtext></ci></set></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.1.m1.2c">\{\textnormal{HiInt},\textnormal{LoInt}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p4.1.m1.2d">{ HiInt , LoInt }</annotation></semantics></math> denotes high and low-integrity data such that <math alttext="\textnormal{HiInt}\sqsubseteq\textnormal{LoInt}" class="ltx_Math" display="inline" id="S2.SS1.p4.2.m2.1"><semantics id="S2.SS1.p4.2.m2.1a"><mrow id="S2.SS1.p4.2.m2.1.1" xref="S2.SS1.p4.2.m2.1.1.cmml"><mtext id="S2.SS1.p4.2.m2.1.1.2" xref="S2.SS1.p4.2.m2.1.1.2a.cmml">HiInt</mtext><mo id="S2.SS1.p4.2.m2.1.1.1" xref="S2.SS1.p4.2.m2.1.1.1.cmml">âŠ‘</mo><mtext id="S2.SS1.p4.2.m2.1.1.3" xref="S2.SS1.p4.2.m2.1.1.3a.cmml">LoInt</mtext></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.2.m2.1b"><apply id="S2.SS1.p4.2.m2.1.1.cmml" xref="S2.SS1.p4.2.m2.1.1"><csymbol cd="latexml" id="S2.SS1.p4.2.m2.1.1.1.cmml" xref="S2.SS1.p4.2.m2.1.1.1">square-image-of-or-equals</csymbol><ci id="S2.SS1.p4.2.m2.1.1.2a.cmml" xref="S2.SS1.p4.2.m2.1.1.2"><mtext id="S2.SS1.p4.2.m2.1.1.2.cmml" xref="S2.SS1.p4.2.m2.1.1.2">HiInt</mtext></ci><ci id="S2.SS1.p4.2.m2.1.1.3a.cmml" xref="S2.SS1.p4.2.m2.1.1.3"><mtext id="S2.SS1.p4.2.m2.1.1.3.cmml" xref="S2.SS1.p4.2.m2.1.1.3">LoInt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.2.m2.1c">\textnormal{HiInt}\sqsubseteq\textnormal{LoInt}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p4.2.m2.1d">HiInt âŠ‘ LoInt</annotation></semantics></math>.
The join of <span class="ltx_text ltx_markedasmath" id="S2.SS1.p4.6.2">LoInt</span> and <span class="ltx_text ltx_markedasmath" id="S2.SS1.p4.6.3">HiInt</span> is <span class="ltx_text ltx_markedasmath" id="S2.SS1.p4.6.4">LoInt</span> (i.e., low integrity), but <span class="ltx_text ltx_markedasmath" id="S2.SS1.p4.6.5">HiInt</span> is the more permissive label.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p5">
<p class="ltx_p" id="S2.SS1.p5.2"><span class="ltx_text ltx_font_bold" id="S2.SS1.p5.2.1">Separation of Duty.</span> Another example is the lattice where labels are subsets of users and where assigning label <math alttext="U" class="ltx_Math" display="inline" id="S2.SS1.p5.1.m1.1"><semantics id="S2.SS1.p5.1.m1.1a"><mi id="S2.SS1.p5.1.m1.1.1" xref="S2.SS1.p5.1.m1.1.1.cmml">U</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p5.1.m1.1b"><ci id="S2.SS1.p5.1.m1.1.1.cmml" xref="S2.SS1.p5.1.m1.1.1">ğ‘ˆ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p5.1.m1.1c">U</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p5.1.m1.1d">italic_U</annotation></semantics></math> to a particular action denotes that all users <math alttext="u\in U" class="ltx_Math" display="inline" id="S2.SS1.p5.2.m2.1"><semantics id="S2.SS1.p5.2.m2.1a"><mrow id="S2.SS1.p5.2.m2.1.1" xref="S2.SS1.p5.2.m2.1.1.cmml"><mi id="S2.SS1.p5.2.m2.1.1.2" xref="S2.SS1.p5.2.m2.1.1.2.cmml">u</mi><mo id="S2.SS1.p5.2.m2.1.1.1" xref="S2.SS1.p5.2.m2.1.1.1.cmml">âˆˆ</mo><mi id="S2.SS1.p5.2.m2.1.1.3" xref="S2.SS1.p5.2.m2.1.1.3.cmml">U</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p5.2.m2.1b"><apply id="S2.SS1.p5.2.m2.1.1.cmml" xref="S2.SS1.p5.2.m2.1.1"><in id="S2.SS1.p5.2.m2.1.1.1.cmml" xref="S2.SS1.p5.2.m2.1.1.1"></in><ci id="S2.SS1.p5.2.m2.1.1.2.cmml" xref="S2.SS1.p5.2.m2.1.1.2">ğ‘¢</ci><ci id="S2.SS1.p5.2.m2.1.1.3.cmml" xref="S2.SS1.p5.2.m2.1.1.3">ğ‘ˆ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p5.2.m2.1c">u\in U</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p5.2.m2.1d">italic_u âˆˆ italic_U</annotation></semantics></math> must authorize the action before it can take place.
In this case, the join and meet operations correspond to set union (least permissive) and set intersection (most permissive), respectively.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p6">
<p class="ltx_p" id="S2.SS1.p6.4"><span class="ltx_text ltx_font_bold" id="S2.SS1.p6.4.1">Product lattices.</span> Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S2.F2" title="Figure 2 â€£ II-A Information-Flow Labels â€£ II Problem Setting and Goal â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">2</span></a> shows an example of a product lattice for the case of two dimensions: reliability (<math alttext="\textnormal{HiInt},\textnormal{LoInt}" class="ltx_Math" display="inline" id="S2.SS1.p6.1.m1.2"><semantics id="S2.SS1.p6.1.m1.2a"><mrow id="S2.SS1.p6.1.m1.2.3.2" xref="S2.SS1.p6.1.m1.2.3.1.cmml"><mtext id="S2.SS1.p6.1.m1.1.1" xref="S2.SS1.p6.1.m1.1.1a.cmml">HiInt</mtext><mo id="S2.SS1.p6.1.m1.2.3.2.1" xref="S2.SS1.p6.1.m1.2.3.1.cmml">,</mo><mtext id="S2.SS1.p6.1.m1.2.2" xref="S2.SS1.p6.1.m1.2.2a.cmml">LoInt</mtext></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p6.1.m1.2b"><list id="S2.SS1.p6.1.m1.2.3.1.cmml" xref="S2.SS1.p6.1.m1.2.3.2"><ci id="S2.SS1.p6.1.m1.1.1a.cmml" xref="S2.SS1.p6.1.m1.1.1"><mtext id="S2.SS1.p6.1.m1.1.1.cmml" xref="S2.SS1.p6.1.m1.1.1">HiInt</mtext></ci><ci id="S2.SS1.p6.1.m1.2.2a.cmml" xref="S2.SS1.p6.1.m1.2.2"><mtext id="S2.SS1.p6.1.m1.2.2.cmml" xref="S2.SS1.p6.1.m1.2.2">LoInt</mtext></ci></list></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p6.1.m1.2c">\textnormal{HiInt},\textnormal{LoInt}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p6.1.m1.2d">HiInt , LoInt</annotation></semantics></math>) and timestamps (<math alttext="\textnormal{LastMonth},\textnormal{LastWeek},\textnormal{Today}" class="ltx_Math" display="inline" id="S2.SS1.p6.2.m2.3"><semantics id="S2.SS1.p6.2.m2.3a"><mrow id="S2.SS1.p6.2.m2.3.4.2" xref="S2.SS1.p6.2.m2.3.4.1.cmml"><mtext id="S2.SS1.p6.2.m2.1.1" xref="S2.SS1.p6.2.m2.1.1a.cmml">LastMonth</mtext><mo id="S2.SS1.p6.2.m2.3.4.2.1" xref="S2.SS1.p6.2.m2.3.4.1.cmml">,</mo><mtext id="S2.SS1.p6.2.m2.2.2" xref="S2.SS1.p6.2.m2.2.2a.cmml">LastWeek</mtext><mo id="S2.SS1.p6.2.m2.3.4.2.2" xref="S2.SS1.p6.2.m2.3.4.1.cmml">,</mo><mtext id="S2.SS1.p6.2.m2.3.3" xref="S2.SS1.p6.2.m2.3.3a.cmml">Today</mtext></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p6.2.m2.3b"><list id="S2.SS1.p6.2.m2.3.4.1.cmml" xref="S2.SS1.p6.2.m2.3.4.2"><ci id="S2.SS1.p6.2.m2.1.1a.cmml" xref="S2.SS1.p6.2.m2.1.1"><mtext id="S2.SS1.p6.2.m2.1.1.cmml" xref="S2.SS1.p6.2.m2.1.1">LastMonth</mtext></ci><ci id="S2.SS1.p6.2.m2.2.2a.cmml" xref="S2.SS1.p6.2.m2.2.2"><mtext id="S2.SS1.p6.2.m2.2.2.cmml" xref="S2.SS1.p6.2.m2.2.2">LastWeek</mtext></ci><ci id="S2.SS1.p6.2.m2.3.3a.cmml" xref="S2.SS1.p6.2.m2.3.3"><mtext id="S2.SS1.p6.2.m2.3.3.cmml" xref="S2.SS1.p6.2.m2.3.3">Today</mtext></ci></list></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p6.2.m2.3c">\textnormal{LastMonth},\textnormal{LastWeek},\textnormal{Today}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p6.2.m2.3d">LastMonth , LastWeek , Today</annotation></semantics></math>).
The top of the lattice <math alttext="(\textnormal{LoInt},\textnormal{LastMonth})" class="ltx_Math" display="inline" id="S2.SS1.p6.3.m3.2"><semantics id="S2.SS1.p6.3.m3.2a"><mrow id="S2.SS1.p6.3.m3.2.3.2" xref="S2.SS1.p6.3.m3.2.3.1.cmml"><mo id="S2.SS1.p6.3.m3.2.3.2.1" stretchy="false" xref="S2.SS1.p6.3.m3.2.3.1.cmml">(</mo><mtext id="S2.SS1.p6.3.m3.1.1" xref="S2.SS1.p6.3.m3.1.1a.cmml">LoInt</mtext><mo id="S2.SS1.p6.3.m3.2.3.2.2" xref="S2.SS1.p6.3.m3.2.3.1.cmml">,</mo><mtext id="S2.SS1.p6.3.m3.2.2" xref="S2.SS1.p6.3.m3.2.2a.cmml">LastMonth</mtext><mo id="S2.SS1.p6.3.m3.2.3.2.3" stretchy="false" xref="S2.SS1.p6.3.m3.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p6.3.m3.2b"><interval closure="open" id="S2.SS1.p6.3.m3.2.3.1.cmml" xref="S2.SS1.p6.3.m3.2.3.2"><ci id="S2.SS1.p6.3.m3.1.1a.cmml" xref="S2.SS1.p6.3.m3.1.1"><mtext id="S2.SS1.p6.3.m3.1.1.cmml" xref="S2.SS1.p6.3.m3.1.1">LoInt</mtext></ci><ci id="S2.SS1.p6.3.m3.2.2a.cmml" xref="S2.SS1.p6.3.m3.2.2"><mtext id="S2.SS1.p6.3.m3.2.2.cmml" xref="S2.SS1.p6.3.m3.2.2">LastMonth</mtext></ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p6.3.m3.2c">(\textnormal{LoInt},\textnormal{LastMonth})</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p6.3.m3.2d">( LoInt , LastMonth )</annotation></semantics></math> represents the least reliable and least recent documents, while the bottom of the lattice <math alttext="(\textnormal{HiInt},\textnormal{Today})" class="ltx_Math" display="inline" id="S2.SS1.p6.4.m4.2"><semantics id="S2.SS1.p6.4.m4.2a"><mrow id="S2.SS1.p6.4.m4.2.3.2" xref="S2.SS1.p6.4.m4.2.3.1.cmml"><mo id="S2.SS1.p6.4.m4.2.3.2.1" stretchy="false" xref="S2.SS1.p6.4.m4.2.3.1.cmml">(</mo><mtext id="S2.SS1.p6.4.m4.1.1" xref="S2.SS1.p6.4.m4.1.1a.cmml">HiInt</mtext><mo id="S2.SS1.p6.4.m4.2.3.2.2" xref="S2.SS1.p6.4.m4.2.3.1.cmml">,</mo><mtext id="S2.SS1.p6.4.m4.2.2" xref="S2.SS1.p6.4.m4.2.2a.cmml">Today</mtext><mo id="S2.SS1.p6.4.m4.2.3.2.3" stretchy="false" xref="S2.SS1.p6.4.m4.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p6.4.m4.2b"><interval closure="open" id="S2.SS1.p6.4.m4.2.3.1.cmml" xref="S2.SS1.p6.4.m4.2.3.2"><ci id="S2.SS1.p6.4.m4.1.1a.cmml" xref="S2.SS1.p6.4.m4.1.1"><mtext id="S2.SS1.p6.4.m4.1.1.cmml" xref="S2.SS1.p6.4.m4.1.1">HiInt</mtext></ci><ci id="S2.SS1.p6.4.m4.2.2a.cmml" xref="S2.SS1.p6.4.m4.2.2"><mtext id="S2.SS1.p6.4.m4.2.2.cmml" xref="S2.SS1.p6.4.m4.2.2">Today</mtext></ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p6.4.m4.2c">(\textnormal{HiInt},\textnormal{Today})</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p6.4.m4.2d">( HiInt , Today )</annotation></semantics></math> represents the most reliable and most recent documents.</p>
</div>
<figure class="ltx_figure" id="S2.F2"><svg class="ltx_picture ltx_centering" height="181.74" id="S2.F2.pic1" overflow="visible" version="1.1" width="267.11"><g fill="#000000" stroke="#000000" transform="translate(0,181.74) matrix(1 0 0 -1 0 0) translate(153.16,0) translate(0,170.21)"><g stroke-width="0.4pt"><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -57.12 -3.46)"><foreignobject height="13.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="114.23"><math alttext="(\textnormal{LoInt},\textnormal{LastMonth})" class="ltx_Math" display="inline" id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2"><semantics id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2a"><mrow id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.3.2" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml"><mo id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.3.2.1" stretchy="false" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">(</mo><mtext id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml">LoInt</mtext><mo id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.3.2.2" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">,</mo><mtext id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml">LastMonth</mtext><mo id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.3.2.3" stretchy="false" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2b"><interval closure="open" id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.3.2"><ci id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1"><mtext id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">LoInt</mtext></ci><ci id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2"><mtext id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.cmml" xref="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2">LastMonth</mtext></ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2c">(\textnormal{LoInt},\textnormal{LastMonth})</annotation><annotation encoding="application/x-llamapun" id="S2.F2.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2d">( LoInt , LastMonth )</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -106.36 -56.35)"><foreignobject height="13.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="106.93"><math alttext="(\textnormal{LoInt},\textnormal{LastWeek})" class="ltx_Math" display="inline" id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2"><semantics id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2a"><mrow id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.3.2" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml"><mo id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.3.2.1" stretchy="false" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">(</mo><mtext id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml">LoInt</mtext><mo id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.3.2.2" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">,</mo><mtext id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.2" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml">LastWeek</mtext><mo id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.3.2.3" stretchy="false" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2b"><interval closure="open" id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.3.2"><ci id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1"><mtext id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1">LoInt</mtext></ci><ci id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.2"><mtext id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.2.cmml" xref="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2.2">LastWeek</mtext></ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2c">(\textnormal{LoInt},\textnormal{LastWeek})</annotation><annotation encoding="application/x-llamapun" id="S2.F2.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.2d">( LoInt , LastWeek )</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -3.55 -56.35)"><foreignobject height="13.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="112.89"><math alttext="(\textnormal{HiInt},\textnormal{LastMonth})" class="ltx_Math" display="inline" id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2"><semantics id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2a"><mrow id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.3.2" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml"><mo id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.3.2.1" stretchy="false" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">(</mo><mtext id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml">HiInt</mtext><mo id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.3.2.2" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">,</mo><mtext id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.2" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml">LastMonth</mtext><mo id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.3.2.3" stretchy="false" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2b"><interval closure="open" id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.3.2"><ci id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1"><mtext id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1">HiInt</mtext></ci><ci id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.2"><mtext id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.2.cmml" xref="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2.2">LastMonth</mtext></ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2c">(\textnormal{HiInt},\textnormal{LastMonth})</annotation><annotation encoding="application/x-llamapun" id="S2.F2.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.2d">( HiInt , LastMonth )</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -148.55 -109.25)"><foreignobject height="13.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="85.52"><math alttext="(\textnormal{LoInt},\textnormal{Today})" class="ltx_Math" display="inline" id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2"><semantics id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2a"><mrow id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.3.2" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml"><mo id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.3.2.1" stretchy="false" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">(</mo><mtext id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml">LoInt</mtext><mo id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.3.2.2" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">,</mo><mtext id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.2" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml">Today</mtext><mo id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.3.2.3" stretchy="false" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2b"><interval closure="open" id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.3.2"><ci id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1"><mtext id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1">LoInt</mtext></ci><ci id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.2"><mtext id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.2.cmml" xref="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2.2">Today</mtext></ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2c">(\textnormal{LoInt},\textnormal{Today})</annotation><annotation encoding="application/x-llamapun" id="S2.F2.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.2d">( LoInt , Today )</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -52.79 -109.25)"><foreignobject height="13.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="105.58"><math alttext="(\textnormal{HiInt},\textnormal{LastWeek})" class="ltx_Math" display="inline" id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2"><semantics id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2a"><mrow id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.3.2" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml"><mo id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.3.2.1" stretchy="false" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">(</mo><mtext id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml">HiInt</mtext><mo id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.3.2.2" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">,</mo><mtext id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.2" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml">LastWeek</mtext><mo id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.3.2.3" stretchy="false" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2b"><interval closure="open" id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.3.2"><ci id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1"><mtext id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1">HiInt</mtext></ci><ci id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.2"><mtext id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.2.cmml" xref="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2.2">LastWeek</mtext></ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2c">(\textnormal{HiInt},\textnormal{LastWeek})</annotation><annotation encoding="application/x-llamapun" id="S2.F2.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.2d">( HiInt , LastWeek )</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -94.98 -162.14)"><foreignobject height="13.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="84.18"><math alttext="(\textnormal{HiInt},\textnormal{Today})" class="ltx_Math" display="inline" id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2"><semantics id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2a"><mrow id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.3.2" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml"><mo id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.3.2.1" stretchy="false" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">(</mo><mtext id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml">HiInt</mtext><mo id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.3.2.2" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">,</mo><mtext id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.2" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml">Today</mtext><mo id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.3.2.3" stretchy="false" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2b"><interval closure="open" id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.3.1.cmml" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.3.2"><ci id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1"><mtext id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1">HiInt</mtext></ci><ci id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.2a.cmml" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.2"><mtext id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.2.cmml" xref="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2.2">Today</mtext></ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2c">(\textnormal{HiInt},\textnormal{Today})</annotation><annotation encoding="application/x-llamapun" id="S2.F2.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.2d">( HiInt , Today )</annotation></semantics></math></foreignobject></g><path d="M -40.64 -146.42 L -11.8 -117.59" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.70714 -0.70708 0.70708 -0.70714 -40.64 -146.42)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -65.15 -146.42 L -93.98 -117.59" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.70714 -0.70708 0.70708 0.70714 -65.15 -146.42)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 12.26 -93.53 L 41.09 -64.7" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.70714 -0.70708 0.70708 -0.70714 12.26 -93.53)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -12.26 -93.53 L -41.09 -64.7" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.70714 -0.70708 0.70708 0.70714 -12.26 -93.53)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 40.64 -40.64 L 11.8 -11.81" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.70714 -0.70708 0.70708 0.70714 40.64 -40.64)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -93.53 -93.53 L -64.7 -64.7" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.70714 -0.70708 0.70708 -0.70714 -93.53 -93.53)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -40.64 -40.64 L -11.8 -11.81" style="fill:none"></path></g><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.70714 -0.70708 0.70708 -0.70714 -40.64 -40.64)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g></g></svg>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S2.F2.10.5.1" style="font-size:90%;">Figure 2</span>: </span><span class="ltx_text" id="S2.F2.8.4" style="font-size:90%;">
Illustration of a product lattice of labels for integrity <math alttext="\{\textnormal{HiInt},\textnormal{LoInt}\}" class="ltx_Math" display="inline" id="S2.F2.5.1.m1.2"><semantics id="S2.F2.5.1.m1.2b"><mrow id="S2.F2.5.1.m1.2.3.2" xref="S2.F2.5.1.m1.2.3.1.cmml"><mo id="S2.F2.5.1.m1.2.3.2.1" stretchy="false" xref="S2.F2.5.1.m1.2.3.1.cmml">{</mo><mtext id="S2.F2.5.1.m1.1.1" xref="S2.F2.5.1.m1.1.1a.cmml">HiInt</mtext><mo id="S2.F2.5.1.m1.2.3.2.2" xref="S2.F2.5.1.m1.2.3.1.cmml">,</mo><mtext id="S2.F2.5.1.m1.2.2" xref="S2.F2.5.1.m1.2.2a.cmml">LoInt</mtext><mo id="S2.F2.5.1.m1.2.3.2.3" stretchy="false" xref="S2.F2.5.1.m1.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.F2.5.1.m1.2c"><set id="S2.F2.5.1.m1.2.3.1.cmml" xref="S2.F2.5.1.m1.2.3.2"><ci id="S2.F2.5.1.m1.1.1a.cmml" xref="S2.F2.5.1.m1.1.1"><mtext id="S2.F2.5.1.m1.1.1.cmml" xref="S2.F2.5.1.m1.1.1">HiInt</mtext></ci><ci id="S2.F2.5.1.m1.2.2a.cmml" xref="S2.F2.5.1.m1.2.2"><mtext id="S2.F2.5.1.m1.2.2.cmml" xref="S2.F2.5.1.m1.2.2">LoInt</mtext></ci></set></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.5.1.m1.2d">\{\textnormal{HiInt},\textnormal{LoInt}\}</annotation><annotation encoding="application/x-llamapun" id="S2.F2.5.1.m1.2e">{ HiInt , LoInt }</annotation></semantics></math> and time <math alttext="\{\textnormal{LastMonth},\textnormal{LastWeek},\textnormal{Today}\}" class="ltx_Math" display="inline" id="S2.F2.6.2.m2.3"><semantics id="S2.F2.6.2.m2.3b"><mrow id="S2.F2.6.2.m2.3.4.2" xref="S2.F2.6.2.m2.3.4.1.cmml"><mo id="S2.F2.6.2.m2.3.4.2.1" stretchy="false" xref="S2.F2.6.2.m2.3.4.1.cmml">{</mo><mtext id="S2.F2.6.2.m2.1.1" xref="S2.F2.6.2.m2.1.1a.cmml">LastMonth</mtext><mo id="S2.F2.6.2.m2.3.4.2.2" xref="S2.F2.6.2.m2.3.4.1.cmml">,</mo><mtext id="S2.F2.6.2.m2.2.2" xref="S2.F2.6.2.m2.2.2a.cmml">LastWeek</mtext><mo id="S2.F2.6.2.m2.3.4.2.3" xref="S2.F2.6.2.m2.3.4.1.cmml">,</mo><mtext id="S2.F2.6.2.m2.3.3" xref="S2.F2.6.2.m2.3.3a.cmml">Today</mtext><mo id="S2.F2.6.2.m2.3.4.2.4" stretchy="false" xref="S2.F2.6.2.m2.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.F2.6.2.m2.3c"><set id="S2.F2.6.2.m2.3.4.1.cmml" xref="S2.F2.6.2.m2.3.4.2"><ci id="S2.F2.6.2.m2.1.1a.cmml" xref="S2.F2.6.2.m2.1.1"><mtext id="S2.F2.6.2.m2.1.1.cmml" xref="S2.F2.6.2.m2.1.1">LastMonth</mtext></ci><ci id="S2.F2.6.2.m2.2.2a.cmml" xref="S2.F2.6.2.m2.2.2"><mtext id="S2.F2.6.2.m2.2.2.cmml" xref="S2.F2.6.2.m2.2.2">LastWeek</mtext></ci><ci id="S2.F2.6.2.m2.3.3a.cmml" xref="S2.F2.6.2.m2.3.3"><mtext id="S2.F2.6.2.m2.3.3.cmml" xref="S2.F2.6.2.m2.3.3">Today</mtext></ci></set></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.6.2.m2.3d">\{\textnormal{LastMonth},\textnormal{LastWeek},\textnormal{Today}\}</annotation><annotation encoding="application/x-llamapun" id="S2.F2.6.2.m2.3e">{ LastMonth , LastWeek , Today }</annotation></semantics></math>.
Each dimension is a sub-lattice with a total order <math alttext="\leq" class="ltx_Math" display="inline" id="S2.F2.7.3.m3.1"><semantics id="S2.F2.7.3.m3.1b"><mo id="S2.F2.7.3.m3.1.1" xref="S2.F2.7.3.m3.1.1.cmml">â‰¤</mo><annotation-xml encoding="MathML-Content" id="S2.F2.7.3.m3.1c"><leq id="S2.F2.7.3.m3.1.1.cmml" xref="S2.F2.7.3.m3.1.1"></leq></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.7.3.m3.1d">\leq</annotation><annotation encoding="application/x-llamapun" id="S2.F2.7.3.m3.1e">â‰¤</annotation></semantics></math>.
The product lattice is the Cartesian product of the two sub-lattices with a partial order <math alttext="\sqsubseteq" class="ltx_Math" display="inline" id="S2.F2.8.4.m4.1"><semantics id="S2.F2.8.4.m4.1b"><mo id="S2.F2.8.4.m4.1.1" xref="S2.F2.8.4.m4.1.1.cmml">âŠ‘</mo><annotation-xml encoding="MathML-Content" id="S2.F2.8.4.m4.1c"><csymbol cd="latexml" id="S2.F2.8.4.m4.1.1.cmml" xref="S2.F2.8.4.m4.1.1">square-image-of-or-equals</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.8.4.m4.1d">\sqsubseteq</annotation><annotation encoding="application/x-llamapun" id="S2.F2.8.4.m4.1e">âŠ‘</annotation></semantics></math>.
</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS2.5.1.1">II-B</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS2.6.2">Goal: Permissive Label Propagation</span>
</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.3">Since the documents in the context of an LLM can influence the modelâ€™s output, the label <math alttext="L" class="ltx_Math" display="inline" id="S2.SS2.p1.1.m1.1"><semantics id="S2.SS2.p1.1.m1.1a"><mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.1.m1.1d">italic_L</annotation></semantics></math> of the output will depend on the labels of documents in the context.
We refer to the process of determining <math alttext="L" class="ltx_Math" display="inline" id="S2.SS2.p1.2.m2.1"><semantics id="S2.SS2.p1.2.m2.1a"><mi id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><ci id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">L</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.2.m2.1d">italic_L</annotation></semantics></math> as <em class="ltx_emph ltx_font_italic" id="S2.SS2.p1.3.1">label propagation</em>.
A naÃ¯ve approach to label propagation in LLMs is to assume that all documents in the context impact the output, and hence to propagate the label <math alttext="L=\bigsqcup_{c\in C}\ell(c)" class="ltx_Math" display="inline" id="S2.SS2.p1.3.m3.1"><semantics id="S2.SS2.p1.3.m3.1a"><mrow id="S2.SS2.p1.3.m3.1.2" xref="S2.SS2.p1.3.m3.1.2.cmml"><mi id="S2.SS2.p1.3.m3.1.2.2" xref="S2.SS2.p1.3.m3.1.2.2.cmml">L</mi><mo id="S2.SS2.p1.3.m3.1.2.1" rspace="0.111em" xref="S2.SS2.p1.3.m3.1.2.1.cmml">=</mo><mrow id="S2.SS2.p1.3.m3.1.2.3" xref="S2.SS2.p1.3.m3.1.2.3.cmml"><msub id="S2.SS2.p1.3.m3.1.2.3.1" xref="S2.SS2.p1.3.m3.1.2.3.1.cmml"><mo id="S2.SS2.p1.3.m3.1.2.3.1.2" xref="S2.SS2.p1.3.m3.1.2.3.1.2.cmml">â¨†</mo><mrow id="S2.SS2.p1.3.m3.1.2.3.1.3" xref="S2.SS2.p1.3.m3.1.2.3.1.3.cmml"><mi id="S2.SS2.p1.3.m3.1.2.3.1.3.2" xref="S2.SS2.p1.3.m3.1.2.3.1.3.2.cmml">c</mi><mo id="S2.SS2.p1.3.m3.1.2.3.1.3.1" xref="S2.SS2.p1.3.m3.1.2.3.1.3.1.cmml">âˆˆ</mo><mi id="S2.SS2.p1.3.m3.1.2.3.1.3.3" xref="S2.SS2.p1.3.m3.1.2.3.1.3.3.cmml">C</mi></mrow></msub><mrow id="S2.SS2.p1.3.m3.1.2.3.2" xref="S2.SS2.p1.3.m3.1.2.3.2.cmml"><mi id="S2.SS2.p1.3.m3.1.2.3.2.2" mathvariant="normal" xref="S2.SS2.p1.3.m3.1.2.3.2.2.cmml">â„“</mi><mo id="S2.SS2.p1.3.m3.1.2.3.2.1" xref="S2.SS2.p1.3.m3.1.2.3.2.1.cmml">â¢</mo><mrow id="S2.SS2.p1.3.m3.1.2.3.2.3.2" xref="S2.SS2.p1.3.m3.1.2.3.2.cmml"><mo id="S2.SS2.p1.3.m3.1.2.3.2.3.2.1" stretchy="false" xref="S2.SS2.p1.3.m3.1.2.3.2.cmml">(</mo><mi id="S2.SS2.p1.3.m3.1.1" xref="S2.SS2.p1.3.m3.1.1.cmml">c</mi><mo id="S2.SS2.p1.3.m3.1.2.3.2.3.2.2" stretchy="false" xref="S2.SS2.p1.3.m3.1.2.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m3.1b"><apply id="S2.SS2.p1.3.m3.1.2.cmml" xref="S2.SS2.p1.3.m3.1.2"><eq id="S2.SS2.p1.3.m3.1.2.1.cmml" xref="S2.SS2.p1.3.m3.1.2.1"></eq><ci id="S2.SS2.p1.3.m3.1.2.2.cmml" xref="S2.SS2.p1.3.m3.1.2.2">ğ¿</ci><apply id="S2.SS2.p1.3.m3.1.2.3.cmml" xref="S2.SS2.p1.3.m3.1.2.3"><apply id="S2.SS2.p1.3.m3.1.2.3.1.cmml" xref="S2.SS2.p1.3.m3.1.2.3.1"><csymbol cd="ambiguous" id="S2.SS2.p1.3.m3.1.2.3.1.1.cmml" xref="S2.SS2.p1.3.m3.1.2.3.1">subscript</csymbol><csymbol cd="latexml" id="S2.SS2.p1.3.m3.1.2.3.1.2.cmml" xref="S2.SS2.p1.3.m3.1.2.3.1.2">square-union</csymbol><apply id="S2.SS2.p1.3.m3.1.2.3.1.3.cmml" xref="S2.SS2.p1.3.m3.1.2.3.1.3"><in id="S2.SS2.p1.3.m3.1.2.3.1.3.1.cmml" xref="S2.SS2.p1.3.m3.1.2.3.1.3.1"></in><ci id="S2.SS2.p1.3.m3.1.2.3.1.3.2.cmml" xref="S2.SS2.p1.3.m3.1.2.3.1.3.2">ğ‘</ci><ci id="S2.SS2.p1.3.m3.1.2.3.1.3.3.cmml" xref="S2.SS2.p1.3.m3.1.2.3.1.3.3">ğ¶</ci></apply></apply><apply id="S2.SS2.p1.3.m3.1.2.3.2.cmml" xref="S2.SS2.p1.3.m3.1.2.3.2"><times id="S2.SS2.p1.3.m3.1.2.3.2.1.cmml" xref="S2.SS2.p1.3.m3.1.2.3.2.1"></times><ci id="S2.SS2.p1.3.m3.1.2.3.2.2.cmml" xref="S2.SS2.p1.3.m3.1.2.3.2.2">â„“</ci><ci id="S2.SS2.p1.3.m3.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1">ğ‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.3.m3.1c">L=\bigsqcup_{c\in C}\ell(c)</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.3.m3.1d">italic_L = â¨† start_POSTSUBSCRIPT italic_c âˆˆ italic_C end_POSTSUBSCRIPT roman_â„“ ( italic_c )</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">However, the LLM does not necessarily need all documents in the context to generate the output.
In the example in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S1.F1" title="Figure 1 â€£ I Introduction â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a>, the LLM did not need the web search result from the untrusted website. Labeling the output as untrusted would be overly pessimistic and possibly inhibit the system from using the output further, e.g., as the input to another tool that requires trusted data.</p>
</div>
<div class="ltx_para" id="S2.SS2.p3">
<p class="ltx_p" id="S2.SS2.p3.1">Our goal is to obtain a more permissive output label by propagating only the labels of the inputs that are actually necessary for generating the output.
However, since the lattice of labels only forms a partial order, one challenge is that different subsets of the inputs are not always comparable.
As a consequence, we cannot hope to find a single optimal label.
Instead, a label propagator should ideally find <em class="ltx_emph ltx_font_italic" id="S2.SS2.p3.1.1">all</em> minimal labels and delegate the selection of one to the underlying application.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span class="ltx_text ltx_font_smallcaps" id="S3.1.1">Permissive Label Propagation</span>
</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we describe our approach and system for the propagation of permissive information-flow labels from the inputs to the LLM output.
The core idea is to propagate only the labels of the documents in the context that were necessary for generating the output.
A naÃ¯ve solution to this problem would be to iterate over all subsets of documents in the context and determine whether they can be removed without significantly affecting the modelâ€™s output.
However, the computational cost of this approach grows exponentially with the number of documents in the context.
In this section, we present a more efficient algorithm.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.1">Our key observation is that it is sufficient to identify the <span class="ltx_text ltx_font_italic" id="S3.p2.1.1">labels</span> that improve over the full contextâ€™s label, and consider only their corresponding subcontexts.
As the label lattices that occur in practice are often small (e.g. secret vs public, trusted vs untrusted), this leads to a solution that is both practical and optimal under certain monotonicity assumptions.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS1.6.1.1">III-A</span> </span><math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS1.1.m1.1"><semantics id="S3.SS1.1.m1.1b"><mi id="S3.SS1.1.m1.1.1" xref="S3.SS1.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.1.m1.1c"><ci id="S3.SS1.1.m1.1.1.cmml" xref="S3.SS1.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.1.m1.1d">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.1.m1.1e">italic_Î»</annotation></semantics></math><span class="ltx_text ltx_font_italic" id="S3.SS1.7.2">-similar Labels</span>
</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.13">Let <math alttext="C" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">italic_C</annotation></semantics></math> be a context with label <math alttext="L=\bigsqcup_{c\in C}\ell(c)" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mrow id="S3.SS1.p1.2.m2.1.2" xref="S3.SS1.p1.2.m2.1.2.cmml"><mi id="S3.SS1.p1.2.m2.1.2.2" xref="S3.SS1.p1.2.m2.1.2.2.cmml">L</mi><mo id="S3.SS1.p1.2.m2.1.2.1" rspace="0.111em" xref="S3.SS1.p1.2.m2.1.2.1.cmml">=</mo><mrow id="S3.SS1.p1.2.m2.1.2.3" xref="S3.SS1.p1.2.m2.1.2.3.cmml"><msub id="S3.SS1.p1.2.m2.1.2.3.1" xref="S3.SS1.p1.2.m2.1.2.3.1.cmml"><mo id="S3.SS1.p1.2.m2.1.2.3.1.2" xref="S3.SS1.p1.2.m2.1.2.3.1.2.cmml">â¨†</mo><mrow id="S3.SS1.p1.2.m2.1.2.3.1.3" xref="S3.SS1.p1.2.m2.1.2.3.1.3.cmml"><mi id="S3.SS1.p1.2.m2.1.2.3.1.3.2" xref="S3.SS1.p1.2.m2.1.2.3.1.3.2.cmml">c</mi><mo id="S3.SS1.p1.2.m2.1.2.3.1.3.1" xref="S3.SS1.p1.2.m2.1.2.3.1.3.1.cmml">âˆˆ</mo><mi id="S3.SS1.p1.2.m2.1.2.3.1.3.3" xref="S3.SS1.p1.2.m2.1.2.3.1.3.3.cmml">C</mi></mrow></msub><mrow id="S3.SS1.p1.2.m2.1.2.3.2" xref="S3.SS1.p1.2.m2.1.2.3.2.cmml"><mi id="S3.SS1.p1.2.m2.1.2.3.2.2" mathvariant="normal" xref="S3.SS1.p1.2.m2.1.2.3.2.2.cmml">â„“</mi><mo id="S3.SS1.p1.2.m2.1.2.3.2.1" xref="S3.SS1.p1.2.m2.1.2.3.2.1.cmml">â¢</mo><mrow id="S3.SS1.p1.2.m2.1.2.3.2.3.2" xref="S3.SS1.p1.2.m2.1.2.3.2.cmml"><mo id="S3.SS1.p1.2.m2.1.2.3.2.3.2.1" stretchy="false" xref="S3.SS1.p1.2.m2.1.2.3.2.cmml">(</mo><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">c</mi><mo id="S3.SS1.p1.2.m2.1.2.3.2.3.2.2" stretchy="false" xref="S3.SS1.p1.2.m2.1.2.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.2.cmml" xref="S3.SS1.p1.2.m2.1.2"><eq id="S3.SS1.p1.2.m2.1.2.1.cmml" xref="S3.SS1.p1.2.m2.1.2.1"></eq><ci id="S3.SS1.p1.2.m2.1.2.2.cmml" xref="S3.SS1.p1.2.m2.1.2.2">ğ¿</ci><apply id="S3.SS1.p1.2.m2.1.2.3.cmml" xref="S3.SS1.p1.2.m2.1.2.3"><apply id="S3.SS1.p1.2.m2.1.2.3.1.cmml" xref="S3.SS1.p1.2.m2.1.2.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.2.3.1.1.cmml" xref="S3.SS1.p1.2.m2.1.2.3.1">subscript</csymbol><csymbol cd="latexml" id="S3.SS1.p1.2.m2.1.2.3.1.2.cmml" xref="S3.SS1.p1.2.m2.1.2.3.1.2">square-union</csymbol><apply id="S3.SS1.p1.2.m2.1.2.3.1.3.cmml" xref="S3.SS1.p1.2.m2.1.2.3.1.3"><in id="S3.SS1.p1.2.m2.1.2.3.1.3.1.cmml" xref="S3.SS1.p1.2.m2.1.2.3.1.3.1"></in><ci id="S3.SS1.p1.2.m2.1.2.3.1.3.2.cmml" xref="S3.SS1.p1.2.m2.1.2.3.1.3.2">ğ‘</ci><ci id="S3.SS1.p1.2.m2.1.2.3.1.3.3.cmml" xref="S3.SS1.p1.2.m2.1.2.3.1.3.3">ğ¶</ci></apply></apply><apply id="S3.SS1.p1.2.m2.1.2.3.2.cmml" xref="S3.SS1.p1.2.m2.1.2.3.2"><times id="S3.SS1.p1.2.m2.1.2.3.2.1.cmml" xref="S3.SS1.p1.2.m2.1.2.3.2.1"></times><ci id="S3.SS1.p1.2.m2.1.2.3.2.2.cmml" xref="S3.SS1.p1.2.m2.1.2.3.2.2">â„“</ci><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">ğ‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">L=\bigsqcup_{c\in C}\ell(c)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_L = â¨† start_POSTSUBSCRIPT italic_c âˆˆ italic_C end_POSTSUBSCRIPT roman_â„“ ( italic_c )</annotation></semantics></math>.
For a label <math alttext="L^{\prime}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><msup id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">L</mi><mo id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">superscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">ğ¿</ci><ci id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">L^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math> that is at least as permissive as <math alttext="L" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.1"><semantics id="S3.SS1.p1.4.m4.1a"><mi id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">italic_L</annotation></semantics></math> (i.e., <math alttext="L^{\prime}\sqsubseteq L" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><mrow id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><msup id="S3.SS1.p1.5.m5.1.1.2" xref="S3.SS1.p1.5.m5.1.1.2.cmml"><mi id="S3.SS1.p1.5.m5.1.1.2.2" xref="S3.SS1.p1.5.m5.1.1.2.2.cmml">L</mi><mo id="S3.SS1.p1.5.m5.1.1.2.3" xref="S3.SS1.p1.5.m5.1.1.2.3.cmml">â€²</mo></msup><mo id="S3.SS1.p1.5.m5.1.1.1" xref="S3.SS1.p1.5.m5.1.1.1.cmml">âŠ‘</mo><mi id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="latexml" id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1.1">square-image-of-or-equals</csymbol><apply id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.2.1.cmml" xref="S3.SS1.p1.5.m5.1.1.2">superscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.2.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2.2">ğ¿</ci><ci id="S3.SS1.p1.5.m5.1.1.2.3.cmml" xref="S3.SS1.p1.5.m5.1.1.2.3">â€²</ci></apply><ci id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3">ğ¿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">L^{\prime}\sqsubseteq L</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT âŠ‘ italic_L</annotation></semantics></math>), we define the <math alttext="L^{\prime}" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.1"><semantics id="S3.SS1.p1.6.m6.1a"><msup id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">L</mi><mo id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">superscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">ğ¿</ci><ci id="S3.SS1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">L^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math>-subcontext <math alttext="C_{|L^{\prime}}" class="ltx_math_unparsed" display="inline" id="S3.SS1.p1.7.m7.1"><semantics id="S3.SS1.p1.7.m7.1a"><msub id="S3.SS1.p1.7.m7.1.1"><mi id="S3.SS1.p1.7.m7.1.1.2">C</mi><mrow id="S3.SS1.p1.7.m7.1.1.3"><mo fence="false" id="S3.SS1.p1.7.m7.1.1.3.1" rspace="0.167em" stretchy="false">|</mo><msup id="S3.SS1.p1.7.m7.1.1.3.2"><mi id="S3.SS1.p1.7.m7.1.1.3.2.2">L</mi><mo id="S3.SS1.p1.7.m7.1.1.3.2.3">â€²</mo></msup></mrow></msub><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1b">C_{|L^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.1c">italic_C start_POSTSUBSCRIPT | italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> of <math alttext="C" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m8.1"><semantics id="S3.SS1.p1.8.m8.1a"><mi id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><ci id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m8.1d">italic_C</annotation></semantics></math> as the set of all documents whose label is at or below <math alttext="L^{\prime}" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m9.1"><semantics id="S3.SS1.p1.9.m9.1a"><msup id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml"><mi id="S3.SS1.p1.9.m9.1.1.2" xref="S3.SS1.p1.9.m9.1.1.2.cmml">L</mi><mo id="S3.SS1.p1.9.m9.1.1.3" xref="S3.SS1.p1.9.m9.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.1b"><apply id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.1.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1">superscript</csymbol><ci id="S3.SS1.p1.9.m9.1.1.2.cmml" xref="S3.SS1.p1.9.m9.1.1.2">ğ¿</ci><ci id="S3.SS1.p1.9.m9.1.1.3.cmml" xref="S3.SS1.p1.9.m9.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.1c">L^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m9.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math>, i.e., <math alttext="C_{|L^{\prime}}=\{c\in C\mid\ell(c)\sqsubseteq L^{\prime}\}" class="ltx_math_unparsed" display="inline" id="S3.SS1.p1.10.m10.3"><semantics id="S3.SS1.p1.10.m10.3a"><mrow id="S3.SS1.p1.10.m10.3.3"><msub id="S3.SS1.p1.10.m10.3.3.4"><mi id="S3.SS1.p1.10.m10.3.3.4.2">C</mi><mrow id="S3.SS1.p1.10.m10.3.3.4.3"><mo fence="false" id="S3.SS1.p1.10.m10.3.3.4.3.1" rspace="0.167em" stretchy="false">|</mo><msup id="S3.SS1.p1.10.m10.3.3.4.3.2"><mi id="S3.SS1.p1.10.m10.3.3.4.3.2.2">L</mi><mo id="S3.SS1.p1.10.m10.3.3.4.3.2.3">â€²</mo></msup></mrow></msub><mo id="S3.SS1.p1.10.m10.3.3.3">=</mo><mrow id="S3.SS1.p1.10.m10.3.3.2.2"><mo id="S3.SS1.p1.10.m10.3.3.2.2.3" stretchy="false">{</mo><mrow id="S3.SS1.p1.10.m10.2.2.1.1.1"><mi id="S3.SS1.p1.10.m10.2.2.1.1.1.2">c</mi><mo id="S3.SS1.p1.10.m10.2.2.1.1.1.1">âˆˆ</mo><mi id="S3.SS1.p1.10.m10.2.2.1.1.1.3">C</mi></mrow><mo fence="true" id="S3.SS1.p1.10.m10.3.3.2.2.4" lspace="0em" rspace="0em">âˆ£</mo><mrow id="S3.SS1.p1.10.m10.3.3.2.2.2"><mrow id="S3.SS1.p1.10.m10.3.3.2.2.2.2"><mi id="S3.SS1.p1.10.m10.3.3.2.2.2.2.2" mathvariant="normal">â„“</mi><mo id="S3.SS1.p1.10.m10.3.3.2.2.2.2.1">â¢</mo><mrow id="S3.SS1.p1.10.m10.3.3.2.2.2.2.3.2"><mo id="S3.SS1.p1.10.m10.3.3.2.2.2.2.3.2.1" stretchy="false">(</mo><mi id="S3.SS1.p1.10.m10.1.1">c</mi><mo id="S3.SS1.p1.10.m10.3.3.2.2.2.2.3.2.2" stretchy="false">)</mo></mrow></mrow><mo id="S3.SS1.p1.10.m10.3.3.2.2.2.1">âŠ‘</mo><msup id="S3.SS1.p1.10.m10.3.3.2.2.2.3"><mi id="S3.SS1.p1.10.m10.3.3.2.2.2.3.2">L</mi><mo id="S3.SS1.p1.10.m10.3.3.2.2.2.3.3">â€²</mo></msup></mrow><mo id="S3.SS1.p1.10.m10.3.3.2.2.5" stretchy="false">}</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m10.3b">C_{|L^{\prime}}=\{c\in C\mid\ell(c)\sqsubseteq L^{\prime}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.10.m10.3c">italic_C start_POSTSUBSCRIPT | italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT end_POSTSUBSCRIPT = { italic_c âˆˆ italic_C âˆ£ roman_â„“ ( italic_c ) âŠ‘ italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT }</annotation></semantics></math>.
Clearly, <math alttext="C_{|L}=C" class="ltx_math_unparsed" display="inline" id="S3.SS1.p1.11.m11.1"><semantics id="S3.SS1.p1.11.m11.1a"><mrow id="S3.SS1.p1.11.m11.1.1"><msub id="S3.SS1.p1.11.m11.1.1.2"><mi id="S3.SS1.p1.11.m11.1.1.2.2">C</mi><mrow id="S3.SS1.p1.11.m11.1.1.2.3"><mo fence="false" id="S3.SS1.p1.11.m11.1.1.2.3.1" rspace="0.167em" stretchy="false">|</mo><mi id="S3.SS1.p1.11.m11.1.1.2.3.2">L</mi></mrow></msub><mo id="S3.SS1.p1.11.m11.1.1.1">=</mo><mi id="S3.SS1.p1.11.m11.1.1.3">C</mi></mrow><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m11.1b">C_{|L}=C</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.11.m11.1c">italic_C start_POSTSUBSCRIPT | italic_L end_POSTSUBSCRIPT = italic_C</annotation></semantics></math> because all the documents in <math alttext="C" class="ltx_Math" display="inline" id="S3.SS1.p1.12.m12.1"><semantics id="S3.SS1.p1.12.m12.1a"><mi id="S3.SS1.p1.12.m12.1.1" xref="S3.SS1.p1.12.m12.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m12.1b"><ci id="S3.SS1.p1.12.m12.1.1.cmml" xref="S3.SS1.p1.12.m12.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m12.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.12.m12.1d">italic_C</annotation></semantics></math> satisfy <math alttext="\ell(c)\sqsubseteq L" class="ltx_Math" display="inline" id="S3.SS1.p1.13.m13.1"><semantics id="S3.SS1.p1.13.m13.1a"><mrow id="S3.SS1.p1.13.m13.1.2" xref="S3.SS1.p1.13.m13.1.2.cmml"><mrow id="S3.SS1.p1.13.m13.1.2.2" xref="S3.SS1.p1.13.m13.1.2.2.cmml"><mi id="S3.SS1.p1.13.m13.1.2.2.2" mathvariant="normal" xref="S3.SS1.p1.13.m13.1.2.2.2.cmml">â„“</mi><mo id="S3.SS1.p1.13.m13.1.2.2.1" xref="S3.SS1.p1.13.m13.1.2.2.1.cmml">â¢</mo><mrow id="S3.SS1.p1.13.m13.1.2.2.3.2" xref="S3.SS1.p1.13.m13.1.2.2.cmml"><mo id="S3.SS1.p1.13.m13.1.2.2.3.2.1" stretchy="false" xref="S3.SS1.p1.13.m13.1.2.2.cmml">(</mo><mi id="S3.SS1.p1.13.m13.1.1" xref="S3.SS1.p1.13.m13.1.1.cmml">c</mi><mo id="S3.SS1.p1.13.m13.1.2.2.3.2.2" stretchy="false" xref="S3.SS1.p1.13.m13.1.2.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p1.13.m13.1.2.1" xref="S3.SS1.p1.13.m13.1.2.1.cmml">âŠ‘</mo><mi id="S3.SS1.p1.13.m13.1.2.3" xref="S3.SS1.p1.13.m13.1.2.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.13.m13.1b"><apply id="S3.SS1.p1.13.m13.1.2.cmml" xref="S3.SS1.p1.13.m13.1.2"><csymbol cd="latexml" id="S3.SS1.p1.13.m13.1.2.1.cmml" xref="S3.SS1.p1.13.m13.1.2.1">square-image-of-or-equals</csymbol><apply id="S3.SS1.p1.13.m13.1.2.2.cmml" xref="S3.SS1.p1.13.m13.1.2.2"><times id="S3.SS1.p1.13.m13.1.2.2.1.cmml" xref="S3.SS1.p1.13.m13.1.2.2.1"></times><ci id="S3.SS1.p1.13.m13.1.2.2.2.cmml" xref="S3.SS1.p1.13.m13.1.2.2.2">â„“</ci><ci id="S3.SS1.p1.13.m13.1.1.cmml" xref="S3.SS1.p1.13.m13.1.1">ğ‘</ci></apply><ci id="S3.SS1.p1.13.m13.1.2.3.cmml" xref="S3.SS1.p1.13.m13.1.2.3">ğ¿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m13.1c">\ell(c)\sqsubseteq L</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.13.m13.1d">roman_â„“ ( italic_c ) âŠ‘ italic_L</annotation></semantics></math> by definition.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.5">Our goal is to find labels <math alttext="L^{\prime}\sqsubseteq L" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><mrow id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><msup id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2.2" xref="S3.SS1.p2.1.m1.1.1.2.2.cmml">L</mi><mo id="S3.SS1.p2.1.m1.1.1.2.3" xref="S3.SS1.p2.1.m1.1.1.2.3.cmml">â€²</mo></msup><mo id="S3.SS1.p2.1.m1.1.1.1" xref="S3.SS1.p2.1.m1.1.1.1.cmml">âŠ‘</mo><mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="latexml" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1">square-image-of-or-equals</csymbol><apply id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.2.1.cmml" xref="S3.SS1.p2.1.m1.1.1.2">superscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.2.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2.2">ğ¿</ci><ci id="S3.SS1.p2.1.m1.1.1.2.3.cmml" xref="S3.SS1.p2.1.m1.1.1.2.3">â€²</ci></apply><ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">ğ¿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">L^{\prime}\sqsubseteq L</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT âŠ‘ italic_L</annotation></semantics></math> such that the output of the language model changes only negligibly when substituting <math alttext="C" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_C</annotation></semantics></math> with <math alttext="C_{|L^{\prime}}" class="ltx_math_unparsed" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><msub id="S3.SS1.p2.3.m3.1.1"><mi id="S3.SS1.p2.3.m3.1.1.2">C</mi><mrow id="S3.SS1.p2.3.m3.1.1.3"><mo fence="false" id="S3.SS1.p2.3.m3.1.1.3.1" rspace="0.167em" stretchy="false">|</mo><msup id="S3.SS1.p2.3.m3.1.1.3.2"><mi id="S3.SS1.p2.3.m3.1.1.3.2.2">L</mi><mo id="S3.SS1.p2.3.m3.1.1.3.2.3">â€²</mo></msup></mrow></msub><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1b">C_{|L^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1c">italic_C start_POSTSUBSCRIPT | italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>.
We capture "negligible change" by introducing a hyperparameter <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><mi id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">italic_Î»</annotation></semantics></math> and require that the utility of the modelâ€™s output under the full context drops by at most <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.1"><semantics id="S3.SS1.p2.5.m5.1a"><mi id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><ci id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.5.m5.1d">italic_Î»</annotation></semantics></math> when restricting to the subcontext.
Formally:</p>
</div>
<div class="ltx_theorem ltx_theorem_definition" id="Thmdefinition1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="Thmdefinition1.2.1.1">Definition 1</span></span><span class="ltx_text ltx_font_bold" id="Thmdefinition1.3.2"> </span>(<math alttext="\lambda" class="ltx_Math" display="inline" id="Thmdefinition1.1.m1.1"><semantics id="Thmdefinition1.1.m1.1b"><mi id="Thmdefinition1.1.m1.1.1" xref="Thmdefinition1.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="Thmdefinition1.1.m1.1c"><ci id="Thmdefinition1.1.m1.1.1.cmml" xref="Thmdefinition1.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmdefinition1.1.m1.1d">\lambda</annotation><annotation encoding="application/x-llamapun" id="Thmdefinition1.1.m1.1e">italic_Î»</annotation></semantics></math>-similar labels)<span class="ltx_text ltx_font_bold" id="Thmdefinition1.4.3">.</span>
</h6>
<div class="ltx_para" id="Thmdefinition1.p1">
<p class="ltx_p" id="Thmdefinition1.p1.9">Let <math alttext="x" class="ltx_Math" display="inline" id="Thmdefinition1.p1.1.m1.1"><semantics id="Thmdefinition1.p1.1.m1.1a"><mi id="Thmdefinition1.p1.1.m1.1.1" xref="Thmdefinition1.p1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="Thmdefinition1.p1.1.m1.1b"><ci id="Thmdefinition1.p1.1.m1.1.1.cmml" xref="Thmdefinition1.p1.1.m1.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmdefinition1.p1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="Thmdefinition1.p1.1.m1.1d">italic_x</annotation></semantics></math> be a prompt, <math alttext="y" class="ltx_Math" display="inline" id="Thmdefinition1.p1.2.m2.1"><semantics id="Thmdefinition1.p1.2.m2.1a"><mi id="Thmdefinition1.p1.2.m2.1.1" xref="Thmdefinition1.p1.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="Thmdefinition1.p1.2.m2.1b"><ci id="Thmdefinition1.p1.2.m2.1.1.cmml" xref="Thmdefinition1.p1.2.m2.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmdefinition1.p1.2.m2.1c">y</annotation><annotation encoding="application/x-llamapun" id="Thmdefinition1.p1.2.m2.1d">italic_y</annotation></semantics></math> a completion, and <math alttext="C" class="ltx_Math" display="inline" id="Thmdefinition1.p1.3.m3.1"><semantics id="Thmdefinition1.p1.3.m3.1a"><mi id="Thmdefinition1.p1.3.m3.1.1" xref="Thmdefinition1.p1.3.m3.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="Thmdefinition1.p1.3.m3.1b"><ci id="Thmdefinition1.p1.3.m3.1.1.cmml" xref="Thmdefinition1.p1.3.m3.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmdefinition1.p1.3.m3.1c">C</annotation><annotation encoding="application/x-llamapun" id="Thmdefinition1.p1.3.m3.1d">italic_C</annotation></semantics></math> a context with label <math alttext="L" class="ltx_Math" display="inline" id="Thmdefinition1.p1.4.m4.1"><semantics id="Thmdefinition1.p1.4.m4.1a"><mi id="Thmdefinition1.p1.4.m4.1.1" xref="Thmdefinition1.p1.4.m4.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="Thmdefinition1.p1.4.m4.1b"><ci id="Thmdefinition1.p1.4.m4.1.1.cmml" xref="Thmdefinition1.p1.4.m4.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmdefinition1.p1.4.m4.1c">L</annotation><annotation encoding="application/x-llamapun" id="Thmdefinition1.p1.4.m4.1d">italic_L</annotation></semantics></math>.
For a given utility metric <math alttext="U" class="ltx_Math" display="inline" id="Thmdefinition1.p1.5.m5.1"><semantics id="Thmdefinition1.p1.5.m5.1a"><mi id="Thmdefinition1.p1.5.m5.1.1" xref="Thmdefinition1.p1.5.m5.1.1.cmml">U</mi><annotation-xml encoding="MathML-Content" id="Thmdefinition1.p1.5.m5.1b"><ci id="Thmdefinition1.p1.5.m5.1.1.cmml" xref="Thmdefinition1.p1.5.m5.1.1">ğ‘ˆ</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmdefinition1.p1.5.m5.1c">U</annotation><annotation encoding="application/x-llamapun" id="Thmdefinition1.p1.5.m5.1d">italic_U</annotation></semantics></math> and hyperparameter <math alttext="\lambda\geq 0" class="ltx_Math" display="inline" id="Thmdefinition1.p1.6.m6.1"><semantics id="Thmdefinition1.p1.6.m6.1a"><mrow id="Thmdefinition1.p1.6.m6.1.1" xref="Thmdefinition1.p1.6.m6.1.1.cmml"><mi id="Thmdefinition1.p1.6.m6.1.1.2" xref="Thmdefinition1.p1.6.m6.1.1.2.cmml">Î»</mi><mo id="Thmdefinition1.p1.6.m6.1.1.1" xref="Thmdefinition1.p1.6.m6.1.1.1.cmml">â‰¥</mo><mn id="Thmdefinition1.p1.6.m6.1.1.3" xref="Thmdefinition1.p1.6.m6.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="Thmdefinition1.p1.6.m6.1b"><apply id="Thmdefinition1.p1.6.m6.1.1.cmml" xref="Thmdefinition1.p1.6.m6.1.1"><geq id="Thmdefinition1.p1.6.m6.1.1.1.cmml" xref="Thmdefinition1.p1.6.m6.1.1.1"></geq><ci id="Thmdefinition1.p1.6.m6.1.1.2.cmml" xref="Thmdefinition1.p1.6.m6.1.1.2">ğœ†</ci><cn id="Thmdefinition1.p1.6.m6.1.1.3.cmml" type="integer" xref="Thmdefinition1.p1.6.m6.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmdefinition1.p1.6.m6.1c">\lambda\geq 0</annotation><annotation encoding="application/x-llamapun" id="Thmdefinition1.p1.6.m6.1d">italic_Î» â‰¥ 0</annotation></semantics></math>, we consider another label <math alttext="L^{\prime}" class="ltx_Math" display="inline" id="Thmdefinition1.p1.7.m7.1"><semantics id="Thmdefinition1.p1.7.m7.1a"><msup id="Thmdefinition1.p1.7.m7.1.1" xref="Thmdefinition1.p1.7.m7.1.1.cmml"><mi id="Thmdefinition1.p1.7.m7.1.1.2" xref="Thmdefinition1.p1.7.m7.1.1.2.cmml">L</mi><mo id="Thmdefinition1.p1.7.m7.1.1.3" xref="Thmdefinition1.p1.7.m7.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="Thmdefinition1.p1.7.m7.1b"><apply id="Thmdefinition1.p1.7.m7.1.1.cmml" xref="Thmdefinition1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="Thmdefinition1.p1.7.m7.1.1.1.cmml" xref="Thmdefinition1.p1.7.m7.1.1">superscript</csymbol><ci id="Thmdefinition1.p1.7.m7.1.1.2.cmml" xref="Thmdefinition1.p1.7.m7.1.1.2">ğ¿</ci><ci id="Thmdefinition1.p1.7.m7.1.1.3.cmml" xref="Thmdefinition1.p1.7.m7.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmdefinition1.p1.7.m7.1c">L^{\prime}</annotation><annotation encoding="application/x-llamapun" id="Thmdefinition1.p1.7.m7.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math> to be <math alttext="\lambda" class="ltx_Math" display="inline" id="Thmdefinition1.p1.8.m8.1"><semantics id="Thmdefinition1.p1.8.m8.1a"><mi id="Thmdefinition1.p1.8.m8.1.1" xref="Thmdefinition1.p1.8.m8.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="Thmdefinition1.p1.8.m8.1b"><ci id="Thmdefinition1.p1.8.m8.1.1.cmml" xref="Thmdefinition1.p1.8.m8.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmdefinition1.p1.8.m8.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="Thmdefinition1.p1.8.m8.1d">italic_Î»</annotation></semantics></math>-<span class="ltx_text ltx_font_italic" id="Thmdefinition1.p1.9.1">similar</span> to <math alttext="L" class="ltx_Math" display="inline" id="Thmdefinition1.p1.9.m9.1"><semantics id="Thmdefinition1.p1.9.m9.1a"><mi id="Thmdefinition1.p1.9.m9.1.1" xref="Thmdefinition1.p1.9.m9.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="Thmdefinition1.p1.9.m9.1b"><ci id="Thmdefinition1.p1.9.m9.1.1.cmml" xref="Thmdefinition1.p1.9.m9.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmdefinition1.p1.9.m9.1c">L</annotation><annotation encoding="application/x-llamapun" id="Thmdefinition1.p1.9.m9.1d">italic_L</annotation></semantics></math> if</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="U(p_{\text{LM}}(y|x,C))-U(p_{\text{LM}}(y|x,C_{|L^{\prime}}))\leq\lambda\;." class="ltx_math_unparsed" display="block" id="S3.E1.m1.4"><semantics id="S3.E1.m1.4a"><mrow id="S3.E1.m1.4.4.1"><mrow id="S3.E1.m1.4.4.1.1"><mrow id="S3.E1.m1.4.4.1.1.2"><mrow id="S3.E1.m1.4.4.1.1.1.1"><mi id="S3.E1.m1.4.4.1.1.1.1.3">U</mi><mo id="S3.E1.m1.4.4.1.1.1.1.2">â¢</mo><mrow id="S3.E1.m1.4.4.1.1.1.1.1.1"><mo id="S3.E1.m1.4.4.1.1.1.1.1.1.2" stretchy="false">(</mo><mrow id="S3.E1.m1.4.4.1.1.1.1.1.1.1"><msub id="S3.E1.m1.4.4.1.1.1.1.1.1.1.3"><mi id="S3.E1.m1.4.4.1.1.1.1.1.1.1.3.2">p</mi><mtext id="S3.E1.m1.4.4.1.1.1.1.1.1.1.3.3">LM</mtext></msub><mo id="S3.E1.m1.4.4.1.1.1.1.1.1.1.2">â¢</mo><mrow id="S3.E1.m1.4.4.1.1.1.1.1.1.1.1.1"><mo id="S3.E1.m1.4.4.1.1.1.1.1.1.1.1.1.2" stretchy="false">(</mo><mrow id="S3.E1.m1.4.4.1.1.1.1.1.1.1.1.1.1"><mi id="S3.E1.m1.4.4.1.1.1.1.1.1.1.1.1.1.2">y</mi><mo fence="false" id="S3.E1.m1.4.4.1.1.1.1.1.1.1.1.1.1.1">|</mo><mrow id="S3.E1.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2"><mi id="S3.E1.m1.1.1">x</mi><mo id="S3.E1.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.1">,</mo><mi id="S3.E1.m1.2.2">C</mi></mrow></mrow><mo id="S3.E1.m1.4.4.1.1.1.1.1.1.1.1.1.3" stretchy="false">)</mo></mrow></mrow><mo id="S3.E1.m1.4.4.1.1.1.1.1.1.3" stretchy="false">)</mo></mrow></mrow><mo id="S3.E1.m1.4.4.1.1.2.3">âˆ’</mo><mrow id="S3.E1.m1.4.4.1.1.2.2"><mi id="S3.E1.m1.4.4.1.1.2.2.3">U</mi><mo id="S3.E1.m1.4.4.1.1.2.2.2">â¢</mo><mrow id="S3.E1.m1.4.4.1.1.2.2.1.1"><mo id="S3.E1.m1.4.4.1.1.2.2.1.1.2" stretchy="false">(</mo><mrow id="S3.E1.m1.4.4.1.1.2.2.1.1.1"><msub id="S3.E1.m1.4.4.1.1.2.2.1.1.1.3"><mi id="S3.E1.m1.4.4.1.1.2.2.1.1.1.3.2">p</mi><mtext id="S3.E1.m1.4.4.1.1.2.2.1.1.1.3.3">LM</mtext></msub><mo id="S3.E1.m1.4.4.1.1.2.2.1.1.1.2">â¢</mo><mrow id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1"><mo id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.2" stretchy="false">(</mo><mrow id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1"><mi id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.3">y</mi><mo fence="false" id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.2">|</mo><mrow id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.1.1"><mi id="S3.E1.m1.3.3">x</mi><mo id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.1.1.2">,</mo><msub id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.1.1.1"><mi id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.1.1.1.2">C</mi><mrow id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.1.1.1.3"><mo fence="false" id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.1.1.1.3.1" rspace="0.167em" stretchy="false">|</mo><msup id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.1.1.1.3.2"><mi id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.1.1.1.3.2.2">L</mi><mo id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.1.1.1.1.3.2.3">â€²</mo></msup></mrow></msub></mrow></mrow><mo id="S3.E1.m1.4.4.1.1.2.2.1.1.1.1.1.3" stretchy="false">)</mo></mrow></mrow><mo id="S3.E1.m1.4.4.1.1.2.2.1.1.3" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.4.4.1.1.3">â‰¤</mo><mi id="S3.E1.m1.4.4.1.1.4">Î»</mi></mrow><mo id="S3.E1.m1.4.4.1.2">.</mo></mrow><annotation encoding="application/x-tex" id="S3.E1.m1.4b">U(p_{\text{LM}}(y|x,C))-U(p_{\text{LM}}(y|x,C_{|L^{\prime}}))\leq\lambda\;.</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.4c">italic_U ( italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C ) ) - italic_U ( italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C start_POSTSUBSCRIPT | italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT end_POSTSUBSCRIPT ) ) â‰¤ italic_Î» .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
</div>
<div class="ltx_para" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.1">Note that <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS1.p3.1.m1.1"><semantics id="S3.SS1.p3.1.m1.1a"><mi id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.1.m1.1d">italic_Î»</annotation></semantics></math>-similarity is not an equivalence relation because it is not symmetric or transitive.</p>
</div>
<div class="ltx_para" id="S3.SS1.p4">
<p class="ltx_p" id="S3.SS1.p4.2">DefinitionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#Thmdefinition1" title="Definition 1 (ğœ†-similar labels). â€£ III-A ğœ†-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> leaves the choice of the utility function <math alttext="U" class="ltx_Math" display="inline" id="S3.SS1.p4.1.m1.1"><semantics id="S3.SS1.p4.1.m1.1a"><mi id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml">U</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><ci id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">ğ‘ˆ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">U</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.1.m1.1d">italic_U</annotation></semantics></math> and the language model <math alttext="p_{\text{LM}}(y|x,C)" class="ltx_Math" display="inline" id="S3.SS1.p4.2.m2.3"><semantics id="S3.SS1.p4.2.m2.3a"><mrow id="S3.SS1.p4.2.m2.3.3" xref="S3.SS1.p4.2.m2.3.3.cmml"><msub id="S3.SS1.p4.2.m2.3.3.3" xref="S3.SS1.p4.2.m2.3.3.3.cmml"><mi id="S3.SS1.p4.2.m2.3.3.3.2" xref="S3.SS1.p4.2.m2.3.3.3.2.cmml">p</mi><mtext id="S3.SS1.p4.2.m2.3.3.3.3" xref="S3.SS1.p4.2.m2.3.3.3.3a.cmml">LM</mtext></msub><mo id="S3.SS1.p4.2.m2.3.3.2" xref="S3.SS1.p4.2.m2.3.3.2.cmml">â¢</mo><mrow id="S3.SS1.p4.2.m2.3.3.1.1" xref="S3.SS1.p4.2.m2.3.3.1.1.1.cmml"><mo id="S3.SS1.p4.2.m2.3.3.1.1.2" stretchy="false" xref="S3.SS1.p4.2.m2.3.3.1.1.1.cmml">(</mo><mrow id="S3.SS1.p4.2.m2.3.3.1.1.1" xref="S3.SS1.p4.2.m2.3.3.1.1.1.cmml"><mi id="S3.SS1.p4.2.m2.3.3.1.1.1.2" xref="S3.SS1.p4.2.m2.3.3.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.SS1.p4.2.m2.3.3.1.1.1.1" xref="S3.SS1.p4.2.m2.3.3.1.1.1.1.cmml">|</mo><mrow id="S3.SS1.p4.2.m2.3.3.1.1.1.3.2" xref="S3.SS1.p4.2.m2.3.3.1.1.1.3.1.cmml"><mi id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml">x</mi><mo id="S3.SS1.p4.2.m2.3.3.1.1.1.3.2.1" xref="S3.SS1.p4.2.m2.3.3.1.1.1.3.1.cmml">,</mo><mi id="S3.SS1.p4.2.m2.2.2" xref="S3.SS1.p4.2.m2.2.2.cmml">C</mi></mrow></mrow><mo id="S3.SS1.p4.2.m2.3.3.1.1.3" stretchy="false" xref="S3.SS1.p4.2.m2.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.3b"><apply id="S3.SS1.p4.2.m2.3.3.cmml" xref="S3.SS1.p4.2.m2.3.3"><times id="S3.SS1.p4.2.m2.3.3.2.cmml" xref="S3.SS1.p4.2.m2.3.3.2"></times><apply id="S3.SS1.p4.2.m2.3.3.3.cmml" xref="S3.SS1.p4.2.m2.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p4.2.m2.3.3.3.1.cmml" xref="S3.SS1.p4.2.m2.3.3.3">subscript</csymbol><ci id="S3.SS1.p4.2.m2.3.3.3.2.cmml" xref="S3.SS1.p4.2.m2.3.3.3.2">ğ‘</ci><ci id="S3.SS1.p4.2.m2.3.3.3.3a.cmml" xref="S3.SS1.p4.2.m2.3.3.3.3"><mtext id="S3.SS1.p4.2.m2.3.3.3.3.cmml" mathsize="70%" xref="S3.SS1.p4.2.m2.3.3.3.3">LM</mtext></ci></apply><apply id="S3.SS1.p4.2.m2.3.3.1.1.1.cmml" xref="S3.SS1.p4.2.m2.3.3.1.1"><csymbol cd="latexml" id="S3.SS1.p4.2.m2.3.3.1.1.1.1.cmml" xref="S3.SS1.p4.2.m2.3.3.1.1.1.1">conditional</csymbol><ci id="S3.SS1.p4.2.m2.3.3.1.1.1.2.cmml" xref="S3.SS1.p4.2.m2.3.3.1.1.1.2">ğ‘¦</ci><list id="S3.SS1.p4.2.m2.3.3.1.1.1.3.1.cmml" xref="S3.SS1.p4.2.m2.3.3.1.1.1.3.2"><ci id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">ğ‘¥</ci><ci id="S3.SS1.p4.2.m2.2.2.cmml" xref="S3.SS1.p4.2.m2.2.2">ğ¶</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.3c">p_{\text{LM}}(y|x,C)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.2.m2.3d">italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C )</annotation></semantics></math> unspecified, as different applications require custom choices of these functions.
In this paper, we focus on language modeling where <span class="ltx_text ltx_font_italic" id="S3.SS1.p4.2.1">perplexity</span> is a common way to measure utilityÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib25" title="">25</a>]</cite>.
Hence, for the remainder of this paper, we compute utility as the negative perplexity:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="U(p_{\text{LM}}(y|x,C))=-\left(\prod_{i=1}^{|y|}p_{\text{LM}}(y_{i}|x,C,y_{&lt;i}%
)\right)^{-1/|y|}\;." class="ltx_Math" display="block" id="S3.E2.m1.7"><semantics id="S3.E2.m1.7a"><mrow id="S3.E2.m1.7.7.1" xref="S3.E2.m1.7.7.1.1.cmml"><mrow id="S3.E2.m1.7.7.1.1" xref="S3.E2.m1.7.7.1.1.cmml"><mrow id="S3.E2.m1.7.7.1.1.1" xref="S3.E2.m1.7.7.1.1.1.cmml"><mi id="S3.E2.m1.7.7.1.1.1.3" xref="S3.E2.m1.7.7.1.1.1.3.cmml">U</mi><mo id="S3.E2.m1.7.7.1.1.1.2" xref="S3.E2.m1.7.7.1.1.1.2.cmml">â¢</mo><mrow id="S3.E2.m1.7.7.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.7.7.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.7.7.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.7.7.1.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.1.1.1.1.cmml"><msub id="S3.E2.m1.7.7.1.1.1.1.1.1.3" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.7.7.1.1.1.1.1.1.3.2" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.2.cmml">p</mi><mtext id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3a.cmml">LM</mtext></msub><mo id="S3.E2.m1.7.7.1.1.1.1.1.1.2" xref="S3.E2.m1.7.7.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.cmml"><mi id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml">x</mi><mo id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3.2.1" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.cmml">,</mo><mi id="S3.E2.m1.4.4" xref="S3.E2.m1.4.4.cmml">C</mi></mrow></mrow><mo id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.7.7.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.7.7.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.7.7.1.1.3" xref="S3.E2.m1.7.7.1.1.3.cmml">=</mo><mrow id="S3.E2.m1.7.7.1.1.2" xref="S3.E2.m1.7.7.1.1.2.cmml"><mo id="S3.E2.m1.7.7.1.1.2a" xref="S3.E2.m1.7.7.1.1.2.cmml">âˆ’</mo><msup id="S3.E2.m1.7.7.1.1.2.1" xref="S3.E2.m1.7.7.1.1.2.1.cmml"><mrow id="S3.E2.m1.7.7.1.1.2.1.1.1" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.cmml"><mo id="S3.E2.m1.7.7.1.1.2.1.1.1.2" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.7.7.1.1.2.1.1.1.1" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.cmml"><munderover id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.cmml"><mo id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.2" lspace="0em" movablelimits="false" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.2.cmml">âˆ</mo><mrow id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.cmml"><mi id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.2" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.1" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.3" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.E2.m1.1.1.1.3" xref="S3.E2.m1.1.1.1.2.cmml"><mo id="S3.E2.m1.1.1.1.3.1" stretchy="false" xref="S3.E2.m1.1.1.1.2.1.cmml">|</mo><mi id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml">y</mi><mo id="S3.E2.m1.1.1.1.3.2" stretchy="false" xref="S3.E2.m1.1.1.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.cmml"><msub id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.2" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.2.cmml">p</mi><mtext id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.3" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.3a.cmml">LM</mtext></msub><mo id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.2" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.2.cmml">y</mi><mi id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub><mo fence="false" id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E2.m1.5.5" xref="S3.E2.m1.5.5.cmml">x</mi><mo id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E2.m1.6.6" xref="S3.E2.m1.6.6.cmml">C</mi><mo id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><msub id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></mrow></msub></mrow></mrow><mo id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2.m1.7.7.1.1.2.1.1.1.3" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.cmml">)</mo></mrow><mrow id="S3.E2.m1.2.2.1" xref="S3.E2.m1.2.2.1.cmml"><mo id="S3.E2.m1.2.2.1a" xref="S3.E2.m1.2.2.1.cmml">âˆ’</mo><mrow id="S3.E2.m1.2.2.1.3" xref="S3.E2.m1.2.2.1.3.cmml"><mn id="S3.E2.m1.2.2.1.3.2" xref="S3.E2.m1.2.2.1.3.2.cmml">1</mn><mo id="S3.E2.m1.2.2.1.3.1" xref="S3.E2.m1.2.2.1.3.1.cmml">/</mo><mrow id="S3.E2.m1.2.2.1.3.3.2" xref="S3.E2.m1.2.2.1.3.3.1.cmml"><mo id="S3.E2.m1.2.2.1.3.3.2.1" stretchy="false" xref="S3.E2.m1.2.2.1.3.3.1.1.cmml">|</mo><mi id="S3.E2.m1.2.2.1.1" xref="S3.E2.m1.2.2.1.1.cmml">y</mi><mo id="S3.E2.m1.2.2.1.3.3.2.2" stretchy="false" xref="S3.E2.m1.2.2.1.3.3.1.1.cmml">|</mo></mrow></mrow></mrow></msup></mrow></mrow><mo id="S3.E2.m1.7.7.1.2" lspace="0em" xref="S3.E2.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.7b"><apply id="S3.E2.m1.7.7.1.1.cmml" xref="S3.E2.m1.7.7.1"><eq id="S3.E2.m1.7.7.1.1.3.cmml" xref="S3.E2.m1.7.7.1.1.3"></eq><apply id="S3.E2.m1.7.7.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.1"><times id="S3.E2.m1.7.7.1.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.1.2"></times><ci id="S3.E2.m1.7.7.1.1.1.3.cmml" xref="S3.E2.m1.7.7.1.1.1.3">ğ‘ˆ</ci><apply id="S3.E2.m1.7.7.1.1.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1"><times id="S3.E2.m1.7.7.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.2"></times><apply id="S3.E2.m1.7.7.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.2">ğ‘</ci><ci id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3a.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3"><mtext id="S3.E2.m1.7.7.1.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="S3.E2.m1.7.7.1.1.1.1.1.1.3.3">LM</mtext></ci></apply><apply id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.2">ğ‘¦</ci><list id="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.7.7.1.1.1.1.1.1.1.1.1.3.2"><ci id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3">ğ‘¥</ci><ci id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4">ğ¶</ci></list></apply></apply></apply><apply id="S3.E2.m1.7.7.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.2"><minus id="S3.E2.m1.7.7.1.1.2.2.cmml" xref="S3.E2.m1.7.7.1.1.2"></minus><apply id="S3.E2.m1.7.7.1.1.2.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.2.1.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1">superscript</csymbol><apply id="S3.E2.m1.7.7.1.1.2.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1"><apply id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2">superscript</csymbol><apply id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2">subscript</csymbol><csymbol cd="latexml" id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.2">product</csymbol><apply id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3"><eq id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.1"></eq><ci id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.2">ğ‘–</ci><cn id="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.3"><abs id="S3.E2.m1.1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.1.3.1"></abs><ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">ğ‘¦</ci></apply></apply><apply id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1"><times id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.2"></times><apply id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.2">ğ‘</ci><ci id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.3a.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.3"><mtext id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.3.3">LM</mtext></ci></apply><apply id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.2">ğ‘¦</ci><ci id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.3.3">ğ‘–</ci></apply><list id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1"><ci id="S3.E2.m1.5.5.cmml" xref="S3.E2.m1.5.5">ğ‘¥</ci><ci id="S3.E2.m1.6.6.cmml" xref="S3.E2.m1.6.6">ğ¶</ci><apply id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘¦</ci><apply id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3"><lt id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.1.1.1.3.3">ğ‘–</ci></apply></apply></list></apply></apply></apply><apply id="S3.E2.m1.2.2.1.cmml" xref="S3.E2.m1.2.2.1"><minus id="S3.E2.m1.2.2.1.2.cmml" xref="S3.E2.m1.2.2.1"></minus><apply id="S3.E2.m1.2.2.1.3.cmml" xref="S3.E2.m1.2.2.1.3"><divide id="S3.E2.m1.2.2.1.3.1.cmml" xref="S3.E2.m1.2.2.1.3.1"></divide><cn id="S3.E2.m1.2.2.1.3.2.cmml" type="integer" xref="S3.E2.m1.2.2.1.3.2">1</cn><apply id="S3.E2.m1.2.2.1.3.3.1.cmml" xref="S3.E2.m1.2.2.1.3.3.2"><abs id="S3.E2.m1.2.2.1.3.3.1.1.cmml" xref="S3.E2.m1.2.2.1.3.3.2.1"></abs><ci id="S3.E2.m1.2.2.1.1.cmml" xref="S3.E2.m1.2.2.1.1">ğ‘¦</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.7c">U(p_{\text{LM}}(y|x,C))=-\left(\prod_{i=1}^{|y|}p_{\text{LM}}(y_{i}|x,C,y_{&lt;i}%
)\right)^{-1/|y|}\;.</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.7d">italic_U ( italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C ) ) = - ( âˆ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | italic_y | end_POSTSUPERSCRIPT italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_x , italic_C , italic_y start_POSTSUBSCRIPT &lt; italic_i end_POSTSUBSCRIPT ) ) start_POSTSUPERSCRIPT - 1 / | italic_y | end_POSTSUPERSCRIPT .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS2.6.2.1">III-B</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS2.1.1">Computing <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS2.1.1.m1.1"><semantics id="S3.SS2.1.1.m1.1b"><mi id="S3.SS2.1.1.m1.1.1" xref="S3.SS2.1.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.1.1.m1.1c"><ci id="S3.SS2.1.1.m1.1.1.cmml" xref="S3.SS2.1.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.1.1.m1.1d">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.1.1.m1.1e">italic_Î»</annotation></semantics></math>-similar Labels</span>
</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.3">We describe our algorithm for identifying <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">italic_Î»</annotation></semantics></math>-similar labels and their contexts.
As we observed before, it is not necessary to iterate over all subsets of the context: it suffices to iterate over all labels below the full contextâ€™s label and consider their corresponding subcontexts.
Technically, we iterate over the powerset of <math alttext="\mathcal{P}(\{\bigsqcup_{c\in C^{\prime}}\ell(c)\mid C^{\prime}\subseteq C\})" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.2"><semantics id="S3.SS2.p1.2.m2.2a"><mrow id="S3.SS2.p1.2.m2.2.2" xref="S3.SS2.p1.2.m2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.2.m2.2.2.3" xref="S3.SS2.p1.2.m2.2.2.3.cmml">ğ’«</mi><mo id="S3.SS2.p1.2.m2.2.2.2" xref="S3.SS2.p1.2.m2.2.2.2.cmml">â¢</mo><mrow id="S3.SS2.p1.2.m2.2.2.1.1" xref="S3.SS2.p1.2.m2.2.2.cmml"><mo id="S3.SS2.p1.2.m2.2.2.1.1.2" stretchy="false" xref="S3.SS2.p1.2.m2.2.2.cmml">(</mo><mrow id="S3.SS2.p1.2.m2.2.2.1.1.1.2" xref="S3.SS2.p1.2.m2.2.2.1.1.1.3.cmml"><mo id="S3.SS2.p1.2.m2.2.2.1.1.1.2.3" stretchy="false" xref="S3.SS2.p1.2.m2.2.2.1.1.1.3.1.cmml">{</mo><mrow id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.cmml"><msub id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.cmml"><mo id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.2" lspace="0em" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.2.cmml">â¨†</mo><mrow id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.2" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.2.cmml">c</mi><mo id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.1" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.1.cmml">âˆˆ</mo><msup id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.cmml"><mi id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.2" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.2.cmml">C</mi><mo id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.3" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.3.cmml">â€²</mo></msup></mrow></msub><mrow id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.cmml"><mi id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.2" mathvariant="normal" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.2.cmml">â„“</mi><mo id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.1" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.1.cmml">â¢</mo><mrow id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.3.2" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.cmml"><mo id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.3.2.1" stretchy="false" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.cmml">(</mo><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">c</mi><mo id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.3.2.2" stretchy="false" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo fence="true" id="S3.SS2.p1.2.m2.2.2.1.1.1.2.4" lspace="0em" rspace="0em" xref="S3.SS2.p1.2.m2.2.2.1.1.1.3.1.cmml">âˆ£</mo><mrow id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.cmml"><msup id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.cmml"><mi id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.2" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.2.cmml">C</mi><mo id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.3" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.3.cmml">â€²</mo></msup><mo id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.1" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.1.cmml">âŠ†</mo><mi id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.3" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.3.cmml">C</mi></mrow><mo id="S3.SS2.p1.2.m2.2.2.1.1.1.2.5" stretchy="false" xref="S3.SS2.p1.2.m2.2.2.1.1.1.3.1.cmml">}</mo></mrow><mo id="S3.SS2.p1.2.m2.2.2.1.1.3" stretchy="false" xref="S3.SS2.p1.2.m2.2.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.2b"><apply id="S3.SS2.p1.2.m2.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2"><times id="S3.SS2.p1.2.m2.2.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2.2"></times><ci id="S3.SS2.p1.2.m2.2.2.3.cmml" xref="S3.SS2.p1.2.m2.2.2.3">ğ’«</ci><apply id="S3.SS2.p1.2.m2.2.2.1.1.1.3.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2"><csymbol cd="latexml" id="S3.SS2.p1.2.m2.2.2.1.1.1.3.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.3">conditional-set</csymbol><apply id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1"><apply id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1">subscript</csymbol><csymbol cd="latexml" id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.2">square-union</csymbol><apply id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3"><in id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.1"></in><ci id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.2">ğ‘</ci><apply id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3">superscript</csymbol><ci id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.2.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.2">ğ¶</ci><ci id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.3.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.3">â€²</ci></apply></apply></apply><apply id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2"><times id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.1"></times><ci id="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.1.1.2.2">â„“</ci><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">ğ‘</ci></apply></apply><apply id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2"><subset id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.1"></subset><apply id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2">superscript</csymbol><ci id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.2">ğ¶</ci><ci id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.3.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.2.3">â€²</ci></apply><ci id="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.3.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.1.2.2.3">ğ¶</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.2c">\mathcal{P}(\{\bigsqcup_{c\in C^{\prime}}\ell(c)\mid C^{\prime}\subseteq C\})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.2d">caligraphic_P ( { â¨† start_POSTSUBSCRIPT italic_c âˆˆ italic_C start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT end_POSTSUBSCRIPT roman_â„“ ( italic_c ) âˆ£ italic_C start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT âŠ† italic_C } )</annotation></semantics></math> of possible output labels and we compute the similarity of the corresponding subcontexts to the full context.
Note that the set of labels considered is based on documents in the context; it is finite even when the full lattice of labels <math alttext="\mathcal{L}" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1"><semantics id="S3.SS2.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">â„’</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">â„’</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.1d">caligraphic_L</annotation></semantics></math> is infinite (e.g. timestamps).</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.8">AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> describes this idea in pseudocode.
We represent the powerset of possible labels as a directed acyclic graph (DAG) where nodes represent labels and edges represent the lattice order <math alttext="\sqsubseteq" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mo id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">âŠ‘</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><csymbol cd="latexml" id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">square-image-of-or-equals</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">\sqsubseteq</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">âŠ‘</annotation></semantics></math> (see FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S2.F2" title="Figure 2 â€£ II-A Information-Flow Labels â€£ II Problem Setting and Goal â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">2</span></a> for an illustration).
Starting from the root node <math alttext="L=\bigsqcup_{c\in C}\ell(c)" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mrow id="S3.SS2.p2.2.m2.1.2" xref="S3.SS2.p2.2.m2.1.2.cmml"><mi id="S3.SS2.p2.2.m2.1.2.2" xref="S3.SS2.p2.2.m2.1.2.2.cmml">L</mi><mo id="S3.SS2.p2.2.m2.1.2.1" rspace="0.111em" xref="S3.SS2.p2.2.m2.1.2.1.cmml">=</mo><mrow id="S3.SS2.p2.2.m2.1.2.3" xref="S3.SS2.p2.2.m2.1.2.3.cmml"><msub id="S3.SS2.p2.2.m2.1.2.3.1" xref="S3.SS2.p2.2.m2.1.2.3.1.cmml"><mo id="S3.SS2.p2.2.m2.1.2.3.1.2" xref="S3.SS2.p2.2.m2.1.2.3.1.2.cmml">â¨†</mo><mrow id="S3.SS2.p2.2.m2.1.2.3.1.3" xref="S3.SS2.p2.2.m2.1.2.3.1.3.cmml"><mi id="S3.SS2.p2.2.m2.1.2.3.1.3.2" xref="S3.SS2.p2.2.m2.1.2.3.1.3.2.cmml">c</mi><mo id="S3.SS2.p2.2.m2.1.2.3.1.3.1" xref="S3.SS2.p2.2.m2.1.2.3.1.3.1.cmml">âˆˆ</mo><mi id="S3.SS2.p2.2.m2.1.2.3.1.3.3" xref="S3.SS2.p2.2.m2.1.2.3.1.3.3.cmml">C</mi></mrow></msub><mrow id="S3.SS2.p2.2.m2.1.2.3.2" xref="S3.SS2.p2.2.m2.1.2.3.2.cmml"><mi id="S3.SS2.p2.2.m2.1.2.3.2.2" mathvariant="normal" xref="S3.SS2.p2.2.m2.1.2.3.2.2.cmml">â„“</mi><mo id="S3.SS2.p2.2.m2.1.2.3.2.1" xref="S3.SS2.p2.2.m2.1.2.3.2.1.cmml">â¢</mo><mrow id="S3.SS2.p2.2.m2.1.2.3.2.3.2" xref="S3.SS2.p2.2.m2.1.2.3.2.cmml"><mo id="S3.SS2.p2.2.m2.1.2.3.2.3.2.1" stretchy="false" xref="S3.SS2.p2.2.m2.1.2.3.2.cmml">(</mo><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">c</mi><mo id="S3.SS2.p2.2.m2.1.2.3.2.3.2.2" stretchy="false" xref="S3.SS2.p2.2.m2.1.2.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.2.cmml" xref="S3.SS2.p2.2.m2.1.2"><eq id="S3.SS2.p2.2.m2.1.2.1.cmml" xref="S3.SS2.p2.2.m2.1.2.1"></eq><ci id="S3.SS2.p2.2.m2.1.2.2.cmml" xref="S3.SS2.p2.2.m2.1.2.2">ğ¿</ci><apply id="S3.SS2.p2.2.m2.1.2.3.cmml" xref="S3.SS2.p2.2.m2.1.2.3"><apply id="S3.SS2.p2.2.m2.1.2.3.1.cmml" xref="S3.SS2.p2.2.m2.1.2.3.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.2.3.1.1.cmml" xref="S3.SS2.p2.2.m2.1.2.3.1">subscript</csymbol><csymbol cd="latexml" id="S3.SS2.p2.2.m2.1.2.3.1.2.cmml" xref="S3.SS2.p2.2.m2.1.2.3.1.2">square-union</csymbol><apply id="S3.SS2.p2.2.m2.1.2.3.1.3.cmml" xref="S3.SS2.p2.2.m2.1.2.3.1.3"><in id="S3.SS2.p2.2.m2.1.2.3.1.3.1.cmml" xref="S3.SS2.p2.2.m2.1.2.3.1.3.1"></in><ci id="S3.SS2.p2.2.m2.1.2.3.1.3.2.cmml" xref="S3.SS2.p2.2.m2.1.2.3.1.3.2">ğ‘</ci><ci id="S3.SS2.p2.2.m2.1.2.3.1.3.3.cmml" xref="S3.SS2.p2.2.m2.1.2.3.1.3.3">ğ¶</ci></apply></apply><apply id="S3.SS2.p2.2.m2.1.2.3.2.cmml" xref="S3.SS2.p2.2.m2.1.2.3.2"><times id="S3.SS2.p2.2.m2.1.2.3.2.1.cmml" xref="S3.SS2.p2.2.m2.1.2.3.2.1"></times><ci id="S3.SS2.p2.2.m2.1.2.3.2.2.cmml" xref="S3.SS2.p2.2.m2.1.2.3.2.2">â„“</ci><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">ğ‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">L=\bigsqcup_{c\in C}\ell(c)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_L = â¨† start_POSTSUBSCRIPT italic_c âˆˆ italic_C end_POSTSUBSCRIPT roman_â„“ ( italic_c )</annotation></semantics></math> that corresponds to the full context, we traverse the DAG depth-first to identify <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><mi id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><ci id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">italic_Î»</annotation></semantics></math>-similar labels.
For each label <math alttext="L" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.1"><semantics id="S3.SS2.p2.4.m4.1a"><mi id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><ci id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m4.1d">italic_L</annotation></semantics></math>, the function <span class="ltx_text ltx_font_typewriter" id="S3.SS2.p2.8.1">minimal_labels(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="S3.SS2.p2.8.1.1"></em>)</span> returns <math alttext="\Lambda" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m5.1"><semantics id="S3.SS2.p2.5.m5.1a"><mi id="S3.SS2.p2.5.m5.1.1" mathvariant="normal" xref="S3.SS2.p2.5.m5.1.1.cmml">Î›</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><ci id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">Î›</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">\Lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m5.1d">roman_Î›</annotation></semantics></math>, the set of <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m6.1"><semantics id="S3.SS2.p2.6.m6.1a"><mi id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><ci id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m6.1d">italic_Î»</annotation></semantics></math>-similar labels at or below <math alttext="L" class="ltx_Math" display="inline" id="S3.SS2.p2.7.m7.1"><semantics id="S3.SS2.p2.7.m7.1a"><mi id="S3.SS2.p2.7.m7.1.1" xref="S3.SS2.p2.7.m7.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m7.1b"><ci id="S3.SS2.p2.7.m7.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m7.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.7.m7.1d">italic_L</annotation></semantics></math> (i.e., at least as permissive as <math alttext="L" class="ltx_Math" display="inline" id="S3.SS2.p2.8.m8.1"><semantics id="S3.SS2.p2.8.m8.1a"><mi id="S3.SS2.p2.8.m8.1.1" xref="S3.SS2.p2.8.m8.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m8.1b"><ci id="S3.SS2.p2.8.m8.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m8.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.8.m8.1d">italic_L</annotation></semantics></math>).</p>
</div>
<figure class="ltx_float ltx_algorithm" id="algorithm1">
<div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="algorithm1.21">
<div class="ltx_listingline" id="algorithm1.4.2">
<span class="ltx_text" id="algorithm1.4.2.1"><span class="ltx_text ltx_font_bold" id="algorithm1.4.2.1.1">parameter:</span> </span>language model <math alttext="p_{\text{LM}}" class="ltx_Math" display="inline" id="algorithm1.3.1.m1.1"><semantics id="algorithm1.3.1.m1.1a"><msub id="algorithm1.3.1.m1.1.1" xref="algorithm1.3.1.m1.1.1.cmml"><mi id="algorithm1.3.1.m1.1.1.2" xref="algorithm1.3.1.m1.1.1.2.cmml">p</mi><mtext id="algorithm1.3.1.m1.1.1.3" xref="algorithm1.3.1.m1.1.1.3a.cmml">LM</mtext></msub><annotation-xml encoding="MathML-Content" id="algorithm1.3.1.m1.1b"><apply id="algorithm1.3.1.m1.1.1.cmml" xref="algorithm1.3.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.3.1.m1.1.1.1.cmml" xref="algorithm1.3.1.m1.1.1">subscript</csymbol><ci id="algorithm1.3.1.m1.1.1.2.cmml" xref="algorithm1.3.1.m1.1.1.2">ğ‘</ci><ci id="algorithm1.3.1.m1.1.1.3a.cmml" xref="algorithm1.3.1.m1.1.1.3"><mtext id="algorithm1.3.1.m1.1.1.3.cmml" mathsize="70%" xref="algorithm1.3.1.m1.1.1.3">LM</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.1.m1.1c">p_{\text{LM}}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.3.1.m1.1d">italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT</annotation></semantics></math>,
threshold <math alttext="\lambda" class="ltx_Math" display="inline" id="algorithm1.4.2.m2.1"><semantics id="algorithm1.4.2.m2.1a"><mi id="algorithm1.4.2.m2.1.1" xref="algorithm1.4.2.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="algorithm1.4.2.m2.1b"><ci id="algorithm1.4.2.m2.1.1.cmml" xref="algorithm1.4.2.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="algorithm1.4.2.m2.1d">italic_Î»</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.8.6">
<span class="ltx_text ltx_font_bold" id="algorithm1.8.6.1">input :</span>Â context <math alttext="C" class="ltx_Math" display="inline" id="algorithm1.5.3.m1.1"><semantics id="algorithm1.5.3.m1.1a"><mi id="algorithm1.5.3.m1.1.1" xref="algorithm1.5.3.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="algorithm1.5.3.m1.1b"><ci id="algorithm1.5.3.m1.1.1.cmml" xref="algorithm1.5.3.m1.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.3.m1.1c">C</annotation><annotation encoding="application/x-llamapun" id="algorithm1.5.3.m1.1d">italic_C</annotation></semantics></math>,
label <math alttext="L" class="ltx_Math" display="inline" id="algorithm1.6.4.m2.1"><semantics id="algorithm1.6.4.m2.1a"><mi id="algorithm1.6.4.m2.1.1" xref="algorithm1.6.4.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="algorithm1.6.4.m2.1b"><ci id="algorithm1.6.4.m2.1.1.cmml" xref="algorithm1.6.4.m2.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.4.m2.1c">L</annotation><annotation encoding="application/x-llamapun" id="algorithm1.6.4.m2.1d">italic_L</annotation></semantics></math>,
prompt <math alttext="x" class="ltx_Math" display="inline" id="algorithm1.7.5.m3.1"><semantics id="algorithm1.7.5.m3.1a"><mi id="algorithm1.7.5.m3.1.1" xref="algorithm1.7.5.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="algorithm1.7.5.m3.1b"><ci id="algorithm1.7.5.m3.1.1.cmml" xref="algorithm1.7.5.m3.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.5.m3.1c">x</annotation><annotation encoding="application/x-llamapun" id="algorithm1.7.5.m3.1d">italic_x</annotation></semantics></math>,
completion <math alttext="y" class="ltx_Math" display="inline" id="algorithm1.8.6.m4.1"><semantics id="algorithm1.8.6.m4.1a"><mi id="algorithm1.8.6.m4.1.1" xref="algorithm1.8.6.m4.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="algorithm1.8.6.m4.1b"><ci id="algorithm1.8.6.m4.1.1.cmml" xref="algorithm1.8.6.m4.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.6.m4.1c">y</annotation><annotation encoding="application/x-llamapun" id="algorithm1.8.6.m4.1d">italic_y</annotation></semantics></math>.

</div>
<div class="ltx_listingline" id="algorithm1.11.9">
<span class="ltx_text ltx_font_bold" id="algorithm1.11.9.1">output :</span>Â Set <math alttext="\Lambda" class="ltx_Math" display="inline" id="algorithm1.9.7.m1.1"><semantics id="algorithm1.9.7.m1.1a"><mi id="algorithm1.9.7.m1.1.1" mathvariant="normal" xref="algorithm1.9.7.m1.1.1.cmml">Î›</mi><annotation-xml encoding="MathML-Content" id="algorithm1.9.7.m1.1b"><ci id="algorithm1.9.7.m1.1.1.cmml" xref="algorithm1.9.7.m1.1.1">Î›</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.7.m1.1c">\Lambda</annotation><annotation encoding="application/x-llamapun" id="algorithm1.9.7.m1.1d">roman_Î›</annotation></semantics></math> of labels <math alttext="\lambda" class="ltx_Math" display="inline" id="algorithm1.10.8.m2.1"><semantics id="algorithm1.10.8.m2.1a"><mi id="algorithm1.10.8.m2.1.1" xref="algorithm1.10.8.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="algorithm1.10.8.m2.1b"><ci id="algorithm1.10.8.m2.1.1.cmml" xref="algorithm1.10.8.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.10.8.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="algorithm1.10.8.m2.1d">italic_Î»</annotation></semantics></math>-similar to <math alttext="L" class="ltx_Math" display="inline" id="algorithm1.11.9.m3.1"><semantics id="algorithm1.11.9.m3.1a"><mi id="algorithm1.11.9.m3.1.1" xref="algorithm1.11.9.m3.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="algorithm1.11.9.m3.1b"><ci id="algorithm1.11.9.m3.1.1.cmml" xref="algorithm1.11.9.m3.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.11.9.m3.1c">L</annotation><annotation encoding="application/x-llamapun" id="algorithm1.11.9.m3.1d">italic_L</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.12.10">
<span class="ltx_tag ltx_tag_listingline">1</span>
<span class="ltx_text ltx_font_bold" id="algorithm1.12.10.2">Function</span>Â <em class="ltx_emph ltx_font_typewriter" id="algorithm1.12.10.1">minimal_labels(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="algorithm1.12.10.1.1.1"><math alttext="C,L,x,y" class="ltx_Math" display="inline" id="algorithm1.12.10.1.1.1.m1.4"><semantics id="algorithm1.12.10.1.1.1.m1.4a"><mrow id="algorithm1.12.10.1.1.1.m1.4.5.2" xref="algorithm1.12.10.1.1.1.m1.4.5.1.cmml"><mi id="algorithm1.12.10.1.1.1.m1.1.1" xref="algorithm1.12.10.1.1.1.m1.1.1.cmml">C</mi><mo id="algorithm1.12.10.1.1.1.m1.4.5.2.1" xref="algorithm1.12.10.1.1.1.m1.4.5.1.cmml">,</mo><mi id="algorithm1.12.10.1.1.1.m1.2.2" xref="algorithm1.12.10.1.1.1.m1.2.2.cmml">L</mi><mo id="algorithm1.12.10.1.1.1.m1.4.5.2.2" xref="algorithm1.12.10.1.1.1.m1.4.5.1.cmml">,</mo><mi id="algorithm1.12.10.1.1.1.m1.3.3" xref="algorithm1.12.10.1.1.1.m1.3.3.cmml">x</mi><mo id="algorithm1.12.10.1.1.1.m1.4.5.2.3" xref="algorithm1.12.10.1.1.1.m1.4.5.1.cmml">,</mo><mi id="algorithm1.12.10.1.1.1.m1.4.4" xref="algorithm1.12.10.1.1.1.m1.4.4.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.12.10.1.1.1.m1.4b"><list id="algorithm1.12.10.1.1.1.m1.4.5.1.cmml" xref="algorithm1.12.10.1.1.1.m1.4.5.2"><ci id="algorithm1.12.10.1.1.1.m1.1.1.cmml" xref="algorithm1.12.10.1.1.1.m1.1.1">ğ¶</ci><ci id="algorithm1.12.10.1.1.1.m1.2.2.cmml" xref="algorithm1.12.10.1.1.1.m1.2.2">ğ¿</ci><ci id="algorithm1.12.10.1.1.1.m1.3.3.cmml" xref="algorithm1.12.10.1.1.1.m1.3.3">ğ‘¥</ci><ci id="algorithm1.12.10.1.1.1.m1.4.4.cmml" xref="algorithm1.12.10.1.1.1.m1.4.4">ğ‘¦</ci></list></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.12.10.1.1.1.m1.4c">C,L,x,y</annotation><annotation encoding="application/x-llamapun" id="algorithm1.12.10.1.1.1.m1.4d">italic_C , italic_L , italic_x , italic_y</annotation></semantics></math></em>)</em><span class="ltx_text ltx_font_bold" id="algorithm1.12.10.3">:</span>
</div>
<div class="ltx_listingline" id="algorithm1.14.12">
<span class="ltx_tag ltx_tag_listingline">2</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â 
<math alttext="\Lambda\leftarrow\emptyset" class="ltx_Math" display="inline" id="algorithm1.13.11.m1.1"><semantics id="algorithm1.13.11.m1.1a"><mrow id="algorithm1.13.11.m1.1.1" xref="algorithm1.13.11.m1.1.1.cmml"><mi id="algorithm1.13.11.m1.1.1.2" mathvariant="normal" xref="algorithm1.13.11.m1.1.1.2.cmml">Î›</mi><mo id="algorithm1.13.11.m1.1.1.1" stretchy="false" xref="algorithm1.13.11.m1.1.1.1.cmml">â†</mo><mi id="algorithm1.13.11.m1.1.1.3" mathvariant="normal" xref="algorithm1.13.11.m1.1.1.3.cmml">âˆ…</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.13.11.m1.1b"><apply id="algorithm1.13.11.m1.1.1.cmml" xref="algorithm1.13.11.m1.1.1"><ci id="algorithm1.13.11.m1.1.1.1.cmml" xref="algorithm1.13.11.m1.1.1.1">â†</ci><ci id="algorithm1.13.11.m1.1.1.2.cmml" xref="algorithm1.13.11.m1.1.1.2">Î›</ci><emptyset id="algorithm1.13.11.m1.1.1.3.cmml" xref="algorithm1.13.11.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.13.11.m1.1c">\Lambda\leftarrow\emptyset</annotation><annotation encoding="application/x-llamapun" id="algorithm1.13.11.m1.1d">roman_Î› â† âˆ…</annotation></semantics></math>
<span class="ltx_text ltx_font_bold" id="algorithm1.14.12.2">for</span>Â <em class="ltx_emph ltx_font_italic" id="algorithm1.14.12.1"><math alttext="L^{\prime}\in\textnormal{{children(}}\textnormal{\emph{L}}\textnormal{{)}}" class="ltx_Math" display="inline" id="algorithm1.14.12.1.m1.1"><semantics id="algorithm1.14.12.1.m1.1a"><mrow id="algorithm1.14.12.1.m1.1.1" xref="algorithm1.14.12.1.m1.1.1.cmml"><msup id="algorithm1.14.12.1.m1.1.1.2" xref="algorithm1.14.12.1.m1.1.1.2.cmml"><mi id="algorithm1.14.12.1.m1.1.1.2.2" xref="algorithm1.14.12.1.m1.1.1.2.2.cmml">L</mi><mo id="algorithm1.14.12.1.m1.1.1.2.3" xref="algorithm1.14.12.1.m1.1.1.2.3.cmml">â€²</mo></msup><mo id="algorithm1.14.12.1.m1.1.1.1" xref="algorithm1.14.12.1.m1.1.1.1.cmml">âˆˆ</mo><mrow id="algorithm1.14.12.1.m1.1.1.3" xref="algorithm1.14.12.1.m1.1.1.3d.cmml"><mtext class="ltx_mathvariant_monospace" id="algorithm1.14.12.1.m1.1.1.3a" xref="algorithm1.14.12.1.m1.1.1.3d.cmml">children(</mtext><mtext class="ltx_mathvariant_italic" id="algorithm1.14.12.1.m1.1.1.3b" xref="algorithm1.14.12.1.m1.1.1.3d.cmml">L</mtext><mtext class="ltx_mathvariant_monospace" id="algorithm1.14.12.1.m1.1.1.3c" xref="algorithm1.14.12.1.m1.1.1.3d.cmml">)</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.14.12.1.m1.1b"><apply id="algorithm1.14.12.1.m1.1.1.cmml" xref="algorithm1.14.12.1.m1.1.1"><in id="algorithm1.14.12.1.m1.1.1.1.cmml" xref="algorithm1.14.12.1.m1.1.1.1"></in><apply id="algorithm1.14.12.1.m1.1.1.2.cmml" xref="algorithm1.14.12.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.14.12.1.m1.1.1.2.1.cmml" xref="algorithm1.14.12.1.m1.1.1.2">superscript</csymbol><ci id="algorithm1.14.12.1.m1.1.1.2.2.cmml" xref="algorithm1.14.12.1.m1.1.1.2.2">ğ¿</ci><ci id="algorithm1.14.12.1.m1.1.1.2.3.cmml" xref="algorithm1.14.12.1.m1.1.1.2.3">â€²</ci></apply><ci id="algorithm1.14.12.1.m1.1.1.3d.cmml" xref="algorithm1.14.12.1.m1.1.1.3"><mrow id="algorithm1.14.12.1.m1.1.1.3.cmml" xref="algorithm1.14.12.1.m1.1.1.3"><mtext class="ltx_mathvariant_monospace" id="algorithm1.14.12.1.m1.1.1.3a.cmml" xref="algorithm1.14.12.1.m1.1.1.3">children(</mtext><mtext class="ltx_mathvariant_italic" id="algorithm1.14.12.1.m1.1.1.3b.cmml" xref="algorithm1.14.12.1.m1.1.1.3">L</mtext><mtext class="ltx_mathvariant_monospace" id="algorithm1.14.12.1.m1.1.1.3c.cmml" xref="algorithm1.14.12.1.m1.1.1.3">)</mtext></mrow></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.14.12.1.m1.1c">L^{\prime}\in\textnormal{{children(}}\textnormal{\emph{L}}\textnormal{{)}}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.14.12.1.m1.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT âˆˆ typewriter_children( roman_L typewriter_)</annotation></semantics></math></em>Â <span class="ltx_text ltx_font_bold" id="algorithm1.14.12.3">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.15.13">
<span class="ltx_tag ltx_tag_listingline">3</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â 
<math alttext="S\leftarrow\{c\in C\mid\ell(c)\in L^{\prime}\}" class="ltx_Math" display="inline" id="algorithm1.15.13.m1.3"><semantics id="algorithm1.15.13.m1.3a"><mrow id="algorithm1.15.13.m1.3.3" xref="algorithm1.15.13.m1.3.3.cmml"><mi id="algorithm1.15.13.m1.3.3.4" xref="algorithm1.15.13.m1.3.3.4.cmml">S</mi><mo id="algorithm1.15.13.m1.3.3.3" stretchy="false" xref="algorithm1.15.13.m1.3.3.3.cmml">â†</mo><mrow id="algorithm1.15.13.m1.3.3.2.2" xref="algorithm1.15.13.m1.3.3.2.3.cmml"><mo id="algorithm1.15.13.m1.3.3.2.2.3" stretchy="false" xref="algorithm1.15.13.m1.3.3.2.3.1.cmml">{</mo><mrow id="algorithm1.15.13.m1.2.2.1.1.1" xref="algorithm1.15.13.m1.2.2.1.1.1.cmml"><mi id="algorithm1.15.13.m1.2.2.1.1.1.2" xref="algorithm1.15.13.m1.2.2.1.1.1.2.cmml">c</mi><mo id="algorithm1.15.13.m1.2.2.1.1.1.1" xref="algorithm1.15.13.m1.2.2.1.1.1.1.cmml">âˆˆ</mo><mi id="algorithm1.15.13.m1.2.2.1.1.1.3" xref="algorithm1.15.13.m1.2.2.1.1.1.3.cmml">C</mi></mrow><mo fence="true" id="algorithm1.15.13.m1.3.3.2.2.4" lspace="0em" rspace="0em" xref="algorithm1.15.13.m1.3.3.2.3.1.cmml">âˆ£</mo><mrow id="algorithm1.15.13.m1.3.3.2.2.2" xref="algorithm1.15.13.m1.3.3.2.2.2.cmml"><mrow id="algorithm1.15.13.m1.3.3.2.2.2.2" xref="algorithm1.15.13.m1.3.3.2.2.2.2.cmml"><mi id="algorithm1.15.13.m1.3.3.2.2.2.2.2" mathvariant="normal" xref="algorithm1.15.13.m1.3.3.2.2.2.2.2.cmml">â„“</mi><mo id="algorithm1.15.13.m1.3.3.2.2.2.2.1" xref="algorithm1.15.13.m1.3.3.2.2.2.2.1.cmml">â¢</mo><mrow id="algorithm1.15.13.m1.3.3.2.2.2.2.3.2" xref="algorithm1.15.13.m1.3.3.2.2.2.2.cmml"><mo id="algorithm1.15.13.m1.3.3.2.2.2.2.3.2.1" stretchy="false" xref="algorithm1.15.13.m1.3.3.2.2.2.2.cmml">(</mo><mi id="algorithm1.15.13.m1.1.1" xref="algorithm1.15.13.m1.1.1.cmml">c</mi><mo id="algorithm1.15.13.m1.3.3.2.2.2.2.3.2.2" stretchy="false" xref="algorithm1.15.13.m1.3.3.2.2.2.2.cmml">)</mo></mrow></mrow><mo id="algorithm1.15.13.m1.3.3.2.2.2.1" xref="algorithm1.15.13.m1.3.3.2.2.2.1.cmml">âˆˆ</mo><msup id="algorithm1.15.13.m1.3.3.2.2.2.3" xref="algorithm1.15.13.m1.3.3.2.2.2.3.cmml"><mi id="algorithm1.15.13.m1.3.3.2.2.2.3.2" xref="algorithm1.15.13.m1.3.3.2.2.2.3.2.cmml">L</mi><mo id="algorithm1.15.13.m1.3.3.2.2.2.3.3" xref="algorithm1.15.13.m1.3.3.2.2.2.3.3.cmml">â€²</mo></msup></mrow><mo id="algorithm1.15.13.m1.3.3.2.2.5" stretchy="false" xref="algorithm1.15.13.m1.3.3.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.15.13.m1.3b"><apply id="algorithm1.15.13.m1.3.3.cmml" xref="algorithm1.15.13.m1.3.3"><ci id="algorithm1.15.13.m1.3.3.3.cmml" xref="algorithm1.15.13.m1.3.3.3">â†</ci><ci id="algorithm1.15.13.m1.3.3.4.cmml" xref="algorithm1.15.13.m1.3.3.4">ğ‘†</ci><apply id="algorithm1.15.13.m1.3.3.2.3.cmml" xref="algorithm1.15.13.m1.3.3.2.2"><csymbol cd="latexml" id="algorithm1.15.13.m1.3.3.2.3.1.cmml" xref="algorithm1.15.13.m1.3.3.2.2.3">conditional-set</csymbol><apply id="algorithm1.15.13.m1.2.2.1.1.1.cmml" xref="algorithm1.15.13.m1.2.2.1.1.1"><in id="algorithm1.15.13.m1.2.2.1.1.1.1.cmml" xref="algorithm1.15.13.m1.2.2.1.1.1.1"></in><ci id="algorithm1.15.13.m1.2.2.1.1.1.2.cmml" xref="algorithm1.15.13.m1.2.2.1.1.1.2">ğ‘</ci><ci id="algorithm1.15.13.m1.2.2.1.1.1.3.cmml" xref="algorithm1.15.13.m1.2.2.1.1.1.3">ğ¶</ci></apply><apply id="algorithm1.15.13.m1.3.3.2.2.2.cmml" xref="algorithm1.15.13.m1.3.3.2.2.2"><in id="algorithm1.15.13.m1.3.3.2.2.2.1.cmml" xref="algorithm1.15.13.m1.3.3.2.2.2.1"></in><apply id="algorithm1.15.13.m1.3.3.2.2.2.2.cmml" xref="algorithm1.15.13.m1.3.3.2.2.2.2"><times id="algorithm1.15.13.m1.3.3.2.2.2.2.1.cmml" xref="algorithm1.15.13.m1.3.3.2.2.2.2.1"></times><ci id="algorithm1.15.13.m1.3.3.2.2.2.2.2.cmml" xref="algorithm1.15.13.m1.3.3.2.2.2.2.2">â„“</ci><ci id="algorithm1.15.13.m1.1.1.cmml" xref="algorithm1.15.13.m1.1.1">ğ‘</ci></apply><apply id="algorithm1.15.13.m1.3.3.2.2.2.3.cmml" xref="algorithm1.15.13.m1.3.3.2.2.2.3"><csymbol cd="ambiguous" id="algorithm1.15.13.m1.3.3.2.2.2.3.1.cmml" xref="algorithm1.15.13.m1.3.3.2.2.2.3">superscript</csymbol><ci id="algorithm1.15.13.m1.3.3.2.2.2.3.2.cmml" xref="algorithm1.15.13.m1.3.3.2.2.2.3.2">ğ¿</ci><ci id="algorithm1.15.13.m1.3.3.2.2.2.3.3.cmml" xref="algorithm1.15.13.m1.3.3.2.2.2.3.3">â€²</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.15.13.m1.3c">S\leftarrow\{c\in C\mid\ell(c)\in L^{\prime}\}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.15.13.m1.3d">italic_S â† { italic_c âˆˆ italic_C âˆ£ roman_â„“ ( italic_c ) âˆˆ italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.16.14">
<span class="ltx_tag ltx_tag_listingline">4</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â <span class="ltx_text ltx_font_bold" id="algorithm1.16.14.2">if</span>Â <em class="ltx_emph ltx_font_italic" id="algorithm1.16.14.1"><math alttext="U(p_{\text{LM}}(y|x,C))-U(p_{\text{LM}}(y|x,S))\leq\lambda" class="ltx_Math" display="inline" id="algorithm1.16.14.1.m1.6"><semantics id="algorithm1.16.14.1.m1.6a"><mrow id="algorithm1.16.14.1.m1.6.6" xref="algorithm1.16.14.1.m1.6.6.cmml"><mrow id="algorithm1.16.14.1.m1.6.6.2" xref="algorithm1.16.14.1.m1.6.6.2.cmml"><mrow id="algorithm1.16.14.1.m1.5.5.1.1" xref="algorithm1.16.14.1.m1.5.5.1.1.cmml"><mi id="algorithm1.16.14.1.m1.5.5.1.1.3" xref="algorithm1.16.14.1.m1.5.5.1.1.3.cmml">U</mi><mo id="algorithm1.16.14.1.m1.5.5.1.1.2" xref="algorithm1.16.14.1.m1.5.5.1.1.2.cmml">â¢</mo><mrow id="algorithm1.16.14.1.m1.5.5.1.1.1.1" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.cmml"><mo id="algorithm1.16.14.1.m1.5.5.1.1.1.1.2" stretchy="false" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.cmml">(</mo><mrow id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.cmml"><msub id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.cmml"><mi id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.2" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.2.cmml">p</mi><mtext class="ltx_mathvariant_italic" id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.3" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.3b.cmml"><em class="ltx_emph" id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.3.1nest" style="font-size:70%;">LM</em></mtext></msub><mo id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.2" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.2.cmml">â¢</mo><mrow id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mo id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.2" stretchy="false" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mi id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.2" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.1" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.1.cmml">|</mo><mrow id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.3.2" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.3.1.cmml"><mi id="algorithm1.16.14.1.m1.1.1" xref="algorithm1.16.14.1.m1.1.1.cmml">x</mi><mo id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.3.2.1" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.3.1.cmml">,</mo><mi id="algorithm1.16.14.1.m1.2.2" xref="algorithm1.16.14.1.m1.2.2.cmml">C</mi></mrow></mrow><mo id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.3" stretchy="false" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="algorithm1.16.14.1.m1.5.5.1.1.1.1.3" stretchy="false" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="algorithm1.16.14.1.m1.6.6.2.3" xref="algorithm1.16.14.1.m1.6.6.2.3.cmml">âˆ’</mo><mrow id="algorithm1.16.14.1.m1.6.6.2.2" xref="algorithm1.16.14.1.m1.6.6.2.2.cmml"><mi id="algorithm1.16.14.1.m1.6.6.2.2.3" xref="algorithm1.16.14.1.m1.6.6.2.2.3.cmml">U</mi><mo id="algorithm1.16.14.1.m1.6.6.2.2.2" xref="algorithm1.16.14.1.m1.6.6.2.2.2.cmml">â¢</mo><mrow id="algorithm1.16.14.1.m1.6.6.2.2.1.1" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.cmml"><mo id="algorithm1.16.14.1.m1.6.6.2.2.1.1.2" stretchy="false" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.cmml">(</mo><mrow id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.cmml"><msub id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.cmml"><mi id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.2" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.2.cmml">p</mi><mtext class="ltx_mathvariant_italic" id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.3" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.3b.cmml"><em class="ltx_emph" id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.3.1nest" style="font-size:70%;">LM</em></mtext></msub><mo id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.2" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.2.cmml">â¢</mo><mrow id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.cmml"><mo id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.2" stretchy="false" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.cmml"><mi id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.2" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.1" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.1.cmml">|</mo><mrow id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.3.2" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.3.1.cmml"><mi id="algorithm1.16.14.1.m1.3.3" xref="algorithm1.16.14.1.m1.3.3.cmml">x</mi><mo id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.3.2.1" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.3.1.cmml">,</mo><mi id="algorithm1.16.14.1.m1.4.4" xref="algorithm1.16.14.1.m1.4.4.cmml">S</mi></mrow></mrow><mo id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.3" stretchy="false" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="algorithm1.16.14.1.m1.6.6.2.2.1.1.3" stretchy="false" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="algorithm1.16.14.1.m1.6.6.3" xref="algorithm1.16.14.1.m1.6.6.3.cmml">â‰¤</mo><mi id="algorithm1.16.14.1.m1.6.6.4" xref="algorithm1.16.14.1.m1.6.6.4.cmml">Î»</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.16.14.1.m1.6b"><apply id="algorithm1.16.14.1.m1.6.6.cmml" xref="algorithm1.16.14.1.m1.6.6"><leq id="algorithm1.16.14.1.m1.6.6.3.cmml" xref="algorithm1.16.14.1.m1.6.6.3"></leq><apply id="algorithm1.16.14.1.m1.6.6.2.cmml" xref="algorithm1.16.14.1.m1.6.6.2"><minus id="algorithm1.16.14.1.m1.6.6.2.3.cmml" xref="algorithm1.16.14.1.m1.6.6.2.3"></minus><apply id="algorithm1.16.14.1.m1.5.5.1.1.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1"><times id="algorithm1.16.14.1.m1.5.5.1.1.2.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.2"></times><ci id="algorithm1.16.14.1.m1.5.5.1.1.3.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.3">ğ‘ˆ</ci><apply id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1"><times id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.2.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.2"></times><apply id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.1.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3">subscript</csymbol><ci id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.2.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.2">ğ‘</ci><ci id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.3b.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.3"><mtext class="ltx_mathvariant_italic" id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.3"><em class="ltx_emph" id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.3.3.1anest" style="font-size:70%;">LM</em></mtext></ci></apply><apply id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1"><csymbol cd="latexml" id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.2">ğ‘¦</ci><list id="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.3.1.cmml" xref="algorithm1.16.14.1.m1.5.5.1.1.1.1.1.1.1.1.3.2"><ci id="algorithm1.16.14.1.m1.1.1.cmml" xref="algorithm1.16.14.1.m1.1.1">ğ‘¥</ci><ci id="algorithm1.16.14.1.m1.2.2.cmml" xref="algorithm1.16.14.1.m1.2.2">ğ¶</ci></list></apply></apply></apply><apply id="algorithm1.16.14.1.m1.6.6.2.2.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2"><times id="algorithm1.16.14.1.m1.6.6.2.2.2.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.2"></times><ci id="algorithm1.16.14.1.m1.6.6.2.2.3.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.3">ğ‘ˆ</ci><apply id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1"><times id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.2.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.2"></times><apply id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.1.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3">subscript</csymbol><ci id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.2.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.2">ğ‘</ci><ci id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.3b.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.3"><mtext class="ltx_mathvariant_italic" id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.3.cmml" mathsize="70%" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.3"><em class="ltx_emph" id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.3.3.1anest" style="font-size:70%;">LM</em></mtext></ci></apply><apply id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1"><csymbol cd="latexml" id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.1.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.1">conditional</csymbol><ci id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.2.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.2">ğ‘¦</ci><list id="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.3.1.cmml" xref="algorithm1.16.14.1.m1.6.6.2.2.1.1.1.1.1.1.3.2"><ci id="algorithm1.16.14.1.m1.3.3.cmml" xref="algorithm1.16.14.1.m1.3.3">ğ‘¥</ci><ci id="algorithm1.16.14.1.m1.4.4.cmml" xref="algorithm1.16.14.1.m1.4.4">ğ‘†</ci></list></apply></apply></apply></apply><ci id="algorithm1.16.14.1.m1.6.6.4.cmml" xref="algorithm1.16.14.1.m1.6.6.4">ğœ†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.16.14.1.m1.6c">U(p_{\text{LM}}(y|x,C))-U(p_{\text{LM}}(y|x,S))\leq\lambda</annotation><annotation encoding="application/x-llamapun" id="algorithm1.16.14.1.m1.6d">italic_U ( italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C ) ) - italic_U ( italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_S ) ) â‰¤ italic_Î»</annotation></semantics></math></em>Â <span class="ltx_text ltx_font_bold" id="algorithm1.16.14.3">then</span>
</div>
<div class="ltx_listingline" id="algorithm1.18.16">
<span class="ltx_tag ltx_tag_listingline">5</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â 
<math alttext="\Lambda\leftarrow\Lambda\,\cup" class="ltx_Math" display="inline" id="algorithm1.17.15.m1.1"><semantics id="algorithm1.17.15.m1.1a"><mrow id="algorithm1.17.15.m1.1.1" xref="algorithm1.17.15.m1.1.1.cmml"><mi id="algorithm1.17.15.m1.1.1.2" mathvariant="normal" xref="algorithm1.17.15.m1.1.1.2.cmml">Î›</mi><mo id="algorithm1.17.15.m1.1.1.1" stretchy="false" xref="algorithm1.17.15.m1.1.1.1.cmml">â†</mo><mrow id="algorithm1.17.15.m1.1.1.3" xref="algorithm1.17.15.m1.1.1.3.cmml"><mi id="algorithm1.17.15.m1.1.1.3.2" mathvariant="normal" xref="algorithm1.17.15.m1.1.1.3.2.cmml">Î›</mi><mo id="algorithm1.17.15.m1.1.1.3.3" lspace="0.392em" xref="algorithm1.17.15.m1.1.1.3.3.cmml">âˆª</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.17.15.m1.1b"><apply id="algorithm1.17.15.m1.1.1.cmml" xref="algorithm1.17.15.m1.1.1"><ci id="algorithm1.17.15.m1.1.1.1.cmml" xref="algorithm1.17.15.m1.1.1.1">â†</ci><ci id="algorithm1.17.15.m1.1.1.2.cmml" xref="algorithm1.17.15.m1.1.1.2">Î›</ci><apply id="algorithm1.17.15.m1.1.1.3.cmml" xref="algorithm1.17.15.m1.1.1.3"><csymbol cd="latexml" id="algorithm1.17.15.m1.1.1.3.1.cmml" xref="algorithm1.17.15.m1.1.1.3">limit-from</csymbol><ci id="algorithm1.17.15.m1.1.1.3.2.cmml" xref="algorithm1.17.15.m1.1.1.3.2">Î›</ci><union id="algorithm1.17.15.m1.1.1.3.3.cmml" xref="algorithm1.17.15.m1.1.1.3.3"></union></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.17.15.m1.1c">\Lambda\leftarrow\Lambda\,\cup</annotation><annotation encoding="application/x-llamapun" id="algorithm1.17.15.m1.1d">roman_Î› â† roman_Î› âˆª</annotation></semantics></math> <span class="ltx_text ltx_font_typewriter" id="algorithm1.18.16.1">minimal_labels(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="algorithm1.18.16.1.1"><math alttext="C,L^{\prime},x,y" class="ltx_Math" display="inline" id="algorithm1.18.16.1.1.m1.4"><semantics id="algorithm1.18.16.1.1.m1.4a"><mrow id="algorithm1.18.16.1.1.m1.4.4.1" xref="algorithm1.18.16.1.1.m1.4.4.2.cmml"><mi id="algorithm1.18.16.1.1.m1.1.1" xref="algorithm1.18.16.1.1.m1.1.1.cmml">C</mi><mo id="algorithm1.18.16.1.1.m1.4.4.1.2" xref="algorithm1.18.16.1.1.m1.4.4.2.cmml">,</mo><msup id="algorithm1.18.16.1.1.m1.4.4.1.1" xref="algorithm1.18.16.1.1.m1.4.4.1.1.cmml"><mi id="algorithm1.18.16.1.1.m1.4.4.1.1.2" xref="algorithm1.18.16.1.1.m1.4.4.1.1.2.cmml">L</mi><mo id="algorithm1.18.16.1.1.m1.4.4.1.1.3" xref="algorithm1.18.16.1.1.m1.4.4.1.1.3.cmml">â€²</mo></msup><mo id="algorithm1.18.16.1.1.m1.4.4.1.3" xref="algorithm1.18.16.1.1.m1.4.4.2.cmml">,</mo><mi id="algorithm1.18.16.1.1.m1.2.2" xref="algorithm1.18.16.1.1.m1.2.2.cmml">x</mi><mo id="algorithm1.18.16.1.1.m1.4.4.1.4" xref="algorithm1.18.16.1.1.m1.4.4.2.cmml">,</mo><mi id="algorithm1.18.16.1.1.m1.3.3" xref="algorithm1.18.16.1.1.m1.3.3.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.18.16.1.1.m1.4b"><list id="algorithm1.18.16.1.1.m1.4.4.2.cmml" xref="algorithm1.18.16.1.1.m1.4.4.1"><ci id="algorithm1.18.16.1.1.m1.1.1.cmml" xref="algorithm1.18.16.1.1.m1.1.1">ğ¶</ci><apply id="algorithm1.18.16.1.1.m1.4.4.1.1.cmml" xref="algorithm1.18.16.1.1.m1.4.4.1.1"><csymbol cd="ambiguous" id="algorithm1.18.16.1.1.m1.4.4.1.1.1.cmml" xref="algorithm1.18.16.1.1.m1.4.4.1.1">superscript</csymbol><ci id="algorithm1.18.16.1.1.m1.4.4.1.1.2.cmml" xref="algorithm1.18.16.1.1.m1.4.4.1.1.2">ğ¿</ci><ci id="algorithm1.18.16.1.1.m1.4.4.1.1.3.cmml" xref="algorithm1.18.16.1.1.m1.4.4.1.1.3">â€²</ci></apply><ci id="algorithm1.18.16.1.1.m1.2.2.cmml" xref="algorithm1.18.16.1.1.m1.2.2">ğ‘¥</ci><ci id="algorithm1.18.16.1.1.m1.3.3.cmml" xref="algorithm1.18.16.1.1.m1.3.3">ğ‘¦</ci></list></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.18.16.1.1.m1.4c">C,L^{\prime},x,y</annotation><annotation encoding="application/x-llamapun" id="algorithm1.18.16.1.1.m1.4d">italic_C , italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT , italic_x , italic_y</annotation></semantics></math></em>)</span>
</div>
<div class="ltx_listingline" id="algorithm1.21.20">
<span class="ltx_tag ltx_tag_listingline">6</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â  end if
</div>
<div class="ltx_listingline" id="algorithm1.21.21">
<span class="ltx_tag ltx_tag_listingline">7</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â 
</div>
<div class="ltx_listingline" id="algorithm1.21.22">
<span class="ltx_tag ltx_tag_listingline">8</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â  end for
</div>
<div class="ltx_listingline" id="algorithm1.21.23">
<span class="ltx_tag ltx_tag_listingline">9</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â 
</div>
<div class="ltx_listingline" id="algorithm1.19.17">
<span class="ltx_tag ltx_tag_listingline">10</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â <span class="ltx_text ltx_font_bold" id="algorithm1.19.17.2">if</span>Â <em class="ltx_emph ltx_font_italic" id="algorithm1.19.17.1"><math alttext="\Lambda\neq\emptyset" class="ltx_Math" display="inline" id="algorithm1.19.17.1.m1.1"><semantics id="algorithm1.19.17.1.m1.1a"><mrow id="algorithm1.19.17.1.m1.1.1" xref="algorithm1.19.17.1.m1.1.1.cmml"><mi id="algorithm1.19.17.1.m1.1.1.2" mathvariant="normal" xref="algorithm1.19.17.1.m1.1.1.2.cmml">Î›</mi><mo id="algorithm1.19.17.1.m1.1.1.1" xref="algorithm1.19.17.1.m1.1.1.1.cmml">â‰ </mo><mi id="algorithm1.19.17.1.m1.1.1.3" mathvariant="normal" xref="algorithm1.19.17.1.m1.1.1.3.cmml">âˆ…</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.19.17.1.m1.1b"><apply id="algorithm1.19.17.1.m1.1.1.cmml" xref="algorithm1.19.17.1.m1.1.1"><neq id="algorithm1.19.17.1.m1.1.1.1.cmml" xref="algorithm1.19.17.1.m1.1.1.1"></neq><ci id="algorithm1.19.17.1.m1.1.1.2.cmml" xref="algorithm1.19.17.1.m1.1.1.2">Î›</ci><emptyset id="algorithm1.19.17.1.m1.1.1.3.cmml" xref="algorithm1.19.17.1.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.19.17.1.m1.1c">\Lambda\neq\emptyset</annotation><annotation encoding="application/x-llamapun" id="algorithm1.19.17.1.m1.1d">roman_Î› â‰  âˆ…</annotation></semantics></math></em>Â <span class="ltx_text ltx_font_bold" id="algorithm1.19.17.3">then</span>
</div>
<div class="ltx_listingline" id="algorithm1.20.18">
<span class="ltx_tag ltx_tag_listingline">11</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â 
<span class="ltx_text ltx_font_bold" id="algorithm1.20.18.1">return</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.20.18.2"></em> <math alttext="\Lambda" class="ltx_Math" display="inline" id="algorithm1.20.18.m1.1"><semantics id="algorithm1.20.18.m1.1a"><mi id="algorithm1.20.18.m1.1.1" mathvariant="normal" xref="algorithm1.20.18.m1.1.1.cmml">Î›</mi><annotation-xml encoding="MathML-Content" id="algorithm1.20.18.m1.1b"><ci id="algorithm1.20.18.m1.1.1.cmml" xref="algorithm1.20.18.m1.1.1">Î›</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.20.18.m1.1c">\Lambda</annotation><annotation encoding="application/x-llamapun" id="algorithm1.20.18.m1.1d">roman_Î›</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.21.24">
<span class="ltx_tag ltx_tag_listingline">12</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â 
<span class="ltx_text ltx_font_bold" id="algorithm1.21.24.1">else</span>
</div>
<div class="ltx_listingline" id="algorithm1.21.19">
<span class="ltx_tag ltx_tag_listingline">13</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â 
<span class="ltx_text ltx_font_bold" id="algorithm1.21.19.1">return</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.21.19.2"></em> <math alttext="\{L\}" class="ltx_Math" display="inline" id="algorithm1.21.19.m1.1"><semantics id="algorithm1.21.19.m1.1a"><mrow id="algorithm1.21.19.m1.1.2.2" xref="algorithm1.21.19.m1.1.2.1.cmml"><mo id="algorithm1.21.19.m1.1.2.2.1" stretchy="false" xref="algorithm1.21.19.m1.1.2.1.cmml">{</mo><mi id="algorithm1.21.19.m1.1.1" xref="algorithm1.21.19.m1.1.1.cmml">L</mi><mo id="algorithm1.21.19.m1.1.2.2.2" stretchy="false" xref="algorithm1.21.19.m1.1.2.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.21.19.m1.1b"><set id="algorithm1.21.19.m1.1.2.1.cmml" xref="algorithm1.21.19.m1.1.2.2"><ci id="algorithm1.21.19.m1.1.1.cmml" xref="algorithm1.21.19.m1.1.1">ğ¿</ci></set></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.21.19.m1.1c">\{L\}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.21.19.m1.1d">{ italic_L }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.21.25">
<span class="ltx_tag ltx_tag_listingline">14</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â  end if
</div>
<div class="ltx_listingline" id="algorithm1.21.26">
<span class="ltx_tag ltx_tag_listingline">15</span>Â Â <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">Â </span>Â Â Â 
</div>
<div class="ltx_listingline" id="algorithm1.21.27">
<span class="ltx_tag ltx_tag_listingline">16</span>
</div>
<div class="ltx_listingline" id="algorithm1.21.28">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="algorithm1.23.1.1">AlgorithmÂ 1</span> </span><math alttext="\lambda" class="ltx_Math" display="inline" id="algorithm1.2.m1.1"><semantics id="algorithm1.2.m1.1b"><mi id="algorithm1.2.m1.1.1" xref="algorithm1.2.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="algorithm1.2.m1.1c"><ci id="algorithm1.2.m1.1.1.cmml" xref="algorithm1.2.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.m1.1d">\lambda</annotation><annotation encoding="application/x-llamapun" id="algorithm1.2.m1.1e">italic_Î»</annotation></semantics></math>-similar label search</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS3.5.1.1">III-C</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS3.6.2">Correctness</span>
</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.2">The set of labels returned by AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> is minimal in that elements are pairwise incomparable with respect to the lattice order, i.e., no label is more restrictive than the other (and hence redundant).
The algorithm achieves this by recursing on each child with a more permissive but <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><mi id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">italic_Î»</annotation></semantics></math>-similar label than the parent node, and adding a nodeâ€™s label only if there is no such child.
If there is a total order over the labels (i.e., all elements are pairwise comparable) then only a single label is returned (<math alttext="|\Lambda|=1" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.1"><semantics id="S3.SS3.p1.2.m2.1a"><mrow id="S3.SS3.p1.2.m2.1.2" xref="S3.SS3.p1.2.m2.1.2.cmml"><mrow id="S3.SS3.p1.2.m2.1.2.2.2" xref="S3.SS3.p1.2.m2.1.2.2.1.cmml"><mo id="S3.SS3.p1.2.m2.1.2.2.2.1" stretchy="false" xref="S3.SS3.p1.2.m2.1.2.2.1.1.cmml">|</mo><mi id="S3.SS3.p1.2.m2.1.1" mathvariant="normal" xref="S3.SS3.p1.2.m2.1.1.cmml">Î›</mi><mo id="S3.SS3.p1.2.m2.1.2.2.2.2" stretchy="false" xref="S3.SS3.p1.2.m2.1.2.2.1.1.cmml">|</mo></mrow><mo id="S3.SS3.p1.2.m2.1.2.1" xref="S3.SS3.p1.2.m2.1.2.1.cmml">=</mo><mn id="S3.SS3.p1.2.m2.1.2.3" xref="S3.SS3.p1.2.m2.1.2.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.2.cmml" xref="S3.SS3.p1.2.m2.1.2"><eq id="S3.SS3.p1.2.m2.1.2.1.cmml" xref="S3.SS3.p1.2.m2.1.2.1"></eq><apply id="S3.SS3.p1.2.m2.1.2.2.1.cmml" xref="S3.SS3.p1.2.m2.1.2.2.2"><abs id="S3.SS3.p1.2.m2.1.2.2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.2.2.2.1"></abs><ci id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">Î›</ci></apply><cn id="S3.SS3.p1.2.m2.1.2.3.cmml" type="integer" xref="S3.SS3.p1.2.m2.1.2.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">|\Lambda|=1</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m2.1d">| roman_Î› | = 1</annotation></semantics></math>).
Note that the labels do not need to form a tree, so AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> may visit a node multiple times.
This can be avoided by keeping track of visited nodes, which we forgo for simplicity of presentation.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.5">AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> improves over the naÃ¯ve solution by iterating only over full <math alttext="L" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><mi id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">italic_L</annotation></semantics></math>-subcontexts (and not over all subsets). If a child label <math alttext="L^{\prime}" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><msup id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">L</mi><mo id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">superscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">ğ¿</ci><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">L^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math> is not <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m3.1"><semantics id="S3.SS3.p2.3.m3.1a"><mi id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><ci id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m3.1d">italic_Î»</annotation></semantics></math>-similar, we prune the search assuming that also none of the children of <math alttext="L^{\prime}" class="ltx_Math" display="inline" id="S3.SS3.p2.4.m4.1"><semantics id="S3.SS3.p2.4.m4.1a"><msup id="S3.SS3.p2.4.m4.1.1" xref="S3.SS3.p2.4.m4.1.1.cmml"><mi id="S3.SS3.p2.4.m4.1.1.2" xref="S3.SS3.p2.4.m4.1.1.2.cmml">L</mi><mo id="S3.SS3.p2.4.m4.1.1.3" xref="S3.SS3.p2.4.m4.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.1b"><apply id="S3.SS3.p2.4.m4.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.1.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1">superscript</csymbol><ci id="S3.SS3.p2.4.m4.1.1.2.cmml" xref="S3.SS3.p2.4.m4.1.1.2">ğ¿</ci><ci id="S3.SS3.p2.4.m4.1.1.3.cmml" xref="S3.SS3.p2.4.m4.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.1c">L^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.4.m4.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math> will be <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS3.p2.5.m5.1"><semantics id="S3.SS3.p2.5.m5.1a"><mi id="S3.SS3.p2.5.m5.1.1" xref="S3.SS3.p2.5.m5.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m5.1b"><ci id="S3.SS3.p2.5.m5.1.1.cmml" xref="S3.SS3.p2.5.m5.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m5.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.5.m5.1d">italic_Î»</annotation></semantics></math>-similar.
If the modelâ€™s utility is <span class="ltx_text ltx_font_italic" id="S3.SS3.p2.5.1">monotonous</span> in the context, as in</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="C\subseteq C^{\prime}\Rightarrow U(p_{\text{LM}}(y|x,C))\leq U(p_{\text{LM}}(y%
|x,C^{\prime}))" class="ltx_Math" display="block" id="S3.E3.m1.5"><semantics id="S3.E3.m1.5a"><mrow id="S3.E3.m1.5.5" xref="S3.E3.m1.5.5.cmml"><mi id="S3.E3.m1.5.5.4" xref="S3.E3.m1.5.5.4.cmml">C</mi><mo id="S3.E3.m1.5.5.5" xref="S3.E3.m1.5.5.5.cmml">âŠ†</mo><msup id="S3.E3.m1.5.5.6" xref="S3.E3.m1.5.5.6.cmml"><mi id="S3.E3.m1.5.5.6.2" xref="S3.E3.m1.5.5.6.2.cmml">C</mi><mo id="S3.E3.m1.5.5.6.3" xref="S3.E3.m1.5.5.6.3.cmml">â€²</mo></msup><mo id="S3.E3.m1.5.5.7" stretchy="false" xref="S3.E3.m1.5.5.7.cmml">â‡’</mo><mrow id="S3.E3.m1.4.4.1" xref="S3.E3.m1.4.4.1.cmml"><mi id="S3.E3.m1.4.4.1.3" xref="S3.E3.m1.4.4.1.3.cmml">U</mi><mo id="S3.E3.m1.4.4.1.2" xref="S3.E3.m1.4.4.1.2.cmml">â¢</mo><mrow id="S3.E3.m1.4.4.1.1.1" xref="S3.E3.m1.4.4.1.1.1.1.cmml"><mo id="S3.E3.m1.4.4.1.1.1.2" stretchy="false" xref="S3.E3.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.4.4.1.1.1.1" xref="S3.E3.m1.4.4.1.1.1.1.cmml"><msub id="S3.E3.m1.4.4.1.1.1.1.3" xref="S3.E3.m1.4.4.1.1.1.1.3.cmml"><mi id="S3.E3.m1.4.4.1.1.1.1.3.2" xref="S3.E3.m1.4.4.1.1.1.1.3.2.cmml">p</mi><mtext id="S3.E3.m1.4.4.1.1.1.1.3.3" xref="S3.E3.m1.4.4.1.1.1.1.3.3a.cmml">LM</mtext></msub><mo id="S3.E3.m1.4.4.1.1.1.1.2" xref="S3.E3.m1.4.4.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E3.m1.4.4.1.1.1.1.1.1" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.4.4.1.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.4.4.1.1.1.1.1.1.1" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.4.4.1.1.1.1.1.1.1.2" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.E3.m1.4.4.1.1.1.1.1.1.1.1" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S3.E3.m1.4.4.1.1.1.1.1.1.1.3.2" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.3.1.cmml"><mi id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml">x</mi><mo id="S3.E3.m1.4.4.1.1.1.1.1.1.1.3.2.1" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.3.1.cmml">,</mo><mi id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml">C</mi></mrow></mrow><mo id="S3.E3.m1.4.4.1.1.1.1.1.1.3" stretchy="false" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.4.4.1.1.1.3" stretchy="false" xref="S3.E3.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.5.5.8" xref="S3.E3.m1.5.5.8.cmml">â‰¤</mo><mrow id="S3.E3.m1.5.5.2" xref="S3.E3.m1.5.5.2.cmml"><mi id="S3.E3.m1.5.5.2.3" xref="S3.E3.m1.5.5.2.3.cmml">U</mi><mo id="S3.E3.m1.5.5.2.2" xref="S3.E3.m1.5.5.2.2.cmml">â¢</mo><mrow id="S3.E3.m1.5.5.2.1.1" xref="S3.E3.m1.5.5.2.1.1.1.cmml"><mo id="S3.E3.m1.5.5.2.1.1.2" stretchy="false" xref="S3.E3.m1.5.5.2.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.5.5.2.1.1.1" xref="S3.E3.m1.5.5.2.1.1.1.cmml"><msub id="S3.E3.m1.5.5.2.1.1.1.3" xref="S3.E3.m1.5.5.2.1.1.1.3.cmml"><mi id="S3.E3.m1.5.5.2.1.1.1.3.2" xref="S3.E3.m1.5.5.2.1.1.1.3.2.cmml">p</mi><mtext id="S3.E3.m1.5.5.2.1.1.1.3.3" xref="S3.E3.m1.5.5.2.1.1.1.3.3a.cmml">LM</mtext></msub><mo id="S3.E3.m1.5.5.2.1.1.1.2" xref="S3.E3.m1.5.5.2.1.1.1.2.cmml">â¢</mo><mrow id="S3.E3.m1.5.5.2.1.1.1.1.1" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.5.5.2.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.5.5.2.1.1.1.1.1.1" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.5.5.2.1.1.1.1.1.1.3" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.3.cmml">y</mi><mo fence="false" id="S3.E3.m1.5.5.2.1.1.1.1.1.1.2" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E3.m1.3.3" xref="S3.E3.m1.3.3.cmml">x</mi><mo id="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.2.cmml">,</mo><msup id="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.2.cmml">C</mi><mo id="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.3.cmml">â€²</mo></msup></mrow></mrow><mo id="S3.E3.m1.5.5.2.1.1.1.1.1.3" stretchy="false" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.5.5.2.1.1.3" stretchy="false" xref="S3.E3.m1.5.5.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.5b"><apply id="S3.E3.m1.5.5.cmml" xref="S3.E3.m1.5.5"><and id="S3.E3.m1.5.5a.cmml" xref="S3.E3.m1.5.5"></and><apply id="S3.E3.m1.5.5b.cmml" xref="S3.E3.m1.5.5"><subset id="S3.E3.m1.5.5.5.cmml" xref="S3.E3.m1.5.5.5"></subset><ci id="S3.E3.m1.5.5.4.cmml" xref="S3.E3.m1.5.5.4">ğ¶</ci><apply id="S3.E3.m1.5.5.6.cmml" xref="S3.E3.m1.5.5.6"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.6.1.cmml" xref="S3.E3.m1.5.5.6">superscript</csymbol><ci id="S3.E3.m1.5.5.6.2.cmml" xref="S3.E3.m1.5.5.6.2">ğ¶</ci><ci id="S3.E3.m1.5.5.6.3.cmml" xref="S3.E3.m1.5.5.6.3">â€²</ci></apply></apply><apply id="S3.E3.m1.5.5c.cmml" xref="S3.E3.m1.5.5"><ci id="S3.E3.m1.5.5.7.cmml" xref="S3.E3.m1.5.5.7">â‡’</ci><share href="https://arxiv.org/html/2410.03055v1#S3.E3.m1.5.5.6.cmml" id="S3.E3.m1.5.5d.cmml" xref="S3.E3.m1.5.5"></share><apply id="S3.E3.m1.4.4.1.cmml" xref="S3.E3.m1.4.4.1"><times id="S3.E3.m1.4.4.1.2.cmml" xref="S3.E3.m1.4.4.1.2"></times><ci id="S3.E3.m1.4.4.1.3.cmml" xref="S3.E3.m1.4.4.1.3">ğ‘ˆ</ci><apply id="S3.E3.m1.4.4.1.1.1.1.cmml" xref="S3.E3.m1.4.4.1.1.1"><times id="S3.E3.m1.4.4.1.1.1.1.2.cmml" xref="S3.E3.m1.4.4.1.1.1.1.2"></times><apply id="S3.E3.m1.4.4.1.1.1.1.3.cmml" xref="S3.E3.m1.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.1.1.1.1.3.1.cmml" xref="S3.E3.m1.4.4.1.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.4.4.1.1.1.1.3.2.cmml" xref="S3.E3.m1.4.4.1.1.1.1.3.2">ğ‘</ci><ci id="S3.E3.m1.4.4.1.1.1.1.3.3a.cmml" xref="S3.E3.m1.4.4.1.1.1.1.3.3"><mtext id="S3.E3.m1.4.4.1.1.1.1.3.3.cmml" mathsize="70%" xref="S3.E3.m1.4.4.1.1.1.1.3.3">LM</mtext></ci></apply><apply id="S3.E3.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.4.4.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E3.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.2">ğ‘¦</ci><list id="S3.E3.m1.4.4.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.4.4.1.1.1.1.1.1.1.3.2"><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">ğ‘¥</ci><ci id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2">ğ¶</ci></list></apply></apply></apply></apply><apply id="S3.E3.m1.5.5e.cmml" xref="S3.E3.m1.5.5"><leq id="S3.E3.m1.5.5.8.cmml" xref="S3.E3.m1.5.5.8"></leq><share href="https://arxiv.org/html/2410.03055v1#S3.E3.m1.4.4.1.cmml" id="S3.E3.m1.5.5f.cmml" xref="S3.E3.m1.5.5"></share><apply id="S3.E3.m1.5.5.2.cmml" xref="S3.E3.m1.5.5.2"><times id="S3.E3.m1.5.5.2.2.cmml" xref="S3.E3.m1.5.5.2.2"></times><ci id="S3.E3.m1.5.5.2.3.cmml" xref="S3.E3.m1.5.5.2.3">ğ‘ˆ</ci><apply id="S3.E3.m1.5.5.2.1.1.1.cmml" xref="S3.E3.m1.5.5.2.1.1"><times id="S3.E3.m1.5.5.2.1.1.1.2.cmml" xref="S3.E3.m1.5.5.2.1.1.1.2"></times><apply id="S3.E3.m1.5.5.2.1.1.1.3.cmml" xref="S3.E3.m1.5.5.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.2.1.1.1.3.1.cmml" xref="S3.E3.m1.5.5.2.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.5.5.2.1.1.1.3.2.cmml" xref="S3.E3.m1.5.5.2.1.1.1.3.2">ğ‘</ci><ci id="S3.E3.m1.5.5.2.1.1.1.3.3a.cmml" xref="S3.E3.m1.5.5.2.1.1.1.3.3"><mtext id="S3.E3.m1.5.5.2.1.1.1.3.3.cmml" mathsize="70%" xref="S3.E3.m1.5.5.2.1.1.1.3.3">LM</mtext></ci></apply><apply id="S3.E3.m1.5.5.2.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.5.5.2.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.2">conditional</csymbol><ci id="S3.E3.m1.5.5.2.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.3">ğ‘¦</ci><list id="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1"><ci id="S3.E3.m1.3.3.cmml" xref="S3.E3.m1.3.3">ğ‘¥</ci><apply id="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.2">ğ¶</ci><ci id="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.3">â€²</ci></apply></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.5c">C\subseteq C^{\prime}\Rightarrow U(p_{\text{LM}}(y|x,C))\leq U(p_{\text{LM}}(y%
|x,C^{\prime}))</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.5d">italic_C âŠ† italic_C start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT â‡’ italic_U ( italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C ) ) â‰¤ italic_U ( italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p2.6">i.e., adding more documents to the context never decreases the utility, we can guarantee that AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> identifies all minimal labels.
PropositionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#Thmproposition1" title="Proposition 1. â€£ III-C Correctness â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> summarizes these guarantees.</p>
</div>
<div class="ltx_theorem ltx_theorem_proposition" id="Thmproposition1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="Thmproposition1.1.1.1">Proposition 1</span></span><span class="ltx_text ltx_font_bold" id="Thmproposition1.2.2">.</span>
</h6>
<div class="ltx_para" id="Thmproposition1.p1">
<p class="ltx_p" id="Thmproposition1.p1.2"><span class="ltx_text ltx_font_italic" id="Thmproposition1.p1.2.2">AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> always terminates and returns a minimal set of <math alttext="\lambda" class="ltx_Math" display="inline" id="Thmproposition1.p1.1.1.m1.1"><semantics id="Thmproposition1.p1.1.1.m1.1a"><mi id="Thmproposition1.p1.1.1.m1.1.1" xref="Thmproposition1.p1.1.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="Thmproposition1.p1.1.1.m1.1b"><ci id="Thmproposition1.p1.1.1.m1.1.1.cmml" xref="Thmproposition1.p1.1.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmproposition1.p1.1.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="Thmproposition1.p1.1.1.m1.1d">italic_Î»</annotation></semantics></math>-similar labels.
If the utility function is monotonous,
then AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> returns <em class="ltx_emph ltx_font_upright" id="Thmproposition1.p1.2.2.1">all</em> minimal <math alttext="\lambda" class="ltx_Math" display="inline" id="Thmproposition1.p1.2.2.m2.1"><semantics id="Thmproposition1.p1.2.2.m2.1a"><mi id="Thmproposition1.p1.2.2.m2.1.1" xref="Thmproposition1.p1.2.2.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="Thmproposition1.p1.2.2.m2.1b"><ci id="Thmproposition1.p1.2.2.m2.1.1.cmml" xref="Thmproposition1.p1.2.2.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmproposition1.p1.2.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="Thmproposition1.p1.2.2.m2.1d">italic_Î»</annotation></semantics></math>-similar labels.</span></p>
</div>
</div>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.1">As utility functions are not necessarily monotonousÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib26" title="">26</a>]</cite>, AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> is a heuristic in practice. In SectionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5" title="V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">V</span></a>, we evaluate how closely it matches the statement in PropositionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#Thmproposition1" title="Proposition 1. â€£ III-C Correctness â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS4.5.1.1">III-D</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS4.6.2">A System for Label Propagation</span>
</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">We briefly discuss how to integrate AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> into existing model architectures and systems.
For this, we consider two architectures for augmenting language models with retrieved information: prompt-based retrieval augmentationÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib19" title="">19</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib21" title="">21</a>]</cite> and <math alttext="k" class="ltx_Math" display="inline" id="S3.SS4.p1.1.m1.1"><semantics id="S3.SS4.p1.1.m1.1a"><mi id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b"><ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.1.m1.1d">italic_k</annotation></semantics></math>NNÂ language modelsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib20" title="">20</a>]</cite>.</p>
</div>
<section class="ltx_paragraph" id="S3.SS4.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Prompt-based Augmentation</h4>
<div class="ltx_para" id="S3.SS4.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS4.SSS0.Px1.p1.1">Augmenting LLM prompts with retrieved documents has become a popular approach to incorporate a non-parametric datastore into an LLM-based pipelineÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib19" title="">19</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib21" title="">21</a>]</cite>.
For example, in a Retrieval Augmented Generation (RAG) setupÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib19" title="">19</a>]</cite>, the documents most relevant for a query are retrieved and added to the context in the prompt to an autoregressive language model.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS4.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">
<math alttext="k" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.1.m1.1"><semantics id="S3.SS4.SSS0.Px2.1.m1.1b"><mi id="S3.SS4.SSS0.Px2.1.m1.1.1" xref="S3.SS4.SSS0.Px2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.1.m1.1c"><ci id="S3.SS4.SSS0.Px2.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.1.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.1.m1.1e">italic_k</annotation></semantics></math>NNÂ Language Models</h4>
<div class="ltx_para" id="S3.SS4.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS4.SSS0.Px2.p1.5">In the <math alttext="k" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.1.m1.1"><semantics id="S3.SS4.SSS0.Px2.p1.1.m1.1a"><mi id="S3.SS4.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.1.m1.1b"><ci id="S3.SS4.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.1.m1.1d">italic_k</annotation></semantics></math>NN-LMÂ architectureÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib20" title="">20</a>]</cite>, the language model produces an output distribution <math alttext="p_{\text{LM}}(y,x)" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.2.m2.2"><semantics id="S3.SS4.SSS0.Px2.p1.2.m2.2a"><mrow id="S3.SS4.SSS0.Px2.p1.2.m2.2.3" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.cmml"><msub id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.cmml"><mi id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.2" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.2.cmml">p</mi><mtext id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.3" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.3a.cmml">LM</mtext></msub><mo id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.1" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.1.cmml">â¢</mo><mrow id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.3.2" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.3.1.cmml"><mo id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.3.2.1" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.3.1.cmml">(</mo><mi id="S3.SS4.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml">y</mi><mo id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.3.2.2" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.3.1.cmml">,</mo><mi id="S3.SS4.SSS0.Px2.p1.2.m2.2.2" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.2.cmml">x</mi><mo id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.3.2.3" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.2.m2.2b"><apply id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3"><times id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.1"></times><apply id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.2">ğ‘</ci><ci id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.3a.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.3"><mtext id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.3.cmml" mathsize="70%" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.2.3">LM</mtext></ci></apply><interval closure="open" id="S3.SS4.SSS0.Px2.p1.2.m2.2.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.3.3.2"><ci id="S3.SS4.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.1.1">ğ‘¦</ci><ci id="S3.SS4.SSS0.Px2.p1.2.m2.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.2.m2.2.2">ğ‘¥</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.2.m2.2c">p_{\text{LM}}(y,x)</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.2.m2.2d">italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y , italic_x )</annotation></semantics></math> <em class="ltx_emph ltx_font_italic" id="S3.SS4.SSS0.Px2.p1.5.1">without</em> taking into account the retrieved documents.
A separate distribution <math alttext="p_{k\text{NN}}(y|x,C)" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.3.m3.3"><semantics id="S3.SS4.SSS0.Px2.p1.3.m3.3a"><mrow id="S3.SS4.SSS0.Px2.p1.3.m3.3.3" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.cmml"><msub id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.2" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.2.cmml">p</mi><mrow id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.2" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.2.cmml">k</mi><mo id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.1" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.1.cmml">â¢</mo><mtext id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.3" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.3a.cmml">NN</mtext></mrow></msub><mo id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.2" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.2.cmml">â¢</mo><mrow id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.cmml"><mo id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.2" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.cmml">(</mo><mrow id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.2" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.1" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.1.cmml">|</mo><mrow id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.3.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml">x</mi><mo id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.3.2.1" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.3.1.cmml">,</mo><mi id="S3.SS4.SSS0.Px2.p1.3.m3.2.2" xref="S3.SS4.SSS0.Px2.p1.3.m3.2.2.cmml">C</mi></mrow></mrow><mo id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.3" stretchy="false" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.3.m3.3b"><apply id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3"><times id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.2"></times><apply id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.2">ğ‘</ci><apply id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3"><times id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.1"></times><ci id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.2">ğ‘˜</ci><ci id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.3a.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.3"><mtext id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.3.cmml" mathsize="70%" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.3.3.3">NN</mtext></ci></apply></apply><apply id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1"><csymbol cd="latexml" id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.1">conditional</csymbol><ci id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.2">ğ‘¦</ci><list id="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.3.3.1.1.1.3.2"><ci id="S3.SS4.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.1.1">ğ‘¥</ci><ci id="S3.SS4.SSS0.Px2.p1.3.m3.2.2.cmml" xref="S3.SS4.SSS0.Px2.p1.3.m3.2.2">ğ¶</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.3.m3.3c">p_{k\text{NN}}(y|x,C)</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.3.m3.3d">italic_p start_POSTSUBSCRIPT italic_k NN end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C )</annotation></semantics></math> is computed based on the retrieved documents only, using <math alttext="x" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.4.m4.1"><semantics id="S3.SS4.SSS0.Px2.p1.4.m4.1a"><mi id="S3.SS4.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.4.m4.1b"><ci id="S3.SS4.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.4.m4.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.4.m4.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.4.m4.1d">italic_x</annotation></semantics></math> as the criteria for document selection.
Finally, a mixture of both distributions (parameterized by a hyperparameter <math alttext="\gamma" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.5.m5.1"><semantics id="S3.SS4.SSS0.Px2.p1.5.m5.1a"><mi id="S3.SS4.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1.cmml">Î³</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.5.m5.1b"><ci id="S3.SS4.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.5.m5.1.1">ğ›¾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.5.m5.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.5.m5.1d">italic_Î³</annotation></semantics></math>) produces the final retrieval augmented output which is given by</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p(y|x,C)=\gamma p_{k\text{NN}}(y|x,C)+(1-\gamma)p_{\text{LM}}(y|x)\;." class="ltx_Math" display="block" id="S3.E4.m1.5"><semantics id="S3.E4.m1.5a"><mrow id="S3.E4.m1.5.5.1" xref="S3.E4.m1.5.5.1.1.cmml"><mrow id="S3.E4.m1.5.5.1.1" xref="S3.E4.m1.5.5.1.1.cmml"><mrow id="S3.E4.m1.5.5.1.1.1" xref="S3.E4.m1.5.5.1.1.1.cmml"><mi id="S3.E4.m1.5.5.1.1.1.3" xref="S3.E4.m1.5.5.1.1.1.3.cmml">p</mi><mo id="S3.E4.m1.5.5.1.1.1.2" xref="S3.E4.m1.5.5.1.1.1.2.cmml">â¢</mo><mrow id="S3.E4.m1.5.5.1.1.1.1.1" xref="S3.E4.m1.5.5.1.1.1.1.1.1.cmml"><mo id="S3.E4.m1.5.5.1.1.1.1.1.2" stretchy="false" xref="S3.E4.m1.5.5.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.5.5.1.1.1.1.1.1" xref="S3.E4.m1.5.5.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.5.5.1.1.1.1.1.1.2" xref="S3.E4.m1.5.5.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.E4.m1.5.5.1.1.1.1.1.1.1" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S3.E4.m1.5.5.1.1.1.1.1.1.3.2" xref="S3.E4.m1.5.5.1.1.1.1.1.1.3.1.cmml"><mi id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml">x</mi><mo id="S3.E4.m1.5.5.1.1.1.1.1.1.3.2.1" xref="S3.E4.m1.5.5.1.1.1.1.1.1.3.1.cmml">,</mo><mi id="S3.E4.m1.2.2" xref="S3.E4.m1.2.2.cmml">C</mi></mrow></mrow><mo id="S3.E4.m1.5.5.1.1.1.1.1.3" stretchy="false" xref="S3.E4.m1.5.5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.5.5.1.1.5" xref="S3.E4.m1.5.5.1.1.5.cmml">=</mo><mrow id="S3.E4.m1.5.5.1.1.4" xref="S3.E4.m1.5.5.1.1.4.cmml"><mrow id="S3.E4.m1.5.5.1.1.2.1" xref="S3.E4.m1.5.5.1.1.2.1.cmml"><mi id="S3.E4.m1.5.5.1.1.2.1.3" xref="S3.E4.m1.5.5.1.1.2.1.3.cmml">Î³</mi><mo id="S3.E4.m1.5.5.1.1.2.1.2" xref="S3.E4.m1.5.5.1.1.2.1.2.cmml">â¢</mo><msub id="S3.E4.m1.5.5.1.1.2.1.4" xref="S3.E4.m1.5.5.1.1.2.1.4.cmml"><mi id="S3.E4.m1.5.5.1.1.2.1.4.2" xref="S3.E4.m1.5.5.1.1.2.1.4.2.cmml">p</mi><mrow id="S3.E4.m1.5.5.1.1.2.1.4.3" xref="S3.E4.m1.5.5.1.1.2.1.4.3.cmml"><mi id="S3.E4.m1.5.5.1.1.2.1.4.3.2" xref="S3.E4.m1.5.5.1.1.2.1.4.3.2.cmml">k</mi><mo id="S3.E4.m1.5.5.1.1.2.1.4.3.1" xref="S3.E4.m1.5.5.1.1.2.1.4.3.1.cmml">â¢</mo><mtext id="S3.E4.m1.5.5.1.1.2.1.4.3.3" xref="S3.E4.m1.5.5.1.1.2.1.4.3.3a.cmml">NN</mtext></mrow></msub><mo id="S3.E4.m1.5.5.1.1.2.1.2a" xref="S3.E4.m1.5.5.1.1.2.1.2.cmml">â¢</mo><mrow id="S3.E4.m1.5.5.1.1.2.1.1.1" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.cmml"><mo id="S3.E4.m1.5.5.1.1.2.1.1.1.2" stretchy="false" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.5.5.1.1.2.1.1.1.1" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.cmml"><mi id="S3.E4.m1.5.5.1.1.2.1.1.1.1.2" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.E4.m1.5.5.1.1.2.1.1.1.1.1" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.1.cmml">|</mo><mrow id="S3.E4.m1.5.5.1.1.2.1.1.1.1.3.2" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.3.1.cmml"><mi id="S3.E4.m1.3.3" xref="S3.E4.m1.3.3.cmml">x</mi><mo id="S3.E4.m1.5.5.1.1.2.1.1.1.1.3.2.1" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.3.1.cmml">,</mo><mi id="S3.E4.m1.4.4" xref="S3.E4.m1.4.4.cmml">C</mi></mrow></mrow><mo id="S3.E4.m1.5.5.1.1.2.1.1.1.3" stretchy="false" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.5.5.1.1.4.4" xref="S3.E4.m1.5.5.1.1.4.4.cmml">+</mo><mrow id="S3.E4.m1.5.5.1.1.4.3" xref="S3.E4.m1.5.5.1.1.4.3.cmml"><mrow id="S3.E4.m1.5.5.1.1.3.2.1.1" xref="S3.E4.m1.5.5.1.1.3.2.1.1.1.cmml"><mo id="S3.E4.m1.5.5.1.1.3.2.1.1.2" stretchy="false" xref="S3.E4.m1.5.5.1.1.3.2.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.5.5.1.1.3.2.1.1.1" xref="S3.E4.m1.5.5.1.1.3.2.1.1.1.cmml"><mn id="S3.E4.m1.5.5.1.1.3.2.1.1.1.2" xref="S3.E4.m1.5.5.1.1.3.2.1.1.1.2.cmml">1</mn><mo id="S3.E4.m1.5.5.1.1.3.2.1.1.1.1" xref="S3.E4.m1.5.5.1.1.3.2.1.1.1.1.cmml">âˆ’</mo><mi id="S3.E4.m1.5.5.1.1.3.2.1.1.1.3" xref="S3.E4.m1.5.5.1.1.3.2.1.1.1.3.cmml">Î³</mi></mrow><mo id="S3.E4.m1.5.5.1.1.3.2.1.1.3" stretchy="false" xref="S3.E4.m1.5.5.1.1.3.2.1.1.1.cmml">)</mo></mrow><mo id="S3.E4.m1.5.5.1.1.4.3.3" xref="S3.E4.m1.5.5.1.1.4.3.3.cmml">â¢</mo><msub id="S3.E4.m1.5.5.1.1.4.3.4" xref="S3.E4.m1.5.5.1.1.4.3.4.cmml"><mi id="S3.E4.m1.5.5.1.1.4.3.4.2" xref="S3.E4.m1.5.5.1.1.4.3.4.2.cmml">p</mi><mtext id="S3.E4.m1.5.5.1.1.4.3.4.3" xref="S3.E4.m1.5.5.1.1.4.3.4.3a.cmml">LM</mtext></msub><mo id="S3.E4.m1.5.5.1.1.4.3.3a" xref="S3.E4.m1.5.5.1.1.4.3.3.cmml">â¢</mo><mrow id="S3.E4.m1.5.5.1.1.4.3.2.1" xref="S3.E4.m1.5.5.1.1.4.3.2.1.1.cmml"><mo id="S3.E4.m1.5.5.1.1.4.3.2.1.2" stretchy="false" xref="S3.E4.m1.5.5.1.1.4.3.2.1.1.cmml">(</mo><mrow id="S3.E4.m1.5.5.1.1.4.3.2.1.1" xref="S3.E4.m1.5.5.1.1.4.3.2.1.1.cmml"><mi id="S3.E4.m1.5.5.1.1.4.3.2.1.1.2" xref="S3.E4.m1.5.5.1.1.4.3.2.1.1.2.cmml">y</mi><mo fence="false" id="S3.E4.m1.5.5.1.1.4.3.2.1.1.1" xref="S3.E4.m1.5.5.1.1.4.3.2.1.1.1.cmml">|</mo><mi id="S3.E4.m1.5.5.1.1.4.3.2.1.1.3" xref="S3.E4.m1.5.5.1.1.4.3.2.1.1.3.cmml">x</mi></mrow><mo id="S3.E4.m1.5.5.1.1.4.3.2.1.3" stretchy="false" xref="S3.E4.m1.5.5.1.1.4.3.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E4.m1.5.5.1.2" xref="S3.E4.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.5b"><apply id="S3.E4.m1.5.5.1.1.cmml" xref="S3.E4.m1.5.5.1"><eq id="S3.E4.m1.5.5.1.1.5.cmml" xref="S3.E4.m1.5.5.1.1.5"></eq><apply id="S3.E4.m1.5.5.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.1"><times id="S3.E4.m1.5.5.1.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.1.2"></times><ci id="S3.E4.m1.5.5.1.1.1.3.cmml" xref="S3.E4.m1.5.5.1.1.1.3">ğ‘</ci><apply id="S3.E4.m1.5.5.1.1.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1"><csymbol cd="latexml" id="S3.E4.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E4.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1.1.2">ğ‘¦</ci><list id="S3.E4.m1.5.5.1.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1.1.3.2"><ci id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1">ğ‘¥</ci><ci id="S3.E4.m1.2.2.cmml" xref="S3.E4.m1.2.2">ğ¶</ci></list></apply></apply><apply id="S3.E4.m1.5.5.1.1.4.cmml" xref="S3.E4.m1.5.5.1.1.4"><plus id="S3.E4.m1.5.5.1.1.4.4.cmml" xref="S3.E4.m1.5.5.1.1.4.4"></plus><apply id="S3.E4.m1.5.5.1.1.2.1.cmml" xref="S3.E4.m1.5.5.1.1.2.1"><times id="S3.E4.m1.5.5.1.1.2.1.2.cmml" xref="S3.E4.m1.5.5.1.1.2.1.2"></times><ci id="S3.E4.m1.5.5.1.1.2.1.3.cmml" xref="S3.E4.m1.5.5.1.1.2.1.3">ğ›¾</ci><apply id="S3.E4.m1.5.5.1.1.2.1.4.cmml" xref="S3.E4.m1.5.5.1.1.2.1.4"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.2.1.4.1.cmml" xref="S3.E4.m1.5.5.1.1.2.1.4">subscript</csymbol><ci id="S3.E4.m1.5.5.1.1.2.1.4.2.cmml" xref="S3.E4.m1.5.5.1.1.2.1.4.2">ğ‘</ci><apply id="S3.E4.m1.5.5.1.1.2.1.4.3.cmml" xref="S3.E4.m1.5.5.1.1.2.1.4.3"><times id="S3.E4.m1.5.5.1.1.2.1.4.3.1.cmml" xref="S3.E4.m1.5.5.1.1.2.1.4.3.1"></times><ci id="S3.E4.m1.5.5.1.1.2.1.4.3.2.cmml" xref="S3.E4.m1.5.5.1.1.2.1.4.3.2">ğ‘˜</ci><ci id="S3.E4.m1.5.5.1.1.2.1.4.3.3a.cmml" xref="S3.E4.m1.5.5.1.1.2.1.4.3.3"><mtext id="S3.E4.m1.5.5.1.1.2.1.4.3.3.cmml" mathsize="70%" xref="S3.E4.m1.5.5.1.1.2.1.4.3.3">NN</mtext></ci></apply></apply><apply id="S3.E4.m1.5.5.1.1.2.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E4.m1.5.5.1.1.2.1.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.1">conditional</csymbol><ci id="S3.E4.m1.5.5.1.1.2.1.1.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.2">ğ‘¦</ci><list id="S3.E4.m1.5.5.1.1.2.1.1.1.1.3.1.cmml" xref="S3.E4.m1.5.5.1.1.2.1.1.1.1.3.2"><ci id="S3.E4.m1.3.3.cmml" xref="S3.E4.m1.3.3">ğ‘¥</ci><ci id="S3.E4.m1.4.4.cmml" xref="S3.E4.m1.4.4">ğ¶</ci></list></apply></apply><apply id="S3.E4.m1.5.5.1.1.4.3.cmml" xref="S3.E4.m1.5.5.1.1.4.3"><times id="S3.E4.m1.5.5.1.1.4.3.3.cmml" xref="S3.E4.m1.5.5.1.1.4.3.3"></times><apply id="S3.E4.m1.5.5.1.1.3.2.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.3.2.1.1"><minus id="S3.E4.m1.5.5.1.1.3.2.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.3.2.1.1.1.1"></minus><cn id="S3.E4.m1.5.5.1.1.3.2.1.1.1.2.cmml" type="integer" xref="S3.E4.m1.5.5.1.1.3.2.1.1.1.2">1</cn><ci id="S3.E4.m1.5.5.1.1.3.2.1.1.1.3.cmml" xref="S3.E4.m1.5.5.1.1.3.2.1.1.1.3">ğ›¾</ci></apply><apply id="S3.E4.m1.5.5.1.1.4.3.4.cmml" xref="S3.E4.m1.5.5.1.1.4.3.4"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.4.3.4.1.cmml" xref="S3.E4.m1.5.5.1.1.4.3.4">subscript</csymbol><ci id="S3.E4.m1.5.5.1.1.4.3.4.2.cmml" xref="S3.E4.m1.5.5.1.1.4.3.4.2">ğ‘</ci><ci id="S3.E4.m1.5.5.1.1.4.3.4.3a.cmml" xref="S3.E4.m1.5.5.1.1.4.3.4.3"><mtext id="S3.E4.m1.5.5.1.1.4.3.4.3.cmml" mathsize="70%" xref="S3.E4.m1.5.5.1.1.4.3.4.3">LM</mtext></ci></apply><apply id="S3.E4.m1.5.5.1.1.4.3.2.1.1.cmml" xref="S3.E4.m1.5.5.1.1.4.3.2.1"><csymbol cd="latexml" id="S3.E4.m1.5.5.1.1.4.3.2.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.4.3.2.1.1.1">conditional</csymbol><ci id="S3.E4.m1.5.5.1.1.4.3.2.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.4.3.2.1.1.2">ğ‘¦</ci><ci id="S3.E4.m1.5.5.1.1.4.3.2.1.1.3.cmml" xref="S3.E4.m1.5.5.1.1.4.3.2.1.1.3">ğ‘¥</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.5c">p(y|x,C)=\gamma p_{k\text{NN}}(y|x,C)+(1-\gamma)p_{\text{LM}}(y|x)\;.</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.5d">italic_p ( italic_y | italic_x , italic_C ) = italic_Î³ italic_p start_POSTSUBSCRIPT italic_k NN end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C ) + ( 1 - italic_Î³ ) italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.SSS0.Px2.p1.7">While <math alttext="p_{\text{LM}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.6.m1.1"><semantics id="S3.SS4.SSS0.Px2.p1.6.m1.1a"><msub id="S3.SS4.SSS0.Px2.p1.6.m1.1.1" xref="S3.SS4.SSS0.Px2.p1.6.m1.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.6.m1.1.1.2" xref="S3.SS4.SSS0.Px2.p1.6.m1.1.1.2.cmml">p</mi><mtext id="S3.SS4.SSS0.Px2.p1.6.m1.1.1.3" xref="S3.SS4.SSS0.Px2.p1.6.m1.1.1.3a.cmml">LM</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.6.m1.1b"><apply id="S3.SS4.SSS0.Px2.p1.6.m1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.6.m1.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m1.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.6.m1.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m1.1.1.2">ğ‘</ci><ci id="S3.SS4.SSS0.Px2.p1.6.m1.1.1.3a.cmml" xref="S3.SS4.SSS0.Px2.p1.6.m1.1.1.3"><mtext id="S3.SS4.SSS0.Px2.p1.6.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS4.SSS0.Px2.p1.6.m1.1.1.3">LM</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.6.m1.1c">p_{\text{LM}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.6.m1.1d">italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT</annotation></semantics></math> requires expensive LLM inference, the expression <math alttext="p_{k\text{NN}}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px2.p1.7.m2.1"><semantics id="S3.SS4.SSS0.Px2.p1.7.m2.1a"><msub id="S3.SS4.SSS0.Px2.p1.7.m2.1.1" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.2" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.2.cmml">p</mi><mrow id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.cmml"><mi id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.2" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.2.cmml">k</mi><mo id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.1" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.1.cmml">â¢</mo><mtext id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.3" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.3a.cmml">NN</mtext></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px2.p1.7.m2.1b"><apply id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1">subscript</csymbol><ci id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.2">ğ‘</ci><apply id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3"><times id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.1.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.1"></times><ci id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.2.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.2">ğ‘˜</ci><ci id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.3a.cmml" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.3"><mtext id="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.3.cmml" mathsize="70%" xref="S3.SS4.SSS0.Px2.p1.7.m2.1.1.3.3">NN</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px2.p1.7.m2.1c">p_{k\text{NN}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px2.p1.7.m2.1d">italic_p start_POSTSUBSCRIPT italic_k NN end_POSTSUBSCRIPT</annotation></semantics></math> can be computed efficiently by pre-computing a key-value store with a single forward pass over the datastore that is then queried at inference time.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS4.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Label Propagation Wrapper</h4>
<div class="ltx_para" id="S3.SS4.SSS0.Px3.p1">
<p class="ltx_p" id="S3.SS4.SSS0.Px3.p1.2">Our approach can be integrated into both of the above architectures as a <em class="ltx_emph ltx_font_italic" id="S3.SS4.SSS0.Px3.p1.2.1">wrapper</em> around the existing system.
We assume that every document <math alttext="c" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p1.1.m1.1"><semantics id="S3.SS4.SSS0.Px3.p1.1.m1.1a"><mi id="S3.SS4.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS4.SSS0.Px3.p1.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p1.1.m1.1b"><ci id="S3.SS4.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p1.1.m1.1c">c</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px3.p1.1.m1.1d">italic_c</annotation></semantics></math> that can be retrieved has a label <math alttext="\ell(c)" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px3.p1.2.m2.1"><semantics id="S3.SS4.SSS0.Px3.p1.2.m2.1a"><mrow id="S3.SS4.SSS0.Px3.p1.2.m2.1.2" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.2.cmml"><mi id="S3.SS4.SSS0.Px3.p1.2.m2.1.2.2" mathvariant="normal" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.2.2.cmml">â„“</mi><mo id="S3.SS4.SSS0.Px3.p1.2.m2.1.2.1" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.2.1.cmml">â¢</mo><mrow id="S3.SS4.SSS0.Px3.p1.2.m2.1.2.3.2" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.2.cmml"><mo id="S3.SS4.SSS0.Px3.p1.2.m2.1.2.3.2.1" stretchy="false" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.2.cmml">(</mo><mi id="S3.SS4.SSS0.Px3.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.1.cmml">c</mi><mo id="S3.SS4.SSS0.Px3.p1.2.m2.1.2.3.2.2" stretchy="false" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px3.p1.2.m2.1b"><apply id="S3.SS4.SSS0.Px3.p1.2.m2.1.2.cmml" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.2"><times id="S3.SS4.SSS0.Px3.p1.2.m2.1.2.1.cmml" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.2.1"></times><ci id="S3.SS4.SSS0.Px3.p1.2.m2.1.2.2.cmml" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.2.2">â„“</ci><ci id="S3.SS4.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px3.p1.2.m2.1.1">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px3.p1.2.m2.1c">\ell(c)</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px3.p1.2.m2.1d">roman_â„“ ( italic_c )</annotation></semantics></math>.
In practice, if this is not the case, unlabeled documents can be assigned the most restrictive label (i.e. the top of the lattice).
The process then proceeds as follows:</p>
<ol class="ltx_enumerate" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.4">Given a prompt <math alttext="x" class="ltx_Math" display="inline" id="S3.I1.i1.p1.1.m1.1"><semantics id="S3.I1.i1.p1.1.m1.1a"><mi id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b"><ci id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.1.m1.1d">italic_x</annotation></semantics></math>, retrieve the context <math alttext="C" class="ltx_Math" display="inline" id="S3.I1.i1.p1.2.m2.1"><semantics id="S3.I1.i1.p1.2.m2.1a"><mi id="S3.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.p1.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.1b"><ci id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.2.m2.1d">italic_C</annotation></semantics></math> and run the model as usual on <math alttext="(x,C)" class="ltx_Math" display="inline" id="S3.I1.i1.p1.3.m3.2"><semantics id="S3.I1.i1.p1.3.m3.2a"><mrow id="S3.I1.i1.p1.3.m3.2.3.2" xref="S3.I1.i1.p1.3.m3.2.3.1.cmml"><mo id="S3.I1.i1.p1.3.m3.2.3.2.1" stretchy="false" xref="S3.I1.i1.p1.3.m3.2.3.1.cmml">(</mo><mi id="S3.I1.i1.p1.3.m3.1.1" xref="S3.I1.i1.p1.3.m3.1.1.cmml">x</mi><mo id="S3.I1.i1.p1.3.m3.2.3.2.2" xref="S3.I1.i1.p1.3.m3.2.3.1.cmml">,</mo><mi id="S3.I1.i1.p1.3.m3.2.2" xref="S3.I1.i1.p1.3.m3.2.2.cmml">C</mi><mo id="S3.I1.i1.p1.3.m3.2.3.2.3" stretchy="false" xref="S3.I1.i1.p1.3.m3.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.3.m3.2b"><interval closure="open" id="S3.I1.i1.p1.3.m3.2.3.1.cmml" xref="S3.I1.i1.p1.3.m3.2.3.2"><ci id="S3.I1.i1.p1.3.m3.1.1.cmml" xref="S3.I1.i1.p1.3.m3.1.1">ğ‘¥</ci><ci id="S3.I1.i1.p1.3.m3.2.2.cmml" xref="S3.I1.i1.p1.3.m3.2.2">ğ¶</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.3.m3.2c">(x,C)</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.3.m3.2d">( italic_x , italic_C )</annotation></semantics></math> to obtain the original completion <math alttext="y" class="ltx_Math" display="inline" id="S3.I1.i1.p1.4.m4.1"><semantics id="S3.I1.i1.p1.4.m4.1a"><mi id="S3.I1.i1.p1.4.m4.1.1" xref="S3.I1.i1.p1.4.m4.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.4.m4.1b"><ci id="S3.I1.i1.p1.4.m4.1.1.cmml" xref="S3.I1.i1.p1.4.m4.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.4.m4.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.4.m4.1d">italic_y</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.6">Compute the pessimistic label <math alttext="L" class="ltx_Math" display="inline" id="S3.I1.i2.p1.1.m1.1"><semantics id="S3.I1.i2.p1.1.m1.1a"><mi id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.1b"><ci id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.1.m1.1d">italic_L</annotation></semantics></math> of <math alttext="C" class="ltx_Math" display="inline" id="S3.I1.i2.p1.2.m2.1"><semantics id="S3.I1.i2.p1.2.m2.1a"><mi id="S3.I1.i2.p1.2.m2.1.1" xref="S3.I1.i2.p1.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.2.m2.1b"><ci id="S3.I1.i2.p1.2.m2.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.2.m2.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.2.m2.1d">italic_C</annotation></semantics></math>, and run AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> on <math alttext="(C,L,x,y)" class="ltx_Math" display="inline" id="S3.I1.i2.p1.3.m3.4"><semantics id="S3.I1.i2.p1.3.m3.4a"><mrow id="S3.I1.i2.p1.3.m3.4.5.2" xref="S3.I1.i2.p1.3.m3.4.5.1.cmml"><mo id="S3.I1.i2.p1.3.m3.4.5.2.1" stretchy="false" xref="S3.I1.i2.p1.3.m3.4.5.1.cmml">(</mo><mi id="S3.I1.i2.p1.3.m3.1.1" xref="S3.I1.i2.p1.3.m3.1.1.cmml">C</mi><mo id="S3.I1.i2.p1.3.m3.4.5.2.2" xref="S3.I1.i2.p1.3.m3.4.5.1.cmml">,</mo><mi id="S3.I1.i2.p1.3.m3.2.2" xref="S3.I1.i2.p1.3.m3.2.2.cmml">L</mi><mo id="S3.I1.i2.p1.3.m3.4.5.2.3" xref="S3.I1.i2.p1.3.m3.4.5.1.cmml">,</mo><mi id="S3.I1.i2.p1.3.m3.3.3" xref="S3.I1.i2.p1.3.m3.3.3.cmml">x</mi><mo id="S3.I1.i2.p1.3.m3.4.5.2.4" xref="S3.I1.i2.p1.3.m3.4.5.1.cmml">,</mo><mi id="S3.I1.i2.p1.3.m3.4.4" xref="S3.I1.i2.p1.3.m3.4.4.cmml">y</mi><mo id="S3.I1.i2.p1.3.m3.4.5.2.5" stretchy="false" xref="S3.I1.i2.p1.3.m3.4.5.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.3.m3.4b"><vector id="S3.I1.i2.p1.3.m3.4.5.1.cmml" xref="S3.I1.i2.p1.3.m3.4.5.2"><ci id="S3.I1.i2.p1.3.m3.1.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1">ğ¶</ci><ci id="S3.I1.i2.p1.3.m3.2.2.cmml" xref="S3.I1.i2.p1.3.m3.2.2">ğ¿</ci><ci id="S3.I1.i2.p1.3.m3.3.3.cmml" xref="S3.I1.i2.p1.3.m3.3.3">ğ‘¥</ci><ci id="S3.I1.i2.p1.3.m3.4.4.cmml" xref="S3.I1.i2.p1.3.m3.4.4">ğ‘¦</ci></vector></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.3.m3.4c">(C,L,x,y)</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.3.m3.4d">( italic_C , italic_L , italic_x , italic_y )</annotation></semantics></math> to obtain a set <math alttext="\Lambda" class="ltx_Math" display="inline" id="S3.I1.i2.p1.4.m4.1"><semantics id="S3.I1.i2.p1.4.m4.1a"><mi id="S3.I1.i2.p1.4.m4.1.1" mathvariant="normal" xref="S3.I1.i2.p1.4.m4.1.1.cmml">Î›</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.4.m4.1b"><ci id="S3.I1.i2.p1.4.m4.1.1.cmml" xref="S3.I1.i2.p1.4.m4.1.1">Î›</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.4.m4.1c">\Lambda</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.4.m4.1d">roman_Î›</annotation></semantics></math> of labels that are <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.I1.i2.p1.5.m5.1"><semantics id="S3.I1.i2.p1.5.m5.1a"><mi id="S3.I1.i2.p1.5.m5.1.1" xref="S3.I1.i2.p1.5.m5.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.5.m5.1b"><ci id="S3.I1.i2.p1.5.m5.1.1.cmml" xref="S3.I1.i2.p1.5.m5.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.5.m5.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.5.m5.1d">italic_Î»</annotation></semantics></math>-similar to <math alttext="L" class="ltx_Math" display="inline" id="S3.I1.i2.p1.6.m6.1"><semantics id="S3.I1.i2.p1.6.m6.1a"><mi id="S3.I1.i2.p1.6.m6.1.1" xref="S3.I1.i2.p1.6.m6.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.6.m6.1b"><ci id="S3.I1.i2.p1.6.m6.1.1.cmml" xref="S3.I1.i2.p1.6.m6.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.6.m6.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.6.m6.1d">italic_L</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="S3.I1.i3.p1">
<p class="ltx_p" id="S3.I1.i3.p1.3">Choose an appropriate <math alttext="L^{\prime}\in\Lambda" class="ltx_Math" display="inline" id="S3.I1.i3.p1.1.m1.1"><semantics id="S3.I1.i3.p1.1.m1.1a"><mrow id="S3.I1.i3.p1.1.m1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.cmml"><msup id="S3.I1.i3.p1.1.m1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.2.cmml"><mi id="S3.I1.i3.p1.1.m1.1.1.2.2" xref="S3.I1.i3.p1.1.m1.1.1.2.2.cmml">L</mi><mo id="S3.I1.i3.p1.1.m1.1.1.2.3" xref="S3.I1.i3.p1.1.m1.1.1.2.3.cmml">â€²</mo></msup><mo id="S3.I1.i3.p1.1.m1.1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.1.cmml">âˆˆ</mo><mi id="S3.I1.i3.p1.1.m1.1.1.3" mathvariant="normal" xref="S3.I1.i3.p1.1.m1.1.1.3.cmml">Î›</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.1b"><apply id="S3.I1.i3.p1.1.m1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1"><in id="S3.I1.i3.p1.1.m1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1"></in><apply id="S3.I1.i3.p1.1.m1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.1.1.2.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.2">superscript</csymbol><ci id="S3.I1.i3.p1.1.m1.1.1.2.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.2.2">ğ¿</ci><ci id="S3.I1.i3.p1.1.m1.1.1.2.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.2.3">â€²</ci></apply><ci id="S3.I1.i3.p1.1.m1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.3">Î›</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.1c">L^{\prime}\in\Lambda</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.1.m1.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT âˆˆ roman_Î›</annotation></semantics></math> using application-dependant criteria and run the model again on <math alttext="(x,C_{|L^{\prime}})" class="ltx_math_unparsed" display="inline" id="S3.I1.i3.p1.2.m2.2"><semantics id="S3.I1.i3.p1.2.m2.2a"><mrow id="S3.I1.i3.p1.2.m2.2.2.1"><mo id="S3.I1.i3.p1.2.m2.2.2.1.2" stretchy="false">(</mo><mi id="S3.I1.i3.p1.2.m2.1.1">x</mi><mo id="S3.I1.i3.p1.2.m2.2.2.1.3">,</mo><msub id="S3.I1.i3.p1.2.m2.2.2.1.1"><mi id="S3.I1.i3.p1.2.m2.2.2.1.1.2">C</mi><mrow id="S3.I1.i3.p1.2.m2.2.2.1.1.3"><mo fence="false" id="S3.I1.i3.p1.2.m2.2.2.1.1.3.1" rspace="0.167em" stretchy="false">|</mo><msup id="S3.I1.i3.p1.2.m2.2.2.1.1.3.2"><mi id="S3.I1.i3.p1.2.m2.2.2.1.1.3.2.2">L</mi><mo id="S3.I1.i3.p1.2.m2.2.2.1.1.3.2.3">â€²</mo></msup></mrow></msub><mo id="S3.I1.i3.p1.2.m2.2.2.1.4" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="S3.I1.i3.p1.2.m2.2b">(x,C_{|L^{\prime}})</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.2.m2.2c">( italic_x , italic_C start_POSTSUBSCRIPT | italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math> to obtain a new completion <math alttext="y^{\prime}" class="ltx_Math" display="inline" id="S3.I1.i3.p1.3.m3.1"><semantics id="S3.I1.i3.p1.3.m3.1a"><msup id="S3.I1.i3.p1.3.m3.1.1" xref="S3.I1.i3.p1.3.m3.1.1.cmml"><mi id="S3.I1.i3.p1.3.m3.1.1.2" xref="S3.I1.i3.p1.3.m3.1.1.2.cmml">y</mi><mo id="S3.I1.i3.p1.3.m3.1.1.3" xref="S3.I1.i3.p1.3.m3.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.3.m3.1b"><apply id="S3.I1.i3.p1.3.m3.1.1.cmml" xref="S3.I1.i3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.3.m3.1.1.1.cmml" xref="S3.I1.i3.p1.3.m3.1.1">superscript</csymbol><ci id="S3.I1.i3.p1.3.m3.1.1.2.cmml" xref="S3.I1.i3.p1.3.m3.1.1.2">ğ‘¦</ci><ci id="S3.I1.i3.p1.3.m3.1.1.3.cmml" xref="S3.I1.i3.p1.3.m3.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.3.m3.1c">y^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.3.m3.1d">italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span>
<div class="ltx_para" id="S3.I1.i4.p1">
<p class="ltx_p" id="S3.I1.i4.p1.2">Return the new completion <math alttext="y^{\prime}" class="ltx_Math" display="inline" id="S3.I1.i4.p1.1.m1.1"><semantics id="S3.I1.i4.p1.1.m1.1a"><msup id="S3.I1.i4.p1.1.m1.1.1" xref="S3.I1.i4.p1.1.m1.1.1.cmml"><mi id="S3.I1.i4.p1.1.m1.1.1.2" xref="S3.I1.i4.p1.1.m1.1.1.2.cmml">y</mi><mo id="S3.I1.i4.p1.1.m1.1.1.3" xref="S3.I1.i4.p1.1.m1.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.1.m1.1b"><apply id="S3.I1.i4.p1.1.m1.1.1.cmml" xref="S3.I1.i4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i4.p1.1.m1.1.1.1.cmml" xref="S3.I1.i4.p1.1.m1.1.1">superscript</csymbol><ci id="S3.I1.i4.p1.1.m1.1.1.2.cmml" xref="S3.I1.i4.p1.1.m1.1.1.2">ğ‘¦</ci><ci id="S3.I1.i4.p1.1.m1.1.1.3.cmml" xref="S3.I1.i4.p1.1.m1.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i4.p1.1.m1.1c">y^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i4.p1.1.m1.1d">italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math> and the new label <math alttext="L^{\prime}" class="ltx_Math" display="inline" id="S3.I1.i4.p1.2.m2.1"><semantics id="S3.I1.i4.p1.2.m2.1a"><msup id="S3.I1.i4.p1.2.m2.1.1" xref="S3.I1.i4.p1.2.m2.1.1.cmml"><mi id="S3.I1.i4.p1.2.m2.1.1.2" xref="S3.I1.i4.p1.2.m2.1.1.2.cmml">L</mi><mo id="S3.I1.i4.p1.2.m2.1.1.3" xref="S3.I1.i4.p1.2.m2.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.2.m2.1b"><apply id="S3.I1.i4.p1.2.m2.1.1.cmml" xref="S3.I1.i4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I1.i4.p1.2.m2.1.1.1.cmml" xref="S3.I1.i4.p1.2.m2.1.1">superscript</csymbol><ci id="S3.I1.i4.p1.2.m2.1.1.2.cmml" xref="S3.I1.i4.p1.2.m2.1.1.2">ğ¿</ci><ci id="S3.I1.i4.p1.2.m2.1.1.3.cmml" xref="S3.I1.i4.p1.2.m2.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i4.p1.2.m2.1c">L^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i4.p1.2.m2.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math>.</p>
</div>
</li>
</ol>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS4.SSS0.Px4">
<h4 class="ltx_title ltx_title_paragraph">Safety</h4>
<div class="ltx_para" id="S3.SS4.SSS0.Px4.p1">
<p class="ltx_p" id="S3.SS4.SSS0.Px4.p1.3">In practice, our algorithm is an AI-based heuristic that can make mistakes or be misled adversarially (e.g., failing to identify an influential document, or over-estimating the influence of a document).
However, these mistakes do not affect the <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS0.Px4.p1.3.1">safety</span> of the propagated labels.
By rerunning the model on the new context <math alttext="C_{|L^{\prime}}" class="ltx_math_unparsed" display="inline" id="S3.SS4.SSS0.Px4.p1.1.m1.1"><semantics id="S3.SS4.SSS0.Px4.p1.1.m1.1a"><msub id="S3.SS4.SSS0.Px4.p1.1.m1.1.1"><mi id="S3.SS4.SSS0.Px4.p1.1.m1.1.1.2">C</mi><mrow id="S3.SS4.SSS0.Px4.p1.1.m1.1.1.3"><mo fence="false" id="S3.SS4.SSS0.Px4.p1.1.m1.1.1.3.1" rspace="0.167em" stretchy="false">|</mo><msup id="S3.SS4.SSS0.Px4.p1.1.m1.1.1.3.2"><mi id="S3.SS4.SSS0.Px4.p1.1.m1.1.1.3.2.2">L</mi><mo id="S3.SS4.SSS0.Px4.p1.1.m1.1.1.3.2.3">â€²</mo></msup></mrow></msub><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px4.p1.1.m1.1b">C_{|L^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px4.p1.1.m1.1c">italic_C start_POSTSUBSCRIPT | italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> (stepÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.I1.i3" title="item 3 â€£ Label Propagation Wrapper â€£ III-D A System for Label Propagation â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">3</span></a>) and returning only <math alttext="y^{\prime}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px4.p1.2.m2.1"><semantics id="S3.SS4.SSS0.Px4.p1.2.m2.1a"><msup id="S3.SS4.SSS0.Px4.p1.2.m2.1.1" xref="S3.SS4.SSS0.Px4.p1.2.m2.1.1.cmml"><mi id="S3.SS4.SSS0.Px4.p1.2.m2.1.1.2" xref="S3.SS4.SSS0.Px4.p1.2.m2.1.1.2.cmml">y</mi><mo id="S3.SS4.SSS0.Px4.p1.2.m2.1.1.3" xref="S3.SS4.SSS0.Px4.p1.2.m2.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px4.p1.2.m2.1b"><apply id="S3.SS4.SSS0.Px4.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS0.Px4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px4.p1.2.m2.1.1.1.cmml" xref="S3.SS4.SSS0.Px4.p1.2.m2.1.1">superscript</csymbol><ci id="S3.SS4.SSS0.Px4.p1.2.m2.1.1.2.cmml" xref="S3.SS4.SSS0.Px4.p1.2.m2.1.1.2">ğ‘¦</ci><ci id="S3.SS4.SSS0.Px4.p1.2.m2.1.1.3.cmml" xref="S3.SS4.SSS0.Px4.p1.2.m2.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px4.p1.2.m2.1c">y^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px4.p1.2.m2.1d">italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math> (stepÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.I1.i4" title="item 4 â€£ Label Propagation Wrapper â€£ III-D A System for Label Propagation â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">4</span></a>), our approach guarantees that the returned completion depends only on documents at or below <math alttext="L^{\prime}" class="ltx_Math" display="inline" id="S3.SS4.SSS0.Px4.p1.3.m3.1"><semantics id="S3.SS4.SSS0.Px4.p1.3.m3.1a"><msup id="S3.SS4.SSS0.Px4.p1.3.m3.1.1" xref="S3.SS4.SSS0.Px4.p1.3.m3.1.1.cmml"><mi id="S3.SS4.SSS0.Px4.p1.3.m3.1.1.2" xref="S3.SS4.SSS0.Px4.p1.3.m3.1.1.2.cmml">L</mi><mo id="S3.SS4.SSS0.Px4.p1.3.m3.1.1.3" xref="S3.SS4.SSS0.Px4.p1.3.m3.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS0.Px4.p1.3.m3.1b"><apply id="S3.SS4.SSS0.Px4.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS0.Px4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS0.Px4.p1.3.m3.1.1.1.cmml" xref="S3.SS4.SSS0.Px4.p1.3.m3.1.1">superscript</csymbol><ci id="S3.SS4.SSS0.Px4.p1.3.m3.1.1.2.cmml" xref="S3.SS4.SSS0.Px4.p1.3.m3.1.1.2">ğ¿</ci><ci id="S3.SS4.SSS0.Px4.p1.3.m3.1.1.3.cmml" xref="S3.SS4.SSS0.Px4.p1.3.m3.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS0.Px4.p1.3.m3.1c">L^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS0.Px4.p1.3.m3.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math>.
This safety property holds even in the case of adversarial input documents (e.g., prompt injection) because it is enforced by the system, rather than the model.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS5.5.1.1">III-E</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS5.6.2">Computational Cost</span>
</h3>
<div class="ltx_para" id="S3.SS5.p1">
<p class="ltx_p" id="S3.SS5.p1.2">The label propagator wrapper based on prompt-based augmentation requires a number of LLM calls that in the worst-case is exponential in the number of documents in the context.
This occurs e.g., in a flat bounded lattice where all labels between <math alttext="\bot" class="ltx_Math" display="inline" id="S3.SS5.p1.1.m1.1"><semantics id="S3.SS5.p1.1.m1.1a"><mo id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml">âŠ¥</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><csymbol cd="latexml" id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">bottom</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">\bot</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.1.m1.1d">âŠ¥</annotation></semantics></math> and <math alttext="\top" class="ltx_Math" display="inline" id="S3.SS5.p1.2.m2.1"><semantics id="S3.SS5.p1.2.m2.1a"><mo id="S3.SS5.p1.2.m2.1.1" xref="S3.SS5.p1.2.m2.1.1.cmml">âŠ¤</mo><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><csymbol cd="latexml" id="S3.SS5.p1.2.m2.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1">top</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">\top</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.2.m2.1d">âŠ¤</annotation></semantics></math> are incomparable and when each subcontext has a different label.</p>
</div>
<div class="ltx_para" id="S3.SS5.p2">
<p class="ltx_p" id="S3.SS5.p2.2">However, the number of LLM queries is always bounded by the size of the lattice.
When the lattice forms a totally ordered set (e.g. two-element lattices distinguishing between trusted vs untrusted or confidential vs public data), AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> stops as soon as it finds a subcontext whose utility drops below a <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS5.p2.1.m1.1"><semantics id="S3.SS5.p2.1.m1.1a"><mi id="S3.SS5.p2.1.m1.1.1" xref="S3.SS5.p2.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.1.m1.1b"><ci id="S3.SS5.p2.1.m1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.1.m1.1d">italic_Î»</annotation></semantics></math> difference w.r.t. the utility of the full context.
For richer lattices describing more fine-grained security policies, AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> visits a small subset of the lattice in typical queries, either because only a few labels are represented in the context or because the utility drops below the tolerance <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS5.p2.2.m2.1"><semantics id="S3.SS5.p2.2.m2.1a"><mi id="S3.SS5.p2.2.m2.1.1" xref="S3.SS5.p2.2.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.2.m2.1b"><ci id="S3.SS5.p2.2.m2.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.2.m2.1d">italic_Î»</annotation></semantics></math>.
Therefore, computational costs are not a major concern for several fundamental lattices.</p>
</div>
<div class="ltx_para" id="S3.SS5.p3">
<p class="ltx_p" id="S3.SS5.p3.3">To avoid worst-case costs, alternative algorithms or model architectures may be more suitable. For example, the <math alttext="k" class="ltx_Math" display="inline" id="S3.SS5.p3.1.m1.1"><semantics id="S3.SS5.p3.1.m1.1a"><mi id="S3.SS5.p3.1.m1.1.1" xref="S3.SS5.p3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p3.1.m1.1b"><ci id="S3.SS5.p3.1.m1.1.1.cmml" xref="S3.SS5.p3.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p3.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p3.1.m1.1d">italic_k</annotation></semantics></math>NN-based architecture we consider in this paper only requires one additional LLM call per query (<math alttext="p_{\text{LM}}(y|x)" class="ltx_Math" display="inline" id="S3.SS5.p3.2.m2.1"><semantics id="S3.SS5.p3.2.m2.1a"><mrow id="S3.SS5.p3.2.m2.1.1" xref="S3.SS5.p3.2.m2.1.1.cmml"><msub id="S3.SS5.p3.2.m2.1.1.3" xref="S3.SS5.p3.2.m2.1.1.3.cmml"><mi id="S3.SS5.p3.2.m2.1.1.3.2" xref="S3.SS5.p3.2.m2.1.1.3.2.cmml">p</mi><mtext id="S3.SS5.p3.2.m2.1.1.3.3" xref="S3.SS5.p3.2.m2.1.1.3.3a.cmml">LM</mtext></msub><mo id="S3.SS5.p3.2.m2.1.1.2" xref="S3.SS5.p3.2.m2.1.1.2.cmml">â¢</mo><mrow id="S3.SS5.p3.2.m2.1.1.1.1" xref="S3.SS5.p3.2.m2.1.1.1.1.1.cmml"><mo id="S3.SS5.p3.2.m2.1.1.1.1.2" stretchy="false" xref="S3.SS5.p3.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS5.p3.2.m2.1.1.1.1.1" xref="S3.SS5.p3.2.m2.1.1.1.1.1.cmml"><mi id="S3.SS5.p3.2.m2.1.1.1.1.1.2" xref="S3.SS5.p3.2.m2.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.SS5.p3.2.m2.1.1.1.1.1.1" xref="S3.SS5.p3.2.m2.1.1.1.1.1.1.cmml">|</mo><mi id="S3.SS5.p3.2.m2.1.1.1.1.1.3" xref="S3.SS5.p3.2.m2.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.SS5.p3.2.m2.1.1.1.1.3" stretchy="false" xref="S3.SS5.p3.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p3.2.m2.1b"><apply id="S3.SS5.p3.2.m2.1.1.cmml" xref="S3.SS5.p3.2.m2.1.1"><times id="S3.SS5.p3.2.m2.1.1.2.cmml" xref="S3.SS5.p3.2.m2.1.1.2"></times><apply id="S3.SS5.p3.2.m2.1.1.3.cmml" xref="S3.SS5.p3.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS5.p3.2.m2.1.1.3.1.cmml" xref="S3.SS5.p3.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS5.p3.2.m2.1.1.3.2.cmml" xref="S3.SS5.p3.2.m2.1.1.3.2">ğ‘</ci><ci id="S3.SS5.p3.2.m2.1.1.3.3a.cmml" xref="S3.SS5.p3.2.m2.1.1.3.3"><mtext id="S3.SS5.p3.2.m2.1.1.3.3.cmml" mathsize="70%" xref="S3.SS5.p3.2.m2.1.1.3.3">LM</mtext></ci></apply><apply id="S3.SS5.p3.2.m2.1.1.1.1.1.cmml" xref="S3.SS5.p3.2.m2.1.1.1.1"><csymbol cd="latexml" id="S3.SS5.p3.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS5.p3.2.m2.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS5.p3.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS5.p3.2.m2.1.1.1.1.1.2">ğ‘¦</ci><ci id="S3.SS5.p3.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS5.p3.2.m2.1.1.1.1.1.3">ğ‘¥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p3.2.m2.1c">p_{\text{LM}}(y|x)</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p3.2.m2.1d">italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x )</annotation></semantics></math>, in addition to the original query <math alttext="p_{\text{LM}}(y|x,C)" class="ltx_Math" display="inline" id="S3.SS5.p3.3.m3.3"><semantics id="S3.SS5.p3.3.m3.3a"><mrow id="S3.SS5.p3.3.m3.3.3" xref="S3.SS5.p3.3.m3.3.3.cmml"><msub id="S3.SS5.p3.3.m3.3.3.3" xref="S3.SS5.p3.3.m3.3.3.3.cmml"><mi id="S3.SS5.p3.3.m3.3.3.3.2" xref="S3.SS5.p3.3.m3.3.3.3.2.cmml">p</mi><mtext id="S3.SS5.p3.3.m3.3.3.3.3" xref="S3.SS5.p3.3.m3.3.3.3.3a.cmml">LM</mtext></msub><mo id="S3.SS5.p3.3.m3.3.3.2" xref="S3.SS5.p3.3.m3.3.3.2.cmml">â¢</mo><mrow id="S3.SS5.p3.3.m3.3.3.1.1" xref="S3.SS5.p3.3.m3.3.3.1.1.1.cmml"><mo id="S3.SS5.p3.3.m3.3.3.1.1.2" stretchy="false" xref="S3.SS5.p3.3.m3.3.3.1.1.1.cmml">(</mo><mrow id="S3.SS5.p3.3.m3.3.3.1.1.1" xref="S3.SS5.p3.3.m3.3.3.1.1.1.cmml"><mi id="S3.SS5.p3.3.m3.3.3.1.1.1.2" xref="S3.SS5.p3.3.m3.3.3.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.SS5.p3.3.m3.3.3.1.1.1.1" xref="S3.SS5.p3.3.m3.3.3.1.1.1.1.cmml">|</mo><mrow id="S3.SS5.p3.3.m3.3.3.1.1.1.3.2" xref="S3.SS5.p3.3.m3.3.3.1.1.1.3.1.cmml"><mi id="S3.SS5.p3.3.m3.1.1" xref="S3.SS5.p3.3.m3.1.1.cmml">x</mi><mo id="S3.SS5.p3.3.m3.3.3.1.1.1.3.2.1" xref="S3.SS5.p3.3.m3.3.3.1.1.1.3.1.cmml">,</mo><mi id="S3.SS5.p3.3.m3.2.2" xref="S3.SS5.p3.3.m3.2.2.cmml">C</mi></mrow></mrow><mo id="S3.SS5.p3.3.m3.3.3.1.1.3" stretchy="false" xref="S3.SS5.p3.3.m3.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p3.3.m3.3b"><apply id="S3.SS5.p3.3.m3.3.3.cmml" xref="S3.SS5.p3.3.m3.3.3"><times id="S3.SS5.p3.3.m3.3.3.2.cmml" xref="S3.SS5.p3.3.m3.3.3.2"></times><apply id="S3.SS5.p3.3.m3.3.3.3.cmml" xref="S3.SS5.p3.3.m3.3.3.3"><csymbol cd="ambiguous" id="S3.SS5.p3.3.m3.3.3.3.1.cmml" xref="S3.SS5.p3.3.m3.3.3.3">subscript</csymbol><ci id="S3.SS5.p3.3.m3.3.3.3.2.cmml" xref="S3.SS5.p3.3.m3.3.3.3.2">ğ‘</ci><ci id="S3.SS5.p3.3.m3.3.3.3.3a.cmml" xref="S3.SS5.p3.3.m3.3.3.3.3"><mtext id="S3.SS5.p3.3.m3.3.3.3.3.cmml" mathsize="70%" xref="S3.SS5.p3.3.m3.3.3.3.3">LM</mtext></ci></apply><apply id="S3.SS5.p3.3.m3.3.3.1.1.1.cmml" xref="S3.SS5.p3.3.m3.3.3.1.1"><csymbol cd="latexml" id="S3.SS5.p3.3.m3.3.3.1.1.1.1.cmml" xref="S3.SS5.p3.3.m3.3.3.1.1.1.1">conditional</csymbol><ci id="S3.SS5.p3.3.m3.3.3.1.1.1.2.cmml" xref="S3.SS5.p3.3.m3.3.3.1.1.1.2">ğ‘¦</ci><list id="S3.SS5.p3.3.m3.3.3.1.1.1.3.1.cmml" xref="S3.SS5.p3.3.m3.3.3.1.1.1.3.2"><ci id="S3.SS5.p3.3.m3.1.1.cmml" xref="S3.SS5.p3.3.m3.1.1">ğ‘¥</ci><ci id="S3.SS5.p3.3.m3.2.2.cmml" xref="S3.SS5.p3.3.m3.2.2">ğ¶</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p3.3.m3.3c">p_{\text{LM}}(y|x,C)</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p3.3.m3.3d">italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C )</annotation></semantics></math>).</p>
</div>
<div class="ltx_para" id="S3.SS5.p4">
<p class="ltx_p" id="S3.SS5.p4.1">Note that despite an increase in the number of LLM calls for label propagation, the cost incurred per call can be drastically reduced utilizing common inference optimizations implemented in production-ready model serving backendsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib27" title="">27</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib28" title="">28</a>]</cite>.
For instance, compute-bound prompt processing in Transformers can be amortized across calls sharing a common prompt prefix by reusing a KV cache.
For a totally ordered lattice, appending retrieved documents at the end of the prompt sorted by their labels will result in no additional prompt processing costs in subsequent LLM calls because their prompts are obtained by <em class="ltx_emph ltx_font_italic" id="S3.SS5.p4.1.1">peeling off</em> documents at the end of the prompt.</p>
</div>
<div class="ltx_para" id="S3.SS5.p5">
<p class="ltx_p" id="S3.SS5.p5.1">While caching can save computation in processing prompt tokens, it does not impact the efficiency of the memory-bound decoding phase.
However, we can use an algorithm-specific optimization to decode only a subset of the tokens that a naÃ¯ve implementation of AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> would decode.
Since we use negative perplexity as the utility metric, during the decoding phase of an LLM call, we can keep a running calculation of the cumulative likelihood of the tokens decoded so far and stop decoding as soon as the utility drops below a difference <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS5.p5.1.m1.1"><semantics id="S3.SS5.p5.1.m1.1a"><mi id="S3.SS5.p5.1.m1.1.1" xref="S3.SS5.p5.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p5.1.m1.1b"><ci id="S3.SS5.p5.1.m1.1.1.cmml" xref="S3.SS5.p5.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p5.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p5.1.m1.1d">italic_Î»</annotation></semantics></math> of the utility of the full context.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span class="ltx_text ltx_font_smallcaps" id="S4.1.1">Evaluation Setup</span>
</h2>
<figure class="ltx_figure" id="S4.F3"><svg class="ltx_picture ltx_centering" height="136.79" id="S4.F3.pic1" overflow="visible" version="1.1" width="326.64"><g fill="#000000" stroke="#000000" transform="translate(0,136.79) matrix(1 0 0 -1 0 0) translate(163.03,0) translate(0,127.45)"><g stroke-width="0.4pt"><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -22.14 -4.73)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="44.29"><math alttext="ABCD" class="ltx_Math" display="inline" id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">A</mi><mo id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">B</mi><mo id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1a" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.4" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.4.cmml">C</mi><mo id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1b" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.5" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.5.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğ´</ci><ci id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğµ</ci><ci id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.4.cmml" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.4">ğ¶</ci><ci id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.5.cmml" xref="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.5">ğ·</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">ABCD</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">italic_A italic_B italic_C italic_D</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -122.52 -44.1)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="32.45"><math alttext="ABC" class="ltx_Math" display="inline" id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">A</mi><mo id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">B</mi><mo id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.1a" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.4" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.4.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğ´</ci><ci id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğµ</ci><ci id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.4.cmml" xref="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.4">ğ¶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1c">ABC</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1d">italic_A italic_B italic_C</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -52.14 -44.1)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="33.41"><math alttext="ABD" class="ltx_Math" display="inline" id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">A</mi><mo id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">B</mi><mo id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.1a" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.4" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.4.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğ´</ci><ci id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğµ</ci><ci id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.4.cmml" xref="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.4">ğ·</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1c">ABD</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1d">italic_A italic_B italic_D</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 18.88 -44.1)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="33.1"><math alttext="ACD" class="ltx_Math" display="inline" id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">A</mi><mo id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">C</mi><mo id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.1a" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.4" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.4.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğ´</ci><ci id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğ¶</ci><ci id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.4.cmml" xref="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.4">ğ·</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1c">ACD</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1d">italic_A italic_C italic_D</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 89.34 -44.1)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="33.91"><math alttext="BCD" class="ltx_Math" display="inline" id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">B</mi><mo id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">C</mi><mo id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.1a" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.4" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.4.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğµ</ci><ci id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğ¶</ci><ci id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.4.cmml" xref="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.4">ğ·</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1c">BCD</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1d">italic_B italic_C italic_D</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -158.42 -83.47)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="21.57"><math alttext="AB" class="ltx_Math" display="inline" id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">A</mi><mo id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">B</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğ´</ci><ci id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğµ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1c">AB</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1d">italic_A italic_B</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -99.21 -83.47)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="21.26"><math alttext="AC" class="ltx_Math" display="inline" id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">A</mi><mo id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğ´</ci><ci id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğ¶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1c">AC</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1d">italic_A italic_C</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -40.64 -83.47)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="22.22"><math alttext="AD" class="ltx_Math" display="inline" id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">A</mi><mo id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğ´</ci><ci id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğ·</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1c">AD</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1d">italic_A italic_D</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 18.49 -83.47)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="22.07"><math alttext="BC" class="ltx_Math" display="inline" id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">B</mi><mo id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğµ</ci><ci id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğ¶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1c">BC</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1d">italic_B italic_C</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 77.07 -83.47)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="23.03"><math alttext="BD" class="ltx_Math" display="inline" id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">B</mi><mo id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğµ</ci><ci id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğ·</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1c">BD</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1d">italic_B italic_D</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 136.28 -83.47)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="22.72"><math alttext="CD" class="ltx_Math" display="inline" id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.2" xref="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml">C</mi><mo id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.1" xref="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml">â¢</mo><mi id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.3" xref="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1b"><apply id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1"><times id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.1"></times><ci id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.2">ğ¶</ci><ci id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.3">ğ·</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1c">CD</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1d">italic_C italic_D</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -123.3 -122.84)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="10.38"><math alttext="A" class="ltx_Math" display="inline" id="S4.F3.pic1.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1a"><mi id="S4.F3.pic1.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1b"><ci id="S4.F3.pic1.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1d">italic_A</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -44.96 -122.84)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="11.19"><math alttext="B" class="ltx_Math" display="inline" id="S4.F3.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.m1.1a"><mi id="S4.F3.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.m1.1b"><ci id="S4.F3.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.m1.1.1">ğµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.m1.1c">B</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.m1.1d">italic_B</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 33.93 -122.84)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="10.88"><math alttext="C" class="ltx_Math" display="inline" id="S4.F3.pic1.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.m1.1a"><mi id="S4.F3.pic1.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.m1.1b"><ci id="S4.F3.pic1.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.m1.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.m1.1c">C</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.14.14.14.14.14.14.14.14.14.14.14.14.1.1.1.1.1.1.1.1.1.m1.1d">italic_C</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 112.19 -122.84)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="11.84"><math alttext="D" class="ltx_Math" display="inline" id="S4.F3.pic1.15.15.15.15.15.15.15.15.15.15.15.15.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F3.pic1.15.15.15.15.15.15.15.15.15.15.15.15.1.1.1.1.1.1.1.1.1.m1.1a"><mi id="S4.F3.pic1.15.15.15.15.15.15.15.15.15.15.15.15.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F3.pic1.15.15.15.15.15.15.15.15.15.15.15.15.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S4.F3.pic1.15.15.15.15.15.15.15.15.15.15.15.15.1.1.1.1.1.1.1.1.1.m1.1b"><ci id="S4.F3.pic1.15.15.15.15.15.15.15.15.15.15.15.15.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S4.F3.pic1.15.15.15.15.15.15.15.15.15.15.15.15.1.1.1.1.1.1.1.1.1.m1.1.1">ğ·</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.pic1.15.15.15.15.15.15.15.15.15.15.15.15.1.1.1.1.1.1.1.1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S4.F3.pic1.15.15.15.15.15.15.15.15.15.15.15.15.1.1.1.1.1.1.1.1.1.m1.1d">italic_D</annotation></semantics></math></foreignobject></g><path d="M -25.96 -9.62 L -84.59 -31.33" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.93774 -0.34732 0.34732 -0.93774 -84.59 -31.33)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -8.65 -9.62 L -26.35 -29.28" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.66902 -0.74324 0.74324 -0.66902 -26.35 -29.28)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 8.65 -9.62 L 26.35 -29.28" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.66902 -0.74324 0.74324 0.66902 26.35 -29.28)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 25.95 -9.62 L 83.86 -31.06" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.93776 -0.34727 0.34727 0.93776 83.86 -31.06)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -116.39 -48.99 L -137.08 -68.69" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.7242 -0.68959 0.68959 -0.7242 -137.08 -68.68)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -101.97 -48.99 L -93.17 -68.54" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.41042 -0.9119 0.9119 0.41042 -93.17 -68.54)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -85.19 -45.49 L 12.99 -73.95" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.96045 -0.27844 0.27844 0.96045 12.99 -73.95)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -57.03 -46.94 L -131.36 -73.03" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.94357 -0.33115 0.33115 -0.94357 -131.36 -73.03)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -33.99 -48.99 L -31.06 -68.49" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.14836 -0.98894 0.98894 0.14836 -31.06 -68.49)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -13.84 -46.22 L 71.57 -73.34" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.9531 -0.30264 0.30264 0.9531 71.57 -73.34)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 14 -46.17 L -72.46 -73.62" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.9531 -0.30266 0.30266 -0.9531 -72.46 -73.62)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 19.57 -48.99 L -13.12 -68.79" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.85524 -0.51823 0.51823 -0.85524 -13.12 -68.79)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 56.87 -46.89 L 130.79 -72.83" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.94359 -0.3311 0.3311 0.94359 130.79 -72.83)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 87.55 -48.99 L 46.02 -70.29" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.88983 -0.45628 0.45628 -0.88983 46.02 -70.29)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 101.97 -48.99 L 93.17 -68.54" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.41042 -0.9119 0.9119 -0.41042 93.17 -68.54)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 116.39 -48.99 L 137.08 -68.69" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.7242 -0.68959 0.68959 0.7242 137.08 -68.68)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -140.43 -88.36 L -125.7 -107.98" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.60007 -0.79996 0.79996 0.60007 -125.7 -107.98)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -131.97 -84.44 L -50.45 -114.08" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.93977 -0.3418 0.3418 0.93977 -50.45 -114.08)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -95.79 -88.36 L -110.52 -107.98" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.60007 -0.79996 0.79996 -0.60007 -110.52 -107.98)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -73.07 -83.51 L 28.43 -114.75" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.95576 -0.29416 0.29416 0.95576 28.43 -114.75)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -45.53 -85.85 L -107.45 -113.38" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.91379 -0.40617 0.40617 -0.91379 -107.45 -113.38)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M -13.53 -83 L 106.69 -115.07" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.96622 -0.2577 0.2577 0.96622 106.69 -115.07)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 13.6 -87.84 L -28.33 -111.8" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.86821 -0.49619 0.49619 -0.86821 -28.33 -111.8)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 31.93 -88.36 L 36.81 -107.88" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.24258 -0.97012 0.97012 0.24258 36.81 -107.88)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 72.18 -83.78 L -28.28 -114.7" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.95575 -0.29417 0.29417 -0.95575 -28.28 -114.7)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 95.79 -88.36 L 110.52 -107.98" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.60007 -0.79996 0.79996 0.60007 110.52 -107.98)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 131.39 -84.64 L 50.3 -114.14" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.93976 -0.34183 0.34183 -0.93976 50.3 -114.14)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 140.43 -88.36 L 125.7 -107.98" style="fill:none"></path></g><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.60007 -0.79996 0.79996 -0.60007 125.7 -107.98)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g></g></svg>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F3.2.1.1" style="font-size:90%;">Figure 3</span>: </span><span class="ltx_text" id="S4.F3.3.2" style="font-size:90%;">
Illustration of the lattice for the synthetic key-value dataset with 4 documents.
If a query requires multiple documents to produce the correct response, the corresponding label is the joint label of all the documents.
</span></figcaption>
</figure>
<figure class="ltx_figure" id="S4.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><svg class="ltx_picture ltx_centering ltx_figure_panel" height="116.78" id="S4.F4.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,116.78) matrix(1 0 0 -1 0 0)"><g fill="#A6FFA6" fill-opacity="1.0"><path d="M 0 7.87 L 0 108.91 C 0 113.26 3.53 116.78 7.87 116.78 L 592.13 116.78 C 596.47 116.78 600 113.26 600 108.91 L 600 7.87 C 600 3.53 596.47 0 592.13 0 L 7.87 0 C 3.53 0 0 3.53 0 7.87 Z" style="stroke:none"></path></g><g fill="#F2FFF2" fill-opacity="1.0"><path d="M 3.94 7.87 L 3.94 89.83 L 596.06 89.83 L 596.06 7.87 C 596.06 5.7 594.3 3.94 592.13 3.94 L 7.87 3.94 C 5.7 3.94 3.94 5.7 3.94 7.87 Z" style="stroke:none"></path></g><g fill="#808080" fill-opacity="1.0"><path d="M 3.94 93.76 L 3.94 108.91 C 3.94 111.08 5.7 112.84 7.87 112.84 L 592.13 112.84 C 594.3 112.84 596.06 111.08 596.06 108.91 L 596.06 93.76 Z" style="stroke:none"></path><clippath id="pgfcp1"><path d="M 3.94 93.76 L 3.94 108.91 C 3.94 111.08 5.7 112.84 7.87 112.84 L 592.13 112.84 C 594.3 112.84 596.06 111.08 596.06 108.91 L 596.06 93.76 Z"></path></clippath><g clip-path="url(#pgfcp1)"><g transform="matrix(1.0 0.0 0.0 1.0 300 103.3) matrix(0.0 1.0 -1.0 0.0 0 0) matrix(0.27481 0.0 0.0 8.52776 0 0)"><defs><lineargradient gradienttransform="rotate(90)" id="pgfsh2"><stop offset="0.0" stop-color="#E5FFE5"></stop><stop offset="0.24998" stop-color="#E5FFE5"></stop><stop offset="0.49996" stop-color="#D0FFD0"></stop><stop offset="0.75002" stop-color="#BCFFBC"></stop><stop offset="1.0" stop-color="#BCFFBC"></stop></lineargradient></defs><g transform="translate(-69.44 -69.44)"><rect height="138.89" style="fill:url(#pgfsh2);stroke:none" width="138.89"></rect></g></g></g></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 23.62 97.7)"><foreignobject color="#000000" height="11.21" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="552.76">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F4.pic1.1.1.1.1.1" style="width:399.5pt;">
<span class="ltx_p" id="S4.F4.pic1.1.1.1.1.1.1"><span class="ltx_text" id="S4.F4.pic1.1.1.1.1.1.1.1" style="font-size:90%;">Sample documents from the synthetic dataset</span><span class="ltx_text ltx_phantom" id="S4.F4.pic1.1.1.1.1.1.1.2" style="font-size:90%;"><span style="visibility:hidden">Ã„pgjy</span></span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 23.62 15.75)"><foreignobject color="#000000" height="62.27" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="552.76">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F4.pic1.2.2.2.1.1" style="width:399.5pt;">
<span class="ltx_p" id="S4.F4.pic1.2.2.2.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F4.pic1.2.2.2.1.1.1.1" style="font-size:90%;">[Doc A]</span><span class="ltx_text" id="S4.F4.pic1.2.2.2.1.1.1.2" style="font-size:90%;"> The social security number and date of birth of person 1 is SSN00038242 and 26-10-1962.</span></span>
<span class="ltx_p" id="S4.F4.pic1.2.2.2.1.1.2"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F4.pic1.2.2.2.1.1.2.1" style="font-size:90%;">[Doc B]</span><span class="ltx_text" id="S4.F4.pic1.2.2.2.1.1.2.2" style="font-size:90%;"> The social security number of person 2 is SSN00092411.</span></span>
<span class="ltx_p" id="S4.F4.pic1.2.2.2.1.1.3"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F4.pic1.2.2.2.1.1.3.1" style="font-size:90%;">[Doc C]</span><span class="ltx_text" id="S4.F4.pic1.2.2.2.1.1.3.2" style="font-size:90%;"> The date of birth of person 2 is 18-08-1992.</span></span>
<span class="ltx_p" id="S4.F4.pic1.2.2.2.1.1.4"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F4.pic1.2.2.2.1.1.4.1" style="font-size:90%;">[Doc D]</span><span class="ltx_text" id="S4.F4.pic1.2.2.2.1.1.4.2" style="font-size:90%;"> The social security number and date of birth of person 2 is SSN00092411 and 18-08-1992.</span></span>
</span></foreignobject></g></g></svg></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><svg class="ltx_picture ltx_centering ltx_figure_panel" height="118.17" id="S4.F4.pic2" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,118.17) matrix(1 0 0 -1 0 0)"><g fill="#D2D2D2" fill-opacity="1.0"><path d="M 0 7.87 L 0 110.29 C 0 114.64 3.53 118.17 7.87 118.17 L 592.13 118.17 C 596.47 118.17 600 114.64 600 110.29 L 600 7.87 C 600 3.53 596.47 0 592.13 0 L 7.87 0 C 3.53 0 0 3.53 0 7.87 Z" style="stroke:none"></path></g><g fill="#F9F9F9" fill-opacity="1.0"><path d="M 3.94 7.87 L 3.94 91.21 L 596.06 91.21 L 596.06 7.87 C 596.06 5.7 594.3 3.94 592.13 3.94 L 7.87 3.94 C 5.7 3.94 3.94 5.7 3.94 7.87 Z" style="stroke:none"></path></g><g fill="#808080" fill-opacity="1.0"><path d="M 3.94 95.15 L 3.94 110.29 C 3.94 112.47 5.7 114.23 7.87 114.23 L 592.13 114.23 C 594.3 114.23 596.06 112.47 596.06 110.29 L 596.06 95.15 Z" style="stroke:none"></path><clippath id="pgfcp3"><path d="M 3.94 95.15 L 3.94 110.29 C 3.94 112.47 5.7 114.23 7.87 114.23 L 592.13 114.23 C 594.3 114.23 596.06 112.47 596.06 110.29 L 596.06 95.15 Z"></path></clippath><g clip-path="url(#pgfcp3)"><g transform="matrix(1.0 0.0 0.0 1.0 300 104.69) matrix(0.0 1.0 -1.0 0.0 0 0) matrix(0.27481 0.0 0.0 8.52776 0 0)"><defs><lineargradient gradienttransform="rotate(90)" id="pgfsh4"><stop offset="0.0" stop-color="#F2F2F2"></stop><stop offset="0.24998" stop-color="#F2F2F2"></stop><stop offset="0.49996" stop-color="#E8E8E8"></stop><stop offset="0.75002" stop-color="#DEDEDE"></stop><stop offset="1.0" stop-color="#DEDEDE"></stop></lineargradient></defs><g transform="translate(-69.44 -69.44)"><rect height="138.89" style="fill:url(#pgfsh4);stroke:none" width="138.89"></rect></g></g></g></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 23.62 99.08)"><foreignobject color="#000000" height="11.21" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="552.76">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F4.pic2.2.2.2.1.1" style="width:399.5pt;">
<span class="ltx_p" id="S4.F4.pic2.2.2.2.1.1.1"><span class="ltx_text" id="S4.F4.pic2.2.2.2.1.1.1.1" style="font-size:90%;">Sample QA pair from the synthetic dataset</span><span class="ltx_text ltx_phantom" id="S4.F4.pic2.2.2.2.1.1.1.2" style="font-size:90%;"><span style="visibility:hidden">Ã„pgjy</span></span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 23.62 15.75)"><foreignobject color="#000000" height="63.65" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="552.76">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" style="width:399.5pt;">
<span class="ltx_p" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1" style="font-size:90%;">[Question]</span><span class="ltx_text" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" style="font-size:90%;"> What are the social security numbers and date of birth of person 1, and person 2?</span></span>
<span class="ltx_p" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1" style="font-size:90%;">[Answer]</span><span class="ltx_text" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" style="font-size:90%;"> The social security number and date of birth of person 1 is SSN00038242 and 26-10-1962, and person 2 is SSN00092411 and 18-08-1992.</span></span>
<span class="ltx_p" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" style="font-size:90%;">[Label]</span><span class="ltx_text" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" style="font-size:90%;"> </span><math alttext="\{ABC,AD\}" class="ltx_Math" display="inline" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2"><semantics id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2a"><mrow id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.3.cmml"><mo id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.3" maxsize="90%" minsize="90%" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.3.cmml">{</mo><mrow id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.cmml"><mi id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.2" mathsize="90%" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.2.cmml">A</mi><mo id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.1" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.1.cmml">â¢</mo><mi id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.3" mathsize="90%" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.3.cmml">B</mi><mo id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.1a" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.1.cmml">â¢</mo><mi id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.4" mathsize="90%" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.4.cmml">C</mi></mrow><mo id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.4" mathsize="90%" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.3.cmml">,</mo><mrow id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.cmml"><mi id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.2" mathsize="90%" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.2.cmml">A</mi><mo id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.1" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.1.cmml">â¢</mo><mi id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.3" mathsize="90%" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.3.cmml">D</mi></mrow><mo id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.5" maxsize="90%" minsize="90%" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2b"><set id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.3.cmml" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2"><apply id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.cmml" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1"><times id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.1.cmml" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.1"></times><ci id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.2.cmml" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.2">ğ´</ci><ci id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.3.cmml" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.3">ğµ</ci><ci id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.4.cmml" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.1.1.4">ğ¶</ci></apply><apply id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.cmml" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2"><times id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.1.cmml" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.1"></times><ci id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.2.cmml" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.2">ğ´</ci><ci id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.3.cmml" xref="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2.2.2.2.3">ğ·</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2c">\{ABC,AD\}</annotation><annotation encoding="application/x-llamapun" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.2d">{ italic_A italic_B italic_C , italic_A italic_D }</annotation></semantics></math><span class="ltx_text" id="S4.F4.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" style="font-size:90%;"></span></span>
</span></foreignobject></g></g></svg></div>
</div>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Sample documents and QA pairs from the synthetic key-value dataset.</figcaption>
</figure>
<figure class="ltx_figure" id="S4.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><svg class="ltx_picture ltx_centering ltx_figure_panel" height="284.31" id="S4.F5.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,284.31) matrix(1 0 0 -1 0 0)"><g fill="#A6FFA6" fill-opacity="1.0"><path d="M 0 7.87 L 0 276.43 C 0 280.78 3.53 284.31 7.87 284.31 L 592.13 284.31 C 596.47 284.31 600 280.78 600 276.43 L 600 7.87 C 600 3.53 596.47 0 592.13 0 L 7.87 0 C 3.53 0 0 3.53 0 7.87 Z" style="stroke:none"></path></g><g fill="#F2FFF2" fill-opacity="1.0"><path d="M 3.94 7.87 L 3.94 257.35 L 596.06 257.35 L 596.06 7.87 C 596.06 5.7 594.3 3.94 592.13 3.94 L 7.87 3.94 C 5.7 3.94 3.94 5.7 3.94 7.87 Z" style="stroke:none"></path></g><clippath id="pgfcp5"><path d="M 3.94 121.07 M 3.94 121.07 L 3.94 125 L 596.06 125 L 596.06 121.07 Z M 596.06 125"></path></clippath><g clip-path="url(#pgfcp5)"><g transform="matrix(1.0 0.0 0.0 1.0 300 123.03) matrix(0.0 1.0 -1.0 0.0 0 0) matrix(0.05669 0.0 0.0 8.52776 0 0)"><defs><lineargradient gradienttransform="rotate(90)" id="pgfsh6"><stop offset="0.0" stop-color="#E5FFE5"></stop><stop offset="0.24998" stop-color="#E5FFE5"></stop><stop offset="0.49996" stop-color="#D0FFD0"></stop><stop offset="0.75002" stop-color="#BCFFBC"></stop><stop offset="1.0" stop-color="#BCFFBC"></stop></lineargradient></defs><g transform="translate(-69.44 -69.44)"><rect height="138.89" style="fill:url(#pgfsh6);stroke:none" width="138.89"></rect></g></g></g><g fill="#808080" fill-opacity="1.0"><path d="M 3.94 261.29 L 3.94 276.43 C 3.94 278.61 5.7 280.37 7.87 280.37 L 592.13 280.37 C 594.3 280.37 596.06 278.61 596.06 276.43 L 596.06 261.29 Z" style="stroke:none"></path><clippath id="pgfcp7"><path d="M 3.94 261.29 L 3.94 276.43 C 3.94 278.61 5.7 280.37 7.87 280.37 L 592.13 280.37 C 594.3 280.37 596.06 278.61 596.06 276.43 L 596.06 261.29 Z"></path></clippath><g clip-path="url(#pgfcp7)"><g transform="matrix(1.0 0.0 0.0 1.0 300 270.83) matrix(0.0 1.0 -1.0 0.0 0 0) matrix(0.27481 0.0 0.0 8.52776 0 0)"><defs><lineargradient gradienttransform="rotate(90)" id="pgfsh8"><stop offset="0.0" stop-color="#E5FFE5"></stop><stop offset="0.24998" stop-color="#E5FFE5"></stop><stop offset="0.49996" stop-color="#D0FFD0"></stop><stop offset="0.75002" stop-color="#BCFFBC"></stop><stop offset="1.0" stop-color="#BCFFBC"></stop></lineargradient></defs><g transform="translate(-69.44 -69.44)"><rect height="138.89" style="fill:url(#pgfsh8);stroke:none" width="138.89"></rect></g></g></g></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 23.62 265.23)"><foreignobject color="#000000" height="11.21" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="552.76">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F5.pic1.1.1.1.1.1" style="width:399.5pt;">
<span class="ltx_p" id="S4.F5.pic1.1.1.1.1.1.1"><span class="ltx_text" id="S4.F5.pic1.1.1.1.1.1.1.1" style="font-size:90%;">Sample document from the news article dataset</span><span class="ltx_text ltx_phantom" id="S4.F5.pic1.1.1.1.1.1.1.2" style="font-size:90%;"><span style="visibility:hidden">Ã„pgjy</span></span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 23.62 134.85)"><foreignobject color="#000000" height="110.7" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="552.76">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F5.pic1.2.2.2.1.1" style="width:399.5pt;">
<span class="ltx_p" id="S4.F5.pic1.2.2.2.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F5.pic1.2.2.2.1.1.1.1" style="font-size:90%;">[High Integrity]</span><span class="ltx_text" id="S4.F5.pic1.2.2.2.1.1.1.2" style="font-size:90%;"> Apple cuts prices on lower-end iPads, releases red iPhones</span></span>
<span class="ltx_p" id="S4.F5.pic1.2.2.2.1.1.2"><span class="ltx_text" id="S4.F5.pic1.2.2.2.1.1.2.1" style="font-size:90%;">Apple is cutting prices on two iPad models and introducing red iPhones, but the company held back on updating its higher-end iPad Pro tablets.</span></span>
<span class="ltx_p" id="S4.F5.pic1.2.2.2.1.1.3"><span class="ltx_text" id="S4.F5.pic1.2.2.2.1.1.3.1" style="font-size:90%;">A much-speculated 10.5-inch iPad Pro didnâ€™t materialize, nor did new versions of existing sizes in the Pro lineup, which is aimed at businesses and creative professionals. The new devices are mostly refreshes of existing models. Apple unveiled them through press releases Tuesday rather than a staged event, as it typically does for bigger product releases.</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 23.62 15.75)"><foreignobject color="#000000" height="95.48" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="552.76">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F5.pic1.3.3.3.1.1" style="width:399.5pt;">
<span class="ltx_p" id="S4.F5.pic1.3.3.3.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F5.pic1.3.3.3.1.1.1.1" style="font-size:90%;">[Low Integrity]</span><span class="ltx_text" id="S4.F5.pic1.3.3.3.1.1.1.2" style="font-size:90%;"> Apple cuts prices, on lower-end iPads, adds colors to the iPhone lineup</span></span>
<span class="ltx_p" id="S4.F5.pic1.3.3.3.1.1.2"><span class="ltx_text" id="S4.F5.pic1.3.3.3.1.1.2.1" style="font-size:90%;">While the iPad Pro tablets didnâ€™t get an update, the two lower-end iPad models got a $100 price cut today, unveiled through a quiet press release rather than a large staged event. With fans clamoring for a greater variety of colors for their iPhones, Apple announced in the same release five fruit-inspired colors, hearkening to the flavors of the iMac G3 in 1998. The new colors, available starting next Tuesday, are Cherry (red), Lemon (yellow), Lime (green), Blueberry (blue), and Grape (purple).</span></span>
</span></foreignobject></g></g></svg></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><svg class="ltx_picture ltx_centering ltx_figure_panel" height="222.04" id="S4.F5.pic2" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,222.04) matrix(1 0 0 -1 0 0)"><g fill="#D2D2D2" fill-opacity="1.0"><path d="M 0 7.87 L 0 214.17 C 0 218.52 3.53 222.04 7.87 222.04 L 592.13 222.04 C 596.47 222.04 600 218.52 600 214.17 L 600 7.87 C 600 3.53 596.47 0 592.13 0 L 7.87 0 C 3.53 0 0 3.53 0 7.87 Z" style="stroke:none"></path></g><g fill="#F9F9F9" fill-opacity="1.0"><path d="M 3.94 7.87 L 3.94 195.09 L 596.06 195.09 L 596.06 7.87 C 596.06 5.7 594.3 3.94 592.13 3.94 L 7.87 3.94 C 5.7 3.94 3.94 5.7 3.94 7.87 Z" style="stroke:none"></path></g><clippath id="pgfcp9"><path d="M 3.94 89.24 M 3.94 89.24 L 3.94 93.18 L 596.06 93.18 L 596.06 89.24 Z M 596.06 93.18"></path></clippath><g clip-path="url(#pgfcp9)"><g transform="matrix(1.0 0.0 0.0 1.0 300 91.21) matrix(0.0 1.0 -1.0 0.0 0 0) matrix(0.05669 0.0 0.0 8.52776 0 0)"><defs><lineargradient gradienttransform="rotate(90)" id="pgfsh10"><stop offset="0.0" stop-color="#F2F2F2"></stop><stop offset="0.24998" stop-color="#F2F2F2"></stop><stop offset="0.49996" stop-color="#E8E8E8"></stop><stop offset="0.75002" stop-color="#DEDEDE"></stop><stop offset="1.0" stop-color="#DEDEDE"></stop></lineargradient></defs><g transform="translate(-69.44 -69.44)"><rect height="138.89" style="fill:url(#pgfsh10);stroke:none" width="138.89"></rect></g></g></g><g fill="#808080" fill-opacity="1.0"><path d="M 3.94 199.02 L 3.94 214.17 C 3.94 216.34 5.7 218.1 7.87 218.1 L 592.13 218.1 C 594.3 218.1 596.06 216.34 596.06 214.17 L 596.06 199.02 Z" style="stroke:none"></path><clippath id="pgfcp11"><path d="M 3.94 199.02 L 3.94 214.17 C 3.94 216.34 5.7 218.1 7.87 218.1 L 592.13 218.1 C 594.3 218.1 596.06 216.34 596.06 214.17 L 596.06 199.02 Z"></path></clippath><g clip-path="url(#pgfcp11)"><g transform="matrix(1.0 0.0 0.0 1.0 300 208.56) matrix(0.0 1.0 -1.0 0.0 0 0) matrix(0.27481 0.0 0.0 8.52776 0 0)"><defs><lineargradient gradienttransform="rotate(90)" id="pgfsh12"><stop offset="0.0" stop-color="#F2F2F2"></stop><stop offset="0.24998" stop-color="#F2F2F2"></stop><stop offset="0.49996" stop-color="#E8E8E8"></stop><stop offset="0.75002" stop-color="#DEDEDE"></stop><stop offset="1.0" stop-color="#DEDEDE"></stop></lineargradient></defs><g transform="translate(-69.44 -69.44)"><rect height="138.89" style="fill:url(#pgfsh12);stroke:none" width="138.89"></rect></g></g></g></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 23.62 202.96)"><foreignobject color="#000000" height="11.21" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="552.76">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F5.pic2.3.3.3.1.1" style="width:399.5pt;">
<span class="ltx_p" id="S4.F5.pic2.3.3.3.1.1.1"><span class="ltx_text" id="S4.F5.pic2.3.3.3.1.1.1.1" style="font-size:90%;">Sample QA pair from the news article dataset</span><span class="ltx_text ltx_phantom" id="S4.F5.pic2.3.3.3.1.1.1.2" style="font-size:90%;"><span style="visibility:hidden">Ã„pgjy</span></span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 23.62 103.02)"><foreignobject color="#000000" height="80.25" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="552.76">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" style="width:399.5pt;">
<span class="ltx_p" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1" style="font-size:90%;">[Question]</span><span class="ltx_text" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" style="font-size:90%;"> What are the new fruit-inspired colors for the iPhone lineup mentioned in the article about Apple cutting prices on lower-end iPads and adding colors to the iPhone lineup?</span></span>
<span class="ltx_p" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1" style="font-size:90%;">[Answer]</span><span class="ltx_text" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" style="font-size:90%;"> The new fruit-inspired colors for the iPhone lineup mentioned in the article are Cherry (red), Lemon (yellow), Lime (green), Blueberry (blue), and Grape (purple).</span></span>
<span class="ltx_p" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" style="font-size:90%;">[Label]</span><span class="ltx_text" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" style="font-size:90%;"> </span><math alttext="\{\textnormal{LoInt}\}" class="ltx_Math" display="inline" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.2.2" xref="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.2.1.cmml"><mo id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.2.2.1" maxsize="90%" minsize="90%" xref="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.2.1.cmml">{</mo><mtext id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" mathsize="90%" xref="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml">LoInt</mtext><mo id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.2.2.2" maxsize="90%" minsize="90%" xref="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.2.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><set id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.2.1.cmml" xref="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.2.2"><ci id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1a.cmml" xref="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1"><mtext id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" mathsize="90%" xref="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">LoInt</mtext></ci></set></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1c">\{\textnormal{LoInt}\}</annotation><annotation encoding="application/x-llamapun" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1d">{ LoInt }</annotation></semantics></math><span class="ltx_text" id="S4.F5.pic2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" style="font-size:90%;"></span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 23.62 15.75)"><foreignobject color="#000000" height="63.65" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="552.76">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1" style="width:399.5pt;">
<span class="ltx_p" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.2"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.2.1" style="font-size:90%;">[Question]</span><span class="ltx_text" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.2.2" style="font-size:90%;"> What is the new color introduced for the iPhone according to the article about Apple cutting prices on lower-end iPads and releasing red iPhones?</span></span>
<span class="ltx_p" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.3"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.3.1" style="font-size:90%;">[Answer]</span><span class="ltx_text" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.3.2" style="font-size:90%;"> According to the article, the new color introduced for the iPhone is red.</span></span>
<span class="ltx_p" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1" style="font-size:90%;">[Label]</span><span class="ltx_text" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.2" style="font-size:90%;"> </span><math alttext="\{\textnormal{HiInt}\}" class="ltx_Math" display="inline" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1a"><mrow id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.2.2" xref="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.2.1.cmml"><mo id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.2.2.1" maxsize="90%" minsize="90%" xref="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.2.1.cmml">{</mo><mtext id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.1" mathsize="90%" xref="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.1a.cmml">HiInt</mtext><mo id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.2.2.2" maxsize="90%" minsize="90%" xref="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.2.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1b"><set id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.2.1.cmml" xref="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.2.2"><ci id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.1a.cmml" xref="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.1"><mtext id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.1.cmml" mathsize="90%" xref="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1.1">HiInt</mtext></ci></set></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1c">\{\textnormal{HiInt}\}</annotation><annotation encoding="application/x-llamapun" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.m1.1d">{ HiInt }</annotation></semantics></math><span class="ltx_text" id="S4.F5.pic2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.3" style="font-size:90%;"></span></span>
</span></foreignobject></g></g></svg></div>
</div>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Sample documents and QA pairs from the news article dataset.</figcaption>
</figure>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">As this is a novel problem setup, we first define a robust evaluation scheme that we use to evaluate our label propagators and compare them against an introspection baseline.
Our goal is to understand the performance of our label propagator in correctly identifying and propagating minimal labels.
For this, we construct three datasets that enable us to evaluate different aspects of the system.
The evaluation results are presented in SectionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5" title="V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">V</span></a>.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS1.5.1.1">IV-A</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS1.6.2">Research Questions</span>
</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">The goal of the label propagator is to return all minimal <math alttext="\lambda" class="ltx_Math" display="inline" id="S4.SS1.p1.1.m1.1"><semantics id="S4.SS1.p1.1.m1.1a"><mi id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><ci id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.m1.1d">italic_Î»</annotation></semantics></math>-similar labels.
As shown in Proposition <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#Thmproposition1" title="Proposition 1. â€£ III-C Correctness â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a>, this is achieved under monotonicity assumptions that are typically not satisfied in practice.
Therefore, our evaluation aims to quantify how closely the empirical results match this goal.
Specifically, we aim to answer the following research questions:</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">RQ1:</span>
<div class="ltx_para" id="S4.I1.ix1.p1">
<p class="ltx_p" id="S4.I1.ix1.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I1.ix1.p1.1.1">How accurate is our label propagator in identifying the set of minimal labels?</span></p>
</div>
</li>
<li class="ltx_item" id="S4.I1.ix2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">RQ2:</span>
<div class="ltx_para" id="S4.I1.ix2.p1">
<p class="ltx_p" id="S4.I1.ix2.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I1.ix2.p1.1.1">By how much does our label propagator improve over a naÃ¯ve label propagator?</span></p>
</div>
</li>
<li class="ltx_item" id="S4.I1.ix3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">RQ3:</span>
<div class="ltx_para" id="S4.I1.ix3.p1">
<p class="ltx_p" id="S4.I1.ix3.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I1.ix3.p1.1.1">How aligned is the regenerated output for the inferred label with the full-context output?</span></p>
</div>
</li>
</ul>
<p class="ltx_p" id="S4.SS1.p2.1">Research questions RQ1 and RQ2 focus on the performance of AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> directly.
Research question RQ3 focuses on the quality of the final output of the end-to-end system introduced in SectionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS4" title="III-D A System for Label Propagation â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-D</span></span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS2.5.1.1">IV-B</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS2.6.2">Evaluation Metrics</span>
</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.2">We now describe the metrics that we use to answer the aforementioned research questions.
Throughout, we use <math alttext="\Lambda" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" mathvariant="normal" xref="S4.SS2.p1.1.m1.1.1.cmml">Î›</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">Î›</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">\Lambda</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">roman_Î›</annotation></semantics></math> to denote the set of labels returned by AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> and <math alttext="\Lambda^{\star}" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.1"><semantics id="S4.SS2.p1.2.m2.1a"><msup id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mi id="S4.SS2.p1.2.m2.1.1.2" mathvariant="normal" xref="S4.SS2.p1.2.m2.1.1.2.cmml">Î›</mi><mo id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1">superscript</csymbol><ci id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2">Î›</ci><ci id="S4.SS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">\Lambda^{\star}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.1d">roman_Î› start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> as ground truth, i.e., the correct set of minimal labels.</p>
</div>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Exact match</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px1.p1.3">The exact match metric computes the average number of completely correct predictions over all questions.
That is, for each question we count <math alttext="1" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.1.m1.1"><semantics id="S4.SS2.SSS0.Px1.p1.1.m1.1a"><mn id="S4.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.1.m1.1b"><cn id="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.1.m1.1c">1</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.1.m1.1d">1</annotation></semantics></math> if <math alttext="\Lambda=\Lambda^{\star}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.2.m2.1"><semantics id="S4.SS2.SSS0.Px1.p1.2.m2.1a"><mrow id="S4.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.2" mathvariant="normal" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.cmml">=</mo><msup id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.cmml"><mi id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.2" mathvariant="normal" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.3.cmml">â‹†</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.2.m2.1b"><apply id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1"><eq id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1"></eq><ci id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.2">Î›</ci><apply id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3">superscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.2.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.2">Î›</ci><ci id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.3.3">â‹†</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.2.m2.1c">\Lambda=\Lambda^{\star}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.2.m2.1d">roman_Î› = roman_Î› start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="0" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.3.m3.1"><semantics id="S4.SS2.SSS0.Px1.p1.3.m3.1a"><mn id="S4.SS2.SSS0.Px1.p1.3.m3.1.1" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.3.m3.1b"><cn id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1">0</cn></annotation-xml></semantics></math> otherwise.
Exact match gives a direct answer to RQ1, but is very sensitive in that it equally penalizes any imprecision in the label propagator.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Precision and Recall</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px2.p1.5">For a more fine-grained evaluation, we compute precision and recall between <math alttext="\Lambda" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.1.m1.1"><semantics id="S4.SS2.SSS0.Px2.p1.1.m1.1a"><mi id="S4.SS2.SSS0.Px2.p1.1.m1.1.1" mathvariant="normal" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.cmml">Î›</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.1.m1.1b"><ci id="S4.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1">Î›</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.1.m1.1c">\Lambda</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px2.p1.1.m1.1d">roman_Î›</annotation></semantics></math> and <math alttext="\Lambda^{\star}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.2.m2.1"><semantics id="S4.SS2.SSS0.Px2.p1.2.m2.1a"><msup id="S4.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2" mathvariant="normal" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.2.m2.1b"><apply id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1">superscript</csymbol><ci id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.2">Î›</ci><ci id="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.2.m2.1c">\Lambda^{\star}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px2.p1.2.m2.1d">roman_Î› start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> for every question, i.e.,
<math alttext="\left|\Lambda\cap\Lambda^{\star}\right|/\left|\Lambda\right|" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.3.m3.2"><semantics id="S4.SS2.SSS0.Px2.p1.3.m3.2a"><mrow id="S4.SS2.SSS0.Px2.p1.3.m3.2.2" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.cmml"><mrow id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.2.cmml"><mo id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.2" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.2.1.cmml">|</mo><mrow id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.cmml"><mi id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.2" mathvariant="normal" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.1" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.1.cmml">âˆ©</mo><msup id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.cmml"><mi id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.2" mathvariant="normal" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.3" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.3.cmml">â‹†</mo></msup></mrow><mo id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.3" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.2.1.cmml">|</mo></mrow><mo id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.2" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.2.cmml">/</mo><mrow id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.3.2" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.3.1.cmml"><mo id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.3.2.1" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.3.1.1.cmml">|</mo><mi id="S4.SS2.SSS0.Px2.p1.3.m3.1.1" mathvariant="normal" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.3.2.2" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.3.1.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.3.m3.2b"><apply id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2"><divide id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.2.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.2"></divide><apply id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1"><abs id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.2.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.2"></abs><apply id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1"><intersect id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.1"></intersect><ci id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.2">Î›</ci><apply id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3">superscript</csymbol><ci id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.2.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.2">Î›</ci><ci id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.3.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.1.1.1.3.3">â‹†</ci></apply></apply></apply><apply id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.3.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.3.2"><abs id="S4.SS2.SSS0.Px2.p1.3.m3.2.2.3.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.2.2.3.2.1"></abs><ci id="S4.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.3.m3.1.1">Î›</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.3.m3.2c">\left|\Lambda\cap\Lambda^{\star}\right|/\left|\Lambda\right|</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px2.p1.3.m3.2d">| roman_Î› âˆ© roman_Î› start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT | / | roman_Î› |</annotation></semantics></math> and <math alttext="\left|\Lambda\cap\Lambda^{\star}\right|/\left|\Lambda^{\star}\right|" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.4.m4.2"><semantics id="S4.SS2.SSS0.Px2.p1.4.m4.2a"><mrow id="S4.SS2.SSS0.Px2.p1.4.m4.2.2" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.cmml"><mrow id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.2.cmml"><mo id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.2" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.2.1.cmml">|</mo><mrow id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2" mathvariant="normal" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.1" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.1.cmml">âˆ©</mo><msup id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.2" mathvariant="normal" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.3" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.3.cmml">â‹†</mo></msup></mrow><mo id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.3" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.2.1.cmml">|</mo></mrow><mo id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.3" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.3.cmml">/</mo><mrow id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.2.cmml"><mo id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.2" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.2.1.cmml">|</mo><msup id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.cmml"><mi id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.2" mathvariant="normal" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.3" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.3.cmml">â‹†</mo></msup><mo id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.3" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.2.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.4.m4.2b"><apply id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2"><divide id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.3.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.3"></divide><apply id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1"><abs id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.2.1.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.2"></abs><apply id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1"><intersect id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.1"></intersect><ci id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.2">Î›</ci><apply id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3">superscript</csymbol><ci id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.2">Î›</ci><ci id="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.1.1.1.1.1.3.3">â‹†</ci></apply></apply></apply><apply id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.2.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1"><abs id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.2.1.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.2"></abs><apply id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1">superscript</csymbol><ci id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.2">Î›</ci><ci id="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.4.m4.2.2.2.1.1.3">â‹†</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.4.m4.2c">\left|\Lambda\cap\Lambda^{\star}\right|/\left|\Lambda^{\star}\right|</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px2.p1.4.m4.2d">| roman_Î› âˆ© roman_Î› start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT | / | roman_Î› start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT |</annotation></semantics></math>, and average these over the entire dataset.
Note that precision and recall simultaneously reach their maximum of 1 if and only if <math alttext="\Lambda=\Lambda^{\star}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px2.p1.5.m5.1"><semantics id="S4.SS2.SSS0.Px2.p1.5.m5.1a"><mrow id="S4.SS2.SSS0.Px2.p1.5.m5.1.1" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.cmml"><mi id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.2" mathvariant="normal" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.1" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.1.cmml">=</mo><msup id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.cmml"><mi id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.2" mathvariant="normal" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.3" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.3.cmml">â‹†</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px2.p1.5.m5.1b"><apply id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1"><eq id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.1.cmml" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.1"></eq><ci id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.2.cmml" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.2">Î›</ci><apply id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.cmml" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.1.cmml" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3">superscript</csymbol><ci id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.2.cmml" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.2">Î›</ci><ci id="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.3.cmml" xref="S4.SS2.SSS0.Px2.p1.5.m5.1.1.3.3">â‹†</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px2.p1.5.m5.1c">\Lambda=\Lambda^{\star}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px2.p1.5.m5.1d">roman_Î› = roman_Î› start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math>, i.e., we have an exact match.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Label improvement</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px3.p1.2">When the lattice forms a total order (i.e., any two labels are comparable), both <math alttext="\Lambda^{\star}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.1.m1.1"><semantics id="S4.SS2.SSS0.Px3.p1.1.m1.1a"><msup id="S4.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.cmml"><mi id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.2" mathvariant="normal" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.2.cmml">Î›</mi><mo id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.3" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.1.m1.1b"><apply id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1">superscript</csymbol><ci id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.2">Î›</ci><ci id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.1.m1.1c">\Lambda^{\star}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.1.m1.1d">roman_Î› start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\Lambda" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.2.m2.1"><semantics id="S4.SS2.SSS0.Px3.p1.2.m2.1a"><mi id="S4.SS2.SSS0.Px3.p1.2.m2.1.1" mathvariant="normal" xref="S4.SS2.SSS0.Px3.p1.2.m2.1.1.cmml">Î›</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.2.m2.1b"><ci id="S4.SS2.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.2.m2.1.1">Î›</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.2.m2.1c">\Lambda</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.2.m2.1d">roman_Î›</annotation></semantics></math> become singleton sets.
Therefore, in this case, instead of reporting precision and recall over set outputs, we instead report <span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px3.p1.2.1">label improvement</span> and <span class="ltx_text ltx_font_italic" id="S4.SS2.SSS0.Px3.p1.2.2">missed labels</span>.
We define label improvement as the number of cases in which our system improves the output label, as a fraction of the total number of cases where label improvement is possible.
Missed labels, on the other hand, is defined as the number of cases our system misses a label from the context, as a fraction of the total number of cases where our system improves the label.
Note that in the case of more than two labels, these metrics only consider perfect improvement (i.e., the output label exactly matches the ground truth label).</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px4">
<h4 class="ltx_title ltx_title_paragraph">Model output alignment</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px4.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px4.p1.2">The system for label propagation described in SectionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS4" title="III-D A System for Label Propagation â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-D</span></span></a> regenerates the output based on the inferred label.
While the definition of <math alttext="\lambda" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px4.p1.1.m1.1"><semantics id="S4.SS2.SSS0.Px4.p1.1.m1.1a"><mi id="S4.SS2.SSS0.Px4.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px4.p1.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px4.p1.1.m1.1b"><ci id="S4.SS2.SSS0.Px4.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px4.p1.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px4.p1.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px4.p1.1.m1.1d">italic_Î»</annotation></semantics></math>-similarity guarantees that under the subcontext of the inferred label the original output is almost as likely as in the full context, this does not necessarily guarantee that the regenerated output has good utility w.r.t. to other metrics.
To quantify potential deviations, we measure the alignment of the different model outputs w.r.t. the target specified in the dataset i.e., <math alttext="y^{\star}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px4.p1.2.m2.1"><semantics id="S4.SS2.SSS0.Px4.p1.2.m2.1a"><msup id="S4.SS2.SSS0.Px4.p1.2.m2.1.1" xref="S4.SS2.SSS0.Px4.p1.2.m2.1.1.cmml"><mi id="S4.SS2.SSS0.Px4.p1.2.m2.1.1.2" xref="S4.SS2.SSS0.Px4.p1.2.m2.1.1.2.cmml">y</mi><mo id="S4.SS2.SSS0.Px4.p1.2.m2.1.1.3" xref="S4.SS2.SSS0.Px4.p1.2.m2.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px4.p1.2.m2.1b"><apply id="S4.SS2.SSS0.Px4.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS0.Px4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px4.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS0.Px4.p1.2.m2.1.1">superscript</csymbol><ci id="S4.SS2.SSS0.Px4.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS0.Px4.p1.2.m2.1.1.2">ğ‘¦</ci><ci id="S4.SS2.SSS0.Px4.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS0.Px4.p1.2.m2.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px4.p1.2.m2.1c">y^{\star}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px4.p1.2.m2.1d">italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> using ROUGE-LÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib29" title="">29</a>]</cite> metric, which is based on the Longest Common Subsequence (LCS)Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib30" title="">30</a>]</cite> computation and has been commonly used to estimate translation quality in the past.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS0.Px4.p2">
<p class="ltx_p" id="S4.SS2.SSS0.Px4.p2.4">In particular, we report the average alignment of the full context output ROUGE-L<math alttext="(y,y^{\star})" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px4.p2.1.m1.2"><semantics id="S4.SS2.SSS0.Px4.p2.1.m1.2a"><mrow id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.2.cmml"><mo id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.2" stretchy="false" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.2.cmml">(</mo><mi id="S4.SS2.SSS0.Px4.p2.1.m1.1.1" xref="S4.SS2.SSS0.Px4.p2.1.m1.1.1.cmml">y</mi><mo id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.3" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.2.cmml">,</mo><msup id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.cmml"><mi id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.2" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.2.cmml">y</mi><mo id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.3" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.3.cmml">â‹†</mo></msup><mo id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.4" stretchy="false" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px4.p2.1.m1.2b"><interval closure="open" id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.2.cmml" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1"><ci id="S4.SS2.SSS0.Px4.p2.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px4.p2.1.m1.1.1">ğ‘¦</ci><apply id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.cmml" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.1.cmml" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1">superscript</csymbol><ci id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.2.cmml" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.2">ğ‘¦</ci><ci id="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.3.cmml" xref="S4.SS2.SSS0.Px4.p2.1.m1.2.2.1.1.3">â‹†</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px4.p2.1.m1.2c">(y,y^{\star})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px4.p2.1.m1.2d">( italic_y , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT )</annotation></semantics></math>, and the average alignment of the reduced context output after label propagation ROUGE-L<math alttext="(y^{\prime},y^{\star})" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px4.p2.2.m2.2"><semantics id="S4.SS2.SSS0.Px4.p2.2.m2.2a"><mrow id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.3.cmml"><mo id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.3" stretchy="false" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.3.cmml">(</mo><msup id="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1" xref="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.cmml"><mi id="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.2" xref="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.2.cmml">y</mi><mo id="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.3" xref="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.3.cmml">â€²</mo></msup><mo id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.4" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.3.cmml">,</mo><msup id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.cmml"><mi id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.2" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.2.cmml">y</mi><mo id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.3" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.3.cmml">â‹†</mo></msup><mo id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.5" stretchy="false" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px4.p2.2.m2.2b"><interval closure="open" id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.3.cmml" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2"><apply id="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1">superscript</csymbol><ci id="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.2.cmml" xref="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.2">ğ‘¦</ci><ci id="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.3.cmml" xref="S4.SS2.SSS0.Px4.p2.2.m2.1.1.1.1.3">â€²</ci></apply><apply id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.cmml" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.1.cmml" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2">superscript</csymbol><ci id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.2.cmml" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.2">ğ‘¦</ci><ci id="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.3.cmml" xref="S4.SS2.SSS0.Px4.p2.2.m2.2.2.2.2.3">â‹†</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px4.p2.2.m2.2c">(y^{\prime},y^{\star})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px4.p2.2.m2.2d">( italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT )</annotation></semantics></math>.
Furthermore, we report the average difference of the alignment between the reduced context output and full context output i.e., ROUGE-L<math alttext="(y^{\prime},y^{\star})" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px4.p2.3.m3.2"><semantics id="S4.SS2.SSS0.Px4.p2.3.m3.2a"><mrow id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.3.cmml"><mo id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.3" stretchy="false" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.3.cmml">(</mo><msup id="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1" xref="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.cmml"><mi id="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.2" xref="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.2.cmml">y</mi><mo id="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.3" xref="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.3.cmml">â€²</mo></msup><mo id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.4" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.3.cmml">,</mo><msup id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.cmml"><mi id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.2" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.2.cmml">y</mi><mo id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.3" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.3.cmml">â‹†</mo></msup><mo id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.5" stretchy="false" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px4.p2.3.m3.2b"><interval closure="open" id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.3.cmml" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2"><apply id="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1">superscript</csymbol><ci id="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.2.cmml" xref="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.2">ğ‘¦</ci><ci id="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.3.cmml" xref="S4.SS2.SSS0.Px4.p2.3.m3.1.1.1.1.3">â€²</ci></apply><apply id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.cmml" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.1.cmml" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2">superscript</csymbol><ci id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.2.cmml" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.2">ğ‘¦</ci><ci id="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.3.cmml" xref="S4.SS2.SSS0.Px4.p2.3.m3.2.2.2.2.3">â‹†</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px4.p2.3.m3.2c">(y^{\prime},y^{\star})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px4.p2.3.m3.2d">( italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT )</annotation></semantics></math> - ROUGE-L<math alttext="(y,y^{\star})" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px4.p2.4.m4.2"><semantics id="S4.SS2.SSS0.Px4.p2.4.m4.2a"><mrow id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.2.cmml"><mo id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.2" stretchy="false" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.2.cmml">(</mo><mi id="S4.SS2.SSS0.Px4.p2.4.m4.1.1" xref="S4.SS2.SSS0.Px4.p2.4.m4.1.1.cmml">y</mi><mo id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.3" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.2.cmml">,</mo><msup id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.cmml"><mi id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.2" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.2.cmml">y</mi><mo id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.3" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.3.cmml">â‹†</mo></msup><mo id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.4" stretchy="false" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px4.p2.4.m4.2b"><interval closure="open" id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.2.cmml" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1"><ci id="S4.SS2.SSS0.Px4.p2.4.m4.1.1.cmml" xref="S4.SS2.SSS0.Px4.p2.4.m4.1.1">ğ‘¦</ci><apply id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.cmml" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.1.cmml" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1">superscript</csymbol><ci id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.2.cmml" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.2">ğ‘¦</ci><ci id="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.3.cmml" xref="S4.SS2.SSS0.Px4.p2.4.m4.2.2.1.1.3">â‹†</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px4.p2.4.m4.2c">(y,y^{\star})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px4.p2.4.m4.2d">( italic_y , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT )</annotation></semantics></math> in two different cases i.e.,

<span class="ltx_inline-enumerate" id="S4.I2">
<span class="ltx_inline-item" id="S4.I2.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text" id="S4.I2.i1.1">when label improvement is possible, and
</span></span>
<span class="ltx_inline-item" id="S4.I2.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text" id="S4.I2.i2.1">when label improvement is not possible.
</span></span>
</span>
The difference in output alignment should be nearly zero when label improvement is possible, and highly negative when such improvement is not possible.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS3.5.1.1">IV-C</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS3.6.2">Baseline</span>
</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">As a baseline for comparison, we use <em class="ltx_emph ltx_font_italic" id="S4.SS3.p1.1.1">introspection</em> in which the LLM itself is asked to determine which documents in the context were influential.
This is inspired by the recent successful application of language models to generate relevant citations for their own outputsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib31" title="">31</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib32" title="">32</a>]</cite>.
Note that the performance of the introspection technique depends significantly on the prompting technique used, and hence, should be considered as a lower-boundÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib33" title="">33</a>]</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS4.5.1.1">IV-D</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS4.6.2">Models</span>
</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.2">We focus on the Llama-2 model familyÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib2" title="">2</a>]</cite> including its 7B and 70B variants for evaluation.
We use instruction-tuned versions of Llama-2 to ensure accurate response generation unless mentioned otherwise.
For the <math alttext="k" class="ltx_Math" display="inline" id="S4.SS4.p1.1.m1.1"><semantics id="S4.SS4.p1.1.m1.1a"><mi id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.1.m1.1d">italic_k</annotation></semantics></math>NN-LM implementation, we followÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib20" title="">20</a>]</cite> and use the modelâ€™s penultimate layer representation of the last token (conditioned on all preceding tokens in the document) as the context representation for <math alttext="k" class="ltx_Math" display="inline" id="S4.SS4.p1.2.m2.1"><semantics id="S4.SS4.p1.2.m2.1a"><mi id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><ci id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.2.m2.1d">italic_k</annotation></semantics></math>NN search.
Note that while we rely on Llama-2 model familyÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib2" title="">2</a>]</cite> for our experiments, our approach is also applicable to other open-source models, or even proprietary models accessible only via API (though client-side optimizations will be harder to implement).</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS5.5.1.1">IV-E</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS5.6.2">Datasets</span>
</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">Since the problem of label propagation for LLMs has not been previously studied, there are no off-the-shelf datasets available for evaluation.
We thus design three datasets to evaluate different aspects of our label propagator.
Each dataset consists of a set of documents and a set of corresponding question-answer pairs.
The documents and answers all have labels.
The goal of the label propagator is to identify the subsets of documents in a given context that are required for answering the question and have a label that is at least as permissive as the naÃ¯ve label propagator.</p>
</div>
<div class="ltx_para" id="S4.SS5.p2">
<p class="ltx_p" id="S4.SS5.p2.3">We use the target response in the dataset as the completion <math alttext="y" class="ltx_Math" display="inline" id="S4.SS5.p2.1.m1.1"><semantics id="S4.SS5.p2.1.m1.1a"><mi id="S4.SS5.p2.1.m1.1.1" xref="S4.SS5.p2.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.1.m1.1b"><ci id="S4.SS5.p2.1.m1.1.1.cmml" xref="S4.SS5.p2.1.m1.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.1.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p2.1.m1.1d">italic_y</annotation></semantics></math> for AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a>, i.e., we do <em class="ltx_emph ltx_font_italic" id="S4.SS5.p2.3.1">not</em> rely on the model for generating the output unless mentioned otherwise.
This is motivated by the fact that the target label computed in the dataset is only correct w.r.t. the target response.
Therefore, an incorrect completion <math alttext="y" class="ltx_Math" display="inline" id="S4.SS5.p2.2.m2.1"><semantics id="S4.SS5.p2.2.m2.1a"><mi id="S4.SS5.p2.2.m2.1.1" xref="S4.SS5.p2.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.2.m2.1b"><ci id="S4.SS5.p2.2.m2.1.1.cmml" xref="S4.SS5.p2.2.m2.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.2.m2.1c">y</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p2.2.m2.1d">italic_y</annotation></semantics></math> from the model would render the ground-truth label set <math alttext="\Lambda^{\star}" class="ltx_Math" display="inline" id="S4.SS5.p2.3.m3.1"><semantics id="S4.SS5.p2.3.m3.1a"><msup id="S4.SS5.p2.3.m3.1.1" xref="S4.SS5.p2.3.m3.1.1.cmml"><mi id="S4.SS5.p2.3.m3.1.1.2" mathvariant="normal" xref="S4.SS5.p2.3.m3.1.1.2.cmml">Î›</mi><mo id="S4.SS5.p2.3.m3.1.1.3" xref="S4.SS5.p2.3.m3.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.3.m3.1b"><apply id="S4.SS5.p2.3.m3.1.1.cmml" xref="S4.SS5.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS5.p2.3.m3.1.1.1.cmml" xref="S4.SS5.p2.3.m3.1.1">superscript</csymbol><ci id="S4.SS5.p2.3.m3.1.1.2.cmml" xref="S4.SS5.p2.3.m3.1.1.2">Î›</ci><ci id="S4.SS5.p2.3.m3.1.1.3.cmml" xref="S4.SS5.p2.3.m3.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.3.m3.1c">\Lambda^{\star}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p2.3.m3.1d">roman_Î› start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> incorrect.
We quantify the implications of this decision in SectionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.SS3" title="V-C LLM agent dataset â€£ V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">V-C</span></span></a>, where we compare the difference in performance between the dataset target and the model-generated output.</p>
</div>
<section class="ltx_paragraph" id="S4.SS5.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Synthetic key-value dataset</h4>
<div class="ltx_para" id="S4.SS5.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS5.SSS0.Px1.p1.6">We create a set of key-value pairs that contain hypothetical individualsâ€™ IDs as keys, and their Social Security Numbers (SSNs) and dates of birth (DoB) as values.
We randomly split, distribute, and replicate the key-value pairs across multiple documents, and we attach a unique label to each document.
We design the questions such that obtaining the correct answer requires identifying the different combinations of documents that contain all the necessary values.
An example of the generated documents and QA pairs is shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.F4" title="Figure 4 â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">4</span></a>.
In this example, the question can be answered with access to documents <math alttext="A" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p1.1.m1.1"><semantics id="S4.SS5.SSS0.Px1.p1.1.m1.1a"><mi id="S4.SS5.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS5.SSS0.Px1.p1.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p1.1.m1.1b"><ci id="S4.SS5.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S4.SS5.SSS0.Px1.p1.1.m1.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p1.1.m1.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p1.1.m1.1d">italic_A</annotation></semantics></math>, <math alttext="B" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p1.2.m2.1"><semantics id="S4.SS5.SSS0.Px1.p1.2.m2.1a"><mi id="S4.SS5.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS5.SSS0.Px1.p1.2.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p1.2.m2.1b"><ci id="S4.SS5.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S4.SS5.SSS0.Px1.p1.2.m2.1.1">ğµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p1.2.m2.1c">B</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p1.2.m2.1d">italic_B</annotation></semantics></math>, and <math alttext="C" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p1.3.m3.1"><semantics id="S4.SS5.SSS0.Px1.p1.3.m3.1a"><mi id="S4.SS5.SSS0.Px1.p1.3.m3.1.1" xref="S4.SS5.SSS0.Px1.p1.3.m3.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p1.3.m3.1b"><ci id="S4.SS5.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S4.SS5.SSS0.Px1.p1.3.m3.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p1.3.m3.1c">C</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p1.3.m3.1d">italic_C</annotation></semantics></math> or with access to documents <math alttext="A" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p1.4.m4.1"><semantics id="S4.SS5.SSS0.Px1.p1.4.m4.1a"><mi id="S4.SS5.SSS0.Px1.p1.4.m4.1.1" xref="S4.SS5.SSS0.Px1.p1.4.m4.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p1.4.m4.1b"><ci id="S4.SS5.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S4.SS5.SSS0.Px1.p1.4.m4.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p1.4.m4.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p1.4.m4.1d">italic_A</annotation></semantics></math> and <math alttext="D" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p1.5.m5.1"><semantics id="S4.SS5.SSS0.Px1.p1.5.m5.1a"><mi id="S4.SS5.SSS0.Px1.p1.5.m5.1.1" xref="S4.SS5.SSS0.Px1.p1.5.m5.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p1.5.m5.1b"><ci id="S4.SS5.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S4.SS5.SSS0.Px1.p1.5.m5.1.1">ğ·</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p1.5.m5.1c">D</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p1.5.m5.1d">italic_D</annotation></semantics></math>.
Consequently, the label search should yield <math alttext="\{ABC=A\sqcup B\sqcup C,AD=A\sqcup D\}" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p1.6.m6.1"><semantics id="S4.SS5.SSS0.Px1.p1.6.m6.1a"><mrow id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.2.cmml"><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.2" stretchy="false" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.2.cmml">{</mo><mrow id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.3.cmml"><mrow id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.cmml"><mrow id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.cmml"><mi id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.2" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.2.cmml">A</mi><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.1" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.1.cmml">â¢</mo><mi id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.3" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.3.cmml">B</mi><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.1a" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.1.cmml">â¢</mo><mi id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.4" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.4.cmml">C</mi></mrow><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.1" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.1.cmml">=</mo><mrow id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.cmml"><mi id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.2" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.2.cmml">A</mi><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.1" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.1.cmml">âŠ”</mo><mi id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.3" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.3.cmml">B</mi><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.1a" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.1.cmml">âŠ”</mo><mi id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.4" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.4.cmml">C</mi></mrow></mrow><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.3" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.3a.cmml">,</mo><mrow id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.cmml"><mrow id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.cmml"><mi id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.2" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.2.cmml">A</mi><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.1" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.1.cmml">â¢</mo><mi id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.3" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.3.cmml">D</mi></mrow><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.1" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.1.cmml">=</mo><mrow id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.cmml"><mi id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.2" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.2.cmml">A</mi><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.1" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.1.cmml">âŠ”</mo><mi id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.3" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.3.cmml">D</mi></mrow></mrow></mrow><mo id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.3" stretchy="false" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p1.6.m6.1b"><set id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1"><apply id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.3.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.3a.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1"><eq id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.1.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.1"></eq><apply id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2"><times id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.1.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.1"></times><ci id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.2.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.2">ğ´</ci><ci id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.3.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.3">ğµ</ci><ci id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.4.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.2.4">ğ¶</ci></apply><apply id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.1.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.1">square-union</csymbol><ci id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.2.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.2">ğ´</ci><ci id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.3.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.3">ğµ</ci><ci id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.4.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.1.1.3.4">ğ¶</ci></apply></apply><apply id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2"><eq id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.1.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.1"></eq><apply id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2"><times id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.1.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.1"></times><ci id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.2.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.2">ğ´</ci><ci id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.3.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.2.3">ğ·</ci></apply><apply id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3"><csymbol cd="latexml" id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.1.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.1">square-union</csymbol><ci id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.2.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.2">ğ´</ci><ci id="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.3.cmml" xref="S4.SS5.SSS0.Px1.p1.6.m6.1.1.1.1.2.2.3.3">ğ·</ci></apply></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p1.6.m6.1c">\{ABC=A\sqcup B\sqcup C,AD=A\sqcup D\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p1.6.m6.1d">{ italic_A italic_B italic_C = italic_A âŠ” italic_B âŠ” italic_C , italic_A italic_D = italic_A âŠ” italic_D }</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S4.SS5.SSS0.Px1.p2">
<p class="ltx_p" id="S4.SS5.SSS0.Px1.p2.1">Since each document has a unique label, it corresponds to a node at the bottom of the lattice (similar to the example shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.F3" title="Figure 3 â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">3</span></a>).
Each set of documents (i.e., subset of the context) therefore corresponds to a unique element in the lattice.
The documents and question-answer pairs are designed such that the question can be answered from different combinations of subsets in the context.
Identifying all minimal labels corresponds to identifying all these subsets.</p>
</div>
<div class="ltx_para" id="S4.SS5.SSS0.Px1.p3">
<p class="ltx_p" id="S4.SS5.SSS0.Px1.p3.1">We generated a total of 128 documents (i.e., 128 labels) and 64 question-answer pairs.
To ensure computational tractability, we set the context size to be 14 documents for each question.
We ensure that all necessary documents are included in the context, thus emulating the case of a retriever component with perfect recall (all necessary documents are present) but lower precision (the context may contain irrelevant documents).
This dataset represents a challenge in terms of the complexity and size of the search space because the full set of labels contains <math alttext="2^{14}" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px1.p3.1.m1.1"><semantics id="S4.SS5.SSS0.Px1.p3.1.m1.1a"><msup id="S4.SS5.SSS0.Px1.p3.1.m1.1.1" xref="S4.SS5.SSS0.Px1.p3.1.m1.1.1.cmml"><mn id="S4.SS5.SSS0.Px1.p3.1.m1.1.1.2" xref="S4.SS5.SSS0.Px1.p3.1.m1.1.1.2.cmml">2</mn><mn id="S4.SS5.SSS0.Px1.p3.1.m1.1.1.3" xref="S4.SS5.SSS0.Px1.p3.1.m1.1.1.3.cmml">14</mn></msup><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px1.p3.1.m1.1b"><apply id="S4.SS5.SSS0.Px1.p3.1.m1.1.1.cmml" xref="S4.SS5.SSS0.Px1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS5.SSS0.Px1.p3.1.m1.1.1.1.cmml" xref="S4.SS5.SSS0.Px1.p3.1.m1.1.1">superscript</csymbol><cn id="S4.SS5.SSS0.Px1.p3.1.m1.1.1.2.cmml" type="integer" xref="S4.SS5.SSS0.Px1.p3.1.m1.1.1.2">2</cn><cn id="S4.SS5.SSS0.Px1.p3.1.m1.1.1.3.cmml" type="integer" xref="S4.SS5.SSS0.Px1.p3.1.m1.1.1.3">14</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px1.p3.1.m1.1c">2^{14}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px1.p3.1.m1.1d">2 start_POSTSUPERSCRIPT 14 end_POSTSUPERSCRIPT</annotation></semantics></math> elements for each question.
Since there is only a partial order in this lattice, we use the precision and recall metrics for evaluation.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS5.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">News article dataset</h4>
<div class="ltx_para" id="S4.SS5.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS5.SSS0.Px2.p1.1">Starting from an existing fake news datasetÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib34" title="">34</a>]</cite>, we create pairs of high and low-integrity news articles that discuss similar topics to each other.
Contrary to the previous dataset, we focus on a simpler lattice but more complex language in this case.
Using GPT-4Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib1" title="">1</a>]</cite>, we generated QA pairs based on these articles, where some of the answers depended only on the LoInt document, others only on the HiInt document, and some on both documents.
An example document pair and QA pair is shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.F5" title="Figure 5 â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">5</span></a>.
The dataset in total contains 240 document pairs of corresponding LoInt and HiInt documents, as well as 3465 QA pairs.
Compared to a naÃ¯ve label propagator, it is possible to improve the label on 647 of these QA pairs.
Since there is a total order in the lattice, we report label improvement metrics for this dataset.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS5.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">LLM agent dataset</h4>
<figure class="ltx_figure" id="S4.F6"><svg class="ltx_picture ltx_centering" height="433.31" id="S4.F6.1.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,433.31) matrix(1 0 0 -1 0 0)"><g fill="#BFBFBF" fill-opacity="1.0"><path d="M 0 5.91 L 0 427.4 C 0 430.66 2.64 433.31 5.91 433.31 L 594.09 433.31 C 597.36 433.31 600 430.66 600 427.4 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F9F9F9" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 410.29 L 598.03 410.29 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill="#808080" fill-opacity="1.0"><path d="M 1.97 412.26 L 1.97 427.4 C 1.97 429.57 3.73 431.34 5.91 431.34 L 594.09 431.34 C 596.27 431.34 598.03 429.57 598.03 427.4 L 598.03 412.26 Z" style="stroke:none"></path><clippath id="pgfcp13"><path d="M 1.97 412.26 L 1.97 427.4 C 1.97 429.57 3.73 431.34 5.91 431.34 L 594.09 431.34 C 596.27 431.34 598.03 429.57 598.03 427.4 L 598.03 412.26 Z"></path></clippath><g clip-path="url(#pgfcp13)"><g transform="matrix(1.0 0.0 0.0 1.0 300 421.8) matrix(0.0 1.0 -1.0 0.0 0 0) matrix(0.27481 0.0 0.0 8.58446 0 0)"><defs><lineargradient gradienttransform="rotate(90)" id="pgfsh14"><stop offset="0.0" stop-color="#EEEEEE"></stop><stop offset="0.24998" stop-color="#EEEEEE"></stop><stop offset="0.49996" stop-color="#DFDFDF"></stop><stop offset="0.75002" stop-color="#CFCFCF"></stop><stop offset="1.0" stop-color="#CFCFCF"></stop></lineargradient></defs><g transform="translate(-69.44 -69.44)"><rect height="138.89" style="fill:url(#pgfsh14);stroke:none" width="138.89"></rect></g></g></g></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 416.19)"><foreignobject color="#000000" height="11.21" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F6.1.pic1.5.5.5.1.1" style="width:402.3pt;">
<span class="ltx_p" id="S4.F6.1.pic1.5.5.5.1.1.1"><span class="ltx_text" id="S4.F6.1.pic1.5.5.5.1.1.1.1" style="font-size:90%;">An example from the Tool Calling LLM case study</span><span class="ltx_text ltx_phantom" id="S4.F6.1.pic1.5.5.5.1.1.1.2" style="font-size:90%;"><span style="visibility:hidden">Ã„pgjy</span></span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="384.7" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69"><span class="ltx_inline-logical-block ltx_minipage ltx_align_bottom" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4" style="width:402.3pt;">
<span class="ltx_para ltx_noindent" id="S4.F6.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1"><svg class="ltx_picture" height="56.98" id="S4.F6.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,56.98) matrix(1 0 0 -1 0 0)"><g fill="#333333" fill-opacity="1.0"><path d="M 0 5.91 L 0 51.08 C 0 54.34 2.64 56.98 5.91 56.98 L 594.09 56.98 C 597.36 56.98 600 54.34 600 51.08 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 36.66 L 598.03 36.66 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 42.57)"><foreignobject height="8.51" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F6.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1.1.1.1.1.1" style="width:402.3pt;">
<span class="ltx_p" id="S4.F6.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1.1.1.1.1.1.1"><span class="ltx_text" id="S4.F6.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1.1.1.1.1.1.1.1" style="font-size:90%;">User</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject height="11.07" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F6.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1.2.2.2.1.1" style="width:402.3pt;">
<span class="ltx_p" id="S4.F6.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1.2.2.2.1.1.1"><span class="ltx_text" id="S4.F6.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.pic1.2.2.2.1.1.1.1" style="font-size:90%;">How many people live in New York City?</span></span>
</span></foreignobject></g></g></svg>
</span>
<span class="ltx_para ltx_noindent" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2"><svg class="ltx_picture" height="108.32" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,108.32) matrix(1 0 0 -1 0 0)"><g fill="#FF3333" fill-opacity="1.0"><path d="M 0 5.91 L 0 102.41 C 0 105.67 2.64 108.32 5.91 108.32 L 594.09 108.32 C 597.36 108.32 600 105.67 600 102.41 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#FFF2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 87.86 L 598.03 87.86 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 93.76)"><foreignobject height="8.65" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1.1.1.1.1.1" style="width:402.3pt;">
<span class="ltx_p" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1.1.1.1.1.1.1"><span class="ltx_text" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1.1.1.1.1.1.1.1" style="font-size:90%;">Model</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject height="62.27" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1.2.2.2.1.1" style="width:402.3pt;">
<span class="ltx_p" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1.2.2.2.1.1.1"><span class="ltx_text" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1.2.2.2.1.1.1.1" style="font-size:90%;">Tool: search_query</span></span>
<span class="ltx_p" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1.2.2.2.1.1.2"><span class="ltx_text" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1.2.2.2.1.1.2.1" style="font-size:90%;">Relevant context: Need to perform a search query to find the latest population data of New York City</span></span>
<span class="ltx_p" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1.2.2.2.1.1.3"><span class="ltx_text" id="S4.F6.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.pic1.2.2.2.1.1.3.1" style="font-size:90%;">Args: { "query_str": "current population of New York City" }</span></span>
</span></foreignobject></g></g></svg>
</span>
<span class="ltx_para ltx_noindent" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3"><svg class="ltx_picture" height="122.15" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,122.15) matrix(1 0 0 -1 0 0)"><g fill="#3333FF" fill-opacity="1.0"><path d="M 0 5.91 L 0 116.25 C 0 119.51 2.64 122.15 5.91 122.15 L 594.09 122.15 C 597.36 122.15 600 119.51 600 116.25 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2FF" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 101.69 L 598.03 101.69 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 107.6)"><foreignobject height="8.65" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.1.1.1.1.1" style="width:402.3pt;">
<span class="ltx_p" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.1.1.1.1.1.1"><span class="ltx_text" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.1.1.1.1.1.1.1" style="font-size:90%;">Tool</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject class="ltx_minipage" height="76.1" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="402.3pt">
<table class="ltx_tabular ltx_align_middle" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1">
<tr class="ltx_tr" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.1.1.1" style="font-size:90%;">Source</span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.1.2.1" style="font-size:90%;">Information</span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.1.3.1" style="font-size:90%;">Security Label</span></td>
</tr>
<tr class="ltx_tr" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.2.1"><span class="ltx_text" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.2.1.1" style="font-size:90%;">1.</span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.2.2"><span class="ltx_text" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.2.2.1" style="font-size:90%;">The population of New York City is approximately 8.4 million as of 2021.</span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.2.3"><span class="ltx_text" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.2.3.1" style="font-size:90%;">HiInt</span></td>
</tr>
<tr class="ltx_tr" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.3.1"><span class="ltx_text" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.3.1.1" style="font-size:90%;">2.</span></td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.3.2"><span class="ltx_text" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.3.2.1" style="font-size:90%;">New York City has a population of around 8 million.</span></td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.3.3"><span class="ltx_text" id="S4.F6.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.pic1.2.2.2.1.1.3.3.1" style="font-size:90%;">LoInt</span></td>
</tr>
</table></foreignobject></g></g></svg>
</span>
<span class="ltx_para ltx_noindent" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4"><svg class="ltx_picture" height="91.71" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,91.71) matrix(1 0 0 -1 0 0)"><g fill="#FF3333" fill-opacity="1.0"><path d="M 0 5.91 L 0 85.81 C 0 89.07 2.64 91.71 5.91 91.71 L 594.09 91.71 C 597.36 91.71 600 89.07 600 85.81 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#FFF2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 71.25 L 598.03 71.25 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 77.16)"><foreignobject height="8.65" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1.1.1.1.1.1" style="width:402.3pt;">
<span class="ltx_p" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1.1.1.1.1.1.1"><span class="ltx_text" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1.1.1.1.1.1.1.1" style="font-size:90%;">Model</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject height="45.66" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1.2.2.2.1.1" style="width:402.3pt;">
<span class="ltx_p" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1.2.2.2.1.1.1"><span class="ltx_text" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1.2.2.2.1.1.1.1" style="font-size:90%;">Tool: respond</span></span>
<span class="ltx_p" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1.2.2.2.1.1.2"><span class="ltx_text" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1.2.2.2.1.1.2.1" style="font-size:90%;">Relevant context: Need to respond back to the userâ€™s query</span></span>
<span class="ltx_p" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1.2.2.2.1.1.3"><span class="ltx_text" id="S4.F6.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.p4.pic1.2.2.2.1.1.3.1" style="font-size:90%;">Args: { "text_str": "The current population of New York City is approximately 8.4 million." }</span></span>
</span></foreignobject></g></g></svg>
</span></span></foreignobject></g></g></svg>
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>An example interaction from the tool calling LLM case study, where the user query triggers a web search. The items returned by the tool have different labels. The aim of our label propagator is to identify the label for the final model output. Since the high-reliability output is sufficient to answer the query in this case, the label propagator can upgrade the label of the output to high reliability instead of the naive baseline of propagating the low-reliability label.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS5.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS5.SSS0.Px3.p1.1">Motivated by the recent emergence of LLM agentsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib7" title="">7</a>]</cite> and tool use in LLMsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib22" title="">22</a>]</cite>, we design an LLM agent dataset that focuses on tool use.
Retrieval tools such as web or email search typically return multiple results of varying integrity levels.
For example, in the case of web search, official documentation like <span class="ltx_text ltx_font_typewriter" id="S4.SS5.SSS0.Px3.p1.1.1">docs.python.org</span> might be deemed to be higher integrity than community curated sources such as <span class="ltx_text ltx_font_typewriter" id="S4.SS5.SSS0.Px3.p1.1.2">stackoverflow.com</span>.
Similarly, emails from verified senders may be deemed to be higher integrity than those from unknown senders.</p>
</div>
<div class="ltx_para" id="S4.SS5.SSS0.Px3.p2">
<p class="ltx_p" id="S4.SS5.SSS0.Px3.p2.1">To demonstrate this, we create a small dataset of chat conversations between a user and an LLM-based assistant.
In each conversation, the LLM calls one of three retrieval tools: web search, email search, or calendar search.
Each piece of retrieved data carries a label <math alttext="L\in\{\textnormal{HiInt},\textnormal{LoInt}\}" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px3.p2.1.m1.2"><semantics id="S4.SS5.SSS0.Px3.p2.1.m1.2a"><mrow id="S4.SS5.SSS0.Px3.p2.1.m1.2.3" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3.cmml"><mi id="S4.SS5.SSS0.Px3.p2.1.m1.2.3.2" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3.2.cmml">L</mi><mo id="S4.SS5.SSS0.Px3.p2.1.m1.2.3.1" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3.1.cmml">âˆˆ</mo><mrow id="S4.SS5.SSS0.Px3.p2.1.m1.2.3.3.2" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3.3.1.cmml"><mo id="S4.SS5.SSS0.Px3.p2.1.m1.2.3.3.2.1" stretchy="false" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3.3.1.cmml">{</mo><mtext id="S4.SS5.SSS0.Px3.p2.1.m1.1.1" xref="S4.SS5.SSS0.Px3.p2.1.m1.1.1a.cmml">HiInt</mtext><mo id="S4.SS5.SSS0.Px3.p2.1.m1.2.3.3.2.2" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3.3.1.cmml">,</mo><mtext id="S4.SS5.SSS0.Px3.p2.1.m1.2.2" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.2a.cmml">LoInt</mtext><mo id="S4.SS5.SSS0.Px3.p2.1.m1.2.3.3.2.3" stretchy="false" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px3.p2.1.m1.2b"><apply id="S4.SS5.SSS0.Px3.p2.1.m1.2.3.cmml" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3"><in id="S4.SS5.SSS0.Px3.p2.1.m1.2.3.1.cmml" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3.1"></in><ci id="S4.SS5.SSS0.Px3.p2.1.m1.2.3.2.cmml" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3.2">ğ¿</ci><set id="S4.SS5.SSS0.Px3.p2.1.m1.2.3.3.1.cmml" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.3.3.2"><ci id="S4.SS5.SSS0.Px3.p2.1.m1.1.1a.cmml" xref="S4.SS5.SSS0.Px3.p2.1.m1.1.1"><mtext id="S4.SS5.SSS0.Px3.p2.1.m1.1.1.cmml" xref="S4.SS5.SSS0.Px3.p2.1.m1.1.1">HiInt</mtext></ci><ci id="S4.SS5.SSS0.Px3.p2.1.m1.2.2a.cmml" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.2"><mtext id="S4.SS5.SSS0.Px3.p2.1.m1.2.2.cmml" xref="S4.SS5.SSS0.Px3.p2.1.m1.2.2">LoInt</mtext></ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px3.p2.1.m1.2c">L\in\{\textnormal{HiInt},\textnormal{LoInt}\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px3.p2.1.m1.2d">italic_L âˆˆ { HiInt , LoInt }</annotation></semantics></math> indicating high or low integrity respectively.</p>
</div>
<div class="ltx_para" id="S4.SS5.SSS0.Px3.p3">
<p class="ltx_p" id="S4.SS5.SSS0.Px3.p3.1">In the example shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.F6" title="Figure 6 â€£ LLM agent dataset â€£ IV-E Datasets â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">6</span></a>, the web search retrieves two documents that both contain sufficient information to answer the question.
However, one of the documents carries a low-integrity label and would therefore force the output to be LoInt.
The goal of the label propagator is to identify the influence of the high-integrity document and to assign HiInt to the output.</p>
</div>
<div class="ltx_para" id="S4.SS5.SSS0.Px3.p4">
<p class="ltx_p" id="S4.SS5.SSS0.Px3.p4.6">To cover a wider range of cases, we manually create 40 distinct chat conversations <math alttext="x" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px3.p4.1.m1.1"><semantics id="S4.SS5.SSS0.Px3.p4.1.m1.1a"><mi id="S4.SS5.SSS0.Px3.p4.1.m1.1.1" xref="S4.SS5.SSS0.Px3.p4.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px3.p4.1.m1.1b"><ci id="S4.SS5.SSS0.Px3.p4.1.m1.1.1.cmml" xref="S4.SS5.SSS0.Px3.p4.1.m1.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px3.p4.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px3.p4.1.m1.1d">italic_x</annotation></semantics></math> that involve tool calls.
Some of these tools return a set of two documents <math alttext="C" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px3.p4.2.m2.1"><semantics id="S4.SS5.SSS0.Px3.p4.2.m2.1a"><mi id="S4.SS5.SSS0.Px3.p4.2.m2.1.1" xref="S4.SS5.SSS0.Px3.p4.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px3.p4.2.m2.1b"><ci id="S4.SS5.SSS0.Px3.p4.2.m2.1.1.cmml" xref="S4.SS5.SSS0.Px3.p4.2.m2.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px3.p4.2.m2.1c">C</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px3.p4.2.m2.1d">italic_C</annotation></semantics></math>.
We also generate a ground truth model output <math alttext="y^{\star}" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px3.p4.3.m3.1"><semantics id="S4.SS5.SSS0.Px3.p4.3.m3.1a"><msup id="S4.SS5.SSS0.Px3.p4.3.m3.1.1" xref="S4.SS5.SSS0.Px3.p4.3.m3.1.1.cmml"><mi id="S4.SS5.SSS0.Px3.p4.3.m3.1.1.2" xref="S4.SS5.SSS0.Px3.p4.3.m3.1.1.2.cmml">y</mi><mo id="S4.SS5.SSS0.Px3.p4.3.m3.1.1.3" xref="S4.SS5.SSS0.Px3.p4.3.m3.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px3.p4.3.m3.1b"><apply id="S4.SS5.SSS0.Px3.p4.3.m3.1.1.cmml" xref="S4.SS5.SSS0.Px3.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS5.SSS0.Px3.p4.3.m3.1.1.1.cmml" xref="S4.SS5.SSS0.Px3.p4.3.m3.1.1">superscript</csymbol><ci id="S4.SS5.SSS0.Px3.p4.3.m3.1.1.2.cmml" xref="S4.SS5.SSS0.Px3.p4.3.m3.1.1.2">ğ‘¦</ci><ci id="S4.SS5.SSS0.Px3.p4.3.m3.1.1.3.cmml" xref="S4.SS5.SSS0.Px3.p4.3.m3.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px3.p4.3.m3.1c">y^{\star}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px3.p4.3.m3.1d">italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> and label <math alttext="L^{\star}" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px3.p4.4.m4.1"><semantics id="S4.SS5.SSS0.Px3.p4.4.m4.1a"><msup id="S4.SS5.SSS0.Px3.p4.4.m4.1.1" xref="S4.SS5.SSS0.Px3.p4.4.m4.1.1.cmml"><mi id="S4.SS5.SSS0.Px3.p4.4.m4.1.1.2" xref="S4.SS5.SSS0.Px3.p4.4.m4.1.1.2.cmml">L</mi><mo id="S4.SS5.SSS0.Px3.p4.4.m4.1.1.3" xref="S4.SS5.SSS0.Px3.p4.4.m4.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px3.p4.4.m4.1b"><apply id="S4.SS5.SSS0.Px3.p4.4.m4.1.1.cmml" xref="S4.SS5.SSS0.Px3.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS5.SSS0.Px3.p4.4.m4.1.1.1.cmml" xref="S4.SS5.SSS0.Px3.p4.4.m4.1.1">superscript</csymbol><ci id="S4.SS5.SSS0.Px3.p4.4.m4.1.1.2.cmml" xref="S4.SS5.SSS0.Px3.p4.4.m4.1.1.2">ğ¿</ci><ci id="S4.SS5.SSS0.Px3.p4.4.m4.1.1.3.cmml" xref="S4.SS5.SSS0.Px3.p4.4.m4.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px3.p4.4.m4.1c">L^{\star}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px3.p4.4.m4.1d">italic_L start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math>.
In 20 of the cases, the final label can be improved i.e. <math alttext="L^{\star}\sqsubset\ell(C)" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px3.p4.5.m5.1"><semantics id="S4.SS5.SSS0.Px3.p4.5.m5.1a"><mrow id="S4.SS5.SSS0.Px3.p4.5.m5.1.2" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.cmml"><msup id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.cmml"><mi id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.2" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.2.cmml">L</mi><mo id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.3" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.3.cmml">â‹†</mo></msup><mo id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.1" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.1.cmml">âŠ</mo><mrow id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.cmml"><mi id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.2" mathvariant="normal" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.2.cmml">â„“</mi><mo id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.1" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.1.cmml">â¢</mo><mrow id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.3.2" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.cmml"><mo id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.3.2.1" stretchy="false" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.cmml">(</mo><mi id="S4.SS5.SSS0.Px3.p4.5.m5.1.1" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.1.cmml">C</mi><mo id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.3.2.2" stretchy="false" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px3.p4.5.m5.1b"><apply id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.cmml" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2"><csymbol cd="latexml" id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.1.cmml" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.1">square-image-of</csymbol><apply id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.cmml" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2"><csymbol cd="ambiguous" id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.1.cmml" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2">superscript</csymbol><ci id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.2.cmml" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.2">ğ¿</ci><ci id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.3.cmml" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.2.3">â‹†</ci></apply><apply id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.cmml" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3"><times id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.1.cmml" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.1"></times><ci id="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.2.cmml" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.2.3.2">â„“</ci><ci id="S4.SS5.SSS0.Px3.p4.5.m5.1.1.cmml" xref="S4.SS5.SSS0.Px3.p4.5.m5.1.1">ğ¶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px3.p4.5.m5.1c">L^{\star}\sqsubset\ell(C)</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px3.p4.5.m5.1d">italic_L start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT âŠ roman_â„“ ( italic_C )</annotation></semantics></math> due to redundant or irrelevant information within the retrieved LoInt documents.
In the remaining 20 cases, the LoInt source is required to produce the output and thus the output label cannot be improved i.e. <math alttext="L^{\star}=\ell(C)" class="ltx_Math" display="inline" id="S4.SS5.SSS0.Px3.p4.6.m6.1"><semantics id="S4.SS5.SSS0.Px3.p4.6.m6.1a"><mrow id="S4.SS5.SSS0.Px3.p4.6.m6.1.2" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.cmml"><msup id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.cmml"><mi id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.2" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.2.cmml">L</mi><mo id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.3" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.3.cmml">â‹†</mo></msup><mo id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.1" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.1.cmml">=</mo><mrow id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.cmml"><mi id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.2" mathvariant="normal" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.2.cmml">â„“</mi><mo id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.1" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.1.cmml">â¢</mo><mrow id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.3.2" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.cmml"><mo id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.3.2.1" stretchy="false" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.cmml">(</mo><mi id="S4.SS5.SSS0.Px3.p4.6.m6.1.1" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.1.cmml">C</mi><mo id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.3.2.2" stretchy="false" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS0.Px3.p4.6.m6.1b"><apply id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.cmml" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2"><eq id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.1.cmml" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.1"></eq><apply id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.cmml" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2"><csymbol cd="ambiguous" id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.1.cmml" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2">superscript</csymbol><ci id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.2.cmml" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.2">ğ¿</ci><ci id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.3.cmml" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.2.3">â‹†</ci></apply><apply id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.cmml" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3"><times id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.1.cmml" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.1"></times><ci id="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.2.cmml" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.2.3.2">â„“</ci><ci id="S4.SS5.SSS0.Px3.p4.6.m6.1.1.cmml" xref="S4.SS5.SSS0.Px3.p4.6.m6.1.1">ğ¶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS0.Px3.p4.6.m6.1c">L^{\star}=\ell(C)</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS0.Px3.p4.6.m6.1d">italic_L start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT = roman_â„“ ( italic_C )</annotation></semantics></math>.
We additionally include two in-context examples that are specifically used to specify the output format for the model.
Since there is a total order in the lattice, we report label improvement metrics.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span class="ltx_text ltx_font_smallcaps" id="S5.1.1">Results</span>
</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S5.SS1.5.1.1">V-A</span> </span><span class="ltx_text ltx_font_italic" id="S5.SS1.6.2">Synthetic key-value dataset</span>
</h3>
<figure class="ltx_table" id="S5.T1">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.T1.14">
<tr class="ltx_tr" id="S5.T1.14.15">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.14.15.1">Model</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.14.15.2">Label Prediction Method</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.14.15.3">Exact Match</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.14.15.4">Precision</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.14.15.5">Recall</td>
</tr>
<tr class="ltx_tr" id="S5.T1.2.2">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.2.2.3" rowspan="3"><span class="ltx_text" id="S5.T1.2.2.3.1">Llama-2-Chat (7B)</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.2.2.4">Prompt-based</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.2.2.5"><span class="ltx_text ltx_font_bold" id="S5.T1.2.2.5.1">85.94%</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.1.1.1">92.34 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.1.1.1.m1.1"><semantics id="S5.T1.1.1.1.m1.1a"><mo id="S5.T1.1.1.1.m1.1.1" xref="S5.T1.1.1.1.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T1.1.1.1.m1.1.1.cmml" xref="S5.T1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.1.1.1.m1.1d">Â±</annotation></semantics></math> 23.27 %</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.2.2.2">93.75 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.2.2.2.m1.1"><semantics id="S5.T1.2.2.2.m1.1a"><mo id="S5.T1.2.2.2.m1.1.1" xref="S5.T1.2.2.2.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.2.2.2.m1.1b"><csymbol cd="latexml" id="S5.T1.2.2.2.m1.1.1.cmml" xref="S5.T1.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.2.2.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.2.2.2.m1.1d">Â±</annotation></semantics></math> 22.10 %</td>
</tr>
<tr class="ltx_tr" id="S5.T1.5.5">
<td class="ltx_td ltx_align_center" id="S5.T1.3.3.1">
<math alttext="k" class="ltx_Math" display="inline" id="S5.T1.3.3.1.m1.1"><semantics id="S5.T1.3.3.1.m1.1a"><mi id="S5.T1.3.3.1.m1.1.1" xref="S5.T1.3.3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.T1.3.3.1.m1.1b"><ci id="S5.T1.3.3.1.m1.1.1.cmml" xref="S5.T1.3.3.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.3.3.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.T1.3.3.1.m1.1d">italic_k</annotation></semantics></math>NN-LM</td>
<td class="ltx_td ltx_align_center" id="S5.T1.5.5.4">53.12%</td>
<td class="ltx_td ltx_align_center" id="S5.T1.4.4.2">64.58 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.4.4.2.m1.1"><semantics id="S5.T1.4.4.2.m1.1a"><mo id="S5.T1.4.4.2.m1.1.1" xref="S5.T1.4.4.2.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.4.4.2.m1.1b"><csymbol cd="latexml" id="S5.T1.4.4.2.m1.1.1.cmml" xref="S5.T1.4.4.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.4.4.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.4.4.2.m1.1d">Â±</annotation></semantics></math> 45.79 %</td>
<td class="ltx_td ltx_align_center" id="S5.T1.5.5.3">65.10 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.5.5.3.m1.1"><semantics id="S5.T1.5.5.3.m1.1a"><mo id="S5.T1.5.5.3.m1.1.1" xref="S5.T1.5.5.3.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.5.5.3.m1.1b"><csymbol cd="latexml" id="S5.T1.5.5.3.m1.1.1.cmml" xref="S5.T1.5.5.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.5.5.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.5.5.3.m1.1d">Â±</annotation></semantics></math> 45.33 %</td>
</tr>
<tr class="ltx_tr" id="S5.T1.7.7">
<td class="ltx_td ltx_align_center" id="S5.T1.7.7.3">Introspection</td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.7.4">1.59%</td>
<td class="ltx_td ltx_align_center" id="S5.T1.6.6.1">3.25 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.6.6.1.m1.1"><semantics id="S5.T1.6.6.1.m1.1a"><mo id="S5.T1.6.6.1.m1.1.1" xref="S5.T1.6.6.1.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.6.6.1.m1.1b"><csymbol cd="latexml" id="S5.T1.6.6.1.m1.1.1.cmml" xref="S5.T1.6.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.6.6.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.6.6.1.m1.1d">Â±</annotation></semantics></math> 17.53 %</td>
<td class="ltx_td ltx_align_center" id="S5.T1.7.7.2">3.97 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.7.7.2.m1.1"><semantics id="S5.T1.7.7.2.m1.1a"><mo id="S5.T1.7.7.2.m1.1.1" xref="S5.T1.7.7.2.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.7.7.2.m1.1b"><csymbol cd="latexml" id="S5.T1.7.7.2.m1.1.1.cmml" xref="S5.T1.7.7.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.7.7.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.7.7.2.m1.1d">Â±</annotation></semantics></math> 18.48 %</td>
</tr>
<tr class="ltx_tr" id="S5.T1.9.9">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T1.9.9.3" rowspan="3"><span class="ltx_text" id="S5.T1.9.9.3.1">Llama-2-Chat (70B)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.9.9.4">Prompt-based</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.9.9.5"><span class="ltx_text ltx_font_bold" id="S5.T1.9.9.5.1">85.94%</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.8.8.1">94.17 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.8.8.1.m1.1"><semantics id="S5.T1.8.8.1.m1.1a"><mo id="S5.T1.8.8.1.m1.1.1" xref="S5.T1.8.8.1.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.8.8.1.m1.1b"><csymbol cd="latexml" id="S5.T1.8.8.1.m1.1.1.cmml" xref="S5.T1.8.8.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.8.8.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.8.8.1.m1.1d">Â±</annotation></semantics></math> 21.84 %</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.9.9.2">92.06 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.9.9.2.m1.1"><semantics id="S5.T1.9.9.2.m1.1a"><mo id="S5.T1.9.9.2.m1.1.1" xref="S5.T1.9.9.2.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.9.9.2.m1.1b"><csymbol cd="latexml" id="S5.T1.9.9.2.m1.1.1.cmml" xref="S5.T1.9.9.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.9.9.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.9.9.2.m1.1d">Â±</annotation></semantics></math> 23.45 %</td>
</tr>
<tr class="ltx_tr" id="S5.T1.12.12">
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.1">
<math alttext="k" class="ltx_Math" display="inline" id="S5.T1.10.10.1.m1.1"><semantics id="S5.T1.10.10.1.m1.1a"><mi id="S5.T1.10.10.1.m1.1.1" xref="S5.T1.10.10.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.T1.10.10.1.m1.1b"><ci id="S5.T1.10.10.1.m1.1.1.cmml" xref="S5.T1.10.10.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.10.10.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.T1.10.10.1.m1.1d">italic_k</annotation></semantics></math>NN-LM</td>
<td class="ltx_td ltx_align_center" id="S5.T1.12.12.4">57.81%</td>
<td class="ltx_td ltx_align_center" id="S5.T1.11.11.2">69.53 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.11.11.2.m1.1"><semantics id="S5.T1.11.11.2.m1.1a"><mo id="S5.T1.11.11.2.m1.1.1" xref="S5.T1.11.11.2.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.11.11.2.m1.1b"><csymbol cd="latexml" id="S5.T1.11.11.2.m1.1.1.cmml" xref="S5.T1.11.11.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.11.11.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.11.11.2.m1.1d">Â±</annotation></semantics></math> 45.60 %</td>
<td class="ltx_td ltx_align_center" id="S5.T1.12.12.3">64.45 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.12.12.3.m1.1"><semantics id="S5.T1.12.12.3.m1.1a"><mo id="S5.T1.12.12.3.m1.1.1" xref="S5.T1.12.12.3.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.12.12.3.m1.1b"><csymbol cd="latexml" id="S5.T1.12.12.3.m1.1.1.cmml" xref="S5.T1.12.12.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.12.12.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.12.12.3.m1.1d">Â±</annotation></semantics></math> 44.74 %</td>
</tr>
<tr class="ltx_tr" id="S5.T1.14.14">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.14.14.3">Introspection</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.14.14.4">12.70%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.13.13.1">15.07 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.13.13.1.m1.1"><semantics id="S5.T1.13.13.1.m1.1a"><mo id="S5.T1.13.13.1.m1.1.1" xref="S5.T1.13.13.1.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.13.13.1.m1.1b"><csymbol cd="latexml" id="S5.T1.13.13.1.m1.1.1.cmml" xref="S5.T1.13.13.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.13.13.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.13.13.1.m1.1d">Â±</annotation></semantics></math> 34.94 %</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.14.14.2">15.87 <math alttext="\pm" class="ltx_Math" display="inline" id="S5.T1.14.14.2.m1.1"><semantics id="S5.T1.14.14.2.m1.1a"><mo id="S5.T1.14.14.2.m1.1.1" xref="S5.T1.14.14.2.m1.1.1.cmml">Â±</mo><annotation-xml encoding="MathML-Content" id="S5.T1.14.14.2.m1.1b"><csymbol cd="latexml" id="S5.T1.14.14.2.m1.1.1.cmml" xref="S5.T1.14.14.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.14.14.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T1.14.14.2.m1.1d">Â±</annotation></semantics></math> 35.44 %</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T1.20.3.1" style="font-size:90%;">TABLE I</span>: </span><span class="ltx_text" id="S5.T1.18.2" style="font-size:90%;">
Results on the synthetic key-value dataset assuming a perfect recall retriever, which always retrieves the relevant items while also retrieving some irrelevant ones, with person ID as the key, and person SSN and DoB as values.
<math alttext="k" class="ltx_Math" display="inline" id="S5.T1.17.1.m1.1"><semantics id="S5.T1.17.1.m1.1b"><mi id="S5.T1.17.1.m1.1.1" xref="S5.T1.17.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.T1.17.1.m1.1c"><ci id="S5.T1.17.1.m1.1.1.cmml" xref="S5.T1.17.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.17.1.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S5.T1.17.1.m1.1e">italic_k</annotation></semantics></math>NN-LMÂ prediction uses <math alttext="\gamma=0.5" class="ltx_Math" display="inline" id="S5.T1.18.2.m2.1"><semantics id="S5.T1.18.2.m2.1b"><mrow id="S5.T1.18.2.m2.1.1" xref="S5.T1.18.2.m2.1.1.cmml"><mi id="S5.T1.18.2.m2.1.1.2" xref="S5.T1.18.2.m2.1.1.2.cmml">Î³</mi><mo id="S5.T1.18.2.m2.1.1.1" xref="S5.T1.18.2.m2.1.1.1.cmml">=</mo><mn id="S5.T1.18.2.m2.1.1.3" xref="S5.T1.18.2.m2.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T1.18.2.m2.1c"><apply id="S5.T1.18.2.m2.1.1.cmml" xref="S5.T1.18.2.m2.1.1"><eq id="S5.T1.18.2.m2.1.1.1.cmml" xref="S5.T1.18.2.m2.1.1.1"></eq><ci id="S5.T1.18.2.m2.1.1.2.cmml" xref="S5.T1.18.2.m2.1.1.2">ğ›¾</ci><cn id="S5.T1.18.2.m2.1.1.3.cmml" type="float" xref="S5.T1.18.2.m2.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.18.2.m2.1d">\gamma=0.5</annotation><annotation encoding="application/x-llamapun" id="S5.T1.18.2.m2.1e">italic_Î³ = 0.5</annotation></semantics></math>.
We report mean and one standard deviation for macro-averaged precision and recall.
</span></figcaption>
</figure>
<figure class="ltx_figure" id="S5.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="404" id="S5.F7.g1" src="extracted/5900323/results/exact_match_vs_params_synthetic.png" width="538"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F7.2.1.1" style="font-size:90%;">Figure 7</span>: </span><span class="ltx_text" id="S5.F7.3.2" style="font-size:90%;">Exact match accuracy vs. model size on the synthetic key-value dataset. We see no impact of scale on the RAG-based label propagator, a minor impact on the kNN-LM-based label propagator, and a significant impact of scale with introspection.</span></figcaption>
</figure>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">In this case, we assume a perfect recall retriever (all relevant documents are present), albeit lower precision (the rest of the documents out of the total limit of 14 are filled by adding irrelevant documents).
For the introspection baseline, we use one-shot learning based on the first example in the dataset and use the remaining 63 questions for evaluation.
TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.T1" title="TABLE I â€£ V-A Synthetic key-value dataset â€£ V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">I</span></a> summarizes our results.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">The prompt-based propagator achieves an exact match accuracy of over 85% and precision and recall of over 90%.
This means that, in more than 85% of the cases, the label search is able to identify the correct influential subcontexts out of a set of 16k possibilities without making a single mistake.
Furthermore, the RAG-based label search significantly outperforms both the <math alttext="k" class="ltx_Math" display="inline" id="S5.SS1.p2.1.m1.1"><semantics id="S5.SS1.p2.1.m1.1a"><mi id="S5.SS1.p2.1.m1.1.1" xref="S5.SS1.p2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.1b"><ci id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.1.m1.1d">italic_k</annotation></semantics></math>NN-LM-based label search as well as the introspection baseline.</p>
</div>
<div class="ltx_para" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.1">We plot the exact match accuracy of the label search on the key-value dataset w.r.t. the number of parameters in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.F7" title="Figure 7 â€£ V-A Synthetic key-value dataset â€£ V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">7</span></a>.
The figure highlights that model size does not strongly correlate with the performance of the RAG-based label propagator, as evident by the near-horizontal line.
Consequently, this enables the use of significantly smaller models for effective label propagation on the outputs of larger models.</p>
</div>
<div class="ltx_para" id="S5.SS1.p4">
<p class="ltx_p" id="S5.SS1.p4.1">On the other hand, introspection performance improves significantly with the model scale.
This result is consistent with the improved in-context learning ability observed in larger modelsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib35" title="">35</a>]</cite>.
Therefore, only the largest and most powerful models can be effectively used for introspection.</p>
</div>
<figure class="ltx_figure" id="S5.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="472" id="S5.F8.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F8.4.2.1" style="font-size:90%;">Figure 8</span>: </span><span class="ltx_text" id="S5.F8.2.1" style="font-size:90%;">Hyperparameter grid search on perplexity tolerance <math alttext="\lambda" class="ltx_Math" display="inline" id="S5.F8.2.1.m1.1"><semantics id="S5.F8.2.1.m1.1b"><mi id="S5.F8.2.1.m1.1.1" xref="S5.F8.2.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S5.F8.2.1.m1.1c"><ci id="S5.F8.2.1.m1.1.1.cmml" xref="S5.F8.2.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.2.1.m1.1d">\lambda</annotation><annotation encoding="application/x-llamapun" id="S5.F8.2.1.m1.1e">italic_Î»</annotation></semantics></math> for the 7B and 70B models on the synthetic key-value dataset. See FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#A0.F10" title="Figure 10 â€£ -A Improving performance on fine-grained lattices â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">10</span></a> for the full grid search over both Shapley threshold and perplexity tolerance.</span></figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S5.SS1.p5">
<p class="ltx_p" id="S5.SS1.p5.2"><span class="ltx_text ltx_font_bold" id="S5.SS1.p5.2.1">Sensitivity of hyperparameters.</span>
The perplexity tolerance <math alttext="\lambda" class="ltx_Math" display="inline" id="S5.SS1.p5.1.m1.1"><semantics id="S5.SS1.p5.1.m1.1a"><mi id="S5.SS1.p5.1.m1.1.1" xref="S5.SS1.p5.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p5.1.m1.1b"><ci id="S5.SS1.p5.1.m1.1.1.cmml" xref="S5.SS1.p5.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p5.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p5.1.m1.1d">italic_Î»</annotation></semantics></math> measures the acceptable loss in model utility when removing a subset of documents.
The choice of <math alttext="\lambda" class="ltx_Math" display="inline" id="S5.SS1.p5.2.m2.1"><semantics id="S5.SS1.p5.2.m2.1a"><mi id="S5.SS1.p5.2.m2.1.1" xref="S5.SS1.p5.2.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p5.2.m2.1b"><ci id="S5.SS1.p5.2.m2.1.1.cmml" xref="S5.SS1.p5.2.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p5.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p5.2.m2.1d">italic_Î»</annotation></semantics></math> allows to trade-off model utility and the restrictiveness of the inferred label.</p>
</div>
<div class="ltx_para" id="S5.SS1.p6">
<p class="ltx_p" id="S5.SS1.p6.2">We illustrate the role of the perplexity tolerance <math alttext="\lambda" class="ltx_Math" display="inline" id="S5.SS1.p6.1.m1.1"><semantics id="S5.SS1.p6.1.m1.1a"><mi id="S5.SS1.p6.1.m1.1.1" xref="S5.SS1.p6.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p6.1.m1.1b"><ci id="S5.SS1.p6.1.m1.1.1.cmml" xref="S5.SS1.p6.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p6.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p6.1.m1.1d">italic_Î»</annotation></semantics></math> on the resulting change in the exact match performance for our RAG-based label propagator in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.F8" title="Figure 8 â€£ V-A Synthetic key-value dataset â€£ V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">8</span></a>.
The figure indicates that the model performance is very sensitive to the choice of perplexity tolerance i.e., either very high or very low values significantly hamper model performance.
Furthermore, the optimal hyperparameters are consistent across model scales.
However, larger models, being better at language modeling, outperform their smaller counterparts at lower values of <math alttext="\lambda" class="ltx_Math" display="inline" id="S5.SS1.p6.2.m2.1"><semantics id="S5.SS1.p6.2.m2.1a"><mi id="S5.SS1.p6.2.m2.1.1" xref="S5.SS1.p6.2.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p6.2.m2.1b"><ci id="S5.SS1.p6.2.m2.1.1.cmml" xref="S5.SS1.p6.2.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p6.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p6.2.m2.1d">italic_Î»</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S5.SS1.p7">
<p class="ltx_p" id="S5.SS1.p7.1">Although the influence-based label propagator performs very well on its own, we have found that pruning irrelevant labels can elevate the performance further.
This is particularly the case for large lattices with a partial order.
We introduce a Shapley-value-based heuristic pruning technique in AppendixÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#A0.SS1" title="-A Improving performance on fine-grained lattices â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">-A</span></span></a> that can marginally improve the performance from an exact match accuracy of 81% to 86%.
The results reported in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.T1" title="TABLE I â€£ V-A Synthetic key-value dataset â€£ V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">I</span></a> include this Shapley-value-based heuristic.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S5.SS2.5.1.1">V-B</span> </span><span class="ltx_text ltx_font_italic" id="S5.SS2.6.2">News article dataset</span>
</h3>
<figure class="ltx_table" id="S5.T2">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.T2.2">
<tr class="ltx_tr" id="S5.T2.2.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.2.1.1">Retriever Type</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.2.1.2">Model</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.2.1.3">Exact Match</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.2.1.4">Label Improvement</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.2.1.5">Missed Labels</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.2">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.2.2.1" rowspan="2"><span class="ltx_text" id="S5.T2.2.2.1.1">Perfect Retriever</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.2.2.2">Llama-2-Chat (7B)</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.2.2.3">74.69%</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.2.2.4">56.72%</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.2.2.5">22.73%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.3">
<td class="ltx_td ltx_align_center" id="S5.T2.2.3.1">Llama-2-Chat (70B)</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.3.2">73.45%</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.3.3">39.26%</td>
<td class="ltx_td ltx_align_center" id="S5.T2.2.3.4">18.59%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.4">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T2.2.4.1" rowspan="2"><span class="ltx_text" id="S5.T2.2.4.1.1">Realistic Retriever</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.4.2">Llama-2-Chat (7B)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.4.3">63.78%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.4.4">49.77%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.2.4.5">30.30%</td>
</tr>
<tr class="ltx_tr" id="S5.T2.2.5">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.5.1">Llama-2-Chat (70B)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.5.2">64.50%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.5.3">39.88%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.2.5.4">26.08%</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T2.3.1.1" style="font-size:90%;">TABLE II</span>: </span><span class="ltx_text" id="S5.T2.4.2" style="font-size:90%;">
Results on the news article dataset with prompt-based label search.
The perfect retriever row assumes that the retriever always retrieves the relevant items while also retrieving some irrelevant ones randomly.
The realistic retriever uses a cosine similarity-based nearest-neighbour search and may not retrieve all relevant items, thereby reducing the label improvement metric of even a perfect label search.
</span></figcaption>
</figure>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">Moving towards a more realistic setup, we include an additional retriever component for the news article dataset that first retrieves relevant articles (either low or high integrity) from the dataset before response generation.
In order to correctly understand the impact of the retriever, we compare a perfect retriever that is able to retrieve all relevant documents (similar to the synthetic key-value dataset) with a realistic retriever using cosine similarity in the embedding space computed by <span class="ltx_text ltx_font_italic" id="S5.SS2.p1.1.1">BGE-Large-EN</span>Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib36" title="">36</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1">TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.T2" title="TABLE II â€£ V-B News article dataset â€£ V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">II</span></a> summarizes the results of the label propagator on the news article dataset.
For this dataset, the label propagator achieves slightly worse performance on all metrics in comparison to the synthetic key-value dataset due to the lower quality of the dataset (automated generation of QA pairs by GPT-4Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib1" title="">1</a>]</cite>).
Furthermore, we see a reduction in the exact match accuracy of about <math alttext="10\%" class="ltx_Math" display="inline" id="S5.SS2.p2.1.m1.1"><semantics id="S5.SS2.p2.1.m1.1a"><mrow id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml"><mn id="S5.SS2.p2.1.m1.1.1.2" xref="S5.SS2.p2.1.m1.1.1.2.cmml">10</mn><mo id="S5.SS2.p2.1.m1.1.1.1" xref="S5.SS2.p2.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><apply id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1"><csymbol cd="latexml" id="S5.SS2.p2.1.m1.1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1.1">percent</csymbol><cn id="S5.SS2.p2.1.m1.1.1.2.cmml" type="integer" xref="S5.SS2.p2.1.m1.1.1.2">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">10\%</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.1.m1.1d">10 %</annotation></semantics></math> when using a realistic retriever in contrast to a perfect retriever.
This is due to the retriever sometimes failing to retrieve the relevant pieces of information, ultimately leading to a mismatch with the ground-truth label.</p>
</div>
<div class="ltx_para" id="S5.SS2.p3">
<p class="ltx_p" id="S5.SS2.p3.2">Due to the presence of total order on the labels, we report label improvement and missed labels for this dataset.
Even when a perfect retriever is used, a naÃ¯ve label propagator would be overly conservative in 647 out of 3465 examples where label improvement is possible.
In contrast, our influence-based label propagator is able to assign the correct label in <math alttext="\sim 57\%" class="ltx_Math" display="inline" id="S5.SS2.p3.1.m1.1"><semantics id="S5.SS2.p3.1.m1.1a"><mrow id="S5.SS2.p3.1.m1.1.1" xref="S5.SS2.p3.1.m1.1.1.cmml"><mi id="S5.SS2.p3.1.m1.1.1.2" xref="S5.SS2.p3.1.m1.1.1.2.cmml"></mi><mo id="S5.SS2.p3.1.m1.1.1.1" xref="S5.SS2.p3.1.m1.1.1.1.cmml">âˆ¼</mo><mrow id="S5.SS2.p3.1.m1.1.1.3" xref="S5.SS2.p3.1.m1.1.1.3.cmml"><mn id="S5.SS2.p3.1.m1.1.1.3.2" xref="S5.SS2.p3.1.m1.1.1.3.2.cmml">57</mn><mo id="S5.SS2.p3.1.m1.1.1.3.1" xref="S5.SS2.p3.1.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.1.m1.1b"><apply id="S5.SS2.p3.1.m1.1.1.cmml" xref="S5.SS2.p3.1.m1.1.1"><csymbol cd="latexml" id="S5.SS2.p3.1.m1.1.1.1.cmml" xref="S5.SS2.p3.1.m1.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S5.SS2.p3.1.m1.1.1.2.cmml" xref="S5.SS2.p3.1.m1.1.1.2">absent</csymbol><apply id="S5.SS2.p3.1.m1.1.1.3.cmml" xref="S5.SS2.p3.1.m1.1.1.3"><csymbol cd="latexml" id="S5.SS2.p3.1.m1.1.1.3.1.cmml" xref="S5.SS2.p3.1.m1.1.1.3.1">percent</csymbol><cn id="S5.SS2.p3.1.m1.1.1.3.2.cmml" type="integer" xref="S5.SS2.p3.1.m1.1.1.3.2">57</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.1.m1.1c">\sim 57\%</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p3.1.m1.1d">âˆ¼ 57 %</annotation></semantics></math> of these cases.
On the other hand, our label propagator suggested a more permissive label but missed a label from the ground-truth in <math alttext="\sim 23\%" class="ltx_Math" display="inline" id="S5.SS2.p3.2.m2.1"><semantics id="S5.SS2.p3.2.m2.1a"><mrow id="S5.SS2.p3.2.m2.1.1" xref="S5.SS2.p3.2.m2.1.1.cmml"><mi id="S5.SS2.p3.2.m2.1.1.2" xref="S5.SS2.p3.2.m2.1.1.2.cmml"></mi><mo id="S5.SS2.p3.2.m2.1.1.1" xref="S5.SS2.p3.2.m2.1.1.1.cmml">âˆ¼</mo><mrow id="S5.SS2.p3.2.m2.1.1.3" xref="S5.SS2.p3.2.m2.1.1.3.cmml"><mn id="S5.SS2.p3.2.m2.1.1.3.2" xref="S5.SS2.p3.2.m2.1.1.3.2.cmml">23</mn><mo id="S5.SS2.p3.2.m2.1.1.3.1" xref="S5.SS2.p3.2.m2.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.2.m2.1b"><apply id="S5.SS2.p3.2.m2.1.1.cmml" xref="S5.SS2.p3.2.m2.1.1"><csymbol cd="latexml" id="S5.SS2.p3.2.m2.1.1.1.cmml" xref="S5.SS2.p3.2.m2.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S5.SS2.p3.2.m2.1.1.2.cmml" xref="S5.SS2.p3.2.m2.1.1.2">absent</csymbol><apply id="S5.SS2.p3.2.m2.1.1.3.cmml" xref="S5.SS2.p3.2.m2.1.1.3"><csymbol cd="latexml" id="S5.SS2.p3.2.m2.1.1.3.1.cmml" xref="S5.SS2.p3.2.m2.1.1.3.1">percent</csymbol><cn id="S5.SS2.p3.2.m2.1.1.3.2.cmml" type="integer" xref="S5.SS2.p3.2.m2.1.1.3.2">23</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.2.m2.1c">\sim 23\%</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p3.2.m2.1d">âˆ¼ 23 %</annotation></semantics></math> of the cases.
However, as explained in SectionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS4" title="III-D A System for Label Propagation â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-D</span></span></a>, the safety property still holds in these cases because the system regenerates the output using only the articles with the more permissive label (although this means that the regenerated output may differ from the original output, as we quantify in the next section).</p>
</div>
<figure class="ltx_figure" id="S5.F9"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="472" id="S5.F9.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F9.4.2.1" style="font-size:90%;">Figure 9</span>: </span><span class="ltx_text" id="S5.F9.2.1" style="font-size:90%;">Hyperparameter grid search on perplexity tolerance <math alttext="\lambda" class="ltx_Math" display="inline" id="S5.F9.2.1.m1.1"><semantics id="S5.F9.2.1.m1.1b"><mi id="S5.F9.2.1.m1.1.1" xref="S5.F9.2.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S5.F9.2.1.m1.1c"><ci id="S5.F9.2.1.m1.1.1.cmml" xref="S5.F9.2.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.2.1.m1.1d">\lambda</annotation><annotation encoding="application/x-llamapun" id="S5.F9.2.1.m1.1e">italic_Î»</annotation></semantics></math> for the 7B and 70B models on the news article dataset with a perfect retriever. See FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#A0.F11" title="Figure 11 â€£ -A Improving performance on fine-grained lattices â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">11</span></a> for the full grid search over both Shapley threshold and perplexity tolerance.</span></figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S5.SS2.p4">
<p class="ltx_p" id="S5.SS2.p4.2"><span class="ltx_text ltx_font_bold" id="S5.SS2.p4.2.1">Sensitivity of hyperparameters.</span> We highlight the sensitivity to changes in the perplexity threshold <math alttext="\lambda" class="ltx_Math" display="inline" id="S5.SS2.p4.1.m1.1"><semantics id="S5.SS2.p4.1.m1.1a"><mi id="S5.SS2.p4.1.m1.1.1" xref="S5.SS2.p4.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.1.m1.1b"><ci id="S5.SS2.p4.1.m1.1.1.cmml" xref="S5.SS2.p4.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p4.1.m1.1d">italic_Î»</annotation></semantics></math> on the news article dataset in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.F9" title="Figure 9 â€£ V-B News article dataset â€£ V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">9</span></a>.
Similar to the synthetic key-value dataset, we see similarities across the two model scales, and a higher tolerance of the larger model to lower values of <math alttext="\lambda" class="ltx_Math" display="inline" id="S5.SS2.p4.2.m2.1"><semantics id="S5.SS2.p4.2.m2.1a"><mi id="S5.SS2.p4.2.m2.1.1" xref="S5.SS2.p4.2.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.2.m2.1b"><ci id="S5.SS2.p4.2.m2.1.1.cmml" xref="S5.SS2.p4.2.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p4.2.m2.1d">italic_Î»</annotation></semantics></math>.
However, we see a significant rise in optimal perplexity tolerance in contrast to the synthetic dataset due to the higher difficulty of the responses.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S5.SS3.5.1.1">V-C</span> </span><span class="ltx_text ltx_font_italic" id="S5.SS3.6.2">LLM agent dataset</span>
</h3>
<figure class="ltx_table" id="S5.T3">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.T3.4">
<tr class="ltx_tr" id="S5.T3.4.5">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.4.5.1">Model</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.4.5.2">Label Prediction Method</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.4.5.3">Utility Target</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.4.5.4">Label Improvement</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.4.5.5">Missed Labels</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.2" rowspan="3"><span class="ltx_text" id="S5.T3.1.1.2.1">Llama-2 (7B)</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.3">Prompt-based</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.1">Model generated <math alttext="y" class="ltx_Math" display="inline" id="S5.T3.1.1.1.m1.1"><semantics id="S5.T3.1.1.1.m1.1a"><mi id="S5.T3.1.1.1.m1.1.1" xref="S5.T3.1.1.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.T3.1.1.1.m1.1b"><ci id="S5.T3.1.1.1.m1.1.1.cmml" xref="S5.T3.1.1.1.m1.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.1.1.1.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="S5.T3.1.1.1.m1.1d">italic_y</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.4">85.0%</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.5">5.56%</td>
</tr>
<tr class="ltx_tr" id="S5.T3.4.6">
<td class="ltx_td ltx_align_center" id="S5.T3.4.6.1">Introspection</td>
<td class="ltx_td ltx_align_center" id="S5.T3.4.6.2">-</td>
<td class="ltx_td ltx_align_center" id="S5.T3.4.6.3">45.0%</td>
<td class="ltx_td ltx_align_center" id="S5.T3.4.6.4">0.0%</td>
</tr>
<tr class="ltx_tr" id="S5.T3.2.2">
<td class="ltx_td ltx_align_center" id="S5.T3.2.2.2">Prompt-based</td>
<td class="ltx_td ltx_align_center" id="S5.T3.2.2.1">Ground truth <math alttext="y^{\star}" class="ltx_Math" display="inline" id="S5.T3.2.2.1.m1.1"><semantics id="S5.T3.2.2.1.m1.1a"><msup id="S5.T3.2.2.1.m1.1.1" xref="S5.T3.2.2.1.m1.1.1.cmml"><mi id="S5.T3.2.2.1.m1.1.1.2" xref="S5.T3.2.2.1.m1.1.1.2.cmml">y</mi><mo id="S5.T3.2.2.1.m1.1.1.3" xref="S5.T3.2.2.1.m1.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T3.2.2.1.m1.1b"><apply id="S5.T3.2.2.1.m1.1.1.cmml" xref="S5.T3.2.2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T3.2.2.1.m1.1.1.1.cmml" xref="S5.T3.2.2.1.m1.1.1">superscript</csymbol><ci id="S5.T3.2.2.1.m1.1.1.2.cmml" xref="S5.T3.2.2.1.m1.1.1.2">ğ‘¦</ci><ci id="S5.T3.2.2.1.m1.1.1.3.cmml" xref="S5.T3.2.2.1.m1.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.2.2.1.m1.1c">y^{\star}</annotation><annotation encoding="application/x-llamapun" id="S5.T3.2.2.1.m1.1d">italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S5.T3.2.2.3">100.0%</td>
<td class="ltx_td ltx_align_center" id="S5.T3.2.2.4">0.0%</td>
</tr>
<tr class="ltx_tr" id="S5.T3.3.3">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T3.3.3.2" rowspan="3"><span class="ltx_text" id="S5.T3.3.3.2.1">Llama-2 (70B)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.3.3.3">Prompt-based</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.3.3.1">Model generated <math alttext="y" class="ltx_Math" display="inline" id="S5.T3.3.3.1.m1.1"><semantics id="S5.T3.3.3.1.m1.1a"><mi id="S5.T3.3.3.1.m1.1.1" xref="S5.T3.3.3.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.T3.3.3.1.m1.1b"><ci id="S5.T3.3.3.1.m1.1.1.cmml" xref="S5.T3.3.3.1.m1.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.3.3.1.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="S5.T3.3.3.1.m1.1d">italic_y</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.3.3.4">95.0%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.3.3.5">9.53%</td>
</tr>
<tr class="ltx_tr" id="S5.T3.4.7">
<td class="ltx_td ltx_align_center" id="S5.T3.4.7.1">Introspection</td>
<td class="ltx_td ltx_align_center" id="S5.T3.4.7.2">-</td>
<td class="ltx_td ltx_align_center" id="S5.T3.4.7.3">80.0%</td>
<td class="ltx_td ltx_align_center" id="S5.T3.4.7.4">11.11%</td>
</tr>
<tr class="ltx_tr" id="S5.T3.4.4">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.4.4.2">Prompt-based</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.4.4.1">Ground truth <math alttext="y^{\star}" class="ltx_Math" display="inline" id="S5.T3.4.4.1.m1.1"><semantics id="S5.T3.4.4.1.m1.1a"><msup id="S5.T3.4.4.1.m1.1.1" xref="S5.T3.4.4.1.m1.1.1.cmml"><mi id="S5.T3.4.4.1.m1.1.1.2" xref="S5.T3.4.4.1.m1.1.1.2.cmml">y</mi><mo id="S5.T3.4.4.1.m1.1.1.3" xref="S5.T3.4.4.1.m1.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T3.4.4.1.m1.1b"><apply id="S5.T3.4.4.1.m1.1.1.cmml" xref="S5.T3.4.4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T3.4.4.1.m1.1.1.1.cmml" xref="S5.T3.4.4.1.m1.1.1">superscript</csymbol><ci id="S5.T3.4.4.1.m1.1.1.2.cmml" xref="S5.T3.4.4.1.m1.1.1.2">ğ‘¦</ci><ci id="S5.T3.4.4.1.m1.1.1.3.cmml" xref="S5.T3.4.4.1.m1.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.4.4.1.m1.1c">y^{\star}</annotation><annotation encoding="application/x-llamapun" id="S5.T3.4.4.1.m1.1d">italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.4.4.3">100.0%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.4.4.4">0.0%</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T3.14.5.1" style="font-size:90%;">TABLE III</span>: </span><span class="ltx_text" id="S5.T3.12.4" style="font-size:90%;">
Results on the LLM agent dataset.
The utility target column indicates which output <math alttext="y" class="ltx_Math" display="inline" id="S5.T3.9.1.m1.1"><semantics id="S5.T3.9.1.m1.1b"><mi id="S5.T3.9.1.m1.1.1" xref="S5.T3.9.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.T3.9.1.m1.1c"><ci id="S5.T3.9.1.m1.1.1.cmml" xref="S5.T3.9.1.m1.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.9.1.m1.1d">y</annotation><annotation encoding="application/x-llamapun" id="S5.T3.9.1.m1.1e">italic_y</annotation></semantics></math> we are using to compute our target utility <math alttext="U(p_{\textnormal{LM}}(y|x,C))" class="ltx_Math" display="inline" id="S5.T3.10.2.m2.3"><semantics id="S5.T3.10.2.m2.3b"><mrow id="S5.T3.10.2.m2.3.3" xref="S5.T3.10.2.m2.3.3.cmml"><mi id="S5.T3.10.2.m2.3.3.3" xref="S5.T3.10.2.m2.3.3.3.cmml">U</mi><mo id="S5.T3.10.2.m2.3.3.2" xref="S5.T3.10.2.m2.3.3.2.cmml">â¢</mo><mrow id="S5.T3.10.2.m2.3.3.1.1" xref="S5.T3.10.2.m2.3.3.1.1.1.cmml"><mo id="S5.T3.10.2.m2.3.3.1.1.2" stretchy="false" xref="S5.T3.10.2.m2.3.3.1.1.1.cmml">(</mo><mrow id="S5.T3.10.2.m2.3.3.1.1.1" xref="S5.T3.10.2.m2.3.3.1.1.1.cmml"><msub id="S5.T3.10.2.m2.3.3.1.1.1.3" xref="S5.T3.10.2.m2.3.3.1.1.1.3.cmml"><mi id="S5.T3.10.2.m2.3.3.1.1.1.3.2" xref="S5.T3.10.2.m2.3.3.1.1.1.3.2.cmml">p</mi><mtext id="S5.T3.10.2.m2.3.3.1.1.1.3.3" xref="S5.T3.10.2.m2.3.3.1.1.1.3.3a.cmml">LM</mtext></msub><mo id="S5.T3.10.2.m2.3.3.1.1.1.2" xref="S5.T3.10.2.m2.3.3.1.1.1.2.cmml">â¢</mo><mrow id="S5.T3.10.2.m2.3.3.1.1.1.1.1" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.cmml"><mo id="S5.T3.10.2.m2.3.3.1.1.1.1.1.2" stretchy="false" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.T3.10.2.m2.3.3.1.1.1.1.1.1" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.cmml"><mi id="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.2" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.1" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.3.2" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.3.1.cmml"><mi id="S5.T3.10.2.m2.1.1" xref="S5.T3.10.2.m2.1.1.cmml">x</mi><mo id="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.3.2.1" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.3.1.cmml">,</mo><mi id="S5.T3.10.2.m2.2.2" xref="S5.T3.10.2.m2.2.2.cmml">C</mi></mrow></mrow><mo id="S5.T3.10.2.m2.3.3.1.1.1.1.1.3" stretchy="false" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.T3.10.2.m2.3.3.1.1.3" stretchy="false" xref="S5.T3.10.2.m2.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.10.2.m2.3c"><apply id="S5.T3.10.2.m2.3.3.cmml" xref="S5.T3.10.2.m2.3.3"><times id="S5.T3.10.2.m2.3.3.2.cmml" xref="S5.T3.10.2.m2.3.3.2"></times><ci id="S5.T3.10.2.m2.3.3.3.cmml" xref="S5.T3.10.2.m2.3.3.3">ğ‘ˆ</ci><apply id="S5.T3.10.2.m2.3.3.1.1.1.cmml" xref="S5.T3.10.2.m2.3.3.1.1"><times id="S5.T3.10.2.m2.3.3.1.1.1.2.cmml" xref="S5.T3.10.2.m2.3.3.1.1.1.2"></times><apply id="S5.T3.10.2.m2.3.3.1.1.1.3.cmml" xref="S5.T3.10.2.m2.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S5.T3.10.2.m2.3.3.1.1.1.3.1.cmml" xref="S5.T3.10.2.m2.3.3.1.1.1.3">subscript</csymbol><ci id="S5.T3.10.2.m2.3.3.1.1.1.3.2.cmml" xref="S5.T3.10.2.m2.3.3.1.1.1.3.2">ğ‘</ci><ci id="S5.T3.10.2.m2.3.3.1.1.1.3.3a.cmml" xref="S5.T3.10.2.m2.3.3.1.1.1.3.3"><mtext id="S5.T3.10.2.m2.3.3.1.1.1.3.3.cmml" mathsize="70%" xref="S5.T3.10.2.m2.3.3.1.1.1.3.3">LM</mtext></ci></apply><apply id="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.cmml" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.1.cmml" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.1">conditional</csymbol><ci id="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.2.cmml" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.2">ğ‘¦</ci><list id="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.3.1.cmml" xref="S5.T3.10.2.m2.3.3.1.1.1.1.1.1.3.2"><ci id="S5.T3.10.2.m2.1.1.cmml" xref="S5.T3.10.2.m2.1.1">ğ‘¥</ci><ci id="S5.T3.10.2.m2.2.2.cmml" xref="S5.T3.10.2.m2.2.2">ğ¶</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.10.2.m2.3d">U(p_{\textnormal{LM}}(y|x,C))</annotation><annotation encoding="application/x-llamapun" id="S5.T3.10.2.m2.3e">italic_U ( italic_p start_POSTSUBSCRIPT LM end_POSTSUBSCRIPT ( italic_y | italic_x , italic_C ) )</annotation></semantics></math> in equation <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.E1" title="In Definition 1 (ğœ†-similar labels). â€£ III-A ğœ†-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a>.
In practice and in the absence of ground truth, the utility target is the model-generated output <math alttext="y" class="ltx_Math" display="inline" id="S5.T3.11.3.m3.1"><semantics id="S5.T3.11.3.m3.1b"><mi id="S5.T3.11.3.m3.1.1" xref="S5.T3.11.3.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.T3.11.3.m3.1c"><ci id="S5.T3.11.3.m3.1.1.cmml" xref="S5.T3.11.3.m3.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.11.3.m3.1d">y</annotation><annotation encoding="application/x-llamapun" id="S5.T3.11.3.m3.1e">italic_y</annotation></semantics></math>, but we also compare with the ground truth <math alttext="y^{\star}" class="ltx_Math" display="inline" id="S5.T3.12.4.m4.1"><semantics id="S5.T3.12.4.m4.1b"><msup id="S5.T3.12.4.m4.1.1" xref="S5.T3.12.4.m4.1.1.cmml"><mi id="S5.T3.12.4.m4.1.1.2" xref="S5.T3.12.4.m4.1.1.2.cmml">y</mi><mo id="S5.T3.12.4.m4.1.1.3" xref="S5.T3.12.4.m4.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T3.12.4.m4.1c"><apply id="S5.T3.12.4.m4.1.1.cmml" xref="S5.T3.12.4.m4.1.1"><csymbol cd="ambiguous" id="S5.T3.12.4.m4.1.1.1.cmml" xref="S5.T3.12.4.m4.1.1">superscript</csymbol><ci id="S5.T3.12.4.m4.1.1.2.cmml" xref="S5.T3.12.4.m4.1.1.2">ğ‘¦</ci><ci id="S5.T3.12.4.m4.1.1.3.cmml" xref="S5.T3.12.4.m4.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.12.4.m4.1d">y^{\star}</annotation><annotation encoding="application/x-llamapun" id="S5.T3.12.4.m4.1e">italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> to understand the maximum possible utility assuming a perfect LLM.
The difference in the numbers between the cases indicates that all the errors in the case of model-generated output are artifacts of the model generating a suboptimal response which causes incorrect propagation of labels.
</span></figcaption>
</figure>
<figure class="ltx_table" id="S5.T4">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.T4.4">
<tr class="ltx_tr" id="S5.T4.4.4">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.4.4.5">Model</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.1">ROUGE-L<math alttext="(y,y^{\star})" class="ltx_Math" display="inline" id="S5.T4.1.1.1.m1.2"><semantics id="S5.T4.1.1.1.m1.2a"><mrow id="S5.T4.1.1.1.m1.2.2.1" xref="S5.T4.1.1.1.m1.2.2.2.cmml"><mo id="S5.T4.1.1.1.m1.2.2.1.2" stretchy="false" xref="S5.T4.1.1.1.m1.2.2.2.cmml">(</mo><mi id="S5.T4.1.1.1.m1.1.1" xref="S5.T4.1.1.1.m1.1.1.cmml">y</mi><mo id="S5.T4.1.1.1.m1.2.2.1.3" xref="S5.T4.1.1.1.m1.2.2.2.cmml">,</mo><msup id="S5.T4.1.1.1.m1.2.2.1.1" xref="S5.T4.1.1.1.m1.2.2.1.1.cmml"><mi id="S5.T4.1.1.1.m1.2.2.1.1.2" xref="S5.T4.1.1.1.m1.2.2.1.1.2.cmml">y</mi><mo id="S5.T4.1.1.1.m1.2.2.1.1.3" xref="S5.T4.1.1.1.m1.2.2.1.1.3.cmml">â‹†</mo></msup><mo id="S5.T4.1.1.1.m1.2.2.1.4" stretchy="false" xref="S5.T4.1.1.1.m1.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.1.1.1.m1.2b"><interval closure="open" id="S5.T4.1.1.1.m1.2.2.2.cmml" xref="S5.T4.1.1.1.m1.2.2.1"><ci id="S5.T4.1.1.1.m1.1.1.cmml" xref="S5.T4.1.1.1.m1.1.1">ğ‘¦</ci><apply id="S5.T4.1.1.1.m1.2.2.1.1.cmml" xref="S5.T4.1.1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S5.T4.1.1.1.m1.2.2.1.1.1.cmml" xref="S5.T4.1.1.1.m1.2.2.1.1">superscript</csymbol><ci id="S5.T4.1.1.1.m1.2.2.1.1.2.cmml" xref="S5.T4.1.1.1.m1.2.2.1.1.2">ğ‘¦</ci><ci id="S5.T4.1.1.1.m1.2.2.1.1.3.cmml" xref="S5.T4.1.1.1.m1.2.2.1.1.3">â‹†</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.1.1.1.m1.2c">(y,y^{\star})</annotation><annotation encoding="application/x-llamapun" id="S5.T4.1.1.1.m1.2d">( italic_y , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT )</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.2.2.2">ROUGE-L<math alttext="(y^{\prime},y^{\star})" class="ltx_Math" display="inline" id="S5.T4.2.2.2.m1.2"><semantics id="S5.T4.2.2.2.m1.2a"><mrow id="S5.T4.2.2.2.m1.2.2.2" xref="S5.T4.2.2.2.m1.2.2.3.cmml"><mo id="S5.T4.2.2.2.m1.2.2.2.3" stretchy="false" xref="S5.T4.2.2.2.m1.2.2.3.cmml">(</mo><msup id="S5.T4.2.2.2.m1.1.1.1.1" xref="S5.T4.2.2.2.m1.1.1.1.1.cmml"><mi id="S5.T4.2.2.2.m1.1.1.1.1.2" xref="S5.T4.2.2.2.m1.1.1.1.1.2.cmml">y</mi><mo id="S5.T4.2.2.2.m1.1.1.1.1.3" xref="S5.T4.2.2.2.m1.1.1.1.1.3.cmml">â€²</mo></msup><mo id="S5.T4.2.2.2.m1.2.2.2.4" xref="S5.T4.2.2.2.m1.2.2.3.cmml">,</mo><msup id="S5.T4.2.2.2.m1.2.2.2.2" xref="S5.T4.2.2.2.m1.2.2.2.2.cmml"><mi id="S5.T4.2.2.2.m1.2.2.2.2.2" xref="S5.T4.2.2.2.m1.2.2.2.2.2.cmml">y</mi><mo id="S5.T4.2.2.2.m1.2.2.2.2.3" xref="S5.T4.2.2.2.m1.2.2.2.2.3.cmml">â‹†</mo></msup><mo id="S5.T4.2.2.2.m1.2.2.2.5" stretchy="false" xref="S5.T4.2.2.2.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.2.2.2.m1.2b"><interval closure="open" id="S5.T4.2.2.2.m1.2.2.3.cmml" xref="S5.T4.2.2.2.m1.2.2.2"><apply id="S5.T4.2.2.2.m1.1.1.1.1.cmml" xref="S5.T4.2.2.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S5.T4.2.2.2.m1.1.1.1.1.1.cmml" xref="S5.T4.2.2.2.m1.1.1.1.1">superscript</csymbol><ci id="S5.T4.2.2.2.m1.1.1.1.1.2.cmml" xref="S5.T4.2.2.2.m1.1.1.1.1.2">ğ‘¦</ci><ci id="S5.T4.2.2.2.m1.1.1.1.1.3.cmml" xref="S5.T4.2.2.2.m1.1.1.1.1.3">â€²</ci></apply><apply id="S5.T4.2.2.2.m1.2.2.2.2.cmml" xref="S5.T4.2.2.2.m1.2.2.2.2"><csymbol cd="ambiguous" id="S5.T4.2.2.2.m1.2.2.2.2.1.cmml" xref="S5.T4.2.2.2.m1.2.2.2.2">superscript</csymbol><ci id="S5.T4.2.2.2.m1.2.2.2.2.2.cmml" xref="S5.T4.2.2.2.m1.2.2.2.2.2">ğ‘¦</ci><ci id="S5.T4.2.2.2.m1.2.2.2.2.3.cmml" xref="S5.T4.2.2.2.m1.2.2.2.2.3">â‹†</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.2.2.2.m1.2c">(y^{\prime},y^{\star})</annotation><annotation encoding="application/x-llamapun" id="S5.T4.2.2.2.m1.2d">( italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT )</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T4.4.4.4">ROUGE-L<math alttext="(y^{\prime},y^{\star})-" class="ltx_Math" display="inline" id="S5.T4.3.3.3.m1.2"><semantics id="S5.T4.3.3.3.m1.2a"><mrow id="S5.T4.3.3.3.m1.2.2" xref="S5.T4.3.3.3.m1.2.2.cmml"><mrow id="S5.T4.3.3.3.m1.2.2.2.2" xref="S5.T4.3.3.3.m1.2.2.2.3.cmml"><mo id="S5.T4.3.3.3.m1.2.2.2.2.3" stretchy="false" xref="S5.T4.3.3.3.m1.2.2.2.3.cmml">(</mo><msup id="S5.T4.3.3.3.m1.1.1.1.1.1" xref="S5.T4.3.3.3.m1.1.1.1.1.1.cmml"><mi id="S5.T4.3.3.3.m1.1.1.1.1.1.2" xref="S5.T4.3.3.3.m1.1.1.1.1.1.2.cmml">y</mi><mo id="S5.T4.3.3.3.m1.1.1.1.1.1.3" xref="S5.T4.3.3.3.m1.1.1.1.1.1.3.cmml">â€²</mo></msup><mo id="S5.T4.3.3.3.m1.2.2.2.2.4" xref="S5.T4.3.3.3.m1.2.2.2.3.cmml">,</mo><msup id="S5.T4.3.3.3.m1.2.2.2.2.2" xref="S5.T4.3.3.3.m1.2.2.2.2.2.cmml"><mi id="S5.T4.3.3.3.m1.2.2.2.2.2.2" xref="S5.T4.3.3.3.m1.2.2.2.2.2.2.cmml">y</mi><mo id="S5.T4.3.3.3.m1.2.2.2.2.2.3" xref="S5.T4.3.3.3.m1.2.2.2.2.2.3.cmml">â‹†</mo></msup><mo id="S5.T4.3.3.3.m1.2.2.2.2.5" stretchy="false" xref="S5.T4.3.3.3.m1.2.2.2.3.cmml">)</mo></mrow><mo id="S5.T4.3.3.3.m1.2.2.4" xref="S5.T4.3.3.3.m1.2.2.4.cmml">âˆ’</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.3.3.3.m1.2b"><apply id="S5.T4.3.3.3.m1.2.2.cmml" xref="S5.T4.3.3.3.m1.2.2"><csymbol cd="latexml" id="S5.T4.3.3.3.m1.2.2.3.cmml" xref="S5.T4.3.3.3.m1.2.2">limit-from</csymbol><interval closure="open" id="S5.T4.3.3.3.m1.2.2.2.3.cmml" xref="S5.T4.3.3.3.m1.2.2.2.2"><apply id="S5.T4.3.3.3.m1.1.1.1.1.1.cmml" xref="S5.T4.3.3.3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.T4.3.3.3.m1.1.1.1.1.1.1.cmml" xref="S5.T4.3.3.3.m1.1.1.1.1.1">superscript</csymbol><ci id="S5.T4.3.3.3.m1.1.1.1.1.1.2.cmml" xref="S5.T4.3.3.3.m1.1.1.1.1.1.2">ğ‘¦</ci><ci id="S5.T4.3.3.3.m1.1.1.1.1.1.3.cmml" xref="S5.T4.3.3.3.m1.1.1.1.1.1.3">â€²</ci></apply><apply id="S5.T4.3.3.3.m1.2.2.2.2.2.cmml" xref="S5.T4.3.3.3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S5.T4.3.3.3.m1.2.2.2.2.2.1.cmml" xref="S5.T4.3.3.3.m1.2.2.2.2.2">superscript</csymbol><ci id="S5.T4.3.3.3.m1.2.2.2.2.2.2.cmml" xref="S5.T4.3.3.3.m1.2.2.2.2.2.2">ğ‘¦</ci><ci id="S5.T4.3.3.3.m1.2.2.2.2.2.3.cmml" xref="S5.T4.3.3.3.m1.2.2.2.2.2.3">â‹†</ci></apply></interval><minus id="S5.T4.3.3.3.m1.2.2.4.cmml" xref="S5.T4.3.3.3.m1.2.2.4"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.3.3.3.m1.2c">(y^{\prime},y^{\star})-</annotation><annotation encoding="application/x-llamapun" id="S5.T4.3.3.3.m1.2d">( italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT ) -</annotation></semantics></math> ROUGE-L<math alttext="(y,y^{\star})" class="ltx_Math" display="inline" id="S5.T4.4.4.4.m2.2"><semantics id="S5.T4.4.4.4.m2.2a"><mrow id="S5.T4.4.4.4.m2.2.2.1" xref="S5.T4.4.4.4.m2.2.2.2.cmml"><mo id="S5.T4.4.4.4.m2.2.2.1.2" stretchy="false" xref="S5.T4.4.4.4.m2.2.2.2.cmml">(</mo><mi id="S5.T4.4.4.4.m2.1.1" xref="S5.T4.4.4.4.m2.1.1.cmml">y</mi><mo id="S5.T4.4.4.4.m2.2.2.1.3" xref="S5.T4.4.4.4.m2.2.2.2.cmml">,</mo><msup id="S5.T4.4.4.4.m2.2.2.1.1" xref="S5.T4.4.4.4.m2.2.2.1.1.cmml"><mi id="S5.T4.4.4.4.m2.2.2.1.1.2" xref="S5.T4.4.4.4.m2.2.2.1.1.2.cmml">y</mi><mo id="S5.T4.4.4.4.m2.2.2.1.1.3" xref="S5.T4.4.4.4.m2.2.2.1.1.3.cmml">â‹†</mo></msup><mo id="S5.T4.4.4.4.m2.2.2.1.4" stretchy="false" xref="S5.T4.4.4.4.m2.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.4.4.4.m2.2b"><interval closure="open" id="S5.T4.4.4.4.m2.2.2.2.cmml" xref="S5.T4.4.4.4.m2.2.2.1"><ci id="S5.T4.4.4.4.m2.1.1.cmml" xref="S5.T4.4.4.4.m2.1.1">ğ‘¦</ci><apply id="S5.T4.4.4.4.m2.2.2.1.1.cmml" xref="S5.T4.4.4.4.m2.2.2.1.1"><csymbol cd="ambiguous" id="S5.T4.4.4.4.m2.2.2.1.1.1.cmml" xref="S5.T4.4.4.4.m2.2.2.1.1">superscript</csymbol><ci id="S5.T4.4.4.4.m2.2.2.1.1.2.cmml" xref="S5.T4.4.4.4.m2.2.2.1.1.2">ğ‘¦</ci><ci id="S5.T4.4.4.4.m2.2.2.1.1.3.cmml" xref="S5.T4.4.4.4.m2.2.2.1.1.3">â‹†</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.4.4.4.m2.2c">(y,y^{\star})</annotation><annotation encoding="application/x-llamapun" id="S5.T4.4.4.4.m2.2d">( italic_y , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT )</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.5">
<td class="ltx_td" id="S5.T4.4.5.1"></td>
<td class="ltx_td" id="S5.T4.4.5.2"></td>
<td class="ltx_td" id="S5.T4.4.5.3"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.4.5.4">Improvement possible</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.4.5.5">Not possible</td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.6">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.4.6.1">Llama-2 (7B)</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.4.6.2">0.77</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.4.6.3">0.85</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.4.6.4">0.0051</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.4.6.5">-0.34</td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.7">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T4.4.7.1">Llama-2 (70B)</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T4.4.7.2">0.82</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T4.4.7.3">0.90</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T4.4.7.4">0.025</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T4.4.7.5">-0.31</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T4.20.8.1" style="font-size:90%;">TABLE IV</span>: </span><span class="ltx_text" id="S5.T4.18.7" style="font-size:90%;">
Model output alignment with the dataset ground truth computed using ROUGE-L F-score on the LLM agent dataset.
Utility computation is only applicable to the prompt-based label propagator.
ROUGE-L<math alttext="(y,y^{\star})" class="ltx_Math" display="inline" id="S5.T4.12.1.m1.2"><semantics id="S5.T4.12.1.m1.2b"><mrow id="S5.T4.12.1.m1.2.2.1" xref="S5.T4.12.1.m1.2.2.2.cmml"><mo id="S5.T4.12.1.m1.2.2.1.2" stretchy="false" xref="S5.T4.12.1.m1.2.2.2.cmml">(</mo><mi id="S5.T4.12.1.m1.1.1" xref="S5.T4.12.1.m1.1.1.cmml">y</mi><mo id="S5.T4.12.1.m1.2.2.1.3" xref="S5.T4.12.1.m1.2.2.2.cmml">,</mo><msup id="S5.T4.12.1.m1.2.2.1.1" xref="S5.T4.12.1.m1.2.2.1.1.cmml"><mi id="S5.T4.12.1.m1.2.2.1.1.2" xref="S5.T4.12.1.m1.2.2.1.1.2.cmml">y</mi><mo id="S5.T4.12.1.m1.2.2.1.1.3" xref="S5.T4.12.1.m1.2.2.1.1.3.cmml">â‹†</mo></msup><mo id="S5.T4.12.1.m1.2.2.1.4" stretchy="false" xref="S5.T4.12.1.m1.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.12.1.m1.2c"><interval closure="open" id="S5.T4.12.1.m1.2.2.2.cmml" xref="S5.T4.12.1.m1.2.2.1"><ci id="S5.T4.12.1.m1.1.1.cmml" xref="S5.T4.12.1.m1.1.1">ğ‘¦</ci><apply id="S5.T4.12.1.m1.2.2.1.1.cmml" xref="S5.T4.12.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S5.T4.12.1.m1.2.2.1.1.1.cmml" xref="S5.T4.12.1.m1.2.2.1.1">superscript</csymbol><ci id="S5.T4.12.1.m1.2.2.1.1.2.cmml" xref="S5.T4.12.1.m1.2.2.1.1.2">ğ‘¦</ci><ci id="S5.T4.12.1.m1.2.2.1.1.3.cmml" xref="S5.T4.12.1.m1.2.2.1.1.3">â‹†</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.12.1.m1.2d">(y,y^{\star})</annotation><annotation encoding="application/x-llamapun" id="S5.T4.12.1.m1.2e">( italic_y , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT )</annotation></semantics></math> refers to the alignment of the full context output (no regeneration required), while ROUGE-L<math alttext="(y^{\prime},y^{\star})" class="ltx_Math" display="inline" id="S5.T4.13.2.m2.2"><semantics id="S5.T4.13.2.m2.2b"><mrow id="S5.T4.13.2.m2.2.2.2" xref="S5.T4.13.2.m2.2.2.3.cmml"><mo id="S5.T4.13.2.m2.2.2.2.3" stretchy="false" xref="S5.T4.13.2.m2.2.2.3.cmml">(</mo><msup id="S5.T4.13.2.m2.1.1.1.1" xref="S5.T4.13.2.m2.1.1.1.1.cmml"><mi id="S5.T4.13.2.m2.1.1.1.1.2" xref="S5.T4.13.2.m2.1.1.1.1.2.cmml">y</mi><mo id="S5.T4.13.2.m2.1.1.1.1.3" xref="S5.T4.13.2.m2.1.1.1.1.3.cmml">â€²</mo></msup><mo id="S5.T4.13.2.m2.2.2.2.4" xref="S5.T4.13.2.m2.2.2.3.cmml">,</mo><msup id="S5.T4.13.2.m2.2.2.2.2" xref="S5.T4.13.2.m2.2.2.2.2.cmml"><mi id="S5.T4.13.2.m2.2.2.2.2.2" xref="S5.T4.13.2.m2.2.2.2.2.2.cmml">y</mi><mo id="S5.T4.13.2.m2.2.2.2.2.3" xref="S5.T4.13.2.m2.2.2.2.2.3.cmml">â‹†</mo></msup><mo id="S5.T4.13.2.m2.2.2.2.5" stretchy="false" xref="S5.T4.13.2.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.13.2.m2.2c"><interval closure="open" id="S5.T4.13.2.m2.2.2.3.cmml" xref="S5.T4.13.2.m2.2.2.2"><apply id="S5.T4.13.2.m2.1.1.1.1.cmml" xref="S5.T4.13.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S5.T4.13.2.m2.1.1.1.1.1.cmml" xref="S5.T4.13.2.m2.1.1.1.1">superscript</csymbol><ci id="S5.T4.13.2.m2.1.1.1.1.2.cmml" xref="S5.T4.13.2.m2.1.1.1.1.2">ğ‘¦</ci><ci id="S5.T4.13.2.m2.1.1.1.1.3.cmml" xref="S5.T4.13.2.m2.1.1.1.1.3">â€²</ci></apply><apply id="S5.T4.13.2.m2.2.2.2.2.cmml" xref="S5.T4.13.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S5.T4.13.2.m2.2.2.2.2.1.cmml" xref="S5.T4.13.2.m2.2.2.2.2">superscript</csymbol><ci id="S5.T4.13.2.m2.2.2.2.2.2.cmml" xref="S5.T4.13.2.m2.2.2.2.2.2">ğ‘¦</ci><ci id="S5.T4.13.2.m2.2.2.2.2.3.cmml" xref="S5.T4.13.2.m2.2.2.2.2.3">â‹†</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.13.2.m2.2d">(y^{\prime},y^{\star})</annotation><annotation encoding="application/x-llamapun" id="S5.T4.13.2.m2.2e">( italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT )</annotation></semantics></math> represents the alignment of the regenerated response after label improvement.
Interestingly, we see that the regenerated response is more aligned with the ground truth response suggesting that in some cases label propagation can improve utility.
ROUGE-L<math alttext="(y^{\prime},y^{\star})-" class="ltx_Math" display="inline" id="S5.T4.14.3.m3.2"><semantics id="S5.T4.14.3.m3.2b"><mrow id="S5.T4.14.3.m3.2.2" xref="S5.T4.14.3.m3.2.2.cmml"><mrow id="S5.T4.14.3.m3.2.2.2.2" xref="S5.T4.14.3.m3.2.2.2.3.cmml"><mo id="S5.T4.14.3.m3.2.2.2.2.3" stretchy="false" xref="S5.T4.14.3.m3.2.2.2.3.cmml">(</mo><msup id="S5.T4.14.3.m3.1.1.1.1.1" xref="S5.T4.14.3.m3.1.1.1.1.1.cmml"><mi id="S5.T4.14.3.m3.1.1.1.1.1.2" xref="S5.T4.14.3.m3.1.1.1.1.1.2.cmml">y</mi><mo id="S5.T4.14.3.m3.1.1.1.1.1.3" xref="S5.T4.14.3.m3.1.1.1.1.1.3.cmml">â€²</mo></msup><mo id="S5.T4.14.3.m3.2.2.2.2.4" xref="S5.T4.14.3.m3.2.2.2.3.cmml">,</mo><msup id="S5.T4.14.3.m3.2.2.2.2.2" xref="S5.T4.14.3.m3.2.2.2.2.2.cmml"><mi id="S5.T4.14.3.m3.2.2.2.2.2.2" xref="S5.T4.14.3.m3.2.2.2.2.2.2.cmml">y</mi><mo id="S5.T4.14.3.m3.2.2.2.2.2.3" xref="S5.T4.14.3.m3.2.2.2.2.2.3.cmml">â‹†</mo></msup><mo id="S5.T4.14.3.m3.2.2.2.2.5" stretchy="false" xref="S5.T4.14.3.m3.2.2.2.3.cmml">)</mo></mrow><mo id="S5.T4.14.3.m3.2.2.4" xref="S5.T4.14.3.m3.2.2.4.cmml">âˆ’</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.14.3.m3.2c"><apply id="S5.T4.14.3.m3.2.2.cmml" xref="S5.T4.14.3.m3.2.2"><csymbol cd="latexml" id="S5.T4.14.3.m3.2.2.3.cmml" xref="S5.T4.14.3.m3.2.2">limit-from</csymbol><interval closure="open" id="S5.T4.14.3.m3.2.2.2.3.cmml" xref="S5.T4.14.3.m3.2.2.2.2"><apply id="S5.T4.14.3.m3.1.1.1.1.1.cmml" xref="S5.T4.14.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.T4.14.3.m3.1.1.1.1.1.1.cmml" xref="S5.T4.14.3.m3.1.1.1.1.1">superscript</csymbol><ci id="S5.T4.14.3.m3.1.1.1.1.1.2.cmml" xref="S5.T4.14.3.m3.1.1.1.1.1.2">ğ‘¦</ci><ci id="S5.T4.14.3.m3.1.1.1.1.1.3.cmml" xref="S5.T4.14.3.m3.1.1.1.1.1.3">â€²</ci></apply><apply id="S5.T4.14.3.m3.2.2.2.2.2.cmml" xref="S5.T4.14.3.m3.2.2.2.2.2"><csymbol cd="ambiguous" id="S5.T4.14.3.m3.2.2.2.2.2.1.cmml" xref="S5.T4.14.3.m3.2.2.2.2.2">superscript</csymbol><ci id="S5.T4.14.3.m3.2.2.2.2.2.2.cmml" xref="S5.T4.14.3.m3.2.2.2.2.2.2">ğ‘¦</ci><ci id="S5.T4.14.3.m3.2.2.2.2.2.3.cmml" xref="S5.T4.14.3.m3.2.2.2.2.2.3">â‹†</ci></apply></interval><minus id="S5.T4.14.3.m3.2.2.4.cmml" xref="S5.T4.14.3.m3.2.2.4"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.14.3.m3.2d">(y^{\prime},y^{\star})-</annotation><annotation encoding="application/x-llamapun" id="S5.T4.14.3.m3.2e">( italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT ) -</annotation></semantics></math> ROUGE-L<math alttext="(y,y^{\star})" class="ltx_Math" display="inline" id="S5.T4.15.4.m4.2"><semantics id="S5.T4.15.4.m4.2b"><mrow id="S5.T4.15.4.m4.2.2.1" xref="S5.T4.15.4.m4.2.2.2.cmml"><mo id="S5.T4.15.4.m4.2.2.1.2" stretchy="false" xref="S5.T4.15.4.m4.2.2.2.cmml">(</mo><mi id="S5.T4.15.4.m4.1.1" xref="S5.T4.15.4.m4.1.1.cmml">y</mi><mo id="S5.T4.15.4.m4.2.2.1.3" xref="S5.T4.15.4.m4.2.2.2.cmml">,</mo><msup id="S5.T4.15.4.m4.2.2.1.1" xref="S5.T4.15.4.m4.2.2.1.1.cmml"><mi id="S5.T4.15.4.m4.2.2.1.1.2" xref="S5.T4.15.4.m4.2.2.1.1.2.cmml">y</mi><mo id="S5.T4.15.4.m4.2.2.1.1.3" xref="S5.T4.15.4.m4.2.2.1.1.3.cmml">â‹†</mo></msup><mo id="S5.T4.15.4.m4.2.2.1.4" stretchy="false" xref="S5.T4.15.4.m4.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.15.4.m4.2c"><interval closure="open" id="S5.T4.15.4.m4.2.2.2.cmml" xref="S5.T4.15.4.m4.2.2.1"><ci id="S5.T4.15.4.m4.1.1.cmml" xref="S5.T4.15.4.m4.1.1">ğ‘¦</ci><apply id="S5.T4.15.4.m4.2.2.1.1.cmml" xref="S5.T4.15.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="S5.T4.15.4.m4.2.2.1.1.1.cmml" xref="S5.T4.15.4.m4.2.2.1.1">superscript</csymbol><ci id="S5.T4.15.4.m4.2.2.1.1.2.cmml" xref="S5.T4.15.4.m4.2.2.1.1.2">ğ‘¦</ci><ci id="S5.T4.15.4.m4.2.2.1.1.3.cmml" xref="S5.T4.15.4.m4.2.2.1.1.3">â‹†</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.15.4.m4.2d">(y,y^{\star})</annotation><annotation encoding="application/x-llamapun" id="S5.T4.15.4.m4.2e">( italic_y , italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT )</annotation></semantics></math> compares the difference in alignment between the full context and the subcontext of the inferred label.
When label improvement is possible, the difference in alignment is close to nil indicating that the regenerated response <math alttext="y^{\prime}" class="ltx_Math" display="inline" id="S5.T4.16.5.m5.1"><semantics id="S5.T4.16.5.m5.1b"><msup id="S5.T4.16.5.m5.1.1" xref="S5.T4.16.5.m5.1.1.cmml"><mi id="S5.T4.16.5.m5.1.1.2" xref="S5.T4.16.5.m5.1.1.2.cmml">y</mi><mo id="S5.T4.16.5.m5.1.1.3" xref="S5.T4.16.5.m5.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T4.16.5.m5.1c"><apply id="S5.T4.16.5.m5.1.1.cmml" xref="S5.T4.16.5.m5.1.1"><csymbol cd="ambiguous" id="S5.T4.16.5.m5.1.1.1.cmml" xref="S5.T4.16.5.m5.1.1">superscript</csymbol><ci id="S5.T4.16.5.m5.1.1.2.cmml" xref="S5.T4.16.5.m5.1.1.2">ğ‘¦</ci><ci id="S5.T4.16.5.m5.1.1.3.cmml" xref="S5.T4.16.5.m5.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.16.5.m5.1d">y^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S5.T4.16.5.m5.1e">italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math> is highly aligned with the ground truth response <math alttext="y^{\star}" class="ltx_Math" display="inline" id="S5.T4.17.6.m6.1"><semantics id="S5.T4.17.6.m6.1b"><msup id="S5.T4.17.6.m6.1.1" xref="S5.T4.17.6.m6.1.1.cmml"><mi id="S5.T4.17.6.m6.1.1.2" xref="S5.T4.17.6.m6.1.1.2.cmml">y</mi><mo id="S5.T4.17.6.m6.1.1.3" xref="S5.T4.17.6.m6.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T4.17.6.m6.1c"><apply id="S5.T4.17.6.m6.1.1.cmml" xref="S5.T4.17.6.m6.1.1"><csymbol cd="ambiguous" id="S5.T4.17.6.m6.1.1.1.cmml" xref="S5.T4.17.6.m6.1.1">superscript</csymbol><ci id="S5.T4.17.6.m6.1.1.2.cmml" xref="S5.T4.17.6.m6.1.1.2">ğ‘¦</ci><ci id="S5.T4.17.6.m6.1.1.3.cmml" xref="S5.T4.17.6.m6.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.17.6.m6.1d">y^{\star}</annotation><annotation encoding="application/x-llamapun" id="S5.T4.17.6.m6.1e">italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math>.
Otherwise, the difference in alignment is highly negative, indicating a significant drop in model alignment with <math alttext="y^{\star}" class="ltx_Math" display="inline" id="S5.T4.18.7.m7.1"><semantics id="S5.T4.18.7.m7.1b"><msup id="S5.T4.18.7.m7.1.1" xref="S5.T4.18.7.m7.1.1.cmml"><mi id="S5.T4.18.7.m7.1.1.2" xref="S5.T4.18.7.m7.1.1.2.cmml">y</mi><mo id="S5.T4.18.7.m7.1.1.3" xref="S5.T4.18.7.m7.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T4.18.7.m7.1c"><apply id="S5.T4.18.7.m7.1.1.cmml" xref="S5.T4.18.7.m7.1.1"><csymbol cd="ambiguous" id="S5.T4.18.7.m7.1.1.1.cmml" xref="S5.T4.18.7.m7.1.1">superscript</csymbol><ci id="S5.T4.18.7.m7.1.1.2.cmml" xref="S5.T4.18.7.m7.1.1.2">ğ‘¦</ci><ci id="S5.T4.18.7.m7.1.1.3.cmml" xref="S5.T4.18.7.m7.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.18.7.m7.1d">y^{\star}</annotation><annotation encoding="application/x-llamapun" id="S5.T4.18.7.m7.1e">italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math>.
</span></figcaption>
</figure>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">In the LLM agent dataset, we take a step further by also computing the misalignment introduced by regenerating the output conditioned on the updated context (when label improvement is possible).
The results are presented in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.T3" title="TABLE III â€£ V-C LLM agent dataset â€£ V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">III</span></a>.
We fix a threshold of <math alttext="\lambda=0.2" class="ltx_Math" display="inline" id="S5.SS3.p1.1.m1.1"><semantics id="S5.SS3.p1.1.m1.1a"><mrow id="S5.SS3.p1.1.m1.1.1" xref="S5.SS3.p1.1.m1.1.1.cmml"><mi id="S5.SS3.p1.1.m1.1.1.2" xref="S5.SS3.p1.1.m1.1.1.2.cmml">Î»</mi><mo id="S5.SS3.p1.1.m1.1.1.1" xref="S5.SS3.p1.1.m1.1.1.1.cmml">=</mo><mn id="S5.SS3.p1.1.m1.1.1.3" xref="S5.SS3.p1.1.m1.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.1.m1.1b"><apply id="S5.SS3.p1.1.m1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1"><eq id="S5.SS3.p1.1.m1.1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1.1"></eq><ci id="S5.SS3.p1.1.m1.1.1.2.cmml" xref="S5.SS3.p1.1.m1.1.1.2">ğœ†</ci><cn id="S5.SS3.p1.1.m1.1.1.3.cmml" type="float" xref="S5.SS3.p1.1.m1.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.1.m1.1c">\lambda=0.2</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.1.m1.1d">italic_Î» = 0.2</annotation></semantics></math> for this experiment.
We use the base model without instruction tuning in this case due to the use of a custom chat format.</p>
</div>
<div class="ltx_para" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.1">First, we focus on the 20 cases where label improvement is possible i.e., <math alttext="L^{\star}\sqsubset\ell(C)" class="ltx_Math" display="inline" id="S5.SS3.p2.1.m1.1"><semantics id="S5.SS3.p2.1.m1.1a"><mrow id="S5.SS3.p2.1.m1.1.2" xref="S5.SS3.p2.1.m1.1.2.cmml"><msup id="S5.SS3.p2.1.m1.1.2.2" xref="S5.SS3.p2.1.m1.1.2.2.cmml"><mi id="S5.SS3.p2.1.m1.1.2.2.2" xref="S5.SS3.p2.1.m1.1.2.2.2.cmml">L</mi><mo id="S5.SS3.p2.1.m1.1.2.2.3" xref="S5.SS3.p2.1.m1.1.2.2.3.cmml">â‹†</mo></msup><mo id="S5.SS3.p2.1.m1.1.2.1" xref="S5.SS3.p2.1.m1.1.2.1.cmml">âŠ</mo><mrow id="S5.SS3.p2.1.m1.1.2.3" xref="S5.SS3.p2.1.m1.1.2.3.cmml"><mi id="S5.SS3.p2.1.m1.1.2.3.2" mathvariant="normal" xref="S5.SS3.p2.1.m1.1.2.3.2.cmml">â„“</mi><mo id="S5.SS3.p2.1.m1.1.2.3.1" xref="S5.SS3.p2.1.m1.1.2.3.1.cmml">â¢</mo><mrow id="S5.SS3.p2.1.m1.1.2.3.3.2" xref="S5.SS3.p2.1.m1.1.2.3.cmml"><mo id="S5.SS3.p2.1.m1.1.2.3.3.2.1" stretchy="false" xref="S5.SS3.p2.1.m1.1.2.3.cmml">(</mo><mi id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml">C</mi><mo id="S5.SS3.p2.1.m1.1.2.3.3.2.2" stretchy="false" xref="S5.SS3.p2.1.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><apply id="S5.SS3.p2.1.m1.1.2.cmml" xref="S5.SS3.p2.1.m1.1.2"><csymbol cd="latexml" id="S5.SS3.p2.1.m1.1.2.1.cmml" xref="S5.SS3.p2.1.m1.1.2.1">square-image-of</csymbol><apply id="S5.SS3.p2.1.m1.1.2.2.cmml" xref="S5.SS3.p2.1.m1.1.2.2"><csymbol cd="ambiguous" id="S5.SS3.p2.1.m1.1.2.2.1.cmml" xref="S5.SS3.p2.1.m1.1.2.2">superscript</csymbol><ci id="S5.SS3.p2.1.m1.1.2.2.2.cmml" xref="S5.SS3.p2.1.m1.1.2.2.2">ğ¿</ci><ci id="S5.SS3.p2.1.m1.1.2.2.3.cmml" xref="S5.SS3.p2.1.m1.1.2.2.3">â‹†</ci></apply><apply id="S5.SS3.p2.1.m1.1.2.3.cmml" xref="S5.SS3.p2.1.m1.1.2.3"><times id="S5.SS3.p2.1.m1.1.2.3.1.cmml" xref="S5.SS3.p2.1.m1.1.2.3.1"></times><ci id="S5.SS3.p2.1.m1.1.2.3.2.cmml" xref="S5.SS3.p2.1.m1.1.2.3.2">â„“</ci><ci id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">ğ¶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">L^{\star}\sqsubset\ell(C)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.1.m1.1d">italic_L start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT âŠ roman_â„“ ( italic_C )</annotation></semantics></math>.
We find that the label propagator improves the label in at least 17 of these cases.</p>
</div>
<div class="ltx_para" id="S5.SS3.p3">
<p class="ltx_p" id="S5.SS3.p3.5">In at most 2 of the cases, the LP is overly optimistic and returns a more permissive label <math alttext="L^{\prime}" class="ltx_Math" display="inline" id="S5.SS3.p3.1.m1.1"><semantics id="S5.SS3.p3.1.m1.1a"><msup id="S5.SS3.p3.1.m1.1.1" xref="S5.SS3.p3.1.m1.1.1.cmml"><mi id="S5.SS3.p3.1.m1.1.1.2" xref="S5.SS3.p3.1.m1.1.1.2.cmml">L</mi><mo id="S5.SS3.p3.1.m1.1.1.3" xref="S5.SS3.p3.1.m1.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.1.m1.1b"><apply id="S5.SS3.p3.1.m1.1.1.cmml" xref="S5.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.1.m1.1.1.1.cmml" xref="S5.SS3.p3.1.m1.1.1">superscript</csymbol><ci id="S5.SS3.p3.1.m1.1.1.2.cmml" xref="S5.SS3.p3.1.m1.1.1.2">ğ¿</ci><ci id="S5.SS3.p3.1.m1.1.1.3.cmml" xref="S5.SS3.p3.1.m1.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.1.m1.1c">L^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.1.m1.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math> than the ground truth label <math alttext="L^{\star}" class="ltx_Math" display="inline" id="S5.SS3.p3.2.m2.1"><semantics id="S5.SS3.p3.2.m2.1a"><msup id="S5.SS3.p3.2.m2.1.1" xref="S5.SS3.p3.2.m2.1.1.cmml"><mi id="S5.SS3.p3.2.m2.1.1.2" xref="S5.SS3.p3.2.m2.1.1.2.cmml">L</mi><mo id="S5.SS3.p3.2.m2.1.1.3" xref="S5.SS3.p3.2.m2.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.2.m2.1b"><apply id="S5.SS3.p3.2.m2.1.1.cmml" xref="S5.SS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.2.m2.1.1.1.cmml" xref="S5.SS3.p3.2.m2.1.1">superscript</csymbol><ci id="S5.SS3.p3.2.m2.1.1.2.cmml" xref="S5.SS3.p3.2.m2.1.1.2">ğ¿</ci><ci id="S5.SS3.p3.2.m2.1.1.3.cmml" xref="S5.SS3.p3.2.m2.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.2.m2.1c">L^{\star}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.2.m2.1d">italic_L start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math>.
Again, the safety property still holds in these cases because the system regenerates the output using the reduced context <math alttext="C_{|L^{\prime}}" class="ltx_math_unparsed" display="inline" id="S5.SS3.p3.3.m3.1"><semantics id="S5.SS3.p3.3.m3.1a"><msub id="S5.SS3.p3.3.m3.1.1"><mi id="S5.SS3.p3.3.m3.1.1.2">C</mi><mrow id="S5.SS3.p3.3.m3.1.1.3"><mo fence="false" id="S5.SS3.p3.3.m3.1.1.3.1" rspace="0.167em" stretchy="false">|</mo><msup id="S5.SS3.p3.3.m3.1.1.3.2"><mi id="S5.SS3.p3.3.m3.1.1.3.2.2">L</mi><mo id="S5.SS3.p3.3.m3.1.1.3.2.3">â€²</mo></msup></mrow></msub><annotation encoding="application/x-tex" id="S5.SS3.p3.3.m3.1b">C_{|L^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.3.m3.1c">italic_C start_POSTSUBSCRIPT | italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>.
This regeneration step introduces the possibility that the new output <math alttext="y^{\prime}" class="ltx_Math" display="inline" id="S5.SS3.p3.4.m4.1"><semantics id="S5.SS3.p3.4.m4.1a"><msup id="S5.SS3.p3.4.m4.1.1" xref="S5.SS3.p3.4.m4.1.1.cmml"><mi id="S5.SS3.p3.4.m4.1.1.2" xref="S5.SS3.p3.4.m4.1.1.2.cmml">y</mi><mo id="S5.SS3.p3.4.m4.1.1.3" xref="S5.SS3.p3.4.m4.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.4.m4.1b"><apply id="S5.SS3.p3.4.m4.1.1.cmml" xref="S5.SS3.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.4.m4.1.1.1.cmml" xref="S5.SS3.p3.4.m4.1.1">superscript</csymbol><ci id="S5.SS3.p3.4.m4.1.1.2.cmml" xref="S5.SS3.p3.4.m4.1.1.2">ğ‘¦</ci><ci id="S5.SS3.p3.4.m4.1.1.3.cmml" xref="S5.SS3.p3.4.m4.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.4.m4.1c">y^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.4.m4.1d">italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math> differs significantly compared to the output <math alttext="y" class="ltx_Math" display="inline" id="S5.SS3.p3.5.m5.1"><semantics id="S5.SS3.p3.5.m5.1a"><mi id="S5.SS3.p3.5.m5.1.1" xref="S5.SS3.p3.5.m5.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.5.m5.1b"><ci id="S5.SS3.p3.5.m5.1.1.cmml" xref="S5.SS3.p3.5.m5.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.5.m5.1c">y</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.5.m5.1d">italic_y</annotation></semantics></math> from the full context.</p>
</div>
<div class="ltx_para" id="S5.SS3.p4">
<p class="ltx_p" id="S5.SS3.p4.5">To quantify this, we measure the alignment between <math alttext="y" class="ltx_Math" display="inline" id="S5.SS3.p4.1.m1.1"><semantics id="S5.SS3.p4.1.m1.1a"><mi id="S5.SS3.p4.1.m1.1.1" xref="S5.SS3.p4.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p4.1.m1.1b"><ci id="S5.SS3.p4.1.m1.1.1.cmml" xref="S5.SS3.p4.1.m1.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p4.1.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p4.1.m1.1d">italic_y</annotation></semantics></math> and <math alttext="y^{\star}" class="ltx_Math" display="inline" id="S5.SS3.p4.2.m2.1"><semantics id="S5.SS3.p4.2.m2.1a"><msup id="S5.SS3.p4.2.m2.1.1" xref="S5.SS3.p4.2.m2.1.1.cmml"><mi id="S5.SS3.p4.2.m2.1.1.2" xref="S5.SS3.p4.2.m2.1.1.2.cmml">y</mi><mo id="S5.SS3.p4.2.m2.1.1.3" xref="S5.SS3.p4.2.m2.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p4.2.m2.1b"><apply id="S5.SS3.p4.2.m2.1.1.cmml" xref="S5.SS3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.p4.2.m2.1.1.1.cmml" xref="S5.SS3.p4.2.m2.1.1">superscript</csymbol><ci id="S5.SS3.p4.2.m2.1.1.2.cmml" xref="S5.SS3.p4.2.m2.1.1.2">ğ‘¦</ci><ci id="S5.SS3.p4.2.m2.1.1.3.cmml" xref="S5.SS3.p4.2.m2.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p4.2.m2.1c">y^{\star}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p4.2.m2.1d">italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> as well as <math alttext="y^{\prime}" class="ltx_Math" display="inline" id="S5.SS3.p4.3.m3.1"><semantics id="S5.SS3.p4.3.m3.1a"><msup id="S5.SS3.p4.3.m3.1.1" xref="S5.SS3.p4.3.m3.1.1.cmml"><mi id="S5.SS3.p4.3.m3.1.1.2" xref="S5.SS3.p4.3.m3.1.1.2.cmml">y</mi><mo id="S5.SS3.p4.3.m3.1.1.3" xref="S5.SS3.p4.3.m3.1.1.3.cmml">â€²</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p4.3.m3.1b"><apply id="S5.SS3.p4.3.m3.1.1.cmml" xref="S5.SS3.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS3.p4.3.m3.1.1.1.cmml" xref="S5.SS3.p4.3.m3.1.1">superscript</csymbol><ci id="S5.SS3.p4.3.m3.1.1.2.cmml" xref="S5.SS3.p4.3.m3.1.1.2">ğ‘¦</ci><ci id="S5.SS3.p4.3.m3.1.1.3.cmml" xref="S5.SS3.p4.3.m3.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p4.3.m3.1c">y^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p4.3.m3.1d">italic_y start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="y^{\star}" class="ltx_Math" display="inline" id="S5.SS3.p4.4.m4.1"><semantics id="S5.SS3.p4.4.m4.1a"><msup id="S5.SS3.p4.4.m4.1.1" xref="S5.SS3.p4.4.m4.1.1.cmml"><mi id="S5.SS3.p4.4.m4.1.1.2" xref="S5.SS3.p4.4.m4.1.1.2.cmml">y</mi><mo id="S5.SS3.p4.4.m4.1.1.3" xref="S5.SS3.p4.4.m4.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p4.4.m4.1b"><apply id="S5.SS3.p4.4.m4.1.1.cmml" xref="S5.SS3.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS3.p4.4.m4.1.1.1.cmml" xref="S5.SS3.p4.4.m4.1.1">superscript</csymbol><ci id="S5.SS3.p4.4.m4.1.1.2.cmml" xref="S5.SS3.p4.4.m4.1.1.2">ğ‘¦</ci><ci id="S5.SS3.p4.4.m4.1.1.3.cmml" xref="S5.SS3.p4.4.m4.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p4.4.m4.1c">y^{\star}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p4.4.m4.1d">italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> using the ROUGE-L F-score, with the results shown in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S5.T4" title="TABLE IV â€£ V-C LLM agent dataset â€£ V Results â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">IV</span></a>.
We obtain a ROUGE-L F-score of at least <math alttext="0.85" class="ltx_Math" display="inline" id="S5.SS3.p4.5.m5.1"><semantics id="S5.SS3.p4.5.m5.1a"><mn id="S5.SS3.p4.5.m5.1.1" xref="S5.SS3.p4.5.m5.1.1.cmml">0.85</mn><annotation-xml encoding="MathML-Content" id="S5.SS3.p4.5.m5.1b"><cn id="S5.SS3.p4.5.m5.1.1.cmml" type="float" xref="S5.SS3.p4.5.m5.1.1">0.85</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p4.5.m5.1c">0.85</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p4.5.m5.1d">0.85</annotation></semantics></math>, suggesting that conditioning on the reduced context leads to a similar model response.
Furthermore, we see a negligible difference in alignment between the full context output and the reduced context output when label improvement is possible, but observe a significant drop when such an upgrade is not possible.</p>
</div>
<div class="ltx_para" id="S5.SS3.p5">
<p class="ltx_p" id="S5.SS3.p5.2">In a robust retrieval augmentation setup, adding additional documents to the context should not negatively influence the modelâ€™s ability to answer a query since the model is free to ignore irrelevant inputsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib26" title="">26</a>]</cite>.
In other words, we expect that the ground truth completion <math alttext="y^{\star}" class="ltx_Math" display="inline" id="S5.SS3.p5.1.m1.1"><semantics id="S5.SS3.p5.1.m1.1a"><msup id="S5.SS3.p5.1.m1.1.1" xref="S5.SS3.p5.1.m1.1.1.cmml"><mi id="S5.SS3.p5.1.m1.1.1.2" xref="S5.SS3.p5.1.m1.1.1.2.cmml">y</mi><mo id="S5.SS3.p5.1.m1.1.1.3" xref="S5.SS3.p5.1.m1.1.1.3.cmml">â‹†</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p5.1.m1.1b"><apply id="S5.SS3.p5.1.m1.1.1.cmml" xref="S5.SS3.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p5.1.m1.1.1.1.cmml" xref="S5.SS3.p5.1.m1.1.1">superscript</csymbol><ci id="S5.SS3.p5.1.m1.1.1.2.cmml" xref="S5.SS3.p5.1.m1.1.1.2">ğ‘¦</ci><ci id="S5.SS3.p5.1.m1.1.1.3.cmml" xref="S5.SS3.p5.1.m1.1.1.3">â‹†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p5.1.m1.1c">y^{\star}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p5.1.m1.1d">italic_y start_POSTSUPERSCRIPT â‹† end_POSTSUPERSCRIPT</annotation></semantics></math> is always similar to the completion given the full context <math alttext="y" class="ltx_Math" display="inline" id="S5.SS3.p5.2.m2.1"><semantics id="S5.SS3.p5.2.m2.1a"><mi id="S5.SS3.p5.2.m2.1.1" xref="S5.SS3.p5.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p5.2.m2.1b"><ci id="S5.SS3.p5.2.m2.1.1.cmml" xref="S5.SS3.p5.2.m2.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p5.2.m2.1c">y</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p5.2.m2.1d">italic_y</annotation></semantics></math>.
However, in almost all label propagation errors we observe, we find that the model is not able to answer the query with the full context.
When controlling the model generation by using the ground truth target in the dataset instead of using the model-generated output, we see that our label propagator achieves perfect precision and recall.</p>
</div>
<div class="ltx_para" id="S5.SS3.p6">
<p class="ltx_p" id="S5.SS3.p6.1">Since the lattice is particularly simple in this case, we observe strong performance from the introspection baseline in contrast to the more complex lattice in the synthetic key-value dataset.
Furthermore, similar to the previous datasets, we see significant improvement in the introspection performance with increasing model scale, highlighting that introspection might be particularly well-suited for larger models.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span class="ltx_text ltx_font_smallcaps" id="S6.1.1">Analysis and Discussion</span>
</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this section, we highlight the main findings of our work and discuss the implications of our results when used in a real-world setting.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.p2">
<p class="ltx_p" id="S6.p2.1"><span class="ltx_text ltx_font_bold" id="S6.p2.1.1">RQ1</span>.
We find that our prompt-based label propagator is able to find the exact set of minimal labels in 86% of the cases.
This is for a large lattice of labels where the label propagator needs to find the correct subset out of 16k possible sets of labels.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.p3">
<p class="ltx_p" id="S6.p3.1"><span class="ltx_text ltx_font_bold" id="S6.p3.1.1">RQ2</span>.
We evaluate the label propagator on a smaller lattice with a total order, allowing us to compare labels directly and quantify the label improvement. In this case, our label propagator improves the label in 56% of the cases for the news article dataset and 85% of the cases for the LLM agent dataset.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.p4">
<p class="ltx_p" id="S6.p4.1"><span class="ltx_text ltx_font_bold" id="S6.p4.1.1">RQ3</span>.
We showcase the label propagator in a real-world use case in a tool calling LLM agent setup where the propagated label is used to determine whether a sensitive tool call is allowed.
We find that the RAG-based label propagator is able to improve the label in more than 85% of the cases while the output of the LLM agent remains the same as measured by the difference between the reduced context output alignment and the full context output alignment.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.p5">
<p class="ltx_p" id="S6.p5.1"><span class="ltx_text ltx_font_bold" id="S6.p5.1.1">Comparison to baselines.</span>
The introspection-based label propagator achieves a noticeable improvement in performance when using a 70B parameter model compared to a 7B model.
Furthermore, despite its simplicity and computational convenience, the introspection-based label propagator constitutes a strong baseline when considering simple lattices.
We find a similar performance of the RAG-based label propagator for both model sizes suggesting that our approach could be implemented on smaller models, saving computational resources.</p>
</div>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S6.SS1.5.1.1">VI-A</span> </span><span class="ltx_text ltx_font_italic" id="S6.SS1.6.2">Use-cases</span>
</h3>
<div class="ltx_para" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.3">AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> identifies sub-contexts with labels that are more permissive than that of the full context. However, whenever the desired output label <math alttext="L" class="ltx_Math" display="inline" id="S6.SS1.p1.1.m1.1"><semantics id="S6.SS1.p1.1.m1.1a"><mi id="S6.SS1.p1.1.m1.1.1" xref="S6.SS1.p1.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.1.m1.1b"><ci id="S6.SS1.p1.1.m1.1.1.cmml" xref="S6.SS1.p1.1.m1.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.1.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p1.1.m1.1d">italic_L</annotation></semantics></math> can be determined <span class="ltx_text ltx_font_italic" id="S6.SS1.p1.3.1">up-front</span>, it is possible to side-step the search over <math alttext="\lambda" class="ltx_Math" display="inline" id="S6.SS1.p1.2.m2.1"><semantics id="S6.SS1.p1.2.m2.1a"><mi id="S6.SS1.p1.2.m2.1.1" xref="S6.SS1.p1.2.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.2.m2.1b"><ci id="S6.SS1.p1.2.m2.1.1.cmml" xref="S6.SS1.p1.2.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p1.2.m2.1d">italic_Î»</annotation></semantics></math>-similar sub-contexts and directly restrict the retrieval component to documents at or below <math alttext="L" class="ltx_Math" display="inline" id="S6.SS1.p1.3.m3.1"><semantics id="S6.SS1.p1.3.m3.1a"><mi id="S6.SS1.p1.3.m3.1.1" xref="S6.SS1.p1.3.m3.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.3.m3.1b"><ci id="S6.SS1.p1.3.m3.1.1.cmml" xref="S6.SS1.p1.3.m3.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.3.m3.1c">L</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p1.3.m3.1d">italic_L</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S6.SS1.p2">
<p class="ltx_p" id="S6.SS1.p2.1">Our approach reveals its true benefits when the use of the generated content is <span class="ltx_text ltx_font_italic" id="S6.SS1.p2.1.1">not</span> yet determined after the initial retrieval step. In such cases, having a too-restrictive label comes at the cost of limiting future uses of the generated output. For example:</p>
<ul class="ltx_itemize" id="S6.I1">
<li class="ltx_item" id="S6.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S6.I1.i1.p1">
<p class="ltx_p" id="S6.I1.i1.p1.1">Semantic cachesÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib37" title="">37</a>]</cite> can be extended to store answers along with a sensitivity label, where more permissive labels facilitate broader reuse of the generated content.</p>
</div>
</li>
<li class="ltx_item" id="S6.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S6.I1.i2.p1">
<p class="ltx_p" id="S6.I1.i2.p1.1">Emails are often forwarded beyond their initial set of recipients, which is facilitated by using permissive labels.</p>
</div>
</li>
<li class="ltx_item" id="S6.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S6.I1.i3.p1">
<p class="ltx_p" id="S6.I1.i3.p1.1">Frameworks such as LangChain, LlamaIndex, Orkes, AutoGen, or TaskWeaver enable writing programs with LLM components. Similar to classic language-based information flow analysisÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib16" title="">16</a>]</cite>, more permissive labeling enables the design of more expressive secure programs.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S6.SS1.p3">
<p class="ltx_p" id="S6.SS1.p3.1">Lastly, our approach naturally allows users to <span class="ltx_text ltx_font_italic" id="S6.SS1.p3.1.1">endorse</span> information.
Letâ€™s consider a setup as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S1.F1" title="Figure 1 â€£ I Introduction â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a>.
Initially, there might only be an untrusted source answering the initial query.
The LP system would correctly output an untrusted label to the potentially dangerous command.
However, after a trusted authority (e.g., a university department IT admin) confirms the suggestion in the untrusted source, the LP recognizes that both sources are similarly influential and assign a trusted label to the output.
Therefore, by quoting or repeating untrusted information a trusted source can <span class="ltx_text ltx_font_italic" id="S6.SS1.p3.1.2">endorse</span> the information.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S6.SS2.5.1.1">VI-B</span> </span><span class="ltx_text ltx_font_italic" id="S6.SS2.6.2">Limitations</span>
</h3>
<div class="ltx_para" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1">Our label propagator is able to improve on the baseline label by more than 50% and 85% in two realistic datasets.
However, this improvement comes with the cost of an increased number of LLM calls (discussed in SectionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S3.SS5" title="III-E Computational Cost â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-E</span></span></a>).
We now highlight other limitations associated with our label propagator.</p>
</div>
<section class="ltx_paragraph" id="S6.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Impact of adversary</h4>
<div class="ltx_para" id="S6.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S6.SS2.SSS0.Px1.p1.1">In the presence of an adversary, our label propagator assigns the lowest integrity label by design in order to avoid any harmful side effects such as cross-prompt injectionÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib38" title="">38</a>]</cite>.
However, this can potentially lead to a degradation of service attack as the adversary can add unreliable distracting information that makes it impossible for the system to improve the label, reducing the downstream utility of the model output.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S6.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S6.SS3.5.1.1">VI-C</span> </span><span class="ltx_text ltx_font_italic" id="S6.SS3.6.2">Extensions</span>
</h3>
<div class="ltx_para" id="S6.SS3.p1">
<p class="ltx_p" id="S6.SS3.p1.2">Our main focus has been on predicting the least conservative label while ensuring that utility is not compromised beyond a certain threshold <math alttext="\lambda" class="ltx_Math" display="inline" id="S6.SS3.p1.1.m1.1"><semantics id="S6.SS3.p1.1.m1.1a"><mi id="S6.SS3.p1.1.m1.1.1" xref="S6.SS3.p1.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.1.m1.1b"><ci id="S6.SS3.p1.1.m1.1.1.cmml" xref="S6.SS3.p1.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S6.SS3.p1.1.m1.1d">italic_Î»</annotation></semantics></math> (<a class="ltx_ref ltx_refmacro_autoref" href="https://arxiv.org/html/2410.03055v1#Thmdefinition1" title="Definition 1 (ğœ†-similar labels). â€£ III-A ğœ†-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">DefinitionÂ 1</span></a>).
However, our proposal is flexible enough to accommodate various use cases.
For instance, it can be reversed to determine the utility for a specific target label.
Alternatively, a more complex use case would be to make the system dynamic with respect to <math alttext="\lambda" class="ltx_Math" display="inline" id="S6.SS3.p1.2.m2.1"><semantics id="S6.SS3.p1.2.m2.1a"><mi id="S6.SS3.p1.2.m2.1.1" xref="S6.SS3.p1.2.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.2.m2.1b"><ci id="S6.SS3.p1.2.m2.1.1.cmml" xref="S6.SS3.p1.2.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S6.SS3.p1.2.m2.1d">italic_Î»</annotation></semantics></math>, which means the system is able to compromise more utility to achieve a better or less conservative label.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VII </span><span class="ltx_text ltx_font_smallcaps" id="S7.1.1">Related Work</span>
</h2>
<section class="ltx_paragraph" id="S7.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Influence estimation</h4>
<div class="ltx_para" id="S7.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S7.SS0.SSS0.Px1.p1.1">Influence estimation plays a crucial role in identifying the impact of individual training instances on a modelâ€™s predictions.
<cite class="ltx_cite ltx_citemacro_citet">Brophy etÂ al. [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib39" title="">39</a>]</cite> present a good overview of different influence estimation techniques such as (i) leave-one-out estimation, (ii) Shapley value estimation, and (iii) sub-sample-based Shapley value estimation (adapted from <cite class="ltx_cite ltx_citemacro_citet">Feldman and Zhang [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib40" title="">40</a>]</cite>). Influence estimation techniques have been popularly used in the machine learning literature for different applications.
<cite class="ltx_cite ltx_citemacro_citet">Koh and Liang [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib41" title="">41</a>]</cite> demonstrate the application of influence functions to debugging models and detecting dataset errors.
<cite class="ltx_cite ltx_citemacro_citet">Feldman and Zhang [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib40" title="">40</a>]</cite> explained the memorization of tail data points using the influence of those data points on the modelâ€™s predictions.
<cite class="ltx_cite ltx_citemacro_citet">Ilyas etÂ al. [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib42" title="">42</a>]</cite> used influence estimation to present the idea of <span class="ltx_text ltx_font_italic" id="S7.SS0.SSS0.Px1.p1.1.1">datamodels</span> that allows the model to make predictions using linear regression.
<cite class="ltx_cite ltx_citemacro_citet">Cohen-Wang etÂ al. [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib43" title="">43</a>]</cite> extended the use of <span class="ltx_text ltx_font_italic" id="S7.SS0.SSS0.Px1.p1.1.2">datamodels</span> to attribute the language modelâ€™s prediction to different parts of the modelâ€™s context window.
<cite class="ltx_cite ltx_citemacro_citet">Nguyen and Wong [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib44" title="">44</a>]</cite> presented a Shapley-value-based influence estimation technique to decide the best examples for in-context learning. Shapley value and its variants have been used to assign value to data contributed in collaborative data marketsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib45" title="">45</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib46" title="">46</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib47" title="">47</a>]</cite>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S7.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Information-flow analysis</h4>
<div class="ltx_para" id="S7.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S7.SS0.SSS0.Px2.p1.1">Information-flow analysis and the use of flow labels has a long-standing history, see e.g.,Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib23" title="">23</a>]</cite>, with an early survey of language-based approaches inÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib16" title="">16</a>]</cite>.
The operations considered in many program analysis frameworks (e.g.Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib48" title="">48</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib16" title="">16</a>]</cite>) have well-defined semantics, and the rules for propagating the flow labels of each operator can be hard-coded.
The situation is different when using ML models such as Transformers: due to their attention mechanism and autoregressive decoding, their output is tainted by all inputs. Moreover, their behavior
is only implicitly defined as the solution of a loss-minimization problem.
In our approach, we use this fact by propagating labels through ML components under the constraint that the modelâ€™s loss does not increase.</p>
</div>
<div class="ltx_para" id="S7.SS0.SSS0.Px2.p2">
<p class="ltx_p" id="S7.SS0.SSS0.Px2.p2.1">The literature distinguishes between static and dynamic approaches to information flow controlÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib16" title="">16</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib15" title="">15</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib49" title="">49</a>]</cite>.
The key difference is that dynamic approaches track the flow during program execution, whereas static approaches reason collectively about <em class="ltx_emph ltx_font_italic" id="S7.SS0.SSS0.Px2.p2.1.1">all</em> possible executions without actually executing the program.
Our approach relies on analyzing <em class="ltx_emph ltx_font_italic" id="S7.SS0.SSS0.Px2.p2.1.2">one</em> specific context and is hence fundamentally dynamic.</p>
</div>
<div class="ltx_para" id="S7.SS0.SSS0.Px2.p3">
<p class="ltx_p" id="S7.SS0.SSS0.Px2.p3.3">Secure multi-executionÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib50" title="">50</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib51" title="">51</a>]</cite> is an approach to dynamic information-flow analysis where programs are executed once per security level. The idea is that an execution that produces output for level <math alttext="L" class="ltx_Math" display="inline" id="S7.SS0.SSS0.Px2.p3.1.m1.1"><semantics id="S7.SS0.SSS0.Px2.p3.1.m1.1a"><mi id="S7.SS0.SSS0.Px2.p3.1.m1.1.1" xref="S7.SS0.SSS0.Px2.p3.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px2.p3.1.m1.1b"><ci id="S7.SS0.SSS0.Px2.p3.1.m1.1.1.cmml" xref="S7.SS0.SSS0.Px2.p3.1.m1.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px2.p3.1.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S7.SS0.SSS0.Px2.p3.1.m1.1d">italic_L</annotation></semantics></math> receives data only from levels <math alttext="L^{\prime}\sqsubseteq L" class="ltx_Math" display="inline" id="S7.SS0.SSS0.Px2.p3.2.m2.1"><semantics id="S7.SS0.SSS0.Px2.p3.2.m2.1a"><mrow id="S7.SS0.SSS0.Px2.p3.2.m2.1.1" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.cmml"><msup id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.cmml"><mi id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.2" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.2.cmml">L</mi><mo id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.3" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.3.cmml">â€²</mo></msup><mo id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.1" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.1.cmml">âŠ‘</mo><mi id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.3" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px2.p3.2.m2.1b"><apply id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.cmml" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1"><csymbol cd="latexml" id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.1.cmml" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.1">square-image-of-or-equals</csymbol><apply id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.cmml" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.1.cmml" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2">superscript</csymbol><ci id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.2.cmml" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.2">ğ¿</ci><ci id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.3.cmml" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.2.3">â€²</ci></apply><ci id="S7.SS0.SSS0.Px2.p3.2.m2.1.1.3.cmml" xref="S7.SS0.SSS0.Px2.p3.2.m2.1.1.3">ğ¿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px2.p3.2.m2.1c">L^{\prime}\sqsubseteq L</annotation><annotation encoding="application/x-llamapun" id="S7.SS0.SSS0.Px2.p3.2.m2.1d">italic_L start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT âŠ‘ italic_L</annotation></semantics></math>; and dummy values from levels <math alttext="L^{\prime\prime}\sqsubseteq L" class="ltx_Math" display="inline" id="S7.SS0.SSS0.Px2.p3.3.m3.1"><semantics id="S7.SS0.SSS0.Px2.p3.3.m3.1a"><mrow id="S7.SS0.SSS0.Px2.p3.3.m3.1.1" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.cmml"><msup id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.cmml"><mi id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.2" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.2.cmml">L</mi><mo id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.3" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.3.cmml">â€²â€²</mo></msup><mo id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.1" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.1.cmml">âŠ‘</mo><mi id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.3" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px2.p3.3.m3.1b"><apply id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.cmml" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1"><csymbol cd="latexml" id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.1.cmml" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.1">square-image-of-or-equals</csymbol><apply id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.cmml" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2"><csymbol cd="ambiguous" id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.1.cmml" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2">superscript</csymbol><ci id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.2.cmml" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.2">ğ¿</ci><ci id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.3.cmml" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.2.3">â€²â€²</ci></apply><ci id="S7.SS0.SSS0.Px2.p3.3.m3.1.1.3.cmml" xref="S7.SS0.SSS0.Px2.p3.3.m3.1.1.3">ğ¿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px2.p3.3.m3.1c">L^{\prime\prime}\sqsubseteq L</annotation><annotation encoding="application/x-llamapun" id="S7.SS0.SSS0.Px2.p3.3.m3.1d">italic_L start_POSTSUPERSCRIPT â€² â€² end_POSTSUPERSCRIPT âŠ‘ italic_L</annotation></semantics></math>. Programs that are multi-executed are secure by design, and correct if the original program was secure.</p>
</div>
</section>
<section class="ltx_paragraph" id="S7.SS0.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Information-flow analysis in AI applications</h4>
<div class="ltx_para" id="S7.SS0.SSS0.Px3.p1">
<p class="ltx_p" id="S7.SS0.SSS0.Px3.p1.1">The inscrutability of how AI components such as LLMs handle the information they are given makes it challenging to integrate them into larger systems while preserving confidentiality and integrity guarantees.
A number of authors have explored how to provide best-effort or hard guarantees using techniques inspired by the information-flow analysis literature.
<cite class="ltx_cite ltx_citemacro_citet">Wutschitz etÂ al. [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib52" title="">52</a>]</cite> study how to leverage existing metadata in datastores used for retrieval augmentation to enforce privacy guarantees at inference time, though they assume the target label of the output is given.
Related to the introspection baseline we study, <cite class="ltx_cite ltx_citemacro_citet">Mireshghallah etÂ al. [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib53" title="">53</a>]</cite> use Contextual Integrity theory to explore how well LLMs can be relied upon to discern which information is appropriate to use in a given context.
Similarly, <cite class="ltx_cite ltx_citemacro_citet">Ghalebikesabi etÂ al. [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib54" title="">54</a>]</cite> explore several ways to operationalize Contextual Integrity and find that using introspection gives promising results in a case study employing LLMs to fill in forms based on sensitive data.
Finally, <cite class="ltx_cite ltx_citemacro_citet">Wallace etÂ al. [<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib55" title="">55</a>]</cite> train LLMs to distinguish between instructions in their context totally ordered in a hierarchy, teaching them to prioritize higher-privileged instructions over instructions that appear lower in the hierarchy.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S8">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VIII </span><span class="ltx_text ltx_font_smallcaps" id="S8.1.1">Conclusion</span>
</h2>
<div class="ltx_para" id="S8.p1">
<p class="ltx_p" id="S8.p1.1">We presented a permissive approach to propagating information-flow labels of documents retrieved in RAG systems. The key idea is to propagate only the labels of those documents that are actually used for generating the modelâ€™s output.
We show that our approach is practical in terms of performance and infers more permissive labels than an introspection baseline. Unlike introspection-based methods commonly used in practice, our approach can satisfy a hard safety guarantee.</p>
</div>
<div class="ltx_para" id="S8.p2">
<p class="ltx_p" id="S8.p2.1">We hope that this research spurs interest in system-level solutions to security and privacy concerns stemming from the use of unreliable AI software components. We may not be able to fully analyze how information flows through these components, but we can control which information they use and build more useful systems around them that enforce security and privacy policies.</p>
</div>
</section>
<section class="ltx_section" id="S9">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IX </span><span class="ltx_text ltx_font_smallcaps" id="S9.1.1">Acknowledgements</span>
</h2>
<div class="ltx_para" id="S9.p1">
<p class="ltx_p" id="S9.p1.1">The authors would like to thank colleagues at Microsoft for their helpful discussions and feedback.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI [2023]</span>
<span class="ltx_bibblock">
OpenAI, â€œGPT-4 technical report,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron etÂ al. [2023]</span>
<span class="ltx_bibblock">
H.Â Touvron, L.Â Martin, K.Â Stone, P.Â Albert, A.Â Almahairi <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">etÂ al.</em>, â€œLlama
2: Open foundation and fine-tuned chat models,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dubey etÂ al. [2024]</span>
<span class="ltx_bibblock">
A.Â Dubey, A.Â Jauhri, A.Â Pandey, A.Â Kadian, A.Â Al-Dahle <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">etÂ al.</em>, â€œThe
Llama 3 herd of models,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib3.2.2">arXiv preprint arXiv:2407.21783</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang etÂ al. [2023]</span>
<span class="ltx_bibblock">
A.Â Q. Jiang, A.Â Sablayrolles, A.Â Mensch, C.Â Bamford, D.Â S. Chaplot
<em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">etÂ al.</em>, â€œMistral 7B,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib4.2.2">arXiv preprint arXiv:2310.06825</em>,
2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anil etÂ al. [2023]</span>
<span class="ltx_bibblock">
R.Â Anil, A.Â M. Dai, O.Â Firat, M.Â Johnson, D.Â Lepikhin <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">etÂ al.</em>, â€œPaLM 2
technical report,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chase [2022]</span>
<span class="ltx_bibblock">
H.Â Chase, â€œLangchain,â€ 2022. [Online]. Available:
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/hwchase17/langchain" title="">https://github.com/hwchase17/langchain</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xi etÂ al. [2023]</span>
<span class="ltx_bibblock">
Z.Â Xi, W.Â Chen, X.Â Guo, W.Â He, Y.Â Ding <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">etÂ al.</em>, â€œThe rise and potential
of large language model based agents: A survey,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib7.2.2">arXiv preprint
arXiv:2309.07864</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Greshake etÂ al. [2023]</span>
<span class="ltx_bibblock">
K.Â Greshake, S.Â Abdelnabi, S.Â Mishra, C.Â Endres, T.Â Holz, and M.Â Fritz, â€œNot
what youâ€™ve signed up for: Compromising real-world LLM-integrated
applications with indirect prompt injection,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mireshghallah etÂ al. [2023]</span>
<span class="ltx_bibblock">
N.Â Mireshghallah, H.Â Kim, X.Â Zhou, Y.Â Tsvetkov, M.Â Sap <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">etÂ al.</em>, â€œCan
LLMs keep a secret? testing privacy implications of language models via
contextual integrity theory,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zou etÂ al. [2023]</span>
<span class="ltx_bibblock">
A.Â Zou, Z.Â Wang, J.Â Z. Kolter, and M.Â Fredrikson, â€œUniversal and transferable
adversarial attacks on aligned language models,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan etÂ al. [2023]</span>
<span class="ltx_bibblock">
Y.Â Yuan, W.Â Jiao, W.Â Wang, J.Â tse Huang, P.Â He <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">etÂ al.</em>, â€œGPT-4 is too
smart to be safe: Stealthy chat with LLMs via cipher,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al. [2023]</span>
<span class="ltx_bibblock">
H.Â Li, D.Â Guo, W.Â Fan, M.Â Xu, J.Â Huang <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">etÂ al.</em>, â€œMulti-step jailbreaking
privacy attacks on ChatGPT,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shen etÂ al. [2023]</span>
<span class="ltx_bibblock">
X.Â Shen, Z.Â Chen, M.Â Backes, Y.Â Shen, and Y.Â Zhang, â€œ"Do Anything Now":
Characterizing and evaluating in-the-wild jailbreak prompts on large language
models,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Clause etÂ al. [2007]</span>
<span class="ltx_bibblock">
J.Â Clause, W.Â Li, and A.Â Orso, â€œDytan: a generic dynamic taint analysis
framework,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">2007 international symposium on Software testing and
analysis</em>, 2007, pp. 196â€“206.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Buiras etÂ al. [2014]</span>
<span class="ltx_bibblock">
P.Â Buiras, D.Â Stefan, and A.Â Russo, â€œOn dynamic flow-sensitive floating-label
systems,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">27th IEEE Computer Security Foundations Symposium, CSF
2014</em>.Â Â Â IEEE Computer Society, 2014,
pp. 65â€“79.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sabelfeld and Myers [2003]</span>
<span class="ltx_bibblock">
A.Â Sabelfeld and A.Â C. Myers, â€œLanguage-based information-flow security,â€
<em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">IEEE Journal on selected areas in communications</em>, vol.Â 21, no.Â 1, pp.
5â€“19, 2003.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vogt etÂ al. [2007]</span>
<span class="ltx_bibblock">
P.Â Vogt, F.Â Nentwich, N.Â Jovanovic, E.Â Kirda, C.Â Kruegel, and G.Â Vigna, â€œCross
site scripting prevention with dynamic data tainting and static analysis.â€
in <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">NDSS</em>, vol. 2007, 2007, p.Â 12.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Enck etÂ al. [2014]</span>
<span class="ltx_bibblock">
W.Â Enck, P.Â Gilbert, S.Â Han, V.Â Tendulkar, B.-G. Chun <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">etÂ al.</em>,
â€œTaintdroid: an information-flow tracking system for realtime privacy
monitoring on smartphones,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib18.2.2">ACM Transactions on Computer Systems
(TOCS)</em>, vol.Â 32, no.Â 2, pp. 1â€“29, 2014.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis etÂ al. [2020]</span>
<span class="ltx_bibblock">
P.Â Lewis, E.Â Perez, A.Â Piktus, F.Â Petroni, V.Â Karpukhin <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">etÂ al.</em>,
â€œRetrieval-augmented generation for knowledge-intensive NLP tasks,â€
<em class="ltx_emph ltx_font_italic" id="bib.bib19.2.2">Advances in Neural Information Processing Systems</em>, vol.Â 33, pp.
9459â€“9474, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khandelwal etÂ al. [2020]</span>
<span class="ltx_bibblock">
U.Â Khandelwal, O.Â Levy, D.Â Jurafsky, L.Â Zettlemoyer, and M.Â Lewis,
â€œGeneralization through memorization: Nearest neighbor language models,â€ in
<em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">International Conference on Learning Representations</em>, 2020. [Online].
Available: <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=HklBjCEKvH" title="">https://openreview.net/forum?id=HklBjCEKvH</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu etÂ al. [2020]</span>
<span class="ltx_bibblock">
K.Â Guu, K.Â Lee, Z.Â Tung, P.Â Pasupat, and M.Â Chang, â€œRetrieval augmented
language model pre-training,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">International conference on machine
learning</em>.Â Â Â PMLR, 2020, pp. 3929â€“3938.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schick etÂ al. [2023]</span>
<span class="ltx_bibblock">
T.Â Schick, J.Â Dwivedi-Yu, R.Â DessÃ¬, R.Â Raileanu, M.Â Lomeli <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">etÂ al.</em>,
â€œToolformer: Language models can teach themselves to use tools,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Denning [1976]</span>
<span class="ltx_bibblock">
D.Â E. Denning, â€œA lattice model of secure information flow,â€
<em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">Communications of the ACM</em>, vol.Â 19, no.Â 5, pp. 236â€“243, 1976.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Myers and Liskov [1997]</span>
<span class="ltx_bibblock">
A.Â C. Myers and B.Â Liskov, â€œA decentralized model for information flow
control,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">SOSP</em>.Â Â Â ACM, 1997,
p. 129â€“142.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kaplan etÂ al. [2020]</span>
<span class="ltx_bibblock">
J.Â Kaplan, S.Â McCandlish, T.Â Henighan, T.Â B. Brown, B.Â Chess <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">etÂ al.</em>,
â€œScaling laws for neural language models,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib25.2.2">arXiv preprint
arXiv:2001.08361</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi etÂ al. [2023]</span>
<span class="ltx_bibblock">
F.Â Shi, X.Â Chen, K.Â Misra, N.Â Scales, D.Â Dohan <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">etÂ al.</em>, â€œLarge language
models can be easily distracted by irrelevant context,â€ in
<em class="ltx_emph ltx_font_italic" id="bib.bib26.2.2">International Conference on Machine Learning</em>.Â Â Â PMLR, 2023, pp. 31â€‰210â€“31â€‰227.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng etÂ al. [2023]</span>
<span class="ltx_bibblock">
L.Â Zheng, L.Â Yin, Z.Â Xie, C.Â Sun, J.Â Huang <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">etÂ al.</em>, â€œSGLang: Efficient
execution of structured language model programs,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kwon etÂ al. [2023]</span>
<span class="ltx_bibblock">
W.Â Kwon, Z.Â Li, S.Â Zhuang, Y.Â Sheng, L.Â Zheng <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">etÂ al.</em>, â€œEfficient memory
management for large language model serving with pagedattention,â€ in
<em class="ltx_emph ltx_font_italic" id="bib.bib28.2.2">Proceedings of the ACM SIGOPS 29th Symposium on Operating Systems
Principles</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin [2004]</span>
<span class="ltx_bibblock">
C.-Y. Lin, â€œROUGE: A package for automatic evaluation of summaries,â€ in
<em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">Text summarization branches out</em>, 2004, pp. 74â€“81.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hunt and Szymanski [1977]</span>
<span class="ltx_bibblock">
J.Â W. Hunt and T.Â G. Szymanski, â€œA fast algorithm for computing longest common
subsequences,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Communications of the ACM</em>, vol.Â 20, no.Â 5, pp.
350â€“353, 1977.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Taylor etÂ al. [2022]</span>
<span class="ltx_bibblock">
R.Â Taylor, M.Â Kardas, G.Â Cucurull, T.Â Scialom, A.Â Hartshorn <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">etÂ al.</em>,
â€œGalactica: A large language model for science,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib31.2.2">arXiv preprint
arXiv:2211.09085</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao etÂ al. [2023]</span>
<span class="ltx_bibblock">
T.Â Gao, H.Â Yen, J.Â Yu, and D.Â Chen, â€œEnabling large language models to
generate text with citations,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Turpin etÂ al. [2024]</span>
<span class="ltx_bibblock">
M.Â Turpin, J.Â Michael, E.Â Perez, and S.Â Bowman, â€œLanguage models donâ€™t always
say what they think: unfaithful explanations in chain-of-thought prompting,â€
<em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Advances in Neural Information Processing Systems</em>, vol.Â 36, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">PÃ©rez-Rosas etÂ al. [2018]</span>
<span class="ltx_bibblock">
V.Â PÃ©rez-Rosas, B.Â Kleinberg, A.Â Lefevre, and R.Â Mihalcea, â€œAutomatic
detection of fake news,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">27th International Conference on
Computational Linguistics (COLING)</em>.Â Â Â ACL, 2018, pp. 3391â€“3401.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei etÂ al. [2022]</span>
<span class="ltx_bibblock">
J.Â Wei, Y.Â Tay, R.Â Bommasani, C.Â Raffel, B.Â Zoph <em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">etÂ al.</em>, â€œEmergent
abilities of large language models,â€ 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao etÂ al. [2023]</span>
<span class="ltx_bibblock">
S.Â Xiao, Z.Â Liu, P.Â Zhang, and N.Â Muennighoff, â€œC-Pack: Packaged resources
to advance general chinese embedding,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bang [2023]</span>
<span class="ltx_bibblock">
F.Â Bang, â€œGPTCache: An open-source semantic cache for LLM applications
enabling faster answers and cost savings,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">Proceedings of the 3rd
Workshop for Natural Language Processing Open Source Software (NLP-OSS
2023)</em>, 2023, pp. 212â€“218.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu etÂ al. [2023]</span>
<span class="ltx_bibblock">
Y.Â Liu, G.Â Deng, Y.Â Li, K.Â Wang, Z.Â Wang <em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">etÂ al.</em>, â€œPrompt injection
attack against LLM-integrated applications,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib38.2.2">arXiv preprint
arXiv:2306.05499</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brophy etÂ al. [2023]</span>
<span class="ltx_bibblock">
J.Â Brophy, Z.Â Hammoudeh, and D.Â Lowd, â€œAdapting and evaluating
influence-estimation methods for gradient-boosted decision trees.â€ <em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">J.
Mach. Learn. Res.</em>, vol.Â 24, pp. 154â€“1, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Feldman and Zhang [2020]</span>
<span class="ltx_bibblock">
V.Â Feldman and C.Â Zhang, â€œWhat neural networks memorize and why: Discovering
the long tail via influence estimation,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">Advances in Neural
Information Processing Systems</em>, vol.Â 33, pp. 2881â€“2891, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koh and Liang [2017]</span>
<span class="ltx_bibblock">
P.Â W. Koh and P.Â Liang, â€œUnderstanding black-box predictions via influence
functions,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">International conference on machine learning</em>.Â Â Â PMLR, 2017, pp. 1885â€“1894.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ilyas etÂ al. [2022]</span>
<span class="ltx_bibblock">
A.Â Ilyas, S.Â M. Park, L.Â Engstrom, G.Â Leclerc, and A.Â Madry, â€œDatamodels:
Predicting predictions from training data,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">arXiv preprint
arXiv:2202.00622</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cohen-Wang etÂ al. [2024]</span>
<span class="ltx_bibblock">
B.Â Cohen-Wang, H.Â Shah, K.Â Georgiev, and A.Â Madry, â€œContextCite: Attributing
model generation to context,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">arXiv preprint arXiv:2409.00729</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nguyen and Wong [2023]</span>
<span class="ltx_bibblock">
T.Â Nguyen and E.Â Wong, â€œIn-context example selection with influences,â€
<em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">arXiv preprint arXiv:2302.11042</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang and Jia [2023]</span>
<span class="ltx_bibblock">
J.Â T. Wang and R.Â Jia, â€œData Banzhaf: A robust data valuation framework for
machine learning,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">International Conference on Artificial
Intelligence and Statistics</em>.Â Â Â PMLR,
2023, pp. 6388â€“6421.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghorbani and Zou [2019]</span>
<span class="ltx_bibblock">
A.Â Ghorbani and J.Â Zou, â€œData Shapley: Equitable valuation of data for
machine learning,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">International conference on machine
learning</em>.Â Â Â PMLR, 2019, pp. 2242â€“2251.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jia etÂ al. [2019]</span>
<span class="ltx_bibblock">
R.Â Jia, D.Â Dao, B.Â Wang, F.Â A. Hubis, N.Â Hynes <em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">etÂ al.</em>, â€œTowards
efficient data valuation based on the Shapley value,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib47.2.2">The 22nd
International Conference on Artificial Intelligence and Statistics</em>.Â Â Â PMLR, 2019, pp. 1167â€“1176.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Volpano etÂ al. [1996]</span>
<span class="ltx_bibblock">
D.Â Volpano, C.Â Irvine, and G.Â Smith, â€œA sound type system for secure flow
analysis,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">Journal of computer security</em>, vol.Â 4, no. 2-3, pp.
167â€“187, 1996.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mardziel etÂ al. [2011]</span>
<span class="ltx_bibblock">
P.Â Mardziel, S.Â Magill, M.Â Hicks, and M.Â Srivatsa, â€œDynamic enforcement of
knowledge-based security policies,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">Proceedings IEEE CSF</em>.Â Â Â IEEE Computer Society, 2011, pp. 114â€“128.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devriese and Piessens [2010]</span>
<span class="ltx_bibblock">
D.Â Devriese and F.Â Piessens, â€œNoninterference through secure
multi-execution,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">31st IEEE Symposium on Security and Privacy,
SP 2010, 16-19 May 2010, Berleley/Oakland, California, USA</em>.Â Â Â IEEE Computer Society, 2010, pp. 109â€“124.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafnsson and Sabelfeld [2016]</span>
<span class="ltx_bibblock">
W.Â Rafnsson and A.Â Sabelfeld, â€œSecure multi-execution: Fine-grained,
declassification-aware, and transparent,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">J. Comput. Secur.</em>, vol.Â 24,
no.Â 1, pp. 39â€“90, 2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wutschitz etÂ al. [2023]</span>
<span class="ltx_bibblock">
L.Â Wutschitz, B.Â KÃ¶pf, A.Â Paverd, S.Â Rajmohan, A.Â Salem <em class="ltx_emph ltx_font_italic" id="bib.bib52.1.1">etÂ al.</em>,
â€œRethinking privacy in machine learning pipelines from an information flow
control perspective,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib52.2.2">arXiv preprint arXiv:2311.15792 [cs.LG]</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mireshghallah etÂ al. [2024]</span>
<span class="ltx_bibblock">
N.Â Mireshghallah, H.Â Kim, X.Â Zhou, Y.Â Tsvetkov, M.Â Sap <em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">etÂ al.</em>, â€œCan
LLMs keep a secret? testing privacy implications of language models via
contextual integrity theory,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib53.2.2">12th International Conference on
Learning Representations, ICLR 2024</em>.Â Â Â OpenReview.net, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghalebikesabi etÂ al. [2024]</span>
<span class="ltx_bibblock">
S.Â Ghalebikesabi, E.Â Bagdasaryan, R.Â Yi, I.Â Yona, I.Â Shumailov <em class="ltx_emph ltx_font_italic" id="bib.bib54.1.1">etÂ al.</em>,
â€œOperationalizing contextual integrity in privacy-conscious assistants,â€
<em class="ltx_emph ltx_font_italic" id="bib.bib54.2.2">arXiv preprint arXiv:2408.02373 [cs.AI]</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wallace etÂ al. [2024]</span>
<span class="ltx_bibblock">
E.Â Wallace, K.Â Xiao, R.Â Leike, L.Â Weng, J.Â Heidecke, and A.Â Beutel, â€œThe
instruction hierarchy: Training llms to prioritize privileged instructions,â€
<em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">arXiv preprint arXiv:2404.13208 [cs.CR]</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shapley [1953]</span>
<span class="ltx_bibblock">
L.Â S. Shapley, â€œA value for N-person games,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib56.1.1">Contribution to the
Theory of Games</em>, vol.Â 2, 1953.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_subsection" id="A0.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="A0.SS1.5.1.1">-A</span> </span><span class="ltx_text ltx_font_italic" id="A0.SS1.6.2">Improving performance on fine-grained lattices</span>
</h3>
<figure class="ltx_figure" id="A0.F10">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="208" id="A0.F10.g1" src="x4.png" width="272"/></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="288" id="A0.F10.g2" src="x5.png" width="440"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A0.F10.2.1.1" style="font-size:90%;">Figure 10</span>: </span><span class="ltx_text" id="A0.F10.3.2" style="font-size:90%;">Hyperparameter grid search on Shapley threshold and perplexity tolerance for the 7B (left) and 70B (right) models on the synthetic key-value dataset.</span></figcaption>
</figure>
<figure class="ltx_figure" id="A0.F11">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="208" id="A0.F11.g1" src="x6.png" width="272"/></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="288" id="A0.F11.g2" src="x7.png" width="440"/></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="208" id="A0.F11.g3" src="x8.png" width="272"/></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="288" id="A0.F11.g4" src="x9.png" width="440"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A0.F11.2.1.1" style="font-size:90%;">Figure 11</span>: </span><span class="ltx_text" id="A0.F11.3.2" style="font-size:90%;">Hyperparameter grid search on Shapley threshold and perplexity tolerance for the 7B (left) and 70B (right) model on the news article dataset with a perfect retriever (first row) and realistic retriever (second row).</span></figcaption>
</figure>
<div class="ltx_para" id="A0.SS1.p1">
<p class="ltx_p" id="A0.SS1.p1.2">AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#algorithm1" title="In III-B Computing Î»-similar Labels â€£ III Permissive Label Propagation â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">1</span></a> relies only on <math alttext="\lambda" class="ltx_Math" display="inline" id="A0.SS1.p1.1.m1.1"><semantics id="A0.SS1.p1.1.m1.1a"><mi id="A0.SS1.p1.1.m1.1.1" xref="A0.SS1.p1.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p1.1.m1.1b"><ci id="A0.SS1.p1.1.m1.1.1.cmml" xref="A0.SS1.p1.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p1.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="A0.SS1.p1.1.m1.1d">italic_Î»</annotation></semantics></math> to produce the minimal set of labels.
However, in the cases where documents share similarities and provide important information regarding the model output such as the format (which is the case for our synthetic key-value datasetÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#S4.SS5" title="IV-E Datasets â€£ IV Evaluation Setup â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">IV-E</span></span></a>), the overall contribution of irrelevant documents goes up.
Therefore, additional irrelevant documents are introduced in the predicted label set due to being <math alttext="\lambda" class="ltx_Math" display="inline" id="A0.SS1.p1.2.m2.1"><semantics id="A0.SS1.p1.2.m2.1a"><mi id="A0.SS1.p1.2.m2.1.1" xref="A0.SS1.p1.2.m2.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p1.2.m2.1b"><ci id="A0.SS1.p1.2.m2.1.1.cmml" xref="A0.SS1.p1.2.m2.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p1.2.m2.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="A0.SS1.p1.2.m2.1d">italic_Î»</annotation></semantics></math>-similar.</p>
</div>
<div class="ltx_para" id="A0.SS1.p2">
<p class="ltx_p" id="A0.SS1.p2.1">In order to cover these cases when dealing with a complex lattice and a large number of relations, we propose a simple heuristic based on Shapley values that have been commonly used in the pastÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib56" title="">56</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#bib.bib44" title="">44</a>]</cite>.
In particular, we compute the Shapley value for each of the different labels in the lattice and filter out any label combinations where labels below a particular threshold are present.</p>
</div>
<div class="ltx_para" id="A0.SS1.p3">
<p class="ltx_p" id="A0.SS1.p3.1">The Shapley value defines the marginal contribution of any label <math alttext="L" class="ltx_Math" display="inline" id="A0.SS1.p3.1.m1.1"><semantics id="A0.SS1.p3.1.m1.1a"><mi id="A0.SS1.p3.1.m1.1.1" xref="A0.SS1.p3.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p3.1.m1.1b"><ci id="A0.SS1.p3.1.m1.1.1.cmml" xref="A0.SS1.p3.1.m1.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p3.1.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="A0.SS1.p3.1.m1.1d">italic_L</annotation></semantics></math> by computing the average difference in outcomes when a particular label is present and absent.
We compute the label Shapley value via perplexity, which is computed as the average drop in perplexity when a particular label is included.
This provides a notion of the importance of each label.
This now introduces an additional hyperparameter i.e., the Shapley value threshold.</p>
</div>
<div class="ltx_para" id="A0.SS1.p4">
<p class="ltx_p" id="A0.SS1.p4.1">We visualize the results for the 2D grid search by considering both perplexity tolerance <math alttext="\lambda" class="ltx_Math" display="inline" id="A0.SS1.p4.1.m1.1"><semantics id="A0.SS1.p4.1.m1.1a"><mi id="A0.SS1.p4.1.m1.1.1" xref="A0.SS1.p4.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.1.m1.1b"><ci id="A0.SS1.p4.1.m1.1.1.cmml" xref="A0.SS1.p4.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="A0.SS1.p4.1.m1.1d">italic_Î»</annotation></semantics></math> as well as Shapley threshold on the synthetic key-value dataset in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#A0.F10" title="Figure 10 â€£ -A Improving performance on fine-grained lattices â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">10</span></a>, and the news article dataset in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.03055v1#A0.F11" title="Figure 11 â€£ -A Improving performance on fine-grained lattices â€£ Permissive Information-Flow Analysis for Large Language Models"><span class="ltx_text ltx_ref_tag">11</span></a>.</p>
</div>
<div class="ltx_para" id="A0.SS1.p5">
<p class="ltx_p" id="A0.SS1.p5.1">The results indicate that on simpler lattices such as in the case of news articles, we see almost no impact due to the Shapley value threshold.
On the other hand, for complex lattices, such as in the case of our synthetic key-value dataset, we observe 6% absolute improvement in the exact-match accuracy, highlighting the utility of this heuristic in such cases.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Thu Oct  3 23:53:06 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
