<!DOCTYPE html><html lang="en" data-theme="light"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data</title>
<!--Generated on Sun Oct  6 17:46:18 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css">




<meta content="Learning to Rank, 
Counterfactual Inference, 
Expected Reward Estimation, 
E-commerce Marketplace" lang="en" name="keywords">
<base href="https://arxiv.org/html/2410.04568v1/"><link rel="stylesheet" href="https://use.typekit.net/rwr5zpx.css"><link rel="icon" type="image/png" href="https://static.arxiv.org/static/browse/0.3.4/images/icons/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="https://static.arxiv.org/static/browse/0.3.4/images/icons/favicon-32x32.png" sizes="32x32"></head>
<body><header class="mob_header">
    <div class="html-header-logo">
      <a href="https://arxiv.org/">
        <img alt="logo" class="logomark" role="presentation" width="100" src="https://services.dev.arxiv.org/html/static/arxiv-logomark-small-white.svg">
        <span class="sr-only">Back to arXiv</span>
      </a>
    </div>

    <!--TOC, dark mode, links-->
    <div class="html-header-nav">
      <!--back to abstract-->
      
        <a class="nav-link ar5iv-footer-button hover-effect" aria-label="Back to abstract page" href="https://arxiv.org/abs/2410.04568v1">
        <svg xmlns="http://www.w3.org/2000/svg" height="1.25em" viewBox="0 0 512 512" fill="#ffffff" aria-hidden="true">
            <path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"></path>
        </svg>
        </a>
      <!--dark mode-->
      <a class="ar5iv-toggle-color-scheme" title="Toggle dark/light mode" aria-label="System preference">
        <label id="automatic-tog" class="toggle-icon" title="Switch to light mode" for="__palette_3">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"></path></svg>
        </label>
        
        
      </a>
      <!--nav-->
      <button class="navbar-toggler ar5iv-footer-button" type="button" data-bs-theme="dark" data-bs-toggle="collapse" aria-expanded="false" data-bs-target=".ltx_page_main >.ltx_TOC.mobile" aria-controls="navbarSupportedContent" aria-label="Toggle navigation" style="border:none; margin-right: 0em;">
        <svg xmlns="http://www.w3.org/2000/svg" height="1.25em" viewBox="0 0 448 512" aria-hidden="true" role="img" fill="#ffffff"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"></path></svg>
      </button>
    </div>
    </header><header class="desktop_header">
    <div class="html-header-logo">
      <a href="https://arxiv.org/">
          <img alt="logo" class="logo" role="presentation" width="100" src="https://services.dev.arxiv.org/html/static/arxiv-logo-one-color-white.svg">
          <span class="sr-only">Back to arXiv</span>
      </a>
    </div>
    <div class="html-header-message" role="banner">
        <p>This is <strong>experimental HTML</strong> to improve accessibility. We invite you to report rendering errors. <span class="sr-only">Use Alt+Y to toggle on accessible reporting links and Alt+Shift+Y to toggle off.</span> Learn more <a href="https://info.arxiv.org/about/accessible_HTML.html" target="_blank">about this project</a> and <a href="https://info.arxiv.org/help/submit_latex_best_practices.html" target="_blank">help improve conversions</a>.
        </p>
    </div>
    <nav class="html-header-nav">
      <a class="ar5iv-footer-button hover-effect" href="https://info.arxiv.org/about/accessible_HTML.html" target="_blank">Why HTML?</a>
      <a class="ar5iv-footer-button hover-effect" target="_blank" href="https://arxiv.org/html/2410.04568v1/#myForm">Report Issue</a>
      <a class="ar5iv-footer-button hover-effect" href="https://arxiv.org/abs/2410.04568v1">Back to Abstract</a>
      <a class="ar5iv-footer-button hover-effect" href="https://arxiv.org/pdf/2410.04568v1" target="_blank">Download PDF</a>
      <a class="ar5iv-toggle-color-scheme" title="Toggle dark/light mode">
        <label id="automatic-tog" class="toggle-icon" title="Switch to light mode" for="__palette_3">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"></path></svg>
        </label>
        
        
      </a>
    </nav></header>

<div class="ltx_page_main" id="main">
<nav class="ltx_TOC active" aria-labelledby="toc_header"><h2 id="toc_header" class="sr-only">Table of Contents</h2>

      <div id="listIcon" type="button" class="hide">
          <svg width="17px" height="17px" viewBox="0 0 512 512" style="pointer-events: none;">
          <path d="M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"></path>
          </svg>
      </div>
      <div id="arrowIcon" type="button">
          <svg width="17px" height="17px" viewBox="0 0 448 512" style="pointer-events: none;">
          <path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path>
          </svg>
      </div><ol class="ltx_toclist"><li class="ltx_tocentry ltx_tocentry_section">
    <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#abstract" title="Abstract">
      <span class="ltx_text ltx_ref_title">
        <span class="ltx_tag ltx_tag_ref"></span>
        Abstract
      </span>
    </a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S1" title="In Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S1.SS1" title="In 1. Introduction ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1.1 </span>Motivation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S1.SS2" title="In 1. Introduction ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1.2 </span>Contributions and Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S1.SS3" title="In 1. Introduction ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1.3 </span>Notation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S2" title="In Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Problem Setup</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S2.SS1" title="In 2. Problem Setup ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Decision Making Framework</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S2.SS2" title="In 2. Problem Setup ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Success From a Ranking Intervention</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S2.SS3" title="In 2. Problem Setup ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Success From a User Session</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S2.SS4" title="In 2. Problem Setup ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.4 </span>Marketplace Expected Reward</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3" title="In Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Expected Reward Estimation from Observational Data</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS1" title="In 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Estimating the Per Query Success</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS2" title="In 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Estimating the Session Expected Reward</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS2.SSS1" title="In 3.2. Estimating the Session Expected Reward ‣ 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.1 </span>In-session success attribution</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS2.SSS2" title="In 3.2. Estimating the Session Expected Reward ‣ 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.2 </span>Session Value estimation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS3" title="In 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Selection Bias Correction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS4" title="In 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Variance Reduction and Generalization</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS4.SSS1" title="In 3.4. Variance Reduction and Generalization ‣ 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4.1 </span>Truncation and Bucketing</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS4.SSS2" title="In 3.4. Variance Reduction and Generalization ‣ 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4.2 </span>Potential Outcome Modeling</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS4.SSS3" title="In 3.4. Variance Reduction and Generalization ‣ 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4.3 </span>Stratification and Normalization</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS5" title="In 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5 </span>Optimization Objective for the Ranking Policy</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4" title="In Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Evaluations and Discussions</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.SS1" title="In 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Online Evaluation Framework</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.SS2" title="In 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Training Objectives and Offline Evaluation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.SS3" title="In 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Research Questions</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.SS3.SSS1" title="In 4.3. Research Questions ‣ 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3.1 </span>Marketplace Reward Trade offs</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.SS3.SSS2" title="In 4.3. Research Questions ‣ 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3.2 </span>Tight Attribution of Purchase Events</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.SS3.SSS3" title="In 4.3. Research Questions ‣ 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3.3 </span>Purchase Price in Marketplace Reward</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S5" title="In Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Concluding Remarks</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
    <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib" title="References">
      <span class="ltx_text ltx_ref_title">
        <span class="ltx_tag ltx_tag_ref"></span>
        References
      </span>
    </a></li></ol></nav>

<div class="ltx_page_content"><div id="target-section" class="section"><a id="license-tr" href="https://info.arxiv.org/help/license/index.html#licenses-available">License: CC BY 4.0</a><div id="watermark-tr">arXiv:2410.04568v1 [cs.IR] 06 Oct 2024</div></div>
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data</h1><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ehsan Ebrahimzadeh, Nikhil Monga, Hang Gao, Alex Cozzi, Abraham Bagherjeiran
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">eBay Search Ranking and Monetization</span><span class="ltx_text ltx_affiliation_country" id="id2.2.id2"></span>
</span></span></span>
</div><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_abstract" id="abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<p class="ltx_p" id="id3.id1">We develop a decision making framework to cast the problem of learning a ranking policy for search or recommendation engines in a two-sided e-commerce marketplace as an expected reward optimization problem using observational data.
As a value allocation mechanism, the ranking policy allocates retrieved items to the designated slots so as to maximize the user utility from the slotted items, at any given stage of the shopping journey.
The objective of this allocation can in turn be defined with respect to the underlying probabilistic user browsing model as the expected number of interaction events on presented items matching the user intent, given the ranking context.
Through recognizing the effect of ranking as an intervention action to inform users’ interactions with slotted items and the corresponding economic value of the interaction events for the marketplace, we formulate the expected reward of the marketplace as the <span class="ltx_text ltx_font_italic" id="id3.id1.1">collective</span> value from all presented ranking actions.
The key element in this formulation is a notion of <span class="ltx_text ltx_font_italic" id="id3.id1.2">context value distribution</span>, which signifies not only the attribution of value to ranking interventions within a session but also the distribution of marketplace reward across user sessions.
We build empirical estimates for the expected reward of the marketplace from observational data that account for the heterogeneity of economic value across session contexts as well as the distribution shifts in learning from observational user activity data.
The ranking policy can then be trained by optimizing the empirical expected reward estimates via standard Bayesian inference techniques.
We discuss the connections and distinctions between our proposed perspective and the standard supervised approach to learning to rank via empirical risk minimization with respect to standard information retrieval metrics.
The specific focus of this paper is to highlight the significance of the empirical context value distribution in shaping the properties of the corresponding ranking policies by contrasting various empirical importance sampling distributions.
We report empirical results from online randomized controlled experiments on a product search ranking task in a major e-commerce platform demonstrating the fundamental trade-offs governed by ranking polices trained on empirical reward estimates with respect to extreme choices of the context value distribution.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_keywords">Learning to Rank,
Counterfactual Inference,
Expected Reward Estimation,
E-commerce Marketplace
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsection" id="S1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.1. </span>Motivation</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S1.SS1.p1">
<p class="ltx_p" id="S1.SS1.p1.1">Two sided e-commerce marketplaces are intermediary economic platforms that connect buyers and sellers, usually providing a wide selection of products for the buyers from a diverse array of sellers.
The primary <span class="ltx_text ltx_font_italic" id="S1.SS1.p1.1.1">buyer focused</span> objective of the marketplace is to guide buyers through their browse and discovery journeys to identify and purchase the items that fulfill their <span class="ltx_text ltx_font_italic" id="S1.SS1.p1.1.2">shopping intent</span>.
Users’ browsing and purchase journeys in the marketplace are impacted by an ecosystem of decision making systems, most notably via the ranking policies in various stages of their shopping journeys from discovery pages to the Search Engine Result Pages(SERP).
An effective ranking policy aims to showcase a set of results matching the user intent at any given ranking context along the shopping journey with rewards realized as interaction events on the slotted items on the page.
Collectively, user journeys are not equally likely to produce value for the marketplace and the goal is to expand the set of successful user sessions, optimizing a suitable notion of long term value for the users and the marketplace.
It is therefore essential for the ranking policy to account for the utility of all stakeholders in this economic setting.
In standard formulations of learning to rank in the information retrieval literature, however, there is usually no clear connection between the training objective for the ranking policy, the long term value for the collective of the users and the key performance metrics of the marketplace.
In this paper, focusing primarily on the search ranking policy invoked in response to users’ search queries, we formulate the ranking policy learning as an optimization problem based on a (counterfactual) estimate of the marketplace reward from observational data.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.2. </span>Contributions and Related Work</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_theorem ltx_theorem_contribution" id="S1.Thmtheorem1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="S1.Thmtheorem1.1.1.1">Contribution 1</span></span><span class="ltx_text ltx_font_bold" id="S1.Thmtheorem1.2.2">.</span>
</h6><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S1.Thmtheorem1.p1">
<p class="ltx_p" id="S1.Thmtheorem1.p1.1"><span class="ltx_text ltx_font_italic" id="S1.Thmtheorem1.p1.1.1">We propose a decision making framework establishing explicit connections between learning a ranking policy for a search/recommendation engines and building effective empirical estimates for a suitable notion of marketplace expected reward.</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</div>
<div class="ltx_para" id="S1.SS2.p1">
<p class="ltx_p" id="S1.SS2.p1.1">The problem of developing merit scores for ranking items, post a selection stage from a large pool of candidates, is widely studies in the context of recommendation systems<cite class="ltx_cite ltx_citemacro_citep">(Ma et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib19" title="">2018</a>)</cite>, display advertising<cite class="ltx_cite ltx_citemacro_citep">(Chaudhuri et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib4" title="">2017</a>)</cite>, sponsored search<cite class="ltx_cite ltx_citemacro_citep">(Zhang et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib36" title="">2014</a>)</cite>, and search ranking<cite class="ltx_cite ltx_citemacro_citep">(Wu et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib35" title="">2018</a>)</cite>, where the sequential and hierarchical nature of the user interaction events and sparsity of success events<cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib31" title="">2022</a>; Ma et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib19" title="">2018</a>; Jin et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib16" title="">2022</a>; O’Brien et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib22" title="">2021</a>)</cite> in user journeys are taken into account.
Value-aware policies in the context of advertising<cite class="ltx_cite ltx_citemacro_citep">(Zhang et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib36" title="">2014</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib36" title="">2014</a>)</cite>, and economic recommender systems<cite class="ltx_cite ltx_citemacro_citep">(De&nbsp;Biasio et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib8" title="">2023b</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib7" title="">a</a>; Ma et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib19" title="">2018</a>)</cite> account for business objectives, primarily through manipulations of the merit scores based on conversion likelihood estimates and the price of the candidate items to develop a point-wise notion of expected value for a given candidate item.
In contrast, our approach is user focused in that the goal of the ranking policy is to optimize for the user utility in the sense of maximizing the expected number of engagements on desirable items at every stage of the search journey.
An alternative formulation is to frame the search ranking policy learning as a multi-stakeholder multi-objective optimization problem<cite class="ltx_cite ltx_citemacro_citep">(Mahapatra et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib20" title="">2023</a>; Carmel et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib3" title="">2020</a>)</cite>, with potentially conflicting objectives<cite class="ltx_cite ltx_citemacro_citep">(Tsagkias et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib29" title="">2021</a>)</cite> that account either for business constraints<cite class="ltx_cite ltx_citemacro_citep">(Tang et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib28" title="">2024</a>)</cite> or group exposure constraints<cite class="ltx_cite ltx_citemacro_citep">(Mehrotra et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib21" title="">2018</a>)</cite>.
The notion of value for the marketplace is introduced in the ranking policy objective via an importance weighting distribution that signifies both the economic value and the likelihood of realizing some reward from an interaction event with an item that satisfies the user intent.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_theorem ltx_theorem_contribution" id="S1.Thmtheorem2">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="S1.Thmtheorem2.1.1.1">Contribution 2</span></span><span class="ltx_text ltx_font_bold" id="S1.Thmtheorem2.2.2">.</span>
</h6><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S1.Thmtheorem2.p1">
<p class="ltx_p" id="S1.Thmtheorem2.p1.1"><span class="ltx_text ltx_font_italic" id="S1.Thmtheorem2.p1.1.1">We characterize the key elements in building effective (policy-dependent) expected reward estimates from observational data, controlling for (1) the heterogeneity of the session value distribution, (2) the contribution of interventions within a user journey via the reward attribution scheme, and (3) the distribution shifts incurred by selection biases in observational data.</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</div>
<div class="ltx_para" id="S1.SS2.p2">
<p class="ltx_p" id="S1.SS2.p2.1">Reinforcement learning(RL) is a powerful framework to account for sequential interventions within the session by formulating the problem of recommending new items<cite class="ltx_cite ltx_citemacro_citep">(Shani et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib27" title="">2005</a>)</cite> or search ranking<cite class="ltx_cite ltx_citemacro_citep">(Hu et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib13" title="">2018</a>)</cite> as a Markov Decision Process (MDP).
By expanding the planning horizon and adopting intermediary reward shaping techniques, RL-based approaches account for delayed rewards in the session, via suitable representations of the dynamic session context(state) in session trajectories.
Recognizing the selection biases in the observed user behavior data, offline reinforcement learning techniques, including inverse propensity weighting<cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib5" title="">2019</a>)</cite>, and actor-critic methods<cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib6" title="">2022</a>)</cite>, are adopted to account for distribution shifts in learning from logged data. Similar counterfactual training techniques based on propensity weighting and potential outcome modeling are developed in the context of counterfactual learning to rank for search ranking problems<cite class="ltx_cite ltx_citemacro_citep">(Joachims et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib17" title="">2017</a>; Ebrahimzadeh et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib12" title="">2024</a>; Oosterhuis, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib23" title="">2023</a>)</cite>.
There is, however, no clear account of the heterogeneity of marketplace reward across session trajectories, neither in the standard counterfactual supervised learning perspective nor in offline reinforcement learning approaches.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_theorem ltx_theorem_contribution" id="S1.Thmtheorem3">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="S1.Thmtheorem3.1.1.1">Contribution 3</span></span><span class="ltx_text ltx_font_bold" id="S1.Thmtheorem3.2.2">.</span>
</h6><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S1.Thmtheorem3.p1">
<p class="ltx_p" id="S1.Thmtheorem3.p1.1"><span class="ltx_text ltx_font_italic" id="S1.Thmtheorem3.p1.1.1">We highlight the significance of the empirical session-context value distribution in building effective marketplace expected reward estimates by demonstrating fundamental performance trade-offs governed by the search ranking policies trained on extreme choices of the context value distribution via rigorous counterfactual evaluations as well as online randomized controlled experiments in a major e-commerce platform.</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</div>
<div class="ltx_para" id="S1.SS2.p3">
<p class="ltx_p" id="S1.SS2.p3.1">The definition of success events and the associated reward to the user events is flexible in our framework and is informed by the strategic choices of the marketplace.
Specifically, an early-stage marketplace may focus on maximizing the collective number of engagements, while an acquisition-oriented marketplace targets the collective number of purchases, while a revenue-driven marketplace chooses to maximize the long-term gross merchandise value.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S1.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.3. </span>Notation</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S1.SS3.p1">
<p class="ltx_p" id="S1.SS3.p1.13">Here is a list of notation adopted throughout the paper.
Sets and ordered sets(lists) are represented with upper-case calligraphic symbols; such as <math alttext="\mathcal{X}" class="ltx_Math" display="inline" id="S1.SS3.p1.1.m1.1"><semantics id="S1.SS3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S1.SS3.p1.1.m1.1.1" xref="S1.SS3.p1.1.m1.1.1.cmml">𝒳</mi><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.1.m1.1b"><ci id="S1.SS3.p1.1.m1.1.1.cmml" xref="S1.SS3.p1.1.m1.1.1">𝒳</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.1.m1.1c">\mathcal{X}</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.1.m1.1d">caligraphic_X</annotation></semantics></math>.
Random quantities are shown in bold such as <math alttext="\mathbf{x}" class="ltx_Math" display="inline" id="S1.SS3.p1.2.m2.1"><semantics id="S1.SS3.p1.2.m2.1a"><mi id="S1.SS3.p1.2.m2.1.1" xref="S1.SS3.p1.2.m2.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.2.m2.1b"><ci id="S1.SS3.p1.2.m2.1.1.cmml" xref="S1.SS3.p1.2.m2.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.2.m2.1c">\mathbf{x}</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.2.m2.1d">bold_x</annotation></semantics></math> with realization <math alttext="x" class="ltx_Math" display="inline" id="S1.SS3.p1.3.m3.1"><semantics id="S1.SS3.p1.3.m3.1a"><mi id="S1.SS3.p1.3.m3.1.1" xref="S1.SS3.p1.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.3.m3.1b"><ci id="S1.SS3.p1.3.m3.1.1.cmml" xref="S1.SS3.p1.3.m3.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.3.m3.1c">x</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.3.m3.1d">italic_x</annotation></semantics></math>.
The expected value of random variable <math alttext="\mathbf{x}" class="ltx_Math" display="inline" id="S1.SS3.p1.4.m4.1"><semantics id="S1.SS3.p1.4.m4.1a"><mi id="S1.SS3.p1.4.m4.1.1" xref="S1.SS3.p1.4.m4.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.4.m4.1b"><ci id="S1.SS3.p1.4.m4.1.1.cmml" xref="S1.SS3.p1.4.m4.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.4.m4.1c">\mathbf{x}</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.4.m4.1d">bold_x</annotation></semantics></math> is denoted by <math alttext="\mathbb{E}[\mathbf{x}]" class="ltx_Math" display="inline" id="S1.SS3.p1.5.m5.1"><semantics id="S1.SS3.p1.5.m5.1a"><mrow id="S1.SS3.p1.5.m5.1.2" xref="S1.SS3.p1.5.m5.1.2.cmml"><mi id="S1.SS3.p1.5.m5.1.2.2" xref="S1.SS3.p1.5.m5.1.2.2.cmml">𝔼</mi><mo id="S1.SS3.p1.5.m5.1.2.1" xref="S1.SS3.p1.5.m5.1.2.1.cmml">⁢</mo><mrow id="S1.SS3.p1.5.m5.1.2.3.2" xref="S1.SS3.p1.5.m5.1.2.3.1.cmml"><mo id="S1.SS3.p1.5.m5.1.2.3.2.1" stretchy="false" xref="S1.SS3.p1.5.m5.1.2.3.1.1.cmml">[</mo><mi id="S1.SS3.p1.5.m5.1.1" xref="S1.SS3.p1.5.m5.1.1.cmml">𝐱</mi><mo id="S1.SS3.p1.5.m5.1.2.3.2.2" stretchy="false" xref="S1.SS3.p1.5.m5.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.5.m5.1b"><apply id="S1.SS3.p1.5.m5.1.2.cmml" xref="S1.SS3.p1.5.m5.1.2"><times id="S1.SS3.p1.5.m5.1.2.1.cmml" xref="S1.SS3.p1.5.m5.1.2.1"></times><ci id="S1.SS3.p1.5.m5.1.2.2.cmml" xref="S1.SS3.p1.5.m5.1.2.2">𝔼</ci><apply id="S1.SS3.p1.5.m5.1.2.3.1.cmml" xref="S1.SS3.p1.5.m5.1.2.3.2"><csymbol cd="latexml" id="S1.SS3.p1.5.m5.1.2.3.1.1.cmml" xref="S1.SS3.p1.5.m5.1.2.3.2.1">delimited-[]</csymbol><ci id="S1.SS3.p1.5.m5.1.1.cmml" xref="S1.SS3.p1.5.m5.1.1">𝐱</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.5.m5.1c">\mathbb{E}[\mathbf{x}]</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.5.m5.1d">blackboard_E [ bold_x ]</annotation></semantics></math>
and the conditional expectation of a random variable <math alttext="\mathbf{z}=f(\mathbf{x},\mathbf{y})" class="ltx_Math" display="inline" id="S1.SS3.p1.6.m6.2"><semantics id="S1.SS3.p1.6.m6.2a"><mrow id="S1.SS3.p1.6.m6.2.3" xref="S1.SS3.p1.6.m6.2.3.cmml"><mi id="S1.SS3.p1.6.m6.2.3.2" xref="S1.SS3.p1.6.m6.2.3.2.cmml">𝐳</mi><mo id="S1.SS3.p1.6.m6.2.3.1" xref="S1.SS3.p1.6.m6.2.3.1.cmml">=</mo><mrow id="S1.SS3.p1.6.m6.2.3.3" xref="S1.SS3.p1.6.m6.2.3.3.cmml"><mi id="S1.SS3.p1.6.m6.2.3.3.2" xref="S1.SS3.p1.6.m6.2.3.3.2.cmml">f</mi><mo id="S1.SS3.p1.6.m6.2.3.3.1" xref="S1.SS3.p1.6.m6.2.3.3.1.cmml">⁢</mo><mrow id="S1.SS3.p1.6.m6.2.3.3.3.2" xref="S1.SS3.p1.6.m6.2.3.3.3.1.cmml"><mo id="S1.SS3.p1.6.m6.2.3.3.3.2.1" stretchy="false" xref="S1.SS3.p1.6.m6.2.3.3.3.1.cmml">(</mo><mi id="S1.SS3.p1.6.m6.1.1" xref="S1.SS3.p1.6.m6.1.1.cmml">𝐱</mi><mo id="S1.SS3.p1.6.m6.2.3.3.3.2.2" xref="S1.SS3.p1.6.m6.2.3.3.3.1.cmml">,</mo><mi id="S1.SS3.p1.6.m6.2.2" xref="S1.SS3.p1.6.m6.2.2.cmml">𝐲</mi><mo id="S1.SS3.p1.6.m6.2.3.3.3.2.3" stretchy="false" xref="S1.SS3.p1.6.m6.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.6.m6.2b"><apply id="S1.SS3.p1.6.m6.2.3.cmml" xref="S1.SS3.p1.6.m6.2.3"><eq id="S1.SS3.p1.6.m6.2.3.1.cmml" xref="S1.SS3.p1.6.m6.2.3.1"></eq><ci id="S1.SS3.p1.6.m6.2.3.2.cmml" xref="S1.SS3.p1.6.m6.2.3.2">𝐳</ci><apply id="S1.SS3.p1.6.m6.2.3.3.cmml" xref="S1.SS3.p1.6.m6.2.3.3"><times id="S1.SS3.p1.6.m6.2.3.3.1.cmml" xref="S1.SS3.p1.6.m6.2.3.3.1"></times><ci id="S1.SS3.p1.6.m6.2.3.3.2.cmml" xref="S1.SS3.p1.6.m6.2.3.3.2">𝑓</ci><interval closure="open" id="S1.SS3.p1.6.m6.2.3.3.3.1.cmml" xref="S1.SS3.p1.6.m6.2.3.3.3.2"><ci id="S1.SS3.p1.6.m6.1.1.cmml" xref="S1.SS3.p1.6.m6.1.1">𝐱</ci><ci id="S1.SS3.p1.6.m6.2.2.cmml" xref="S1.SS3.p1.6.m6.2.2">𝐲</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.6.m6.2c">\mathbf{z}=f(\mathbf{x},\mathbf{y})</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.6.m6.2d">bold_z = italic_f ( bold_x , bold_y )</annotation></semantics></math> given <math alttext="\mathbf{y}" class="ltx_Math" display="inline" id="S1.SS3.p1.7.m7.1"><semantics id="S1.SS3.p1.7.m7.1a"><mi id="S1.SS3.p1.7.m7.1.1" xref="S1.SS3.p1.7.m7.1.1.cmml">𝐲</mi><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.7.m7.1b"><ci id="S1.SS3.p1.7.m7.1.1.cmml" xref="S1.SS3.p1.7.m7.1.1">𝐲</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.7.m7.1c">\mathbf{y}</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.7.m7.1d">bold_y</annotation></semantics></math> is denoted by <math alttext="\mathbb{E}[\mathbf{z}|\mathbf{y}]" class="ltx_Math" display="inline" id="S1.SS3.p1.8.m8.1"><semantics id="S1.SS3.p1.8.m8.1a"><mrow id="S1.SS3.p1.8.m8.1.1" xref="S1.SS3.p1.8.m8.1.1.cmml"><mi id="S1.SS3.p1.8.m8.1.1.3" xref="S1.SS3.p1.8.m8.1.1.3.cmml">𝔼</mi><mo id="S1.SS3.p1.8.m8.1.1.2" xref="S1.SS3.p1.8.m8.1.1.2.cmml">⁢</mo><mrow id="S1.SS3.p1.8.m8.1.1.1.1" xref="S1.SS3.p1.8.m8.1.1.1.2.cmml"><mo id="S1.SS3.p1.8.m8.1.1.1.1.2" stretchy="false" xref="S1.SS3.p1.8.m8.1.1.1.2.1.cmml">[</mo><mrow id="S1.SS3.p1.8.m8.1.1.1.1.1" xref="S1.SS3.p1.8.m8.1.1.1.1.1.cmml"><mi id="S1.SS3.p1.8.m8.1.1.1.1.1.2" xref="S1.SS3.p1.8.m8.1.1.1.1.1.2.cmml">𝐳</mi><mo fence="false" id="S1.SS3.p1.8.m8.1.1.1.1.1.1" xref="S1.SS3.p1.8.m8.1.1.1.1.1.1.cmml">|</mo><mi id="S1.SS3.p1.8.m8.1.1.1.1.1.3" xref="S1.SS3.p1.8.m8.1.1.1.1.1.3.cmml">𝐲</mi></mrow><mo id="S1.SS3.p1.8.m8.1.1.1.1.3" stretchy="false" xref="S1.SS3.p1.8.m8.1.1.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.8.m8.1b"><apply id="S1.SS3.p1.8.m8.1.1.cmml" xref="S1.SS3.p1.8.m8.1.1"><times id="S1.SS3.p1.8.m8.1.1.2.cmml" xref="S1.SS3.p1.8.m8.1.1.2"></times><ci id="S1.SS3.p1.8.m8.1.1.3.cmml" xref="S1.SS3.p1.8.m8.1.1.3">𝔼</ci><apply id="S1.SS3.p1.8.m8.1.1.1.2.cmml" xref="S1.SS3.p1.8.m8.1.1.1.1"><csymbol cd="latexml" id="S1.SS3.p1.8.m8.1.1.1.2.1.cmml" xref="S1.SS3.p1.8.m8.1.1.1.1.2">delimited-[]</csymbol><apply id="S1.SS3.p1.8.m8.1.1.1.1.1.cmml" xref="S1.SS3.p1.8.m8.1.1.1.1.1"><csymbol cd="latexml" id="S1.SS3.p1.8.m8.1.1.1.1.1.1.cmml" xref="S1.SS3.p1.8.m8.1.1.1.1.1.1">conditional</csymbol><ci id="S1.SS3.p1.8.m8.1.1.1.1.1.2.cmml" xref="S1.SS3.p1.8.m8.1.1.1.1.1.2">𝐳</ci><ci id="S1.SS3.p1.8.m8.1.1.1.1.1.3.cmml" xref="S1.SS3.p1.8.m8.1.1.1.1.1.3">𝐲</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.8.m8.1c">\mathbb{E}[\mathbf{z}|\mathbf{y}]</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.8.m8.1d">blackboard_E [ bold_z | bold_y ]</annotation></semantics></math> or <math alttext="\mathbb{E}_{\mathbf{x}\sim\mathbb{P}(x)}[\mathbf{z}]" class="ltx_Math" display="inline" id="S1.SS3.p1.9.m9.2"><semantics id="S1.SS3.p1.9.m9.2a"><mrow id="S1.SS3.p1.9.m9.2.3" xref="S1.SS3.p1.9.m9.2.3.cmml"><msub id="S1.SS3.p1.9.m9.2.3.2" xref="S1.SS3.p1.9.m9.2.3.2.cmml"><mi id="S1.SS3.p1.9.m9.2.3.2.2" xref="S1.SS3.p1.9.m9.2.3.2.2.cmml">𝔼</mi><mrow id="S1.SS3.p1.9.m9.1.1.1" xref="S1.SS3.p1.9.m9.1.1.1.cmml"><mi id="S1.SS3.p1.9.m9.1.1.1.3" xref="S1.SS3.p1.9.m9.1.1.1.3.cmml">𝐱</mi><mo id="S1.SS3.p1.9.m9.1.1.1.2" xref="S1.SS3.p1.9.m9.1.1.1.2.cmml">∼</mo><mrow id="S1.SS3.p1.9.m9.1.1.1.4" xref="S1.SS3.p1.9.m9.1.1.1.4.cmml"><mi id="S1.SS3.p1.9.m9.1.1.1.4.2" xref="S1.SS3.p1.9.m9.1.1.1.4.2.cmml">ℙ</mi><mo id="S1.SS3.p1.9.m9.1.1.1.4.1" xref="S1.SS3.p1.9.m9.1.1.1.4.1.cmml">⁢</mo><mrow id="S1.SS3.p1.9.m9.1.1.1.4.3.2" xref="S1.SS3.p1.9.m9.1.1.1.4.cmml"><mo id="S1.SS3.p1.9.m9.1.1.1.4.3.2.1" stretchy="false" xref="S1.SS3.p1.9.m9.1.1.1.4.cmml">(</mo><mi id="S1.SS3.p1.9.m9.1.1.1.1" xref="S1.SS3.p1.9.m9.1.1.1.1.cmml">x</mi><mo id="S1.SS3.p1.9.m9.1.1.1.4.3.2.2" stretchy="false" xref="S1.SS3.p1.9.m9.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mo id="S1.SS3.p1.9.m9.2.3.1" xref="S1.SS3.p1.9.m9.2.3.1.cmml">⁢</mo><mrow id="S1.SS3.p1.9.m9.2.3.3.2" xref="S1.SS3.p1.9.m9.2.3.3.1.cmml"><mo id="S1.SS3.p1.9.m9.2.3.3.2.1" stretchy="false" xref="S1.SS3.p1.9.m9.2.3.3.1.1.cmml">[</mo><mi id="S1.SS3.p1.9.m9.2.2" xref="S1.SS3.p1.9.m9.2.2.cmml">𝐳</mi><mo id="S1.SS3.p1.9.m9.2.3.3.2.2" stretchy="false" xref="S1.SS3.p1.9.m9.2.3.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.9.m9.2b"><apply id="S1.SS3.p1.9.m9.2.3.cmml" xref="S1.SS3.p1.9.m9.2.3"><times id="S1.SS3.p1.9.m9.2.3.1.cmml" xref="S1.SS3.p1.9.m9.2.3.1"></times><apply id="S1.SS3.p1.9.m9.2.3.2.cmml" xref="S1.SS3.p1.9.m9.2.3.2"><csymbol cd="ambiguous" id="S1.SS3.p1.9.m9.2.3.2.1.cmml" xref="S1.SS3.p1.9.m9.2.3.2">subscript</csymbol><ci id="S1.SS3.p1.9.m9.2.3.2.2.cmml" xref="S1.SS3.p1.9.m9.2.3.2.2">𝔼</ci><apply id="S1.SS3.p1.9.m9.1.1.1.cmml" xref="S1.SS3.p1.9.m9.1.1.1"><csymbol cd="latexml" id="S1.SS3.p1.9.m9.1.1.1.2.cmml" xref="S1.SS3.p1.9.m9.1.1.1.2">similar-to</csymbol><ci id="S1.SS3.p1.9.m9.1.1.1.3.cmml" xref="S1.SS3.p1.9.m9.1.1.1.3">𝐱</ci><apply id="S1.SS3.p1.9.m9.1.1.1.4.cmml" xref="S1.SS3.p1.9.m9.1.1.1.4"><times id="S1.SS3.p1.9.m9.1.1.1.4.1.cmml" xref="S1.SS3.p1.9.m9.1.1.1.4.1"></times><ci id="S1.SS3.p1.9.m9.1.1.1.4.2.cmml" xref="S1.SS3.p1.9.m9.1.1.1.4.2">ℙ</ci><ci id="S1.SS3.p1.9.m9.1.1.1.1.cmml" xref="S1.SS3.p1.9.m9.1.1.1.1">𝑥</ci></apply></apply></apply><apply id="S1.SS3.p1.9.m9.2.3.3.1.cmml" xref="S1.SS3.p1.9.m9.2.3.3.2"><csymbol cd="latexml" id="S1.SS3.p1.9.m9.2.3.3.1.1.cmml" xref="S1.SS3.p1.9.m9.2.3.3.2.1">delimited-[]</csymbol><ci id="S1.SS3.p1.9.m9.2.2.cmml" xref="S1.SS3.p1.9.m9.2.2">𝐳</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.9.m9.2c">\mathbb{E}_{\mathbf{x}\sim\mathbb{P}(x)}[\mathbf{z}]</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.9.m9.2d">blackboard_E start_POSTSUBSCRIPT bold_x ∼ blackboard_P ( italic_x ) end_POSTSUBSCRIPT [ bold_z ]</annotation></semantics></math>.
For a function <math alttext="f:\mathbb{X}\to\mathbb{R}" class="ltx_Math" display="inline" id="S1.SS3.p1.10.m10.1"><semantics id="S1.SS3.p1.10.m10.1a"><mrow id="S1.SS3.p1.10.m10.1.1" xref="S1.SS3.p1.10.m10.1.1.cmml"><mi id="S1.SS3.p1.10.m10.1.1.2" xref="S1.SS3.p1.10.m10.1.1.2.cmml">f</mi><mo id="S1.SS3.p1.10.m10.1.1.1" lspace="0.278em" rspace="0.278em" xref="S1.SS3.p1.10.m10.1.1.1.cmml">:</mo><mrow id="S1.SS3.p1.10.m10.1.1.3" xref="S1.SS3.p1.10.m10.1.1.3.cmml"><mi id="S1.SS3.p1.10.m10.1.1.3.2" xref="S1.SS3.p1.10.m10.1.1.3.2.cmml">𝕏</mi><mo id="S1.SS3.p1.10.m10.1.1.3.1" stretchy="false" xref="S1.SS3.p1.10.m10.1.1.3.1.cmml">→</mo><mi id="S1.SS3.p1.10.m10.1.1.3.3" xref="S1.SS3.p1.10.m10.1.1.3.3.cmml">ℝ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.10.m10.1b"><apply id="S1.SS3.p1.10.m10.1.1.cmml" xref="S1.SS3.p1.10.m10.1.1"><ci id="S1.SS3.p1.10.m10.1.1.1.cmml" xref="S1.SS3.p1.10.m10.1.1.1">:</ci><ci id="S1.SS3.p1.10.m10.1.1.2.cmml" xref="S1.SS3.p1.10.m10.1.1.2">𝑓</ci><apply id="S1.SS3.p1.10.m10.1.1.3.cmml" xref="S1.SS3.p1.10.m10.1.1.3"><ci id="S1.SS3.p1.10.m10.1.1.3.1.cmml" xref="S1.SS3.p1.10.m10.1.1.3.1">→</ci><ci id="S1.SS3.p1.10.m10.1.1.3.2.cmml" xref="S1.SS3.p1.10.m10.1.1.3.2">𝕏</ci><ci id="S1.SS3.p1.10.m10.1.1.3.3.cmml" xref="S1.SS3.p1.10.m10.1.1.3.3">ℝ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.10.m10.1c">f:\mathbb{X}\to\mathbb{R}</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.10.m10.1d">italic_f : blackboard_X → blackboard_R</annotation></semantics></math>, the <math alttext="|\mathcal{X}|" class="ltx_Math" display="inline" id="S1.SS3.p1.11.m11.1"><semantics id="S1.SS3.p1.11.m11.1a"><mrow id="S1.SS3.p1.11.m11.1.2.2" xref="S1.SS3.p1.11.m11.1.2.1.cmml"><mo id="S1.SS3.p1.11.m11.1.2.2.1" stretchy="false" xref="S1.SS3.p1.11.m11.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S1.SS3.p1.11.m11.1.1" xref="S1.SS3.p1.11.m11.1.1.cmml">𝒳</mi><mo id="S1.SS3.p1.11.m11.1.2.2.2" stretchy="false" xref="S1.SS3.p1.11.m11.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.11.m11.1b"><apply id="S1.SS3.p1.11.m11.1.2.1.cmml" xref="S1.SS3.p1.11.m11.1.2.2"><abs id="S1.SS3.p1.11.m11.1.2.1.1.cmml" xref="S1.SS3.p1.11.m11.1.2.2.1"></abs><ci id="S1.SS3.p1.11.m11.1.1.cmml" xref="S1.SS3.p1.11.m11.1.1">𝒳</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.11.m11.1c">|\mathcal{X}|</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.11.m11.1d">| caligraphic_X |</annotation></semantics></math> dimensional array <math alttext="[f(x)]_{x\in\mathcal{X}}" class="ltx_Math" display="inline" id="S1.SS3.p1.12.m12.2"><semantics id="S1.SS3.p1.12.m12.2a"><msub id="S1.SS3.p1.12.m12.2.2" xref="S1.SS3.p1.12.m12.2.2.cmml"><mrow id="S1.SS3.p1.12.m12.2.2.1.1" xref="S1.SS3.p1.12.m12.2.2.1.2.cmml"><mo id="S1.SS3.p1.12.m12.2.2.1.1.2" stretchy="false" xref="S1.SS3.p1.12.m12.2.2.1.2.1.cmml">[</mo><mrow id="S1.SS3.p1.12.m12.2.2.1.1.1" xref="S1.SS3.p1.12.m12.2.2.1.1.1.cmml"><mi id="S1.SS3.p1.12.m12.2.2.1.1.1.2" xref="S1.SS3.p1.12.m12.2.2.1.1.1.2.cmml">f</mi><mo id="S1.SS3.p1.12.m12.2.2.1.1.1.1" xref="S1.SS3.p1.12.m12.2.2.1.1.1.1.cmml">⁢</mo><mrow id="S1.SS3.p1.12.m12.2.2.1.1.1.3.2" xref="S1.SS3.p1.12.m12.2.2.1.1.1.cmml"><mo id="S1.SS3.p1.12.m12.2.2.1.1.1.3.2.1" stretchy="false" xref="S1.SS3.p1.12.m12.2.2.1.1.1.cmml">(</mo><mi id="S1.SS3.p1.12.m12.1.1" xref="S1.SS3.p1.12.m12.1.1.cmml">x</mi><mo id="S1.SS3.p1.12.m12.2.2.1.1.1.3.2.2" stretchy="false" xref="S1.SS3.p1.12.m12.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S1.SS3.p1.12.m12.2.2.1.1.3" stretchy="false" xref="S1.SS3.p1.12.m12.2.2.1.2.1.cmml">]</mo></mrow><mrow id="S1.SS3.p1.12.m12.2.2.3" xref="S1.SS3.p1.12.m12.2.2.3.cmml"><mi id="S1.SS3.p1.12.m12.2.2.3.2" xref="S1.SS3.p1.12.m12.2.2.3.2.cmml">x</mi><mo id="S1.SS3.p1.12.m12.2.2.3.1" xref="S1.SS3.p1.12.m12.2.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S1.SS3.p1.12.m12.2.2.3.3" xref="S1.SS3.p1.12.m12.2.2.3.3.cmml">𝒳</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.12.m12.2b"><apply id="S1.SS3.p1.12.m12.2.2.cmml" xref="S1.SS3.p1.12.m12.2.2"><csymbol cd="ambiguous" id="S1.SS3.p1.12.m12.2.2.2.cmml" xref="S1.SS3.p1.12.m12.2.2">subscript</csymbol><apply id="S1.SS3.p1.12.m12.2.2.1.2.cmml" xref="S1.SS3.p1.12.m12.2.2.1.1"><csymbol cd="latexml" id="S1.SS3.p1.12.m12.2.2.1.2.1.cmml" xref="S1.SS3.p1.12.m12.2.2.1.1.2">delimited-[]</csymbol><apply id="S1.SS3.p1.12.m12.2.2.1.1.1.cmml" xref="S1.SS3.p1.12.m12.2.2.1.1.1"><times id="S1.SS3.p1.12.m12.2.2.1.1.1.1.cmml" xref="S1.SS3.p1.12.m12.2.2.1.1.1.1"></times><ci id="S1.SS3.p1.12.m12.2.2.1.1.1.2.cmml" xref="S1.SS3.p1.12.m12.2.2.1.1.1.2">𝑓</ci><ci id="S1.SS3.p1.12.m12.1.1.cmml" xref="S1.SS3.p1.12.m12.1.1">𝑥</ci></apply></apply><apply id="S1.SS3.p1.12.m12.2.2.3.cmml" xref="S1.SS3.p1.12.m12.2.2.3"><in id="S1.SS3.p1.12.m12.2.2.3.1.cmml" xref="S1.SS3.p1.12.m12.2.2.3.1"></in><ci id="S1.SS3.p1.12.m12.2.2.3.2.cmml" xref="S1.SS3.p1.12.m12.2.2.3.2">𝑥</ci><ci id="S1.SS3.p1.12.m12.2.2.3.3.cmml" xref="S1.SS3.p1.12.m12.2.2.3.3">𝒳</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.12.m12.2c">[f(x)]_{x\in\mathcal{X}}</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.12.m12.2d">[ italic_f ( italic_x ) ] start_POSTSUBSCRIPT italic_x ∈ caligraphic_X end_POSTSUBSCRIPT</annotation></semantics></math> is denoted by <math alttext="f(\mathcal{X})" class="ltx_Math" display="inline" id="S1.SS3.p1.13.m13.1"><semantics id="S1.SS3.p1.13.m13.1a"><mrow id="S1.SS3.p1.13.m13.1.2" xref="S1.SS3.p1.13.m13.1.2.cmml"><mi id="S1.SS3.p1.13.m13.1.2.2" xref="S1.SS3.p1.13.m13.1.2.2.cmml">f</mi><mo id="S1.SS3.p1.13.m13.1.2.1" xref="S1.SS3.p1.13.m13.1.2.1.cmml">⁢</mo><mrow id="S1.SS3.p1.13.m13.1.2.3.2" xref="S1.SS3.p1.13.m13.1.2.cmml"><mo id="S1.SS3.p1.13.m13.1.2.3.2.1" stretchy="false" xref="S1.SS3.p1.13.m13.1.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S1.SS3.p1.13.m13.1.1" xref="S1.SS3.p1.13.m13.1.1.cmml">𝒳</mi><mo id="S1.SS3.p1.13.m13.1.2.3.2.2" stretchy="false" xref="S1.SS3.p1.13.m13.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.SS3.p1.13.m13.1b"><apply id="S1.SS3.p1.13.m13.1.2.cmml" xref="S1.SS3.p1.13.m13.1.2"><times id="S1.SS3.p1.13.m13.1.2.1.cmml" xref="S1.SS3.p1.13.m13.1.2.1"></times><ci id="S1.SS3.p1.13.m13.1.2.2.cmml" xref="S1.SS3.p1.13.m13.1.2.2">𝑓</ci><ci id="S1.SS3.p1.13.m13.1.1.cmml" xref="S1.SS3.p1.13.m13.1.1">𝒳</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS3.p1.13.m13.1c">f(\mathcal{X})</annotation><annotation encoding="application/x-llamapun" id="S1.SS3.p1.13.m13.1d">italic_f ( caligraphic_X )</annotation></semantics></math>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Problem Setup</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Decision Making Framework</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.4">The marketplace is interested in maximizing the average total reward across all user session trajectories over a long time horizon</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\frac{1}{T}\sum_{t\leq T}v_{s_{t}}," class="ltx_Math" display="block" id="S2.E1.m1.1"><semantics id="S2.E1.m1.1a"><mrow id="S2.E1.m1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml"><mrow id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml"><mfrac id="S2.E1.m1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.2.cmml"><mn id="S2.E1.m1.1.1.1.1.2.2" xref="S2.E1.m1.1.1.1.1.2.2.cmml">1</mn><mi id="S2.E1.m1.1.1.1.1.2.3" xref="S2.E1.m1.1.1.1.1.2.3.cmml">T</mi></mfrac><mo id="S2.E1.m1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.cmml">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.3.cmml"><munder id="S2.E1.m1.1.1.1.1.3.1" xref="S2.E1.m1.1.1.1.1.3.1.cmml"><mo id="S2.E1.m1.1.1.1.1.3.1.2" movablelimits="false" xref="S2.E1.m1.1.1.1.1.3.1.2.cmml">∑</mo><mrow id="S2.E1.m1.1.1.1.1.3.1.3" xref="S2.E1.m1.1.1.1.1.3.1.3.cmml"><mi id="S2.E1.m1.1.1.1.1.3.1.3.2" xref="S2.E1.m1.1.1.1.1.3.1.3.2.cmml">t</mi><mo id="S2.E1.m1.1.1.1.1.3.1.3.1" xref="S2.E1.m1.1.1.1.1.3.1.3.1.cmml">≤</mo><mi id="S2.E1.m1.1.1.1.1.3.1.3.3" xref="S2.E1.m1.1.1.1.1.3.1.3.3.cmml">T</mi></mrow></munder><msub id="S2.E1.m1.1.1.1.1.3.2" xref="S2.E1.m1.1.1.1.1.3.2.cmml"><mi id="S2.E1.m1.1.1.1.1.3.2.2" xref="S2.E1.m1.1.1.1.1.3.2.2.cmml">v</mi><msub id="S2.E1.m1.1.1.1.1.3.2.3" xref="S2.E1.m1.1.1.1.1.3.2.3.cmml"><mi id="S2.E1.m1.1.1.1.1.3.2.3.2" xref="S2.E1.m1.1.1.1.1.3.2.3.2.cmml">s</mi><mi id="S2.E1.m1.1.1.1.1.3.2.3.3" xref="S2.E1.m1.1.1.1.1.3.2.3.3.cmml">t</mi></msub></msub></mrow></mrow><mo id="S2.E1.m1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.1b"><apply id="S2.E1.m1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1"><times id="S2.E1.m1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1"></times><apply id="S2.E1.m1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.2"><divide id="S2.E1.m1.1.1.1.1.2.1.cmml" xref="S2.E1.m1.1.1.1.1.2"></divide><cn id="S2.E1.m1.1.1.1.1.2.2.cmml" type="integer" xref="S2.E1.m1.1.1.1.1.2.2">1</cn><ci id="S2.E1.m1.1.1.1.1.2.3.cmml" xref="S2.E1.m1.1.1.1.1.2.3">𝑇</ci></apply><apply id="S2.E1.m1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.3"><apply id="S2.E1.m1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.1.1.cmml" xref="S2.E1.m1.1.1.1.1.3.1">subscript</csymbol><sum id="S2.E1.m1.1.1.1.1.3.1.2.cmml" xref="S2.E1.m1.1.1.1.1.3.1.2"></sum><apply id="S2.E1.m1.1.1.1.1.3.1.3.cmml" xref="S2.E1.m1.1.1.1.1.3.1.3"><leq id="S2.E1.m1.1.1.1.1.3.1.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.1.3.1"></leq><ci id="S2.E1.m1.1.1.1.1.3.1.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.1.3.2">𝑡</ci><ci id="S2.E1.m1.1.1.1.1.3.1.3.3.cmml" xref="S2.E1.m1.1.1.1.1.3.1.3.3">𝑇</ci></apply></apply><apply id="S2.E1.m1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.2.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.3.2.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2">𝑣</ci><apply id="S2.E1.m1.1.1.1.1.3.2.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.2.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.3.2.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.2">𝑠</ci><ci id="S2.E1.m1.1.1.1.1.3.2.3.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.1c">\frac{1}{T}\sum_{t\leq T}v_{s_{t}},</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.1d">divide start_ARG 1 end_ARG start_ARG italic_T end_ARG ∑ start_POSTSUBSCRIPT italic_t ≤ italic_T end_POSTSUBSCRIPT italic_v start_POSTSUBSCRIPT italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS1.p1.3">where <math alttext="v_{s}" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.1"><semantics id="S2.SS1.p1.1.m1.1a"><msub id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml"><mi id="S2.SS1.p1.1.m1.1.1.2" xref="S2.SS1.p1.1.m1.1.1.2.cmml">v</mi><mi id="S2.SS1.p1.1.m1.1.1.3" xref="S2.SS1.p1.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><apply id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS1.p1.1.m1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.1.1.2">𝑣</ci><ci id="S2.SS1.p1.1.m1.1.1.3.cmml" xref="S2.SS1.p1.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">v_{s}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.1.m1.1d">italic_v start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> is the economic value from a successfully served search session <math alttext="s" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.1"><semantics id="S2.SS1.p1.2.m2.1a"><mi id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.2.m2.1d">italic_s</annotation></semantics></math>.
Our framework is flexible in the choice of the reward function and we discuss the fundamental trade-offs between multiple strategic marketplace long term reward choices, namely revenue-based, value per engagement and value per acquisition marketplaces.
The reward from a session trajectory is assumed to be non-negative. Although our framework, can be extended to account for negative rewards, we ignore it in our formalization.
We assume that the reward over search journeys is a stationary ergodic stochastic process.
By invoking Birkhoff’s ergodic theorem<cite class="ltx_cite ltx_citemacro_citep">(Durrett, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib10" title="">2019</a>)</cite>, with probability <math alttext="1" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.1"><semantics id="S2.SS1.p1.3.m3.1a"><mn id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><cn id="S2.SS1.p1.3.m3.1.1.cmml" type="integer" xref="S2.SS1.p1.3.m3.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">1</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.3.m3.1d">1</annotation></semantics></math>, the long term temporal average is same as the expected reward, i.e.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S2.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{E}_{\mathbf{s},\mathbf{v}}[\mathbf{v}_{\mathbf{s}}]," class="ltx_Math" display="block" id="S2.E2.m1.3"><semantics id="S2.E2.m1.3a"><mrow id="S2.E2.m1.3.3.1" xref="S2.E2.m1.3.3.1.1.cmml"><mrow id="S2.E2.m1.3.3.1.1" xref="S2.E2.m1.3.3.1.1.cmml"><msub id="S2.E2.m1.3.3.1.1.3" xref="S2.E2.m1.3.3.1.1.3.cmml"><mi id="S2.E2.m1.3.3.1.1.3.2" xref="S2.E2.m1.3.3.1.1.3.2.cmml">𝔼</mi><mrow id="S2.E2.m1.2.2.2.4" xref="S2.E2.m1.2.2.2.3.cmml"><mi id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">𝐬</mi><mo id="S2.E2.m1.2.2.2.4.1" xref="S2.E2.m1.2.2.2.3.cmml">,</mo><mi id="S2.E2.m1.2.2.2.2" xref="S2.E2.m1.2.2.2.2.cmml">𝐯</mi></mrow></msub><mo id="S2.E2.m1.3.3.1.1.2" xref="S2.E2.m1.3.3.1.1.2.cmml">⁢</mo><mrow id="S2.E2.m1.3.3.1.1.1.1" xref="S2.E2.m1.3.3.1.1.1.2.cmml"><mo id="S2.E2.m1.3.3.1.1.1.1.2" stretchy="false" xref="S2.E2.m1.3.3.1.1.1.2.1.cmml">[</mo><msub id="S2.E2.m1.3.3.1.1.1.1.1" xref="S2.E2.m1.3.3.1.1.1.1.1.cmml"><mi id="S2.E2.m1.3.3.1.1.1.1.1.2" xref="S2.E2.m1.3.3.1.1.1.1.1.2.cmml">𝐯</mi><mi id="S2.E2.m1.3.3.1.1.1.1.1.3" xref="S2.E2.m1.3.3.1.1.1.1.1.3.cmml">𝐬</mi></msub><mo id="S2.E2.m1.3.3.1.1.1.1.3" stretchy="false" xref="S2.E2.m1.3.3.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E2.m1.3.3.1.2" xref="S2.E2.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.3b"><apply id="S2.E2.m1.3.3.1.1.cmml" xref="S2.E2.m1.3.3.1"><times id="S2.E2.m1.3.3.1.1.2.cmml" xref="S2.E2.m1.3.3.1.1.2"></times><apply id="S2.E2.m1.3.3.1.1.3.cmml" xref="S2.E2.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.1.1.3.1.cmml" xref="S2.E2.m1.3.3.1.1.3">subscript</csymbol><ci id="S2.E2.m1.3.3.1.1.3.2.cmml" xref="S2.E2.m1.3.3.1.1.3.2">𝔼</ci><list id="S2.E2.m1.2.2.2.3.cmml" xref="S2.E2.m1.2.2.2.4"><ci id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1">𝐬</ci><ci id="S2.E2.m1.2.2.2.2.cmml" xref="S2.E2.m1.2.2.2.2">𝐯</ci></list></apply><apply id="S2.E2.m1.3.3.1.1.1.2.cmml" xref="S2.E2.m1.3.3.1.1.1.1"><csymbol cd="latexml" id="S2.E2.m1.3.3.1.1.1.2.1.cmml" xref="S2.E2.m1.3.3.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E2.m1.3.3.1.1.1.1.1.cmml" xref="S2.E2.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.1.1.1.1.1.1.cmml" xref="S2.E2.m1.3.3.1.1.1.1.1">subscript</csymbol><ci id="S2.E2.m1.3.3.1.1.1.1.1.2.cmml" xref="S2.E2.m1.3.3.1.1.1.1.1.2">𝐯</ci><ci id="S2.E2.m1.3.3.1.1.1.1.1.3.cmml" xref="S2.E2.m1.3.3.1.1.1.1.1.3">𝐬</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.3c">\mathbb{E}_{\mathbf{s},\mathbf{v}}[\mathbf{v}_{\mathbf{s}}],</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m1.3d">blackboard_E start_POSTSUBSCRIPT bold_s , bold_v end_POSTSUBSCRIPT [ bold_v start_POSTSUBSCRIPT bold_s end_POSTSUBSCRIPT ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS1.p1.5">where the expectation is taken with respect to the randomness in the session context and reward distribution.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">While our formalization can naturally be extended to search journeys with complex goals, we focus on a typical e-commerce purchase decision making scenario of session trajectory a with a single product intent, ignoring sessions with multi-product purchase intent, as well as informational and navigational search sessions.
We recognize that users’ decisions are impacted by multiple independently optimized decision making systems, but we are oblivious to potential interactions of the ranking policy with these systems, specifically to the closely related query understanding and candidate retrieval policies.
We only focus on policy learning for search result pages with a single layer presentation semantic where the action of the ranking policy is the permutation/ranking of a largely homogeneous set of <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.1.1">comparable items</span> for a flat single-layered presentation of the results, ignoring the multiplicity of user’s search intent and diversity considerations for the result set.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S2.SS1.p3">
<p class="ltx_p" id="S2.SS1.p3.1">We cast the problem into a Bayesian decision making framework with a user-focused perspective on the definition of success upon a ranking action.
The ranking policy aims to increase the expected number of engagements on items that meet the user intent, and the reward is proportional to the likelihood of a success event(non-zero reward) from the user interactions on the search results page produced by the ranking policy.
A crucial aspect of this framework is to account for distribution shifts in observational data, i.e. the distinction between the distribution of the logged search activity data that the policy is trained and the inference time distribution of user events.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Success From a Ranking Intervention</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.9">Given a search query <math alttext="q" class="ltx_Math" display="inline" id="S2.SS2.p1.1.m1.1"><semantics id="S2.SS2.p1.1.m1.1a"><mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.1.m1.1d">italic_q</annotation></semantics></math> within a session context <math alttext="s" class="ltx_Math" display="inline" id="S2.SS2.p1.2.m2.1"><semantics id="S2.SS2.p1.2.m2.1a"><mi id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><ci id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.2.m2.1d">italic_s</annotation></semantics></math>, the ranking policy <math alttext="\pi:\mathcal{D}_{q}\to\{1,\cdots,N\}" class="ltx_Math" display="inline" id="S2.SS2.p1.3.m3.3"><semantics id="S2.SS2.p1.3.m3.3a"><mrow id="S2.SS2.p1.3.m3.3.4" xref="S2.SS2.p1.3.m3.3.4.cmml"><mi id="S2.SS2.p1.3.m3.3.4.2" xref="S2.SS2.p1.3.m3.3.4.2.cmml">π</mi><mo id="S2.SS2.p1.3.m3.3.4.1" lspace="0.278em" rspace="0.278em" xref="S2.SS2.p1.3.m3.3.4.1.cmml">:</mo><mrow id="S2.SS2.p1.3.m3.3.4.3" xref="S2.SS2.p1.3.m3.3.4.3.cmml"><msub id="S2.SS2.p1.3.m3.3.4.3.2" xref="S2.SS2.p1.3.m3.3.4.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.3.m3.3.4.3.2.2" xref="S2.SS2.p1.3.m3.3.4.3.2.2.cmml">𝒟</mi><mi id="S2.SS2.p1.3.m3.3.4.3.2.3" xref="S2.SS2.p1.3.m3.3.4.3.2.3.cmml">q</mi></msub><mo id="S2.SS2.p1.3.m3.3.4.3.1" stretchy="false" xref="S2.SS2.p1.3.m3.3.4.3.1.cmml">→</mo><mrow id="S2.SS2.p1.3.m3.3.4.3.3.2" xref="S2.SS2.p1.3.m3.3.4.3.3.1.cmml"><mo id="S2.SS2.p1.3.m3.3.4.3.3.2.1" stretchy="false" xref="S2.SS2.p1.3.m3.3.4.3.3.1.cmml">{</mo><mn id="S2.SS2.p1.3.m3.1.1" xref="S2.SS2.p1.3.m3.1.1.cmml">1</mn><mo id="S2.SS2.p1.3.m3.3.4.3.3.2.2" xref="S2.SS2.p1.3.m3.3.4.3.3.1.cmml">,</mo><mi id="S2.SS2.p1.3.m3.2.2" mathvariant="normal" xref="S2.SS2.p1.3.m3.2.2.cmml">⋯</mi><mo id="S2.SS2.p1.3.m3.3.4.3.3.2.3" xref="S2.SS2.p1.3.m3.3.4.3.3.1.cmml">,</mo><mi id="S2.SS2.p1.3.m3.3.3" xref="S2.SS2.p1.3.m3.3.3.cmml">N</mi><mo id="S2.SS2.p1.3.m3.3.4.3.3.2.4" stretchy="false" xref="S2.SS2.p1.3.m3.3.4.3.3.1.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m3.3b"><apply id="S2.SS2.p1.3.m3.3.4.cmml" xref="S2.SS2.p1.3.m3.3.4"><ci id="S2.SS2.p1.3.m3.3.4.1.cmml" xref="S2.SS2.p1.3.m3.3.4.1">:</ci><ci id="S2.SS2.p1.3.m3.3.4.2.cmml" xref="S2.SS2.p1.3.m3.3.4.2">𝜋</ci><apply id="S2.SS2.p1.3.m3.3.4.3.cmml" xref="S2.SS2.p1.3.m3.3.4.3"><ci id="S2.SS2.p1.3.m3.3.4.3.1.cmml" xref="S2.SS2.p1.3.m3.3.4.3.1">→</ci><apply id="S2.SS2.p1.3.m3.3.4.3.2.cmml" xref="S2.SS2.p1.3.m3.3.4.3.2"><csymbol cd="ambiguous" id="S2.SS2.p1.3.m3.3.4.3.2.1.cmml" xref="S2.SS2.p1.3.m3.3.4.3.2">subscript</csymbol><ci id="S2.SS2.p1.3.m3.3.4.3.2.2.cmml" xref="S2.SS2.p1.3.m3.3.4.3.2.2">𝒟</ci><ci id="S2.SS2.p1.3.m3.3.4.3.2.3.cmml" xref="S2.SS2.p1.3.m3.3.4.3.2.3">𝑞</ci></apply><set id="S2.SS2.p1.3.m3.3.4.3.3.1.cmml" xref="S2.SS2.p1.3.m3.3.4.3.3.2"><cn id="S2.SS2.p1.3.m3.1.1.cmml" type="integer" xref="S2.SS2.p1.3.m3.1.1">1</cn><ci id="S2.SS2.p1.3.m3.2.2.cmml" xref="S2.SS2.p1.3.m3.2.2">⋯</ci><ci id="S2.SS2.p1.3.m3.3.3.cmml" xref="S2.SS2.p1.3.m3.3.3">𝑁</ci></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.3.m3.3c">\pi:\mathcal{D}_{q}\to\{1,\cdots,N\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.3.m3.3d">italic_π : caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT → { 1 , ⋯ , italic_N }</annotation></semantics></math> maps a candidate item d from the retrieved set <math alttext="\mathcal{D}_{q}" class="ltx_Math" display="inline" id="S2.SS2.p1.4.m4.1"><semantics id="S2.SS2.p1.4.m4.1a"><msub id="S2.SS2.p1.4.m4.1.1" xref="S2.SS2.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.4.m4.1.1.2" xref="S2.SS2.p1.4.m4.1.1.2.cmml">𝒟</mi><mi id="S2.SS2.p1.4.m4.1.1.3" xref="S2.SS2.p1.4.m4.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.4.m4.1b"><apply id="S2.SS2.p1.4.m4.1.1.cmml" xref="S2.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.4.m4.1.1.1.cmml" xref="S2.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS2.p1.4.m4.1.1.2.cmml" xref="S2.SS2.p1.4.m4.1.1.2">𝒟</ci><ci id="S2.SS2.p1.4.m4.1.1.3.cmml" xref="S2.SS2.p1.4.m4.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.4.m4.1c">\mathcal{D}_{q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.4.m4.1d">caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math> to a slot <math alttext="\pi(d)" class="ltx_Math" display="inline" id="S2.SS2.p1.5.m5.1"><semantics id="S2.SS2.p1.5.m5.1a"><mrow id="S2.SS2.p1.5.m5.1.2" xref="S2.SS2.p1.5.m5.1.2.cmml"><mi id="S2.SS2.p1.5.m5.1.2.2" xref="S2.SS2.p1.5.m5.1.2.2.cmml">π</mi><mo id="S2.SS2.p1.5.m5.1.2.1" xref="S2.SS2.p1.5.m5.1.2.1.cmml">⁢</mo><mrow id="S2.SS2.p1.5.m5.1.2.3.2" xref="S2.SS2.p1.5.m5.1.2.cmml"><mo id="S2.SS2.p1.5.m5.1.2.3.2.1" stretchy="false" xref="S2.SS2.p1.5.m5.1.2.cmml">(</mo><mi id="S2.SS2.p1.5.m5.1.1" xref="S2.SS2.p1.5.m5.1.1.cmml">d</mi><mo id="S2.SS2.p1.5.m5.1.2.3.2.2" stretchy="false" xref="S2.SS2.p1.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.5.m5.1b"><apply id="S2.SS2.p1.5.m5.1.2.cmml" xref="S2.SS2.p1.5.m5.1.2"><times id="S2.SS2.p1.5.m5.1.2.1.cmml" xref="S2.SS2.p1.5.m5.1.2.1"></times><ci id="S2.SS2.p1.5.m5.1.2.2.cmml" xref="S2.SS2.p1.5.m5.1.2.2">𝜋</ci><ci id="S2.SS2.p1.5.m5.1.1.cmml" xref="S2.SS2.p1.5.m5.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.5.m5.1c">\pi(d)</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.5.m5.1d">italic_π ( italic_d )</annotation></semantics></math>.
The notion of success with respect to a slotting <math alttext="\pi(\mathcal{D}_{q})" class="ltx_Math" display="inline" id="S2.SS2.p1.6.m6.1"><semantics id="S2.SS2.p1.6.m6.1a"><mrow id="S2.SS2.p1.6.m6.1.1" xref="S2.SS2.p1.6.m6.1.1.cmml"><mi id="S2.SS2.p1.6.m6.1.1.3" xref="S2.SS2.p1.6.m6.1.1.3.cmml">π</mi><mo id="S2.SS2.p1.6.m6.1.1.2" xref="S2.SS2.p1.6.m6.1.1.2.cmml">⁢</mo><mrow id="S2.SS2.p1.6.m6.1.1.1.1" xref="S2.SS2.p1.6.m6.1.1.1.1.1.cmml"><mo id="S2.SS2.p1.6.m6.1.1.1.1.2" stretchy="false" xref="S2.SS2.p1.6.m6.1.1.1.1.1.cmml">(</mo><msub id="S2.SS2.p1.6.m6.1.1.1.1.1" xref="S2.SS2.p1.6.m6.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.6.m6.1.1.1.1.1.2" xref="S2.SS2.p1.6.m6.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S2.SS2.p1.6.m6.1.1.1.1.1.3" xref="S2.SS2.p1.6.m6.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S2.SS2.p1.6.m6.1.1.1.1.3" stretchy="false" xref="S2.SS2.p1.6.m6.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.6.m6.1b"><apply id="S2.SS2.p1.6.m6.1.1.cmml" xref="S2.SS2.p1.6.m6.1.1"><times id="S2.SS2.p1.6.m6.1.1.2.cmml" xref="S2.SS2.p1.6.m6.1.1.2"></times><ci id="S2.SS2.p1.6.m6.1.1.3.cmml" xref="S2.SS2.p1.6.m6.1.1.3">𝜋</ci><apply id="S2.SS2.p1.6.m6.1.1.1.1.1.cmml" xref="S2.SS2.p1.6.m6.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.6.m6.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.6.m6.1.1.1.1">subscript</csymbol><ci id="S2.SS2.p1.6.m6.1.1.1.1.1.2.cmml" xref="S2.SS2.p1.6.m6.1.1.1.1.1.2">𝒟</ci><ci id="S2.SS2.p1.6.m6.1.1.1.1.1.3.cmml" xref="S2.SS2.p1.6.m6.1.1.1.1.1.3">𝑞</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.6.m6.1c">\pi(\mathcal{D}_{q})</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.6.m6.1d">italic_π ( caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT )</annotation></semantics></math> of the items on the SERP <math alttext="q" class="ltx_Math" display="inline" id="S2.SS2.p1.7.m7.1"><semantics id="S2.SS2.p1.7.m7.1a"><mi id="S2.SS2.p1.7.m7.1.1" xref="S2.SS2.p1.7.m7.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.7.m7.1b"><ci id="S2.SS2.p1.7.m7.1.1.cmml" xref="S2.SS2.p1.7.m7.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.7.m7.1c">q</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.7.m7.1d">italic_q</annotation></semantics></math> is defined based on the effectiveness of the policy in driving user interaction events(Click).
Specifically, the objective of the ranking policy on a given ranked SERP is to increase the expected number of engagements on desirable items(suitably defined) <math alttext="c_{\pi(\mathcal{D}_{q})}" class="ltx_Math" display="inline" id="S2.SS2.p1.8.m8.1"><semantics id="S2.SS2.p1.8.m8.1a"><msub id="S2.SS2.p1.8.m8.1.2" xref="S2.SS2.p1.8.m8.1.2.cmml"><mi id="S2.SS2.p1.8.m8.1.2.2" xref="S2.SS2.p1.8.m8.1.2.2.cmml">c</mi><mrow id="S2.SS2.p1.8.m8.1.1.1" xref="S2.SS2.p1.8.m8.1.1.1.cmml"><mi id="S2.SS2.p1.8.m8.1.1.1.3" xref="S2.SS2.p1.8.m8.1.1.1.3.cmml">π</mi><mo id="S2.SS2.p1.8.m8.1.1.1.2" xref="S2.SS2.p1.8.m8.1.1.1.2.cmml">⁢</mo><mrow id="S2.SS2.p1.8.m8.1.1.1.1.1" xref="S2.SS2.p1.8.m8.1.1.1.1.1.1.cmml"><mo id="S2.SS2.p1.8.m8.1.1.1.1.1.2" stretchy="false" xref="S2.SS2.p1.8.m8.1.1.1.1.1.1.cmml">(</mo><msub id="S2.SS2.p1.8.m8.1.1.1.1.1.1" xref="S2.SS2.p1.8.m8.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.8.m8.1.1.1.1.1.1.2" xref="S2.SS2.p1.8.m8.1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S2.SS2.p1.8.m8.1.1.1.1.1.1.3" xref="S2.SS2.p1.8.m8.1.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S2.SS2.p1.8.m8.1.1.1.1.1.3" stretchy="false" xref="S2.SS2.p1.8.m8.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.8.m8.1b"><apply id="S2.SS2.p1.8.m8.1.2.cmml" xref="S2.SS2.p1.8.m8.1.2"><csymbol cd="ambiguous" id="S2.SS2.p1.8.m8.1.2.1.cmml" xref="S2.SS2.p1.8.m8.1.2">subscript</csymbol><ci id="S2.SS2.p1.8.m8.1.2.2.cmml" xref="S2.SS2.p1.8.m8.1.2.2">𝑐</ci><apply id="S2.SS2.p1.8.m8.1.1.1.cmml" xref="S2.SS2.p1.8.m8.1.1.1"><times id="S2.SS2.p1.8.m8.1.1.1.2.cmml" xref="S2.SS2.p1.8.m8.1.1.1.2"></times><ci id="S2.SS2.p1.8.m8.1.1.1.3.cmml" xref="S2.SS2.p1.8.m8.1.1.1.3">𝜋</ci><apply id="S2.SS2.p1.8.m8.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.8.m8.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.8.m8.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.8.m8.1.1.1.1.1">subscript</csymbol><ci id="S2.SS2.p1.8.m8.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p1.8.m8.1.1.1.1.1.1.2">𝒟</ci><ci id="S2.SS2.p1.8.m8.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p1.8.m8.1.1.1.1.1.1.3">𝑞</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.8.m8.1c">c_{\pi(\mathcal{D}_{q})}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.8.m8.1d">italic_c start_POSTSUBSCRIPT italic_π ( caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT</annotation></semantics></math> given the session context upon issuing the query <math alttext="s_{\prec q}" class="ltx_Math" display="inline" id="S2.SS2.p1.9.m9.1"><semantics id="S2.SS2.p1.9.m9.1a"><msub id="S2.SS2.p1.9.m9.1.1" xref="S2.SS2.p1.9.m9.1.1.cmml"><mi id="S2.SS2.p1.9.m9.1.1.2" xref="S2.SS2.p1.9.m9.1.1.2.cmml">s</mi><mrow id="S2.SS2.p1.9.m9.1.1.3" xref="S2.SS2.p1.9.m9.1.1.3.cmml"><mi id="S2.SS2.p1.9.m9.1.1.3.2" xref="S2.SS2.p1.9.m9.1.1.3.2.cmml"></mi><mo id="S2.SS2.p1.9.m9.1.1.3.1" xref="S2.SS2.p1.9.m9.1.1.3.1.cmml">≺</mo><mi id="S2.SS2.p1.9.m9.1.1.3.3" xref="S2.SS2.p1.9.m9.1.1.3.3.cmml">q</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.9.m9.1b"><apply id="S2.SS2.p1.9.m9.1.1.cmml" xref="S2.SS2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.9.m9.1.1.1.cmml" xref="S2.SS2.p1.9.m9.1.1">subscript</csymbol><ci id="S2.SS2.p1.9.m9.1.1.2.cmml" xref="S2.SS2.p1.9.m9.1.1.2">𝑠</ci><apply id="S2.SS2.p1.9.m9.1.1.3.cmml" xref="S2.SS2.p1.9.m9.1.1.3"><csymbol cd="latexml" id="S2.SS2.p1.9.m9.1.1.3.1.cmml" xref="S2.SS2.p1.9.m9.1.1.3.1">precedes</csymbol><csymbol cd="latexml" id="S2.SS2.p1.9.m9.1.1.3.2.cmml" xref="S2.SS2.p1.9.m9.1.1.3.2">absent</csymbol><ci id="S2.SS2.p1.9.m9.1.1.3.3.cmml" xref="S2.SS2.p1.9.m9.1.1.3.3">𝑞</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.9.m9.1c">s_{\prec q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.9.m9.1d">italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT</annotation></semantics></math>; i.e.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S2.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{q})}|s_{\prec q}]," class="ltx_Math" display="block" id="S2.E3.m1.2"><semantics id="S2.E3.m1.2a"><mrow id="S2.E3.m1.2.2.1" xref="S2.E3.m1.2.2.1.1.cmml"><mrow id="S2.E3.m1.2.2.1.1" xref="S2.E3.m1.2.2.1.1.cmml"><mi id="S2.E3.m1.2.2.1.1.3" xref="S2.E3.m1.2.2.1.1.3.cmml">𝔼</mi><mo id="S2.E3.m1.2.2.1.1.2" xref="S2.E3.m1.2.2.1.1.2.cmml">⁢</mo><mrow id="S2.E3.m1.2.2.1.1.1.1" xref="S2.E3.m1.2.2.1.1.1.2.cmml"><mo id="S2.E3.m1.2.2.1.1.1.1.2" stretchy="false" xref="S2.E3.m1.2.2.1.1.1.2.1.cmml">[</mo><mrow id="S2.E3.m1.2.2.1.1.1.1.1" xref="S2.E3.m1.2.2.1.1.1.1.1.cmml"><msub id="S2.E3.m1.2.2.1.1.1.1.1.2" xref="S2.E3.m1.2.2.1.1.1.1.1.2.cmml"><mi id="S2.E3.m1.2.2.1.1.1.1.1.2.2" xref="S2.E3.m1.2.2.1.1.1.1.1.2.2.cmml">𝐜</mi><mrow id="S2.E3.m1.1.1.1" xref="S2.E3.m1.1.1.1.cmml"><mi id="S2.E3.m1.1.1.1.3" xref="S2.E3.m1.1.1.1.3.cmml">π</mi><mo id="S2.E3.m1.1.1.1.2" xref="S2.E3.m1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E3.m1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.1.cmml"><mo id="S2.E3.m1.1.1.1.1.1.2" stretchy="false" xref="S2.E3.m1.1.1.1.1.1.1.cmml">(</mo><msub id="S2.E3.m1.1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.1.1.1.1.1.1.2" xref="S2.E3.m1.1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S2.E3.m1.1.1.1.1.1.1.3" xref="S2.E3.m1.1.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S2.E3.m1.1.1.1.1.1.3" stretchy="false" xref="S2.E3.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S2.E3.m1.2.2.1.1.1.1.1.1" xref="S2.E3.m1.2.2.1.1.1.1.1.1.cmml">|</mo><msub id="S2.E3.m1.2.2.1.1.1.1.1.3" xref="S2.E3.m1.2.2.1.1.1.1.1.3.cmml"><mi id="S2.E3.m1.2.2.1.1.1.1.1.3.2" xref="S2.E3.m1.2.2.1.1.1.1.1.3.2.cmml">s</mi><mrow id="S2.E3.m1.2.2.1.1.1.1.1.3.3" xref="S2.E3.m1.2.2.1.1.1.1.1.3.3.cmml"><mi id="S2.E3.m1.2.2.1.1.1.1.1.3.3.2" xref="S2.E3.m1.2.2.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S2.E3.m1.2.2.1.1.1.1.1.3.3.1" xref="S2.E3.m1.2.2.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S2.E3.m1.2.2.1.1.1.1.1.3.3.3" xref="S2.E3.m1.2.2.1.1.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S2.E3.m1.2.2.1.1.1.1.3" stretchy="false" xref="S2.E3.m1.2.2.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E3.m1.2.2.1.2" xref="S2.E3.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.2b"><apply id="S2.E3.m1.2.2.1.1.cmml" xref="S2.E3.m1.2.2.1"><times id="S2.E3.m1.2.2.1.1.2.cmml" xref="S2.E3.m1.2.2.1.1.2"></times><ci id="S2.E3.m1.2.2.1.1.3.cmml" xref="S2.E3.m1.2.2.1.1.3">𝔼</ci><apply id="S2.E3.m1.2.2.1.1.1.2.cmml" xref="S2.E3.m1.2.2.1.1.1.1"><csymbol cd="latexml" id="S2.E3.m1.2.2.1.1.1.2.1.cmml" xref="S2.E3.m1.2.2.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E3.m1.2.2.1.1.1.1.1.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S2.E3.m1.2.2.1.1.1.1.1.1.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.1">conditional</csymbol><apply id="S2.E3.m1.2.2.1.1.1.1.1.2.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E3.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.2">subscript</csymbol><ci id="S2.E3.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.2.2">𝐜</ci><apply id="S2.E3.m1.1.1.1.cmml" xref="S2.E3.m1.1.1.1"><times id="S2.E3.m1.1.1.1.2.cmml" xref="S2.E3.m1.1.1.1.2"></times><ci id="S2.E3.m1.1.1.1.3.cmml" xref="S2.E3.m1.1.1.1.3">𝜋</ci><apply id="S2.E3.m1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1">subscript</csymbol><ci id="S2.E3.m1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.1.1.1.1.1.1.2">𝒟</ci><ci id="S2.E3.m1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.1.1.1.1.1.1.3">𝑞</ci></apply></apply></apply><apply id="S2.E3.m1.2.2.1.1.1.1.1.3.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E3.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.3.2">𝑠</ci><apply id="S2.E3.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S2.E3.m1.2.2.1.1.1.1.1.3.3.1.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S2.E3.m1.2.2.1.1.1.1.1.3.3.2.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S2.E3.m1.2.2.1.1.1.1.1.3.3.3.cmml" xref="S2.E3.m1.2.2.1.1.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.2c">\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{q})}|s_{\prec q}],</annotation><annotation encoding="application/x-llamapun" id="S2.E3.m1.2d">blackboard_E [ bold_c start_POSTSUBSCRIPT italic_π ( caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS2.p1.11">where the expectation is with respect to the randomness in user preferences and browsing behaviors in the given query context and possibly the randomness in the ranking policy(if stochastic). Note that <math alttext="s_{\prec q}" class="ltx_Math" display="inline" id="S2.SS2.p1.10.m1.1"><semantics id="S2.SS2.p1.10.m1.1a"><msub id="S2.SS2.p1.10.m1.1.1" xref="S2.SS2.p1.10.m1.1.1.cmml"><mi id="S2.SS2.p1.10.m1.1.1.2" xref="S2.SS2.p1.10.m1.1.1.2.cmml">s</mi><mrow id="S2.SS2.p1.10.m1.1.1.3" xref="S2.SS2.p1.10.m1.1.1.3.cmml"><mi id="S2.SS2.p1.10.m1.1.1.3.2" xref="S2.SS2.p1.10.m1.1.1.3.2.cmml"></mi><mo id="S2.SS2.p1.10.m1.1.1.3.1" xref="S2.SS2.p1.10.m1.1.1.3.1.cmml">≺</mo><mi id="S2.SS2.p1.10.m1.1.1.3.3" xref="S2.SS2.p1.10.m1.1.1.3.3.cmml">q</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.10.m1.1b"><apply id="S2.SS2.p1.10.m1.1.1.cmml" xref="S2.SS2.p1.10.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.10.m1.1.1.1.cmml" xref="S2.SS2.p1.10.m1.1.1">subscript</csymbol><ci id="S2.SS2.p1.10.m1.1.1.2.cmml" xref="S2.SS2.p1.10.m1.1.1.2">𝑠</ci><apply id="S2.SS2.p1.10.m1.1.1.3.cmml" xref="S2.SS2.p1.10.m1.1.1.3"><csymbol cd="latexml" id="S2.SS2.p1.10.m1.1.1.3.1.cmml" xref="S2.SS2.p1.10.m1.1.1.3.1">precedes</csymbol><csymbol cd="latexml" id="S2.SS2.p1.10.m1.1.1.3.2.cmml" xref="S2.SS2.p1.10.m1.1.1.3.2">absent</csymbol><ci id="S2.SS2.p1.10.m1.1.1.3.3.cmml" xref="S2.SS2.p1.10.m1.1.1.3.3">𝑞</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.10.m1.1c">s_{\prec q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.10.m1.1d">italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT</annotation></semantics></math> subsumes all the relevant contextual information upon issuing the query <math alttext="q" class="ltx_Math" display="inline" id="S2.SS2.p1.11.m2.1"><semantics id="S2.SS2.p1.11.m2.1a"><mi id="S2.SS2.p1.11.m2.1.1" xref="S2.SS2.p1.11.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.11.m2.1b"><ci id="S2.SS2.p1.11.m2.1.1.cmml" xref="S2.SS2.p1.11.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.11.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.11.m2.1d">italic_q</annotation></semantics></math>; including all the queries and the corresponding surfaced items, as well as the engaged items prior to the current query context.
In the subsequent sections, we will make probabilistic assumptions on users’ browsing and click behaviors and build effective policy dependent empirical estimators.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3. </span>Success From a User Session</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.4">The notion of success with respect to a user session is defined based on interaction events on desirable items across all interventions by the marketplace within a user journey.
Given the per query ranking objective <math alttext="\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{q})}|s_{\prec q}]" class="ltx_Math" display="inline" id="S2.SS3.p1.1.m1.2"><semantics id="S2.SS3.p1.1.m1.2a"><mrow id="S2.SS3.p1.1.m1.2.2" xref="S2.SS3.p1.1.m1.2.2.cmml"><mi id="S2.SS3.p1.1.m1.2.2.3" xref="S2.SS3.p1.1.m1.2.2.3.cmml">𝔼</mi><mo id="S2.SS3.p1.1.m1.2.2.2" xref="S2.SS3.p1.1.m1.2.2.2.cmml">⁢</mo><mrow id="S2.SS3.p1.1.m1.2.2.1.1" xref="S2.SS3.p1.1.m1.2.2.1.2.cmml"><mo id="S2.SS3.p1.1.m1.2.2.1.1.2" stretchy="false" xref="S2.SS3.p1.1.m1.2.2.1.2.1.cmml">[</mo><mrow id="S2.SS3.p1.1.m1.2.2.1.1.1" xref="S2.SS3.p1.1.m1.2.2.1.1.1.cmml"><msub id="S2.SS3.p1.1.m1.2.2.1.1.1.2" xref="S2.SS3.p1.1.m1.2.2.1.1.1.2.cmml"><mi id="S2.SS3.p1.1.m1.2.2.1.1.1.2.2" xref="S2.SS3.p1.1.m1.2.2.1.1.1.2.2.cmml">𝐜</mi><mrow id="S2.SS3.p1.1.m1.1.1.1" xref="S2.SS3.p1.1.m1.1.1.1.cmml"><mi id="S2.SS3.p1.1.m1.1.1.1.3" xref="S2.SS3.p1.1.m1.1.1.1.3.cmml">π</mi><mo id="S2.SS3.p1.1.m1.1.1.1.2" xref="S2.SS3.p1.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S2.SS3.p1.1.m1.1.1.1.1.1" xref="S2.SS3.p1.1.m1.1.1.1.1.1.1.cmml"><mo id="S2.SS3.p1.1.m1.1.1.1.1.1.2" stretchy="false" xref="S2.SS3.p1.1.m1.1.1.1.1.1.1.cmml">(</mo><msub id="S2.SS3.p1.1.m1.1.1.1.1.1.1" xref="S2.SS3.p1.1.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS3.p1.1.m1.1.1.1.1.1.1.2" xref="S2.SS3.p1.1.m1.1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S2.SS3.p1.1.m1.1.1.1.1.1.1.3" xref="S2.SS3.p1.1.m1.1.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S2.SS3.p1.1.m1.1.1.1.1.1.3" stretchy="false" xref="S2.SS3.p1.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S2.SS3.p1.1.m1.2.2.1.1.1.1" xref="S2.SS3.p1.1.m1.2.2.1.1.1.1.cmml">|</mo><msub id="S2.SS3.p1.1.m1.2.2.1.1.1.3" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.cmml"><mi id="S2.SS3.p1.1.m1.2.2.1.1.1.3.2" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.2.cmml">s</mi><mrow id="S2.SS3.p1.1.m1.2.2.1.1.1.3.3" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.cmml"><mi id="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.2" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.2.cmml"></mi><mo id="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.1" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.1.cmml">≺</mo><mi id="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.3" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S2.SS3.p1.1.m1.2.2.1.1.3" stretchy="false" xref="S2.SS3.p1.1.m1.2.2.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.2b"><apply id="S2.SS3.p1.1.m1.2.2.cmml" xref="S2.SS3.p1.1.m1.2.2"><times id="S2.SS3.p1.1.m1.2.2.2.cmml" xref="S2.SS3.p1.1.m1.2.2.2"></times><ci id="S2.SS3.p1.1.m1.2.2.3.cmml" xref="S2.SS3.p1.1.m1.2.2.3">𝔼</ci><apply id="S2.SS3.p1.1.m1.2.2.1.2.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1"><csymbol cd="latexml" id="S2.SS3.p1.1.m1.2.2.1.2.1.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.2">delimited-[]</csymbol><apply id="S2.SS3.p1.1.m1.2.2.1.1.1.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1"><csymbol cd="latexml" id="S2.SS3.p1.1.m1.2.2.1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.1">conditional</csymbol><apply id="S2.SS3.p1.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.2.2.1.1.1.2.1.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.2">subscript</csymbol><ci id="S2.SS3.p1.1.m1.2.2.1.1.1.2.2.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.2.2">𝐜</ci><apply id="S2.SS3.p1.1.m1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1.1"><times id="S2.SS3.p1.1.m1.1.1.1.2.cmml" xref="S2.SS3.p1.1.m1.1.1.1.2"></times><ci id="S2.SS3.p1.1.m1.1.1.1.3.cmml" xref="S2.SS3.p1.1.m1.1.1.1.3">𝜋</ci><apply id="S2.SS3.p1.1.m1.1.1.1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS3.p1.1.m1.1.1.1.1.1.1.2.cmml" xref="S2.SS3.p1.1.m1.1.1.1.1.1.1.2">𝒟</ci><ci id="S2.SS3.p1.1.m1.1.1.1.1.1.1.3.cmml" xref="S2.SS3.p1.1.m1.1.1.1.1.1.1.3">𝑞</ci></apply></apply></apply><apply id="S2.SS3.p1.1.m1.2.2.1.1.1.3.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.2.2.1.1.1.3.1.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S2.SS3.p1.1.m1.2.2.1.1.1.3.2.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.2">𝑠</ci><apply id="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.3"><csymbol cd="latexml" id="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.1.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.2.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.2">absent</csymbol><ci id="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.3.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.2c">\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{q})}|s_{\prec q}]</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.1.m1.2d">blackboard_E [ bold_c start_POSTSUBSCRIPT italic_π ( caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT ]</annotation></semantics></math> (i.e. the expected number of desirable engagements from the SERP given the session context upon issuing the query), the success from the overall user session is shaped by the distribution <math alttext="\mathbb{P}(q|s)" class="ltx_Math" display="inline" id="S2.SS3.p1.2.m2.1"><semantics id="S2.SS3.p1.2.m2.1a"><mrow id="S2.SS3.p1.2.m2.1.1" xref="S2.SS3.p1.2.m2.1.1.cmml"><mi id="S2.SS3.p1.2.m2.1.1.3" xref="S2.SS3.p1.2.m2.1.1.3.cmml">ℙ</mi><mo id="S2.SS3.p1.2.m2.1.1.2" xref="S2.SS3.p1.2.m2.1.1.2.cmml">⁢</mo><mrow id="S2.SS3.p1.2.m2.1.1.1.1" xref="S2.SS3.p1.2.m2.1.1.1.1.1.cmml"><mo id="S2.SS3.p1.2.m2.1.1.1.1.2" stretchy="false" xref="S2.SS3.p1.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS3.p1.2.m2.1.1.1.1.1" xref="S2.SS3.p1.2.m2.1.1.1.1.1.cmml"><mi id="S2.SS3.p1.2.m2.1.1.1.1.1.2" xref="S2.SS3.p1.2.m2.1.1.1.1.1.2.cmml">q</mi><mo fence="false" id="S2.SS3.p1.2.m2.1.1.1.1.1.1" xref="S2.SS3.p1.2.m2.1.1.1.1.1.1.cmml">|</mo><mi id="S2.SS3.p1.2.m2.1.1.1.1.1.3" xref="S2.SS3.p1.2.m2.1.1.1.1.1.3.cmml">s</mi></mrow><mo id="S2.SS3.p1.2.m2.1.1.1.1.3" stretchy="false" xref="S2.SS3.p1.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m2.1b"><apply id="S2.SS3.p1.2.m2.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1"><times id="S2.SS3.p1.2.m2.1.1.2.cmml" xref="S2.SS3.p1.2.m2.1.1.2"></times><ci id="S2.SS3.p1.2.m2.1.1.3.cmml" xref="S2.SS3.p1.2.m2.1.1.3">ℙ</ci><apply id="S2.SS3.p1.2.m2.1.1.1.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1"><csymbol cd="latexml" id="S2.SS3.p1.2.m2.1.1.1.1.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.1.1">conditional</csymbol><ci id="S2.SS3.p1.2.m2.1.1.1.1.1.2.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.1.2">𝑞</ci><ci id="S2.SS3.p1.2.m2.1.1.1.1.1.3.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.1.3">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m2.1c">\mathbb{P}(q|s)</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.2.m2.1d">blackboard_P ( italic_q | italic_s )</annotation></semantics></math> that signifies the contribution of the interactions on the ranked SERP <math alttext="q" class="ltx_Math" display="inline" id="S2.SS3.p1.3.m3.1"><semantics id="S2.SS3.p1.3.m3.1a"><mi id="S2.SS3.p1.3.m3.1.1" xref="S2.SS3.p1.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.3.m3.1b"><ci id="S2.SS3.p1.3.m3.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.3.m3.1c">q</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.3.m3.1d">italic_q</annotation></semantics></math> to the overall success of the user search session <math alttext="s" class="ltx_Math" display="inline" id="S2.SS3.p1.4.m4.1"><semantics id="S2.SS3.p1.4.m4.1a"><mi id="S2.SS3.p1.4.m4.1.1" xref="S2.SS3.p1.4.m4.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.4.m4.1b"><ci id="S2.SS3.p1.4.m4.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.4.m4.1c">s</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.4.m4.1d">italic_s</annotation></semantics></math>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S2.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{E}_{\mathbf{q}\sim\mathbb{P}(q|s_{\prec q})}[\mathbb{E}[\mathbf{c}_{%
\pi(\mathcal{D}_{\mathbf{q}})}|s_{\prec\mathbf{q}}]]," class="ltx_Math" display="block" id="S2.E4.m1.3"><semantics id="S2.E4.m1.3a"><mrow id="S2.E4.m1.3.3.1" xref="S2.E4.m1.3.3.1.1.cmml"><mrow id="S2.E4.m1.3.3.1.1" xref="S2.E4.m1.3.3.1.1.cmml"><msub id="S2.E4.m1.3.3.1.1.3" xref="S2.E4.m1.3.3.1.1.3.cmml"><mi id="S2.E4.m1.3.3.1.1.3.2" xref="S2.E4.m1.3.3.1.1.3.2.cmml">𝔼</mi><mrow id="S2.E4.m1.1.1.1" xref="S2.E4.m1.1.1.1.cmml"><mi id="S2.E4.m1.1.1.1.3" xref="S2.E4.m1.1.1.1.3.cmml">𝐪</mi><mo id="S2.E4.m1.1.1.1.2" xref="S2.E4.m1.1.1.1.2.cmml">∼</mo><mrow id="S2.E4.m1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.cmml"><mi id="S2.E4.m1.1.1.1.1.3" xref="S2.E4.m1.1.1.1.1.3.cmml">ℙ</mi><mo id="S2.E4.m1.1.1.1.1.2" xref="S2.E4.m1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E4.m1.1.1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.1.1.1.cmml"><mo id="S2.E4.m1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E4.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E4.m1.1.1.1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.1.1.1.cmml"><mi id="S2.E4.m1.1.1.1.1.1.1.1.2" xref="S2.E4.m1.1.1.1.1.1.1.1.2.cmml">q</mi><mo fence="false" id="S2.E4.m1.1.1.1.1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S2.E4.m1.1.1.1.1.1.1.1.3" xref="S2.E4.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E4.m1.1.1.1.1.1.1.1.3.2" xref="S2.E4.m1.1.1.1.1.1.1.1.3.2.cmml">s</mi><mrow id="S2.E4.m1.1.1.1.1.1.1.1.3.3" xref="S2.E4.m1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E4.m1.1.1.1.1.1.1.1.3.3.2" xref="S2.E4.m1.1.1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S2.E4.m1.1.1.1.1.1.1.1.3.3.1" xref="S2.E4.m1.1.1.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S2.E4.m1.1.1.1.1.1.1.1.3.3.3" xref="S2.E4.m1.1.1.1.1.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S2.E4.m1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E4.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></msub><mo id="S2.E4.m1.3.3.1.1.2" xref="S2.E4.m1.3.3.1.1.2.cmml">⁢</mo><mrow id="S2.E4.m1.3.3.1.1.1.1" xref="S2.E4.m1.3.3.1.1.1.2.cmml"><mo id="S2.E4.m1.3.3.1.1.1.1.2" stretchy="false" xref="S2.E4.m1.3.3.1.1.1.2.1.cmml">[</mo><mrow id="S2.E4.m1.3.3.1.1.1.1.1" xref="S2.E4.m1.3.3.1.1.1.1.1.cmml"><mi id="S2.E4.m1.3.3.1.1.1.1.1.3" xref="S2.E4.m1.3.3.1.1.1.1.1.3.cmml">𝔼</mi><mo id="S2.E4.m1.3.3.1.1.1.1.1.2" xref="S2.E4.m1.3.3.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E4.m1.3.3.1.1.1.1.1.1.1" xref="S2.E4.m1.3.3.1.1.1.1.1.1.2.cmml"><mo id="S2.E4.m1.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E4.m1.3.3.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.2.2" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml">𝐜</mi><mrow id="S2.E4.m1.2.2.1" xref="S2.E4.m1.2.2.1.cmml"><mi id="S2.E4.m1.2.2.1.3" xref="S2.E4.m1.2.2.1.3.cmml">π</mi><mo id="S2.E4.m1.2.2.1.2" xref="S2.E4.m1.2.2.1.2.cmml">⁢</mo><mrow id="S2.E4.m1.2.2.1.1.1" xref="S2.E4.m1.2.2.1.1.1.1.cmml"><mo id="S2.E4.m1.2.2.1.1.1.2" stretchy="false" xref="S2.E4.m1.2.2.1.1.1.1.cmml">(</mo><msub id="S2.E4.m1.2.2.1.1.1.1" xref="S2.E4.m1.2.2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E4.m1.2.2.1.1.1.1.2" xref="S2.E4.m1.2.2.1.1.1.1.2.cmml">𝒟</mi><mi id="S2.E4.m1.2.2.1.1.1.1.3" xref="S2.E4.m1.2.2.1.1.1.1.3.cmml">𝐪</mi></msub><mo id="S2.E4.m1.2.2.1.1.1.3" stretchy="false" xref="S2.E4.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.2" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.2.cmml">s</mi><mrow id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.2" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.1" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.3" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.3.cmml">𝐪</mi></mrow></msub></mrow><mo id="S2.E4.m1.3.3.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E4.m1.3.3.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E4.m1.3.3.1.1.1.1.3" stretchy="false" xref="S2.E4.m1.3.3.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E4.m1.3.3.1.2" xref="S2.E4.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E4.m1.3b"><apply id="S2.E4.m1.3.3.1.1.cmml" xref="S2.E4.m1.3.3.1"><times id="S2.E4.m1.3.3.1.1.2.cmml" xref="S2.E4.m1.3.3.1.1.2"></times><apply id="S2.E4.m1.3.3.1.1.3.cmml" xref="S2.E4.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S2.E4.m1.3.3.1.1.3.1.cmml" xref="S2.E4.m1.3.3.1.1.3">subscript</csymbol><ci id="S2.E4.m1.3.3.1.1.3.2.cmml" xref="S2.E4.m1.3.3.1.1.3.2">𝔼</ci><apply id="S2.E4.m1.1.1.1.cmml" xref="S2.E4.m1.1.1.1"><csymbol cd="latexml" id="S2.E4.m1.1.1.1.2.cmml" xref="S2.E4.m1.1.1.1.2">similar-to</csymbol><ci id="S2.E4.m1.1.1.1.3.cmml" xref="S2.E4.m1.1.1.1.3">𝐪</ci><apply id="S2.E4.m1.1.1.1.1.cmml" xref="S2.E4.m1.1.1.1.1"><times id="S2.E4.m1.1.1.1.1.2.cmml" xref="S2.E4.m1.1.1.1.1.2"></times><ci id="S2.E4.m1.1.1.1.1.3.cmml" xref="S2.E4.m1.1.1.1.1.3">ℙ</ci><apply id="S2.E4.m1.1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S2.E4.m1.1.1.1.1.1.1.1.2.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1.2">𝑞</ci><apply id="S2.E4.m1.1.1.1.1.1.1.1.3.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E4.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E4.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1.3.2">𝑠</ci><apply id="S2.E4.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S2.E4.m1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S2.E4.m1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S2.E4.m1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E4.m1.1.1.1.1.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></apply><apply id="S2.E4.m1.3.3.1.1.1.2.cmml" xref="S2.E4.m1.3.3.1.1.1.1"><csymbol cd="latexml" id="S2.E4.m1.3.3.1.1.1.2.1.cmml" xref="S2.E4.m1.3.3.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E4.m1.3.3.1.1.1.1.1.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1"><times id="S2.E4.m1.3.3.1.1.1.1.1.2.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.2"></times><ci id="S2.E4.m1.3.3.1.1.1.1.1.3.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.3">𝔼</ci><apply id="S2.E4.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E4.m1.3.3.1.1.1.1.1.1.2.1.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.2.2">𝐜</ci><apply id="S2.E4.m1.2.2.1.cmml" xref="S2.E4.m1.2.2.1"><times id="S2.E4.m1.2.2.1.2.cmml" xref="S2.E4.m1.2.2.1.2"></times><ci id="S2.E4.m1.2.2.1.3.cmml" xref="S2.E4.m1.2.2.1.3">𝜋</ci><apply id="S2.E4.m1.2.2.1.1.1.1.cmml" xref="S2.E4.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.E4.m1.2.2.1.1.1.1.1.cmml" xref="S2.E4.m1.2.2.1.1.1">subscript</csymbol><ci id="S2.E4.m1.2.2.1.1.1.1.2.cmml" xref="S2.E4.m1.2.2.1.1.1.1.2">𝒟</ci><ci id="S2.E4.m1.2.2.1.1.1.1.3.cmml" xref="S2.E4.m1.2.2.1.1.1.1.3">𝐪</ci></apply></apply></apply><apply id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.2">𝑠</ci><apply id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E4.m1.3.3.1.1.1.1.1.1.1.1.3.3.3">𝐪</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E4.m1.3c">\mathbb{E}_{\mathbf{q}\sim\mathbb{P}(q|s_{\prec q})}[\mathbb{E}[\mathbf{c}_{%
\pi(\mathcal{D}_{\mathbf{q}})}|s_{\prec\mathbf{q}}]],</annotation><annotation encoding="application/x-llamapun" id="S2.E4.m1.3d">blackboard_E start_POSTSUBSCRIPT bold_q ∼ blackboard_P ( italic_q | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ blackboard_E [ bold_c start_POSTSUBSCRIPT italic_π ( caligraphic_D start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT ≺ bold_q end_POSTSUBSCRIPT ] ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS3.p1.5">This distribution is usually referred to as the <span class="ltx_text ltx_font_italic" id="S2.SS3.p1.5.1">success attribution distribution</span>, which is primarily studied in the context of online advertising<cite class="ltx_cite ltx_citemacro_citep">(Ji et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib15" title="">2016</a>)</cite>.
The key difference is that in online advertising the unit of value attribution is item impression, while in this work we emphasize the attribution of value to the <span class="ltx_text ltx_font_italic" id="S2.SS3.p1.5.2">ranked list</span> shown for the query given the prior context.
This is also related to the <span class="ltx_text ltx_font_italic" id="S2.SS3.p1.5.3">credit assignment problem</span> in reinforcement learning on how to attribute success to the intermediate actions of the agent.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4. </span>Marketplace Expected Reward</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS4.p1">
<p class="ltx_p" id="S2.SS4.p1.1">The expected reward of the marketplace from the presented ranking is then shaped by the distribution of the value across search contexts, which signifies the economic value of the user-interaction events in the sessions for the marketplace.
The random variable <math alttext="\mathbf{v}_{\mathbf{s}}" class="ltx_Math" display="inline" id="S2.SS4.p1.1.m1.1"><semantics id="S2.SS4.p1.1.m1.1a"><msub id="S2.SS4.p1.1.m1.1.1" xref="S2.SS4.p1.1.m1.1.1.cmml"><mi id="S2.SS4.p1.1.m1.1.1.2" xref="S2.SS4.p1.1.m1.1.1.2.cmml">𝐯</mi><mi id="S2.SS4.p1.1.m1.1.1.3" xref="S2.SS4.p1.1.m1.1.1.3.cmml">𝐬</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.1.m1.1b"><apply id="S2.SS4.p1.1.m1.1.1.cmml" xref="S2.SS4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.1.m1.1.1.1.cmml" xref="S2.SS4.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS4.p1.1.m1.1.1.2.cmml" xref="S2.SS4.p1.1.m1.1.1.2">𝐯</ci><ci id="S2.SS4.p1.1.m1.1.1.3.cmml" xref="S2.SS4.p1.1.m1.1.1.3">𝐬</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.1.m1.1c">\mathbf{v}_{\mathbf{s}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.1.m1.1d">bold_v start_POSTSUBSCRIPT bold_s end_POSTSUBSCRIPT</annotation></semantics></math> captures the strategic notion of the value of the session for the marketplace, which corresponds to the value of the interactions events on the item(s) that satisfy the user’s intent.
The expected reward of the marketplace can then be written as</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S2.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{E}_{\mathbf{s},\mathbf{v}}[\mathbf{v}_{\mathbf{s}}\mathbb{E}_{\mathbf{%
q}\sim\mathbb{P}(q|s_{\prec q})}[\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{%
\mathbf{q}})}|\mathbf{s}_{\prec\mathbf{q}}]]]," class="ltx_Math" display="block" id="S2.E5.m1.5"><semantics id="S2.E5.m1.5a"><mrow id="S2.E5.m1.5.5.1" xref="S2.E5.m1.5.5.1.1.cmml"><mrow id="S2.E5.m1.5.5.1.1" xref="S2.E5.m1.5.5.1.1.cmml"><msub id="S2.E5.m1.5.5.1.1.3" xref="S2.E5.m1.5.5.1.1.3.cmml"><mi id="S2.E5.m1.5.5.1.1.3.2" xref="S2.E5.m1.5.5.1.1.3.2.cmml">𝔼</mi><mrow id="S2.E5.m1.2.2.2.4" xref="S2.E5.m1.2.2.2.3.cmml"><mi id="S2.E5.m1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.cmml">𝐬</mi><mo id="S2.E5.m1.2.2.2.4.1" xref="S2.E5.m1.2.2.2.3.cmml">,</mo><mi id="S2.E5.m1.2.2.2.2" xref="S2.E5.m1.2.2.2.2.cmml">𝐯</mi></mrow></msub><mo id="S2.E5.m1.5.5.1.1.2" xref="S2.E5.m1.5.5.1.1.2.cmml">⁢</mo><mrow id="S2.E5.m1.5.5.1.1.1.1" xref="S2.E5.m1.5.5.1.1.1.2.cmml"><mo id="S2.E5.m1.5.5.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.5.5.1.1.1.2.1.cmml">[</mo><mrow id="S2.E5.m1.5.5.1.1.1.1.1" xref="S2.E5.m1.5.5.1.1.1.1.1.cmml"><msub id="S2.E5.m1.5.5.1.1.1.1.1.3" xref="S2.E5.m1.5.5.1.1.1.1.1.3.cmml"><mi id="S2.E5.m1.5.5.1.1.1.1.1.3.2" xref="S2.E5.m1.5.5.1.1.1.1.1.3.2.cmml">𝐯</mi><mi id="S2.E5.m1.5.5.1.1.1.1.1.3.3" xref="S2.E5.m1.5.5.1.1.1.1.1.3.3.cmml">𝐬</mi></msub><mo id="S2.E5.m1.5.5.1.1.1.1.1.2" xref="S2.E5.m1.5.5.1.1.1.1.1.2.cmml">⁢</mo><msub id="S2.E5.m1.5.5.1.1.1.1.1.4" xref="S2.E5.m1.5.5.1.1.1.1.1.4.cmml"><mi id="S2.E5.m1.5.5.1.1.1.1.1.4.2" xref="S2.E5.m1.5.5.1.1.1.1.1.4.2.cmml">𝔼</mi><mrow id="S2.E5.m1.3.3.1" xref="S2.E5.m1.3.3.1.cmml"><mi id="S2.E5.m1.3.3.1.3" xref="S2.E5.m1.3.3.1.3.cmml">𝐪</mi><mo id="S2.E5.m1.3.3.1.2" xref="S2.E5.m1.3.3.1.2.cmml">∼</mo><mrow id="S2.E5.m1.3.3.1.1" xref="S2.E5.m1.3.3.1.1.cmml"><mi id="S2.E5.m1.3.3.1.1.3" xref="S2.E5.m1.3.3.1.1.3.cmml">ℙ</mi><mo id="S2.E5.m1.3.3.1.1.2" xref="S2.E5.m1.3.3.1.1.2.cmml">⁢</mo><mrow id="S2.E5.m1.3.3.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.1.1.cmml"><mo id="S2.E5.m1.3.3.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.3.3.1.1.1.1.1.cmml">(</mo><mrow id="S2.E5.m1.3.3.1.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.1.1.cmml"><mi id="S2.E5.m1.3.3.1.1.1.1.1.2" xref="S2.E5.m1.3.3.1.1.1.1.1.2.cmml">q</mi><mo fence="false" id="S2.E5.m1.3.3.1.1.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.1.1.1.cmml">|</mo><msub id="S2.E5.m1.3.3.1.1.1.1.1.3" xref="S2.E5.m1.3.3.1.1.1.1.1.3.cmml"><mi id="S2.E5.m1.3.3.1.1.1.1.1.3.2" xref="S2.E5.m1.3.3.1.1.1.1.1.3.2.cmml">s</mi><mrow id="S2.E5.m1.3.3.1.1.1.1.1.3.3" xref="S2.E5.m1.3.3.1.1.1.1.1.3.3.cmml"><mi id="S2.E5.m1.3.3.1.1.1.1.1.3.3.2" xref="S2.E5.m1.3.3.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S2.E5.m1.3.3.1.1.1.1.1.3.3.1" xref="S2.E5.m1.3.3.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S2.E5.m1.3.3.1.1.1.1.1.3.3.3" xref="S2.E5.m1.3.3.1.1.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S2.E5.m1.3.3.1.1.1.1.3" stretchy="false" xref="S2.E5.m1.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></msub><mo id="S2.E5.m1.5.5.1.1.1.1.1.2a" xref="S2.E5.m1.5.5.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E5.m1.5.5.1.1.1.1.1.1.1" xref="S2.E5.m1.5.5.1.1.1.1.1.1.2.cmml"><mo id="S2.E5.m1.5.5.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.5.5.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.3.cmml">𝔼</mi><mo id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">𝐜</mi><mrow id="S2.E5.m1.4.4.1" xref="S2.E5.m1.4.4.1.cmml"><mi id="S2.E5.m1.4.4.1.3" xref="S2.E5.m1.4.4.1.3.cmml">π</mi><mo id="S2.E5.m1.4.4.1.2" xref="S2.E5.m1.4.4.1.2.cmml">⁢</mo><mrow id="S2.E5.m1.4.4.1.1.1" xref="S2.E5.m1.4.4.1.1.1.1.cmml"><mo id="S2.E5.m1.4.4.1.1.1.2" stretchy="false" xref="S2.E5.m1.4.4.1.1.1.1.cmml">(</mo><msub id="S2.E5.m1.4.4.1.1.1.1" xref="S2.E5.m1.4.4.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E5.m1.4.4.1.1.1.1.2" xref="S2.E5.m1.4.4.1.1.1.1.2.cmml">𝒟</mi><mi id="S2.E5.m1.4.4.1.1.1.1.3" xref="S2.E5.m1.4.4.1.1.1.1.3.cmml">𝐪</mi></msub><mo id="S2.E5.m1.4.4.1.1.1.3" stretchy="false" xref="S2.E5.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">𝐬</mi><mrow id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">𝐪</mi></mrow></msub></mrow><mo id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E5.m1.5.5.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E5.m1.5.5.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E5.m1.5.5.1.1.1.1.3" stretchy="false" xref="S2.E5.m1.5.5.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E5.m1.5.5.1.2" xref="S2.E5.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E5.m1.5b"><apply id="S2.E5.m1.5.5.1.1.cmml" xref="S2.E5.m1.5.5.1"><times id="S2.E5.m1.5.5.1.1.2.cmml" xref="S2.E5.m1.5.5.1.1.2"></times><apply id="S2.E5.m1.5.5.1.1.3.cmml" xref="S2.E5.m1.5.5.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.1.1.3.1.cmml" xref="S2.E5.m1.5.5.1.1.3">subscript</csymbol><ci id="S2.E5.m1.5.5.1.1.3.2.cmml" xref="S2.E5.m1.5.5.1.1.3.2">𝔼</ci><list id="S2.E5.m1.2.2.2.3.cmml" xref="S2.E5.m1.2.2.2.4"><ci id="S2.E5.m1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1">𝐬</ci><ci id="S2.E5.m1.2.2.2.2.cmml" xref="S2.E5.m1.2.2.2.2">𝐯</ci></list></apply><apply id="S2.E5.m1.5.5.1.1.1.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1"><csymbol cd="latexml" id="S2.E5.m1.5.5.1.1.1.2.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E5.m1.5.5.1.1.1.1.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1"><times id="S2.E5.m1.5.5.1.1.1.1.1.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.2"></times><apply id="S2.E5.m1.5.5.1.1.1.1.1.3.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.1.1.1.1.1.3.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E5.m1.5.5.1.1.1.1.1.3.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.3.2">𝐯</ci><ci id="S2.E5.m1.5.5.1.1.1.1.1.3.3.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.3.3">𝐬</ci></apply><apply id="S2.E5.m1.5.5.1.1.1.1.1.4.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.1.1.1.1.1.4.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.4">subscript</csymbol><ci id="S2.E5.m1.5.5.1.1.1.1.1.4.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.4.2">𝔼</ci><apply id="S2.E5.m1.3.3.1.cmml" xref="S2.E5.m1.3.3.1"><csymbol cd="latexml" id="S2.E5.m1.3.3.1.2.cmml" xref="S2.E5.m1.3.3.1.2">similar-to</csymbol><ci id="S2.E5.m1.3.3.1.3.cmml" xref="S2.E5.m1.3.3.1.3">𝐪</ci><apply id="S2.E5.m1.3.3.1.1.cmml" xref="S2.E5.m1.3.3.1.1"><times id="S2.E5.m1.3.3.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.2"></times><ci id="S2.E5.m1.3.3.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.3">ℙ</ci><apply id="S2.E5.m1.3.3.1.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1"><csymbol cd="latexml" id="S2.E5.m1.3.3.1.1.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1">conditional</csymbol><ci id="S2.E5.m1.3.3.1.1.1.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.2">𝑞</ci><apply id="S2.E5.m1.3.3.1.1.1.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.1.1.1.3.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E5.m1.3.3.1.1.1.1.1.3.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.3.2">𝑠</ci><apply id="S2.E5.m1.3.3.1.1.1.1.1.3.3.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S2.E5.m1.3.3.1.1.1.1.1.3.3.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S2.E5.m1.3.3.1.1.1.1.1.3.3.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S2.E5.m1.3.3.1.1.1.1.1.3.3.3.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></apply><apply id="S2.E5.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E5.m1.5.5.1.1.1.1.1.1.2.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1"><times id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.2"></times><ci id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.3">𝔼</ci><apply id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.2">𝐜</ci><apply id="S2.E5.m1.4.4.1.cmml" xref="S2.E5.m1.4.4.1"><times id="S2.E5.m1.4.4.1.2.cmml" xref="S2.E5.m1.4.4.1.2"></times><ci id="S2.E5.m1.4.4.1.3.cmml" xref="S2.E5.m1.4.4.1.3">𝜋</ci><apply id="S2.E5.m1.4.4.1.1.1.1.cmml" xref="S2.E5.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.4.4.1.1.1.1.1.cmml" xref="S2.E5.m1.4.4.1.1.1">subscript</csymbol><ci id="S2.E5.m1.4.4.1.1.1.1.2.cmml" xref="S2.E5.m1.4.4.1.1.1.1.2">𝒟</ci><ci id="S2.E5.m1.4.4.1.1.1.1.3.cmml" xref="S2.E5.m1.4.4.1.1.1.1.3">𝐪</ci></apply></apply></apply><apply id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.2">𝐬</ci><apply id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.3.3">𝐪</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E5.m1.5c">\mathbb{E}_{\mathbf{s},\mathbf{v}}[\mathbf{v}_{\mathbf{s}}\mathbb{E}_{\mathbf{%
q}\sim\mathbb{P}(q|s_{\prec q})}[\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{%
\mathbf{q}})}|\mathbf{s}_{\prec\mathbf{q}}]]],</annotation><annotation encoding="application/x-llamapun" id="S2.E5.m1.5d">blackboard_E start_POSTSUBSCRIPT bold_s , bold_v end_POSTSUBSCRIPT [ bold_v start_POSTSUBSCRIPT bold_s end_POSTSUBSCRIPT blackboard_E start_POSTSUBSCRIPT bold_q ∼ blackboard_P ( italic_q | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ blackboard_E [ bold_c start_POSTSUBSCRIPT italic_π ( caligraphic_D start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT | bold_s start_POSTSUBSCRIPT ≺ bold_q end_POSTSUBSCRIPT ] ] ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS4.p1.3">We can also consider an alternative formulation where we assume that session value distribution <math alttext="\mathbb{P}_{v}(s)" class="ltx_Math" display="inline" id="S2.SS4.p1.2.m1.1"><semantics id="S2.SS4.p1.2.m1.1a"><mrow id="S2.SS4.p1.2.m1.1.2" xref="S2.SS4.p1.2.m1.1.2.cmml"><msub id="S2.SS4.p1.2.m1.1.2.2" xref="S2.SS4.p1.2.m1.1.2.2.cmml"><mi id="S2.SS4.p1.2.m1.1.2.2.2" xref="S2.SS4.p1.2.m1.1.2.2.2.cmml">ℙ</mi><mi id="S2.SS4.p1.2.m1.1.2.2.3" xref="S2.SS4.p1.2.m1.1.2.2.3.cmml">v</mi></msub><mo id="S2.SS4.p1.2.m1.1.2.1" xref="S2.SS4.p1.2.m1.1.2.1.cmml">⁢</mo><mrow id="S2.SS4.p1.2.m1.1.2.3.2" xref="S2.SS4.p1.2.m1.1.2.cmml"><mo id="S2.SS4.p1.2.m1.1.2.3.2.1" stretchy="false" xref="S2.SS4.p1.2.m1.1.2.cmml">(</mo><mi id="S2.SS4.p1.2.m1.1.1" xref="S2.SS4.p1.2.m1.1.1.cmml">s</mi><mo id="S2.SS4.p1.2.m1.1.2.3.2.2" stretchy="false" xref="S2.SS4.p1.2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.2.m1.1b"><apply id="S2.SS4.p1.2.m1.1.2.cmml" xref="S2.SS4.p1.2.m1.1.2"><times id="S2.SS4.p1.2.m1.1.2.1.cmml" xref="S2.SS4.p1.2.m1.1.2.1"></times><apply id="S2.SS4.p1.2.m1.1.2.2.cmml" xref="S2.SS4.p1.2.m1.1.2.2"><csymbol cd="ambiguous" id="S2.SS4.p1.2.m1.1.2.2.1.cmml" xref="S2.SS4.p1.2.m1.1.2.2">subscript</csymbol><ci id="S2.SS4.p1.2.m1.1.2.2.2.cmml" xref="S2.SS4.p1.2.m1.1.2.2.2">ℙ</ci><ci id="S2.SS4.p1.2.m1.1.2.2.3.cmml" xref="S2.SS4.p1.2.m1.1.2.2.3">𝑣</ci></apply><ci id="S2.SS4.p1.2.m1.1.1.cmml" xref="S2.SS4.p1.2.m1.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.2.m1.1c">\mathbb{P}_{v}(s)</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.2.m1.1d">blackboard_P start_POSTSUBSCRIPT italic_v end_POSTSUBSCRIPT ( italic_s )</annotation></semantics></math> subsumes both the <span class="ltx_text ltx_font_italic" id="S2.SS4.p1.3.1">likelihood of the user session to lead to some reward</span> for the search engine as well as the <span class="ltx_text ltx_font_italic" id="S2.SS4.p1.3.2">reward value</span> attributed to the user session <math alttext="s" class="ltx_Math" display="inline" id="S2.SS4.p1.3.m2.1"><semantics id="S2.SS4.p1.3.m2.1a"><mi id="S2.SS4.p1.3.m2.1.1" xref="S2.SS4.p1.3.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.3.m2.1b"><ci id="S2.SS4.p1.3.m2.1.1.cmml" xref="S2.SS4.p1.3.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.3.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.3.m2.1d">italic_s</annotation></semantics></math>:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S2.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{E}_{\mathbf{s}\sim\mathbb{P}_{v}(s)}[\mathbb{E}_{\mathbf{q}\sim\mathbb%
{P}(q|s_{\prec q})}[\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{\mathbf{q}})}|%
\mathbf{s}_{\prec\mathbf{q}}]]]." class="ltx_Math" display="block" id="S2.E6.m1.4"><semantics id="S2.E6.m1.4a"><mrow id="S2.E6.m1.4.4.1" xref="S2.E6.m1.4.4.1.1.cmml"><mrow id="S2.E6.m1.4.4.1.1" xref="S2.E6.m1.4.4.1.1.cmml"><msub id="S2.E6.m1.4.4.1.1.3" xref="S2.E6.m1.4.4.1.1.3.cmml"><mi id="S2.E6.m1.4.4.1.1.3.2" xref="S2.E6.m1.4.4.1.1.3.2.cmml">𝔼</mi><mrow id="S2.E6.m1.1.1.1" xref="S2.E6.m1.1.1.1.cmml"><mi id="S2.E6.m1.1.1.1.3" xref="S2.E6.m1.1.1.1.3.cmml">𝐬</mi><mo id="S2.E6.m1.1.1.1.2" xref="S2.E6.m1.1.1.1.2.cmml">∼</mo><mrow id="S2.E6.m1.1.1.1.4" xref="S2.E6.m1.1.1.1.4.cmml"><msub id="S2.E6.m1.1.1.1.4.2" xref="S2.E6.m1.1.1.1.4.2.cmml"><mi id="S2.E6.m1.1.1.1.4.2.2" xref="S2.E6.m1.1.1.1.4.2.2.cmml">ℙ</mi><mi id="S2.E6.m1.1.1.1.4.2.3" xref="S2.E6.m1.1.1.1.4.2.3.cmml">v</mi></msub><mo id="S2.E6.m1.1.1.1.4.1" xref="S2.E6.m1.1.1.1.4.1.cmml">⁢</mo><mrow id="S2.E6.m1.1.1.1.4.3.2" xref="S2.E6.m1.1.1.1.4.cmml"><mo id="S2.E6.m1.1.1.1.4.3.2.1" stretchy="false" xref="S2.E6.m1.1.1.1.4.cmml">(</mo><mi id="S2.E6.m1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.cmml">s</mi><mo id="S2.E6.m1.1.1.1.4.3.2.2" stretchy="false" xref="S2.E6.m1.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mo id="S2.E6.m1.4.4.1.1.2" xref="S2.E6.m1.4.4.1.1.2.cmml">⁢</mo><mrow id="S2.E6.m1.4.4.1.1.1.1" xref="S2.E6.m1.4.4.1.1.1.2.cmml"><mo id="S2.E6.m1.4.4.1.1.1.1.2" stretchy="false" xref="S2.E6.m1.4.4.1.1.1.2.1.cmml">[</mo><mrow id="S2.E6.m1.4.4.1.1.1.1.1" xref="S2.E6.m1.4.4.1.1.1.1.1.cmml"><msub id="S2.E6.m1.4.4.1.1.1.1.1.3" xref="S2.E6.m1.4.4.1.1.1.1.1.3.cmml"><mi id="S2.E6.m1.4.4.1.1.1.1.1.3.2" xref="S2.E6.m1.4.4.1.1.1.1.1.3.2.cmml">𝔼</mi><mrow id="S2.E6.m1.2.2.1" xref="S2.E6.m1.2.2.1.cmml"><mi id="S2.E6.m1.2.2.1.3" xref="S2.E6.m1.2.2.1.3.cmml">𝐪</mi><mo id="S2.E6.m1.2.2.1.2" xref="S2.E6.m1.2.2.1.2.cmml">∼</mo><mrow id="S2.E6.m1.2.2.1.1" xref="S2.E6.m1.2.2.1.1.cmml"><mi id="S2.E6.m1.2.2.1.1.3" xref="S2.E6.m1.2.2.1.1.3.cmml">ℙ</mi><mo id="S2.E6.m1.2.2.1.1.2" xref="S2.E6.m1.2.2.1.1.2.cmml">⁢</mo><mrow id="S2.E6.m1.2.2.1.1.1.1" xref="S2.E6.m1.2.2.1.1.1.1.1.cmml"><mo id="S2.E6.m1.2.2.1.1.1.1.2" stretchy="false" xref="S2.E6.m1.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S2.E6.m1.2.2.1.1.1.1.1" xref="S2.E6.m1.2.2.1.1.1.1.1.cmml"><mi id="S2.E6.m1.2.2.1.1.1.1.1.2" xref="S2.E6.m1.2.2.1.1.1.1.1.2.cmml">q</mi><mo fence="false" id="S2.E6.m1.2.2.1.1.1.1.1.1" xref="S2.E6.m1.2.2.1.1.1.1.1.1.cmml">|</mo><msub id="S2.E6.m1.2.2.1.1.1.1.1.3" xref="S2.E6.m1.2.2.1.1.1.1.1.3.cmml"><mi id="S2.E6.m1.2.2.1.1.1.1.1.3.2" xref="S2.E6.m1.2.2.1.1.1.1.1.3.2.cmml">s</mi><mrow id="S2.E6.m1.2.2.1.1.1.1.1.3.3" xref="S2.E6.m1.2.2.1.1.1.1.1.3.3.cmml"><mi id="S2.E6.m1.2.2.1.1.1.1.1.3.3.2" xref="S2.E6.m1.2.2.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S2.E6.m1.2.2.1.1.1.1.1.3.3.1" xref="S2.E6.m1.2.2.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S2.E6.m1.2.2.1.1.1.1.1.3.3.3" xref="S2.E6.m1.2.2.1.1.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S2.E6.m1.2.2.1.1.1.1.3" stretchy="false" xref="S2.E6.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></msub><mo id="S2.E6.m1.4.4.1.1.1.1.1.2" xref="S2.E6.m1.4.4.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E6.m1.4.4.1.1.1.1.1.1.1" xref="S2.E6.m1.4.4.1.1.1.1.1.1.2.cmml"><mo id="S2.E6.m1.4.4.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E6.m1.4.4.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.3.cmml">𝔼</mi><mo id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">𝐜</mi><mrow id="S2.E6.m1.3.3.1" xref="S2.E6.m1.3.3.1.cmml"><mi id="S2.E6.m1.3.3.1.3" xref="S2.E6.m1.3.3.1.3.cmml">π</mi><mo id="S2.E6.m1.3.3.1.2" xref="S2.E6.m1.3.3.1.2.cmml">⁢</mo><mrow id="S2.E6.m1.3.3.1.1.1" xref="S2.E6.m1.3.3.1.1.1.1.cmml"><mo id="S2.E6.m1.3.3.1.1.1.2" stretchy="false" xref="S2.E6.m1.3.3.1.1.1.1.cmml">(</mo><msub id="S2.E6.m1.3.3.1.1.1.1" xref="S2.E6.m1.3.3.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E6.m1.3.3.1.1.1.1.2" xref="S2.E6.m1.3.3.1.1.1.1.2.cmml">𝒟</mi><mi id="S2.E6.m1.3.3.1.1.1.1.3" xref="S2.E6.m1.3.3.1.1.1.1.3.cmml">𝐪</mi></msub><mo id="S2.E6.m1.3.3.1.1.1.3" stretchy="false" xref="S2.E6.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">𝐬</mi><mrow id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">𝐪</mi></mrow></msub></mrow><mo id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E6.m1.4.4.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E6.m1.4.4.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E6.m1.4.4.1.1.1.1.3" stretchy="false" xref="S2.E6.m1.4.4.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E6.m1.4.4.1.2" lspace="0em" xref="S2.E6.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E6.m1.4b"><apply id="S2.E6.m1.4.4.1.1.cmml" xref="S2.E6.m1.4.4.1"><times id="S2.E6.m1.4.4.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.2"></times><apply id="S2.E6.m1.4.4.1.1.3.cmml" xref="S2.E6.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.4.4.1.1.3.1.cmml" xref="S2.E6.m1.4.4.1.1.3">subscript</csymbol><ci id="S2.E6.m1.4.4.1.1.3.2.cmml" xref="S2.E6.m1.4.4.1.1.3.2">𝔼</ci><apply id="S2.E6.m1.1.1.1.cmml" xref="S2.E6.m1.1.1.1"><csymbol cd="latexml" id="S2.E6.m1.1.1.1.2.cmml" xref="S2.E6.m1.1.1.1.2">similar-to</csymbol><ci id="S2.E6.m1.1.1.1.3.cmml" xref="S2.E6.m1.1.1.1.3">𝐬</ci><apply id="S2.E6.m1.1.1.1.4.cmml" xref="S2.E6.m1.1.1.1.4"><times id="S2.E6.m1.1.1.1.4.1.cmml" xref="S2.E6.m1.1.1.1.4.1"></times><apply id="S2.E6.m1.1.1.1.4.2.cmml" xref="S2.E6.m1.1.1.1.4.2"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.1.4.2.1.cmml" xref="S2.E6.m1.1.1.1.4.2">subscript</csymbol><ci id="S2.E6.m1.1.1.1.4.2.2.cmml" xref="S2.E6.m1.1.1.1.4.2.2">ℙ</ci><ci id="S2.E6.m1.1.1.1.4.2.3.cmml" xref="S2.E6.m1.1.1.1.4.2.3">𝑣</ci></apply><ci id="S2.E6.m1.1.1.1.1.cmml" xref="S2.E6.m1.1.1.1.1">𝑠</ci></apply></apply></apply><apply id="S2.E6.m1.4.4.1.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1"><csymbol cd="latexml" id="S2.E6.m1.4.4.1.1.1.2.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E6.m1.4.4.1.1.1.1.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1"><times id="S2.E6.m1.4.4.1.1.1.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.2"></times><apply id="S2.E6.m1.4.4.1.1.1.1.1.3.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.4.4.1.1.1.1.1.3.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E6.m1.4.4.1.1.1.1.1.3.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.3.2">𝔼</ci><apply id="S2.E6.m1.2.2.1.cmml" xref="S2.E6.m1.2.2.1"><csymbol cd="latexml" id="S2.E6.m1.2.2.1.2.cmml" xref="S2.E6.m1.2.2.1.2">similar-to</csymbol><ci id="S2.E6.m1.2.2.1.3.cmml" xref="S2.E6.m1.2.2.1.3">𝐪</ci><apply id="S2.E6.m1.2.2.1.1.cmml" xref="S2.E6.m1.2.2.1.1"><times id="S2.E6.m1.2.2.1.1.2.cmml" xref="S2.E6.m1.2.2.1.1.2"></times><ci id="S2.E6.m1.2.2.1.1.3.cmml" xref="S2.E6.m1.2.2.1.1.3">ℙ</ci><apply id="S2.E6.m1.2.2.1.1.1.1.1.cmml" xref="S2.E6.m1.2.2.1.1.1.1"><csymbol cd="latexml" id="S2.E6.m1.2.2.1.1.1.1.1.1.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.1">conditional</csymbol><ci id="S2.E6.m1.2.2.1.1.1.1.1.2.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.2">𝑞</ci><apply id="S2.E6.m1.2.2.1.1.1.1.1.3.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E6.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.3.2">𝑠</ci><apply id="S2.E6.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S2.E6.m1.2.2.1.1.1.1.1.3.3.1.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S2.E6.m1.2.2.1.1.1.1.1.3.3.2.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S2.E6.m1.2.2.1.1.1.1.1.3.3.3.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></apply><apply id="S2.E6.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E6.m1.4.4.1.1.1.1.1.1.2.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1"><times id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.2"></times><ci id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.3">𝔼</ci><apply id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2">𝐜</ci><apply id="S2.E6.m1.3.3.1.cmml" xref="S2.E6.m1.3.3.1"><times id="S2.E6.m1.3.3.1.2.cmml" xref="S2.E6.m1.3.3.1.2"></times><ci id="S2.E6.m1.3.3.1.3.cmml" xref="S2.E6.m1.3.3.1.3">𝜋</ci><apply id="S2.E6.m1.3.3.1.1.1.1.cmml" xref="S2.E6.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.3.3.1.1.1.1.1.cmml" xref="S2.E6.m1.3.3.1.1.1">subscript</csymbol><ci id="S2.E6.m1.3.3.1.1.1.1.2.cmml" xref="S2.E6.m1.3.3.1.1.1.1.2">𝒟</ci><ci id="S2.E6.m1.3.3.1.1.1.1.3.cmml" xref="S2.E6.m1.3.3.1.1.1.1.3">𝐪</ci></apply></apply></apply><apply id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2">𝐬</ci><apply id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.3">𝐪</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E6.m1.4c">\mathbb{E}_{\mathbf{s}\sim\mathbb{P}_{v}(s)}[\mathbb{E}_{\mathbf{q}\sim\mathbb%
{P}(q|s_{\prec q})}[\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{\mathbf{q}})}|%
\mathbf{s}_{\prec\mathbf{q}}]]].</annotation><annotation encoding="application/x-llamapun" id="S2.E6.m1.4d">blackboard_E start_POSTSUBSCRIPT bold_s ∼ blackboard_P start_POSTSUBSCRIPT italic_v end_POSTSUBSCRIPT ( italic_s ) end_POSTSUBSCRIPT [ blackboard_E start_POSTSUBSCRIPT bold_q ∼ blackboard_P ( italic_q | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ blackboard_E [ bold_c start_POSTSUBSCRIPT italic_π ( caligraphic_D start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT | bold_s start_POSTSUBSCRIPT ≺ bold_q end_POSTSUBSCRIPT ] ] ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS4.p1.4">For a value-aware search engine with marketplace revenue objective, economic value is realized only in the event of a transaction as the success event from a search session and the reward is proportional to the price of the sold item(s).
For a search engine that aims to optimize for the volume of transactions, it is more suitable to adopt a value per acquisition notion of reward oblivious to the price of the sold items.
For a search engine with strategic goal of maximizing user engagements for increased user retention and minimizing abandonment, it is more suitable to adopt a value per click notion of reward oblivious to the post click transaction events.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S2.SS4.p2">
<p class="ltx_p" id="S2.SS4.p2.1">In the next section, we discuss empirical modeling techniques to build effective empirical reward estimates from observational data, which effectively frame the problem as a standard counterfactual empirical risk minimization with a value-aware context distribution.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Expected Reward Estimation from Observational Data</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Estimating the Per Query Success</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.2">We are interested in maximizing <math alttext="\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{q})}|s_{\prec q}]" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.2"><semantics id="S3.SS1.p1.1.m1.2a"><mrow id="S3.SS1.p1.1.m1.2.2" xref="S3.SS1.p1.1.m1.2.2.cmml"><mi id="S3.SS1.p1.1.m1.2.2.3" xref="S3.SS1.p1.1.m1.2.2.3.cmml">𝔼</mi><mo id="S3.SS1.p1.1.m1.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.cmml">⁢</mo><mrow id="S3.SS1.p1.1.m1.2.2.1.1" xref="S3.SS1.p1.1.m1.2.2.1.2.cmml"><mo id="S3.SS1.p1.1.m1.2.2.1.1.2" stretchy="false" xref="S3.SS1.p1.1.m1.2.2.1.2.1.cmml">[</mo><mrow id="S3.SS1.p1.1.m1.2.2.1.1.1" xref="S3.SS1.p1.1.m1.2.2.1.1.1.cmml"><msub id="S3.SS1.p1.1.m1.2.2.1.1.1.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml"><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.2.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.2.cmml">𝐜</mi><mrow id="S3.SS1.p1.1.m1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.1.3.cmml">π</mi><mo id="S3.SS1.p1.1.m1.1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.1.m1.1.1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.cmml"><mo id="S3.SS1.p1.1.m1.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS1.p1.1.m1.1.1.1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.1.1.1.1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.SS1.p1.1.m1.1.1.1.1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S3.SS1.p1.1.m1.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S3.SS1.p1.1.m1.2.2.1.1.1.1" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1.cmml">|</mo><msub id="S3.SS1.p1.1.m1.2.2.1.1.1.3" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml"><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.3.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.2.cmml">s</mi><mrow id="S3.SS1.p1.1.m1.2.2.1.1.1.3.3" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.cmml"><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.2.cmml"></mi><mo id="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.1" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.1.cmml">≺</mo><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.3" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S3.SS1.p1.1.m1.2.2.1.1.3" stretchy="false" xref="S3.SS1.p1.1.m1.2.2.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.2b"><apply id="S3.SS1.p1.1.m1.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2"><times id="S3.SS1.p1.1.m1.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2"></times><ci id="S3.SS1.p1.1.m1.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.3">𝔼</ci><apply id="S3.SS1.p1.1.m1.2.2.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1"><csymbol cd="latexml" id="S3.SS1.p1.1.m1.2.2.1.2.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.2">delimited-[]</csymbol><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1"><csymbol cd="latexml" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.1">conditional</csymbol><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.1.1.2.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.2">𝐜</ci><apply id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1"><times id="S3.SS1.p1.1.m1.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.1.2"></times><ci id="S3.SS1.p1.1.m1.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.1.3">𝜋</ci><apply id="S3.SS1.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.2">𝒟</ci><ci id="S3.SS1.p1.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.1.3">𝑞</ci></apply></apply></apply><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.1.1.3.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.3.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.2">𝑠</ci><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.3"><csymbol cd="latexml" id="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.2">absent</csymbol><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.3.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.2c">\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{q})}|s_{\prec q}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.2d">blackboard_E [ bold_c start_POSTSUBSCRIPT italic_π ( caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT ]</annotation></semantics></math>, the expected number of <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.2.1">desirable engagements</span> across all the slots on the page, with a suitably parameterized ranking policy <math alttext="\pi" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">π</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝜋</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">\pi</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_π</annotation></semantics></math>.
By hypothesizing an explanatory click model based on causal constructs that govern user browsing and engagement behaviors on search result pages, we can build effective likelihood models from which we can estimate the parameters of the ranking policy via maximum likelihood estimation using logged observational data.
We instantiate this process with the simple widely adopted click models in information retrieval.
Assuming a vanilla Sequential Browsing Model along with the standard Position-Dependent Examination Model, we can write the expected number of desirable engagements as</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table" id="S5.EGx1">
<tbody id="S3.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{q})}|s_{\prec q}]\!\!" class="ltx_Math" display="inline" id="S3.E7.m1.2"><semantics id="S3.E7.m1.2a"><mrow id="S3.E7.m1.2.2" xref="S3.E7.m1.2.2.cmml"><mi id="S3.E7.m1.2.2.3" xref="S3.E7.m1.2.2.3.cmml">𝔼</mi><mo id="S3.E7.m1.2.2.2" xref="S3.E7.m1.2.2.2.cmml">⁢</mo><mrow id="S3.E7.m1.2.2.1.1" xref="S3.E7.m1.2.2.1.2.cmml"><mo id="S3.E7.m1.2.2.1.1.2" stretchy="false" xref="S3.E7.m1.2.2.1.2.1.cmml">[</mo><mrow id="S3.E7.m1.2.2.1.1.1" xref="S3.E7.m1.2.2.1.1.1.cmml"><msub id="S3.E7.m1.2.2.1.1.1.2" xref="S3.E7.m1.2.2.1.1.1.2.cmml"><mi id="S3.E7.m1.2.2.1.1.1.2.2" xref="S3.E7.m1.2.2.1.1.1.2.2.cmml">𝐜</mi><mrow id="S3.E7.m1.1.1.1" xref="S3.E7.m1.1.1.1.cmml"><mi id="S3.E7.m1.1.1.1.3" xref="S3.E7.m1.1.1.1.3.cmml">π</mi><mo id="S3.E7.m1.1.1.1.2" xref="S3.E7.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E7.m1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.cmml"><mo id="S3.E7.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E7.m1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.E7.m1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S3.E7.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S3.E7.m1.2.2.1.1.1.1" xref="S3.E7.m1.2.2.1.1.1.1.cmml">|</mo><msub id="S3.E7.m1.2.2.1.1.1.3" xref="S3.E7.m1.2.2.1.1.1.3.cmml"><mi id="S3.E7.m1.2.2.1.1.1.3.2" xref="S3.E7.m1.2.2.1.1.1.3.2.cmml">s</mi><mrow id="S3.E7.m1.2.2.1.1.1.3.3" xref="S3.E7.m1.2.2.1.1.1.3.3.cmml"><mi id="S3.E7.m1.2.2.1.1.1.3.3.2" xref="S3.E7.m1.2.2.1.1.1.3.3.2.cmml"></mi><mo id="S3.E7.m1.2.2.1.1.1.3.3.1" xref="S3.E7.m1.2.2.1.1.1.3.3.1.cmml">≺</mo><mi id="S3.E7.m1.2.2.1.1.1.3.3.3" xref="S3.E7.m1.2.2.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S3.E7.m1.2.2.1.1.3" stretchy="false" xref="S3.E7.m1.2.2.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.2b"><apply id="S3.E7.m1.2.2.cmml" xref="S3.E7.m1.2.2"><times id="S3.E7.m1.2.2.2.cmml" xref="S3.E7.m1.2.2.2"></times><ci id="S3.E7.m1.2.2.3.cmml" xref="S3.E7.m1.2.2.3">𝔼</ci><apply id="S3.E7.m1.2.2.1.2.cmml" xref="S3.E7.m1.2.2.1.1"><csymbol cd="latexml" id="S3.E7.m1.2.2.1.2.1.cmml" xref="S3.E7.m1.2.2.1.1.2">delimited-[]</csymbol><apply id="S3.E7.m1.2.2.1.1.1.cmml" xref="S3.E7.m1.2.2.1.1.1"><csymbol cd="latexml" id="S3.E7.m1.2.2.1.1.1.1.cmml" xref="S3.E7.m1.2.2.1.1.1.1">conditional</csymbol><apply id="S3.E7.m1.2.2.1.1.1.2.cmml" xref="S3.E7.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.1.1.1.2.1.cmml" xref="S3.E7.m1.2.2.1.1.1.2">subscript</csymbol><ci id="S3.E7.m1.2.2.1.1.1.2.2.cmml" xref="S3.E7.m1.2.2.1.1.1.2.2">𝐜</ci><apply id="S3.E7.m1.1.1.1.cmml" xref="S3.E7.m1.1.1.1"><times id="S3.E7.m1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.2"></times><ci id="S3.E7.m1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.3">𝜋</ci><apply id="S3.E7.m1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2">𝒟</ci><ci id="S3.E7.m1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3">𝑞</ci></apply></apply></apply><apply id="S3.E7.m1.2.2.1.1.1.3.cmml" xref="S3.E7.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.1.1.1.3.1.cmml" xref="S3.E7.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E7.m1.2.2.1.1.1.3.2.cmml" xref="S3.E7.m1.2.2.1.1.1.3.2">𝑠</ci><apply id="S3.E7.m1.2.2.1.1.1.3.3.cmml" xref="S3.E7.m1.2.2.1.1.1.3.3"><csymbol cd="latexml" id="S3.E7.m1.2.2.1.1.1.3.3.1.cmml" xref="S3.E7.m1.2.2.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.E7.m1.2.2.1.1.1.3.3.2.cmml" xref="S3.E7.m1.2.2.1.1.1.3.3.2">absent</csymbol><ci id="S3.E7.m1.2.2.1.1.1.3.3.3.cmml" xref="S3.E7.m1.2.2.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.2c">\displaystyle\mathbb{E}[\mathbf{c}_{\pi(\mathcal{D}_{q})}|s_{\prec q}]\!\!</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m1.2d">blackboard_E [ bold_c start_POSTSUBSCRIPT italic_π ( caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math alttext="\displaystyle=" class="ltx_Math" display="inline" id="S3.E7.m2.1"><semantics id="S3.E7.m2.1a"><mo id="S3.E7.m2.1.1" xref="S3.E7.m2.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="S3.E7.m2.1b"><eq id="S3.E7.m2.1.1.cmml" xref="S3.E7.m2.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m2.1c">\displaystyle=</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m2.1d">=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\!\!\!\sum_{r=1}^{N}\mathbb{P}(\mathbf{c}_{\pi^{-1}(r)}=1|s_{%
\prec q},\mathcal{D}_{q}^{\prec r})" class="ltx_Math" display="inline" id="S3.E7.m3.2"><semantics id="S3.E7.m3.2a"><mrow id="S3.E7.m3.2.2" xref="S3.E7.m3.2.2.cmml"><mstyle displaystyle="true" id="S3.E7.m3.2.2.2" xref="S3.E7.m3.2.2.2.cmml"><munderover id="S3.E7.m3.2.2.2a" xref="S3.E7.m3.2.2.2.cmml"><mo id="S3.E7.m3.2.2.2.2.2" movablelimits="false" xref="S3.E7.m3.2.2.2.2.2.cmml">∑</mo><mrow id="S3.E7.m3.2.2.2.2.3" xref="S3.E7.m3.2.2.2.2.3.cmml"><mi id="S3.E7.m3.2.2.2.2.3.2" xref="S3.E7.m3.2.2.2.2.3.2.cmml">r</mi><mo id="S3.E7.m3.2.2.2.2.3.1" xref="S3.E7.m3.2.2.2.2.3.1.cmml">=</mo><mn id="S3.E7.m3.2.2.2.2.3.3" xref="S3.E7.m3.2.2.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E7.m3.2.2.2.3" xref="S3.E7.m3.2.2.2.3.cmml">N</mi></munderover></mstyle><mrow id="S3.E7.m3.2.2.1" xref="S3.E7.m3.2.2.1.cmml"><mi id="S3.E7.m3.2.2.1.3" xref="S3.E7.m3.2.2.1.3.cmml">ℙ</mi><mo id="S3.E7.m3.2.2.1.2" xref="S3.E7.m3.2.2.1.2.cmml">⁢</mo><mrow id="S3.E7.m3.2.2.1.1.1" xref="S3.E7.m3.2.2.1.1.1.1.cmml"><mo id="S3.E7.m3.2.2.1.1.1.2" stretchy="false" xref="S3.E7.m3.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m3.2.2.1.1.1.1" xref="S3.E7.m3.2.2.1.1.1.1.cmml"><msub id="S3.E7.m3.2.2.1.1.1.1.4" xref="S3.E7.m3.2.2.1.1.1.1.4.cmml"><mi id="S3.E7.m3.2.2.1.1.1.1.4.2" xref="S3.E7.m3.2.2.1.1.1.1.4.2.cmml">𝐜</mi><mrow id="S3.E7.m3.1.1.1" xref="S3.E7.m3.1.1.1.cmml"><msup id="S3.E7.m3.1.1.1.3" xref="S3.E7.m3.1.1.1.3.cmml"><mi id="S3.E7.m3.1.1.1.3.2" xref="S3.E7.m3.1.1.1.3.2.cmml">π</mi><mrow id="S3.E7.m3.1.1.1.3.3" xref="S3.E7.m3.1.1.1.3.3.cmml"><mo id="S3.E7.m3.1.1.1.3.3a" xref="S3.E7.m3.1.1.1.3.3.cmml">−</mo><mn id="S3.E7.m3.1.1.1.3.3.2" xref="S3.E7.m3.1.1.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.E7.m3.1.1.1.2" xref="S3.E7.m3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E7.m3.1.1.1.4.2" xref="S3.E7.m3.1.1.1.cmml"><mo id="S3.E7.m3.1.1.1.4.2.1" stretchy="false" xref="S3.E7.m3.1.1.1.cmml">(</mo><mi id="S3.E7.m3.1.1.1.1" xref="S3.E7.m3.1.1.1.1.cmml">r</mi><mo id="S3.E7.m3.1.1.1.4.2.2" stretchy="false" xref="S3.E7.m3.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.E7.m3.2.2.1.1.1.1.3" xref="S3.E7.m3.2.2.1.1.1.1.3.cmml">=</mo><mrow id="S3.E7.m3.2.2.1.1.1.1.2" xref="S3.E7.m3.2.2.1.1.1.1.2.cmml"><mn id="S3.E7.m3.2.2.1.1.1.1.2.4" xref="S3.E7.m3.2.2.1.1.1.1.2.4.cmml">1</mn><mo fence="false" id="S3.E7.m3.2.2.1.1.1.1.2.3" xref="S3.E7.m3.2.2.1.1.1.1.2.3.cmml">|</mo><mrow id="S3.E7.m3.2.2.1.1.1.1.2.2.2" xref="S3.E7.m3.2.2.1.1.1.1.2.2.3.cmml"><msub id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.2.cmml">s</mi><mrow id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.2" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.1" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.1.cmml">≺</mo><mi id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.3" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.3.cmml">q</mi></mrow></msub><mo id="S3.E7.m3.2.2.1.1.1.1.2.2.2.3" xref="S3.E7.m3.2.2.1.1.1.1.2.2.3.cmml">,</mo><msubsup id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.2.2.cmml">𝒟</mi><mi id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.2.3.cmml">q</mi><mrow id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.cmml"><mi id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.2" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.2.cmml"></mi><mo id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.1" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.1.cmml">≺</mo><mi id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.3" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.3.cmml">r</mi></mrow></msubsup></mrow></mrow></mrow><mo id="S3.E7.m3.2.2.1.1.1.3" stretchy="false" xref="S3.E7.m3.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m3.2b"><apply id="S3.E7.m3.2.2.cmml" xref="S3.E7.m3.2.2"><apply id="S3.E7.m3.2.2.2.cmml" xref="S3.E7.m3.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m3.2.2.2.1.cmml" xref="S3.E7.m3.2.2.2">superscript</csymbol><apply id="S3.E7.m3.2.2.2.2.cmml" xref="S3.E7.m3.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m3.2.2.2.2.1.cmml" xref="S3.E7.m3.2.2.2">subscript</csymbol><sum id="S3.E7.m3.2.2.2.2.2.cmml" xref="S3.E7.m3.2.2.2.2.2"></sum><apply id="S3.E7.m3.2.2.2.2.3.cmml" xref="S3.E7.m3.2.2.2.2.3"><eq id="S3.E7.m3.2.2.2.2.3.1.cmml" xref="S3.E7.m3.2.2.2.2.3.1"></eq><ci id="S3.E7.m3.2.2.2.2.3.2.cmml" xref="S3.E7.m3.2.2.2.2.3.2">𝑟</ci><cn id="S3.E7.m3.2.2.2.2.3.3.cmml" type="integer" xref="S3.E7.m3.2.2.2.2.3.3">1</cn></apply></apply><ci id="S3.E7.m3.2.2.2.3.cmml" xref="S3.E7.m3.2.2.2.3">𝑁</ci></apply><apply id="S3.E7.m3.2.2.1.cmml" xref="S3.E7.m3.2.2.1"><times id="S3.E7.m3.2.2.1.2.cmml" xref="S3.E7.m3.2.2.1.2"></times><ci id="S3.E7.m3.2.2.1.3.cmml" xref="S3.E7.m3.2.2.1.3">ℙ</ci><apply id="S3.E7.m3.2.2.1.1.1.1.cmml" xref="S3.E7.m3.2.2.1.1.1"><eq id="S3.E7.m3.2.2.1.1.1.1.3.cmml" xref="S3.E7.m3.2.2.1.1.1.1.3"></eq><apply id="S3.E7.m3.2.2.1.1.1.1.4.cmml" xref="S3.E7.m3.2.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E7.m3.2.2.1.1.1.1.4.1.cmml" xref="S3.E7.m3.2.2.1.1.1.1.4">subscript</csymbol><ci id="S3.E7.m3.2.2.1.1.1.1.4.2.cmml" xref="S3.E7.m3.2.2.1.1.1.1.4.2">𝐜</ci><apply id="S3.E7.m3.1.1.1.cmml" xref="S3.E7.m3.1.1.1"><times id="S3.E7.m3.1.1.1.2.cmml" xref="S3.E7.m3.1.1.1.2"></times><apply id="S3.E7.m3.1.1.1.3.cmml" xref="S3.E7.m3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m3.1.1.1.3.1.cmml" xref="S3.E7.m3.1.1.1.3">superscript</csymbol><ci id="S3.E7.m3.1.1.1.3.2.cmml" xref="S3.E7.m3.1.1.1.3.2">𝜋</ci><apply id="S3.E7.m3.1.1.1.3.3.cmml" xref="S3.E7.m3.1.1.1.3.3"><minus id="S3.E7.m3.1.1.1.3.3.1.cmml" xref="S3.E7.m3.1.1.1.3.3"></minus><cn id="S3.E7.m3.1.1.1.3.3.2.cmml" type="integer" xref="S3.E7.m3.1.1.1.3.3.2">1</cn></apply></apply><ci id="S3.E7.m3.1.1.1.1.cmml" xref="S3.E7.m3.1.1.1.1">𝑟</ci></apply></apply><apply id="S3.E7.m3.2.2.1.1.1.1.2.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2"><csymbol cd="latexml" id="S3.E7.m3.2.2.1.1.1.1.2.3.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.3">conditional</csymbol><cn id="S3.E7.m3.2.2.1.1.1.1.2.4.cmml" type="integer" xref="S3.E7.m3.2.2.1.1.1.1.2.4">1</cn><list id="S3.E7.m3.2.2.1.1.1.1.2.2.3.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2"><apply id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.2">𝑠</ci><apply id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7.m3.2.2.1.1.1.1.1.1.1.1.3.3">𝑞</ci></apply></apply><apply id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2">superscript</csymbol><apply id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.2.2">𝒟</ci><ci id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.2.3">𝑞</ci></apply><apply id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3"><csymbol cd="latexml" id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.1.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.2.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.2">absent</csymbol><ci id="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.3.cmml" xref="S3.E7.m3.2.2.1.1.1.1.2.2.2.2.3.3">𝑟</ci></apply></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m3.2c">\displaystyle\!\!\!\sum_{r=1}^{N}\mathbb{P}(\mathbf{c}_{\pi^{-1}(r)}=1|s_{%
\prec q},\mathcal{D}_{q}^{\prec r})</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m3.2d">∑ start_POSTSUBSCRIPT italic_r = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT blackboard_P ( bold_c start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1 | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT , caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ≺ italic_r end_POSTSUPERSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(8)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math alttext="\displaystyle=" class="ltx_Math" display="inline" id="S3.E8.m1.1"><semantics id="S3.E8.m1.1a"><mo id="S3.E8.m1.1.1" xref="S3.E8.m1.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="S3.E8.m1.1b"><eq id="S3.E8.m1.1.1.cmml" xref="S3.E8.m1.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.1c">\displaystyle=</annotation><annotation encoding="application/x-llamapun" id="S3.E8.m1.1d">=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\!\!\!\sum_{r=1}^{N}\mathbb{P}(\mathbf{c}_{\pi^{-1}(r)}=1|s_{%
\prec q},r)" class="ltx_Math" display="inline" id="S3.E8.m2.3"><semantics id="S3.E8.m2.3a"><mrow id="S3.E8.m2.3.3" xref="S3.E8.m2.3.3.cmml"><mstyle displaystyle="true" id="S3.E8.m2.3.3.2" xref="S3.E8.m2.3.3.2.cmml"><munderover id="S3.E8.m2.3.3.2a" xref="S3.E8.m2.3.3.2.cmml"><mo id="S3.E8.m2.3.3.2.2.2" movablelimits="false" xref="S3.E8.m2.3.3.2.2.2.cmml">∑</mo><mrow id="S3.E8.m2.3.3.2.2.3" xref="S3.E8.m2.3.3.2.2.3.cmml"><mi id="S3.E8.m2.3.3.2.2.3.2" xref="S3.E8.m2.3.3.2.2.3.2.cmml">r</mi><mo id="S3.E8.m2.3.3.2.2.3.1" xref="S3.E8.m2.3.3.2.2.3.1.cmml">=</mo><mn id="S3.E8.m2.3.3.2.2.3.3" xref="S3.E8.m2.3.3.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E8.m2.3.3.2.3" xref="S3.E8.m2.3.3.2.3.cmml">N</mi></munderover></mstyle><mrow id="S3.E8.m2.3.3.1" xref="S3.E8.m2.3.3.1.cmml"><mi id="S3.E8.m2.3.3.1.3" xref="S3.E8.m2.3.3.1.3.cmml">ℙ</mi><mo id="S3.E8.m2.3.3.1.2" xref="S3.E8.m2.3.3.1.2.cmml">⁢</mo><mrow id="S3.E8.m2.3.3.1.1.1" xref="S3.E8.m2.3.3.1.1.1.1.cmml"><mo id="S3.E8.m2.3.3.1.1.1.2" stretchy="false" xref="S3.E8.m2.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.E8.m2.3.3.1.1.1.1" xref="S3.E8.m2.3.3.1.1.1.1.cmml"><msub id="S3.E8.m2.3.3.1.1.1.1.3" xref="S3.E8.m2.3.3.1.1.1.1.3.cmml"><mi id="S3.E8.m2.3.3.1.1.1.1.3.2" xref="S3.E8.m2.3.3.1.1.1.1.3.2.cmml">𝐜</mi><mrow id="S3.E8.m2.1.1.1" xref="S3.E8.m2.1.1.1.cmml"><msup id="S3.E8.m2.1.1.1.3" xref="S3.E8.m2.1.1.1.3.cmml"><mi id="S3.E8.m2.1.1.1.3.2" xref="S3.E8.m2.1.1.1.3.2.cmml">π</mi><mrow id="S3.E8.m2.1.1.1.3.3" xref="S3.E8.m2.1.1.1.3.3.cmml"><mo id="S3.E8.m2.1.1.1.3.3a" xref="S3.E8.m2.1.1.1.3.3.cmml">−</mo><mn id="S3.E8.m2.1.1.1.3.3.2" xref="S3.E8.m2.1.1.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.E8.m2.1.1.1.2" xref="S3.E8.m2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E8.m2.1.1.1.4.2" xref="S3.E8.m2.1.1.1.cmml"><mo id="S3.E8.m2.1.1.1.4.2.1" stretchy="false" xref="S3.E8.m2.1.1.1.cmml">(</mo><mi id="S3.E8.m2.1.1.1.1" xref="S3.E8.m2.1.1.1.1.cmml">r</mi><mo id="S3.E8.m2.1.1.1.4.2.2" stretchy="false" xref="S3.E8.m2.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.E8.m2.3.3.1.1.1.1.2" xref="S3.E8.m2.3.3.1.1.1.1.2.cmml">=</mo><mrow id="S3.E8.m2.3.3.1.1.1.1.1" xref="S3.E8.m2.3.3.1.1.1.1.1.cmml"><mn id="S3.E8.m2.3.3.1.1.1.1.1.3" xref="S3.E8.m2.3.3.1.1.1.1.1.3.cmml">1</mn><mo fence="false" id="S3.E8.m2.3.3.1.1.1.1.1.2" xref="S3.E8.m2.3.3.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E8.m2.3.3.1.1.1.1.1.1.1" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2.cmml"><msub id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.2.cmml">s</mi><mrow id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.2" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.1" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.1.cmml">≺</mo><mi id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.3" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.3.cmml">q</mi></mrow></msub><mo id="S3.E8.m2.3.3.1.1.1.1.1.1.1.2" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E8.m2.2.2" xref="S3.E8.m2.2.2.cmml">r</mi></mrow></mrow></mrow><mo id="S3.E8.m2.3.3.1.1.1.3" stretchy="false" xref="S3.E8.m2.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m2.3b"><apply id="S3.E8.m2.3.3.cmml" xref="S3.E8.m2.3.3"><apply id="S3.E8.m2.3.3.2.cmml" xref="S3.E8.m2.3.3.2"><csymbol cd="ambiguous" id="S3.E8.m2.3.3.2.1.cmml" xref="S3.E8.m2.3.3.2">superscript</csymbol><apply id="S3.E8.m2.3.3.2.2.cmml" xref="S3.E8.m2.3.3.2"><csymbol cd="ambiguous" id="S3.E8.m2.3.3.2.2.1.cmml" xref="S3.E8.m2.3.3.2">subscript</csymbol><sum id="S3.E8.m2.3.3.2.2.2.cmml" xref="S3.E8.m2.3.3.2.2.2"></sum><apply id="S3.E8.m2.3.3.2.2.3.cmml" xref="S3.E8.m2.3.3.2.2.3"><eq id="S3.E8.m2.3.3.2.2.3.1.cmml" xref="S3.E8.m2.3.3.2.2.3.1"></eq><ci id="S3.E8.m2.3.3.2.2.3.2.cmml" xref="S3.E8.m2.3.3.2.2.3.2">𝑟</ci><cn id="S3.E8.m2.3.3.2.2.3.3.cmml" type="integer" xref="S3.E8.m2.3.3.2.2.3.3">1</cn></apply></apply><ci id="S3.E8.m2.3.3.2.3.cmml" xref="S3.E8.m2.3.3.2.3">𝑁</ci></apply><apply id="S3.E8.m2.3.3.1.cmml" xref="S3.E8.m2.3.3.1"><times id="S3.E8.m2.3.3.1.2.cmml" xref="S3.E8.m2.3.3.1.2"></times><ci id="S3.E8.m2.3.3.1.3.cmml" xref="S3.E8.m2.3.3.1.3">ℙ</ci><apply id="S3.E8.m2.3.3.1.1.1.1.cmml" xref="S3.E8.m2.3.3.1.1.1"><eq id="S3.E8.m2.3.3.1.1.1.1.2.cmml" xref="S3.E8.m2.3.3.1.1.1.1.2"></eq><apply id="S3.E8.m2.3.3.1.1.1.1.3.cmml" xref="S3.E8.m2.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m2.3.3.1.1.1.1.3.1.cmml" xref="S3.E8.m2.3.3.1.1.1.1.3">subscript</csymbol><ci id="S3.E8.m2.3.3.1.1.1.1.3.2.cmml" xref="S3.E8.m2.3.3.1.1.1.1.3.2">𝐜</ci><apply id="S3.E8.m2.1.1.1.cmml" xref="S3.E8.m2.1.1.1"><times id="S3.E8.m2.1.1.1.2.cmml" xref="S3.E8.m2.1.1.1.2"></times><apply id="S3.E8.m2.1.1.1.3.cmml" xref="S3.E8.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m2.1.1.1.3.1.cmml" xref="S3.E8.m2.1.1.1.3">superscript</csymbol><ci id="S3.E8.m2.1.1.1.3.2.cmml" xref="S3.E8.m2.1.1.1.3.2">𝜋</ci><apply id="S3.E8.m2.1.1.1.3.3.cmml" xref="S3.E8.m2.1.1.1.3.3"><minus id="S3.E8.m2.1.1.1.3.3.1.cmml" xref="S3.E8.m2.1.1.1.3.3"></minus><cn id="S3.E8.m2.1.1.1.3.3.2.cmml" type="integer" xref="S3.E8.m2.1.1.1.3.3.2">1</cn></apply></apply><ci id="S3.E8.m2.1.1.1.1.cmml" xref="S3.E8.m2.1.1.1.1">𝑟</ci></apply></apply><apply id="S3.E8.m2.3.3.1.1.1.1.1.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S3.E8.m2.3.3.1.1.1.1.1.2.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.2">conditional</csymbol><cn id="S3.E8.m2.3.3.1.1.1.1.1.3.cmml" type="integer" xref="S3.E8.m2.3.3.1.1.1.1.1.3">1</cn><list id="S3.E8.m2.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1"><apply id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.2">𝑠</ci><apply id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.1.3.3">𝑞</ci></apply></apply><ci id="S3.E8.m2.2.2.cmml" xref="S3.E8.m2.2.2">𝑟</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m2.3c">\displaystyle\!\!\!\sum_{r=1}^{N}\mathbb{P}(\mathbf{c}_{\pi^{-1}(r)}=1|s_{%
\prec q},r)</annotation><annotation encoding="application/x-llamapun" id="S3.E8.m2.3d">∑ start_POSTSUBSCRIPT italic_r = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT blackboard_P ( bold_c start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1 | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT , italic_r )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E9"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(9)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math alttext="\displaystyle=" class="ltx_Math" display="inline" id="S3.E9.m1.1"><semantics id="S3.E9.m1.1a"><mo id="S3.E9.m1.1.1" xref="S3.E9.m1.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="S3.E9.m1.1b"><eq id="S3.E9.m1.1.1.cmml" xref="S3.E9.m1.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.1c">\displaystyle=</annotation><annotation encoding="application/x-llamapun" id="S3.E9.m1.1d">=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\!\!\!\sum_{r=1}^{N}\mathbb{P}(\mathbf{o}_{\pi^{-1}(r)}=1|q)\!%
\times\!\mathbb{P}(\mathbf{R}_{\pi^{-1}(r)}=1|s_{\prec q})" class="ltx_Math" display="inline" id="S3.E9.m2.4"><semantics id="S3.E9.m2.4a"><mrow id="S3.E9.m2.4.4" xref="S3.E9.m2.4.4.cmml"><mstyle displaystyle="true" id="S3.E9.m2.4.4.3" xref="S3.E9.m2.4.4.3.cmml"><munderover id="S3.E9.m2.4.4.3a" xref="S3.E9.m2.4.4.3.cmml"><mo id="S3.E9.m2.4.4.3.2.2" movablelimits="false" xref="S3.E9.m2.4.4.3.2.2.cmml">∑</mo><mrow id="S3.E9.m2.4.4.3.2.3" xref="S3.E9.m2.4.4.3.2.3.cmml"><mi id="S3.E9.m2.4.4.3.2.3.2" xref="S3.E9.m2.4.4.3.2.3.2.cmml">r</mi><mo id="S3.E9.m2.4.4.3.2.3.1" xref="S3.E9.m2.4.4.3.2.3.1.cmml">=</mo><mn id="S3.E9.m2.4.4.3.2.3.3" xref="S3.E9.m2.4.4.3.2.3.3.cmml">1</mn></mrow><mi id="S3.E9.m2.4.4.3.3" xref="S3.E9.m2.4.4.3.3.cmml">N</mi></munderover></mstyle><mrow id="S3.E9.m2.4.4.2" xref="S3.E9.m2.4.4.2.cmml"><mrow id="S3.E9.m2.3.3.1.1" xref="S3.E9.m2.3.3.1.1.cmml"><mrow id="S3.E9.m2.3.3.1.1.1" xref="S3.E9.m2.3.3.1.1.1.cmml"><mi id="S3.E9.m2.3.3.1.1.1.3" xref="S3.E9.m2.3.3.1.1.1.3.cmml">ℙ</mi><mo id="S3.E9.m2.3.3.1.1.1.2" xref="S3.E9.m2.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E9.m2.3.3.1.1.1.1.1" xref="S3.E9.m2.3.3.1.1.1.1.1.1.cmml"><mo id="S3.E9.m2.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.E9.m2.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E9.m2.3.3.1.1.1.1.1.1" xref="S3.E9.m2.3.3.1.1.1.1.1.1.cmml"><msub id="S3.E9.m2.3.3.1.1.1.1.1.1.2" xref="S3.E9.m2.3.3.1.1.1.1.1.1.2.cmml"><mi id="S3.E9.m2.3.3.1.1.1.1.1.1.2.2" xref="S3.E9.m2.3.3.1.1.1.1.1.1.2.2.cmml">𝐨</mi><mrow id="S3.E9.m2.1.1.1" xref="S3.E9.m2.1.1.1.cmml"><msup id="S3.E9.m2.1.1.1.3" xref="S3.E9.m2.1.1.1.3.cmml"><mi id="S3.E9.m2.1.1.1.3.2" xref="S3.E9.m2.1.1.1.3.2.cmml">π</mi><mrow id="S3.E9.m2.1.1.1.3.3" xref="S3.E9.m2.1.1.1.3.3.cmml"><mo id="S3.E9.m2.1.1.1.3.3a" xref="S3.E9.m2.1.1.1.3.3.cmml">−</mo><mn id="S3.E9.m2.1.1.1.3.3.2" xref="S3.E9.m2.1.1.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.E9.m2.1.1.1.2" xref="S3.E9.m2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E9.m2.1.1.1.4.2" xref="S3.E9.m2.1.1.1.cmml"><mo id="S3.E9.m2.1.1.1.4.2.1" stretchy="false" xref="S3.E9.m2.1.1.1.cmml">(</mo><mi id="S3.E9.m2.1.1.1.1" xref="S3.E9.m2.1.1.1.1.cmml">r</mi><mo id="S3.E9.m2.1.1.1.4.2.2" stretchy="false" xref="S3.E9.m2.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.E9.m2.3.3.1.1.1.1.1.1.1" xref="S3.E9.m2.3.3.1.1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E9.m2.3.3.1.1.1.1.1.1.3" xref="S3.E9.m2.3.3.1.1.1.1.1.1.3.cmml"><mn id="S3.E9.m2.3.3.1.1.1.1.1.1.3.2" xref="S3.E9.m2.3.3.1.1.1.1.1.1.3.2.cmml">1</mn><mo fence="false" id="S3.E9.m2.3.3.1.1.1.1.1.1.3.1" xref="S3.E9.m2.3.3.1.1.1.1.1.1.3.1.cmml">|</mo><mi id="S3.E9.m2.3.3.1.1.1.1.1.1.3.3" xref="S3.E9.m2.3.3.1.1.1.1.1.1.3.3.cmml">q</mi></mrow></mrow><mo id="S3.E9.m2.3.3.1.1.1.1.1.3" stretchy="false" xref="S3.E9.m2.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E9.m2.3.3.1.1.2" lspace="0.052em" rspace="0.052em" xref="S3.E9.m2.3.3.1.1.2.cmml">×</mo><mi id="S3.E9.m2.3.3.1.1.3" xref="S3.E9.m2.3.3.1.1.3.cmml">ℙ</mi></mrow><mo id="S3.E9.m2.4.4.2.3" xref="S3.E9.m2.4.4.2.3.cmml">⁢</mo><mrow id="S3.E9.m2.4.4.2.2.1" xref="S3.E9.m2.4.4.2.2.1.1.cmml"><mo id="S3.E9.m2.4.4.2.2.1.2" stretchy="false" xref="S3.E9.m2.4.4.2.2.1.1.cmml">(</mo><mrow id="S3.E9.m2.4.4.2.2.1.1" xref="S3.E9.m2.4.4.2.2.1.1.cmml"><msub id="S3.E9.m2.4.4.2.2.1.1.2" xref="S3.E9.m2.4.4.2.2.1.1.2.cmml"><mi id="S3.E9.m2.4.4.2.2.1.1.2.2" xref="S3.E9.m2.4.4.2.2.1.1.2.2.cmml">𝐑</mi><mrow id="S3.E9.m2.2.2.1" xref="S3.E9.m2.2.2.1.cmml"><msup id="S3.E9.m2.2.2.1.3" xref="S3.E9.m2.2.2.1.3.cmml"><mi id="S3.E9.m2.2.2.1.3.2" xref="S3.E9.m2.2.2.1.3.2.cmml">π</mi><mrow id="S3.E9.m2.2.2.1.3.3" xref="S3.E9.m2.2.2.1.3.3.cmml"><mo id="S3.E9.m2.2.2.1.3.3a" xref="S3.E9.m2.2.2.1.3.3.cmml">−</mo><mn id="S3.E9.m2.2.2.1.3.3.2" xref="S3.E9.m2.2.2.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.E9.m2.2.2.1.2" xref="S3.E9.m2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E9.m2.2.2.1.4.2" xref="S3.E9.m2.2.2.1.cmml"><mo id="S3.E9.m2.2.2.1.4.2.1" stretchy="false" xref="S3.E9.m2.2.2.1.cmml">(</mo><mi id="S3.E9.m2.2.2.1.1" xref="S3.E9.m2.2.2.1.1.cmml">r</mi><mo id="S3.E9.m2.2.2.1.4.2.2" stretchy="false" xref="S3.E9.m2.2.2.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.E9.m2.4.4.2.2.1.1.1" xref="S3.E9.m2.4.4.2.2.1.1.1.cmml">=</mo><mrow id="S3.E9.m2.4.4.2.2.1.1.3" xref="S3.E9.m2.4.4.2.2.1.1.3.cmml"><mn id="S3.E9.m2.4.4.2.2.1.1.3.2" xref="S3.E9.m2.4.4.2.2.1.1.3.2.cmml">1</mn><mo fence="false" id="S3.E9.m2.4.4.2.2.1.1.3.1" xref="S3.E9.m2.4.4.2.2.1.1.3.1.cmml">|</mo><msub id="S3.E9.m2.4.4.2.2.1.1.3.3" xref="S3.E9.m2.4.4.2.2.1.1.3.3.cmml"><mi id="S3.E9.m2.4.4.2.2.1.1.3.3.2" xref="S3.E9.m2.4.4.2.2.1.1.3.3.2.cmml">s</mi><mrow id="S3.E9.m2.4.4.2.2.1.1.3.3.3" xref="S3.E9.m2.4.4.2.2.1.1.3.3.3.cmml"><mi id="S3.E9.m2.4.4.2.2.1.1.3.3.3.2" xref="S3.E9.m2.4.4.2.2.1.1.3.3.3.2.cmml"></mi><mo id="S3.E9.m2.4.4.2.2.1.1.3.3.3.1" xref="S3.E9.m2.4.4.2.2.1.1.3.3.3.1.cmml">≺</mo><mi id="S3.E9.m2.4.4.2.2.1.1.3.3.3.3" xref="S3.E9.m2.4.4.2.2.1.1.3.3.3.3.cmml">q</mi></mrow></msub></mrow></mrow><mo id="S3.E9.m2.4.4.2.2.1.3" stretchy="false" xref="S3.E9.m2.4.4.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E9.m2.4b"><apply id="S3.E9.m2.4.4.cmml" xref="S3.E9.m2.4.4"><apply id="S3.E9.m2.4.4.3.cmml" xref="S3.E9.m2.4.4.3"><csymbol cd="ambiguous" id="S3.E9.m2.4.4.3.1.cmml" xref="S3.E9.m2.4.4.3">superscript</csymbol><apply id="S3.E9.m2.4.4.3.2.cmml" xref="S3.E9.m2.4.4.3"><csymbol cd="ambiguous" id="S3.E9.m2.4.4.3.2.1.cmml" xref="S3.E9.m2.4.4.3">subscript</csymbol><sum id="S3.E9.m2.4.4.3.2.2.cmml" xref="S3.E9.m2.4.4.3.2.2"></sum><apply id="S3.E9.m2.4.4.3.2.3.cmml" xref="S3.E9.m2.4.4.3.2.3"><eq id="S3.E9.m2.4.4.3.2.3.1.cmml" xref="S3.E9.m2.4.4.3.2.3.1"></eq><ci id="S3.E9.m2.4.4.3.2.3.2.cmml" xref="S3.E9.m2.4.4.3.2.3.2">𝑟</ci><cn id="S3.E9.m2.4.4.3.2.3.3.cmml" type="integer" xref="S3.E9.m2.4.4.3.2.3.3">1</cn></apply></apply><ci id="S3.E9.m2.4.4.3.3.cmml" xref="S3.E9.m2.4.4.3.3">𝑁</ci></apply><apply id="S3.E9.m2.4.4.2.cmml" xref="S3.E9.m2.4.4.2"><times id="S3.E9.m2.4.4.2.3.cmml" xref="S3.E9.m2.4.4.2.3"></times><apply id="S3.E9.m2.3.3.1.1.cmml" xref="S3.E9.m2.3.3.1.1"><times id="S3.E9.m2.3.3.1.1.2.cmml" xref="S3.E9.m2.3.3.1.1.2"></times><apply id="S3.E9.m2.3.3.1.1.1.cmml" xref="S3.E9.m2.3.3.1.1.1"><times id="S3.E9.m2.3.3.1.1.1.2.cmml" xref="S3.E9.m2.3.3.1.1.1.2"></times><ci id="S3.E9.m2.3.3.1.1.1.3.cmml" xref="S3.E9.m2.3.3.1.1.1.3">ℙ</ci><apply id="S3.E9.m2.3.3.1.1.1.1.1.1.cmml" xref="S3.E9.m2.3.3.1.1.1.1.1"><eq id="S3.E9.m2.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E9.m2.3.3.1.1.1.1.1.1.1"></eq><apply id="S3.E9.m2.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E9.m2.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E9.m2.3.3.1.1.1.1.1.1.2.1.cmml" xref="S3.E9.m2.3.3.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E9.m2.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E9.m2.3.3.1.1.1.1.1.1.2.2">𝐨</ci><apply id="S3.E9.m2.1.1.1.cmml" xref="S3.E9.m2.1.1.1"><times id="S3.E9.m2.1.1.1.2.cmml" xref="S3.E9.m2.1.1.1.2"></times><apply id="S3.E9.m2.1.1.1.3.cmml" xref="S3.E9.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m2.1.1.1.3.1.cmml" xref="S3.E9.m2.1.1.1.3">superscript</csymbol><ci id="S3.E9.m2.1.1.1.3.2.cmml" xref="S3.E9.m2.1.1.1.3.2">𝜋</ci><apply id="S3.E9.m2.1.1.1.3.3.cmml" xref="S3.E9.m2.1.1.1.3.3"><minus id="S3.E9.m2.1.1.1.3.3.1.cmml" xref="S3.E9.m2.1.1.1.3.3"></minus><cn id="S3.E9.m2.1.1.1.3.3.2.cmml" type="integer" xref="S3.E9.m2.1.1.1.3.3.2">1</cn></apply></apply><ci id="S3.E9.m2.1.1.1.1.cmml" xref="S3.E9.m2.1.1.1.1">𝑟</ci></apply></apply><apply id="S3.E9.m2.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E9.m2.3.3.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.E9.m2.3.3.1.1.1.1.1.1.3.1.cmml" xref="S3.E9.m2.3.3.1.1.1.1.1.1.3.1">conditional</csymbol><cn id="S3.E9.m2.3.3.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S3.E9.m2.3.3.1.1.1.1.1.1.3.2">1</cn><ci id="S3.E9.m2.3.3.1.1.1.1.1.1.3.3.cmml" xref="S3.E9.m2.3.3.1.1.1.1.1.1.3.3">𝑞</ci></apply></apply></apply><ci id="S3.E9.m2.3.3.1.1.3.cmml" xref="S3.E9.m2.3.3.1.1.3">ℙ</ci></apply><apply id="S3.E9.m2.4.4.2.2.1.1.cmml" xref="S3.E9.m2.4.4.2.2.1"><eq id="S3.E9.m2.4.4.2.2.1.1.1.cmml" xref="S3.E9.m2.4.4.2.2.1.1.1"></eq><apply id="S3.E9.m2.4.4.2.2.1.1.2.cmml" xref="S3.E9.m2.4.4.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E9.m2.4.4.2.2.1.1.2.1.cmml" xref="S3.E9.m2.4.4.2.2.1.1.2">subscript</csymbol><ci id="S3.E9.m2.4.4.2.2.1.1.2.2.cmml" xref="S3.E9.m2.4.4.2.2.1.1.2.2">𝐑</ci><apply id="S3.E9.m2.2.2.1.cmml" xref="S3.E9.m2.2.2.1"><times id="S3.E9.m2.2.2.1.2.cmml" xref="S3.E9.m2.2.2.1.2"></times><apply id="S3.E9.m2.2.2.1.3.cmml" xref="S3.E9.m2.2.2.1.3"><csymbol cd="ambiguous" id="S3.E9.m2.2.2.1.3.1.cmml" xref="S3.E9.m2.2.2.1.3">superscript</csymbol><ci id="S3.E9.m2.2.2.1.3.2.cmml" xref="S3.E9.m2.2.2.1.3.2">𝜋</ci><apply id="S3.E9.m2.2.2.1.3.3.cmml" xref="S3.E9.m2.2.2.1.3.3"><minus id="S3.E9.m2.2.2.1.3.3.1.cmml" xref="S3.E9.m2.2.2.1.3.3"></minus><cn id="S3.E9.m2.2.2.1.3.3.2.cmml" type="integer" xref="S3.E9.m2.2.2.1.3.3.2">1</cn></apply></apply><ci id="S3.E9.m2.2.2.1.1.cmml" xref="S3.E9.m2.2.2.1.1">𝑟</ci></apply></apply><apply id="S3.E9.m2.4.4.2.2.1.1.3.cmml" xref="S3.E9.m2.4.4.2.2.1.1.3"><csymbol cd="latexml" id="S3.E9.m2.4.4.2.2.1.1.3.1.cmml" xref="S3.E9.m2.4.4.2.2.1.1.3.1">conditional</csymbol><cn id="S3.E9.m2.4.4.2.2.1.1.3.2.cmml" type="integer" xref="S3.E9.m2.4.4.2.2.1.1.3.2">1</cn><apply id="S3.E9.m2.4.4.2.2.1.1.3.3.cmml" xref="S3.E9.m2.4.4.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S3.E9.m2.4.4.2.2.1.1.3.3.1.cmml" xref="S3.E9.m2.4.4.2.2.1.1.3.3">subscript</csymbol><ci id="S3.E9.m2.4.4.2.2.1.1.3.3.2.cmml" xref="S3.E9.m2.4.4.2.2.1.1.3.3.2">𝑠</ci><apply id="S3.E9.m2.4.4.2.2.1.1.3.3.3.cmml" xref="S3.E9.m2.4.4.2.2.1.1.3.3.3"><csymbol cd="latexml" id="S3.E9.m2.4.4.2.2.1.1.3.3.3.1.cmml" xref="S3.E9.m2.4.4.2.2.1.1.3.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.E9.m2.4.4.2.2.1.1.3.3.3.2.cmml" xref="S3.E9.m2.4.4.2.2.1.1.3.3.3.2">absent</csymbol><ci id="S3.E9.m2.4.4.2.2.1.1.3.3.3.3.cmml" xref="S3.E9.m2.4.4.2.2.1.1.3.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m2.4c">\displaystyle\!\!\!\sum_{r=1}^{N}\mathbb{P}(\mathbf{o}_{\pi^{-1}(r)}=1|q)\!%
\times\!\mathbb{P}(\mathbf{R}_{\pi^{-1}(r)}=1|s_{\prec q})</annotation><annotation encoding="application/x-llamapun" id="S3.E9.m2.4d">∑ start_POSTSUBSCRIPT italic_r = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT blackboard_P ( bold_o start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1 | italic_q ) × blackboard_P ( bold_R start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1 | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(10)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math alttext="\displaystyle=" class="ltx_Math" display="inline" id="S3.E10.m1.1"><semantics id="S3.E10.m1.1a"><mo id="S3.E10.m1.1.1" xref="S3.E10.m1.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="S3.E10.m1.1b"><eq id="S3.E10.m1.1.1.cmml" xref="S3.E10.m1.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.1c">\displaystyle=</annotation><annotation encoding="application/x-llamapun" id="S3.E10.m1.1d">=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\!\!\!\sum_{r=1}^{N}\mathbb{P}(\mathbf{o}_{\pi^{-1}(r)}=1)\!%
\times\!\mathbb{P}(\mathbf{R}_{\pi^{-1}(r)}=1|s_{\prec q})" class="ltx_Math" display="inline" id="S3.E10.m2.4"><semantics id="S3.E10.m2.4a"><mrow id="S3.E10.m2.4.4" xref="S3.E10.m2.4.4.cmml"><mstyle displaystyle="true" id="S3.E10.m2.4.4.3" xref="S3.E10.m2.4.4.3.cmml"><munderover id="S3.E10.m2.4.4.3a" xref="S3.E10.m2.4.4.3.cmml"><mo id="S3.E10.m2.4.4.3.2.2" movablelimits="false" xref="S3.E10.m2.4.4.3.2.2.cmml">∑</mo><mrow id="S3.E10.m2.4.4.3.2.3" xref="S3.E10.m2.4.4.3.2.3.cmml"><mi id="S3.E10.m2.4.4.3.2.3.2" xref="S3.E10.m2.4.4.3.2.3.2.cmml">r</mi><mo id="S3.E10.m2.4.4.3.2.3.1" xref="S3.E10.m2.4.4.3.2.3.1.cmml">=</mo><mn id="S3.E10.m2.4.4.3.2.3.3" xref="S3.E10.m2.4.4.3.2.3.3.cmml">1</mn></mrow><mi id="S3.E10.m2.4.4.3.3" xref="S3.E10.m2.4.4.3.3.cmml">N</mi></munderover></mstyle><mrow id="S3.E10.m2.4.4.2" xref="S3.E10.m2.4.4.2.cmml"><mrow id="S3.E10.m2.3.3.1.1" xref="S3.E10.m2.3.3.1.1.cmml"><mrow id="S3.E10.m2.3.3.1.1.1" xref="S3.E10.m2.3.3.1.1.1.cmml"><mi id="S3.E10.m2.3.3.1.1.1.3" xref="S3.E10.m2.3.3.1.1.1.3.cmml">ℙ</mi><mo id="S3.E10.m2.3.3.1.1.1.2" xref="S3.E10.m2.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E10.m2.3.3.1.1.1.1.1" xref="S3.E10.m2.3.3.1.1.1.1.1.1.cmml"><mo id="S3.E10.m2.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.E10.m2.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E10.m2.3.3.1.1.1.1.1.1" xref="S3.E10.m2.3.3.1.1.1.1.1.1.cmml"><msub id="S3.E10.m2.3.3.1.1.1.1.1.1.2" xref="S3.E10.m2.3.3.1.1.1.1.1.1.2.cmml"><mi id="S3.E10.m2.3.3.1.1.1.1.1.1.2.2" xref="S3.E10.m2.3.3.1.1.1.1.1.1.2.2.cmml">𝐨</mi><mrow id="S3.E10.m2.1.1.1" xref="S3.E10.m2.1.1.1.cmml"><msup id="S3.E10.m2.1.1.1.3" xref="S3.E10.m2.1.1.1.3.cmml"><mi id="S3.E10.m2.1.1.1.3.2" xref="S3.E10.m2.1.1.1.3.2.cmml">π</mi><mrow id="S3.E10.m2.1.1.1.3.3" xref="S3.E10.m2.1.1.1.3.3.cmml"><mo id="S3.E10.m2.1.1.1.3.3a" xref="S3.E10.m2.1.1.1.3.3.cmml">−</mo><mn id="S3.E10.m2.1.1.1.3.3.2" xref="S3.E10.m2.1.1.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.E10.m2.1.1.1.2" xref="S3.E10.m2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E10.m2.1.1.1.4.2" xref="S3.E10.m2.1.1.1.cmml"><mo id="S3.E10.m2.1.1.1.4.2.1" stretchy="false" xref="S3.E10.m2.1.1.1.cmml">(</mo><mi id="S3.E10.m2.1.1.1.1" xref="S3.E10.m2.1.1.1.1.cmml">r</mi><mo id="S3.E10.m2.1.1.1.4.2.2" stretchy="false" xref="S3.E10.m2.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.E10.m2.3.3.1.1.1.1.1.1.1" xref="S3.E10.m2.3.3.1.1.1.1.1.1.1.cmml">=</mo><mn id="S3.E10.m2.3.3.1.1.1.1.1.1.3" xref="S3.E10.m2.3.3.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S3.E10.m2.3.3.1.1.1.1.1.3" stretchy="false" xref="S3.E10.m2.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E10.m2.3.3.1.1.2" lspace="0.052em" rspace="0.052em" xref="S3.E10.m2.3.3.1.1.2.cmml">×</mo><mi id="S3.E10.m2.3.3.1.1.3" xref="S3.E10.m2.3.3.1.1.3.cmml">ℙ</mi></mrow><mo id="S3.E10.m2.4.4.2.3" xref="S3.E10.m2.4.4.2.3.cmml">⁢</mo><mrow id="S3.E10.m2.4.4.2.2.1" xref="S3.E10.m2.4.4.2.2.1.1.cmml"><mo id="S3.E10.m2.4.4.2.2.1.2" stretchy="false" xref="S3.E10.m2.4.4.2.2.1.1.cmml">(</mo><mrow id="S3.E10.m2.4.4.2.2.1.1" xref="S3.E10.m2.4.4.2.2.1.1.cmml"><msub id="S3.E10.m2.4.4.2.2.1.1.2" xref="S3.E10.m2.4.4.2.2.1.1.2.cmml"><mi id="S3.E10.m2.4.4.2.2.1.1.2.2" xref="S3.E10.m2.4.4.2.2.1.1.2.2.cmml">𝐑</mi><mrow id="S3.E10.m2.2.2.1" xref="S3.E10.m2.2.2.1.cmml"><msup id="S3.E10.m2.2.2.1.3" xref="S3.E10.m2.2.2.1.3.cmml"><mi id="S3.E10.m2.2.2.1.3.2" xref="S3.E10.m2.2.2.1.3.2.cmml">π</mi><mrow id="S3.E10.m2.2.2.1.3.3" xref="S3.E10.m2.2.2.1.3.3.cmml"><mo id="S3.E10.m2.2.2.1.3.3a" xref="S3.E10.m2.2.2.1.3.3.cmml">−</mo><mn id="S3.E10.m2.2.2.1.3.3.2" xref="S3.E10.m2.2.2.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.E10.m2.2.2.1.2" xref="S3.E10.m2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E10.m2.2.2.1.4.2" xref="S3.E10.m2.2.2.1.cmml"><mo id="S3.E10.m2.2.2.1.4.2.1" stretchy="false" xref="S3.E10.m2.2.2.1.cmml">(</mo><mi id="S3.E10.m2.2.2.1.1" xref="S3.E10.m2.2.2.1.1.cmml">r</mi><mo id="S3.E10.m2.2.2.1.4.2.2" stretchy="false" xref="S3.E10.m2.2.2.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.E10.m2.4.4.2.2.1.1.1" xref="S3.E10.m2.4.4.2.2.1.1.1.cmml">=</mo><mrow id="S3.E10.m2.4.4.2.2.1.1.3" xref="S3.E10.m2.4.4.2.2.1.1.3.cmml"><mn id="S3.E10.m2.4.4.2.2.1.1.3.2" xref="S3.E10.m2.4.4.2.2.1.1.3.2.cmml">1</mn><mo fence="false" id="S3.E10.m2.4.4.2.2.1.1.3.1" xref="S3.E10.m2.4.4.2.2.1.1.3.1.cmml">|</mo><msub id="S3.E10.m2.4.4.2.2.1.1.3.3" xref="S3.E10.m2.4.4.2.2.1.1.3.3.cmml"><mi id="S3.E10.m2.4.4.2.2.1.1.3.3.2" xref="S3.E10.m2.4.4.2.2.1.1.3.3.2.cmml">s</mi><mrow id="S3.E10.m2.4.4.2.2.1.1.3.3.3" xref="S3.E10.m2.4.4.2.2.1.1.3.3.3.cmml"><mi id="S3.E10.m2.4.4.2.2.1.1.3.3.3.2" xref="S3.E10.m2.4.4.2.2.1.1.3.3.3.2.cmml"></mi><mo id="S3.E10.m2.4.4.2.2.1.1.3.3.3.1" xref="S3.E10.m2.4.4.2.2.1.1.3.3.3.1.cmml">≺</mo><mi id="S3.E10.m2.4.4.2.2.1.1.3.3.3.3" xref="S3.E10.m2.4.4.2.2.1.1.3.3.3.3.cmml">q</mi></mrow></msub></mrow></mrow><mo id="S3.E10.m2.4.4.2.2.1.3" stretchy="false" xref="S3.E10.m2.4.4.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m2.4b"><apply id="S3.E10.m2.4.4.cmml" xref="S3.E10.m2.4.4"><apply id="S3.E10.m2.4.4.3.cmml" xref="S3.E10.m2.4.4.3"><csymbol cd="ambiguous" id="S3.E10.m2.4.4.3.1.cmml" xref="S3.E10.m2.4.4.3">superscript</csymbol><apply id="S3.E10.m2.4.4.3.2.cmml" xref="S3.E10.m2.4.4.3"><csymbol cd="ambiguous" id="S3.E10.m2.4.4.3.2.1.cmml" xref="S3.E10.m2.4.4.3">subscript</csymbol><sum id="S3.E10.m2.4.4.3.2.2.cmml" xref="S3.E10.m2.4.4.3.2.2"></sum><apply id="S3.E10.m2.4.4.3.2.3.cmml" xref="S3.E10.m2.4.4.3.2.3"><eq id="S3.E10.m2.4.4.3.2.3.1.cmml" xref="S3.E10.m2.4.4.3.2.3.1"></eq><ci id="S3.E10.m2.4.4.3.2.3.2.cmml" xref="S3.E10.m2.4.4.3.2.3.2">𝑟</ci><cn id="S3.E10.m2.4.4.3.2.3.3.cmml" type="integer" xref="S3.E10.m2.4.4.3.2.3.3">1</cn></apply></apply><ci id="S3.E10.m2.4.4.3.3.cmml" xref="S3.E10.m2.4.4.3.3">𝑁</ci></apply><apply id="S3.E10.m2.4.4.2.cmml" xref="S3.E10.m2.4.4.2"><times id="S3.E10.m2.4.4.2.3.cmml" xref="S3.E10.m2.4.4.2.3"></times><apply id="S3.E10.m2.3.3.1.1.cmml" xref="S3.E10.m2.3.3.1.1"><times id="S3.E10.m2.3.3.1.1.2.cmml" xref="S3.E10.m2.3.3.1.1.2"></times><apply id="S3.E10.m2.3.3.1.1.1.cmml" xref="S3.E10.m2.3.3.1.1.1"><times id="S3.E10.m2.3.3.1.1.1.2.cmml" xref="S3.E10.m2.3.3.1.1.1.2"></times><ci id="S3.E10.m2.3.3.1.1.1.3.cmml" xref="S3.E10.m2.3.3.1.1.1.3">ℙ</ci><apply id="S3.E10.m2.3.3.1.1.1.1.1.1.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1"><eq id="S3.E10.m2.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.1.1"></eq><apply id="S3.E10.m2.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m2.3.3.1.1.1.1.1.1.2.1.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E10.m2.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.1.2.2">𝐨</ci><apply id="S3.E10.m2.1.1.1.cmml" xref="S3.E10.m2.1.1.1"><times id="S3.E10.m2.1.1.1.2.cmml" xref="S3.E10.m2.1.1.1.2"></times><apply id="S3.E10.m2.1.1.1.3.cmml" xref="S3.E10.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m2.1.1.1.3.1.cmml" xref="S3.E10.m2.1.1.1.3">superscript</csymbol><ci id="S3.E10.m2.1.1.1.3.2.cmml" xref="S3.E10.m2.1.1.1.3.2">𝜋</ci><apply id="S3.E10.m2.1.1.1.3.3.cmml" xref="S3.E10.m2.1.1.1.3.3"><minus id="S3.E10.m2.1.1.1.3.3.1.cmml" xref="S3.E10.m2.1.1.1.3.3"></minus><cn id="S3.E10.m2.1.1.1.3.3.2.cmml" type="integer" xref="S3.E10.m2.1.1.1.3.3.2">1</cn></apply></apply><ci id="S3.E10.m2.1.1.1.1.cmml" xref="S3.E10.m2.1.1.1.1">𝑟</ci></apply></apply><cn id="S3.E10.m2.3.3.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E10.m2.3.3.1.1.1.1.1.1.3">1</cn></apply></apply><ci id="S3.E10.m2.3.3.1.1.3.cmml" xref="S3.E10.m2.3.3.1.1.3">ℙ</ci></apply><apply id="S3.E10.m2.4.4.2.2.1.1.cmml" xref="S3.E10.m2.4.4.2.2.1"><eq id="S3.E10.m2.4.4.2.2.1.1.1.cmml" xref="S3.E10.m2.4.4.2.2.1.1.1"></eq><apply id="S3.E10.m2.4.4.2.2.1.1.2.cmml" xref="S3.E10.m2.4.4.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m2.4.4.2.2.1.1.2.1.cmml" xref="S3.E10.m2.4.4.2.2.1.1.2">subscript</csymbol><ci id="S3.E10.m2.4.4.2.2.1.1.2.2.cmml" xref="S3.E10.m2.4.4.2.2.1.1.2.2">𝐑</ci><apply id="S3.E10.m2.2.2.1.cmml" xref="S3.E10.m2.2.2.1"><times id="S3.E10.m2.2.2.1.2.cmml" xref="S3.E10.m2.2.2.1.2"></times><apply id="S3.E10.m2.2.2.1.3.cmml" xref="S3.E10.m2.2.2.1.3"><csymbol cd="ambiguous" id="S3.E10.m2.2.2.1.3.1.cmml" xref="S3.E10.m2.2.2.1.3">superscript</csymbol><ci id="S3.E10.m2.2.2.1.3.2.cmml" xref="S3.E10.m2.2.2.1.3.2">𝜋</ci><apply id="S3.E10.m2.2.2.1.3.3.cmml" xref="S3.E10.m2.2.2.1.3.3"><minus id="S3.E10.m2.2.2.1.3.3.1.cmml" xref="S3.E10.m2.2.2.1.3.3"></minus><cn id="S3.E10.m2.2.2.1.3.3.2.cmml" type="integer" xref="S3.E10.m2.2.2.1.3.3.2">1</cn></apply></apply><ci id="S3.E10.m2.2.2.1.1.cmml" xref="S3.E10.m2.2.2.1.1">𝑟</ci></apply></apply><apply id="S3.E10.m2.4.4.2.2.1.1.3.cmml" xref="S3.E10.m2.4.4.2.2.1.1.3"><csymbol cd="latexml" id="S3.E10.m2.4.4.2.2.1.1.3.1.cmml" xref="S3.E10.m2.4.4.2.2.1.1.3.1">conditional</csymbol><cn id="S3.E10.m2.4.4.2.2.1.1.3.2.cmml" type="integer" xref="S3.E10.m2.4.4.2.2.1.1.3.2">1</cn><apply id="S3.E10.m2.4.4.2.2.1.1.3.3.cmml" xref="S3.E10.m2.4.4.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S3.E10.m2.4.4.2.2.1.1.3.3.1.cmml" xref="S3.E10.m2.4.4.2.2.1.1.3.3">subscript</csymbol><ci id="S3.E10.m2.4.4.2.2.1.1.3.3.2.cmml" xref="S3.E10.m2.4.4.2.2.1.1.3.3.2">𝑠</ci><apply id="S3.E10.m2.4.4.2.2.1.1.3.3.3.cmml" xref="S3.E10.m2.4.4.2.2.1.1.3.3.3"><csymbol cd="latexml" id="S3.E10.m2.4.4.2.2.1.1.3.3.3.1.cmml" xref="S3.E10.m2.4.4.2.2.1.1.3.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.E10.m2.4.4.2.2.1.1.3.3.3.2.cmml" xref="S3.E10.m2.4.4.2.2.1.1.3.3.3.2">absent</csymbol><ci id="S3.E10.m2.4.4.2.2.1.1.3.3.3.3.cmml" xref="S3.E10.m2.4.4.2.2.1.1.3.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m2.4c">\displaystyle\!\!\!\sum_{r=1}^{N}\mathbb{P}(\mathbf{o}_{\pi^{-1}(r)}=1)\!%
\times\!\mathbb{P}(\mathbf{R}_{\pi^{-1}(r)}=1|s_{\prec q})</annotation><annotation encoding="application/x-llamapun" id="S3.E10.m2.4d">∑ start_POSTSUBSCRIPT italic_r = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT blackboard_P ( bold_o start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1 ) × blackboard_P ( bold_R start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1 | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p1.9">where the first line follows from sequential browsing assumption with <math alttext="\mathbf{c}_{\pi^{-1}(r)}=1" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m1.1"><semantics id="S3.SS1.p1.3.m1.1a"><mrow id="S3.SS1.p1.3.m1.1.2" xref="S3.SS1.p1.3.m1.1.2.cmml"><msub id="S3.SS1.p1.3.m1.1.2.2" xref="S3.SS1.p1.3.m1.1.2.2.cmml"><mi id="S3.SS1.p1.3.m1.1.2.2.2" xref="S3.SS1.p1.3.m1.1.2.2.2.cmml">𝐜</mi><mrow id="S3.SS1.p1.3.m1.1.1.1" xref="S3.SS1.p1.3.m1.1.1.1.cmml"><msup id="S3.SS1.p1.3.m1.1.1.1.3" xref="S3.SS1.p1.3.m1.1.1.1.3.cmml"><mi id="S3.SS1.p1.3.m1.1.1.1.3.2" xref="S3.SS1.p1.3.m1.1.1.1.3.2.cmml">π</mi><mrow id="S3.SS1.p1.3.m1.1.1.1.3.3" xref="S3.SS1.p1.3.m1.1.1.1.3.3.cmml"><mo id="S3.SS1.p1.3.m1.1.1.1.3.3a" xref="S3.SS1.p1.3.m1.1.1.1.3.3.cmml">−</mo><mn id="S3.SS1.p1.3.m1.1.1.1.3.3.2" xref="S3.SS1.p1.3.m1.1.1.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.SS1.p1.3.m1.1.1.1.2" xref="S3.SS1.p1.3.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.3.m1.1.1.1.4.2" xref="S3.SS1.p1.3.m1.1.1.1.cmml"><mo id="S3.SS1.p1.3.m1.1.1.1.4.2.1" stretchy="false" xref="S3.SS1.p1.3.m1.1.1.1.cmml">(</mo><mi id="S3.SS1.p1.3.m1.1.1.1.1" xref="S3.SS1.p1.3.m1.1.1.1.1.cmml">r</mi><mo id="S3.SS1.p1.3.m1.1.1.1.4.2.2" stretchy="false" xref="S3.SS1.p1.3.m1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.SS1.p1.3.m1.1.2.1" xref="S3.SS1.p1.3.m1.1.2.1.cmml">=</mo><mn id="S3.SS1.p1.3.m1.1.2.3" xref="S3.SS1.p1.3.m1.1.2.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m1.1b"><apply id="S3.SS1.p1.3.m1.1.2.cmml" xref="S3.SS1.p1.3.m1.1.2"><eq id="S3.SS1.p1.3.m1.1.2.1.cmml" xref="S3.SS1.p1.3.m1.1.2.1"></eq><apply id="S3.SS1.p1.3.m1.1.2.2.cmml" xref="S3.SS1.p1.3.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m1.1.2.2.1.cmml" xref="S3.SS1.p1.3.m1.1.2.2">subscript</csymbol><ci id="S3.SS1.p1.3.m1.1.2.2.2.cmml" xref="S3.SS1.p1.3.m1.1.2.2.2">𝐜</ci><apply id="S3.SS1.p1.3.m1.1.1.1.cmml" xref="S3.SS1.p1.3.m1.1.1.1"><times id="S3.SS1.p1.3.m1.1.1.1.2.cmml" xref="S3.SS1.p1.3.m1.1.1.1.2"></times><apply id="S3.SS1.p1.3.m1.1.1.1.3.cmml" xref="S3.SS1.p1.3.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m1.1.1.1.3.1.cmml" xref="S3.SS1.p1.3.m1.1.1.1.3">superscript</csymbol><ci id="S3.SS1.p1.3.m1.1.1.1.3.2.cmml" xref="S3.SS1.p1.3.m1.1.1.1.3.2">𝜋</ci><apply id="S3.SS1.p1.3.m1.1.1.1.3.3.cmml" xref="S3.SS1.p1.3.m1.1.1.1.3.3"><minus id="S3.SS1.p1.3.m1.1.1.1.3.3.1.cmml" xref="S3.SS1.p1.3.m1.1.1.1.3.3"></minus><cn id="S3.SS1.p1.3.m1.1.1.1.3.3.2.cmml" type="integer" xref="S3.SS1.p1.3.m1.1.1.1.3.3.2">1</cn></apply></apply><ci id="S3.SS1.p1.3.m1.1.1.1.1.cmml" xref="S3.SS1.p1.3.m1.1.1.1.1">𝑟</ci></apply></apply><cn id="S3.SS1.p1.3.m1.1.2.3.cmml" type="integer" xref="S3.SS1.p1.3.m1.1.2.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m1.1c">\mathbf{c}_{\pi^{-1}(r)}=1</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m1.1d">bold_c start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1</annotation></semantics></math> representing the click event on the item ranked at position <math alttext="r" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m2.1"><semantics id="S3.SS1.p1.4.m2.1a"><mi id="S3.SS1.p1.4.m2.1.1" xref="S3.SS1.p1.4.m2.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m2.1b"><ci id="S3.SS1.p1.4.m2.1.1.cmml" xref="S3.SS1.p1.4.m2.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m2.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m2.1d">italic_r</annotation></semantics></math> and <math alttext="\mathcal{D}_{q}^{\prec r}" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m3.1"><semantics id="S3.SS1.p1.5.m3.1a"><msubsup id="S3.SS1.p1.5.m3.1.1" xref="S3.SS1.p1.5.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.5.m3.1.1.2.2" xref="S3.SS1.p1.5.m3.1.1.2.2.cmml">𝒟</mi><mi id="S3.SS1.p1.5.m3.1.1.2.3" xref="S3.SS1.p1.5.m3.1.1.2.3.cmml">q</mi><mrow id="S3.SS1.p1.5.m3.1.1.3" xref="S3.SS1.p1.5.m3.1.1.3.cmml"><mi id="S3.SS1.p1.5.m3.1.1.3.2" xref="S3.SS1.p1.5.m3.1.1.3.2.cmml"></mi><mo id="S3.SS1.p1.5.m3.1.1.3.1" xref="S3.SS1.p1.5.m3.1.1.3.1.cmml">≺</mo><mi id="S3.SS1.p1.5.m3.1.1.3.3" xref="S3.SS1.p1.5.m3.1.1.3.3.cmml">r</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m3.1b"><apply id="S3.SS1.p1.5.m3.1.1.cmml" xref="S3.SS1.p1.5.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m3.1.1.1.cmml" xref="S3.SS1.p1.5.m3.1.1">superscript</csymbol><apply id="S3.SS1.p1.5.m3.1.1.2.cmml" xref="S3.SS1.p1.5.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m3.1.1.2.1.cmml" xref="S3.SS1.p1.5.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m3.1.1.2.2.cmml" xref="S3.SS1.p1.5.m3.1.1.2.2">𝒟</ci><ci id="S3.SS1.p1.5.m3.1.1.2.3.cmml" xref="S3.SS1.p1.5.m3.1.1.2.3">𝑞</ci></apply><apply id="S3.SS1.p1.5.m3.1.1.3.cmml" xref="S3.SS1.p1.5.m3.1.1.3"><csymbol cd="latexml" id="S3.SS1.p1.5.m3.1.1.3.1.cmml" xref="S3.SS1.p1.5.m3.1.1.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.SS1.p1.5.m3.1.1.3.2.cmml" xref="S3.SS1.p1.5.m3.1.1.3.2">absent</csymbol><ci id="S3.SS1.p1.5.m3.1.1.3.3.cmml" xref="S3.SS1.p1.5.m3.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m3.1c">\mathcal{D}_{q}^{\prec r}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m3.1d">caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ≺ italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> representing the slotted items prior to the item ranked in position <math alttext="r" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m4.1"><semantics id="S3.SS1.p1.6.m4.1a"><mi id="S3.SS1.p1.6.m4.1.1" xref="S3.SS1.p1.6.m4.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m4.1b"><ci id="S3.SS1.p1.6.m4.1.1.cmml" xref="S3.SS1.p1.6.m4.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m4.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m4.1d">italic_r</annotation></semantics></math>.
The second line follows from assuming that the user interaction event on a given slot is independent of the placed items in the previous slots.
The third line follows from the standard examination-based click model that posits that a click event can be expressed as the intersection of a query specific examination event <math alttext="\mathbf{o}_{\pi^{-1}(r)}=1" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m5.1"><semantics id="S3.SS1.p1.7.m5.1a"><mrow id="S3.SS1.p1.7.m5.1.2" xref="S3.SS1.p1.7.m5.1.2.cmml"><msub id="S3.SS1.p1.7.m5.1.2.2" xref="S3.SS1.p1.7.m5.1.2.2.cmml"><mi id="S3.SS1.p1.7.m5.1.2.2.2" xref="S3.SS1.p1.7.m5.1.2.2.2.cmml">𝐨</mi><mrow id="S3.SS1.p1.7.m5.1.1.1" xref="S3.SS1.p1.7.m5.1.1.1.cmml"><msup id="S3.SS1.p1.7.m5.1.1.1.3" xref="S3.SS1.p1.7.m5.1.1.1.3.cmml"><mi id="S3.SS1.p1.7.m5.1.1.1.3.2" xref="S3.SS1.p1.7.m5.1.1.1.3.2.cmml">π</mi><mrow id="S3.SS1.p1.7.m5.1.1.1.3.3" xref="S3.SS1.p1.7.m5.1.1.1.3.3.cmml"><mo id="S3.SS1.p1.7.m5.1.1.1.3.3a" xref="S3.SS1.p1.7.m5.1.1.1.3.3.cmml">−</mo><mn id="S3.SS1.p1.7.m5.1.1.1.3.3.2" xref="S3.SS1.p1.7.m5.1.1.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.SS1.p1.7.m5.1.1.1.2" xref="S3.SS1.p1.7.m5.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.7.m5.1.1.1.4.2" xref="S3.SS1.p1.7.m5.1.1.1.cmml"><mo id="S3.SS1.p1.7.m5.1.1.1.4.2.1" stretchy="false" xref="S3.SS1.p1.7.m5.1.1.1.cmml">(</mo><mi id="S3.SS1.p1.7.m5.1.1.1.1" xref="S3.SS1.p1.7.m5.1.1.1.1.cmml">r</mi><mo id="S3.SS1.p1.7.m5.1.1.1.4.2.2" stretchy="false" xref="S3.SS1.p1.7.m5.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.SS1.p1.7.m5.1.2.1" xref="S3.SS1.p1.7.m5.1.2.1.cmml">=</mo><mn id="S3.SS1.p1.7.m5.1.2.3" xref="S3.SS1.p1.7.m5.1.2.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m5.1b"><apply id="S3.SS1.p1.7.m5.1.2.cmml" xref="S3.SS1.p1.7.m5.1.2"><eq id="S3.SS1.p1.7.m5.1.2.1.cmml" xref="S3.SS1.p1.7.m5.1.2.1"></eq><apply id="S3.SS1.p1.7.m5.1.2.2.cmml" xref="S3.SS1.p1.7.m5.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m5.1.2.2.1.cmml" xref="S3.SS1.p1.7.m5.1.2.2">subscript</csymbol><ci id="S3.SS1.p1.7.m5.1.2.2.2.cmml" xref="S3.SS1.p1.7.m5.1.2.2.2">𝐨</ci><apply id="S3.SS1.p1.7.m5.1.1.1.cmml" xref="S3.SS1.p1.7.m5.1.1.1"><times id="S3.SS1.p1.7.m5.1.1.1.2.cmml" xref="S3.SS1.p1.7.m5.1.1.1.2"></times><apply id="S3.SS1.p1.7.m5.1.1.1.3.cmml" xref="S3.SS1.p1.7.m5.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m5.1.1.1.3.1.cmml" xref="S3.SS1.p1.7.m5.1.1.1.3">superscript</csymbol><ci id="S3.SS1.p1.7.m5.1.1.1.3.2.cmml" xref="S3.SS1.p1.7.m5.1.1.1.3.2">𝜋</ci><apply id="S3.SS1.p1.7.m5.1.1.1.3.3.cmml" xref="S3.SS1.p1.7.m5.1.1.1.3.3"><minus id="S3.SS1.p1.7.m5.1.1.1.3.3.1.cmml" xref="S3.SS1.p1.7.m5.1.1.1.3.3"></minus><cn id="S3.SS1.p1.7.m5.1.1.1.3.3.2.cmml" type="integer" xref="S3.SS1.p1.7.m5.1.1.1.3.3.2">1</cn></apply></apply><ci id="S3.SS1.p1.7.m5.1.1.1.1.cmml" xref="S3.SS1.p1.7.m5.1.1.1.1">𝑟</ci></apply></apply><cn id="S3.SS1.p1.7.m5.1.2.3.cmml" type="integer" xref="S3.SS1.p1.7.m5.1.2.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m5.1c">\mathbf{o}_{\pi^{-1}(r)}=1</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m5.1d">bold_o start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1</annotation></semantics></math> and a presentation-independent contextual relevance event <math alttext="\mathbf{R}_{\pi^{-1}(r)}=1" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m6.1"><semantics id="S3.SS1.p1.8.m6.1a"><mrow id="S3.SS1.p1.8.m6.1.2" xref="S3.SS1.p1.8.m6.1.2.cmml"><msub id="S3.SS1.p1.8.m6.1.2.2" xref="S3.SS1.p1.8.m6.1.2.2.cmml"><mi id="S3.SS1.p1.8.m6.1.2.2.2" xref="S3.SS1.p1.8.m6.1.2.2.2.cmml">𝐑</mi><mrow id="S3.SS1.p1.8.m6.1.1.1" xref="S3.SS1.p1.8.m6.1.1.1.cmml"><msup id="S3.SS1.p1.8.m6.1.1.1.3" xref="S3.SS1.p1.8.m6.1.1.1.3.cmml"><mi id="S3.SS1.p1.8.m6.1.1.1.3.2" xref="S3.SS1.p1.8.m6.1.1.1.3.2.cmml">π</mi><mrow id="S3.SS1.p1.8.m6.1.1.1.3.3" xref="S3.SS1.p1.8.m6.1.1.1.3.3.cmml"><mo id="S3.SS1.p1.8.m6.1.1.1.3.3a" xref="S3.SS1.p1.8.m6.1.1.1.3.3.cmml">−</mo><mn id="S3.SS1.p1.8.m6.1.1.1.3.3.2" xref="S3.SS1.p1.8.m6.1.1.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.SS1.p1.8.m6.1.1.1.2" xref="S3.SS1.p1.8.m6.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.8.m6.1.1.1.4.2" xref="S3.SS1.p1.8.m6.1.1.1.cmml"><mo id="S3.SS1.p1.8.m6.1.1.1.4.2.1" stretchy="false" xref="S3.SS1.p1.8.m6.1.1.1.cmml">(</mo><mi id="S3.SS1.p1.8.m6.1.1.1.1" xref="S3.SS1.p1.8.m6.1.1.1.1.cmml">r</mi><mo id="S3.SS1.p1.8.m6.1.1.1.4.2.2" stretchy="false" xref="S3.SS1.p1.8.m6.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.SS1.p1.8.m6.1.2.1" xref="S3.SS1.p1.8.m6.1.2.1.cmml">=</mo><mn id="S3.SS1.p1.8.m6.1.2.3" xref="S3.SS1.p1.8.m6.1.2.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m6.1b"><apply id="S3.SS1.p1.8.m6.1.2.cmml" xref="S3.SS1.p1.8.m6.1.2"><eq id="S3.SS1.p1.8.m6.1.2.1.cmml" xref="S3.SS1.p1.8.m6.1.2.1"></eq><apply id="S3.SS1.p1.8.m6.1.2.2.cmml" xref="S3.SS1.p1.8.m6.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m6.1.2.2.1.cmml" xref="S3.SS1.p1.8.m6.1.2.2">subscript</csymbol><ci id="S3.SS1.p1.8.m6.1.2.2.2.cmml" xref="S3.SS1.p1.8.m6.1.2.2.2">𝐑</ci><apply id="S3.SS1.p1.8.m6.1.1.1.cmml" xref="S3.SS1.p1.8.m6.1.1.1"><times id="S3.SS1.p1.8.m6.1.1.1.2.cmml" xref="S3.SS1.p1.8.m6.1.1.1.2"></times><apply id="S3.SS1.p1.8.m6.1.1.1.3.cmml" xref="S3.SS1.p1.8.m6.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m6.1.1.1.3.1.cmml" xref="S3.SS1.p1.8.m6.1.1.1.3">superscript</csymbol><ci id="S3.SS1.p1.8.m6.1.1.1.3.2.cmml" xref="S3.SS1.p1.8.m6.1.1.1.3.2">𝜋</ci><apply id="S3.SS1.p1.8.m6.1.1.1.3.3.cmml" xref="S3.SS1.p1.8.m6.1.1.1.3.3"><minus id="S3.SS1.p1.8.m6.1.1.1.3.3.1.cmml" xref="S3.SS1.p1.8.m6.1.1.1.3.3"></minus><cn id="S3.SS1.p1.8.m6.1.1.1.3.3.2.cmml" type="integer" xref="S3.SS1.p1.8.m6.1.1.1.3.3.2">1</cn></apply></apply><ci id="S3.SS1.p1.8.m6.1.1.1.1.cmml" xref="S3.SS1.p1.8.m6.1.1.1.1">𝑟</ci></apply></apply><cn id="S3.SS1.p1.8.m6.1.2.3.cmml" type="integer" xref="S3.SS1.p1.8.m6.1.2.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m6.1c">\mathbf{R}_{\pi^{-1}(r)}=1</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m6.1d">bold_R start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1</annotation></semantics></math>; and the last line follows from assuming a query-independent global rank discount function on the examination probabilities.
The examination probabilities, a.k.a. propensity scores, are context-specific and can be estimated via explicit online interventions or from observational data.
By considering a simple uni-variate model fit on the estimated propensities as a function of rank, one can build data-driven rank-discount functions to estimate users’ examination effort.
However, the standard approach is to adopt vanilla log-based context-oblivious rank discounts as generic estimates of the examination probability <math alttext="\hat{\mathbb{P}}(\mathbf{o}_{\pi^{-1}(r)}=1)" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m7.2"><semantics id="S3.SS1.p1.9.m7.2a"><mrow id="S3.SS1.p1.9.m7.2.2" xref="S3.SS1.p1.9.m7.2.2.cmml"><mover accent="true" id="S3.SS1.p1.9.m7.2.2.3" xref="S3.SS1.p1.9.m7.2.2.3.cmml"><mi id="S3.SS1.p1.9.m7.2.2.3.2" xref="S3.SS1.p1.9.m7.2.2.3.2.cmml">ℙ</mi><mo id="S3.SS1.p1.9.m7.2.2.3.1" xref="S3.SS1.p1.9.m7.2.2.3.1.cmml">^</mo></mover><mo id="S3.SS1.p1.9.m7.2.2.2" xref="S3.SS1.p1.9.m7.2.2.2.cmml">⁢</mo><mrow id="S3.SS1.p1.9.m7.2.2.1.1" xref="S3.SS1.p1.9.m7.2.2.1.1.1.cmml"><mo id="S3.SS1.p1.9.m7.2.2.1.1.2" stretchy="false" xref="S3.SS1.p1.9.m7.2.2.1.1.1.cmml">(</mo><mrow id="S3.SS1.p1.9.m7.2.2.1.1.1" xref="S3.SS1.p1.9.m7.2.2.1.1.1.cmml"><msub id="S3.SS1.p1.9.m7.2.2.1.1.1.2" xref="S3.SS1.p1.9.m7.2.2.1.1.1.2.cmml"><mi id="S3.SS1.p1.9.m7.2.2.1.1.1.2.2" xref="S3.SS1.p1.9.m7.2.2.1.1.1.2.2.cmml">𝐨</mi><mrow id="S3.SS1.p1.9.m7.1.1.1" xref="S3.SS1.p1.9.m7.1.1.1.cmml"><msup id="S3.SS1.p1.9.m7.1.1.1.3" xref="S3.SS1.p1.9.m7.1.1.1.3.cmml"><mi id="S3.SS1.p1.9.m7.1.1.1.3.2" xref="S3.SS1.p1.9.m7.1.1.1.3.2.cmml">π</mi><mrow id="S3.SS1.p1.9.m7.1.1.1.3.3" xref="S3.SS1.p1.9.m7.1.1.1.3.3.cmml"><mo id="S3.SS1.p1.9.m7.1.1.1.3.3a" xref="S3.SS1.p1.9.m7.1.1.1.3.3.cmml">−</mo><mn id="S3.SS1.p1.9.m7.1.1.1.3.3.2" xref="S3.SS1.p1.9.m7.1.1.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.SS1.p1.9.m7.1.1.1.2" xref="S3.SS1.p1.9.m7.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.9.m7.1.1.1.4.2" xref="S3.SS1.p1.9.m7.1.1.1.cmml"><mo id="S3.SS1.p1.9.m7.1.1.1.4.2.1" stretchy="false" xref="S3.SS1.p1.9.m7.1.1.1.cmml">(</mo><mi id="S3.SS1.p1.9.m7.1.1.1.1" xref="S3.SS1.p1.9.m7.1.1.1.1.cmml">r</mi><mo id="S3.SS1.p1.9.m7.1.1.1.4.2.2" stretchy="false" xref="S3.SS1.p1.9.m7.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.SS1.p1.9.m7.2.2.1.1.1.1" xref="S3.SS1.p1.9.m7.2.2.1.1.1.1.cmml">=</mo><mn id="S3.SS1.p1.9.m7.2.2.1.1.1.3" xref="S3.SS1.p1.9.m7.2.2.1.1.1.3.cmml">1</mn></mrow><mo id="S3.SS1.p1.9.m7.2.2.1.1.3" stretchy="false" xref="S3.SS1.p1.9.m7.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m7.2b"><apply id="S3.SS1.p1.9.m7.2.2.cmml" xref="S3.SS1.p1.9.m7.2.2"><times id="S3.SS1.p1.9.m7.2.2.2.cmml" xref="S3.SS1.p1.9.m7.2.2.2"></times><apply id="S3.SS1.p1.9.m7.2.2.3.cmml" xref="S3.SS1.p1.9.m7.2.2.3"><ci id="S3.SS1.p1.9.m7.2.2.3.1.cmml" xref="S3.SS1.p1.9.m7.2.2.3.1">^</ci><ci id="S3.SS1.p1.9.m7.2.2.3.2.cmml" xref="S3.SS1.p1.9.m7.2.2.3.2">ℙ</ci></apply><apply id="S3.SS1.p1.9.m7.2.2.1.1.1.cmml" xref="S3.SS1.p1.9.m7.2.2.1.1"><eq id="S3.SS1.p1.9.m7.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.9.m7.2.2.1.1.1.1"></eq><apply id="S3.SS1.p1.9.m7.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.9.m7.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m7.2.2.1.1.1.2.1.cmml" xref="S3.SS1.p1.9.m7.2.2.1.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.9.m7.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p1.9.m7.2.2.1.1.1.2.2">𝐨</ci><apply id="S3.SS1.p1.9.m7.1.1.1.cmml" xref="S3.SS1.p1.9.m7.1.1.1"><times id="S3.SS1.p1.9.m7.1.1.1.2.cmml" xref="S3.SS1.p1.9.m7.1.1.1.2"></times><apply id="S3.SS1.p1.9.m7.1.1.1.3.cmml" xref="S3.SS1.p1.9.m7.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m7.1.1.1.3.1.cmml" xref="S3.SS1.p1.9.m7.1.1.1.3">superscript</csymbol><ci id="S3.SS1.p1.9.m7.1.1.1.3.2.cmml" xref="S3.SS1.p1.9.m7.1.1.1.3.2">𝜋</ci><apply id="S3.SS1.p1.9.m7.1.1.1.3.3.cmml" xref="S3.SS1.p1.9.m7.1.1.1.3.3"><minus id="S3.SS1.p1.9.m7.1.1.1.3.3.1.cmml" xref="S3.SS1.p1.9.m7.1.1.1.3.3"></minus><cn id="S3.SS1.p1.9.m7.1.1.1.3.3.2.cmml" type="integer" xref="S3.SS1.p1.9.m7.1.1.1.3.3.2">1</cn></apply></apply><ci id="S3.SS1.p1.9.m7.1.1.1.1.cmml" xref="S3.SS1.p1.9.m7.1.1.1.1">𝑟</ci></apply></apply><cn id="S3.SS1.p1.9.m7.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.9.m7.2.2.1.1.1.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m7.2c">\hat{\mathbb{P}}(\mathbf{o}_{\pi^{-1}(r)}=1)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m7.2d">over^ start_ARG blackboard_P end_ARG ( bold_o start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1 )</annotation></semantics></math>, i.e.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\ell(r)=\frac{1}{\log(1+r)}." class="ltx_Math" display="block" id="S3.Ex1.m1.4"><semantics id="S3.Ex1.m1.4a"><mrow id="S3.Ex1.m1.4.4.1" xref="S3.Ex1.m1.4.4.1.1.cmml"><mrow id="S3.Ex1.m1.4.4.1.1" xref="S3.Ex1.m1.4.4.1.1.cmml"><mrow id="S3.Ex1.m1.4.4.1.1.2" xref="S3.Ex1.m1.4.4.1.1.2.cmml"><mi id="S3.Ex1.m1.4.4.1.1.2.2" mathvariant="normal" xref="S3.Ex1.m1.4.4.1.1.2.2.cmml">ℓ</mi><mo id="S3.Ex1.m1.4.4.1.1.2.1" xref="S3.Ex1.m1.4.4.1.1.2.1.cmml">⁢</mo><mrow id="S3.Ex1.m1.4.4.1.1.2.3.2" xref="S3.Ex1.m1.4.4.1.1.2.cmml"><mo id="S3.Ex1.m1.4.4.1.1.2.3.2.1" stretchy="false" xref="S3.Ex1.m1.4.4.1.1.2.cmml">(</mo><mi id="S3.Ex1.m1.3.3" xref="S3.Ex1.m1.3.3.cmml">r</mi><mo id="S3.Ex1.m1.4.4.1.1.2.3.2.2" stretchy="false" xref="S3.Ex1.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.Ex1.m1.4.4.1.1.1" xref="S3.Ex1.m1.4.4.1.1.1.cmml">=</mo><mfrac id="S3.Ex1.m1.2.2" xref="S3.Ex1.m1.2.2.cmml"><mn id="S3.Ex1.m1.2.2.4" xref="S3.Ex1.m1.2.2.4.cmml">1</mn><mrow id="S3.Ex1.m1.2.2.2.2" xref="S3.Ex1.m1.2.2.2.3.cmml"><mi id="S3.Ex1.m1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.cmml">log</mi><mo id="S3.Ex1.m1.2.2.2.2a" xref="S3.Ex1.m1.2.2.2.3.cmml">⁡</mo><mrow id="S3.Ex1.m1.2.2.2.2.1" xref="S3.Ex1.m1.2.2.2.3.cmml"><mo id="S3.Ex1.m1.2.2.2.2.1.2" stretchy="false" xref="S3.Ex1.m1.2.2.2.3.cmml">(</mo><mrow id="S3.Ex1.m1.2.2.2.2.1.1" xref="S3.Ex1.m1.2.2.2.2.1.1.cmml"><mn id="S3.Ex1.m1.2.2.2.2.1.1.2" xref="S3.Ex1.m1.2.2.2.2.1.1.2.cmml">1</mn><mo id="S3.Ex1.m1.2.2.2.2.1.1.1" xref="S3.Ex1.m1.2.2.2.2.1.1.1.cmml">+</mo><mi id="S3.Ex1.m1.2.2.2.2.1.1.3" xref="S3.Ex1.m1.2.2.2.2.1.1.3.cmml">r</mi></mrow><mo id="S3.Ex1.m1.2.2.2.2.1.3" stretchy="false" xref="S3.Ex1.m1.2.2.2.3.cmml">)</mo></mrow></mrow></mfrac></mrow><mo id="S3.Ex1.m1.4.4.1.2" lspace="0em" xref="S3.Ex1.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.4b"><apply id="S3.Ex1.m1.4.4.1.1.cmml" xref="S3.Ex1.m1.4.4.1"><eq id="S3.Ex1.m1.4.4.1.1.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1"></eq><apply id="S3.Ex1.m1.4.4.1.1.2.cmml" xref="S3.Ex1.m1.4.4.1.1.2"><times id="S3.Ex1.m1.4.4.1.1.2.1.cmml" xref="S3.Ex1.m1.4.4.1.1.2.1"></times><ci id="S3.Ex1.m1.4.4.1.1.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.2.2">ℓ</ci><ci id="S3.Ex1.m1.3.3.cmml" xref="S3.Ex1.m1.3.3">𝑟</ci></apply><apply id="S3.Ex1.m1.2.2.cmml" xref="S3.Ex1.m1.2.2"><divide id="S3.Ex1.m1.2.2.3.cmml" xref="S3.Ex1.m1.2.2"></divide><cn id="S3.Ex1.m1.2.2.4.cmml" type="integer" xref="S3.Ex1.m1.2.2.4">1</cn><apply id="S3.Ex1.m1.2.2.2.3.cmml" xref="S3.Ex1.m1.2.2.2.2"><log id="S3.Ex1.m1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1"></log><apply id="S3.Ex1.m1.2.2.2.2.1.1.cmml" xref="S3.Ex1.m1.2.2.2.2.1.1"><plus id="S3.Ex1.m1.2.2.2.2.1.1.1.cmml" xref="S3.Ex1.m1.2.2.2.2.1.1.1"></plus><cn id="S3.Ex1.m1.2.2.2.2.1.1.2.cmml" type="integer" xref="S3.Ex1.m1.2.2.2.2.1.1.2">1</cn><ci id="S3.Ex1.m1.2.2.2.2.1.1.3.cmml" xref="S3.Ex1.m1.2.2.2.2.1.1.3">𝑟</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.4c">\ell(r)=\frac{1}{\log(1+r)}.</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.4d">roman_ℓ ( italic_r ) = divide start_ARG 1 end_ARG start_ARG roman_log ( 1 + italic_r ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p1.13">Given an empirical estimate <math alttext="\hat{r}" class="ltx_Math" display="inline" id="S3.SS1.p1.10.m1.1"><semantics id="S3.SS1.p1.10.m1.1a"><mover accent="true" id="S3.SS1.p1.10.m1.1.1" xref="S3.SS1.p1.10.m1.1.1.cmml"><mi id="S3.SS1.p1.10.m1.1.1.2" xref="S3.SS1.p1.10.m1.1.1.2.cmml">r</mi><mo id="S3.SS1.p1.10.m1.1.1.1" xref="S3.SS1.p1.10.m1.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m1.1b"><apply id="S3.SS1.p1.10.m1.1.1.cmml" xref="S3.SS1.p1.10.m1.1.1"><ci id="S3.SS1.p1.10.m1.1.1.1.cmml" xref="S3.SS1.p1.10.m1.1.1.1">^</ci><ci id="S3.SS1.p1.10.m1.1.1.2.cmml" xref="S3.SS1.p1.10.m1.1.1.2">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m1.1c">\hat{r}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.10.m1.1d">over^ start_ARG italic_r end_ARG</annotation></semantics></math> of Bayes contextual relevance probabilities <math alttext="\mathbb{P}(\mathbf{R}_{\pi^{-1}(r)}=1|s_{\prec q})" class="ltx_Math" display="inline" id="S3.SS1.p1.11.m2.2"><semantics id="S3.SS1.p1.11.m2.2a"><mrow id="S3.SS1.p1.11.m2.2.2" xref="S3.SS1.p1.11.m2.2.2.cmml"><mi id="S3.SS1.p1.11.m2.2.2.3" xref="S3.SS1.p1.11.m2.2.2.3.cmml">ℙ</mi><mo id="S3.SS1.p1.11.m2.2.2.2" xref="S3.SS1.p1.11.m2.2.2.2.cmml">⁢</mo><mrow id="S3.SS1.p1.11.m2.2.2.1.1" xref="S3.SS1.p1.11.m2.2.2.1.1.1.cmml"><mo id="S3.SS1.p1.11.m2.2.2.1.1.2" stretchy="false" xref="S3.SS1.p1.11.m2.2.2.1.1.1.cmml">(</mo><mrow id="S3.SS1.p1.11.m2.2.2.1.1.1" xref="S3.SS1.p1.11.m2.2.2.1.1.1.cmml"><msub id="S3.SS1.p1.11.m2.2.2.1.1.1.2" xref="S3.SS1.p1.11.m2.2.2.1.1.1.2.cmml"><mi id="S3.SS1.p1.11.m2.2.2.1.1.1.2.2" xref="S3.SS1.p1.11.m2.2.2.1.1.1.2.2.cmml">𝐑</mi><mrow id="S3.SS1.p1.11.m2.1.1.1" xref="S3.SS1.p1.11.m2.1.1.1.cmml"><msup id="S3.SS1.p1.11.m2.1.1.1.3" xref="S3.SS1.p1.11.m2.1.1.1.3.cmml"><mi id="S3.SS1.p1.11.m2.1.1.1.3.2" xref="S3.SS1.p1.11.m2.1.1.1.3.2.cmml">π</mi><mrow id="S3.SS1.p1.11.m2.1.1.1.3.3" xref="S3.SS1.p1.11.m2.1.1.1.3.3.cmml"><mo id="S3.SS1.p1.11.m2.1.1.1.3.3a" xref="S3.SS1.p1.11.m2.1.1.1.3.3.cmml">−</mo><mn id="S3.SS1.p1.11.m2.1.1.1.3.3.2" xref="S3.SS1.p1.11.m2.1.1.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.SS1.p1.11.m2.1.1.1.2" xref="S3.SS1.p1.11.m2.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.11.m2.1.1.1.4.2" xref="S3.SS1.p1.11.m2.1.1.1.cmml"><mo id="S3.SS1.p1.11.m2.1.1.1.4.2.1" stretchy="false" xref="S3.SS1.p1.11.m2.1.1.1.cmml">(</mo><mi id="S3.SS1.p1.11.m2.1.1.1.1" xref="S3.SS1.p1.11.m2.1.1.1.1.cmml">r</mi><mo id="S3.SS1.p1.11.m2.1.1.1.4.2.2" stretchy="false" xref="S3.SS1.p1.11.m2.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.SS1.p1.11.m2.2.2.1.1.1.1" xref="S3.SS1.p1.11.m2.2.2.1.1.1.1.cmml">=</mo><mrow id="S3.SS1.p1.11.m2.2.2.1.1.1.3" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.cmml"><mn id="S3.SS1.p1.11.m2.2.2.1.1.1.3.2" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.2.cmml">1</mn><mo fence="false" id="S3.SS1.p1.11.m2.2.2.1.1.1.3.1" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.1.cmml">|</mo><msub id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.cmml"><mi id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.2" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.2.cmml">s</mi><mrow id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.cmml"><mi id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.2" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.2.cmml"></mi><mo id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.1" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.1.cmml">≺</mo><mi id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.3" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.3.cmml">q</mi></mrow></msub></mrow></mrow><mo id="S3.SS1.p1.11.m2.2.2.1.1.3" stretchy="false" xref="S3.SS1.p1.11.m2.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m2.2b"><apply id="S3.SS1.p1.11.m2.2.2.cmml" xref="S3.SS1.p1.11.m2.2.2"><times id="S3.SS1.p1.11.m2.2.2.2.cmml" xref="S3.SS1.p1.11.m2.2.2.2"></times><ci id="S3.SS1.p1.11.m2.2.2.3.cmml" xref="S3.SS1.p1.11.m2.2.2.3">ℙ</ci><apply id="S3.SS1.p1.11.m2.2.2.1.1.1.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1"><eq id="S3.SS1.p1.11.m2.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.1"></eq><apply id="S3.SS1.p1.11.m2.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m2.2.2.1.1.1.2.1.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.11.m2.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.2.2">𝐑</ci><apply id="S3.SS1.p1.11.m2.1.1.1.cmml" xref="S3.SS1.p1.11.m2.1.1.1"><times id="S3.SS1.p1.11.m2.1.1.1.2.cmml" xref="S3.SS1.p1.11.m2.1.1.1.2"></times><apply id="S3.SS1.p1.11.m2.1.1.1.3.cmml" xref="S3.SS1.p1.11.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m2.1.1.1.3.1.cmml" xref="S3.SS1.p1.11.m2.1.1.1.3">superscript</csymbol><ci id="S3.SS1.p1.11.m2.1.1.1.3.2.cmml" xref="S3.SS1.p1.11.m2.1.1.1.3.2">𝜋</ci><apply id="S3.SS1.p1.11.m2.1.1.1.3.3.cmml" xref="S3.SS1.p1.11.m2.1.1.1.3.3"><minus id="S3.SS1.p1.11.m2.1.1.1.3.3.1.cmml" xref="S3.SS1.p1.11.m2.1.1.1.3.3"></minus><cn id="S3.SS1.p1.11.m2.1.1.1.3.3.2.cmml" type="integer" xref="S3.SS1.p1.11.m2.1.1.1.3.3.2">1</cn></apply></apply><ci id="S3.SS1.p1.11.m2.1.1.1.1.cmml" xref="S3.SS1.p1.11.m2.1.1.1.1">𝑟</ci></apply></apply><apply id="S3.SS1.p1.11.m2.2.2.1.1.1.3.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3"><csymbol cd="latexml" id="S3.SS1.p1.11.m2.2.2.1.1.1.3.1.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.1">conditional</csymbol><cn id="S3.SS1.p1.11.m2.2.2.1.1.1.3.2.cmml" type="integer" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.2">1</cn><apply id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.1.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3">subscript</csymbol><ci id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.2.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.2">𝑠</ci><apply id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3"><csymbol cd="latexml" id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.1.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.2.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.2">absent</csymbol><ci id="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.3.cmml" xref="S3.SS1.p1.11.m2.2.2.1.1.1.3.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m2.2c">\mathbb{P}(\mathbf{R}_{\pi^{-1}(r)}=1|s_{\prec q})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.11.m2.2d">blackboard_P ( bold_R start_POSTSUBSCRIPT italic_π start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT ( italic_r ) end_POSTSUBSCRIPT = 1 | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT )</annotation></semantics></math>, one can derive the standard discounted cumulative gain (DCG) estimate <math alttext="\hat{\mathbb{E}}_{\mathrm{DCG}}[\mathbf{c}_{\pi(\mathcal{D}_{q})}|s_{\prec q}]" class="ltx_Math" display="inline" id="S3.SS1.p1.12.m3.2"><semantics id="S3.SS1.p1.12.m3.2a"><mrow id="S3.SS1.p1.12.m3.2.2" xref="S3.SS1.p1.12.m3.2.2.cmml"><msub id="S3.SS1.p1.12.m3.2.2.3" xref="S3.SS1.p1.12.m3.2.2.3.cmml"><mover accent="true" id="S3.SS1.p1.12.m3.2.2.3.2" xref="S3.SS1.p1.12.m3.2.2.3.2.cmml"><mi id="S3.SS1.p1.12.m3.2.2.3.2.2" xref="S3.SS1.p1.12.m3.2.2.3.2.2.cmml">𝔼</mi><mo id="S3.SS1.p1.12.m3.2.2.3.2.1" xref="S3.SS1.p1.12.m3.2.2.3.2.1.cmml">^</mo></mover><mi id="S3.SS1.p1.12.m3.2.2.3.3" xref="S3.SS1.p1.12.m3.2.2.3.3.cmml">DCG</mi></msub><mo id="S3.SS1.p1.12.m3.2.2.2" xref="S3.SS1.p1.12.m3.2.2.2.cmml">⁢</mo><mrow id="S3.SS1.p1.12.m3.2.2.1.1" xref="S3.SS1.p1.12.m3.2.2.1.2.cmml"><mo id="S3.SS1.p1.12.m3.2.2.1.1.2" stretchy="false" xref="S3.SS1.p1.12.m3.2.2.1.2.1.cmml">[</mo><mrow id="S3.SS1.p1.12.m3.2.2.1.1.1" xref="S3.SS1.p1.12.m3.2.2.1.1.1.cmml"><msub id="S3.SS1.p1.12.m3.2.2.1.1.1.2" xref="S3.SS1.p1.12.m3.2.2.1.1.1.2.cmml"><mi id="S3.SS1.p1.12.m3.2.2.1.1.1.2.2" xref="S3.SS1.p1.12.m3.2.2.1.1.1.2.2.cmml">𝐜</mi><mrow id="S3.SS1.p1.12.m3.1.1.1" xref="S3.SS1.p1.12.m3.1.1.1.cmml"><mi id="S3.SS1.p1.12.m3.1.1.1.3" xref="S3.SS1.p1.12.m3.1.1.1.3.cmml">π</mi><mo id="S3.SS1.p1.12.m3.1.1.1.2" xref="S3.SS1.p1.12.m3.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.12.m3.1.1.1.1.1" xref="S3.SS1.p1.12.m3.1.1.1.1.1.1.cmml"><mo id="S3.SS1.p1.12.m3.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.12.m3.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS1.p1.12.m3.1.1.1.1.1.1" xref="S3.SS1.p1.12.m3.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.12.m3.1.1.1.1.1.1.2" xref="S3.SS1.p1.12.m3.1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.SS1.p1.12.m3.1.1.1.1.1.1.3" xref="S3.SS1.p1.12.m3.1.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S3.SS1.p1.12.m3.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.12.m3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S3.SS1.p1.12.m3.2.2.1.1.1.1" xref="S3.SS1.p1.12.m3.2.2.1.1.1.1.cmml">|</mo><msub id="S3.SS1.p1.12.m3.2.2.1.1.1.3" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.cmml"><mi id="S3.SS1.p1.12.m3.2.2.1.1.1.3.2" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.2.cmml">s</mi><mrow id="S3.SS1.p1.12.m3.2.2.1.1.1.3.3" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.cmml"><mi id="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.2" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.2.cmml"></mi><mo id="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.1" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.1.cmml">≺</mo><mi id="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.3" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S3.SS1.p1.12.m3.2.2.1.1.3" stretchy="false" xref="S3.SS1.p1.12.m3.2.2.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m3.2b"><apply id="S3.SS1.p1.12.m3.2.2.cmml" xref="S3.SS1.p1.12.m3.2.2"><times id="S3.SS1.p1.12.m3.2.2.2.cmml" xref="S3.SS1.p1.12.m3.2.2.2"></times><apply id="S3.SS1.p1.12.m3.2.2.3.cmml" xref="S3.SS1.p1.12.m3.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m3.2.2.3.1.cmml" xref="S3.SS1.p1.12.m3.2.2.3">subscript</csymbol><apply id="S3.SS1.p1.12.m3.2.2.3.2.cmml" xref="S3.SS1.p1.12.m3.2.2.3.2"><ci id="S3.SS1.p1.12.m3.2.2.3.2.1.cmml" xref="S3.SS1.p1.12.m3.2.2.3.2.1">^</ci><ci id="S3.SS1.p1.12.m3.2.2.3.2.2.cmml" xref="S3.SS1.p1.12.m3.2.2.3.2.2">𝔼</ci></apply><ci id="S3.SS1.p1.12.m3.2.2.3.3.cmml" xref="S3.SS1.p1.12.m3.2.2.3.3">DCG</ci></apply><apply id="S3.SS1.p1.12.m3.2.2.1.2.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1"><csymbol cd="latexml" id="S3.SS1.p1.12.m3.2.2.1.2.1.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.2">delimited-[]</csymbol><apply id="S3.SS1.p1.12.m3.2.2.1.1.1.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1"><csymbol cd="latexml" id="S3.SS1.p1.12.m3.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.1">conditional</csymbol><apply id="S3.SS1.p1.12.m3.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m3.2.2.1.1.1.2.1.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.12.m3.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.2.2">𝐜</ci><apply id="S3.SS1.p1.12.m3.1.1.1.cmml" xref="S3.SS1.p1.12.m3.1.1.1"><times id="S3.SS1.p1.12.m3.1.1.1.2.cmml" xref="S3.SS1.p1.12.m3.1.1.1.2"></times><ci id="S3.SS1.p1.12.m3.1.1.1.3.cmml" xref="S3.SS1.p1.12.m3.1.1.1.3">𝜋</ci><apply id="S3.SS1.p1.12.m3.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.12.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.12.m3.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.12.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.12.m3.1.1.1.1.1.1.2">𝒟</ci><ci id="S3.SS1.p1.12.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.12.m3.1.1.1.1.1.1.3">𝑞</ci></apply></apply></apply><apply id="S3.SS1.p1.12.m3.2.2.1.1.1.3.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m3.2.2.1.1.1.3.1.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.12.m3.2.2.1.1.1.3.2.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.2">𝑠</ci><apply id="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.3"><csymbol cd="latexml" id="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.1.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.2.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.2">absent</csymbol><ci id="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.3.cmml" xref="S3.SS1.p1.12.m3.2.2.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m3.2c">\hat{\mathbb{E}}_{\mathrm{DCG}}[\mathbf{c}_{\pi(\mathcal{D}_{q})}|s_{\prec q}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.12.m3.2d">over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT roman_DCG end_POSTSUBSCRIPT [ bold_c start_POSTSUBSCRIPT italic_π ( caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT ]</annotation></semantics></math> of the expected reward per query for the policy <math alttext="\pi(\cdot)" class="ltx_Math" display="inline" id="S3.SS1.p1.13.m4.1"><semantics id="S3.SS1.p1.13.m4.1a"><mrow id="S3.SS1.p1.13.m4.1.2" xref="S3.SS1.p1.13.m4.1.2.cmml"><mi id="S3.SS1.p1.13.m4.1.2.2" xref="S3.SS1.p1.13.m4.1.2.2.cmml">π</mi><mo id="S3.SS1.p1.13.m4.1.2.1" xref="S3.SS1.p1.13.m4.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.p1.13.m4.1.2.3.2" xref="S3.SS1.p1.13.m4.1.2.cmml"><mo id="S3.SS1.p1.13.m4.1.2.3.2.1" stretchy="false" xref="S3.SS1.p1.13.m4.1.2.cmml">(</mo><mo id="S3.SS1.p1.13.m4.1.1" lspace="0em" rspace="0em" xref="S3.SS1.p1.13.m4.1.1.cmml">⋅</mo><mo id="S3.SS1.p1.13.m4.1.2.3.2.2" stretchy="false" xref="S3.SS1.p1.13.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.13.m4.1b"><apply id="S3.SS1.p1.13.m4.1.2.cmml" xref="S3.SS1.p1.13.m4.1.2"><times id="S3.SS1.p1.13.m4.1.2.1.cmml" xref="S3.SS1.p1.13.m4.1.2.1"></times><ci id="S3.SS1.p1.13.m4.1.2.2.cmml" xref="S3.SS1.p1.13.m4.1.2.2">𝜋</ci><ci id="S3.SS1.p1.13.m4.1.1.cmml" xref="S3.SS1.p1.13.m4.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m4.1c">\pi(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.13.m4.1d">italic_π ( ⋅ )</annotation></semantics></math> as</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table" id="S5.EGx2">
<tbody id="S3.E11"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(11)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\ell(\pi(\mathcal{D}_{q}))^{T}\hat{r}(\mathcal{D}_{q})." class="ltx_Math" display="inline" id="S3.E11.m1.1"><semantics id="S3.E11.m1.1a"><mrow id="S3.E11.m1.1.1.1" xref="S3.E11.m1.1.1.1.1.cmml"><mrow id="S3.E11.m1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.cmml"><mi id="S3.E11.m1.1.1.1.1.4" mathvariant="normal" xref="S3.E11.m1.1.1.1.1.4.cmml">ℓ</mi><mo id="S3.E11.m1.1.1.1.1.3" xref="S3.E11.m1.1.1.1.1.3.cmml">⁢</mo><msup id="S3.E11.m1.1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.1.cmml"><mrow id="S3.E11.m1.1.1.1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E11.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E11.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E11.m1.1.1.1.1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E11.m1.1.1.1.1.1.1.1.1.3" xref="S3.E11.m1.1.1.1.1.1.1.1.1.3.cmml">π</mi><mo id="S3.E11.m1.1.1.1.1.1.1.1.1.2" xref="S3.E11.m1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E11.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E11.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E11.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mi id="S3.E11.m1.1.1.1.1.1.3" xref="S3.E11.m1.1.1.1.1.1.3.cmml">T</mi></msup><mo id="S3.E11.m1.1.1.1.1.3a" xref="S3.E11.m1.1.1.1.1.3.cmml">⁢</mo><mover accent="true" id="S3.E11.m1.1.1.1.1.5" xref="S3.E11.m1.1.1.1.1.5.cmml"><mi id="S3.E11.m1.1.1.1.1.5.2" xref="S3.E11.m1.1.1.1.1.5.2.cmml">r</mi><mo id="S3.E11.m1.1.1.1.1.5.1" xref="S3.E11.m1.1.1.1.1.5.1.cmml">^</mo></mover><mo id="S3.E11.m1.1.1.1.1.3b" xref="S3.E11.m1.1.1.1.1.3.cmml">⁢</mo><mrow id="S3.E11.m1.1.1.1.1.2.1" xref="S3.E11.m1.1.1.1.1.2.1.1.cmml"><mo id="S3.E11.m1.1.1.1.1.2.1.2" stretchy="false" xref="S3.E11.m1.1.1.1.1.2.1.1.cmml">(</mo><msub id="S3.E11.m1.1.1.1.1.2.1.1" xref="S3.E11.m1.1.1.1.1.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.1.1.1.1.2.1.1.2" xref="S3.E11.m1.1.1.1.1.2.1.1.2.cmml">𝒟</mi><mi id="S3.E11.m1.1.1.1.1.2.1.1.3" xref="S3.E11.m1.1.1.1.1.2.1.1.3.cmml">q</mi></msub><mo id="S3.E11.m1.1.1.1.1.2.1.3" stretchy="false" xref="S3.E11.m1.1.1.1.1.2.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E11.m1.1.1.1.2" lspace="0em" xref="S3.E11.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E11.m1.1b"><apply id="S3.E11.m1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1"><times id="S3.E11.m1.1.1.1.1.3.cmml" xref="S3.E11.m1.1.1.1.1.3"></times><ci id="S3.E11.m1.1.1.1.1.4.cmml" xref="S3.E11.m1.1.1.1.1.4">ℓ</ci><apply id="S3.E11.m1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.1.1">superscript</csymbol><apply id="S3.E11.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1.1.1"><times id="S3.E11.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E11.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E11.m1.1.1.1.1.1.1.1.1.3">𝜋</ci><apply id="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.2">𝒟</ci><ci id="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E11.m1.1.1.1.1.1.1.1.1.1.1.1.3">𝑞</ci></apply></apply><ci id="S3.E11.m1.1.1.1.1.1.3.cmml" xref="S3.E11.m1.1.1.1.1.1.3">𝑇</ci></apply><apply id="S3.E11.m1.1.1.1.1.5.cmml" xref="S3.E11.m1.1.1.1.1.5"><ci id="S3.E11.m1.1.1.1.1.5.1.cmml" xref="S3.E11.m1.1.1.1.1.5.1">^</ci><ci id="S3.E11.m1.1.1.1.1.5.2.cmml" xref="S3.E11.m1.1.1.1.1.5.2">𝑟</ci></apply><apply id="S3.E11.m1.1.1.1.1.2.1.1.cmml" xref="S3.E11.m1.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.2.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.2.1">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.2.1.1.2.cmml" xref="S3.E11.m1.1.1.1.1.2.1.1.2">𝒟</ci><ci id="S3.E11.m1.1.1.1.1.2.1.1.3.cmml" xref="S3.E11.m1.1.1.1.1.2.1.1.3">𝑞</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11.m1.1c">\displaystyle\ell(\pi(\mathcal{D}_{q}))^{T}\hat{r}(\mathcal{D}_{q}).</annotation><annotation encoding="application/x-llamapun" id="S3.E11.m1.1d">roman_ℓ ( italic_π ( caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ) ) start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT over^ start_ARG italic_r end_ARG ( caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1">Upon building all the elements of the expected reward estimates, specifically the policy-dependent per query expected reward estimates, we can train the ranking policy by maximizing this empirical reward estimate, as elaborated in the next section.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Estimating the Session Expected Reward</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsubsection" id="S3.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.1. </span>In-session success attribution</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS2.SSS1.p1">
<p class="ltx_p" id="S3.SS2.SSS1.p1.2">Several techniques can be adopted to estimate the contribution of a ranked SERP <math alttext="q" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.1.m1.1"><semantics id="S3.SS2.SSS1.p1.1.m1.1a"><mi id="S3.SS2.SSS1.p1.1.m1.1.1" xref="S3.SS2.SSS1.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.1.m1.1b"><ci id="S3.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.1.m1.1d">italic_q</annotation></semantics></math> and the corresponding <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p1.2.1">observed or potential</span> interactions on that page to the overall success of the user search session <math alttext="s" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.2.m2.1"><semantics id="S3.SS2.SSS1.p1.2.m2.1a"><mi id="S3.SS2.SSS1.p1.2.m2.1.1" xref="S3.SS2.SSS1.p1.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.2.m2.1b"><ci id="S3.SS2.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.2.m2.1d">italic_s</annotation></semantics></math>.
A simple yet popular solution in the context of online advertising is to adopt an attribution distribution that assigns all the probability mass to the immediate query context preceding the post-click conversion event, which is referred to as Last Touch Attribution scheme.
In contrast to this tight attribution scheme, one can assume a uniform distribution across all queries in the session in which the item with the attributed interaction event of interest was retrieved as a candidate item, oblivious to whether it was even impressed on the search result page.
This approach is referred to as All Touch attribution scheme.
Alternatively, One can assume a (Markovian) probabilistic graphical model on user’s touch points within a session journey and infer a probabilistic multi-touch attribution distribution</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\hat{\mathbb{P}}(q|s_{\prec q})" class="ltx_Math" display="block" id="S3.Ex2.m1.1"><semantics id="S3.Ex2.m1.1a"><mrow id="S3.Ex2.m1.1.1" xref="S3.Ex2.m1.1.1.cmml"><mover accent="true" id="S3.Ex2.m1.1.1.3" xref="S3.Ex2.m1.1.1.3.cmml"><mi id="S3.Ex2.m1.1.1.3.2" xref="S3.Ex2.m1.1.1.3.2.cmml">ℙ</mi><mo id="S3.Ex2.m1.1.1.3.1" xref="S3.Ex2.m1.1.1.3.1.cmml">^</mo></mover><mo id="S3.Ex2.m1.1.1.2" xref="S3.Ex2.m1.1.1.2.cmml">⁢</mo><mrow id="S3.Ex2.m1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.cmml"><mo id="S3.Ex2.m1.1.1.1.1.2" stretchy="false" xref="S3.Ex2.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex2.m1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.1.1.1.1.1.2" xref="S3.Ex2.m1.1.1.1.1.1.2.cmml">q</mi><mo fence="false" id="S3.Ex2.m1.1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.Ex2.m1.1.1.1.1.1.3" xref="S3.Ex2.m1.1.1.1.1.1.3.cmml"><mi id="S3.Ex2.m1.1.1.1.1.1.3.2" xref="S3.Ex2.m1.1.1.1.1.1.3.2.cmml">s</mi><mrow id="S3.Ex2.m1.1.1.1.1.1.3.3" xref="S3.Ex2.m1.1.1.1.1.1.3.3.cmml"><mi id="S3.Ex2.m1.1.1.1.1.1.3.3.2" xref="S3.Ex2.m1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S3.Ex2.m1.1.1.1.1.1.3.3.1" xref="S3.Ex2.m1.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S3.Ex2.m1.1.1.1.1.1.3.3.3" xref="S3.Ex2.m1.1.1.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S3.Ex2.m1.1.1.1.1.3" stretchy="false" xref="S3.Ex2.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.1b"><apply id="S3.Ex2.m1.1.1.cmml" xref="S3.Ex2.m1.1.1"><times id="S3.Ex2.m1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.2"></times><apply id="S3.Ex2.m1.1.1.3.cmml" xref="S3.Ex2.m1.1.1.3"><ci id="S3.Ex2.m1.1.1.3.1.cmml" xref="S3.Ex2.m1.1.1.3.1">^</ci><ci id="S3.Ex2.m1.1.1.3.2.cmml" xref="S3.Ex2.m1.1.1.3.2">ℙ</ci></apply><apply id="S3.Ex2.m1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex2.m1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.Ex2.m1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.2">𝑞</ci><apply id="S3.Ex2.m1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.1.1.1.1.1.3.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.1.1.1.1.1.3.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3.2">𝑠</ci><apply id="S3.Ex2.m1.1.1.1.1.1.3.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S3.Ex2.m1.1.1.1.1.1.3.3.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.Ex2.m1.1.1.1.1.1.3.3.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S3.Ex2.m1.1.1.1.1.1.3.3.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.1c">\hat{\mathbb{P}}(q|s_{\prec q})</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m1.1d">over^ start_ARG blackboard_P end_ARG ( italic_q | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS1.p1.3">from observational data.
Similarly, one can adopt an attention based sequence modeling approach and infer the contribution weights for interaction events along the user journey with a conversion prediction model.
Lose attribution schemes, like the all touch attribution scheme, signify the powerful idea of <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p1.3.1">counterfactual training context generation</span> for ranking policy learning, where in contrast to predictive perspectives, the policy can collect reward from a ranking context where the item of interest was not observed by the user.
As discussed in the empirical results section, such attribution schemes are particularly effective for capturing the user behavior in search sessions with longer feedback loops, e.g. sessions with high purchase value user intent.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.2. </span>Session Value estimation</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS2.SSS2.p1">
<p class="ltx_p" id="S3.SS2.SSS2.p1.1">In order to highlight the importance of the session value distribution,</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\hat{\mathbb{P}}(s)" class="ltx_Math" display="block" id="S3.Ex3.m1.1"><semantics id="S3.Ex3.m1.1a"><mrow id="S3.Ex3.m1.1.2" xref="S3.Ex3.m1.1.2.cmml"><mover accent="true" id="S3.Ex3.m1.1.2.2" xref="S3.Ex3.m1.1.2.2.cmml"><mi id="S3.Ex3.m1.1.2.2.2" xref="S3.Ex3.m1.1.2.2.2.cmml">ℙ</mi><mo id="S3.Ex3.m1.1.2.2.1" xref="S3.Ex3.m1.1.2.2.1.cmml">^</mo></mover><mo id="S3.Ex3.m1.1.2.1" xref="S3.Ex3.m1.1.2.1.cmml">⁢</mo><mrow id="S3.Ex3.m1.1.2.3.2" xref="S3.Ex3.m1.1.2.cmml"><mo id="S3.Ex3.m1.1.2.3.2.1" stretchy="false" xref="S3.Ex3.m1.1.2.cmml">(</mo><mi id="S3.Ex3.m1.1.1" xref="S3.Ex3.m1.1.1.cmml">s</mi><mo id="S3.Ex3.m1.1.2.3.2.2" stretchy="false" xref="S3.Ex3.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.1b"><apply id="S3.Ex3.m1.1.2.cmml" xref="S3.Ex3.m1.1.2"><times id="S3.Ex3.m1.1.2.1.cmml" xref="S3.Ex3.m1.1.2.1"></times><apply id="S3.Ex3.m1.1.2.2.cmml" xref="S3.Ex3.m1.1.2.2"><ci id="S3.Ex3.m1.1.2.2.1.cmml" xref="S3.Ex3.m1.1.2.2.1">^</ci><ci id="S3.Ex3.m1.1.2.2.2.cmml" xref="S3.Ex3.m1.1.2.2.2">ℙ</ci></apply><ci id="S3.Ex3.m1.1.1.cmml" xref="S3.Ex3.m1.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.1c">\hat{\mathbb{P}}(s)</annotation><annotation encoding="application/x-llamapun" id="S3.Ex3.m1.1d">over^ start_ARG blackboard_P end_ARG ( italic_s )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS2.p1.2">let us focus on a search engine with a value per acquisition objective.
A straightforward empirical session value distribution is adopt a uniform distribution on sessions that lead to a transaction event.
Such session value selection distribution leads to survivorship bias in training context selection in that traffic segments where transaction events are rare, e.g. user sessions with luxury intent, will be under-represented in training.
A simple approach is to expand the definition of success events and estimate the likelihood of session success with a content-oblivious estimate based on the aggregate conversion likelihood of the <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p1.2.1">richest engagement event</span> attributed to the element(s) engaged.
This perspective on building mixture distributions based on the richest post-click engagement event was shown to be effective in capturing potential conversions from browse-heavy user journeys<cite class="ltx_cite ltx_citemacro_citep">(Seyler et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib26" title="">2023</a>)</cite>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S3.SS2.SSS2.p2">
<p class="ltx_p" id="S3.SS2.SSS2.p2.1">For a revenue-focused marketplace, as discussed in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S2.SS2" title="2.2. Success From a Ranking Intervention ‣ 2. Problem Setup ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">2.2</span></a>, the value of a search session is proportional to the price of the item that matches the user intent. In the presence of an observed success event in the logged data, the purchase price of the item to which the success event is attributed is the realization of the session value; otherwise, in the absence of an interaction event, the value of the session has to be estimated from the content of the asked intent in user queries, or a Canonical set of actual or synthesized items that match the user intent.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Selection Bias Correction</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">One of the main challenges in learning from observational data is the distribution shift between the training data collected from the logging policies and the inference data distribution.
We therefore have to introduce another set of techniques, e.g. importance weighting distributions, to account for this mismatch between the (population) expected reward
in (<a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S2.E6" title="In 2.4. Marketplace Expected Reward ‣ 2. Problem Setup ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">6</span></a>) and the estimated expected reward from the estimated quantities in the previous sections; that is,</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S3.E12">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(12)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{E}_{\mathbf{s}\sim\hat{\mathbb{P}}(s)}[\mathbb{E}_{\mathbf{q}\sim\hat{%
\mathbb{P}}(q|s_{\prec q})}[\hat{\mathbb{E}}[\mathbf{c}_{\pi(\mathcal{D}_{%
\mathbf{\mathbf{q}}})}|\mathbf{s}_{\prec\mathbf{q}}]]]." class="ltx_Math" display="block" id="S3.E12.m1.4"><semantics id="S3.E12.m1.4a"><mrow id="S3.E12.m1.4.4.1" xref="S3.E12.m1.4.4.1.1.cmml"><mrow id="S3.E12.m1.4.4.1.1" xref="S3.E12.m1.4.4.1.1.cmml"><msub id="S3.E12.m1.4.4.1.1.3" xref="S3.E12.m1.4.4.1.1.3.cmml"><mi id="S3.E12.m1.4.4.1.1.3.2" xref="S3.E12.m1.4.4.1.1.3.2.cmml">𝔼</mi><mrow id="S3.E12.m1.1.1.1" xref="S3.E12.m1.1.1.1.cmml"><mi id="S3.E12.m1.1.1.1.3" xref="S3.E12.m1.1.1.1.3.cmml">𝐬</mi><mo id="S3.E12.m1.1.1.1.2" xref="S3.E12.m1.1.1.1.2.cmml">∼</mo><mrow id="S3.E12.m1.1.1.1.4" xref="S3.E12.m1.1.1.1.4.cmml"><mover accent="true" id="S3.E12.m1.1.1.1.4.2" xref="S3.E12.m1.1.1.1.4.2.cmml"><mi id="S3.E12.m1.1.1.1.4.2.2" xref="S3.E12.m1.1.1.1.4.2.2.cmml">ℙ</mi><mo id="S3.E12.m1.1.1.1.4.2.1" xref="S3.E12.m1.1.1.1.4.2.1.cmml">^</mo></mover><mo id="S3.E12.m1.1.1.1.4.1" xref="S3.E12.m1.1.1.1.4.1.cmml">⁢</mo><mrow id="S3.E12.m1.1.1.1.4.3.2" xref="S3.E12.m1.1.1.1.4.cmml"><mo id="S3.E12.m1.1.1.1.4.3.2.1" stretchy="false" xref="S3.E12.m1.1.1.1.4.cmml">(</mo><mi id="S3.E12.m1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.cmml">s</mi><mo id="S3.E12.m1.1.1.1.4.3.2.2" stretchy="false" xref="S3.E12.m1.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mo id="S3.E12.m1.4.4.1.1.2" xref="S3.E12.m1.4.4.1.1.2.cmml">⁢</mo><mrow id="S3.E12.m1.4.4.1.1.1.1" xref="S3.E12.m1.4.4.1.1.1.2.cmml"><mo id="S3.E12.m1.4.4.1.1.1.1.2" stretchy="false" xref="S3.E12.m1.4.4.1.1.1.2.1.cmml">[</mo><mrow id="S3.E12.m1.4.4.1.1.1.1.1" xref="S3.E12.m1.4.4.1.1.1.1.1.cmml"><msub id="S3.E12.m1.4.4.1.1.1.1.1.3" xref="S3.E12.m1.4.4.1.1.1.1.1.3.cmml"><mi id="S3.E12.m1.4.4.1.1.1.1.1.3.2" xref="S3.E12.m1.4.4.1.1.1.1.1.3.2.cmml">𝔼</mi><mrow id="S3.E12.m1.2.2.1" xref="S3.E12.m1.2.2.1.cmml"><mi id="S3.E12.m1.2.2.1.3" xref="S3.E12.m1.2.2.1.3.cmml">𝐪</mi><mo id="S3.E12.m1.2.2.1.2" xref="S3.E12.m1.2.2.1.2.cmml">∼</mo><mrow id="S3.E12.m1.2.2.1.1" xref="S3.E12.m1.2.2.1.1.cmml"><mover accent="true" id="S3.E12.m1.2.2.1.1.3" xref="S3.E12.m1.2.2.1.1.3.cmml"><mi id="S3.E12.m1.2.2.1.1.3.2" xref="S3.E12.m1.2.2.1.1.3.2.cmml">ℙ</mi><mo id="S3.E12.m1.2.2.1.1.3.1" xref="S3.E12.m1.2.2.1.1.3.1.cmml">^</mo></mover><mo id="S3.E12.m1.2.2.1.1.2" xref="S3.E12.m1.2.2.1.1.2.cmml">⁢</mo><mrow id="S3.E12.m1.2.2.1.1.1.1" xref="S3.E12.m1.2.2.1.1.1.1.1.cmml"><mo id="S3.E12.m1.2.2.1.1.1.1.2" stretchy="false" xref="S3.E12.m1.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S3.E12.m1.2.2.1.1.1.1.1" xref="S3.E12.m1.2.2.1.1.1.1.1.cmml"><mi id="S3.E12.m1.2.2.1.1.1.1.1.2" xref="S3.E12.m1.2.2.1.1.1.1.1.2.cmml">q</mi><mo fence="false" id="S3.E12.m1.2.2.1.1.1.1.1.1" xref="S3.E12.m1.2.2.1.1.1.1.1.1.cmml">|</mo><msub id="S3.E12.m1.2.2.1.1.1.1.1.3" xref="S3.E12.m1.2.2.1.1.1.1.1.3.cmml"><mi id="S3.E12.m1.2.2.1.1.1.1.1.3.2" xref="S3.E12.m1.2.2.1.1.1.1.1.3.2.cmml">s</mi><mrow id="S3.E12.m1.2.2.1.1.1.1.1.3.3" xref="S3.E12.m1.2.2.1.1.1.1.1.3.3.cmml"><mi id="S3.E12.m1.2.2.1.1.1.1.1.3.3.2" xref="S3.E12.m1.2.2.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S3.E12.m1.2.2.1.1.1.1.1.3.3.1" xref="S3.E12.m1.2.2.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S3.E12.m1.2.2.1.1.1.1.1.3.3.3" xref="S3.E12.m1.2.2.1.1.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S3.E12.m1.2.2.1.1.1.1.3" stretchy="false" xref="S3.E12.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></msub><mo id="S3.E12.m1.4.4.1.1.1.1.1.2" xref="S3.E12.m1.4.4.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E12.m1.4.4.1.1.1.1.1.1.1" xref="S3.E12.m1.4.4.1.1.1.1.1.1.2.cmml"><mo id="S3.E12.m1.4.4.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E12.m1.4.4.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3.2" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3.2.cmml">𝔼</mi><mo id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3.1" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3.1.cmml">^</mo></mover><mo id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">𝐜</mi><mrow id="S3.E12.m1.3.3.1" xref="S3.E12.m1.3.3.1.cmml"><mi id="S3.E12.m1.3.3.1.3" xref="S3.E12.m1.3.3.1.3.cmml">π</mi><mo id="S3.E12.m1.3.3.1.2" xref="S3.E12.m1.3.3.1.2.cmml">⁢</mo><mrow id="S3.E12.m1.3.3.1.1.1" xref="S3.E12.m1.3.3.1.1.1.1.cmml"><mo id="S3.E12.m1.3.3.1.1.1.2" stretchy="false" xref="S3.E12.m1.3.3.1.1.1.1.cmml">(</mo><msub id="S3.E12.m1.3.3.1.1.1.1" xref="S3.E12.m1.3.3.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E12.m1.3.3.1.1.1.1.2" xref="S3.E12.m1.3.3.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.E12.m1.3.3.1.1.1.1.3" xref="S3.E12.m1.3.3.1.1.1.1.3.cmml">𝐪</mi></msub><mo id="S3.E12.m1.3.3.1.1.1.3" stretchy="false" xref="S3.E12.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">𝐬</mi><mrow id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">𝐪</mi></mrow></msub></mrow><mo id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.E12.m1.4.4.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E12.m1.4.4.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.E12.m1.4.4.1.1.1.1.3" stretchy="false" xref="S3.E12.m1.4.4.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.E12.m1.4.4.1.2" lspace="0em" xref="S3.E12.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E12.m1.4b"><apply id="S3.E12.m1.4.4.1.1.cmml" xref="S3.E12.m1.4.4.1"><times id="S3.E12.m1.4.4.1.1.2.cmml" xref="S3.E12.m1.4.4.1.1.2"></times><apply id="S3.E12.m1.4.4.1.1.3.cmml" xref="S3.E12.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.E12.m1.4.4.1.1.3.1.cmml" xref="S3.E12.m1.4.4.1.1.3">subscript</csymbol><ci id="S3.E12.m1.4.4.1.1.3.2.cmml" xref="S3.E12.m1.4.4.1.1.3.2">𝔼</ci><apply id="S3.E12.m1.1.1.1.cmml" xref="S3.E12.m1.1.1.1"><csymbol cd="latexml" id="S3.E12.m1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.2">similar-to</csymbol><ci id="S3.E12.m1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.3">𝐬</ci><apply id="S3.E12.m1.1.1.1.4.cmml" xref="S3.E12.m1.1.1.1.4"><times id="S3.E12.m1.1.1.1.4.1.cmml" xref="S3.E12.m1.1.1.1.4.1"></times><apply id="S3.E12.m1.1.1.1.4.2.cmml" xref="S3.E12.m1.1.1.1.4.2"><ci id="S3.E12.m1.1.1.1.4.2.1.cmml" xref="S3.E12.m1.1.1.1.4.2.1">^</ci><ci id="S3.E12.m1.1.1.1.4.2.2.cmml" xref="S3.E12.m1.1.1.1.4.2.2">ℙ</ci></apply><ci id="S3.E12.m1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1">𝑠</ci></apply></apply></apply><apply id="S3.E12.m1.4.4.1.1.1.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1"><csymbol cd="latexml" id="S3.E12.m1.4.4.1.1.1.2.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E12.m1.4.4.1.1.1.1.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1"><times id="S3.E12.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.2"></times><apply id="S3.E12.m1.4.4.1.1.1.1.1.3.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E12.m1.4.4.1.1.1.1.1.3.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E12.m1.4.4.1.1.1.1.1.3.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.3.2">𝔼</ci><apply id="S3.E12.m1.2.2.1.cmml" xref="S3.E12.m1.2.2.1"><csymbol cd="latexml" id="S3.E12.m1.2.2.1.2.cmml" xref="S3.E12.m1.2.2.1.2">similar-to</csymbol><ci id="S3.E12.m1.2.2.1.3.cmml" xref="S3.E12.m1.2.2.1.3">𝐪</ci><apply id="S3.E12.m1.2.2.1.1.cmml" xref="S3.E12.m1.2.2.1.1"><times id="S3.E12.m1.2.2.1.1.2.cmml" xref="S3.E12.m1.2.2.1.1.2"></times><apply id="S3.E12.m1.2.2.1.1.3.cmml" xref="S3.E12.m1.2.2.1.1.3"><ci id="S3.E12.m1.2.2.1.1.3.1.cmml" xref="S3.E12.m1.2.2.1.1.3.1">^</ci><ci id="S3.E12.m1.2.2.1.1.3.2.cmml" xref="S3.E12.m1.2.2.1.1.3.2">ℙ</ci></apply><apply id="S3.E12.m1.2.2.1.1.1.1.1.cmml" xref="S3.E12.m1.2.2.1.1.1.1"><csymbol cd="latexml" id="S3.E12.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E12.m1.2.2.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E12.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E12.m1.2.2.1.1.1.1.1.2">𝑞</ci><apply id="S3.E12.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.E12.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E12.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S3.E12.m1.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E12.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S3.E12.m1.2.2.1.1.1.1.1.3.2">𝑠</ci><apply id="S3.E12.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S3.E12.m1.2.2.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S3.E12.m1.2.2.1.1.1.1.1.3.3.1.cmml" xref="S3.E12.m1.2.2.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.E12.m1.2.2.1.1.1.1.1.3.3.2.cmml" xref="S3.E12.m1.2.2.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S3.E12.m1.2.2.1.1.1.1.1.3.3.3.cmml" xref="S3.E12.m1.2.2.1.1.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></apply><apply id="S3.E12.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E12.m1.4.4.1.1.1.1.1.1.2.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1"><times id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3"><ci id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3.1">^</ci><ci id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.3.2">𝔼</ci></apply><apply id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2">𝐜</ci><apply id="S3.E12.m1.3.3.1.cmml" xref="S3.E12.m1.3.3.1"><times id="S3.E12.m1.3.3.1.2.cmml" xref="S3.E12.m1.3.3.1.2"></times><ci id="S3.E12.m1.3.3.1.3.cmml" xref="S3.E12.m1.3.3.1.3">𝜋</ci><apply id="S3.E12.m1.3.3.1.1.1.1.cmml" xref="S3.E12.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E12.m1.3.3.1.1.1.1.1.cmml" xref="S3.E12.m1.3.3.1.1.1">subscript</csymbol><ci id="S3.E12.m1.3.3.1.1.1.1.2.cmml" xref="S3.E12.m1.3.3.1.1.1.1.2">𝒟</ci><ci id="S3.E12.m1.3.3.1.1.1.1.3.cmml" xref="S3.E12.m1.3.3.1.1.1.1.3">𝐪</ci></apply></apply></apply><apply id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2">𝐬</ci><apply id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E12.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.3">𝐪</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E12.m1.4c">\mathbb{E}_{\mathbf{s}\sim\hat{\mathbb{P}}(s)}[\mathbb{E}_{\mathbf{q}\sim\hat{%
\mathbb{P}}(q|s_{\prec q})}[\hat{\mathbb{E}}[\mathbf{c}_{\pi(\mathcal{D}_{%
\mathbf{\mathbf{q}}})}|\mathbf{s}_{\prec\mathbf{q}}]]].</annotation><annotation encoding="application/x-llamapun" id="S3.E12.m1.4d">blackboard_E start_POSTSUBSCRIPT bold_s ∼ over^ start_ARG blackboard_P end_ARG ( italic_s ) end_POSTSUBSCRIPT [ blackboard_E start_POSTSUBSCRIPT bold_q ∼ over^ start_ARG blackboard_P end_ARG ( italic_q | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ over^ start_ARG blackboard_E end_ARG [ bold_c start_POSTSUBSCRIPT italic_π ( caligraphic_D start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT | bold_s start_POSTSUBSCRIPT ≺ bold_q end_POSTSUBSCRIPT ] ] ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p1.2">An important source of distribution shift in observational search activity data is the the selection bias due to presentation of the items on the page and the sequential browsing of the users, implying that we only observe relevancy of the items to the user only in the event of an explicit user engagement and it is more likely to observe engagements on SERPs from higher ranking slots.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1">A key technique to account for this effect is to define a suitable notion of propensity, which is developed in the context of studying the effect of a treatment(an intervention) on a population by taking into account attributes of the treatment unit in the way the treatment is assigned. In the context of ranking, the treatment is defined in correspondence to the examination of a slotted item by the user, but the key difference with the standard applications of this concept is that the examination variable is not fully observable.
An alternative approach based on potential outcome modeling, similar to actor-critic networks in the context of offline reinforcement learning, is proposed in <cite class="ltx_cite ltx_citemacro_citep">(Ebrahimzadeh et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib12" title="">2024</a>)</cite>, where distilled knowledge from a teacher model is used in the form of soft predicted relevance labels to account for unobserved user feedback to achieve variance reduction and improved generalization.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Variance Reduction and Generalization</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">Having discussed an array of importance weighting schemes to build empirical expected reward estimates, it is essential to develop variance reduction techniques to control the generalization behavior of expected reward estimators.
For brevity of presentation, we briefly discuss the various reduction techniques adopted and ignore developing generalization bounds on the bias and variance of the estimation error of the proposed empirical reward estimation techniques.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<section class="ltx_subsubsection" id="S3.SS4.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.1. </span>Truncation and Bucketing</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS4.SSS1.p1">
<p class="ltx_p" id="S3.SS4.SSS1.p1.1">Clipping and truncated importance sampling techniques<cite class="ltx_cite ltx_citemacro_citep">(Bottou et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib2" title="">2013</a>; Ionides, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib14" title="">2008</a>)</cite> are popular techniques to control the variance and generalization behavior of inverse propensity weighting estimators when there is high variance in the estimated propensities. Since we combine multiple importance sampling techniques to account for selection bias, success likelihood, and context value distribution across highly heterogeneous user trajectories, we adopt this simple variance reduction technique off the shelf.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S3.SS4.SSS1.p2">
<p class="ltx_p" id="S3.SS4.SSS1.p2.1">In building empirical session value distributions for a revenue focused marketplace reward, relying on the purchase price of the success items leads to a very high variance estimator, particularly in the presence of high heterogeneity in price intent across user trajectories.
Instead, we can use a stratification technique by bucketing user sessions based on value buckets defined according to the empirical revenue distribution.
Specifically, we can build a session value distribution based on the empirical revenue share of the bucket corresponding to the price of the purchased item.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS4.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.2. </span>Potential Outcome Modeling</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS4.SSS2.p1">
<p class="ltx_p" id="S3.SS4.SSS2.p1.1">One of the the primary challenges of counterfactual learning to rank from logged search activity data is that the relevancy of the items is observed only in the event of explicit user engagements.
A popular idea in the context of contextual bandits and recommendation systems to circumvent the challenges in this partial information setting is to use predictive models for reward estimates as potential outcome models in conjunction with inverse propensity weighting<cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib34" title="">2018b</a>; Dudík et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib9" title="">2011</a>; Schnabel et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib25" title="">2016</a>)</cite>.
There are a number of recent works in the context of unbiased response prediction that leverage and analyze the doubly robust technique<cite class="ltx_cite ltx_citemacro_citep">(Zou et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib37" title="">2022</a>; Wang et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib33" title="">2019</a>; Saito, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib24" title="">2020</a>; Oosterhuis, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib23" title="">2023</a>)</cite>.
In <cite class="ltx_cite ltx_citemacro_citep">(Ebrahimzadeh et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib12" title="">2024</a>)</cite>, a generalized form of potential outcome modeling is proposed where the distilled knowledge from a relevance teacher is used in the form of soft predicted relevance labels to help the student with more effective list-wise comparisons, variance reduction, and improved generalization behavior.
This is similar to the idea of actor-critic networks in the context of offline reinforcement learning<cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib6" title="">2022</a>)</cite>, and augmentation policy in the context of contextual bandits<cite class="ltx_cite ltx_citemacro_citep">(Tucker and Joachims, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib30" title="">2023</a>)</cite>.
Using knowledge distillation helps build training contexts from logged search contexts without user interaction events leveraging complex models. To simplify the discussions, we ignore discussing any details about the teacher models used in our experimental setup.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS4.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.3. </span>Stratification and Normalization</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS4.SSS3.p1">
<p class="ltx_p" id="S3.SS4.SSS3.p1.1">Effective stratification is a key technique in the context of importance weighting estimators, e.g. the context value binning idea discussed in sub-section <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS4.SSS1" title="3.4.1. Truncation and Bucketing ‣ 3.4. Variance Reduction and Generalization ‣ 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">3.4.1</span></a> or training context stratification based on characteristics of logged training contexts<cite class="ltx_cite ltx_citemacro_citep">(Ebrahimzadeh et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib11" title="">2023</a>)</cite>.
We adopt Self-Normalizing propensity based estimators, recently analyzed in <cite class="ltx_cite ltx_citemacro_citep">(London et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib18" title="">2023</a>)</cite>, where we use engagement ranks as yet another stratification dimension in our proposed estimators.
Yet another standard variance reduction technique that we adopt to control the contribution of the search sessions with many success events in the observational data is to adopt normalization techniques; e.g. the standard Ideal cumulative gain normalization for the per query loss. We note that under this cumulative reward normalization technique, per item propensity weights should be reformulated as context weights.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S3.SS4.SSS3.p2">
<p class="ltx_p" id="S3.SS4.SSS3.p2.1">Having equipped our empirical reward estimates with variance reduction techniques, from this point on, we can assume that the effect of all importance weighting schemes discussed so far are reflected in importance weights <math alttext="\hat{v}_{q,s}" class="ltx_Math" display="inline" id="S3.SS4.SSS3.p2.1.m1.2"><semantics id="S3.SS4.SSS3.p2.1.m1.2a"><msub id="S3.SS4.SSS3.p2.1.m1.2.3" xref="S3.SS4.SSS3.p2.1.m1.2.3.cmml"><mover accent="true" id="S3.SS4.SSS3.p2.1.m1.2.3.2" xref="S3.SS4.SSS3.p2.1.m1.2.3.2.cmml"><mi id="S3.SS4.SSS3.p2.1.m1.2.3.2.2" xref="S3.SS4.SSS3.p2.1.m1.2.3.2.2.cmml">v</mi><mo id="S3.SS4.SSS3.p2.1.m1.2.3.2.1" xref="S3.SS4.SSS3.p2.1.m1.2.3.2.1.cmml">^</mo></mover><mrow id="S3.SS4.SSS3.p2.1.m1.2.2.2.4" xref="S3.SS4.SSS3.p2.1.m1.2.2.2.3.cmml"><mi id="S3.SS4.SSS3.p2.1.m1.1.1.1.1" xref="S3.SS4.SSS3.p2.1.m1.1.1.1.1.cmml">q</mi><mo id="S3.SS4.SSS3.p2.1.m1.2.2.2.4.1" xref="S3.SS4.SSS3.p2.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS4.SSS3.p2.1.m1.2.2.2.2" xref="S3.SS4.SSS3.p2.1.m1.2.2.2.2.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS3.p2.1.m1.2b"><apply id="S3.SS4.SSS3.p2.1.m1.2.3.cmml" xref="S3.SS4.SSS3.p2.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS4.SSS3.p2.1.m1.2.3.1.cmml" xref="S3.SS4.SSS3.p2.1.m1.2.3">subscript</csymbol><apply id="S3.SS4.SSS3.p2.1.m1.2.3.2.cmml" xref="S3.SS4.SSS3.p2.1.m1.2.3.2"><ci id="S3.SS4.SSS3.p2.1.m1.2.3.2.1.cmml" xref="S3.SS4.SSS3.p2.1.m1.2.3.2.1">^</ci><ci id="S3.SS4.SSS3.p2.1.m1.2.3.2.2.cmml" xref="S3.SS4.SSS3.p2.1.m1.2.3.2.2">𝑣</ci></apply><list id="S3.SS4.SSS3.p2.1.m1.2.2.2.3.cmml" xref="S3.SS4.SSS3.p2.1.m1.2.2.2.4"><ci id="S3.SS4.SSS3.p2.1.m1.1.1.1.1.cmml" xref="S3.SS4.SSS3.p2.1.m1.1.1.1.1">𝑞</ci><ci id="S3.SS4.SSS3.p2.1.m1.2.2.2.2.cmml" xref="S3.SS4.SSS3.p2.1.m1.2.2.2.2">𝑠</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS3.p2.1.m1.2c">\hat{v}_{q,s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS3.p2.1.m1.2d">over^ start_ARG italic_v end_ARG start_POSTSUBSCRIPT italic_q , italic_s end_POSTSUBSCRIPT</annotation></semantics></math>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5. </span>Optimization Objective for the Ranking Policy</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS5.p1">
<p class="ltx_p" id="S3.SS5.p1.4">We consider deterministic policies parameterized by a scoring function <math alttext="f" class="ltx_Math" display="inline" id="S3.SS5.p1.1.m1.1"><semantics id="S3.SS5.p1.1.m1.1a"><mi id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><ci id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">f</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.1.m1.1d">italic_f</annotation></semantics></math>, such that <math alttext="\pi_{f}=\mathrm{argSort(f)}" class="ltx_Math" display="inline" id="S3.SS5.p1.2.m2.1"><semantics id="S3.SS5.p1.2.m2.1a"><mrow id="S3.SS5.p1.2.m2.1.2" xref="S3.SS5.p1.2.m2.1.2.cmml"><msub id="S3.SS5.p1.2.m2.1.2.2" xref="S3.SS5.p1.2.m2.1.2.2.cmml"><mi id="S3.SS5.p1.2.m2.1.2.2.2" xref="S3.SS5.p1.2.m2.1.2.2.2.cmml">π</mi><mi id="S3.SS5.p1.2.m2.1.2.2.3" xref="S3.SS5.p1.2.m2.1.2.2.3.cmml">f</mi></msub><mo id="S3.SS5.p1.2.m2.1.2.1" xref="S3.SS5.p1.2.m2.1.2.1.cmml">=</mo><mrow id="S3.SS5.p1.2.m2.1.2.3" xref="S3.SS5.p1.2.m2.1.2.3.cmml"><mi id="S3.SS5.p1.2.m2.1.2.3.2" xref="S3.SS5.p1.2.m2.1.2.3.2.cmml">argSort</mi><mo id="S3.SS5.p1.2.m2.1.2.3.1" xref="S3.SS5.p1.2.m2.1.2.3.1.cmml">⁢</mo><mrow id="S3.SS5.p1.2.m2.1.2.3.3.2" xref="S3.SS5.p1.2.m2.1.2.3.cmml"><mo id="S3.SS5.p1.2.m2.1.2.3.3.2.1" stretchy="false" xref="S3.SS5.p1.2.m2.1.2.3.cmml">(</mo><mi id="S3.SS5.p1.2.m2.1.1" mathvariant="normal" xref="S3.SS5.p1.2.m2.1.1.cmml">f</mi><mo id="S3.SS5.p1.2.m2.1.2.3.3.2.2" stretchy="false" xref="S3.SS5.p1.2.m2.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><apply id="S3.SS5.p1.2.m2.1.2.cmml" xref="S3.SS5.p1.2.m2.1.2"><eq id="S3.SS5.p1.2.m2.1.2.1.cmml" xref="S3.SS5.p1.2.m2.1.2.1"></eq><apply id="S3.SS5.p1.2.m2.1.2.2.cmml" xref="S3.SS5.p1.2.m2.1.2.2"><csymbol cd="ambiguous" id="S3.SS5.p1.2.m2.1.2.2.1.cmml" xref="S3.SS5.p1.2.m2.1.2.2">subscript</csymbol><ci id="S3.SS5.p1.2.m2.1.2.2.2.cmml" xref="S3.SS5.p1.2.m2.1.2.2.2">𝜋</ci><ci id="S3.SS5.p1.2.m2.1.2.2.3.cmml" xref="S3.SS5.p1.2.m2.1.2.2.3">𝑓</ci></apply><apply id="S3.SS5.p1.2.m2.1.2.3.cmml" xref="S3.SS5.p1.2.m2.1.2.3"><times id="S3.SS5.p1.2.m2.1.2.3.1.cmml" xref="S3.SS5.p1.2.m2.1.2.3.1"></times><ci id="S3.SS5.p1.2.m2.1.2.3.2.cmml" xref="S3.SS5.p1.2.m2.1.2.3.2">argSort</ci><ci id="S3.SS5.p1.2.m2.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1">f</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">\pi_{f}=\mathrm{argSort(f)}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.2.m2.1d">italic_π start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT = roman_argSort ( roman_f )</annotation></semantics></math>, oblivious to the representation of the items and the ranking context.
An appealing approach, particularly in the context of online advertising and sponsored search, is to directly estimate the Bayes contextual relevance probabilities <math alttext="\mathbb{P}(\mathbf{R}_{d}=1|s_{\prec q})" class="ltx_Math" display="inline" id="S3.SS5.p1.3.m3.1"><semantics id="S3.SS5.p1.3.m3.1a"><mrow id="S3.SS5.p1.3.m3.1.1" xref="S3.SS5.p1.3.m3.1.1.cmml"><mi id="S3.SS5.p1.3.m3.1.1.3" xref="S3.SS5.p1.3.m3.1.1.3.cmml">ℙ</mi><mo id="S3.SS5.p1.3.m3.1.1.2" xref="S3.SS5.p1.3.m3.1.1.2.cmml">⁢</mo><mrow id="S3.SS5.p1.3.m3.1.1.1.1" xref="S3.SS5.p1.3.m3.1.1.1.1.1.cmml"><mo id="S3.SS5.p1.3.m3.1.1.1.1.2" stretchy="false" xref="S3.SS5.p1.3.m3.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS5.p1.3.m3.1.1.1.1.1" xref="S3.SS5.p1.3.m3.1.1.1.1.1.cmml"><msub id="S3.SS5.p1.3.m3.1.1.1.1.1.2" xref="S3.SS5.p1.3.m3.1.1.1.1.1.2.cmml"><mi id="S3.SS5.p1.3.m3.1.1.1.1.1.2.2" xref="S3.SS5.p1.3.m3.1.1.1.1.1.2.2.cmml">𝐑</mi><mi id="S3.SS5.p1.3.m3.1.1.1.1.1.2.3" xref="S3.SS5.p1.3.m3.1.1.1.1.1.2.3.cmml">d</mi></msub><mo id="S3.SS5.p1.3.m3.1.1.1.1.1.1" xref="S3.SS5.p1.3.m3.1.1.1.1.1.1.cmml">=</mo><mrow id="S3.SS5.p1.3.m3.1.1.1.1.1.3" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.cmml"><mn id="S3.SS5.p1.3.m3.1.1.1.1.1.3.2" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.2.cmml">1</mn><mo fence="false" id="S3.SS5.p1.3.m3.1.1.1.1.1.3.1" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.1.cmml">|</mo><msub id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.cmml"><mi id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.2" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.2.cmml">s</mi><mrow id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.cmml"><mi id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.2" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.2.cmml"></mi><mo id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.1" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.1.cmml">≺</mo><mi id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.3" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.3.cmml">q</mi></mrow></msub></mrow></mrow><mo id="S3.SS5.p1.3.m3.1.1.1.1.3" stretchy="false" xref="S3.SS5.p1.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.3.m3.1b"><apply id="S3.SS5.p1.3.m3.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1"><times id="S3.SS5.p1.3.m3.1.1.2.cmml" xref="S3.SS5.p1.3.m3.1.1.2"></times><ci id="S3.SS5.p1.3.m3.1.1.3.cmml" xref="S3.SS5.p1.3.m3.1.1.3">ℙ</ci><apply id="S3.SS5.p1.3.m3.1.1.1.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1"><eq id="S3.SS5.p1.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.1"></eq><apply id="S3.SS5.p1.3.m3.1.1.1.1.1.2.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS5.p1.3.m3.1.1.1.1.1.2.1.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS5.p1.3.m3.1.1.1.1.1.2.2.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.2.2">𝐑</ci><ci id="S3.SS5.p1.3.m3.1.1.1.1.1.2.3.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.2.3">𝑑</ci></apply><apply id="S3.SS5.p1.3.m3.1.1.1.1.1.3.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.SS5.p1.3.m3.1.1.1.1.1.3.1.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.1">conditional</csymbol><cn id="S3.SS5.p1.3.m3.1.1.1.1.1.3.2.cmml" type="integer" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.2">1</cn><apply id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.1.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.2.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.2">𝑠</ci><apply id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3"><csymbol cd="latexml" id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.1.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.2.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.2">absent</csymbol><ci id="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.3.cmml" xref="S3.SS5.p1.3.m3.1.1.1.1.1.3.3.3.3">𝑞</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.3.m3.1c">\mathbb{P}(\mathbf{R}_{d}=1|s_{\prec q})</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.3.m3.1d">blackboard_P ( bold_R start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT = 1 | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT )</annotation></semantics></math>, or equivalently the counterfactual probability of click had the item been examined <math alttext="\mathbb{P}(\mathbf{c}_{d}=1|s_{\prec q},\mathrm{do}(\mathbf{o}_{d}=1))" class="ltx_Math" display="inline" id="S3.SS5.p1.4.m4.1"><semantics id="S3.SS5.p1.4.m4.1a"><mrow id="S3.SS5.p1.4.m4.1.1" xref="S3.SS5.p1.4.m4.1.1.cmml"><mi id="S3.SS5.p1.4.m4.1.1.3" xref="S3.SS5.p1.4.m4.1.1.3.cmml">ℙ</mi><mo id="S3.SS5.p1.4.m4.1.1.2" xref="S3.SS5.p1.4.m4.1.1.2.cmml">⁢</mo><mrow id="S3.SS5.p1.4.m4.1.1.1.1" xref="S3.SS5.p1.4.m4.1.1.1.1.1.cmml"><mo id="S3.SS5.p1.4.m4.1.1.1.1.2" stretchy="false" xref="S3.SS5.p1.4.m4.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS5.p1.4.m4.1.1.1.1.1" xref="S3.SS5.p1.4.m4.1.1.1.1.1.cmml"><msub id="S3.SS5.p1.4.m4.1.1.1.1.1.4" xref="S3.SS5.p1.4.m4.1.1.1.1.1.4.cmml"><mi id="S3.SS5.p1.4.m4.1.1.1.1.1.4.2" xref="S3.SS5.p1.4.m4.1.1.1.1.1.4.2.cmml">𝐜</mi><mi id="S3.SS5.p1.4.m4.1.1.1.1.1.4.3" xref="S3.SS5.p1.4.m4.1.1.1.1.1.4.3.cmml">d</mi></msub><mo id="S3.SS5.p1.4.m4.1.1.1.1.1.3" xref="S3.SS5.p1.4.m4.1.1.1.1.1.3.cmml">=</mo><mrow id="S3.SS5.p1.4.m4.1.1.1.1.1.2" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.cmml"><mn id="S3.SS5.p1.4.m4.1.1.1.1.1.2.4" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.4.cmml">1</mn><mo fence="false" id="S3.SS5.p1.4.m4.1.1.1.1.1.2.3" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.3.cmml">|</mo><mrow id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.3.cmml"><msub id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.2" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.2.cmml">s</mi><mrow id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.2" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.1" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.1.cmml">≺</mo><mi id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.3" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.3.cmml">q</mi></mrow></msub><mo id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.3" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.cmml"><mi id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.3" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.3.cmml">do</mi><mo id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.2" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.2.cmml">⁢</mo><mrow id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.cmml"><mo id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.2" stretchy="false" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.cmml"><msub id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.cmml"><mi id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.2" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.2.cmml">𝐨</mi><mi id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.3" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.3.cmml">d</mi></msub><mo id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.1" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.1.cmml">=</mo><mn id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.3" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.3.cmml">1</mn></mrow><mo id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.3" stretchy="false" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.SS5.p1.4.m4.1.1.1.1.3" stretchy="false" xref="S3.SS5.p1.4.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.4.m4.1b"><apply id="S3.SS5.p1.4.m4.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1"><times id="S3.SS5.p1.4.m4.1.1.2.cmml" xref="S3.SS5.p1.4.m4.1.1.2"></times><ci id="S3.SS5.p1.4.m4.1.1.3.cmml" xref="S3.SS5.p1.4.m4.1.1.3">ℙ</ci><apply id="S3.SS5.p1.4.m4.1.1.1.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1"><eq id="S3.SS5.p1.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.3"></eq><apply id="S3.SS5.p1.4.m4.1.1.1.1.1.4.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.SS5.p1.4.m4.1.1.1.1.1.4.1.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.4">subscript</csymbol><ci id="S3.SS5.p1.4.m4.1.1.1.1.1.4.2.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.4.2">𝐜</ci><ci id="S3.SS5.p1.4.m4.1.1.1.1.1.4.3.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.4.3">𝑑</ci></apply><apply id="S3.SS5.p1.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2"><csymbol cd="latexml" id="S3.SS5.p1.4.m4.1.1.1.1.1.2.3.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.3">conditional</csymbol><cn id="S3.SS5.p1.4.m4.1.1.1.1.1.2.4.cmml" type="integer" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.4">1</cn><list id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.3.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2"><apply id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.2">𝑠</ci><apply id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.1">precedes</csymbol><csymbol cd="latexml" id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.1.1.1.1.3.3">𝑞</ci></apply></apply><apply id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2"><times id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.2"></times><ci id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.3">do</ci><apply id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1"><eq id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.1"></eq><apply id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.1.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2">subscript</csymbol><ci id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.2.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.2">𝐨</ci><ci id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.3.cmml" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.2.3">𝑑</ci></apply><cn id="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS5.p1.4.m4.1.1.1.1.1.2.2.2.2.1.1.1.3">1</cn></apply></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.4.m4.1c">\mathbb{P}(\mathbf{c}_{d}=1|s_{\prec q},\mathrm{do}(\mathbf{o}_{d}=1))</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.4.m4.1d">blackboard_P ( bold_c start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT = 1 | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT , roman_do ( bold_o start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT = 1 ) )</annotation></semantics></math> via a standard supervised predictive models, i.e.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table" id="S5.EGx3">
<tbody id="S3.E13"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(13)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\sum_{s,q}\hat{v}_{q,s}\sum_{d\in D_{q}}\mathrm{D}(f(d)||\hat{r}_%
{d})," class="ltx_math_unparsed" display="inline" id="S3.E13.m1.5"><semantics id="S3.E13.m1.5a"><mrow id="S3.E13.m1.5b"><mstyle displaystyle="true" id="S3.E13.m1.5.6"><munder id="S3.E13.m1.5.6a"><mo id="S3.E13.m1.5.6.2" movablelimits="false">∑</mo><mrow id="S3.E13.m1.2.2.2.4"><mi id="S3.E13.m1.1.1.1.1">s</mi><mo id="S3.E13.m1.2.2.2.4.1">,</mo><mi id="S3.E13.m1.2.2.2.2">q</mi></mrow></munder></mstyle><msub id="S3.E13.m1.5.7"><mover accent="true" id="S3.E13.m1.5.7.2"><mi id="S3.E13.m1.5.7.2.2">v</mi><mo id="S3.E13.m1.5.7.2.1">^</mo></mover><mrow id="S3.E13.m1.4.4.2.4"><mi id="S3.E13.m1.3.3.1.1">q</mi><mo id="S3.E13.m1.4.4.2.4.1">,</mo><mi id="S3.E13.m1.4.4.2.2">s</mi></mrow></msub><mstyle displaystyle="true" id="S3.E13.m1.5.8"><munder id="S3.E13.m1.5.8a"><mo id="S3.E13.m1.5.8.2" movablelimits="false">∑</mo><mrow id="S3.E13.m1.5.8.3"><mi id="S3.E13.m1.5.8.3.2">d</mi><mo id="S3.E13.m1.5.8.3.1">∈</mo><msub id="S3.E13.m1.5.8.3.3"><mi id="S3.E13.m1.5.8.3.3.2">D</mi><mi id="S3.E13.m1.5.8.3.3.3">q</mi></msub></mrow></munder></mstyle><mi id="S3.E13.m1.5.9" mathvariant="normal">D</mi><mrow id="S3.E13.m1.5.10"><mo id="S3.E13.m1.5.10.1" stretchy="false">(</mo><mi id="S3.E13.m1.5.10.2">f</mi><mrow id="S3.E13.m1.5.10.3"><mo id="S3.E13.m1.5.10.3.1" stretchy="false">(</mo><mi id="S3.E13.m1.5.5">d</mi><mo id="S3.E13.m1.5.10.3.2" stretchy="false">)</mo></mrow><mo fence="false" id="S3.E13.m1.5.10.4" rspace="0.167em" stretchy="false">|</mo><mo fence="false" id="S3.E13.m1.5.10.5" rspace="0.167em" stretchy="false">|</mo><msub id="S3.E13.m1.5.10.6"><mover accent="true" id="S3.E13.m1.5.10.6.2"><mi id="S3.E13.m1.5.10.6.2.2">r</mi><mo id="S3.E13.m1.5.10.6.2.1">^</mo></mover><mi id="S3.E13.m1.5.10.6.3">d</mi></msub><mo id="S3.E13.m1.5.10.7" stretchy="false">)</mo></mrow><mo id="S3.E13.m1.5.11">,</mo></mrow><annotation encoding="application/x-tex" id="S3.E13.m1.5c">\displaystyle\sum_{s,q}\hat{v}_{q,s}\sum_{d\in D_{q}}\mathrm{D}(f(d)||\hat{r}_%
{d}),</annotation><annotation encoding="application/x-llamapun" id="S3.E13.m1.5d">∑ start_POSTSUBSCRIPT italic_s , italic_q end_POSTSUBSCRIPT over^ start_ARG italic_v end_ARG start_POSTSUBSCRIPT italic_q , italic_s end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_d ∈ italic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_D ( italic_f ( italic_d ) | | over^ start_ARG italic_r end_ARG start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS5.p1.8">where <math alttext="\hat{v}_{q,s}" class="ltx_Math" display="inline" id="S3.SS5.p1.5.m1.2"><semantics id="S3.SS5.p1.5.m1.2a"><msub id="S3.SS5.p1.5.m1.2.3" xref="S3.SS5.p1.5.m1.2.3.cmml"><mover accent="true" id="S3.SS5.p1.5.m1.2.3.2" xref="S3.SS5.p1.5.m1.2.3.2.cmml"><mi id="S3.SS5.p1.5.m1.2.3.2.2" xref="S3.SS5.p1.5.m1.2.3.2.2.cmml">v</mi><mo id="S3.SS5.p1.5.m1.2.3.2.1" xref="S3.SS5.p1.5.m1.2.3.2.1.cmml">^</mo></mover><mrow id="S3.SS5.p1.5.m1.2.2.2.4" xref="S3.SS5.p1.5.m1.2.2.2.3.cmml"><mi id="S3.SS5.p1.5.m1.1.1.1.1" xref="S3.SS5.p1.5.m1.1.1.1.1.cmml">q</mi><mo id="S3.SS5.p1.5.m1.2.2.2.4.1" xref="S3.SS5.p1.5.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS5.p1.5.m1.2.2.2.2" xref="S3.SS5.p1.5.m1.2.2.2.2.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.5.m1.2b"><apply id="S3.SS5.p1.5.m1.2.3.cmml" xref="S3.SS5.p1.5.m1.2.3"><csymbol cd="ambiguous" id="S3.SS5.p1.5.m1.2.3.1.cmml" xref="S3.SS5.p1.5.m1.2.3">subscript</csymbol><apply id="S3.SS5.p1.5.m1.2.3.2.cmml" xref="S3.SS5.p1.5.m1.2.3.2"><ci id="S3.SS5.p1.5.m1.2.3.2.1.cmml" xref="S3.SS5.p1.5.m1.2.3.2.1">^</ci><ci id="S3.SS5.p1.5.m1.2.3.2.2.cmml" xref="S3.SS5.p1.5.m1.2.3.2.2">𝑣</ci></apply><list id="S3.SS5.p1.5.m1.2.2.2.3.cmml" xref="S3.SS5.p1.5.m1.2.2.2.4"><ci id="S3.SS5.p1.5.m1.1.1.1.1.cmml" xref="S3.SS5.p1.5.m1.1.1.1.1">𝑞</ci><ci id="S3.SS5.p1.5.m1.2.2.2.2.cmml" xref="S3.SS5.p1.5.m1.2.2.2.2">𝑠</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.5.m1.2c">\hat{v}_{q,s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.5.m1.2d">over^ start_ARG italic_v end_ARG start_POSTSUBSCRIPT italic_q , italic_s end_POSTSUBSCRIPT</annotation></semantics></math> is the empirical importance weights based on discussion in section <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS2" title="3.2. Estimating the Session Expected Reward ‣ 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">3.2</span></a>, <math alttext="D" class="ltx_Math" display="inline" id="S3.SS5.p1.6.m2.1"><semantics id="S3.SS5.p1.6.m2.1a"><mi id="S3.SS5.p1.6.m2.1.1" xref="S3.SS5.p1.6.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.6.m2.1b"><ci id="S3.SS5.p1.6.m2.1.1.cmml" xref="S3.SS5.p1.6.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.6.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.6.m2.1d">italic_D</annotation></semantics></math> is a distance measure, e.g. cross entropy, between the predicted distributions <math alttext="f(d)" class="ltx_Math" display="inline" id="S3.SS5.p1.7.m3.1"><semantics id="S3.SS5.p1.7.m3.1a"><mrow id="S3.SS5.p1.7.m3.1.2" xref="S3.SS5.p1.7.m3.1.2.cmml"><mi id="S3.SS5.p1.7.m3.1.2.2" xref="S3.SS5.p1.7.m3.1.2.2.cmml">f</mi><mo id="S3.SS5.p1.7.m3.1.2.1" xref="S3.SS5.p1.7.m3.1.2.1.cmml">⁢</mo><mrow id="S3.SS5.p1.7.m3.1.2.3.2" xref="S3.SS5.p1.7.m3.1.2.cmml"><mo id="S3.SS5.p1.7.m3.1.2.3.2.1" stretchy="false" xref="S3.SS5.p1.7.m3.1.2.cmml">(</mo><mi id="S3.SS5.p1.7.m3.1.1" xref="S3.SS5.p1.7.m3.1.1.cmml">d</mi><mo id="S3.SS5.p1.7.m3.1.2.3.2.2" stretchy="false" xref="S3.SS5.p1.7.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.7.m3.1b"><apply id="S3.SS5.p1.7.m3.1.2.cmml" xref="S3.SS5.p1.7.m3.1.2"><times id="S3.SS5.p1.7.m3.1.2.1.cmml" xref="S3.SS5.p1.7.m3.1.2.1"></times><ci id="S3.SS5.p1.7.m3.1.2.2.cmml" xref="S3.SS5.p1.7.m3.1.2.2">𝑓</ci><ci id="S3.SS5.p1.7.m3.1.1.cmml" xref="S3.SS5.p1.7.m3.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.7.m3.1c">f(d)</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.7.m3.1d">italic_f ( italic_d )</annotation></semantics></math> and the properly debiased empirical label distribution<math alttext="\hat{r_{d}}" class="ltx_Math" display="inline" id="S3.SS5.p1.8.m4.1"><semantics id="S3.SS5.p1.8.m4.1a"><mover accent="true" id="S3.SS5.p1.8.m4.1.1" xref="S3.SS5.p1.8.m4.1.1.cmml"><msub id="S3.SS5.p1.8.m4.1.1.2" xref="S3.SS5.p1.8.m4.1.1.2.cmml"><mi id="S3.SS5.p1.8.m4.1.1.2.2" xref="S3.SS5.p1.8.m4.1.1.2.2.cmml">r</mi><mi id="S3.SS5.p1.8.m4.1.1.2.3" xref="S3.SS5.p1.8.m4.1.1.2.3.cmml">d</mi></msub><mo id="S3.SS5.p1.8.m4.1.1.1" xref="S3.SS5.p1.8.m4.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.8.m4.1b"><apply id="S3.SS5.p1.8.m4.1.1.cmml" xref="S3.SS5.p1.8.m4.1.1"><ci id="S3.SS5.p1.8.m4.1.1.1.cmml" xref="S3.SS5.p1.8.m4.1.1.1">^</ci><apply id="S3.SS5.p1.8.m4.1.1.2.cmml" xref="S3.SS5.p1.8.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS5.p1.8.m4.1.1.2.1.cmml" xref="S3.SS5.p1.8.m4.1.1.2">subscript</csymbol><ci id="S3.SS5.p1.8.m4.1.1.2.2.cmml" xref="S3.SS5.p1.8.m4.1.1.2.2">𝑟</ci><ci id="S3.SS5.p1.8.m4.1.1.2.3.cmml" xref="S3.SS5.p1.8.m4.1.1.2.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.8.m4.1c">\hat{r_{d}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.8.m4.1d">over^ start_ARG italic_r start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_ARG</annotation></semantics></math>.
For estimating counterfactual probability of click that is <span class="ltx_text ltx_font_italic" id="S3.SS5.p1.8.1">Contextually Well-Calibrated and Discriminative</span> for ranking, we need very complex models with rich feature representations, with careful data stratification and selection bias correction. Since absolute merit estimation is usually a harder problem than difference in merit estimation, we resort to alternative techniques for empirical expected reward optimization.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S3.SS5.p2">
<p class="ltx_p" id="S3.SS5.p2.1">The standard alternative approach is to adopt the LambdaLoss framework<cite class="ltx_cite ltx_citemacro_citep">(Wang et&nbsp;al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#bib.bib32" title="">2018a</a>)</cite> and optimize a pairwise upper bound on the (list-wise) empirical estimates for the expected number of engagements, <math alttext="\ell_{q}(\pi_{f},\hat{r})" class="ltx_Math" display="inline" id="S3.SS5.p2.1.m1.2"><semantics id="S3.SS5.p2.1.m1.2a"><mrow id="S3.SS5.p2.1.m1.2.2" xref="S3.SS5.p2.1.m1.2.2.cmml"><msub id="S3.SS5.p2.1.m1.2.2.3" xref="S3.SS5.p2.1.m1.2.2.3.cmml"><mi id="S3.SS5.p2.1.m1.2.2.3.2" mathvariant="normal" xref="S3.SS5.p2.1.m1.2.2.3.2.cmml">ℓ</mi><mi id="S3.SS5.p2.1.m1.2.2.3.3" xref="S3.SS5.p2.1.m1.2.2.3.3.cmml">q</mi></msub><mo id="S3.SS5.p2.1.m1.2.2.2" xref="S3.SS5.p2.1.m1.2.2.2.cmml">⁢</mo><mrow id="S3.SS5.p2.1.m1.2.2.1.1" xref="S3.SS5.p2.1.m1.2.2.1.2.cmml"><mo id="S3.SS5.p2.1.m1.2.2.1.1.2" stretchy="false" xref="S3.SS5.p2.1.m1.2.2.1.2.cmml">(</mo><msub id="S3.SS5.p2.1.m1.2.2.1.1.1" xref="S3.SS5.p2.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS5.p2.1.m1.2.2.1.1.1.2" xref="S3.SS5.p2.1.m1.2.2.1.1.1.2.cmml">π</mi><mi id="S3.SS5.p2.1.m1.2.2.1.1.1.3" xref="S3.SS5.p2.1.m1.2.2.1.1.1.3.cmml">f</mi></msub><mo id="S3.SS5.p2.1.m1.2.2.1.1.3" xref="S3.SS5.p2.1.m1.2.2.1.2.cmml">,</mo><mover accent="true" id="S3.SS5.p2.1.m1.1.1" xref="S3.SS5.p2.1.m1.1.1.cmml"><mi id="S3.SS5.p2.1.m1.1.1.2" xref="S3.SS5.p2.1.m1.1.1.2.cmml">r</mi><mo id="S3.SS5.p2.1.m1.1.1.1" xref="S3.SS5.p2.1.m1.1.1.1.cmml">^</mo></mover><mo id="S3.SS5.p2.1.m1.2.2.1.1.4" stretchy="false" xref="S3.SS5.p2.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.1.m1.2b"><apply id="S3.SS5.p2.1.m1.2.2.cmml" xref="S3.SS5.p2.1.m1.2.2"><times id="S3.SS5.p2.1.m1.2.2.2.cmml" xref="S3.SS5.p2.1.m1.2.2.2"></times><apply id="S3.SS5.p2.1.m1.2.2.3.cmml" xref="S3.SS5.p2.1.m1.2.2.3"><csymbol cd="ambiguous" id="S3.SS5.p2.1.m1.2.2.3.1.cmml" xref="S3.SS5.p2.1.m1.2.2.3">subscript</csymbol><ci id="S3.SS5.p2.1.m1.2.2.3.2.cmml" xref="S3.SS5.p2.1.m1.2.2.3.2">ℓ</ci><ci id="S3.SS5.p2.1.m1.2.2.3.3.cmml" xref="S3.SS5.p2.1.m1.2.2.3.3">𝑞</ci></apply><interval closure="open" id="S3.SS5.p2.1.m1.2.2.1.2.cmml" xref="S3.SS5.p2.1.m1.2.2.1.1"><apply id="S3.SS5.p2.1.m1.2.2.1.1.1.cmml" xref="S3.SS5.p2.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS5.p2.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS5.p2.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS5.p2.1.m1.2.2.1.1.1.2">𝜋</ci><ci id="S3.SS5.p2.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS5.p2.1.m1.2.2.1.1.1.3">𝑓</ci></apply><apply id="S3.SS5.p2.1.m1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1"><ci id="S3.SS5.p2.1.m1.1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1.1">^</ci><ci id="S3.SS5.p2.1.m1.1.1.2.cmml" xref="S3.SS5.p2.1.m1.1.1.2">𝑟</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.1.m1.2c">\ell_{q}(\pi_{f},\hat{r})</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.1.m1.2d">roman_ℓ start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ( italic_π start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT , over^ start_ARG italic_r end_ARG )</annotation></semantics></math>, to circumvent the challenges of dealing with highly non-smooth rank-dependent policy function, which can be written as</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table" id="S5.EGx4">
<tbody id="S3.E14"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(14)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\ell_{q}(\pi_{f},\hat{r})=\sum_{d,d^{\prime}\in\mathcal{D}_{q}}%
\Delta\hat{\mathbb{E}}_{\pi_{f}}(\mathrm{swap}_{\hat{r}}(d,d^{\prime}))\sigma(%
f(d)-f(d^{\prime}))," class="ltx_Math" display="inline" id="S3.E14.m1.6"><semantics id="S3.E14.m1.6a"><mrow id="S3.E14.m1.6.6.1" xref="S3.E14.m1.6.6.1.1.cmml"><mrow id="S3.E14.m1.6.6.1.1" xref="S3.E14.m1.6.6.1.1.cmml"><mrow id="S3.E14.m1.6.6.1.1.1" xref="S3.E14.m1.6.6.1.1.1.cmml"><msub id="S3.E14.m1.6.6.1.1.1.3" xref="S3.E14.m1.6.6.1.1.1.3.cmml"><mi id="S3.E14.m1.6.6.1.1.1.3.2" mathvariant="normal" xref="S3.E14.m1.6.6.1.1.1.3.2.cmml">ℓ</mi><mi id="S3.E14.m1.6.6.1.1.1.3.3" xref="S3.E14.m1.6.6.1.1.1.3.3.cmml">q</mi></msub><mo id="S3.E14.m1.6.6.1.1.1.2" xref="S3.E14.m1.6.6.1.1.1.2.cmml">⁢</mo><mrow id="S3.E14.m1.6.6.1.1.1.1.1" xref="S3.E14.m1.6.6.1.1.1.1.2.cmml"><mo id="S3.E14.m1.6.6.1.1.1.1.1.2" stretchy="false" xref="S3.E14.m1.6.6.1.1.1.1.2.cmml">(</mo><msub id="S3.E14.m1.6.6.1.1.1.1.1.1" xref="S3.E14.m1.6.6.1.1.1.1.1.1.cmml"><mi id="S3.E14.m1.6.6.1.1.1.1.1.1.2" xref="S3.E14.m1.6.6.1.1.1.1.1.1.2.cmml">π</mi><mi id="S3.E14.m1.6.6.1.1.1.1.1.1.3" xref="S3.E14.m1.6.6.1.1.1.1.1.1.3.cmml">f</mi></msub><mo id="S3.E14.m1.6.6.1.1.1.1.1.3" xref="S3.E14.m1.6.6.1.1.1.1.2.cmml">,</mo><mover accent="true" id="S3.E14.m1.3.3" xref="S3.E14.m1.3.3.cmml"><mi id="S3.E14.m1.3.3.2" xref="S3.E14.m1.3.3.2.cmml">r</mi><mo id="S3.E14.m1.3.3.1" xref="S3.E14.m1.3.3.1.cmml">^</mo></mover><mo id="S3.E14.m1.6.6.1.1.1.1.1.4" stretchy="false" xref="S3.E14.m1.6.6.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E14.m1.6.6.1.1.4" xref="S3.E14.m1.6.6.1.1.4.cmml">=</mo><mrow id="S3.E14.m1.6.6.1.1.3" xref="S3.E14.m1.6.6.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E14.m1.6.6.1.1.3.3" xref="S3.E14.m1.6.6.1.1.3.3.cmml"><munder id="S3.E14.m1.6.6.1.1.3.3a" xref="S3.E14.m1.6.6.1.1.3.3.cmml"><mo id="S3.E14.m1.6.6.1.1.3.3.2" movablelimits="false" xref="S3.E14.m1.6.6.1.1.3.3.2.cmml">∑</mo><mrow id="S3.E14.m1.2.2.2" xref="S3.E14.m1.2.2.2.cmml"><mrow id="S3.E14.m1.2.2.2.2.1" xref="S3.E14.m1.2.2.2.2.2.cmml"><mi id="S3.E14.m1.1.1.1.1" xref="S3.E14.m1.1.1.1.1.cmml">d</mi><mo id="S3.E14.m1.2.2.2.2.1.2" xref="S3.E14.m1.2.2.2.2.2.cmml">,</mo><msup id="S3.E14.m1.2.2.2.2.1.1" xref="S3.E14.m1.2.2.2.2.1.1.cmml"><mi id="S3.E14.m1.2.2.2.2.1.1.2" xref="S3.E14.m1.2.2.2.2.1.1.2.cmml">d</mi><mo id="S3.E14.m1.2.2.2.2.1.1.3" xref="S3.E14.m1.2.2.2.2.1.1.3.cmml">′</mo></msup></mrow><mo id="S3.E14.m1.2.2.2.3" xref="S3.E14.m1.2.2.2.3.cmml">∈</mo><msub id="S3.E14.m1.2.2.2.4" xref="S3.E14.m1.2.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E14.m1.2.2.2.4.2" xref="S3.E14.m1.2.2.2.4.2.cmml">𝒟</mi><mi id="S3.E14.m1.2.2.2.4.3" xref="S3.E14.m1.2.2.2.4.3.cmml">q</mi></msub></mrow></munder></mstyle><mrow id="S3.E14.m1.6.6.1.1.3.2" xref="S3.E14.m1.6.6.1.1.3.2.cmml"><mi id="S3.E14.m1.6.6.1.1.3.2.4" mathvariant="normal" xref="S3.E14.m1.6.6.1.1.3.2.4.cmml">Δ</mi><mo id="S3.E14.m1.6.6.1.1.3.2.3" xref="S3.E14.m1.6.6.1.1.3.2.3.cmml">⁢</mo><msub id="S3.E14.m1.6.6.1.1.3.2.5" xref="S3.E14.m1.6.6.1.1.3.2.5.cmml"><mover accent="true" id="S3.E14.m1.6.6.1.1.3.2.5.2" xref="S3.E14.m1.6.6.1.1.3.2.5.2.cmml"><mi id="S3.E14.m1.6.6.1.1.3.2.5.2.2" xref="S3.E14.m1.6.6.1.1.3.2.5.2.2.cmml">𝔼</mi><mo id="S3.E14.m1.6.6.1.1.3.2.5.2.1" xref="S3.E14.m1.6.6.1.1.3.2.5.2.1.cmml">^</mo></mover><msub id="S3.E14.m1.6.6.1.1.3.2.5.3" xref="S3.E14.m1.6.6.1.1.3.2.5.3.cmml"><mi id="S3.E14.m1.6.6.1.1.3.2.5.3.2" xref="S3.E14.m1.6.6.1.1.3.2.5.3.2.cmml">π</mi><mi id="S3.E14.m1.6.6.1.1.3.2.5.3.3" xref="S3.E14.m1.6.6.1.1.3.2.5.3.3.cmml">f</mi></msub></msub><mo id="S3.E14.m1.6.6.1.1.3.2.3a" xref="S3.E14.m1.6.6.1.1.3.2.3.cmml">⁢</mo><mrow id="S3.E14.m1.6.6.1.1.2.1.1.1" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.cmml"><mo id="S3.E14.m1.6.6.1.1.2.1.1.1.2" stretchy="false" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E14.m1.6.6.1.1.2.1.1.1.1" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.cmml"><msub id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.cmml"><mi id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.2" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.2.cmml">swap</mi><mover accent="true" id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3.cmml"><mi id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3.2" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3.2.cmml">r</mi><mo id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3.1" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3.1.cmml">^</mo></mover></msub><mo id="S3.E14.m1.6.6.1.1.2.1.1.1.1.2" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.2.cmml"><mo id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E14.m1.4.4" xref="S3.E14.m1.4.4.cmml">d</mi><mo id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.3" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.2.cmml">,</mo><msup id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.2" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.2.cmml">d</mi><mo id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.3" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.4" stretchy="false" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E14.m1.6.6.1.1.2.1.1.1.3" stretchy="false" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E14.m1.6.6.1.1.3.2.3b" xref="S3.E14.m1.6.6.1.1.3.2.3.cmml">⁢</mo><mi id="S3.E14.m1.6.6.1.1.3.2.6" xref="S3.E14.m1.6.6.1.1.3.2.6.cmml">σ</mi><mo id="S3.E14.m1.6.6.1.1.3.2.3c" xref="S3.E14.m1.6.6.1.1.3.2.3.cmml">⁢</mo><mrow id="S3.E14.m1.6.6.1.1.3.2.2.1" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.cmml"><mo id="S3.E14.m1.6.6.1.1.3.2.2.1.2" stretchy="false" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.cmml">(</mo><mrow id="S3.E14.m1.6.6.1.1.3.2.2.1.1" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.cmml"><mrow id="S3.E14.m1.6.6.1.1.3.2.2.1.1.3" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.cmml"><mi id="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.2" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.2.cmml">f</mi><mo id="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.1" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.1.cmml">⁢</mo><mrow id="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.3.2" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.cmml"><mo id="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.3.2.1" stretchy="false" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.cmml">(</mo><mi id="S3.E14.m1.5.5" xref="S3.E14.m1.5.5.cmml">d</mi><mo id="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.3.2.2" stretchy="false" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.cmml">)</mo></mrow></mrow><mo id="S3.E14.m1.6.6.1.1.3.2.2.1.1.2" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.2.cmml">−</mo><mrow id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.cmml"><mi id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.3" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.3.cmml">f</mi><mo id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.2" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.cmml"><mo id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.cmml">(</mo><msup id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.2" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.2.cmml">d</mi><mo id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.3" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.3" stretchy="false" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E14.m1.6.6.1.1.3.2.2.1.3" stretchy="false" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E14.m1.6.6.1.2" xref="S3.E14.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E14.m1.6b"><apply id="S3.E14.m1.6.6.1.1.cmml" xref="S3.E14.m1.6.6.1"><eq id="S3.E14.m1.6.6.1.1.4.cmml" xref="S3.E14.m1.6.6.1.1.4"></eq><apply id="S3.E14.m1.6.6.1.1.1.cmml" xref="S3.E14.m1.6.6.1.1.1"><times id="S3.E14.m1.6.6.1.1.1.2.cmml" xref="S3.E14.m1.6.6.1.1.1.2"></times><apply id="S3.E14.m1.6.6.1.1.1.3.cmml" xref="S3.E14.m1.6.6.1.1.1.3"><csymbol cd="ambiguous" id="S3.E14.m1.6.6.1.1.1.3.1.cmml" xref="S3.E14.m1.6.6.1.1.1.3">subscript</csymbol><ci id="S3.E14.m1.6.6.1.1.1.3.2.cmml" xref="S3.E14.m1.6.6.1.1.1.3.2">ℓ</ci><ci id="S3.E14.m1.6.6.1.1.1.3.3.cmml" xref="S3.E14.m1.6.6.1.1.1.3.3">𝑞</ci></apply><interval closure="open" id="S3.E14.m1.6.6.1.1.1.1.2.cmml" xref="S3.E14.m1.6.6.1.1.1.1.1"><apply id="S3.E14.m1.6.6.1.1.1.1.1.1.cmml" xref="S3.E14.m1.6.6.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E14.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S3.E14.m1.6.6.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E14.m1.6.6.1.1.1.1.1.1.2.cmml" xref="S3.E14.m1.6.6.1.1.1.1.1.1.2">𝜋</ci><ci id="S3.E14.m1.6.6.1.1.1.1.1.1.3.cmml" xref="S3.E14.m1.6.6.1.1.1.1.1.1.3">𝑓</ci></apply><apply id="S3.E14.m1.3.3.cmml" xref="S3.E14.m1.3.3"><ci id="S3.E14.m1.3.3.1.cmml" xref="S3.E14.m1.3.3.1">^</ci><ci id="S3.E14.m1.3.3.2.cmml" xref="S3.E14.m1.3.3.2">𝑟</ci></apply></interval></apply><apply id="S3.E14.m1.6.6.1.1.3.cmml" xref="S3.E14.m1.6.6.1.1.3"><apply id="S3.E14.m1.6.6.1.1.3.3.cmml" xref="S3.E14.m1.6.6.1.1.3.3"><csymbol cd="ambiguous" id="S3.E14.m1.6.6.1.1.3.3.1.cmml" xref="S3.E14.m1.6.6.1.1.3.3">subscript</csymbol><sum id="S3.E14.m1.6.6.1.1.3.3.2.cmml" xref="S3.E14.m1.6.6.1.1.3.3.2"></sum><apply id="S3.E14.m1.2.2.2.cmml" xref="S3.E14.m1.2.2.2"><in id="S3.E14.m1.2.2.2.3.cmml" xref="S3.E14.m1.2.2.2.3"></in><list id="S3.E14.m1.2.2.2.2.2.cmml" xref="S3.E14.m1.2.2.2.2.1"><ci id="S3.E14.m1.1.1.1.1.cmml" xref="S3.E14.m1.1.1.1.1">𝑑</ci><apply id="S3.E14.m1.2.2.2.2.1.1.cmml" xref="S3.E14.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E14.m1.2.2.2.2.1.1.1.cmml" xref="S3.E14.m1.2.2.2.2.1.1">superscript</csymbol><ci id="S3.E14.m1.2.2.2.2.1.1.2.cmml" xref="S3.E14.m1.2.2.2.2.1.1.2">𝑑</ci><ci id="S3.E14.m1.2.2.2.2.1.1.3.cmml" xref="S3.E14.m1.2.2.2.2.1.1.3">′</ci></apply></list><apply id="S3.E14.m1.2.2.2.4.cmml" xref="S3.E14.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.E14.m1.2.2.2.4.1.cmml" xref="S3.E14.m1.2.2.2.4">subscript</csymbol><ci id="S3.E14.m1.2.2.2.4.2.cmml" xref="S3.E14.m1.2.2.2.4.2">𝒟</ci><ci id="S3.E14.m1.2.2.2.4.3.cmml" xref="S3.E14.m1.2.2.2.4.3">𝑞</ci></apply></apply></apply><apply id="S3.E14.m1.6.6.1.1.3.2.cmml" xref="S3.E14.m1.6.6.1.1.3.2"><times id="S3.E14.m1.6.6.1.1.3.2.3.cmml" xref="S3.E14.m1.6.6.1.1.3.2.3"></times><ci id="S3.E14.m1.6.6.1.1.3.2.4.cmml" xref="S3.E14.m1.6.6.1.1.3.2.4">Δ</ci><apply id="S3.E14.m1.6.6.1.1.3.2.5.cmml" xref="S3.E14.m1.6.6.1.1.3.2.5"><csymbol cd="ambiguous" id="S3.E14.m1.6.6.1.1.3.2.5.1.cmml" xref="S3.E14.m1.6.6.1.1.3.2.5">subscript</csymbol><apply id="S3.E14.m1.6.6.1.1.3.2.5.2.cmml" xref="S3.E14.m1.6.6.1.1.3.2.5.2"><ci id="S3.E14.m1.6.6.1.1.3.2.5.2.1.cmml" xref="S3.E14.m1.6.6.1.1.3.2.5.2.1">^</ci><ci id="S3.E14.m1.6.6.1.1.3.2.5.2.2.cmml" xref="S3.E14.m1.6.6.1.1.3.2.5.2.2">𝔼</ci></apply><apply id="S3.E14.m1.6.6.1.1.3.2.5.3.cmml" xref="S3.E14.m1.6.6.1.1.3.2.5.3"><csymbol cd="ambiguous" id="S3.E14.m1.6.6.1.1.3.2.5.3.1.cmml" xref="S3.E14.m1.6.6.1.1.3.2.5.3">subscript</csymbol><ci id="S3.E14.m1.6.6.1.1.3.2.5.3.2.cmml" xref="S3.E14.m1.6.6.1.1.3.2.5.3.2">𝜋</ci><ci id="S3.E14.m1.6.6.1.1.3.2.5.3.3.cmml" xref="S3.E14.m1.6.6.1.1.3.2.5.3.3">𝑓</ci></apply></apply><apply id="S3.E14.m1.6.6.1.1.2.1.1.1.1.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1"><times id="S3.E14.m1.6.6.1.1.2.1.1.1.1.2.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.2"></times><apply id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.1.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.2.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.2">swap</ci><apply id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3"><ci id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3.1.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3.1">^</ci><ci id="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3.2.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.3.3.2">𝑟</ci></apply></apply><interval closure="open" id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1"><ci id="S3.E14.m1.4.4.cmml" xref="S3.E14.m1.4.4">𝑑</ci><apply id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.2">𝑑</ci><ci id="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E14.m1.6.6.1.1.2.1.1.1.1.1.1.1.3">′</ci></apply></interval></apply><ci id="S3.E14.m1.6.6.1.1.3.2.6.cmml" xref="S3.E14.m1.6.6.1.1.3.2.6">𝜎</ci><apply id="S3.E14.m1.6.6.1.1.3.2.2.1.1.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1"><minus id="S3.E14.m1.6.6.1.1.3.2.2.1.1.2.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.2"></minus><apply id="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.3"><times id="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.1.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.1"></times><ci id="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.2.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.3.2">𝑓</ci><ci id="S3.E14.m1.5.5.cmml" xref="S3.E14.m1.5.5">𝑑</ci></apply><apply id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1"><times id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.2.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.2"></times><ci id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.3.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.3">𝑓</ci><apply id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1">superscript</csymbol><ci id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.2">𝑑</ci><ci id="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E14.m1.6.6.1.1.3.2.2.1.1.1.1.1.1.3">′</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E14.m1.6c">\displaystyle\ell_{q}(\pi_{f},\hat{r})=\sum_{d,d^{\prime}\in\mathcal{D}_{q}}%
\Delta\hat{\mathbb{E}}_{\pi_{f}}(\mathrm{swap}_{\hat{r}}(d,d^{\prime}))\sigma(%
f(d)-f(d^{\prime})),</annotation><annotation encoding="application/x-llamapun" id="S3.E14.m1.6d">roman_ℓ start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ( italic_π start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT , over^ start_ARG italic_r end_ARG ) = ∑ start_POSTSUBSCRIPT italic_d , italic_d start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ∈ caligraphic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_Δ over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( roman_swap start_POSTSUBSCRIPT over^ start_ARG italic_r end_ARG end_POSTSUBSCRIPT ( italic_d , italic_d start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) ) italic_σ ( italic_f ( italic_d ) - italic_f ( italic_d start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS5.p2.5">where <math alttext="\hat{\mathbb{E}}_{\pi_{f}}(\mathrm{swap}_{\hat{r}}(d,d^{\prime}))" class="ltx_Math" display="inline" id="S3.SS5.p2.2.m1.2"><semantics id="S3.SS5.p2.2.m1.2a"><mrow id="S3.SS5.p2.2.m1.2.2" xref="S3.SS5.p2.2.m1.2.2.cmml"><msub id="S3.SS5.p2.2.m1.2.2.3" xref="S3.SS5.p2.2.m1.2.2.3.cmml"><mover accent="true" id="S3.SS5.p2.2.m1.2.2.3.2" xref="S3.SS5.p2.2.m1.2.2.3.2.cmml"><mi id="S3.SS5.p2.2.m1.2.2.3.2.2" xref="S3.SS5.p2.2.m1.2.2.3.2.2.cmml">𝔼</mi><mo id="S3.SS5.p2.2.m1.2.2.3.2.1" xref="S3.SS5.p2.2.m1.2.2.3.2.1.cmml">^</mo></mover><msub id="S3.SS5.p2.2.m1.2.2.3.3" xref="S3.SS5.p2.2.m1.2.2.3.3.cmml"><mi id="S3.SS5.p2.2.m1.2.2.3.3.2" xref="S3.SS5.p2.2.m1.2.2.3.3.2.cmml">π</mi><mi id="S3.SS5.p2.2.m1.2.2.3.3.3" xref="S3.SS5.p2.2.m1.2.2.3.3.3.cmml">f</mi></msub></msub><mo id="S3.SS5.p2.2.m1.2.2.2" xref="S3.SS5.p2.2.m1.2.2.2.cmml">⁢</mo><mrow id="S3.SS5.p2.2.m1.2.2.1.1" xref="S3.SS5.p2.2.m1.2.2.1.1.1.cmml"><mo id="S3.SS5.p2.2.m1.2.2.1.1.2" stretchy="false" xref="S3.SS5.p2.2.m1.2.2.1.1.1.cmml">(</mo><mrow id="S3.SS5.p2.2.m1.2.2.1.1.1" xref="S3.SS5.p2.2.m1.2.2.1.1.1.cmml"><msub id="S3.SS5.p2.2.m1.2.2.1.1.1.3" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3.cmml"><mi id="S3.SS5.p2.2.m1.2.2.1.1.1.3.2" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3.2.cmml">swap</mi><mover accent="true" id="S3.SS5.p2.2.m1.2.2.1.1.1.3.3" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3.3.cmml"><mi id="S3.SS5.p2.2.m1.2.2.1.1.1.3.3.2" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3.3.2.cmml">r</mi><mo id="S3.SS5.p2.2.m1.2.2.1.1.1.3.3.1" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3.3.1.cmml">^</mo></mover></msub><mo id="S3.SS5.p2.2.m1.2.2.1.1.1.2" xref="S3.SS5.p2.2.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.2.cmml"><mo id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.2.cmml">(</mo><mi id="S3.SS5.p2.2.m1.1.1" xref="S3.SS5.p2.2.m1.1.1.cmml">d</mi><mo id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.3" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.2.cmml">,</mo><msup id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.2" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.2.cmml">d</mi><mo id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.3" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.4" stretchy="false" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS5.p2.2.m1.2.2.1.1.3" stretchy="false" xref="S3.SS5.p2.2.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.2.m1.2b"><apply id="S3.SS5.p2.2.m1.2.2.cmml" xref="S3.SS5.p2.2.m1.2.2"><times id="S3.SS5.p2.2.m1.2.2.2.cmml" xref="S3.SS5.p2.2.m1.2.2.2"></times><apply id="S3.SS5.p2.2.m1.2.2.3.cmml" xref="S3.SS5.p2.2.m1.2.2.3"><csymbol cd="ambiguous" id="S3.SS5.p2.2.m1.2.2.3.1.cmml" xref="S3.SS5.p2.2.m1.2.2.3">subscript</csymbol><apply id="S3.SS5.p2.2.m1.2.2.3.2.cmml" xref="S3.SS5.p2.2.m1.2.2.3.2"><ci id="S3.SS5.p2.2.m1.2.2.3.2.1.cmml" xref="S3.SS5.p2.2.m1.2.2.3.2.1">^</ci><ci id="S3.SS5.p2.2.m1.2.2.3.2.2.cmml" xref="S3.SS5.p2.2.m1.2.2.3.2.2">𝔼</ci></apply><apply id="S3.SS5.p2.2.m1.2.2.3.3.cmml" xref="S3.SS5.p2.2.m1.2.2.3.3"><csymbol cd="ambiguous" id="S3.SS5.p2.2.m1.2.2.3.3.1.cmml" xref="S3.SS5.p2.2.m1.2.2.3.3">subscript</csymbol><ci id="S3.SS5.p2.2.m1.2.2.3.3.2.cmml" xref="S3.SS5.p2.2.m1.2.2.3.3.2">𝜋</ci><ci id="S3.SS5.p2.2.m1.2.2.3.3.3.cmml" xref="S3.SS5.p2.2.m1.2.2.3.3.3">𝑓</ci></apply></apply><apply id="S3.SS5.p2.2.m1.2.2.1.1.1.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1"><times id="S3.SS5.p2.2.m1.2.2.1.1.1.2.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.2"></times><apply id="S3.SS5.p2.2.m1.2.2.1.1.1.3.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS5.p2.2.m1.2.2.1.1.1.3.1.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.SS5.p2.2.m1.2.2.1.1.1.3.2.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3.2">swap</ci><apply id="S3.SS5.p2.2.m1.2.2.1.1.1.3.3.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3.3"><ci id="S3.SS5.p2.2.m1.2.2.1.1.1.3.3.1.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3.3.1">^</ci><ci id="S3.SS5.p2.2.m1.2.2.1.1.1.3.3.2.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.3.3.2">𝑟</ci></apply></apply><interval closure="open" id="S3.SS5.p2.2.m1.2.2.1.1.1.1.2.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.1"><ci id="S3.SS5.p2.2.m1.1.1.cmml" xref="S3.SS5.p2.2.m1.1.1">𝑑</ci><apply id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1">superscript</csymbol><ci id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.2">𝑑</ci><ci id="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.SS5.p2.2.m1.2.2.1.1.1.1.1.1.3">′</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.2.m1.2c">\hat{\mathbb{E}}_{\pi_{f}}(\mathrm{swap}_{\hat{r}}(d,d^{\prime}))</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.2.m1.2d">over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( roman_swap start_POSTSUBSCRIPT over^ start_ARG italic_r end_ARG end_POSTSUBSCRIPT ( italic_d , italic_d start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) )</annotation></semantics></math> is the difference in the estimated expected number of engagements had the ranked slots of the item pairs <math alttext="(d,d^{\prime})" class="ltx_Math" display="inline" id="S3.SS5.p2.3.m2.2"><semantics id="S3.SS5.p2.3.m2.2a"><mrow id="S3.SS5.p2.3.m2.2.2.1" xref="S3.SS5.p2.3.m2.2.2.2.cmml"><mo id="S3.SS5.p2.3.m2.2.2.1.2" stretchy="false" xref="S3.SS5.p2.3.m2.2.2.2.cmml">(</mo><mi id="S3.SS5.p2.3.m2.1.1" xref="S3.SS5.p2.3.m2.1.1.cmml">d</mi><mo id="S3.SS5.p2.3.m2.2.2.1.3" xref="S3.SS5.p2.3.m2.2.2.2.cmml">,</mo><msup id="S3.SS5.p2.3.m2.2.2.1.1" xref="S3.SS5.p2.3.m2.2.2.1.1.cmml"><mi id="S3.SS5.p2.3.m2.2.2.1.1.2" xref="S3.SS5.p2.3.m2.2.2.1.1.2.cmml">d</mi><mo id="S3.SS5.p2.3.m2.2.2.1.1.3" xref="S3.SS5.p2.3.m2.2.2.1.1.3.cmml">′</mo></msup><mo id="S3.SS5.p2.3.m2.2.2.1.4" stretchy="false" xref="S3.SS5.p2.3.m2.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.3.m2.2b"><interval closure="open" id="S3.SS5.p2.3.m2.2.2.2.cmml" xref="S3.SS5.p2.3.m2.2.2.1"><ci id="S3.SS5.p2.3.m2.1.1.cmml" xref="S3.SS5.p2.3.m2.1.1">𝑑</ci><apply id="S3.SS5.p2.3.m2.2.2.1.1.cmml" xref="S3.SS5.p2.3.m2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.3.m2.2.2.1.1.1.cmml" xref="S3.SS5.p2.3.m2.2.2.1.1">superscript</csymbol><ci id="S3.SS5.p2.3.m2.2.2.1.1.2.cmml" xref="S3.SS5.p2.3.m2.2.2.1.1.2">𝑑</ci><ci id="S3.SS5.p2.3.m2.2.2.1.1.3.cmml" xref="S3.SS5.p2.3.m2.2.2.1.1.3">′</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.3.m2.2c">(d,d^{\prime})</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.3.m2.2d">( italic_d , italic_d start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT )</annotation></semantics></math> been swapped and <math alttext="\sigma(\cdot)" class="ltx_Math" display="inline" id="S3.SS5.p2.4.m3.1"><semantics id="S3.SS5.p2.4.m3.1a"><mrow id="S3.SS5.p2.4.m3.1.2" xref="S3.SS5.p2.4.m3.1.2.cmml"><mi id="S3.SS5.p2.4.m3.1.2.2" xref="S3.SS5.p2.4.m3.1.2.2.cmml">σ</mi><mo id="S3.SS5.p2.4.m3.1.2.1" xref="S3.SS5.p2.4.m3.1.2.1.cmml">⁢</mo><mrow id="S3.SS5.p2.4.m3.1.2.3.2" xref="S3.SS5.p2.4.m3.1.2.cmml"><mo id="S3.SS5.p2.4.m3.1.2.3.2.1" stretchy="false" xref="S3.SS5.p2.4.m3.1.2.cmml">(</mo><mo id="S3.SS5.p2.4.m3.1.1" lspace="0em" rspace="0em" xref="S3.SS5.p2.4.m3.1.1.cmml">⋅</mo><mo id="S3.SS5.p2.4.m3.1.2.3.2.2" stretchy="false" xref="S3.SS5.p2.4.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.4.m3.1b"><apply id="S3.SS5.p2.4.m3.1.2.cmml" xref="S3.SS5.p2.4.m3.1.2"><times id="S3.SS5.p2.4.m3.1.2.1.cmml" xref="S3.SS5.p2.4.m3.1.2.1"></times><ci id="S3.SS5.p2.4.m3.1.2.2.cmml" xref="S3.SS5.p2.4.m3.1.2.2">𝜎</ci><ci id="S3.SS5.p2.4.m3.1.1.cmml" xref="S3.SS5.p2.4.m3.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.4.m3.1c">\sigma(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.4.m3.1d">italic_σ ( ⋅ )</annotation></semantics></math> is some inverse link function, e.g. softMax.
The approximate surrogate objective, suitably weighted with the empirical reward estimates <math alttext="\hat{v}_{q,s}" class="ltx_Math" display="inline" id="S3.SS5.p2.5.m4.2"><semantics id="S3.SS5.p2.5.m4.2a"><msub id="S3.SS5.p2.5.m4.2.3" xref="S3.SS5.p2.5.m4.2.3.cmml"><mover accent="true" id="S3.SS5.p2.5.m4.2.3.2" xref="S3.SS5.p2.5.m4.2.3.2.cmml"><mi id="S3.SS5.p2.5.m4.2.3.2.2" xref="S3.SS5.p2.5.m4.2.3.2.2.cmml">v</mi><mo id="S3.SS5.p2.5.m4.2.3.2.1" xref="S3.SS5.p2.5.m4.2.3.2.1.cmml">^</mo></mover><mrow id="S3.SS5.p2.5.m4.2.2.2.4" xref="S3.SS5.p2.5.m4.2.2.2.3.cmml"><mi id="S3.SS5.p2.5.m4.1.1.1.1" xref="S3.SS5.p2.5.m4.1.1.1.1.cmml">q</mi><mo id="S3.SS5.p2.5.m4.2.2.2.4.1" xref="S3.SS5.p2.5.m4.2.2.2.3.cmml">,</mo><mi id="S3.SS5.p2.5.m4.2.2.2.2" xref="S3.SS5.p2.5.m4.2.2.2.2.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.5.m4.2b"><apply id="S3.SS5.p2.5.m4.2.3.cmml" xref="S3.SS5.p2.5.m4.2.3"><csymbol cd="ambiguous" id="S3.SS5.p2.5.m4.2.3.1.cmml" xref="S3.SS5.p2.5.m4.2.3">subscript</csymbol><apply id="S3.SS5.p2.5.m4.2.3.2.cmml" xref="S3.SS5.p2.5.m4.2.3.2"><ci id="S3.SS5.p2.5.m4.2.3.2.1.cmml" xref="S3.SS5.p2.5.m4.2.3.2.1">^</ci><ci id="S3.SS5.p2.5.m4.2.3.2.2.cmml" xref="S3.SS5.p2.5.m4.2.3.2.2">𝑣</ci></apply><list id="S3.SS5.p2.5.m4.2.2.2.3.cmml" xref="S3.SS5.p2.5.m4.2.2.2.4"><ci id="S3.SS5.p2.5.m4.1.1.1.1.cmml" xref="S3.SS5.p2.5.m4.1.1.1.1">𝑞</ci><ci id="S3.SS5.p2.5.m4.2.2.2.2.cmml" xref="S3.SS5.p2.5.m4.2.2.2.2">𝑠</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.5.m4.2c">\hat{v}_{q,s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.5.m4.2d">over^ start_ARG italic_v end_ARG start_POSTSUBSCRIPT italic_q , italic_s end_POSTSUBSCRIPT</annotation></semantics></math>, expressed as</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table" id="S5.EGx5">
<tbody id="S3.E15"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(15)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\sum_{s,q}\hat{v}_{q,s}\ell_{q}(\pi_{f},\hat{r})" class="ltx_Math" display="inline" id="S3.E15.m1.6"><semantics id="S3.E15.m1.6a"><mrow id="S3.E15.m1.6.6" xref="S3.E15.m1.6.6.cmml"><mstyle displaystyle="true" id="S3.E15.m1.6.6.2" xref="S3.E15.m1.6.6.2.cmml"><munder id="S3.E15.m1.6.6.2a" xref="S3.E15.m1.6.6.2.cmml"><mo id="S3.E15.m1.6.6.2.2" movablelimits="false" xref="S3.E15.m1.6.6.2.2.cmml">∑</mo><mrow id="S3.E15.m1.2.2.2.4" xref="S3.E15.m1.2.2.2.3.cmml"><mi id="S3.E15.m1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.cmml">s</mi><mo id="S3.E15.m1.2.2.2.4.1" xref="S3.E15.m1.2.2.2.3.cmml">,</mo><mi id="S3.E15.m1.2.2.2.2" xref="S3.E15.m1.2.2.2.2.cmml">q</mi></mrow></munder></mstyle><mrow id="S3.E15.m1.6.6.1" xref="S3.E15.m1.6.6.1.cmml"><msub id="S3.E15.m1.6.6.1.3" xref="S3.E15.m1.6.6.1.3.cmml"><mover accent="true" id="S3.E15.m1.6.6.1.3.2" xref="S3.E15.m1.6.6.1.3.2.cmml"><mi id="S3.E15.m1.6.6.1.3.2.2" xref="S3.E15.m1.6.6.1.3.2.2.cmml">v</mi><mo id="S3.E15.m1.6.6.1.3.2.1" xref="S3.E15.m1.6.6.1.3.2.1.cmml">^</mo></mover><mrow id="S3.E15.m1.4.4.2.4" xref="S3.E15.m1.4.4.2.3.cmml"><mi id="S3.E15.m1.3.3.1.1" xref="S3.E15.m1.3.3.1.1.cmml">q</mi><mo id="S3.E15.m1.4.4.2.4.1" xref="S3.E15.m1.4.4.2.3.cmml">,</mo><mi id="S3.E15.m1.4.4.2.2" xref="S3.E15.m1.4.4.2.2.cmml">s</mi></mrow></msub><mo id="S3.E15.m1.6.6.1.2" xref="S3.E15.m1.6.6.1.2.cmml">⁢</mo><msub id="S3.E15.m1.6.6.1.4" xref="S3.E15.m1.6.6.1.4.cmml"><mi id="S3.E15.m1.6.6.1.4.2" mathvariant="normal" xref="S3.E15.m1.6.6.1.4.2.cmml">ℓ</mi><mi id="S3.E15.m1.6.6.1.4.3" xref="S3.E15.m1.6.6.1.4.3.cmml">q</mi></msub><mo id="S3.E15.m1.6.6.1.2a" xref="S3.E15.m1.6.6.1.2.cmml">⁢</mo><mrow id="S3.E15.m1.6.6.1.1.1" xref="S3.E15.m1.6.6.1.1.2.cmml"><mo id="S3.E15.m1.6.6.1.1.1.2" stretchy="false" xref="S3.E15.m1.6.6.1.1.2.cmml">(</mo><msub id="S3.E15.m1.6.6.1.1.1.1" xref="S3.E15.m1.6.6.1.1.1.1.cmml"><mi id="S3.E15.m1.6.6.1.1.1.1.2" xref="S3.E15.m1.6.6.1.1.1.1.2.cmml">π</mi><mi id="S3.E15.m1.6.6.1.1.1.1.3" xref="S3.E15.m1.6.6.1.1.1.1.3.cmml">f</mi></msub><mo id="S3.E15.m1.6.6.1.1.1.3" xref="S3.E15.m1.6.6.1.1.2.cmml">,</mo><mover accent="true" id="S3.E15.m1.5.5" xref="S3.E15.m1.5.5.cmml"><mi id="S3.E15.m1.5.5.2" xref="S3.E15.m1.5.5.2.cmml">r</mi><mo id="S3.E15.m1.5.5.1" xref="S3.E15.m1.5.5.1.cmml">^</mo></mover><mo id="S3.E15.m1.6.6.1.1.1.4" stretchy="false" xref="S3.E15.m1.6.6.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E15.m1.6b"><apply id="S3.E15.m1.6.6.cmml" xref="S3.E15.m1.6.6"><apply id="S3.E15.m1.6.6.2.cmml" xref="S3.E15.m1.6.6.2"><csymbol cd="ambiguous" id="S3.E15.m1.6.6.2.1.cmml" xref="S3.E15.m1.6.6.2">subscript</csymbol><sum id="S3.E15.m1.6.6.2.2.cmml" xref="S3.E15.m1.6.6.2.2"></sum><list id="S3.E15.m1.2.2.2.3.cmml" xref="S3.E15.m1.2.2.2.4"><ci id="S3.E15.m1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1.1">𝑠</ci><ci id="S3.E15.m1.2.2.2.2.cmml" xref="S3.E15.m1.2.2.2.2">𝑞</ci></list></apply><apply id="S3.E15.m1.6.6.1.cmml" xref="S3.E15.m1.6.6.1"><times id="S3.E15.m1.6.6.1.2.cmml" xref="S3.E15.m1.6.6.1.2"></times><apply id="S3.E15.m1.6.6.1.3.cmml" xref="S3.E15.m1.6.6.1.3"><csymbol cd="ambiguous" id="S3.E15.m1.6.6.1.3.1.cmml" xref="S3.E15.m1.6.6.1.3">subscript</csymbol><apply id="S3.E15.m1.6.6.1.3.2.cmml" xref="S3.E15.m1.6.6.1.3.2"><ci id="S3.E15.m1.6.6.1.3.2.1.cmml" xref="S3.E15.m1.6.6.1.3.2.1">^</ci><ci id="S3.E15.m1.6.6.1.3.2.2.cmml" xref="S3.E15.m1.6.6.1.3.2.2">𝑣</ci></apply><list id="S3.E15.m1.4.4.2.3.cmml" xref="S3.E15.m1.4.4.2.4"><ci id="S3.E15.m1.3.3.1.1.cmml" xref="S3.E15.m1.3.3.1.1">𝑞</ci><ci id="S3.E15.m1.4.4.2.2.cmml" xref="S3.E15.m1.4.4.2.2">𝑠</ci></list></apply><apply id="S3.E15.m1.6.6.1.4.cmml" xref="S3.E15.m1.6.6.1.4"><csymbol cd="ambiguous" id="S3.E15.m1.6.6.1.4.1.cmml" xref="S3.E15.m1.6.6.1.4">subscript</csymbol><ci id="S3.E15.m1.6.6.1.4.2.cmml" xref="S3.E15.m1.6.6.1.4.2">ℓ</ci><ci id="S3.E15.m1.6.6.1.4.3.cmml" xref="S3.E15.m1.6.6.1.4.3">𝑞</ci></apply><interval closure="open" id="S3.E15.m1.6.6.1.1.2.cmml" xref="S3.E15.m1.6.6.1.1.1"><apply id="S3.E15.m1.6.6.1.1.1.1.cmml" xref="S3.E15.m1.6.6.1.1.1.1"><csymbol cd="ambiguous" id="S3.E15.m1.6.6.1.1.1.1.1.cmml" xref="S3.E15.m1.6.6.1.1.1.1">subscript</csymbol><ci id="S3.E15.m1.6.6.1.1.1.1.2.cmml" xref="S3.E15.m1.6.6.1.1.1.1.2">𝜋</ci><ci id="S3.E15.m1.6.6.1.1.1.1.3.cmml" xref="S3.E15.m1.6.6.1.1.1.1.3">𝑓</ci></apply><apply id="S3.E15.m1.5.5.cmml" xref="S3.E15.m1.5.5"><ci id="S3.E15.m1.5.5.1.cmml" xref="S3.E15.m1.5.5.1">^</ci><ci id="S3.E15.m1.5.5.2.cmml" xref="S3.E15.m1.5.5.2">𝑟</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E15.m1.6c">\displaystyle\sum_{s,q}\hat{v}_{q,s}\ell_{q}(\pi_{f},\hat{r})</annotation><annotation encoding="application/x-llamapun" id="S3.E15.m1.6d">∑ start_POSTSUBSCRIPT italic_s , italic_q end_POSTSUBSCRIPT over^ start_ARG italic_v end_ARG start_POSTSUBSCRIPT italic_q , italic_s end_POSTSUBSCRIPT roman_ℓ start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ( italic_π start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT , over^ start_ARG italic_r end_ARG )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS5.p2.10">can then be optimized using iterative optimization techniques, like Expectation-maximization; that is given an estimate <math alttext="f^{(t)}" class="ltx_Math" display="inline" id="S3.SS5.p2.6.m1.1"><semantics id="S3.SS5.p2.6.m1.1a"><msup id="S3.SS5.p2.6.m1.1.2" xref="S3.SS5.p2.6.m1.1.2.cmml"><mi id="S3.SS5.p2.6.m1.1.2.2" xref="S3.SS5.p2.6.m1.1.2.2.cmml">f</mi><mrow id="S3.SS5.p2.6.m1.1.1.1.3" xref="S3.SS5.p2.6.m1.1.2.cmml"><mo id="S3.SS5.p2.6.m1.1.1.1.3.1" stretchy="false" xref="S3.SS5.p2.6.m1.1.2.cmml">(</mo><mi id="S3.SS5.p2.6.m1.1.1.1.1" xref="S3.SS5.p2.6.m1.1.1.1.1.cmml">t</mi><mo id="S3.SS5.p2.6.m1.1.1.1.3.2" stretchy="false" xref="S3.SS5.p2.6.m1.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.6.m1.1b"><apply id="S3.SS5.p2.6.m1.1.2.cmml" xref="S3.SS5.p2.6.m1.1.2"><csymbol cd="ambiguous" id="S3.SS5.p2.6.m1.1.2.1.cmml" xref="S3.SS5.p2.6.m1.1.2">superscript</csymbol><ci id="S3.SS5.p2.6.m1.1.2.2.cmml" xref="S3.SS5.p2.6.m1.1.2.2">𝑓</ci><ci id="S3.SS5.p2.6.m1.1.1.1.1.cmml" xref="S3.SS5.p2.6.m1.1.1.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.6.m1.1c">f^{(t)}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.6.m1.1d">italic_f start_POSTSUPERSCRIPT ( italic_t ) end_POSTSUPERSCRIPT</annotation></semantics></math> at iteration <math alttext="t" class="ltx_Math" display="inline" id="S3.SS5.p2.7.m2.1"><semantics id="S3.SS5.p2.7.m2.1a"><mi id="S3.SS5.p2.7.m2.1.1" xref="S3.SS5.p2.7.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.7.m2.1b"><ci id="S3.SS5.p2.7.m2.1.1.cmml" xref="S3.SS5.p2.7.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.7.m2.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.7.m2.1d">italic_t</annotation></semantics></math>, in order to build <math alttext="f^{(t+1)}" class="ltx_Math" display="inline" id="S3.SS5.p2.8.m3.1"><semantics id="S3.SS5.p2.8.m3.1a"><msup id="S3.SS5.p2.8.m3.1.2" xref="S3.SS5.p2.8.m3.1.2.cmml"><mi id="S3.SS5.p2.8.m3.1.2.2" xref="S3.SS5.p2.8.m3.1.2.2.cmml">f</mi><mrow id="S3.SS5.p2.8.m3.1.1.1.1" xref="S3.SS5.p2.8.m3.1.1.1.1.1.cmml"><mo id="S3.SS5.p2.8.m3.1.1.1.1.2" stretchy="false" xref="S3.SS5.p2.8.m3.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS5.p2.8.m3.1.1.1.1.1" xref="S3.SS5.p2.8.m3.1.1.1.1.1.cmml"><mi id="S3.SS5.p2.8.m3.1.1.1.1.1.2" xref="S3.SS5.p2.8.m3.1.1.1.1.1.2.cmml">t</mi><mo id="S3.SS5.p2.8.m3.1.1.1.1.1.1" xref="S3.SS5.p2.8.m3.1.1.1.1.1.1.cmml">+</mo><mn id="S3.SS5.p2.8.m3.1.1.1.1.1.3" xref="S3.SS5.p2.8.m3.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S3.SS5.p2.8.m3.1.1.1.1.3" stretchy="false" xref="S3.SS5.p2.8.m3.1.1.1.1.1.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.8.m3.1b"><apply id="S3.SS5.p2.8.m3.1.2.cmml" xref="S3.SS5.p2.8.m3.1.2"><csymbol cd="ambiguous" id="S3.SS5.p2.8.m3.1.2.1.cmml" xref="S3.SS5.p2.8.m3.1.2">superscript</csymbol><ci id="S3.SS5.p2.8.m3.1.2.2.cmml" xref="S3.SS5.p2.8.m3.1.2.2">𝑓</ci><apply id="S3.SS5.p2.8.m3.1.1.1.1.1.cmml" xref="S3.SS5.p2.8.m3.1.1.1.1"><plus id="S3.SS5.p2.8.m3.1.1.1.1.1.1.cmml" xref="S3.SS5.p2.8.m3.1.1.1.1.1.1"></plus><ci id="S3.SS5.p2.8.m3.1.1.1.1.1.2.cmml" xref="S3.SS5.p2.8.m3.1.1.1.1.1.2">𝑡</ci><cn id="S3.SS5.p2.8.m3.1.1.1.1.1.3.cmml" type="integer" xref="S3.SS5.p2.8.m3.1.1.1.1.1.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.8.m3.1c">f^{(t+1)}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.8.m3.1d">italic_f start_POSTSUPERSCRIPT ( italic_t + 1 ) end_POSTSUPERSCRIPT</annotation></semantics></math> from the gradient updates from the objective function, the difference in estimated objective <math alttext="\hat{\mathbb{E}}_{\pi_{f^{(t)}}}" class="ltx_Math" display="inline" id="S3.SS5.p2.9.m4.1"><semantics id="S3.SS5.p2.9.m4.1a"><msub id="S3.SS5.p2.9.m4.1.2" xref="S3.SS5.p2.9.m4.1.2.cmml"><mover accent="true" id="S3.SS5.p2.9.m4.1.2.2" xref="S3.SS5.p2.9.m4.1.2.2.cmml"><mi id="S3.SS5.p2.9.m4.1.2.2.2" xref="S3.SS5.p2.9.m4.1.2.2.2.cmml">𝔼</mi><mo id="S3.SS5.p2.9.m4.1.2.2.1" xref="S3.SS5.p2.9.m4.1.2.2.1.cmml">^</mo></mover><msub id="S3.SS5.p2.9.m4.1.1.1" xref="S3.SS5.p2.9.m4.1.1.1.cmml"><mi id="S3.SS5.p2.9.m4.1.1.1.3" xref="S3.SS5.p2.9.m4.1.1.1.3.cmml">π</mi><msup id="S3.SS5.p2.9.m4.1.1.1.1.1" xref="S3.SS5.p2.9.m4.1.1.1.1.1.cmml"><mi id="S3.SS5.p2.9.m4.1.1.1.1.1.3" xref="S3.SS5.p2.9.m4.1.1.1.1.1.3.cmml">f</mi><mrow id="S3.SS5.p2.9.m4.1.1.1.1.1.1.1.3" xref="S3.SS5.p2.9.m4.1.1.1.1.1.cmml"><mo id="S3.SS5.p2.9.m4.1.1.1.1.1.1.1.3.1" stretchy="false" xref="S3.SS5.p2.9.m4.1.1.1.1.1.cmml">(</mo><mi id="S3.SS5.p2.9.m4.1.1.1.1.1.1.1.1" xref="S3.SS5.p2.9.m4.1.1.1.1.1.1.1.1.cmml">t</mi><mo id="S3.SS5.p2.9.m4.1.1.1.1.1.1.1.3.2" stretchy="false" xref="S3.SS5.p2.9.m4.1.1.1.1.1.cmml">)</mo></mrow></msup></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.9.m4.1b"><apply id="S3.SS5.p2.9.m4.1.2.cmml" xref="S3.SS5.p2.9.m4.1.2"><csymbol cd="ambiguous" id="S3.SS5.p2.9.m4.1.2.1.cmml" xref="S3.SS5.p2.9.m4.1.2">subscript</csymbol><apply id="S3.SS5.p2.9.m4.1.2.2.cmml" xref="S3.SS5.p2.9.m4.1.2.2"><ci id="S3.SS5.p2.9.m4.1.2.2.1.cmml" xref="S3.SS5.p2.9.m4.1.2.2.1">^</ci><ci id="S3.SS5.p2.9.m4.1.2.2.2.cmml" xref="S3.SS5.p2.9.m4.1.2.2.2">𝔼</ci></apply><apply id="S3.SS5.p2.9.m4.1.1.1.cmml" xref="S3.SS5.p2.9.m4.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.9.m4.1.1.1.2.cmml" xref="S3.SS5.p2.9.m4.1.1.1">subscript</csymbol><ci id="S3.SS5.p2.9.m4.1.1.1.3.cmml" xref="S3.SS5.p2.9.m4.1.1.1.3">𝜋</ci><apply id="S3.SS5.p2.9.m4.1.1.1.1.1.cmml" xref="S3.SS5.p2.9.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.9.m4.1.1.1.1.1.2.cmml" xref="S3.SS5.p2.9.m4.1.1.1.1.1">superscript</csymbol><ci id="S3.SS5.p2.9.m4.1.1.1.1.1.3.cmml" xref="S3.SS5.p2.9.m4.1.1.1.1.1.3">𝑓</ci><ci id="S3.SS5.p2.9.m4.1.1.1.1.1.1.1.1.cmml" xref="S3.SS5.p2.9.m4.1.1.1.1.1.1.1.1">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.9.m4.1c">\hat{\mathbb{E}}_{\pi_{f^{(t)}}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.9.m4.1d">over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_f start_POSTSUPERSCRIPT ( italic_t ) end_POSTSUPERSCRIPT end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> from the swap operation is computed based on ranking order produced by <math alttext="f^{(t)}" class="ltx_Math" display="inline" id="S3.SS5.p2.10.m5.1"><semantics id="S3.SS5.p2.10.m5.1a"><msup id="S3.SS5.p2.10.m5.1.2" xref="S3.SS5.p2.10.m5.1.2.cmml"><mi id="S3.SS5.p2.10.m5.1.2.2" xref="S3.SS5.p2.10.m5.1.2.2.cmml">f</mi><mrow id="S3.SS5.p2.10.m5.1.1.1.3" xref="S3.SS5.p2.10.m5.1.2.cmml"><mo id="S3.SS5.p2.10.m5.1.1.1.3.1" stretchy="false" xref="S3.SS5.p2.10.m5.1.2.cmml">(</mo><mi id="S3.SS5.p2.10.m5.1.1.1.1" xref="S3.SS5.p2.10.m5.1.1.1.1.cmml">t</mi><mo id="S3.SS5.p2.10.m5.1.1.1.3.2" stretchy="false" xref="S3.SS5.p2.10.m5.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.10.m5.1b"><apply id="S3.SS5.p2.10.m5.1.2.cmml" xref="S3.SS5.p2.10.m5.1.2"><csymbol cd="ambiguous" id="S3.SS5.p2.10.m5.1.2.1.cmml" xref="S3.SS5.p2.10.m5.1.2">superscript</csymbol><ci id="S3.SS5.p2.10.m5.1.2.2.cmml" xref="S3.SS5.p2.10.m5.1.2.2">𝑓</ci><ci id="S3.SS5.p2.10.m5.1.1.1.1.cmml" xref="S3.SS5.p2.10.m5.1.1.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.10.m5.1c">f^{(t)}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p2.10.m5.1d">italic_f start_POSTSUPERSCRIPT ( italic_t ) end_POSTSUPERSCRIPT</annotation></semantics></math>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Evaluations and Discussions</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In Section <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3" title="3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">3</span></a>, we discussed essential elements of building empirical expected reward estimates for training effective search ranking policies.
Since conducting thorough ablation studies for characterizing the effect of each element in building empirical expected reward estimates is not possible given the space constraints, we focus primarily on the rather under-explored element in the literature, which is the effect of <span class="ltx_text ltx_font_italic" id="S4.p1.1.1">context value distribution</span> discussed in section <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.SS2" title="3.2. Estimating the Session Expected Reward ‣ 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">3.2</span></a> in shaping the properties and the generalization performance of the ranking policy.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.p2">
<p class="ltx_p" id="S4.p2.1">We focus on a product search ranking scenario in a major E-commerce platform and evaluate candidate policies via online randomized control experiments, as well as rigorous counterfactual evaluations on user session data collected from the online traffic.
Since all experiment are performed on proprietary data, we only report lifts compared to a simple clearly-specified baseline, with a focus on the relevant choices for controlling the <span class="ltx_text ltx_font_italic" id="S4.p2.1.1">estimation error</span> with respect to the research question of interest, oblivious to the optimization framework, the feature representations, and the hypothesis class. Specifically, we only discuss the choice of the ranking objective and the relevant importance sampling and attribution techniques for building our estimators of interest, without discussing the details of the models.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Online Evaluation Framework</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">Since the main goal of the proposed decision making framework is to build search ranking policies that generalize with respect to a given notion of marketplace expected reward, we primarily evaluate the performance of the candidate policies in online randomized controlled experiments.
Specifically, we adopt an experiment design and primary success metric defined with respect to lifts in cumulative reward in treated user sessions.
This cumulative reward driven design is in contrast to the standard experiment design practices for incremental ranking changes, where the primary success metric is set to be the standard (immediate) ranking efficiency metrics that measure concentration of success events in Top slots, through simple attribution and aggregation schemes across search result pages.
In fact, top slot engagement concentration metrics, e.g. per query DCG with respect to SERP interactions aggregated uniformly across all queries, which are usually tightly correlated with the marketplace reward, should only be treated as secondary metrics in the presence of a measurement of cumulative reward in online experiments.
We do recognize, however, that DCG-type metrics are particularly crucial for counterfactual off-policy evaluations, as approximations to the per query expected reward using logged data, because all we can do is to measure concentration of logged success events in top slots upon the shuffling action of the new target policy.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">We establish the fundamental trade-offs between ranking policies trained on different empirical expected reward objectives primary based on session level cumulative reward metrics, including Number of Engagements, Number of Purchases, and Revenue, as measured in online AB tests. For metrics that attribute the observed effect to search events, we use a simple attribution schemes based on the immediate Search Result Page that precedes the user event of interest.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Training Objectives and Offline Evaluation Metrics</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">We adopt the standard supervised counterfactual training and evaluation framework based on logged search activity data collected from the online traffic of a major E-commerce platform.
We are oblivious to the logging policy and collect datasets with importance sampling and reward attribution semantics based on the corresponding notions of expected reward of interest.
Specifically, given a target notion of expected reward, the context value distribution remains the same for training and evaluation datasets.
For candidate item selection per SERP, however, we sample three negative samples at random from impressed unengaged items within each training context, but keep all the candidate items to be re-ranked by the candidate ranker for the evaluation datasets.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">For all empirical expected reward metrics, we use the same, suitably debiased and normalized, DCG approximation for the per query expected reward according to (<a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S3.E11" title="In 3.1. Estimating the Per Query Success ‣ 3. Expected Reward Estimation from Observational Data ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">11</span></a>).
Unless explicitly stated otherwise, we use the following vanilla empirical context value distribution for building expected reward estimates as training objectives and the counterfactual metrics.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.3"><span class="ltx_text ltx_font_bold" id="S4.SS2.p3.1.1">Expected number of engagements <math alttext="\hat{\mathbb{E}}[\mathrm{C}]" class="ltx_Math" display="inline" id="S4.SS2.p3.1.1.m1.1"><semantics id="S4.SS2.p3.1.1.m1.1a"><mrow id="S4.SS2.p3.1.1.m1.1.2" xref="S4.SS2.p3.1.1.m1.1.2.cmml"><mover accent="true" id="S4.SS2.p3.1.1.m1.1.2.2" xref="S4.SS2.p3.1.1.m1.1.2.2.cmml"><mi id="S4.SS2.p3.1.1.m1.1.2.2.2" xref="S4.SS2.p3.1.1.m1.1.2.2.2.cmml">𝔼</mi><mo id="S4.SS2.p3.1.1.m1.1.2.2.1" xref="S4.SS2.p3.1.1.m1.1.2.2.1.cmml">^</mo></mover><mo id="S4.SS2.p3.1.1.m1.1.2.1" xref="S4.SS2.p3.1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p3.1.1.m1.1.2.3.2" xref="S4.SS2.p3.1.1.m1.1.2.3.1.cmml"><mo id="S4.SS2.p3.1.1.m1.1.2.3.2.1" stretchy="false" xref="S4.SS2.p3.1.1.m1.1.2.3.1.1.cmml">[</mo><mi id="S4.SS2.p3.1.1.m1.1.1" mathvariant="normal" xref="S4.SS2.p3.1.1.m1.1.1.cmml">C</mi><mo id="S4.SS2.p3.1.1.m1.1.2.3.2.2" stretchy="false" xref="S4.SS2.p3.1.1.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.1.m1.1b"><apply id="S4.SS2.p3.1.1.m1.1.2.cmml" xref="S4.SS2.p3.1.1.m1.1.2"><times id="S4.SS2.p3.1.1.m1.1.2.1.cmml" xref="S4.SS2.p3.1.1.m1.1.2.1"></times><apply id="S4.SS2.p3.1.1.m1.1.2.2.cmml" xref="S4.SS2.p3.1.1.m1.1.2.2"><ci id="S4.SS2.p3.1.1.m1.1.2.2.1.cmml" xref="S4.SS2.p3.1.1.m1.1.2.2.1">^</ci><ci id="S4.SS2.p3.1.1.m1.1.2.2.2.cmml" xref="S4.SS2.p3.1.1.m1.1.2.2.2">𝔼</ci></apply><apply id="S4.SS2.p3.1.1.m1.1.2.3.1.cmml" xref="S4.SS2.p3.1.1.m1.1.2.3.2"><csymbol cd="latexml" id="S4.SS2.p3.1.1.m1.1.2.3.1.1.cmml" xref="S4.SS2.p3.1.1.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="S4.SS2.p3.1.1.m1.1.1.cmml" xref="S4.SS2.p3.1.1.m1.1.1">C</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.1.m1.1c">\hat{\mathbb{E}}[\mathrm{C}]</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.1.1.m1.1d">over^ start_ARG blackboard_E end_ARG [ roman_C ]</annotation></semantics></math></span>: The session value distribution <math alttext="\hat{\mathbb{P}}_{\mathcal{C}}(s)" class="ltx_Math" display="inline" id="S4.SS2.p3.2.m1.1"><semantics id="S4.SS2.p3.2.m1.1a"><mrow id="S4.SS2.p3.2.m1.1.2" xref="S4.SS2.p3.2.m1.1.2.cmml"><msub id="S4.SS2.p3.2.m1.1.2.2" xref="S4.SS2.p3.2.m1.1.2.2.cmml"><mover accent="true" id="S4.SS2.p3.2.m1.1.2.2.2" xref="S4.SS2.p3.2.m1.1.2.2.2.cmml"><mi id="S4.SS2.p3.2.m1.1.2.2.2.2" xref="S4.SS2.p3.2.m1.1.2.2.2.2.cmml">ℙ</mi><mo id="S4.SS2.p3.2.m1.1.2.2.2.1" xref="S4.SS2.p3.2.m1.1.2.2.2.1.cmml">^</mo></mover><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p3.2.m1.1.2.2.3" xref="S4.SS2.p3.2.m1.1.2.2.3.cmml">𝒞</mi></msub><mo id="S4.SS2.p3.2.m1.1.2.1" xref="S4.SS2.p3.2.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p3.2.m1.1.2.3.2" xref="S4.SS2.p3.2.m1.1.2.cmml"><mo id="S4.SS2.p3.2.m1.1.2.3.2.1" stretchy="false" xref="S4.SS2.p3.2.m1.1.2.cmml">(</mo><mi id="S4.SS2.p3.2.m1.1.1" xref="S4.SS2.p3.2.m1.1.1.cmml">s</mi><mo id="S4.SS2.p3.2.m1.1.2.3.2.2" stretchy="false" xref="S4.SS2.p3.2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m1.1b"><apply id="S4.SS2.p3.2.m1.1.2.cmml" xref="S4.SS2.p3.2.m1.1.2"><times id="S4.SS2.p3.2.m1.1.2.1.cmml" xref="S4.SS2.p3.2.m1.1.2.1"></times><apply id="S4.SS2.p3.2.m1.1.2.2.cmml" xref="S4.SS2.p3.2.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS2.p3.2.m1.1.2.2.1.cmml" xref="S4.SS2.p3.2.m1.1.2.2">subscript</csymbol><apply id="S4.SS2.p3.2.m1.1.2.2.2.cmml" xref="S4.SS2.p3.2.m1.1.2.2.2"><ci id="S4.SS2.p3.2.m1.1.2.2.2.1.cmml" xref="S4.SS2.p3.2.m1.1.2.2.2.1">^</ci><ci id="S4.SS2.p3.2.m1.1.2.2.2.2.cmml" xref="S4.SS2.p3.2.m1.1.2.2.2.2">ℙ</ci></apply><ci id="S4.SS2.p3.2.m1.1.2.2.3.cmml" xref="S4.SS2.p3.2.m1.1.2.2.3">𝒞</ci></apply><ci id="S4.SS2.p3.2.m1.1.1.cmml" xref="S4.SS2.p3.2.m1.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m1.1c">\hat{\mathbb{P}}_{\mathcal{C}}(s)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.2.m1.1d">over^ start_ARG blackboard_P end_ARG start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT ( italic_s )</annotation></semantics></math> is a uniform distribution across logged sessions with at least one click event. We consider a simple last touch attribution scheme <math alttext="\hat{\mathbb{P}}_{\mathcal{C}}(q|s_{\prec q})" class="ltx_Math" display="inline" id="S4.SS2.p3.3.m2.1"><semantics id="S4.SS2.p3.3.m2.1a"><mrow id="S4.SS2.p3.3.m2.1.1" xref="S4.SS2.p3.3.m2.1.1.cmml"><msub id="S4.SS2.p3.3.m2.1.1.3" xref="S4.SS2.p3.3.m2.1.1.3.cmml"><mover accent="true" id="S4.SS2.p3.3.m2.1.1.3.2" xref="S4.SS2.p3.3.m2.1.1.3.2.cmml"><mi id="S4.SS2.p3.3.m2.1.1.3.2.2" xref="S4.SS2.p3.3.m2.1.1.3.2.2.cmml">ℙ</mi><mo id="S4.SS2.p3.3.m2.1.1.3.2.1" xref="S4.SS2.p3.3.m2.1.1.3.2.1.cmml">^</mo></mover><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p3.3.m2.1.1.3.3" xref="S4.SS2.p3.3.m2.1.1.3.3.cmml">𝒞</mi></msub><mo id="S4.SS2.p3.3.m2.1.1.2" xref="S4.SS2.p3.3.m2.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p3.3.m2.1.1.1.1" xref="S4.SS2.p3.3.m2.1.1.1.1.1.cmml"><mo id="S4.SS2.p3.3.m2.1.1.1.1.2" stretchy="false" xref="S4.SS2.p3.3.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p3.3.m2.1.1.1.1.1" xref="S4.SS2.p3.3.m2.1.1.1.1.1.cmml"><mi id="S4.SS2.p3.3.m2.1.1.1.1.1.2" xref="S4.SS2.p3.3.m2.1.1.1.1.1.2.cmml">q</mi><mo fence="false" id="S4.SS2.p3.3.m2.1.1.1.1.1.1" xref="S4.SS2.p3.3.m2.1.1.1.1.1.1.cmml">|</mo><msub id="S4.SS2.p3.3.m2.1.1.1.1.1.3" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p3.3.m2.1.1.1.1.1.3.2" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.2.cmml">s</mi><mrow id="S4.SS2.p3.3.m2.1.1.1.1.1.3.3" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.cmml"><mi id="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.2" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.1" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.3" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S4.SS2.p3.3.m2.1.1.1.1.3" stretchy="false" xref="S4.SS2.p3.3.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.3.m2.1b"><apply id="S4.SS2.p3.3.m2.1.1.cmml" xref="S4.SS2.p3.3.m2.1.1"><times id="S4.SS2.p3.3.m2.1.1.2.cmml" xref="S4.SS2.p3.3.m2.1.1.2"></times><apply id="S4.SS2.p3.3.m2.1.1.3.cmml" xref="S4.SS2.p3.3.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m2.1.1.3.1.cmml" xref="S4.SS2.p3.3.m2.1.1.3">subscript</csymbol><apply id="S4.SS2.p3.3.m2.1.1.3.2.cmml" xref="S4.SS2.p3.3.m2.1.1.3.2"><ci id="S4.SS2.p3.3.m2.1.1.3.2.1.cmml" xref="S4.SS2.p3.3.m2.1.1.3.2.1">^</ci><ci id="S4.SS2.p3.3.m2.1.1.3.2.2.cmml" xref="S4.SS2.p3.3.m2.1.1.3.2.2">ℙ</ci></apply><ci id="S4.SS2.p3.3.m2.1.1.3.3.cmml" xref="S4.SS2.p3.3.m2.1.1.3.3">𝒞</ci></apply><apply id="S4.SS2.p3.3.m2.1.1.1.1.1.cmml" xref="S4.SS2.p3.3.m2.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p3.3.m2.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.3.m2.1.1.1.1.1.1">conditional</csymbol><ci id="S4.SS2.p3.3.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.3.m2.1.1.1.1.1.2">𝑞</ci><apply id="S4.SS2.p3.3.m2.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m2.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.p3.3.m2.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.2">𝑠</ci><apply id="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.1.cmml" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.2.cmml" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.3.cmml" xref="S4.SS2.p3.3.m2.1.1.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.3.m2.1c">\hat{\mathbb{P}}_{\mathcal{C}}(q|s_{\prec q})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.3.m2.1d">over^ start_ARG blackboard_P end_ARG start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT ( italic_q | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT )</annotation></semantics></math> for the distribution of reward among queries within the session.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.3"><span class="ltx_text ltx_font_bold" id="S4.SS2.p4.1.1">Expected number of purchases <math alttext="\hat{\mathbb{E}}[\mathrm{P}]" class="ltx_Math" display="inline" id="S4.SS2.p4.1.1.m1.1"><semantics id="S4.SS2.p4.1.1.m1.1a"><mrow id="S4.SS2.p4.1.1.m1.1.2" xref="S4.SS2.p4.1.1.m1.1.2.cmml"><mover accent="true" id="S4.SS2.p4.1.1.m1.1.2.2" xref="S4.SS2.p4.1.1.m1.1.2.2.cmml"><mi id="S4.SS2.p4.1.1.m1.1.2.2.2" xref="S4.SS2.p4.1.1.m1.1.2.2.2.cmml">𝔼</mi><mo id="S4.SS2.p4.1.1.m1.1.2.2.1" xref="S4.SS2.p4.1.1.m1.1.2.2.1.cmml">^</mo></mover><mo id="S4.SS2.p4.1.1.m1.1.2.1" xref="S4.SS2.p4.1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p4.1.1.m1.1.2.3.2" xref="S4.SS2.p4.1.1.m1.1.2.3.1.cmml"><mo id="S4.SS2.p4.1.1.m1.1.2.3.2.1" stretchy="false" xref="S4.SS2.p4.1.1.m1.1.2.3.1.1.cmml">[</mo><mi id="S4.SS2.p4.1.1.m1.1.1" mathvariant="normal" xref="S4.SS2.p4.1.1.m1.1.1.cmml">P</mi><mo id="S4.SS2.p4.1.1.m1.1.2.3.2.2" stretchy="false" xref="S4.SS2.p4.1.1.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.1.m1.1b"><apply id="S4.SS2.p4.1.1.m1.1.2.cmml" xref="S4.SS2.p4.1.1.m1.1.2"><times id="S4.SS2.p4.1.1.m1.1.2.1.cmml" xref="S4.SS2.p4.1.1.m1.1.2.1"></times><apply id="S4.SS2.p4.1.1.m1.1.2.2.cmml" xref="S4.SS2.p4.1.1.m1.1.2.2"><ci id="S4.SS2.p4.1.1.m1.1.2.2.1.cmml" xref="S4.SS2.p4.1.1.m1.1.2.2.1">^</ci><ci id="S4.SS2.p4.1.1.m1.1.2.2.2.cmml" xref="S4.SS2.p4.1.1.m1.1.2.2.2">𝔼</ci></apply><apply id="S4.SS2.p4.1.1.m1.1.2.3.1.cmml" xref="S4.SS2.p4.1.1.m1.1.2.3.2"><csymbol cd="latexml" id="S4.SS2.p4.1.1.m1.1.2.3.1.1.cmml" xref="S4.SS2.p4.1.1.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="S4.SS2.p4.1.1.m1.1.1.cmml" xref="S4.SS2.p4.1.1.m1.1.1">P</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.1.m1.1c">\hat{\mathbb{E}}[\mathrm{P}]</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.1.1.m1.1d">over^ start_ARG blackboard_E end_ARG [ roman_P ]</annotation></semantics></math></span>: The session value distribution <math alttext="\hat{\mathbb{P}}_{\mathcal{P}}(s)" class="ltx_Math" display="inline" id="S4.SS2.p4.2.m1.1"><semantics id="S4.SS2.p4.2.m1.1a"><mrow id="S4.SS2.p4.2.m1.1.2" xref="S4.SS2.p4.2.m1.1.2.cmml"><msub id="S4.SS2.p4.2.m1.1.2.2" xref="S4.SS2.p4.2.m1.1.2.2.cmml"><mover accent="true" id="S4.SS2.p4.2.m1.1.2.2.2" xref="S4.SS2.p4.2.m1.1.2.2.2.cmml"><mi id="S4.SS2.p4.2.m1.1.2.2.2.2" xref="S4.SS2.p4.2.m1.1.2.2.2.2.cmml">ℙ</mi><mo id="S4.SS2.p4.2.m1.1.2.2.2.1" xref="S4.SS2.p4.2.m1.1.2.2.2.1.cmml">^</mo></mover><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p4.2.m1.1.2.2.3" xref="S4.SS2.p4.2.m1.1.2.2.3.cmml">𝒫</mi></msub><mo id="S4.SS2.p4.2.m1.1.2.1" xref="S4.SS2.p4.2.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p4.2.m1.1.2.3.2" xref="S4.SS2.p4.2.m1.1.2.cmml"><mo id="S4.SS2.p4.2.m1.1.2.3.2.1" stretchy="false" xref="S4.SS2.p4.2.m1.1.2.cmml">(</mo><mi id="S4.SS2.p4.2.m1.1.1" xref="S4.SS2.p4.2.m1.1.1.cmml">s</mi><mo id="S4.SS2.p4.2.m1.1.2.3.2.2" stretchy="false" xref="S4.SS2.p4.2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.2.m1.1b"><apply id="S4.SS2.p4.2.m1.1.2.cmml" xref="S4.SS2.p4.2.m1.1.2"><times id="S4.SS2.p4.2.m1.1.2.1.cmml" xref="S4.SS2.p4.2.m1.1.2.1"></times><apply id="S4.SS2.p4.2.m1.1.2.2.cmml" xref="S4.SS2.p4.2.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS2.p4.2.m1.1.2.2.1.cmml" xref="S4.SS2.p4.2.m1.1.2.2">subscript</csymbol><apply id="S4.SS2.p4.2.m1.1.2.2.2.cmml" xref="S4.SS2.p4.2.m1.1.2.2.2"><ci id="S4.SS2.p4.2.m1.1.2.2.2.1.cmml" xref="S4.SS2.p4.2.m1.1.2.2.2.1">^</ci><ci id="S4.SS2.p4.2.m1.1.2.2.2.2.cmml" xref="S4.SS2.p4.2.m1.1.2.2.2.2">ℙ</ci></apply><ci id="S4.SS2.p4.2.m1.1.2.2.3.cmml" xref="S4.SS2.p4.2.m1.1.2.2.3">𝒫</ci></apply><ci id="S4.SS2.p4.2.m1.1.1.cmml" xref="S4.SS2.p4.2.m1.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.2.m1.1c">\hat{\mathbb{P}}_{\mathcal{P}}(s)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.2.m1.1d">over^ start_ARG blackboard_P end_ARG start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT ( italic_s )</annotation></semantics></math> is uniform across logged sessions with at least one purchase event. We use a simple multi-touch attribution scheme <math alttext="\hat{\mathbb{P}}_{\mathcal{P}}(q|s_{\prec q})" class="ltx_Math" display="inline" id="S4.SS2.p4.3.m2.1"><semantics id="S4.SS2.p4.3.m2.1a"><mrow id="S4.SS2.p4.3.m2.1.1" xref="S4.SS2.p4.3.m2.1.1.cmml"><msub id="S4.SS2.p4.3.m2.1.1.3" xref="S4.SS2.p4.3.m2.1.1.3.cmml"><mover accent="true" id="S4.SS2.p4.3.m2.1.1.3.2" xref="S4.SS2.p4.3.m2.1.1.3.2.cmml"><mi id="S4.SS2.p4.3.m2.1.1.3.2.2" xref="S4.SS2.p4.3.m2.1.1.3.2.2.cmml">ℙ</mi><mo id="S4.SS2.p4.3.m2.1.1.3.2.1" xref="S4.SS2.p4.3.m2.1.1.3.2.1.cmml">^</mo></mover><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p4.3.m2.1.1.3.3" xref="S4.SS2.p4.3.m2.1.1.3.3.cmml">𝒫</mi></msub><mo id="S4.SS2.p4.3.m2.1.1.2" xref="S4.SS2.p4.3.m2.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p4.3.m2.1.1.1.1" xref="S4.SS2.p4.3.m2.1.1.1.1.1.cmml"><mo id="S4.SS2.p4.3.m2.1.1.1.1.2" stretchy="false" xref="S4.SS2.p4.3.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p4.3.m2.1.1.1.1.1" xref="S4.SS2.p4.3.m2.1.1.1.1.1.cmml"><mi id="S4.SS2.p4.3.m2.1.1.1.1.1.2" xref="S4.SS2.p4.3.m2.1.1.1.1.1.2.cmml">q</mi><mo fence="false" id="S4.SS2.p4.3.m2.1.1.1.1.1.1" xref="S4.SS2.p4.3.m2.1.1.1.1.1.1.cmml">|</mo><msub id="S4.SS2.p4.3.m2.1.1.1.1.1.3" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p4.3.m2.1.1.1.1.1.3.2" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.2.cmml">s</mi><mrow id="S4.SS2.p4.3.m2.1.1.1.1.1.3.3" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.cmml"><mi id="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.2" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.1" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.3" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S4.SS2.p4.3.m2.1.1.1.1.3" stretchy="false" xref="S4.SS2.p4.3.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.3.m2.1b"><apply id="S4.SS2.p4.3.m2.1.1.cmml" xref="S4.SS2.p4.3.m2.1.1"><times id="S4.SS2.p4.3.m2.1.1.2.cmml" xref="S4.SS2.p4.3.m2.1.1.2"></times><apply id="S4.SS2.p4.3.m2.1.1.3.cmml" xref="S4.SS2.p4.3.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p4.3.m2.1.1.3.1.cmml" xref="S4.SS2.p4.3.m2.1.1.3">subscript</csymbol><apply id="S4.SS2.p4.3.m2.1.1.3.2.cmml" xref="S4.SS2.p4.3.m2.1.1.3.2"><ci id="S4.SS2.p4.3.m2.1.1.3.2.1.cmml" xref="S4.SS2.p4.3.m2.1.1.3.2.1">^</ci><ci id="S4.SS2.p4.3.m2.1.1.3.2.2.cmml" xref="S4.SS2.p4.3.m2.1.1.3.2.2">ℙ</ci></apply><ci id="S4.SS2.p4.3.m2.1.1.3.3.cmml" xref="S4.SS2.p4.3.m2.1.1.3.3">𝒫</ci></apply><apply id="S4.SS2.p4.3.m2.1.1.1.1.1.cmml" xref="S4.SS2.p4.3.m2.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p4.3.m2.1.1.1.1.1.1.cmml" xref="S4.SS2.p4.3.m2.1.1.1.1.1.1">conditional</csymbol><ci id="S4.SS2.p4.3.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.p4.3.m2.1.1.1.1.1.2">𝑞</ci><apply id="S4.SS2.p4.3.m2.1.1.1.1.1.3.cmml" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p4.3.m2.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.p4.3.m2.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.2">𝑠</ci><apply id="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.1.cmml" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.2.cmml" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.3.cmml" xref="S4.SS2.p4.3.m2.1.1.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.3.m2.1c">\hat{\mathbb{P}}_{\mathcal{P}}(q|s_{\prec q})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.3.m2.1d">over^ start_ARG blackboard_P end_ARG start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT ( italic_q | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT )</annotation></semantics></math> with uniform distribution across all queries in the converting session, where the purchased item appeared as a candidate.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS2.p5">
<p class="ltx_p" id="S4.SS2.p5.2"><span class="ltx_text ltx_font_bold" id="S4.SS2.p5.1.1">Expected revenue <math alttext="\hat{\mathbb{E}}[\mathrm{Rev}]" class="ltx_Math" display="inline" id="S4.SS2.p5.1.1.m1.1"><semantics id="S4.SS2.p5.1.1.m1.1a"><mrow id="S4.SS2.p5.1.1.m1.1.2" xref="S4.SS2.p5.1.1.m1.1.2.cmml"><mover accent="true" id="S4.SS2.p5.1.1.m1.1.2.2" xref="S4.SS2.p5.1.1.m1.1.2.2.cmml"><mi id="S4.SS2.p5.1.1.m1.1.2.2.2" xref="S4.SS2.p5.1.1.m1.1.2.2.2.cmml">𝔼</mi><mo id="S4.SS2.p5.1.1.m1.1.2.2.1" xref="S4.SS2.p5.1.1.m1.1.2.2.1.cmml">^</mo></mover><mo id="S4.SS2.p5.1.1.m1.1.2.1" xref="S4.SS2.p5.1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p5.1.1.m1.1.2.3.2" xref="S4.SS2.p5.1.1.m1.1.2.3.1.cmml"><mo id="S4.SS2.p5.1.1.m1.1.2.3.2.1" stretchy="false" xref="S4.SS2.p5.1.1.m1.1.2.3.1.1.cmml">[</mo><mi id="S4.SS2.p5.1.1.m1.1.1" xref="S4.SS2.p5.1.1.m1.1.1.cmml">Rev</mi><mo id="S4.SS2.p5.1.1.m1.1.2.3.2.2" stretchy="false" xref="S4.SS2.p5.1.1.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.1.1.m1.1b"><apply id="S4.SS2.p5.1.1.m1.1.2.cmml" xref="S4.SS2.p5.1.1.m1.1.2"><times id="S4.SS2.p5.1.1.m1.1.2.1.cmml" xref="S4.SS2.p5.1.1.m1.1.2.1"></times><apply id="S4.SS2.p5.1.1.m1.1.2.2.cmml" xref="S4.SS2.p5.1.1.m1.1.2.2"><ci id="S4.SS2.p5.1.1.m1.1.2.2.1.cmml" xref="S4.SS2.p5.1.1.m1.1.2.2.1">^</ci><ci id="S4.SS2.p5.1.1.m1.1.2.2.2.cmml" xref="S4.SS2.p5.1.1.m1.1.2.2.2">𝔼</ci></apply><apply id="S4.SS2.p5.1.1.m1.1.2.3.1.cmml" xref="S4.SS2.p5.1.1.m1.1.2.3.2"><csymbol cd="latexml" id="S4.SS2.p5.1.1.m1.1.2.3.1.1.cmml" xref="S4.SS2.p5.1.1.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="S4.SS2.p5.1.1.m1.1.1.cmml" xref="S4.SS2.p5.1.1.m1.1.1">Rev</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.1.1.m1.1c">\hat{\mathbb{E}}[\mathrm{Rev}]</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.1.1.m1.1d">over^ start_ARG blackboard_E end_ARG [ roman_Rev ]</annotation></semantics></math></span>: The session value distribution <math alttext="\hat{\mathbb{P}}_{\mathcal{R}}(s)" class="ltx_Math" display="inline" id="S4.SS2.p5.2.m1.1"><semantics id="S4.SS2.p5.2.m1.1a"><mrow id="S4.SS2.p5.2.m1.1.2" xref="S4.SS2.p5.2.m1.1.2.cmml"><msub id="S4.SS2.p5.2.m1.1.2.2" xref="S4.SS2.p5.2.m1.1.2.2.cmml"><mover accent="true" id="S4.SS2.p5.2.m1.1.2.2.2" xref="S4.SS2.p5.2.m1.1.2.2.2.cmml"><mi id="S4.SS2.p5.2.m1.1.2.2.2.2" xref="S4.SS2.p5.2.m1.1.2.2.2.2.cmml">ℙ</mi><mo id="S4.SS2.p5.2.m1.1.2.2.2.1" xref="S4.SS2.p5.2.m1.1.2.2.2.1.cmml">^</mo></mover><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p5.2.m1.1.2.2.3" xref="S4.SS2.p5.2.m1.1.2.2.3.cmml">ℛ</mi></msub><mo id="S4.SS2.p5.2.m1.1.2.1" xref="S4.SS2.p5.2.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p5.2.m1.1.2.3.2" xref="S4.SS2.p5.2.m1.1.2.cmml"><mo id="S4.SS2.p5.2.m1.1.2.3.2.1" stretchy="false" xref="S4.SS2.p5.2.m1.1.2.cmml">(</mo><mi id="S4.SS2.p5.2.m1.1.1" xref="S4.SS2.p5.2.m1.1.1.cmml">s</mi><mo id="S4.SS2.p5.2.m1.1.2.3.2.2" stretchy="false" xref="S4.SS2.p5.2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.2.m1.1b"><apply id="S4.SS2.p5.2.m1.1.2.cmml" xref="S4.SS2.p5.2.m1.1.2"><times id="S4.SS2.p5.2.m1.1.2.1.cmml" xref="S4.SS2.p5.2.m1.1.2.1"></times><apply id="S4.SS2.p5.2.m1.1.2.2.cmml" xref="S4.SS2.p5.2.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS2.p5.2.m1.1.2.2.1.cmml" xref="S4.SS2.p5.2.m1.1.2.2">subscript</csymbol><apply id="S4.SS2.p5.2.m1.1.2.2.2.cmml" xref="S4.SS2.p5.2.m1.1.2.2.2"><ci id="S4.SS2.p5.2.m1.1.2.2.2.1.cmml" xref="S4.SS2.p5.2.m1.1.2.2.2.1">^</ci><ci id="S4.SS2.p5.2.m1.1.2.2.2.2.cmml" xref="S4.SS2.p5.2.m1.1.2.2.2.2">ℙ</ci></apply><ci id="S4.SS2.p5.2.m1.1.2.2.3.cmml" xref="S4.SS2.p5.2.m1.1.2.2.3">ℛ</ci></apply><ci id="S4.SS2.p5.2.m1.1.1.cmml" xref="S4.SS2.p5.2.m1.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.2.m1.1c">\hat{\mathbb{P}}_{\mathcal{R}}(s)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.2.m1.1d">over^ start_ARG blackboard_P end_ARG start_POSTSUBSCRIPT caligraphic_R end_POSTSUBSCRIPT ( italic_s )</annotation></semantics></math> is defined on the sessions with a transaction event according to the empirical revenue share of the bucket corresponding to the price of the purchased item. The same multi-touch attribution from above is adopted for this reward estimate as well.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS2.p6">
<p class="ltx_p" id="S4.SS2.p6.1">To best highlight the heterogeneity of user behavior with respect to the underlying shopping intent and the associated fundamental trade-offs between different notions of marketplace expected reward, we also stratify our evaluations across traffic segments defined based on purchase price intent of the users, as realized in the price of the purchased item.
The price intent bins are defined in such a way so that the empirical revenue distribution is roughly uniform across value buckets.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Research Questions</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsubsection" id="S4.SS3.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.1. </span>Marketplace Reward Trade offs</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.SS3.SSS1.p1">
<p class="ltx_p" id="S4.SS3.SSS1.p1.1">The primary insight that we would like to highlight in our evaluations is the heterogeneity of users’ browsing and shopping intents, as reflected in different notions of marketplace reward from user sessions.
These observations signify the crucial importance of the choice of the empirical session value distribution in shaping the properties and the generalization behavior of the search ranking policy.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS3.SSS1.p2">
<p class="ltx_p" id="S4.SS3.SSS1.p2.14">We do this by contrasting the performance of ranking policies trained on expected reward estimates corresponding to extreme choices of the empirical session value distribution.
Specifically, we compare a policy <math alttext="\pi_{\mathcal{C}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.1.m1.1"><semantics id="S4.SS3.SSS1.p2.1.m1.1a"><msub id="S4.SS3.SSS1.p2.1.m1.1.1" xref="S4.SS3.SSS1.p2.1.m1.1.1.cmml"><mi id="S4.SS3.SSS1.p2.1.m1.1.1.2" xref="S4.SS3.SSS1.p2.1.m1.1.1.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.1.m1.1.1.3" xref="S4.SS3.SSS1.p2.1.m1.1.1.3.cmml">𝒞</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.1.m1.1b"><apply id="S4.SS3.SSS1.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.1.m1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.1.m1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.1.m1.1.1.2">𝜋</ci><ci id="S4.SS3.SSS1.p2.1.m1.1.1.3.cmml" xref="S4.SS3.SSS1.p2.1.m1.1.1.3">𝒞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.1.m1.1c">\pi_{\mathcal{C}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.1.m1.1d">italic_π start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT</annotation></semantics></math>, corresponding to a scoring function <math alttext="f_{\mathcal{C}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.2.m2.1"><semantics id="S4.SS3.SSS1.p2.2.m2.1a"><msub id="S4.SS3.SSS1.p2.2.m2.1.1" xref="S4.SS3.SSS1.p2.2.m2.1.1.cmml"><mi id="S4.SS3.SSS1.p2.2.m2.1.1.2" xref="S4.SS3.SSS1.p2.2.m2.1.1.2.cmml">f</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.2.m2.1.1.3" xref="S4.SS3.SSS1.p2.2.m2.1.1.3.cmml">𝒞</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.2.m2.1b"><apply id="S4.SS3.SSS1.p2.2.m2.1.1.cmml" xref="S4.SS3.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.2.m2.1.1.1.cmml" xref="S4.SS3.SSS1.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.2.m2.1.1.2.cmml" xref="S4.SS3.SSS1.p2.2.m2.1.1.2">𝑓</ci><ci id="S4.SS3.SSS1.p2.2.m2.1.1.3.cmml" xref="S4.SS3.SSS1.p2.2.m2.1.1.3">𝒞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.2.m2.1c">f_{\mathcal{C}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.2.m2.1d">italic_f start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT</annotation></semantics></math>, trained on a simple engagement-driven expected reward estimate based on the session value distribution <math alttext="\hat{\mathbb{P}}_{\mathcal{C}}(s)" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.3.m3.1"><semantics id="S4.SS3.SSS1.p2.3.m3.1a"><mrow id="S4.SS3.SSS1.p2.3.m3.1.2" xref="S4.SS3.SSS1.p2.3.m3.1.2.cmml"><msub id="S4.SS3.SSS1.p2.3.m3.1.2.2" xref="S4.SS3.SSS1.p2.3.m3.1.2.2.cmml"><mover accent="true" id="S4.SS3.SSS1.p2.3.m3.1.2.2.2" xref="S4.SS3.SSS1.p2.3.m3.1.2.2.2.cmml"><mi id="S4.SS3.SSS1.p2.3.m3.1.2.2.2.2" xref="S4.SS3.SSS1.p2.3.m3.1.2.2.2.2.cmml">ℙ</mi><mo id="S4.SS3.SSS1.p2.3.m3.1.2.2.2.1" xref="S4.SS3.SSS1.p2.3.m3.1.2.2.2.1.cmml">^</mo></mover><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.3.m3.1.2.2.3" xref="S4.SS3.SSS1.p2.3.m3.1.2.2.3.cmml">𝒞</mi></msub><mo id="S4.SS3.SSS1.p2.3.m3.1.2.1" xref="S4.SS3.SSS1.p2.3.m3.1.2.1.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p2.3.m3.1.2.3.2" xref="S4.SS3.SSS1.p2.3.m3.1.2.cmml"><mo id="S4.SS3.SSS1.p2.3.m3.1.2.3.2.1" stretchy="false" xref="S4.SS3.SSS1.p2.3.m3.1.2.cmml">(</mo><mi id="S4.SS3.SSS1.p2.3.m3.1.1" xref="S4.SS3.SSS1.p2.3.m3.1.1.cmml">s</mi><mo id="S4.SS3.SSS1.p2.3.m3.1.2.3.2.2" stretchy="false" xref="S4.SS3.SSS1.p2.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.3.m3.1b"><apply id="S4.SS3.SSS1.p2.3.m3.1.2.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.2"><times id="S4.SS3.SSS1.p2.3.m3.1.2.1.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.2.1"></times><apply id="S4.SS3.SSS1.p2.3.m3.1.2.2.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.3.m3.1.2.2.1.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.2.2">subscript</csymbol><apply id="S4.SS3.SSS1.p2.3.m3.1.2.2.2.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.2.2.2"><ci id="S4.SS3.SSS1.p2.3.m3.1.2.2.2.1.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.2.2.2.1">^</ci><ci id="S4.SS3.SSS1.p2.3.m3.1.2.2.2.2.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.2.2.2.2">ℙ</ci></apply><ci id="S4.SS3.SSS1.p2.3.m3.1.2.2.3.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.2.2.3">𝒞</ci></apply><ci id="S4.SS3.SSS1.p2.3.m3.1.1.cmml" xref="S4.SS3.SSS1.p2.3.m3.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.3.m3.1c">\hat{\mathbb{P}}_{\mathcal{C}}(s)</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.3.m3.1d">over^ start_ARG blackboard_P end_ARG start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT ( italic_s )</annotation></semantics></math> against a policy <math alttext="\pi_{\mathcal{P}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.4.m4.1"><semantics id="S4.SS3.SSS1.p2.4.m4.1a"><msub id="S4.SS3.SSS1.p2.4.m4.1.1" xref="S4.SS3.SSS1.p2.4.m4.1.1.cmml"><mi id="S4.SS3.SSS1.p2.4.m4.1.1.2" xref="S4.SS3.SSS1.p2.4.m4.1.1.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.4.m4.1.1.3" xref="S4.SS3.SSS1.p2.4.m4.1.1.3.cmml">𝒫</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.4.m4.1b"><apply id="S4.SS3.SSS1.p2.4.m4.1.1.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.4.m4.1.1.1.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.4.m4.1.1.2.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1.2">𝜋</ci><ci id="S4.SS3.SSS1.p2.4.m4.1.1.3.cmml" xref="S4.SS3.SSS1.p2.4.m4.1.1.3">𝒫</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.4.m4.1c">\pi_{\mathcal{P}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.4.m4.1d">italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT</annotation></semantics></math>, corresponding to a scoring function <math alttext="f_{\mathcal{P}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.5.m5.1"><semantics id="S4.SS3.SSS1.p2.5.m5.1a"><msub id="S4.SS3.SSS1.p2.5.m5.1.1" xref="S4.SS3.SSS1.p2.5.m5.1.1.cmml"><mi id="S4.SS3.SSS1.p2.5.m5.1.1.2" xref="S4.SS3.SSS1.p2.5.m5.1.1.2.cmml">f</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.5.m5.1.1.3" xref="S4.SS3.SSS1.p2.5.m5.1.1.3.cmml">𝒫</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.5.m5.1b"><apply id="S4.SS3.SSS1.p2.5.m5.1.1.cmml" xref="S4.SS3.SSS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.5.m5.1.1.1.cmml" xref="S4.SS3.SSS1.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.5.m5.1.1.2.cmml" xref="S4.SS3.SSS1.p2.5.m5.1.1.2">𝑓</ci><ci id="S4.SS3.SSS1.p2.5.m5.1.1.3.cmml" xref="S4.SS3.SSS1.p2.5.m5.1.1.3">𝒫</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.5.m5.1c">f_{\mathcal{P}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.5.m5.1d">italic_f start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT</annotation></semantics></math>, trained on a simple acquisition-focused expected reward estimate based on the session value distribution <math alttext="\hat{\mathbb{P}}_{\mathcal{P}}(s)" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.6.m6.1"><semantics id="S4.SS3.SSS1.p2.6.m6.1a"><mrow id="S4.SS3.SSS1.p2.6.m6.1.2" xref="S4.SS3.SSS1.p2.6.m6.1.2.cmml"><msub id="S4.SS3.SSS1.p2.6.m6.1.2.2" xref="S4.SS3.SSS1.p2.6.m6.1.2.2.cmml"><mover accent="true" id="S4.SS3.SSS1.p2.6.m6.1.2.2.2" xref="S4.SS3.SSS1.p2.6.m6.1.2.2.2.cmml"><mi id="S4.SS3.SSS1.p2.6.m6.1.2.2.2.2" xref="S4.SS3.SSS1.p2.6.m6.1.2.2.2.2.cmml">ℙ</mi><mo id="S4.SS3.SSS1.p2.6.m6.1.2.2.2.1" xref="S4.SS3.SSS1.p2.6.m6.1.2.2.2.1.cmml">^</mo></mover><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.6.m6.1.2.2.3" xref="S4.SS3.SSS1.p2.6.m6.1.2.2.3.cmml">𝒫</mi></msub><mo id="S4.SS3.SSS1.p2.6.m6.1.2.1" xref="S4.SS3.SSS1.p2.6.m6.1.2.1.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p2.6.m6.1.2.3.2" xref="S4.SS3.SSS1.p2.6.m6.1.2.cmml"><mo id="S4.SS3.SSS1.p2.6.m6.1.2.3.2.1" stretchy="false" xref="S4.SS3.SSS1.p2.6.m6.1.2.cmml">(</mo><mi id="S4.SS3.SSS1.p2.6.m6.1.1" xref="S4.SS3.SSS1.p2.6.m6.1.1.cmml">s</mi><mo id="S4.SS3.SSS1.p2.6.m6.1.2.3.2.2" stretchy="false" xref="S4.SS3.SSS1.p2.6.m6.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.6.m6.1b"><apply id="S4.SS3.SSS1.p2.6.m6.1.2.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.2"><times id="S4.SS3.SSS1.p2.6.m6.1.2.1.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.2.1"></times><apply id="S4.SS3.SSS1.p2.6.m6.1.2.2.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.6.m6.1.2.2.1.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.2.2">subscript</csymbol><apply id="S4.SS3.SSS1.p2.6.m6.1.2.2.2.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.2.2.2"><ci id="S4.SS3.SSS1.p2.6.m6.1.2.2.2.1.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.2.2.2.1">^</ci><ci id="S4.SS3.SSS1.p2.6.m6.1.2.2.2.2.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.2.2.2.2">ℙ</ci></apply><ci id="S4.SS3.SSS1.p2.6.m6.1.2.2.3.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.2.2.3">𝒫</ci></apply><ci id="S4.SS3.SSS1.p2.6.m6.1.1.cmml" xref="S4.SS3.SSS1.p2.6.m6.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.6.m6.1c">\hat{\mathbb{P}}_{\mathcal{P}}(s)</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.6.m6.1d">over^ start_ARG blackboard_P end_ARG start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT ( italic_s )</annotation></semantics></math>.
We observe meaningfully different performance trade-offs between these extreme policies with respect to the primary notions of marketplace reward in an online randomized controlled experiment.
Table <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.T1" title="Table 1 ‣ 4.3.1. Marketplace Reward Trade offs ‣ 4.3. Research Questions ‣ 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">1</span></a> summarizes the key observations on the average effect size <math alttext="\Delta_{\mathcal{S}}(m_{\pi_{\mathcal{C}}},m_{\pi_{\mathcal{P}}})" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.7.m7.2"><semantics id="S4.SS3.SSS1.p2.7.m7.2a"><mrow id="S4.SS3.SSS1.p2.7.m7.2.2" xref="S4.SS3.SSS1.p2.7.m7.2.2.cmml"><msub id="S4.SS3.SSS1.p2.7.m7.2.2.4" xref="S4.SS3.SSS1.p2.7.m7.2.2.4.cmml"><mi id="S4.SS3.SSS1.p2.7.m7.2.2.4.2" mathvariant="normal" xref="S4.SS3.SSS1.p2.7.m7.2.2.4.2.cmml">Δ</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.7.m7.2.2.4.3" xref="S4.SS3.SSS1.p2.7.m7.2.2.4.3.cmml">𝒮</mi></msub><mo id="S4.SS3.SSS1.p2.7.m7.2.2.3" xref="S4.SS3.SSS1.p2.7.m7.2.2.3.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p2.7.m7.2.2.2.2" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.3.cmml"><mo id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.3" stretchy="false" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.3.cmml">(</mo><msub id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.cmml"><mi id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.2" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.2.cmml">m</mi><msub id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.cmml"><mi id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.2" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.3" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.3.cmml">𝒞</mi></msub></msub><mo id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.4" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.3.cmml">,</mo><msub id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.cmml"><mi id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.2" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.2.cmml">m</mi><msub id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.cmml"><mi id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.2" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.3" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.3.cmml">𝒫</mi></msub></msub><mo id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.5" stretchy="false" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.7.m7.2b"><apply id="S4.SS3.SSS1.p2.7.m7.2.2.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2"><times id="S4.SS3.SSS1.p2.7.m7.2.2.3.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.3"></times><apply id="S4.SS3.SSS1.p2.7.m7.2.2.4.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.4"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.7.m7.2.2.4.1.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.4">subscript</csymbol><ci id="S4.SS3.SSS1.p2.7.m7.2.2.4.2.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.4.2">Δ</ci><ci id="S4.SS3.SSS1.p2.7.m7.2.2.4.3.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.4.3">𝒮</ci></apply><interval closure="open" id="S4.SS3.SSS1.p2.7.m7.2.2.2.3.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2"><apply id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.2">𝑚</ci><apply id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.2">𝜋</ci><ci id="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.3.cmml" xref="S4.SS3.SSS1.p2.7.m7.1.1.1.1.1.3.3">𝒞</ci></apply></apply><apply id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.1.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2">subscript</csymbol><ci id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.2.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.2">𝑚</ci><apply id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.1.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3">subscript</csymbol><ci id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.2.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.2">𝜋</ci><ci id="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.3.cmml" xref="S4.SS3.SSS1.p2.7.m7.2.2.2.2.2.3.3">𝒫</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.7.m7.2c">\Delta_{\mathcal{S}}(m_{\pi_{\mathcal{C}}},m_{\pi_{\mathcal{P}}})</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.7.m7.2d">roman_Δ start_POSTSUBSCRIPT caligraphic_S end_POSTSUBSCRIPT ( italic_m start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_m start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math> between engagement focused policy <math alttext="\pi_{\mathcal{C}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.8.m8.1"><semantics id="S4.SS3.SSS1.p2.8.m8.1a"><msub id="S4.SS3.SSS1.p2.8.m8.1.1" xref="S4.SS3.SSS1.p2.8.m8.1.1.cmml"><mi id="S4.SS3.SSS1.p2.8.m8.1.1.2" xref="S4.SS3.SSS1.p2.8.m8.1.1.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.8.m8.1.1.3" xref="S4.SS3.SSS1.p2.8.m8.1.1.3.cmml">𝒞</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.8.m8.1b"><apply id="S4.SS3.SSS1.p2.8.m8.1.1.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.8.m8.1.1.1.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.8.m8.1.1.2.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1.2">𝜋</ci><ci id="S4.SS3.SSS1.p2.8.m8.1.1.3.cmml" xref="S4.SS3.SSS1.p2.8.m8.1.1.3">𝒞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.8.m8.1c">\pi_{\mathcal{C}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.8.m8.1d">italic_π start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT</annotation></semantics></math> and acquisition focused policy <math alttext="\pi_{\mathcal{P}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.9.m9.1"><semantics id="S4.SS3.SSS1.p2.9.m9.1a"><msub id="S4.SS3.SSS1.p2.9.m9.1.1" xref="S4.SS3.SSS1.p2.9.m9.1.1.cmml"><mi id="S4.SS3.SSS1.p2.9.m9.1.1.2" xref="S4.SS3.SSS1.p2.9.m9.1.1.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.9.m9.1.1.3" xref="S4.SS3.SSS1.p2.9.m9.1.1.3.cmml">𝒫</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.9.m9.1b"><apply id="S4.SS3.SSS1.p2.9.m9.1.1.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.9.m9.1.1.1.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.9.m9.1.1.2.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1.2">𝜋</ci><ci id="S4.SS3.SSS1.p2.9.m9.1.1.3.cmml" xref="S4.SS3.SSS1.p2.9.m9.1.1.3">𝒫</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.9.m9.1c">\pi_{\mathcal{P}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.9.m9.1d">italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT</annotation></semantics></math>, with respect to different cumulative metrics <math alttext="m" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.10.m10.1"><semantics id="S4.SS3.SSS1.p2.10.m10.1a"><mi id="S4.SS3.SSS1.p2.10.m10.1.1" xref="S4.SS3.SSS1.p2.10.m10.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.10.m10.1b"><ci id="S4.SS3.SSS1.p2.10.m10.1.1.cmml" xref="S4.SS3.SSS1.p2.10.m10.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.10.m10.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.10.m10.1d">italic_m</annotation></semantics></math>, over the global session traffic <math alttext="\mathcal{S}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.11.m11.1"><semantics id="S4.SS3.SSS1.p2.11.m11.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.11.m11.1.1" xref="S4.SS3.SSS1.p2.11.m11.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.11.m11.1b"><ci id="S4.SS3.SSS1.p2.11.m11.1.1.cmml" xref="S4.SS3.SSS1.p2.11.m11.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.11.m11.1c">\mathcal{S}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.11.m11.1d">caligraphic_S</annotation></semantics></math>.
The main takeaway from these observations is that the engagement focused policy <math alttext="\pi_{\mathcal{C}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.12.m12.1"><semantics id="S4.SS3.SSS1.p2.12.m12.1a"><msub id="S4.SS3.SSS1.p2.12.m12.1.1" xref="S4.SS3.SSS1.p2.12.m12.1.1.cmml"><mi id="S4.SS3.SSS1.p2.12.m12.1.1.2" xref="S4.SS3.SSS1.p2.12.m12.1.1.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p2.12.m12.1.1.3" xref="S4.SS3.SSS1.p2.12.m12.1.1.3.cmml">𝒞</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.12.m12.1b"><apply id="S4.SS3.SSS1.p2.12.m12.1.1.cmml" xref="S4.SS3.SSS1.p2.12.m12.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p2.12.m12.1.1.1.cmml" xref="S4.SS3.SSS1.p2.12.m12.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p2.12.m12.1.1.2.cmml" xref="S4.SS3.SSS1.p2.12.m12.1.1.2">𝜋</ci><ci id="S4.SS3.SSS1.p2.12.m12.1.1.3.cmml" xref="S4.SS3.SSS1.p2.12.m12.1.1.3">𝒞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.12.m12.1c">\pi_{\mathcal{C}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.12.m12.1d">italic_π start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT</annotation></semantics></math>, on the one hand, drives significantly higher share of search sessions with at least one click(<math alttext=">+3\%" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.13.m13.1"><semantics id="S4.SS3.SSS1.p2.13.m13.1a"><mrow id="S4.SS3.SSS1.p2.13.m13.1.1" xref="S4.SS3.SSS1.p2.13.m13.1.1.cmml"><mi id="S4.SS3.SSS1.p2.13.m13.1.1.2" xref="S4.SS3.SSS1.p2.13.m13.1.1.2.cmml"></mi><mo id="S4.SS3.SSS1.p2.13.m13.1.1.1" xref="S4.SS3.SSS1.p2.13.m13.1.1.1.cmml">&gt;</mo><mrow id="S4.SS3.SSS1.p2.13.m13.1.1.3" xref="S4.SS3.SSS1.p2.13.m13.1.1.3.cmml"><mo id="S4.SS3.SSS1.p2.13.m13.1.1.3a" xref="S4.SS3.SSS1.p2.13.m13.1.1.3.cmml">+</mo><mrow id="S4.SS3.SSS1.p2.13.m13.1.1.3.2" xref="S4.SS3.SSS1.p2.13.m13.1.1.3.2.cmml"><mn id="S4.SS3.SSS1.p2.13.m13.1.1.3.2.2" xref="S4.SS3.SSS1.p2.13.m13.1.1.3.2.2.cmml">3</mn><mo id="S4.SS3.SSS1.p2.13.m13.1.1.3.2.1" xref="S4.SS3.SSS1.p2.13.m13.1.1.3.2.1.cmml">%</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.13.m13.1b"><apply id="S4.SS3.SSS1.p2.13.m13.1.1.cmml" xref="S4.SS3.SSS1.p2.13.m13.1.1"><gt id="S4.SS3.SSS1.p2.13.m13.1.1.1.cmml" xref="S4.SS3.SSS1.p2.13.m13.1.1.1"></gt><csymbol cd="latexml" id="S4.SS3.SSS1.p2.13.m13.1.1.2.cmml" xref="S4.SS3.SSS1.p2.13.m13.1.1.2">absent</csymbol><apply id="S4.SS3.SSS1.p2.13.m13.1.1.3.cmml" xref="S4.SS3.SSS1.p2.13.m13.1.1.3"><plus id="S4.SS3.SSS1.p2.13.m13.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.13.m13.1.1.3"></plus><apply id="S4.SS3.SSS1.p2.13.m13.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.13.m13.1.1.3.2"><csymbol cd="latexml" id="S4.SS3.SSS1.p2.13.m13.1.1.3.2.1.cmml" xref="S4.SS3.SSS1.p2.13.m13.1.1.3.2.1">percent</csymbol><cn id="S4.SS3.SSS1.p2.13.m13.1.1.3.2.2.cmml" type="integer" xref="S4.SS3.SSS1.p2.13.m13.1.1.3.2.2">3</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.13.m13.1c">&gt;+3\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.13.m13.1d">&gt; + 3 %</annotation></semantics></math>), and on the other hand, leads to a significant drop in the share of search sessions with at least one purchase(<math alttext="<-2\%" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p2.14.m14.1"><semantics id="S4.SS3.SSS1.p2.14.m14.1a"><mrow id="S4.SS3.SSS1.p2.14.m14.1.1" xref="S4.SS3.SSS1.p2.14.m14.1.1.cmml"><mi id="S4.SS3.SSS1.p2.14.m14.1.1.2" xref="S4.SS3.SSS1.p2.14.m14.1.1.2.cmml"></mi><mo id="S4.SS3.SSS1.p2.14.m14.1.1.1" xref="S4.SS3.SSS1.p2.14.m14.1.1.1.cmml">&lt;</mo><mrow id="S4.SS3.SSS1.p2.14.m14.1.1.3" xref="S4.SS3.SSS1.p2.14.m14.1.1.3.cmml"><mo id="S4.SS3.SSS1.p2.14.m14.1.1.3a" xref="S4.SS3.SSS1.p2.14.m14.1.1.3.cmml">−</mo><mrow id="S4.SS3.SSS1.p2.14.m14.1.1.3.2" xref="S4.SS3.SSS1.p2.14.m14.1.1.3.2.cmml"><mn id="S4.SS3.SSS1.p2.14.m14.1.1.3.2.2" xref="S4.SS3.SSS1.p2.14.m14.1.1.3.2.2.cmml">2</mn><mo id="S4.SS3.SSS1.p2.14.m14.1.1.3.2.1" xref="S4.SS3.SSS1.p2.14.m14.1.1.3.2.1.cmml">%</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.14.m14.1b"><apply id="S4.SS3.SSS1.p2.14.m14.1.1.cmml" xref="S4.SS3.SSS1.p2.14.m14.1.1"><lt id="S4.SS3.SSS1.p2.14.m14.1.1.1.cmml" xref="S4.SS3.SSS1.p2.14.m14.1.1.1"></lt><csymbol cd="latexml" id="S4.SS3.SSS1.p2.14.m14.1.1.2.cmml" xref="S4.SS3.SSS1.p2.14.m14.1.1.2">absent</csymbol><apply id="S4.SS3.SSS1.p2.14.m14.1.1.3.cmml" xref="S4.SS3.SSS1.p2.14.m14.1.1.3"><minus id="S4.SS3.SSS1.p2.14.m14.1.1.3.1.cmml" xref="S4.SS3.SSS1.p2.14.m14.1.1.3"></minus><apply id="S4.SS3.SSS1.p2.14.m14.1.1.3.2.cmml" xref="S4.SS3.SSS1.p2.14.m14.1.1.3.2"><csymbol cd="latexml" id="S4.SS3.SSS1.p2.14.m14.1.1.3.2.1.cmml" xref="S4.SS3.SSS1.p2.14.m14.1.1.3.2.1">percent</csymbol><cn id="S4.SS3.SSS1.p2.14.m14.1.1.3.2.2.cmml" type="integer" xref="S4.SS3.SSS1.p2.14.m14.1.1.3.2.2">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.14.m14.1c">&lt;-2\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p2.14.m14.1d">&lt; - 2 %</annotation></semantics></math>).</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_table" id="S4.T1">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" id="S4.T1.1.1.1">Online Metric <math alttext="m" class="ltx_Math" display="inline" id="S4.T1.1.1.1.m1.1"><semantics id="S4.T1.1.1.1.m1.1a"><mi id="S4.T1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.m1.1b"><ci id="S4.T1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.m1.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.T1.1.1.1.m1.1d">italic_m</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T1.2.2.2"><math alttext="\Delta_{\mathcal{S}}(m_{\pi_{\mathcal{C}}},m_{\pi_{\mathcal{P}}})" class="ltx_Math" display="inline" id="S4.T1.2.2.2.m1.2"><semantics id="S4.T1.2.2.2.m1.2a"><mrow id="S4.T1.2.2.2.m1.2.2" xref="S4.T1.2.2.2.m1.2.2.cmml"><msub id="S4.T1.2.2.2.m1.2.2.4" xref="S4.T1.2.2.2.m1.2.2.4.cmml"><mi id="S4.T1.2.2.2.m1.2.2.4.2" mathvariant="normal" xref="S4.T1.2.2.2.m1.2.2.4.2.cmml">Δ</mi><mi class="ltx_font_mathcaligraphic" id="S4.T1.2.2.2.m1.2.2.4.3" xref="S4.T1.2.2.2.m1.2.2.4.3.cmml">𝒮</mi></msub><mo id="S4.T1.2.2.2.m1.2.2.3" xref="S4.T1.2.2.2.m1.2.2.3.cmml">⁢</mo><mrow id="S4.T1.2.2.2.m1.2.2.2.2" xref="S4.T1.2.2.2.m1.2.2.2.3.cmml"><mo id="S4.T1.2.2.2.m1.2.2.2.2.3" stretchy="false" xref="S4.T1.2.2.2.m1.2.2.2.3.cmml">(</mo><msub id="S4.T1.2.2.2.m1.1.1.1.1.1" xref="S4.T1.2.2.2.m1.1.1.1.1.1.cmml"><mi id="S4.T1.2.2.2.m1.1.1.1.1.1.2" xref="S4.T1.2.2.2.m1.1.1.1.1.1.2.cmml">m</mi><msub id="S4.T1.2.2.2.m1.1.1.1.1.1.3" xref="S4.T1.2.2.2.m1.1.1.1.1.1.3.cmml"><mi id="S4.T1.2.2.2.m1.1.1.1.1.1.3.2" xref="S4.T1.2.2.2.m1.1.1.1.1.1.3.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.T1.2.2.2.m1.1.1.1.1.1.3.3" xref="S4.T1.2.2.2.m1.1.1.1.1.1.3.3.cmml">𝒞</mi></msub></msub><mo id="S4.T1.2.2.2.m1.2.2.2.2.4" xref="S4.T1.2.2.2.m1.2.2.2.3.cmml">,</mo><msub id="S4.T1.2.2.2.m1.2.2.2.2.2" xref="S4.T1.2.2.2.m1.2.2.2.2.2.cmml"><mi id="S4.T1.2.2.2.m1.2.2.2.2.2.2" xref="S4.T1.2.2.2.m1.2.2.2.2.2.2.cmml">m</mi><msub id="S4.T1.2.2.2.m1.2.2.2.2.2.3" xref="S4.T1.2.2.2.m1.2.2.2.2.2.3.cmml"><mi id="S4.T1.2.2.2.m1.2.2.2.2.2.3.2" xref="S4.T1.2.2.2.m1.2.2.2.2.2.3.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.T1.2.2.2.m1.2.2.2.2.2.3.3" xref="S4.T1.2.2.2.m1.2.2.2.2.2.3.3.cmml">𝒫</mi></msub></msub><mo id="S4.T1.2.2.2.m1.2.2.2.2.5" stretchy="false" xref="S4.T1.2.2.2.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.2.2.2.m1.2b"><apply id="S4.T1.2.2.2.m1.2.2.cmml" xref="S4.T1.2.2.2.m1.2.2"><times id="S4.T1.2.2.2.m1.2.2.3.cmml" xref="S4.T1.2.2.2.m1.2.2.3"></times><apply id="S4.T1.2.2.2.m1.2.2.4.cmml" xref="S4.T1.2.2.2.m1.2.2.4"><csymbol cd="ambiguous" id="S4.T1.2.2.2.m1.2.2.4.1.cmml" xref="S4.T1.2.2.2.m1.2.2.4">subscript</csymbol><ci id="S4.T1.2.2.2.m1.2.2.4.2.cmml" xref="S4.T1.2.2.2.m1.2.2.4.2">Δ</ci><ci id="S4.T1.2.2.2.m1.2.2.4.3.cmml" xref="S4.T1.2.2.2.m1.2.2.4.3">𝒮</ci></apply><interval closure="open" id="S4.T1.2.2.2.m1.2.2.2.3.cmml" xref="S4.T1.2.2.2.m1.2.2.2.2"><apply id="S4.T1.2.2.2.m1.1.1.1.1.1.cmml" xref="S4.T1.2.2.2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T1.2.2.2.m1.1.1.1.1.1.1.cmml" xref="S4.T1.2.2.2.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.T1.2.2.2.m1.1.1.1.1.1.2.cmml" xref="S4.T1.2.2.2.m1.1.1.1.1.1.2">𝑚</ci><apply id="S4.T1.2.2.2.m1.1.1.1.1.1.3.cmml" xref="S4.T1.2.2.2.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T1.2.2.2.m1.1.1.1.1.1.3.1.cmml" xref="S4.T1.2.2.2.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.T1.2.2.2.m1.1.1.1.1.1.3.2.cmml" xref="S4.T1.2.2.2.m1.1.1.1.1.1.3.2">𝜋</ci><ci id="S4.T1.2.2.2.m1.1.1.1.1.1.3.3.cmml" xref="S4.T1.2.2.2.m1.1.1.1.1.1.3.3">𝒞</ci></apply></apply><apply id="S4.T1.2.2.2.m1.2.2.2.2.2.cmml" xref="S4.T1.2.2.2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.T1.2.2.2.m1.2.2.2.2.2.1.cmml" xref="S4.T1.2.2.2.m1.2.2.2.2.2">subscript</csymbol><ci id="S4.T1.2.2.2.m1.2.2.2.2.2.2.cmml" xref="S4.T1.2.2.2.m1.2.2.2.2.2.2">𝑚</ci><apply id="S4.T1.2.2.2.m1.2.2.2.2.2.3.cmml" xref="S4.T1.2.2.2.m1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T1.2.2.2.m1.2.2.2.2.2.3.1.cmml" xref="S4.T1.2.2.2.m1.2.2.2.2.2.3">subscript</csymbol><ci id="S4.T1.2.2.2.m1.2.2.2.2.2.3.2.cmml" xref="S4.T1.2.2.2.m1.2.2.2.2.2.3.2">𝜋</ci><ci id="S4.T1.2.2.2.m1.2.2.2.2.2.3.3.cmml" xref="S4.T1.2.2.2.m1.2.2.2.2.2.3.3">𝒫</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.2.2.m1.2c">\Delta_{\mathcal{S}}(m_{\pi_{\mathcal{C}}},m_{\pi_{\mathcal{P}}})</annotation><annotation encoding="application/x-llamapun" id="S4.T1.2.2.2.m1.2d">roman_Δ start_POSTSUBSCRIPT caligraphic_S end_POSTSUBSCRIPT ( italic_m start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_m start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.2.3.1">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T1.2.3.1.1">Sessions With Any Engagement</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.2.3.1.2">¿+3%</td>
</tr>
<tr class="ltx_tr" id="S4.T1.2.4.2">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T1.2.4.2.1">SERPs With Any Engagement</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.2.4.2.2">¿+5%</td>
</tr>
<tr class="ltx_tr" id="S4.T1.2.5.3">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T1.2.5.3.1">Sessions With A Purchase Event</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.2.5.3.2">¡-2%</td>
</tr>
<tr class="ltx_tr" id="S4.T1.2.6.4">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="S4.T1.2.6.4.1">Total Revenue</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T1.2.6.4.2">neutral</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span><span class="ltx_text" id="S4.T1.4.1" style="font-size:90%;">Online AB test results contrasting policies with extreme session value distributions</span></figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.SS3.SSS1.p3">
<p class="ltx_p" id="S4.SS3.SSS1.p3.1">It is interesting to note, however, that this drop is largely due to a significant loss in the number of bought items in search sessions with lower price intent, which usually take less exploration and browsing to identify and pinpoint the desirable item to purchase.
Since the engagement-driven policy is more effective in driving success events with higher economic value in sessions that require more browsing effort, it can compensate for the revenue loss due to lower purchases in lower price intent segments, leading to an overall neutral effect size in total revenue.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS3.SSS1.p4">
<p class="ltx_p" id="S4.SS3.SSS1.p4.7">In order to explore the fundamental trade-offs, highlighted in our online experiment, between different notions of marketplace expected reward across heterogeneous price intents in more depth, we build simple hybrid policies corresponding to a mixture of the engagement-based and acquisition based objectives.
Specifically, we build a simple policy via a simple convex combination of the extreme polices</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table" id="S5.EGx6">
<tbody id="S4.E16"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(16)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\pi_{\alpha}=\mathrm{argSort}((1-\alpha)\,f_{\mathcal{P}}+\alpha%
\,f_{\mathcal{C}})," class="ltx_Math" display="inline" id="S4.E16.m1.1"><semantics id="S4.E16.m1.1a"><mrow id="S4.E16.m1.1.1.1" xref="S4.E16.m1.1.1.1.1.cmml"><mrow id="S4.E16.m1.1.1.1.1" xref="S4.E16.m1.1.1.1.1.cmml"><msub id="S4.E16.m1.1.1.1.1.3" xref="S4.E16.m1.1.1.1.1.3.cmml"><mi id="S4.E16.m1.1.1.1.1.3.2" xref="S4.E16.m1.1.1.1.1.3.2.cmml">π</mi><mi id="S4.E16.m1.1.1.1.1.3.3" xref="S4.E16.m1.1.1.1.1.3.3.cmml">α</mi></msub><mo id="S4.E16.m1.1.1.1.1.2" xref="S4.E16.m1.1.1.1.1.2.cmml">=</mo><mrow id="S4.E16.m1.1.1.1.1.1" xref="S4.E16.m1.1.1.1.1.1.cmml"><mi id="S4.E16.m1.1.1.1.1.1.3" xref="S4.E16.m1.1.1.1.1.1.3.cmml">argSort</mi><mo id="S4.E16.m1.1.1.1.1.1.2" xref="S4.E16.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E16.m1.1.1.1.1.1.1.1" xref="S4.E16.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E16.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E16.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E16.m1.1.1.1.1.1.1.1.1" xref="S4.E16.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S4.E16.m1.1.1.1.1.1.1.1.1.1" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mn id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">α</mi></mrow><mo id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S4.E16.m1.1.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><msub id="S4.E16.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">f</mi><mi class="ltx_font_mathcaligraphic" id="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.3.cmml">𝒫</mi></msub></mrow><mo id="S4.E16.m1.1.1.1.1.1.1.1.1.2" xref="S4.E16.m1.1.1.1.1.1.1.1.1.2.cmml">+</mo><mrow id="S4.E16.m1.1.1.1.1.1.1.1.1.3" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E16.m1.1.1.1.1.1.1.1.1.3.2" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.2.cmml">α</mi><mo id="S4.E16.m1.1.1.1.1.1.1.1.1.3.1" lspace="0.170em" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><msub id="S4.E16.m1.1.1.1.1.1.1.1.1.3.3" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.2" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.2.cmml">f</mi><mi class="ltx_font_mathcaligraphic" id="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.3" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.3.cmml">𝒞</mi></msub></mrow></mrow><mo id="S4.E16.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E16.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E16.m1.1.1.1.2" xref="S4.E16.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E16.m1.1b"><apply id="S4.E16.m1.1.1.1.1.cmml" xref="S4.E16.m1.1.1.1"><eq id="S4.E16.m1.1.1.1.1.2.cmml" xref="S4.E16.m1.1.1.1.1.2"></eq><apply id="S4.E16.m1.1.1.1.1.3.cmml" xref="S4.E16.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E16.m1.1.1.1.1.3.1.cmml" xref="S4.E16.m1.1.1.1.1.3">subscript</csymbol><ci id="S4.E16.m1.1.1.1.1.3.2.cmml" xref="S4.E16.m1.1.1.1.1.3.2">𝜋</ci><ci id="S4.E16.m1.1.1.1.1.3.3.cmml" xref="S4.E16.m1.1.1.1.1.3.3">𝛼</ci></apply><apply id="S4.E16.m1.1.1.1.1.1.cmml" xref="S4.E16.m1.1.1.1.1.1"><times id="S4.E16.m1.1.1.1.1.1.2.cmml" xref="S4.E16.m1.1.1.1.1.1.2"></times><ci id="S4.E16.m1.1.1.1.1.1.3.cmml" xref="S4.E16.m1.1.1.1.1.1.3">argSort</ci><apply id="S4.E16.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1"><plus id="S4.E16.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.2"></plus><apply id="S4.E16.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1"><times id="S4.E16.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.2"></times><apply id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1"><minus id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.1"></minus><cn id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">1</cn><ci id="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝛼</ci></apply><apply id="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.2">𝑓</ci><ci id="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.1.3.3">𝒫</ci></apply></apply><apply id="S4.E16.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3"><times id="S4.E16.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S4.E16.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.2">𝛼</ci><apply id="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.2">𝑓</ci><ci id="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E16.m1.1.1.1.1.1.1.1.1.3.3.3">𝒞</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E16.m1.1c">\displaystyle\pi_{\alpha}=\mathrm{argSort}((1-\alpha)\,f_{\mathcal{P}}+\alpha%
\,f_{\mathcal{C}}),</annotation><annotation encoding="application/x-llamapun" id="S4.E16.m1.1d">italic_π start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT = roman_argSort ( ( 1 - italic_α ) italic_f start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT + italic_α italic_f start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS3.SSS1.p4.6">where <math alttext="\pi_{\alpha}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p4.1.m1.1"><semantics id="S4.SS3.SSS1.p4.1.m1.1a"><msub id="S4.SS3.SSS1.p4.1.m1.1.1" xref="S4.SS3.SSS1.p4.1.m1.1.1.cmml"><mi id="S4.SS3.SSS1.p4.1.m1.1.1.2" xref="S4.SS3.SSS1.p4.1.m1.1.1.2.cmml">π</mi><mi id="S4.SS3.SSS1.p4.1.m1.1.1.3" xref="S4.SS3.SSS1.p4.1.m1.1.1.3.cmml">α</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p4.1.m1.1b"><apply id="S4.SS3.SSS1.p4.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p4.1.m1.1.1.1.cmml" xref="S4.SS3.SSS1.p4.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p4.1.m1.1.1.2.cmml" xref="S4.SS3.SSS1.p4.1.m1.1.1.2">𝜋</ci><ci id="S4.SS3.SSS1.p4.1.m1.1.1.3.cmml" xref="S4.SS3.SSS1.p4.1.m1.1.1.3">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p4.1.m1.1c">\pi_{\alpha}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p4.1.m1.1d">italic_π start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT</annotation></semantics></math> refers to the balanced ranking policy obtained via a linear combination of the scoring functions of the engagement focused policy, <math alttext="\pi_{\mathcal{C}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p4.2.m2.1"><semantics id="S4.SS3.SSS1.p4.2.m2.1a"><msub id="S4.SS3.SSS1.p4.2.m2.1.1" xref="S4.SS3.SSS1.p4.2.m2.1.1.cmml"><mi id="S4.SS3.SSS1.p4.2.m2.1.1.2" xref="S4.SS3.SSS1.p4.2.m2.1.1.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p4.2.m2.1.1.3" xref="S4.SS3.SSS1.p4.2.m2.1.1.3.cmml">𝒞</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p4.2.m2.1b"><apply id="S4.SS3.SSS1.p4.2.m2.1.1.cmml" xref="S4.SS3.SSS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p4.2.m2.1.1.1.cmml" xref="S4.SS3.SSS1.p4.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p4.2.m2.1.1.2.cmml" xref="S4.SS3.SSS1.p4.2.m2.1.1.2">𝜋</ci><ci id="S4.SS3.SSS1.p4.2.m2.1.1.3.cmml" xref="S4.SS3.SSS1.p4.2.m2.1.1.3">𝒞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p4.2.m2.1c">\pi_{\mathcal{C}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p4.2.m2.1d">italic_π start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT</annotation></semantics></math> and acquisition focused policy <math alttext="\pi_{\mathcal{P}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p4.3.m3.1"><semantics id="S4.SS3.SSS1.p4.3.m3.1a"><msub id="S4.SS3.SSS1.p4.3.m3.1.1" xref="S4.SS3.SSS1.p4.3.m3.1.1.cmml"><mi id="S4.SS3.SSS1.p4.3.m3.1.1.2" xref="S4.SS3.SSS1.p4.3.m3.1.1.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p4.3.m3.1.1.3" xref="S4.SS3.SSS1.p4.3.m3.1.1.3.cmml">𝒫</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p4.3.m3.1b"><apply id="S4.SS3.SSS1.p4.3.m3.1.1.cmml" xref="S4.SS3.SSS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p4.3.m3.1.1.1.cmml" xref="S4.SS3.SSS1.p4.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p4.3.m3.1.1.2.cmml" xref="S4.SS3.SSS1.p4.3.m3.1.1.2">𝜋</ci><ci id="S4.SS3.SSS1.p4.3.m3.1.1.3.cmml" xref="S4.SS3.SSS1.p4.3.m3.1.1.3">𝒫</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p4.3.m3.1c">\pi_{\mathcal{P}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p4.3.m3.1d">italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT</annotation></semantics></math>, for some <math alttext="\alpha\in[0,1]" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p4.4.m4.2"><semantics id="S4.SS3.SSS1.p4.4.m4.2a"><mrow id="S4.SS3.SSS1.p4.4.m4.2.3" xref="S4.SS3.SSS1.p4.4.m4.2.3.cmml"><mi id="S4.SS3.SSS1.p4.4.m4.2.3.2" xref="S4.SS3.SSS1.p4.4.m4.2.3.2.cmml">α</mi><mo id="S4.SS3.SSS1.p4.4.m4.2.3.1" xref="S4.SS3.SSS1.p4.4.m4.2.3.1.cmml">∈</mo><mrow id="S4.SS3.SSS1.p4.4.m4.2.3.3.2" xref="S4.SS3.SSS1.p4.4.m4.2.3.3.1.cmml"><mo id="S4.SS3.SSS1.p4.4.m4.2.3.3.2.1" stretchy="false" xref="S4.SS3.SSS1.p4.4.m4.2.3.3.1.cmml">[</mo><mn id="S4.SS3.SSS1.p4.4.m4.1.1" xref="S4.SS3.SSS1.p4.4.m4.1.1.cmml">0</mn><mo id="S4.SS3.SSS1.p4.4.m4.2.3.3.2.2" xref="S4.SS3.SSS1.p4.4.m4.2.3.3.1.cmml">,</mo><mn id="S4.SS3.SSS1.p4.4.m4.2.2" xref="S4.SS3.SSS1.p4.4.m4.2.2.cmml">1</mn><mo id="S4.SS3.SSS1.p4.4.m4.2.3.3.2.3" stretchy="false" xref="S4.SS3.SSS1.p4.4.m4.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p4.4.m4.2b"><apply id="S4.SS3.SSS1.p4.4.m4.2.3.cmml" xref="S4.SS3.SSS1.p4.4.m4.2.3"><in id="S4.SS3.SSS1.p4.4.m4.2.3.1.cmml" xref="S4.SS3.SSS1.p4.4.m4.2.3.1"></in><ci id="S4.SS3.SSS1.p4.4.m4.2.3.2.cmml" xref="S4.SS3.SSS1.p4.4.m4.2.3.2">𝛼</ci><interval closure="closed" id="S4.SS3.SSS1.p4.4.m4.2.3.3.1.cmml" xref="S4.SS3.SSS1.p4.4.m4.2.3.3.2"><cn id="S4.SS3.SSS1.p4.4.m4.1.1.cmml" type="integer" xref="S4.SS3.SSS1.p4.4.m4.1.1">0</cn><cn id="S4.SS3.SSS1.p4.4.m4.2.2.cmml" type="integer" xref="S4.SS3.SSS1.p4.4.m4.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p4.4.m4.2c">\alpha\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p4.4.m4.2d">italic_α ∈ [ 0 , 1 ]</annotation></semantics></math>.
The parameterized policies <math alttext="\pi_{\alpha}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p4.5.m5.1"><semantics id="S4.SS3.SSS1.p4.5.m5.1a"><msub id="S4.SS3.SSS1.p4.5.m5.1.1" xref="S4.SS3.SSS1.p4.5.m5.1.1.cmml"><mi id="S4.SS3.SSS1.p4.5.m5.1.1.2" xref="S4.SS3.SSS1.p4.5.m5.1.1.2.cmml">π</mi><mi id="S4.SS3.SSS1.p4.5.m5.1.1.3" xref="S4.SS3.SSS1.p4.5.m5.1.1.3.cmml">α</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p4.5.m5.1b"><apply id="S4.SS3.SSS1.p4.5.m5.1.1.cmml" xref="S4.SS3.SSS1.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p4.5.m5.1.1.1.cmml" xref="S4.SS3.SSS1.p4.5.m5.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p4.5.m5.1.1.2.cmml" xref="S4.SS3.SSS1.p4.5.m5.1.1.2">𝜋</ci><ci id="S4.SS3.SSS1.p4.5.m5.1.1.3.cmml" xref="S4.SS3.SSS1.p4.5.m5.1.1.3">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p4.5.m5.1c">\pi_{\alpha}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p4.5.m5.1d">italic_π start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT</annotation></semantics></math> behave similarly to a policy trained on a corresponding mixture session value distribution <math alttext="(1-\alpha)\hat{\mathbb{P}}_{\mathcal{P}}(s)+\alpha\hat{\mathbb{P}}_{\mathcal{C%
}}(s)" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p4.6.m6.3"><semantics id="S4.SS3.SSS1.p4.6.m6.3a"><mrow id="S4.SS3.SSS1.p4.6.m6.3.3" xref="S4.SS3.SSS1.p4.6.m6.3.3.cmml"><mrow id="S4.SS3.SSS1.p4.6.m6.3.3.1" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.cmml"><mrow id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.cmml"><mo id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.2" stretchy="false" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.cmml"><mn id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.2" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.2.cmml">1</mn><mo id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.1" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.1.cmml">−</mo><mi id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.3" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.3.cmml">α</mi></mrow><mo id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.3" stretchy="false" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.cmml">)</mo></mrow><mo id="S4.SS3.SSS1.p4.6.m6.3.3.1.2" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.2.cmml">⁢</mo><msub id="S4.SS3.SSS1.p4.6.m6.3.3.1.3" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3.cmml"><mover accent="true" id="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2.cmml"><mi id="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2.2" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2.2.cmml">ℙ</mi><mo id="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2.1" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2.1.cmml">^</mo></mover><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p4.6.m6.3.3.1.3.3" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3.3.cmml">𝒫</mi></msub><mo id="S4.SS3.SSS1.p4.6.m6.3.3.1.2a" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.2.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p4.6.m6.3.3.1.4.2" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.cmml"><mo id="S4.SS3.SSS1.p4.6.m6.3.3.1.4.2.1" stretchy="false" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.cmml">(</mo><mi id="S4.SS3.SSS1.p4.6.m6.1.1" xref="S4.SS3.SSS1.p4.6.m6.1.1.cmml">s</mi><mo id="S4.SS3.SSS1.p4.6.m6.3.3.1.4.2.2" stretchy="false" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.cmml">)</mo></mrow></mrow><mo id="S4.SS3.SSS1.p4.6.m6.3.3.2" xref="S4.SS3.SSS1.p4.6.m6.3.3.2.cmml">+</mo><mrow id="S4.SS3.SSS1.p4.6.m6.3.3.3" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.cmml"><mi id="S4.SS3.SSS1.p4.6.m6.3.3.3.2" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.2.cmml">α</mi><mo id="S4.SS3.SSS1.p4.6.m6.3.3.3.1" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.1.cmml">⁢</mo><msub id="S4.SS3.SSS1.p4.6.m6.3.3.3.3" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3.cmml"><mover accent="true" id="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2.cmml"><mi id="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2.2" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2.2.cmml">ℙ</mi><mo id="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2.1" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2.1.cmml">^</mo></mover><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p4.6.m6.3.3.3.3.3" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3.3.cmml">𝒞</mi></msub><mo id="S4.SS3.SSS1.p4.6.m6.3.3.3.1a" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.1.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p4.6.m6.3.3.3.4.2" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.cmml"><mo id="S4.SS3.SSS1.p4.6.m6.3.3.3.4.2.1" stretchy="false" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.cmml">(</mo><mi id="S4.SS3.SSS1.p4.6.m6.2.2" xref="S4.SS3.SSS1.p4.6.m6.2.2.cmml">s</mi><mo id="S4.SS3.SSS1.p4.6.m6.3.3.3.4.2.2" stretchy="false" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p4.6.m6.3b"><apply id="S4.SS3.SSS1.p4.6.m6.3.3.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3"><plus id="S4.SS3.SSS1.p4.6.m6.3.3.2.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.2"></plus><apply id="S4.SS3.SSS1.p4.6.m6.3.3.1.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1"><times id="S4.SS3.SSS1.p4.6.m6.3.3.1.2.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.2"></times><apply id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1"><minus id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.1"></minus><cn id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.2.cmml" type="integer" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.2">1</cn><ci id="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.1.1.1.3">𝛼</ci></apply><apply id="S4.SS3.SSS1.p4.6.m6.3.3.1.3.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p4.6.m6.3.3.1.3.1.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3">subscript</csymbol><apply id="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2"><ci id="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2.1.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2.1">^</ci><ci id="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2.2.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3.2.2">ℙ</ci></apply><ci id="S4.SS3.SSS1.p4.6.m6.3.3.1.3.3.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.1.3.3">𝒫</ci></apply><ci id="S4.SS3.SSS1.p4.6.m6.1.1.cmml" xref="S4.SS3.SSS1.p4.6.m6.1.1">𝑠</ci></apply><apply id="S4.SS3.SSS1.p4.6.m6.3.3.3.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.3"><times id="S4.SS3.SSS1.p4.6.m6.3.3.3.1.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.1"></times><ci id="S4.SS3.SSS1.p4.6.m6.3.3.3.2.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.2">𝛼</ci><apply id="S4.SS3.SSS1.p4.6.m6.3.3.3.3.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p4.6.m6.3.3.3.3.1.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3">subscript</csymbol><apply id="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2"><ci id="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2.1.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2.1">^</ci><ci id="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2.2.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3.2.2">ℙ</ci></apply><ci id="S4.SS3.SSS1.p4.6.m6.3.3.3.3.3.cmml" xref="S4.SS3.SSS1.p4.6.m6.3.3.3.3.3">𝒞</ci></apply><ci id="S4.SS3.SSS1.p4.6.m6.2.2.cmml" xref="S4.SS3.SSS1.p4.6.m6.2.2">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p4.6.m6.3c">(1-\alpha)\hat{\mathbb{P}}_{\mathcal{P}}(s)+\alpha\hat{\mathbb{P}}_{\mathcal{C%
}}(s)</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p4.6.m6.3d">( 1 - italic_α ) over^ start_ARG blackboard_P end_ARG start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT ( italic_s ) + italic_α over^ start_ARG blackboard_P end_ARG start_POSTSUBSCRIPT caligraphic_C end_POSTSUBSCRIPT ( italic_s )</annotation></semantics></math>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS3.SSS1.p5">
<p class="ltx_p" id="S4.SS3.SSS1.p5.1">Due to the scarcity of online experimentation traffic, we only conduct counterfactual off-policy evaluations for these parameterized policies.
While our counterfactual estimates are largely aligned, at least directionally, with the measured effect sizes in online experiments, we point out that all counterfactual off-policy evaluations are fundamentally limited having access only to snapshots of the users’ behavior in the logged sessions.
In particular, if the logging policy is substantially different from the target policy to be evaluated, the offline evaluation metrics could be very biased.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S4.F1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="258" id="S4.F1.g1" src="https://arxiv.org/html/2410.04568v1/extracted/5905376/ValueOptimizedAcq.png" width="357">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 1. </span><span class="ltx_text" id="S4.F1.4.2" style="font-size:90%;">Counterfactual expected reward estimates <math alttext="\Delta_{\hat{\mathcal{S}}}(m_{\pi_{\mathcal{\alpha}}},m_{\pi_{\mathcal{P}}})" class="ltx_Math" display="inline" id="S4.F1.3.1.m1.2"><semantics id="S4.F1.3.1.m1.2b"><mrow id="S4.F1.3.1.m1.2.2" xref="S4.F1.3.1.m1.2.2.cmml"><msub id="S4.F1.3.1.m1.2.2.4" xref="S4.F1.3.1.m1.2.2.4.cmml"><mi id="S4.F1.3.1.m1.2.2.4.2" mathvariant="normal" xref="S4.F1.3.1.m1.2.2.4.2.cmml">Δ</mi><mover accent="true" id="S4.F1.3.1.m1.2.2.4.3" xref="S4.F1.3.1.m1.2.2.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.F1.3.1.m1.2.2.4.3.2" xref="S4.F1.3.1.m1.2.2.4.3.2.cmml">𝒮</mi><mo id="S4.F1.3.1.m1.2.2.4.3.1" xref="S4.F1.3.1.m1.2.2.4.3.1.cmml">^</mo></mover></msub><mo id="S4.F1.3.1.m1.2.2.3" xref="S4.F1.3.1.m1.2.2.3.cmml">⁢</mo><mrow id="S4.F1.3.1.m1.2.2.2.2" xref="S4.F1.3.1.m1.2.2.2.3.cmml"><mo id="S4.F1.3.1.m1.2.2.2.2.3" stretchy="false" xref="S4.F1.3.1.m1.2.2.2.3.cmml">(</mo><msub id="S4.F1.3.1.m1.1.1.1.1.1" xref="S4.F1.3.1.m1.1.1.1.1.1.cmml"><mi id="S4.F1.3.1.m1.1.1.1.1.1.2" xref="S4.F1.3.1.m1.1.1.1.1.1.2.cmml">m</mi><msub id="S4.F1.3.1.m1.1.1.1.1.1.3" xref="S4.F1.3.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.F1.3.1.m1.1.1.1.1.1.3.2" xref="S4.F1.3.1.m1.1.1.1.1.1.3.2.cmml">π</mi><mi id="S4.F1.3.1.m1.1.1.1.1.1.3.3" xref="S4.F1.3.1.m1.1.1.1.1.1.3.3.cmml">α</mi></msub></msub><mo id="S4.F1.3.1.m1.2.2.2.2.4" xref="S4.F1.3.1.m1.2.2.2.3.cmml">,</mo><msub id="S4.F1.3.1.m1.2.2.2.2.2" xref="S4.F1.3.1.m1.2.2.2.2.2.cmml"><mi id="S4.F1.3.1.m1.2.2.2.2.2.2" xref="S4.F1.3.1.m1.2.2.2.2.2.2.cmml">m</mi><msub id="S4.F1.3.1.m1.2.2.2.2.2.3" xref="S4.F1.3.1.m1.2.2.2.2.2.3.cmml"><mi id="S4.F1.3.1.m1.2.2.2.2.2.3.2" xref="S4.F1.3.1.m1.2.2.2.2.2.3.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.F1.3.1.m1.2.2.2.2.2.3.3" xref="S4.F1.3.1.m1.2.2.2.2.2.3.3.cmml">𝒫</mi></msub></msub><mo id="S4.F1.3.1.m1.2.2.2.2.5" stretchy="false" xref="S4.F1.3.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F1.3.1.m1.2c"><apply id="S4.F1.3.1.m1.2.2.cmml" xref="S4.F1.3.1.m1.2.2"><times id="S4.F1.3.1.m1.2.2.3.cmml" xref="S4.F1.3.1.m1.2.2.3"></times><apply id="S4.F1.3.1.m1.2.2.4.cmml" xref="S4.F1.3.1.m1.2.2.4"><csymbol cd="ambiguous" id="S4.F1.3.1.m1.2.2.4.1.cmml" xref="S4.F1.3.1.m1.2.2.4">subscript</csymbol><ci id="S4.F1.3.1.m1.2.2.4.2.cmml" xref="S4.F1.3.1.m1.2.2.4.2">Δ</ci><apply id="S4.F1.3.1.m1.2.2.4.3.cmml" xref="S4.F1.3.1.m1.2.2.4.3"><ci id="S4.F1.3.1.m1.2.2.4.3.1.cmml" xref="S4.F1.3.1.m1.2.2.4.3.1">^</ci><ci id="S4.F1.3.1.m1.2.2.4.3.2.cmml" xref="S4.F1.3.1.m1.2.2.4.3.2">𝒮</ci></apply></apply><interval closure="open" id="S4.F1.3.1.m1.2.2.2.3.cmml" xref="S4.F1.3.1.m1.2.2.2.2"><apply id="S4.F1.3.1.m1.1.1.1.1.1.cmml" xref="S4.F1.3.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.F1.3.1.m1.1.1.1.1.1.1.cmml" xref="S4.F1.3.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.F1.3.1.m1.1.1.1.1.1.2.cmml" xref="S4.F1.3.1.m1.1.1.1.1.1.2">𝑚</ci><apply id="S4.F1.3.1.m1.1.1.1.1.1.3.cmml" xref="S4.F1.3.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.F1.3.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.F1.3.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.F1.3.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.F1.3.1.m1.1.1.1.1.1.3.2">𝜋</ci><ci id="S4.F1.3.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.F1.3.1.m1.1.1.1.1.1.3.3">𝛼</ci></apply></apply><apply id="S4.F1.3.1.m1.2.2.2.2.2.cmml" xref="S4.F1.3.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.F1.3.1.m1.2.2.2.2.2.1.cmml" xref="S4.F1.3.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S4.F1.3.1.m1.2.2.2.2.2.2.cmml" xref="S4.F1.3.1.m1.2.2.2.2.2.2">𝑚</ci><apply id="S4.F1.3.1.m1.2.2.2.2.2.3.cmml" xref="S4.F1.3.1.m1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.F1.3.1.m1.2.2.2.2.2.3.1.cmml" xref="S4.F1.3.1.m1.2.2.2.2.2.3">subscript</csymbol><ci id="S4.F1.3.1.m1.2.2.2.2.2.3.2.cmml" xref="S4.F1.3.1.m1.2.2.2.2.2.3.2">𝜋</ci><ci id="S4.F1.3.1.m1.2.2.2.2.2.3.3.cmml" xref="S4.F1.3.1.m1.2.2.2.2.2.3.3">𝒫</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F1.3.1.m1.2d">\Delta_{\hat{\mathcal{S}}}(m_{\pi_{\mathcal{\alpha}}},m_{\pi_{\mathcal{P}}})</annotation><annotation encoding="application/x-llamapun" id="S4.F1.3.1.m1.2e">roman_Δ start_POSTSUBSCRIPT over^ start_ARG caligraphic_S end_ARG end_POSTSUBSCRIPT ( italic_m start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_m start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math> as a function of parameter <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.F1.4.2.m2.1"><semantics id="S4.F1.4.2.m2.1b"><mi id="S4.F1.4.2.m2.1.1" xref="S4.F1.4.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.F1.4.2.m2.1c"><ci id="S4.F1.4.2.m2.1.1.cmml" xref="S4.F1.4.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F1.4.2.m2.1d">\alpha</annotation><annotation encoding="application/x-llamapun" id="S4.F1.4.2.m2.1e">italic_α</annotation></semantics></math> in .</span></figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.SS3.SSS1.p6">
<p class="ltx_p" id="S4.SS3.SSS1.p6.2">Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.F1" title="Figure 1 ‣ 4.3.1. Marketplace Reward Trade offs ‣ 4.3. Research Questions ‣ 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">1</span></a> highlights the essential trade offs between different expected reward estimates <math alttext="m" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p6.1.m1.1"><semantics id="S4.SS3.SSS1.p6.1.m1.1a"><mi id="S4.SS3.SSS1.p6.1.m1.1.1" xref="S4.SS3.SSS1.p6.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p6.1.m1.1b"><ci id="S4.SS3.SSS1.p6.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p6.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p6.1.m1.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p6.1.m1.1d">italic_m</annotation></semantics></math> from logged data <math alttext="\hat{\mathcal{S}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p6.2.m2.1"><semantics id="S4.SS3.SSS1.p6.2.m2.1a"><mover accent="true" id="S4.SS3.SSS1.p6.2.m2.1.1" xref="S4.SS3.SSS1.p6.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p6.2.m2.1.1.2" xref="S4.SS3.SSS1.p6.2.m2.1.1.2.cmml">𝒮</mi><mo id="S4.SS3.SSS1.p6.2.m2.1.1.1" xref="S4.SS3.SSS1.p6.2.m2.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p6.2.m2.1b"><apply id="S4.SS3.SSS1.p6.2.m2.1.1.cmml" xref="S4.SS3.SSS1.p6.2.m2.1.1"><ci id="S4.SS3.SSS1.p6.2.m2.1.1.1.cmml" xref="S4.SS3.SSS1.p6.2.m2.1.1.1">^</ci><ci id="S4.SS3.SSS1.p6.2.m2.1.1.2.cmml" xref="S4.SS3.SSS1.p6.2.m2.1.1.2">𝒮</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p6.2.m2.1c">\hat{\mathcal{S}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p6.2.m2.1d">over^ start_ARG caligraphic_S end_ARG</annotation></semantics></math>, with the acquisition focused policy as the baseline</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table" id="S5.EGx7">
<tbody id="S4.E17"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(17)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\Delta_{\hat{\mathcal{S}}}(m_{\pi_{\mathcal{\alpha}}},m_{\pi_{%
\mathcal{P}}})." class="ltx_Math" display="inline" id="S4.E17.m1.1"><semantics id="S4.E17.m1.1a"><mrow id="S4.E17.m1.1.1.1" xref="S4.E17.m1.1.1.1.1.cmml"><mrow id="S4.E17.m1.1.1.1.1" xref="S4.E17.m1.1.1.1.1.cmml"><msub id="S4.E17.m1.1.1.1.1.4" xref="S4.E17.m1.1.1.1.1.4.cmml"><mi id="S4.E17.m1.1.1.1.1.4.2" mathvariant="normal" xref="S4.E17.m1.1.1.1.1.4.2.cmml">Δ</mi><mover accent="true" id="S4.E17.m1.1.1.1.1.4.3" xref="S4.E17.m1.1.1.1.1.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E17.m1.1.1.1.1.4.3.2" xref="S4.E17.m1.1.1.1.1.4.3.2.cmml">𝒮</mi><mo id="S4.E17.m1.1.1.1.1.4.3.1" xref="S4.E17.m1.1.1.1.1.4.3.1.cmml">^</mo></mover></msub><mo id="S4.E17.m1.1.1.1.1.3" xref="S4.E17.m1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E17.m1.1.1.1.1.2.2" xref="S4.E17.m1.1.1.1.1.2.3.cmml"><mo id="S4.E17.m1.1.1.1.1.2.2.3" stretchy="false" xref="S4.E17.m1.1.1.1.1.2.3.cmml">(</mo><msub id="S4.E17.m1.1.1.1.1.1.1.1" xref="S4.E17.m1.1.1.1.1.1.1.1.cmml"><mi id="S4.E17.m1.1.1.1.1.1.1.1.2" xref="S4.E17.m1.1.1.1.1.1.1.1.2.cmml">m</mi><msub id="S4.E17.m1.1.1.1.1.1.1.1.3" xref="S4.E17.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E17.m1.1.1.1.1.1.1.1.3.2" xref="S4.E17.m1.1.1.1.1.1.1.1.3.2.cmml">π</mi><mi id="S4.E17.m1.1.1.1.1.1.1.1.3.3" xref="S4.E17.m1.1.1.1.1.1.1.1.3.3.cmml">α</mi></msub></msub><mo id="S4.E17.m1.1.1.1.1.2.2.4" xref="S4.E17.m1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.E17.m1.1.1.1.1.2.2.2" xref="S4.E17.m1.1.1.1.1.2.2.2.cmml"><mi id="S4.E17.m1.1.1.1.1.2.2.2.2" xref="S4.E17.m1.1.1.1.1.2.2.2.2.cmml">m</mi><msub id="S4.E17.m1.1.1.1.1.2.2.2.3" xref="S4.E17.m1.1.1.1.1.2.2.2.3.cmml"><mi id="S4.E17.m1.1.1.1.1.2.2.2.3.2" xref="S4.E17.m1.1.1.1.1.2.2.2.3.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.E17.m1.1.1.1.1.2.2.2.3.3" xref="S4.E17.m1.1.1.1.1.2.2.2.3.3.cmml">𝒫</mi></msub></msub><mo id="S4.E17.m1.1.1.1.1.2.2.5" stretchy="false" xref="S4.E17.m1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.E17.m1.1.1.1.2" lspace="0em" xref="S4.E17.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E17.m1.1b"><apply id="S4.E17.m1.1.1.1.1.cmml" xref="S4.E17.m1.1.1.1"><times id="S4.E17.m1.1.1.1.1.3.cmml" xref="S4.E17.m1.1.1.1.1.3"></times><apply id="S4.E17.m1.1.1.1.1.4.cmml" xref="S4.E17.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E17.m1.1.1.1.1.4.1.cmml" xref="S4.E17.m1.1.1.1.1.4">subscript</csymbol><ci id="S4.E17.m1.1.1.1.1.4.2.cmml" xref="S4.E17.m1.1.1.1.1.4.2">Δ</ci><apply id="S4.E17.m1.1.1.1.1.4.3.cmml" xref="S4.E17.m1.1.1.1.1.4.3"><ci id="S4.E17.m1.1.1.1.1.4.3.1.cmml" xref="S4.E17.m1.1.1.1.1.4.3.1">^</ci><ci id="S4.E17.m1.1.1.1.1.4.3.2.cmml" xref="S4.E17.m1.1.1.1.1.4.3.2">𝒮</ci></apply></apply><interval closure="open" id="S4.E17.m1.1.1.1.1.2.3.cmml" xref="S4.E17.m1.1.1.1.1.2.2"><apply id="S4.E17.m1.1.1.1.1.1.1.1.cmml" xref="S4.E17.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E17.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E17.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E17.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.E17.m1.1.1.1.1.1.1.1.2">𝑚</ci><apply id="S4.E17.m1.1.1.1.1.1.1.1.3.cmml" xref="S4.E17.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E17.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E17.m1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E17.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E17.m1.1.1.1.1.1.1.1.3.2">𝜋</ci><ci id="S4.E17.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E17.m1.1.1.1.1.1.1.1.3.3">𝛼</ci></apply></apply><apply id="S4.E17.m1.1.1.1.1.2.2.2.cmml" xref="S4.E17.m1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E17.m1.1.1.1.1.2.2.2.1.cmml" xref="S4.E17.m1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E17.m1.1.1.1.1.2.2.2.2.cmml" xref="S4.E17.m1.1.1.1.1.2.2.2.2">𝑚</ci><apply id="S4.E17.m1.1.1.1.1.2.2.2.3.cmml" xref="S4.E17.m1.1.1.1.1.2.2.2.3"><csymbol cd="ambiguous" id="S4.E17.m1.1.1.1.1.2.2.2.3.1.cmml" xref="S4.E17.m1.1.1.1.1.2.2.2.3">subscript</csymbol><ci id="S4.E17.m1.1.1.1.1.2.2.2.3.2.cmml" xref="S4.E17.m1.1.1.1.1.2.2.2.3.2">𝜋</ci><ci id="S4.E17.m1.1.1.1.1.2.2.2.3.3.cmml" xref="S4.E17.m1.1.1.1.1.2.2.2.3.3">𝒫</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E17.m1.1c">\displaystyle\Delta_{\hat{\mathcal{S}}}(m_{\pi_{\mathcal{\alpha}}},m_{\pi_{%
\mathcal{P}}}).</annotation><annotation encoding="application/x-llamapun" id="S4.E17.m1.1d">roman_Δ start_POSTSUBSCRIPT over^ start_ARG caligraphic_S end_ARG end_POSTSUBSCRIPT ( italic_m start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_m start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS3.SSS1.p6.4">Biasing the training objective heavily on one extreme, leads to significant drops in the estimated reward corresponding to the other extreme.
As the contribution of the engagement-focused policy increases, by increasing <math alttext="\alpha>0" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p6.3.m1.1"><semantics id="S4.SS3.SSS1.p6.3.m1.1a"><mrow id="S4.SS3.SSS1.p6.3.m1.1.1" xref="S4.SS3.SSS1.p6.3.m1.1.1.cmml"><mi id="S4.SS3.SSS1.p6.3.m1.1.1.2" xref="S4.SS3.SSS1.p6.3.m1.1.1.2.cmml">α</mi><mo id="S4.SS3.SSS1.p6.3.m1.1.1.1" xref="S4.SS3.SSS1.p6.3.m1.1.1.1.cmml">&gt;</mo><mn id="S4.SS3.SSS1.p6.3.m1.1.1.3" xref="S4.SS3.SSS1.p6.3.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p6.3.m1.1b"><apply id="S4.SS3.SSS1.p6.3.m1.1.1.cmml" xref="S4.SS3.SSS1.p6.3.m1.1.1"><gt id="S4.SS3.SSS1.p6.3.m1.1.1.1.cmml" xref="S4.SS3.SSS1.p6.3.m1.1.1.1"></gt><ci id="S4.SS3.SSS1.p6.3.m1.1.1.2.cmml" xref="S4.SS3.SSS1.p6.3.m1.1.1.2">𝛼</ci><cn id="S4.SS3.SSS1.p6.3.m1.1.1.3.cmml" type="integer" xref="S4.SS3.SSS1.p6.3.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p6.3.m1.1c">\alpha&gt;0</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p6.3.m1.1d">italic_α &gt; 0</annotation></semantics></math>, we estimate higher expected number of engagements, with a saturation point of diminishing return, after which a sharp drop in the expected number of purchases is observed.
Interestingly the estimated expected revenue is convex as a function of <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p6.4.m2.1"><semantics id="S4.SS3.SSS1.p6.4.m2.1a"><mi id="S4.SS3.SSS1.p6.4.m2.1.1" xref="S4.SS3.SSS1.p6.4.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p6.4.m2.1b"><ci id="S4.SS3.SSS1.p6.4.m2.1.1.cmml" xref="S4.SS3.SSS1.p6.4.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p6.4.m2.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p6.4.m2.1d">italic_α</annotation></semantics></math>, which we will discuss in our subsequent research focused on value-aware objectives.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS3.SSS1.p7">
<p class="ltx_p" id="S4.SS3.SSS1.p7.5">Next, we explore the observed trade-offs in the global analysis above across heterogeneous segments <math alttext="\hat{\mathcal{S}}_{p}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p7.1.m1.1"><semantics id="S4.SS3.SSS1.p7.1.m1.1a"><msub id="S4.SS3.SSS1.p7.1.m1.1.1" xref="S4.SS3.SSS1.p7.1.m1.1.1.cmml"><mover accent="true" id="S4.SS3.SSS1.p7.1.m1.1.1.2" xref="S4.SS3.SSS1.p7.1.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p7.1.m1.1.1.2.2" xref="S4.SS3.SSS1.p7.1.m1.1.1.2.2.cmml">𝒮</mi><mo id="S4.SS3.SSS1.p7.1.m1.1.1.2.1" xref="S4.SS3.SSS1.p7.1.m1.1.1.2.1.cmml">^</mo></mover><mi id="S4.SS3.SSS1.p7.1.m1.1.1.3" xref="S4.SS3.SSS1.p7.1.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p7.1.m1.1b"><apply id="S4.SS3.SSS1.p7.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p7.1.m1.1.1.1.cmml" xref="S4.SS3.SSS1.p7.1.m1.1.1">subscript</csymbol><apply id="S4.SS3.SSS1.p7.1.m1.1.1.2.cmml" xref="S4.SS3.SSS1.p7.1.m1.1.1.2"><ci id="S4.SS3.SSS1.p7.1.m1.1.1.2.1.cmml" xref="S4.SS3.SSS1.p7.1.m1.1.1.2.1">^</ci><ci id="S4.SS3.SSS1.p7.1.m1.1.1.2.2.cmml" xref="S4.SS3.SSS1.p7.1.m1.1.1.2.2">𝒮</ci></apply><ci id="S4.SS3.SSS1.p7.1.m1.1.1.3.cmml" xref="S4.SS3.SSS1.p7.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p7.1.m1.1c">\hat{\mathcal{S}}_{p}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p7.1.m1.1d">over^ start_ARG caligraphic_S end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> corresponding to different price intent segments, where the attribution of a session to a value bucket is done with respect to the price of the purchased items. Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.F2" title="Figure 2 ‣ 4.3.1. Marketplace Reward Trade offs ‣ 4.3. Research Questions ‣ 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">2</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.F3" title="Figure 3 ‣ 4.3.1. Marketplace Reward Trade offs ‣ 4.3. Research Questions ‣ 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">3</span></a> show the lift in estimated expected number of engagements <math alttext="\hat{\mathbb{E}}[\mathrm{C}]" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p7.2.m2.1"><semantics id="S4.SS3.SSS1.p7.2.m2.1a"><mrow id="S4.SS3.SSS1.p7.2.m2.1.2" xref="S4.SS3.SSS1.p7.2.m2.1.2.cmml"><mover accent="true" id="S4.SS3.SSS1.p7.2.m2.1.2.2" xref="S4.SS3.SSS1.p7.2.m2.1.2.2.cmml"><mi id="S4.SS3.SSS1.p7.2.m2.1.2.2.2" xref="S4.SS3.SSS1.p7.2.m2.1.2.2.2.cmml">𝔼</mi><mo id="S4.SS3.SSS1.p7.2.m2.1.2.2.1" xref="S4.SS3.SSS1.p7.2.m2.1.2.2.1.cmml">^</mo></mover><mo id="S4.SS3.SSS1.p7.2.m2.1.2.1" xref="S4.SS3.SSS1.p7.2.m2.1.2.1.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p7.2.m2.1.2.3.2" xref="S4.SS3.SSS1.p7.2.m2.1.2.3.1.cmml"><mo id="S4.SS3.SSS1.p7.2.m2.1.2.3.2.1" stretchy="false" xref="S4.SS3.SSS1.p7.2.m2.1.2.3.1.1.cmml">[</mo><mi id="S4.SS3.SSS1.p7.2.m2.1.1" mathvariant="normal" xref="S4.SS3.SSS1.p7.2.m2.1.1.cmml">C</mi><mo id="S4.SS3.SSS1.p7.2.m2.1.2.3.2.2" stretchy="false" xref="S4.SS3.SSS1.p7.2.m2.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p7.2.m2.1b"><apply id="S4.SS3.SSS1.p7.2.m2.1.2.cmml" xref="S4.SS3.SSS1.p7.2.m2.1.2"><times id="S4.SS3.SSS1.p7.2.m2.1.2.1.cmml" xref="S4.SS3.SSS1.p7.2.m2.1.2.1"></times><apply id="S4.SS3.SSS1.p7.2.m2.1.2.2.cmml" xref="S4.SS3.SSS1.p7.2.m2.1.2.2"><ci id="S4.SS3.SSS1.p7.2.m2.1.2.2.1.cmml" xref="S4.SS3.SSS1.p7.2.m2.1.2.2.1">^</ci><ci id="S4.SS3.SSS1.p7.2.m2.1.2.2.2.cmml" xref="S4.SS3.SSS1.p7.2.m2.1.2.2.2">𝔼</ci></apply><apply id="S4.SS3.SSS1.p7.2.m2.1.2.3.1.cmml" xref="S4.SS3.SSS1.p7.2.m2.1.2.3.2"><csymbol cd="latexml" id="S4.SS3.SSS1.p7.2.m2.1.2.3.1.1.cmml" xref="S4.SS3.SSS1.p7.2.m2.1.2.3.2.1">delimited-[]</csymbol><ci id="S4.SS3.SSS1.p7.2.m2.1.1.cmml" xref="S4.SS3.SSS1.p7.2.m2.1.1">C</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p7.2.m2.1c">\hat{\mathbb{E}}[\mathrm{C}]</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p7.2.m2.1d">over^ start_ARG blackboard_E end_ARG [ roman_C ]</annotation></semantics></math> and estimated expected number of engagements <math alttext="\hat{\mathbb{E}}[\mathrm{P}]" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p7.3.m3.1"><semantics id="S4.SS3.SSS1.p7.3.m3.1a"><mrow id="S4.SS3.SSS1.p7.3.m3.1.2" xref="S4.SS3.SSS1.p7.3.m3.1.2.cmml"><mover accent="true" id="S4.SS3.SSS1.p7.3.m3.1.2.2" xref="S4.SS3.SSS1.p7.3.m3.1.2.2.cmml"><mi id="S4.SS3.SSS1.p7.3.m3.1.2.2.2" xref="S4.SS3.SSS1.p7.3.m3.1.2.2.2.cmml">𝔼</mi><mo id="S4.SS3.SSS1.p7.3.m3.1.2.2.1" xref="S4.SS3.SSS1.p7.3.m3.1.2.2.1.cmml">^</mo></mover><mo id="S4.SS3.SSS1.p7.3.m3.1.2.1" xref="S4.SS3.SSS1.p7.3.m3.1.2.1.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p7.3.m3.1.2.3.2" xref="S4.SS3.SSS1.p7.3.m3.1.2.3.1.cmml"><mo id="S4.SS3.SSS1.p7.3.m3.1.2.3.2.1" stretchy="false" xref="S4.SS3.SSS1.p7.3.m3.1.2.3.1.1.cmml">[</mo><mi id="S4.SS3.SSS1.p7.3.m3.1.1" mathvariant="normal" xref="S4.SS3.SSS1.p7.3.m3.1.1.cmml">P</mi><mo id="S4.SS3.SSS1.p7.3.m3.1.2.3.2.2" stretchy="false" xref="S4.SS3.SSS1.p7.3.m3.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p7.3.m3.1b"><apply id="S4.SS3.SSS1.p7.3.m3.1.2.cmml" xref="S4.SS3.SSS1.p7.3.m3.1.2"><times id="S4.SS3.SSS1.p7.3.m3.1.2.1.cmml" xref="S4.SS3.SSS1.p7.3.m3.1.2.1"></times><apply id="S4.SS3.SSS1.p7.3.m3.1.2.2.cmml" xref="S4.SS3.SSS1.p7.3.m3.1.2.2"><ci id="S4.SS3.SSS1.p7.3.m3.1.2.2.1.cmml" xref="S4.SS3.SSS1.p7.3.m3.1.2.2.1">^</ci><ci id="S4.SS3.SSS1.p7.3.m3.1.2.2.2.cmml" xref="S4.SS3.SSS1.p7.3.m3.1.2.2.2">𝔼</ci></apply><apply id="S4.SS3.SSS1.p7.3.m3.1.2.3.1.cmml" xref="S4.SS3.SSS1.p7.3.m3.1.2.3.2"><csymbol cd="latexml" id="S4.SS3.SSS1.p7.3.m3.1.2.3.1.1.cmml" xref="S4.SS3.SSS1.p7.3.m3.1.2.3.2.1">delimited-[]</csymbol><ci id="S4.SS3.SSS1.p7.3.m3.1.1.cmml" xref="S4.SS3.SSS1.p7.3.m3.1.1">P</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p7.3.m3.1c">\hat{\mathbb{E}}[\mathrm{P}]</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p7.3.m3.1d">over^ start_ARG blackboard_E end_ARG [ roman_P ]</annotation></semantics></math>, respectively, for the hybrid policy <math alttext="\pi_{\mathcal{\alpha}}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p7.4.m4.1"><semantics id="S4.SS3.SSS1.p7.4.m4.1a"><msub id="S4.SS3.SSS1.p7.4.m4.1.1" xref="S4.SS3.SSS1.p7.4.m4.1.1.cmml"><mi id="S4.SS3.SSS1.p7.4.m4.1.1.2" xref="S4.SS3.SSS1.p7.4.m4.1.1.2.cmml">π</mi><mi id="S4.SS3.SSS1.p7.4.m4.1.1.3" xref="S4.SS3.SSS1.p7.4.m4.1.1.3.cmml">α</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p7.4.m4.1b"><apply id="S4.SS3.SSS1.p7.4.m4.1.1.cmml" xref="S4.SS3.SSS1.p7.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p7.4.m4.1.1.1.cmml" xref="S4.SS3.SSS1.p7.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p7.4.m4.1.1.2.cmml" xref="S4.SS3.SSS1.p7.4.m4.1.1.2">𝜋</ci><ci id="S4.SS3.SSS1.p7.4.m4.1.1.3.cmml" xref="S4.SS3.SSS1.p7.4.m4.1.1.3">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p7.4.m4.1c">\pi_{\mathcal{\alpha}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p7.4.m4.1d">italic_π start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT</annotation></semantics></math> across value segments <math alttext="\hat{\mathcal{S}}_{p}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p7.5.m5.1"><semantics id="S4.SS3.SSS1.p7.5.m5.1a"><msub id="S4.SS3.SSS1.p7.5.m5.1.1" xref="S4.SS3.SSS1.p7.5.m5.1.1.cmml"><mover accent="true" id="S4.SS3.SSS1.p7.5.m5.1.1.2" xref="S4.SS3.SSS1.p7.5.m5.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p7.5.m5.1.1.2.2" xref="S4.SS3.SSS1.p7.5.m5.1.1.2.2.cmml">𝒮</mi><mo id="S4.SS3.SSS1.p7.5.m5.1.1.2.1" xref="S4.SS3.SSS1.p7.5.m5.1.1.2.1.cmml">^</mo></mover><mi id="S4.SS3.SSS1.p7.5.m5.1.1.3" xref="S4.SS3.SSS1.p7.5.m5.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p7.5.m5.1b"><apply id="S4.SS3.SSS1.p7.5.m5.1.1.cmml" xref="S4.SS3.SSS1.p7.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p7.5.m5.1.1.1.cmml" xref="S4.SS3.SSS1.p7.5.m5.1.1">subscript</csymbol><apply id="S4.SS3.SSS1.p7.5.m5.1.1.2.cmml" xref="S4.SS3.SSS1.p7.5.m5.1.1.2"><ci id="S4.SS3.SSS1.p7.5.m5.1.1.2.1.cmml" xref="S4.SS3.SSS1.p7.5.m5.1.1.2.1">^</ci><ci id="S4.SS3.SSS1.p7.5.m5.1.1.2.2.cmml" xref="S4.SS3.SSS1.p7.5.m5.1.1.2.2">𝒮</ci></apply><ci id="S4.SS3.SSS1.p7.5.m5.1.1.3.cmml" xref="S4.SS3.SSS1.p7.5.m5.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p7.5.m5.1c">\hat{\mathcal{S}}_{p}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p7.5.m5.1d">over^ start_ARG caligraphic_S end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> with the acquisition focused policy as the baseline.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S4.SS3.SSS1.p8">
<p class="ltx_p" id="S4.SS3.SSS1.p8.4">We clearly see that the extreme acquisition focused policy performs poorly in terms of the expected number of engagements, across all segments, with particularly larger effects sizes in high value price intents that require more exploration.
We also observe that, as <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p8.1.m1.1"><semantics id="S4.SS3.SSS1.p8.1.m1.1a"><mi id="S4.SS3.SSS1.p8.1.m1.1.1" xref="S4.SS3.SSS1.p8.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p8.1.m1.1b"><ci id="S4.SS3.SSS1.p8.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p8.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p8.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p8.1.m1.1d">italic_α</annotation></semantics></math> increases, the lift in expected clicks <math alttext="\Delta_{\hat{\mathcal{S}}_{p}}(\hat{\mathbb{E}}_{\pi_{\mathcal{\alpha}}}[%
\mathrm{C}],\hat{\mathbb{E}}_{\pi_{\mathcal{P}}}[\mathrm{C}])" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p8.2.m2.4"><semantics id="S4.SS3.SSS1.p8.2.m2.4a"><mrow id="S4.SS3.SSS1.p8.2.m2.4.4" xref="S4.SS3.SSS1.p8.2.m2.4.4.cmml"><msub id="S4.SS3.SSS1.p8.2.m2.4.4.4" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.cmml"><mi id="S4.SS3.SSS1.p8.2.m2.4.4.4.2" mathvariant="normal" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.2.cmml">Δ</mi><msub id="S4.SS3.SSS1.p8.2.m2.4.4.4.3" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3.cmml"><mover accent="true" id="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2.2" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2.2.cmml">𝒮</mi><mo id="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2.1" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2.1.cmml">^</mo></mover><mi id="S4.SS3.SSS1.p8.2.m2.4.4.4.3.3" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3.3.cmml">p</mi></msub></msub><mo id="S4.SS3.SSS1.p8.2.m2.4.4.3" xref="S4.SS3.SSS1.p8.2.m2.4.4.3.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p8.2.m2.4.4.2.2" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.3.cmml"><mo id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.3" stretchy="false" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.3.cmml">(</mo><mrow id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.cmml"><msub id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.cmml"><mover accent="true" id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2.cmml"><mi id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2.2" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2.2.cmml">𝔼</mi><mo id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2.1" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2.1.cmml">^</mo></mover><msub id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.cmml"><mi id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.2" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.2.cmml">π</mi><mi id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.3" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.3.cmml">α</mi></msub></msub><mo id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.1" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.1.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.3.2" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.3.1.cmml"><mo id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.3.2.1" stretchy="false" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.3.1.1.cmml">[</mo><mi id="S4.SS3.SSS1.p8.2.m2.1.1" mathvariant="normal" xref="S4.SS3.SSS1.p8.2.m2.1.1.cmml">C</mi><mo id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.3.2.2" stretchy="false" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.4" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.3.cmml">,</mo><mrow id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.cmml"><msub id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.cmml"><mover accent="true" id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2.cmml"><mi id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2.2" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2.2.cmml">𝔼</mi><mo id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2.1" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2.1.cmml">^</mo></mover><msub id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.cmml"><mi id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.2" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.3" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.3.cmml">𝒫</mi></msub></msub><mo id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.1" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.1.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.3.2" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.3.1.cmml"><mo id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.3.2.1" stretchy="false" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.3.1.1.cmml">[</mo><mi id="S4.SS3.SSS1.p8.2.m2.2.2" mathvariant="normal" xref="S4.SS3.SSS1.p8.2.m2.2.2.cmml">C</mi><mo id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.3.2.2" stretchy="false" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.5" stretchy="false" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p8.2.m2.4b"><apply id="S4.SS3.SSS1.p8.2.m2.4.4.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4"><times id="S4.SS3.SSS1.p8.2.m2.4.4.3.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.3"></times><apply id="S4.SS3.SSS1.p8.2.m2.4.4.4.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.4"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.2.m2.4.4.4.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.4">subscript</csymbol><ci id="S4.SS3.SSS1.p8.2.m2.4.4.4.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.2">Δ</ci><apply id="S4.SS3.SSS1.p8.2.m2.4.4.4.3.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.2.m2.4.4.4.3.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3">subscript</csymbol><apply id="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2"><ci id="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2.1">^</ci><ci id="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3.2.2">𝒮</ci></apply><ci id="S4.SS3.SSS1.p8.2.m2.4.4.4.3.3.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.4.3.3">𝑝</ci></apply></apply><interval closure="open" id="S4.SS3.SSS1.p8.2.m2.4.4.2.3.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2"><apply id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1"><times id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.1"></times><apply id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2">subscript</csymbol><apply id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2"><ci id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2.1">^</ci><ci id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.2.2">𝔼</ci></apply><apply id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3">subscript</csymbol><ci id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.2">𝜋</ci><ci id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.3.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.2.3.3">𝛼</ci></apply></apply><apply id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.3.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.3.2"><csymbol cd="latexml" id="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.3.1.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.3.3.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S4.SS3.SSS1.p8.2.m2.1.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.1.1">C</ci></apply></apply><apply id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2"><times id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.1"></times><apply id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2">subscript</csymbol><apply id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2"><ci id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2.1">^</ci><ci id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.2.2">𝔼</ci></apply><apply id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3">subscript</csymbol><ci id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.2">𝜋</ci><ci id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.3.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.2.3.3">𝒫</ci></apply></apply><apply id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.3.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.3.2"><csymbol cd="latexml" id="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.3.1.1.cmml" xref="S4.SS3.SSS1.p8.2.m2.4.4.2.2.2.3.2.1">delimited-[]</csymbol><ci id="S4.SS3.SSS1.p8.2.m2.2.2.cmml" xref="S4.SS3.SSS1.p8.2.m2.2.2">C</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p8.2.m2.4c">\Delta_{\hat{\mathcal{S}}_{p}}(\hat{\mathbb{E}}_{\pi_{\mathcal{\alpha}}}[%
\mathrm{C}],\hat{\mathbb{E}}_{\pi_{\mathcal{P}}}[\mathrm{C}])</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p8.2.m2.4d">roman_Δ start_POSTSUBSCRIPT over^ start_ARG caligraphic_S end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_C ] , over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_C ] )</annotation></semantics></math> increases, with a saturation point in lower price segments(which is in fact an inflation point for low price intent segments).
On the contrary, biasing the policy towards the engagement-focused policy, by setting <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p8.3.m3.1"><semantics id="S4.SS3.SSS1.p8.3.m3.1a"><mi id="S4.SS3.SSS1.p8.3.m3.1.1" xref="S4.SS3.SSS1.p8.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p8.3.m3.1b"><ci id="S4.SS3.SSS1.p8.3.m3.1.1.cmml" xref="S4.SS3.SSS1.p8.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p8.3.m3.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p8.3.m3.1d">italic_α</annotation></semantics></math> close to 1, leads to a meaningful drop in the expected number of purchases, <math alttext="\Delta_{\hat{\mathcal{S}}_{p}}(\hat{\mathbb{E}}_{\pi_{\mathcal{\alpha}}}[%
\mathrm{P}],\hat{\mathbb{E}}_{\pi_{\mathcal{P}}}[\mathrm{P}])" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p8.4.m4.4"><semantics id="S4.SS3.SSS1.p8.4.m4.4a"><mrow id="S4.SS3.SSS1.p8.4.m4.4.4" xref="S4.SS3.SSS1.p8.4.m4.4.4.cmml"><msub id="S4.SS3.SSS1.p8.4.m4.4.4.4" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.cmml"><mi id="S4.SS3.SSS1.p8.4.m4.4.4.4.2" mathvariant="normal" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.2.cmml">Δ</mi><msub id="S4.SS3.SSS1.p8.4.m4.4.4.4.3" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3.cmml"><mover accent="true" id="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2.2" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2.2.cmml">𝒮</mi><mo id="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2.1" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2.1.cmml">^</mo></mover><mi id="S4.SS3.SSS1.p8.4.m4.4.4.4.3.3" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3.3.cmml">p</mi></msub></msub><mo id="S4.SS3.SSS1.p8.4.m4.4.4.3" xref="S4.SS3.SSS1.p8.4.m4.4.4.3.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p8.4.m4.4.4.2.2" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.3.cmml"><mo id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.3" stretchy="false" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.3.cmml">(</mo><mrow id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.cmml"><msub id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.cmml"><mover accent="true" id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2.cmml"><mi id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2.2" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2.2.cmml">𝔼</mi><mo id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2.1" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2.1.cmml">^</mo></mover><msub id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.cmml"><mi id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.2" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.2.cmml">π</mi><mi id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.3" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.3.cmml">α</mi></msub></msub><mo id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.1" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.1.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.3.2" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.3.1.cmml"><mo id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.3.2.1" stretchy="false" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.3.1.1.cmml">[</mo><mi id="S4.SS3.SSS1.p8.4.m4.1.1" mathvariant="normal" xref="S4.SS3.SSS1.p8.4.m4.1.1.cmml">P</mi><mo id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.3.2.2" stretchy="false" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.4" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.3.cmml">,</mo><mrow id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.cmml"><msub id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.cmml"><mover accent="true" id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2.cmml"><mi id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2.2" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2.2.cmml">𝔼</mi><mo id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2.1" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2.1.cmml">^</mo></mover><msub id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.cmml"><mi id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.2" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.3" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.3.cmml">𝒫</mi></msub></msub><mo id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.1" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.1.cmml">⁢</mo><mrow id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.3.2" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.3.1.cmml"><mo id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.3.2.1" stretchy="false" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.3.1.1.cmml">[</mo><mi id="S4.SS3.SSS1.p8.4.m4.2.2" mathvariant="normal" xref="S4.SS3.SSS1.p8.4.m4.2.2.cmml">P</mi><mo id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.3.2.2" stretchy="false" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.5" stretchy="false" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p8.4.m4.4b"><apply id="S4.SS3.SSS1.p8.4.m4.4.4.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4"><times id="S4.SS3.SSS1.p8.4.m4.4.4.3.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.3"></times><apply id="S4.SS3.SSS1.p8.4.m4.4.4.4.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.4"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.4.m4.4.4.4.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.4">subscript</csymbol><ci id="S4.SS3.SSS1.p8.4.m4.4.4.4.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.2">Δ</ci><apply id="S4.SS3.SSS1.p8.4.m4.4.4.4.3.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.4.m4.4.4.4.3.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3">subscript</csymbol><apply id="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2"><ci id="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2.1">^</ci><ci id="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3.2.2">𝒮</ci></apply><ci id="S4.SS3.SSS1.p8.4.m4.4.4.4.3.3.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.4.3.3">𝑝</ci></apply></apply><interval closure="open" id="S4.SS3.SSS1.p8.4.m4.4.4.2.3.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2"><apply id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1"><times id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.1"></times><apply id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2">subscript</csymbol><apply id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2"><ci id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2.1">^</ci><ci id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.2.2">𝔼</ci></apply><apply id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3">subscript</csymbol><ci id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.2">𝜋</ci><ci id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.3.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.2.3.3">𝛼</ci></apply></apply><apply id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.3.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.3.2"><csymbol cd="latexml" id="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.3.1.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.3.3.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S4.SS3.SSS1.p8.4.m4.1.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.1.1">P</ci></apply></apply><apply id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2"><times id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.1"></times><apply id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2">subscript</csymbol><apply id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2"><ci id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2.1">^</ci><ci id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.2.2">𝔼</ci></apply><apply id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3">subscript</csymbol><ci id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.2">𝜋</ci><ci id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.3.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.2.3.3">𝒫</ci></apply></apply><apply id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.3.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.3.2"><csymbol cd="latexml" id="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.3.1.1.cmml" xref="S4.SS3.SSS1.p8.4.m4.4.4.2.2.2.3.2.1">delimited-[]</csymbol><ci id="S4.SS3.SSS1.p8.4.m4.2.2.cmml" xref="S4.SS3.SSS1.p8.4.m4.2.2">P</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p8.4.m4.4c">\Delta_{\hat{\mathcal{S}}_{p}}(\hat{\mathbb{E}}_{\pi_{\mathcal{\alpha}}}[%
\mathrm{P}],\hat{\mathbb{E}}_{\pi_{\mathcal{P}}}[\mathrm{P}])</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p8.4.m4.4d">roman_Δ start_POSTSUBSCRIPT over^ start_ARG caligraphic_S end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_P ] , over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_P ] )</annotation></semantics></math>, particularly in low value price segments, which constitute a high proportion of the overall number of purchases.
An interesting observation, however, is that focusing more on an engagement-based objective is helpful for driving even higher expected number of purchases in higher price segments.
We leave deeper dives on the observed trade offs for future work.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S4.F2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="259" id="S4.F2.g1" src="https://arxiv.org/html/2410.04568v1/extracted/5905376/EngagementValueBin.png" width="357">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 2. </span><span class="ltx_text" id="S4.F2.4.2" style="font-size:90%;">Counterfactual estimate for lift in the expected clicks <math alttext="\Delta_{\hat{\mathcal{S}}_{p}}(\hat{\mathbb{E}}_{\pi_{\mathcal{\alpha}}}[%
\mathrm{C}],\hat{\mathbb{E}}_{\pi_{\mathcal{P}}}[\mathrm{C}])" class="ltx_Math" display="inline" id="S4.F2.3.1.m1.4"><semantics id="S4.F2.3.1.m1.4b"><mrow id="S4.F2.3.1.m1.4.4" xref="S4.F2.3.1.m1.4.4.cmml"><msub id="S4.F2.3.1.m1.4.4.4" xref="S4.F2.3.1.m1.4.4.4.cmml"><mi id="S4.F2.3.1.m1.4.4.4.2" mathvariant="normal" xref="S4.F2.3.1.m1.4.4.4.2.cmml">Δ</mi><msub id="S4.F2.3.1.m1.4.4.4.3" xref="S4.F2.3.1.m1.4.4.4.3.cmml"><mover accent="true" id="S4.F2.3.1.m1.4.4.4.3.2" xref="S4.F2.3.1.m1.4.4.4.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.F2.3.1.m1.4.4.4.3.2.2" xref="S4.F2.3.1.m1.4.4.4.3.2.2.cmml">𝒮</mi><mo id="S4.F2.3.1.m1.4.4.4.3.2.1" xref="S4.F2.3.1.m1.4.4.4.3.2.1.cmml">^</mo></mover><mi id="S4.F2.3.1.m1.4.4.4.3.3" xref="S4.F2.3.1.m1.4.4.4.3.3.cmml">p</mi></msub></msub><mo id="S4.F2.3.1.m1.4.4.3" xref="S4.F2.3.1.m1.4.4.3.cmml">⁢</mo><mrow id="S4.F2.3.1.m1.4.4.2.2" xref="S4.F2.3.1.m1.4.4.2.3.cmml"><mo id="S4.F2.3.1.m1.4.4.2.2.3" stretchy="false" xref="S4.F2.3.1.m1.4.4.2.3.cmml">(</mo><mrow id="S4.F2.3.1.m1.3.3.1.1.1" xref="S4.F2.3.1.m1.3.3.1.1.1.cmml"><msub id="S4.F2.3.1.m1.3.3.1.1.1.2" xref="S4.F2.3.1.m1.3.3.1.1.1.2.cmml"><mover accent="true" id="S4.F2.3.1.m1.3.3.1.1.1.2.2" xref="S4.F2.3.1.m1.3.3.1.1.1.2.2.cmml"><mi id="S4.F2.3.1.m1.3.3.1.1.1.2.2.2" xref="S4.F2.3.1.m1.3.3.1.1.1.2.2.2.cmml">𝔼</mi><mo id="S4.F2.3.1.m1.3.3.1.1.1.2.2.1" xref="S4.F2.3.1.m1.3.3.1.1.1.2.2.1.cmml">^</mo></mover><msub id="S4.F2.3.1.m1.3.3.1.1.1.2.3" xref="S4.F2.3.1.m1.3.3.1.1.1.2.3.cmml"><mi id="S4.F2.3.1.m1.3.3.1.1.1.2.3.2" xref="S4.F2.3.1.m1.3.3.1.1.1.2.3.2.cmml">π</mi><mi id="S4.F2.3.1.m1.3.3.1.1.1.2.3.3" xref="S4.F2.3.1.m1.3.3.1.1.1.2.3.3.cmml">α</mi></msub></msub><mo id="S4.F2.3.1.m1.3.3.1.1.1.1" xref="S4.F2.3.1.m1.3.3.1.1.1.1.cmml">⁢</mo><mrow id="S4.F2.3.1.m1.3.3.1.1.1.3.2" xref="S4.F2.3.1.m1.3.3.1.1.1.3.1.cmml"><mo id="S4.F2.3.1.m1.3.3.1.1.1.3.2.1" stretchy="false" xref="S4.F2.3.1.m1.3.3.1.1.1.3.1.1.cmml">[</mo><mi id="S4.F2.3.1.m1.1.1" mathvariant="normal" xref="S4.F2.3.1.m1.1.1.cmml">C</mi><mo id="S4.F2.3.1.m1.3.3.1.1.1.3.2.2" stretchy="false" xref="S4.F2.3.1.m1.3.3.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S4.F2.3.1.m1.4.4.2.2.4" xref="S4.F2.3.1.m1.4.4.2.3.cmml">,</mo><mrow id="S4.F2.3.1.m1.4.4.2.2.2" xref="S4.F2.3.1.m1.4.4.2.2.2.cmml"><msub id="S4.F2.3.1.m1.4.4.2.2.2.2" xref="S4.F2.3.1.m1.4.4.2.2.2.2.cmml"><mover accent="true" id="S4.F2.3.1.m1.4.4.2.2.2.2.2" xref="S4.F2.3.1.m1.4.4.2.2.2.2.2.cmml"><mi id="S4.F2.3.1.m1.4.4.2.2.2.2.2.2" xref="S4.F2.3.1.m1.4.4.2.2.2.2.2.2.cmml">𝔼</mi><mo id="S4.F2.3.1.m1.4.4.2.2.2.2.2.1" xref="S4.F2.3.1.m1.4.4.2.2.2.2.2.1.cmml">^</mo></mover><msub id="S4.F2.3.1.m1.4.4.2.2.2.2.3" xref="S4.F2.3.1.m1.4.4.2.2.2.2.3.cmml"><mi id="S4.F2.3.1.m1.4.4.2.2.2.2.3.2" xref="S4.F2.3.1.m1.4.4.2.2.2.2.3.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.F2.3.1.m1.4.4.2.2.2.2.3.3" xref="S4.F2.3.1.m1.4.4.2.2.2.2.3.3.cmml">𝒫</mi></msub></msub><mo id="S4.F2.3.1.m1.4.4.2.2.2.1" xref="S4.F2.3.1.m1.4.4.2.2.2.1.cmml">⁢</mo><mrow id="S4.F2.3.1.m1.4.4.2.2.2.3.2" xref="S4.F2.3.1.m1.4.4.2.2.2.3.1.cmml"><mo id="S4.F2.3.1.m1.4.4.2.2.2.3.2.1" stretchy="false" xref="S4.F2.3.1.m1.4.4.2.2.2.3.1.1.cmml">[</mo><mi id="S4.F2.3.1.m1.2.2" mathvariant="normal" xref="S4.F2.3.1.m1.2.2.cmml">C</mi><mo id="S4.F2.3.1.m1.4.4.2.2.2.3.2.2" stretchy="false" xref="S4.F2.3.1.m1.4.4.2.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S4.F2.3.1.m1.4.4.2.2.5" stretchy="false" xref="S4.F2.3.1.m1.4.4.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F2.3.1.m1.4c"><apply id="S4.F2.3.1.m1.4.4.cmml" xref="S4.F2.3.1.m1.4.4"><times id="S4.F2.3.1.m1.4.4.3.cmml" xref="S4.F2.3.1.m1.4.4.3"></times><apply id="S4.F2.3.1.m1.4.4.4.cmml" xref="S4.F2.3.1.m1.4.4.4"><csymbol cd="ambiguous" id="S4.F2.3.1.m1.4.4.4.1.cmml" xref="S4.F2.3.1.m1.4.4.4">subscript</csymbol><ci id="S4.F2.3.1.m1.4.4.4.2.cmml" xref="S4.F2.3.1.m1.4.4.4.2">Δ</ci><apply id="S4.F2.3.1.m1.4.4.4.3.cmml" xref="S4.F2.3.1.m1.4.4.4.3"><csymbol cd="ambiguous" id="S4.F2.3.1.m1.4.4.4.3.1.cmml" xref="S4.F2.3.1.m1.4.4.4.3">subscript</csymbol><apply id="S4.F2.3.1.m1.4.4.4.3.2.cmml" xref="S4.F2.3.1.m1.4.4.4.3.2"><ci id="S4.F2.3.1.m1.4.4.4.3.2.1.cmml" xref="S4.F2.3.1.m1.4.4.4.3.2.1">^</ci><ci id="S4.F2.3.1.m1.4.4.4.3.2.2.cmml" xref="S4.F2.3.1.m1.4.4.4.3.2.2">𝒮</ci></apply><ci id="S4.F2.3.1.m1.4.4.4.3.3.cmml" xref="S4.F2.3.1.m1.4.4.4.3.3">𝑝</ci></apply></apply><interval closure="open" id="S4.F2.3.1.m1.4.4.2.3.cmml" xref="S4.F2.3.1.m1.4.4.2.2"><apply id="S4.F2.3.1.m1.3.3.1.1.1.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1"><times id="S4.F2.3.1.m1.3.3.1.1.1.1.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.1"></times><apply id="S4.F2.3.1.m1.3.3.1.1.1.2.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S4.F2.3.1.m1.3.3.1.1.1.2.1.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.2">subscript</csymbol><apply id="S4.F2.3.1.m1.3.3.1.1.1.2.2.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.2.2"><ci id="S4.F2.3.1.m1.3.3.1.1.1.2.2.1.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.2.2.1">^</ci><ci id="S4.F2.3.1.m1.3.3.1.1.1.2.2.2.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.2.2.2">𝔼</ci></apply><apply id="S4.F2.3.1.m1.3.3.1.1.1.2.3.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.F2.3.1.m1.3.3.1.1.1.2.3.1.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.2.3">subscript</csymbol><ci id="S4.F2.3.1.m1.3.3.1.1.1.2.3.2.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.2.3.2">𝜋</ci><ci id="S4.F2.3.1.m1.3.3.1.1.1.2.3.3.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.2.3.3">𝛼</ci></apply></apply><apply id="S4.F2.3.1.m1.3.3.1.1.1.3.1.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.3.2"><csymbol cd="latexml" id="S4.F2.3.1.m1.3.3.1.1.1.3.1.1.cmml" xref="S4.F2.3.1.m1.3.3.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S4.F2.3.1.m1.1.1.cmml" xref="S4.F2.3.1.m1.1.1">C</ci></apply></apply><apply id="S4.F2.3.1.m1.4.4.2.2.2.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2"><times id="S4.F2.3.1.m1.4.4.2.2.2.1.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.1"></times><apply id="S4.F2.3.1.m1.4.4.2.2.2.2.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S4.F2.3.1.m1.4.4.2.2.2.2.1.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.2">subscript</csymbol><apply id="S4.F2.3.1.m1.4.4.2.2.2.2.2.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.2.2"><ci id="S4.F2.3.1.m1.4.4.2.2.2.2.2.1.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.2.2.1">^</ci><ci id="S4.F2.3.1.m1.4.4.2.2.2.2.2.2.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.2.2.2">𝔼</ci></apply><apply id="S4.F2.3.1.m1.4.4.2.2.2.2.3.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.F2.3.1.m1.4.4.2.2.2.2.3.1.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.2.3">subscript</csymbol><ci id="S4.F2.3.1.m1.4.4.2.2.2.2.3.2.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.2.3.2">𝜋</ci><ci id="S4.F2.3.1.m1.4.4.2.2.2.2.3.3.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.2.3.3">𝒫</ci></apply></apply><apply id="S4.F2.3.1.m1.4.4.2.2.2.3.1.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.3.2"><csymbol cd="latexml" id="S4.F2.3.1.m1.4.4.2.2.2.3.1.1.cmml" xref="S4.F2.3.1.m1.4.4.2.2.2.3.2.1">delimited-[]</csymbol><ci id="S4.F2.3.1.m1.2.2.cmml" xref="S4.F2.3.1.m1.2.2">C</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.3.1.m1.4d">\Delta_{\hat{\mathcal{S}}_{p}}(\hat{\mathbb{E}}_{\pi_{\mathcal{\alpha}}}[%
\mathrm{C}],\hat{\mathbb{E}}_{\pi_{\mathcal{P}}}[\mathrm{C}])</annotation><annotation encoding="application/x-llamapun" id="S4.F2.3.1.m1.4e">roman_Δ start_POSTSUBSCRIPT over^ start_ARG caligraphic_S end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_C ] , over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_C ] )</annotation></semantics></math> across price segments as a function of <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.F2.4.2.m2.1"><semantics id="S4.F2.4.2.m2.1b"><mi id="S4.F2.4.2.m2.1.1" xref="S4.F2.4.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.F2.4.2.m2.1c"><ci id="S4.F2.4.2.m2.1.1.cmml" xref="S4.F2.4.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.4.2.m2.1d">\alpha</annotation><annotation encoding="application/x-llamapun" id="S4.F2.4.2.m2.1e">italic_α</annotation></semantics></math>.</span></figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="259" id="S4.F3.g1" src="https://arxiv.org/html/2410.04568v1/extracted/5905376/AcquisitionValueBin.png" width="357">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3. </span><span class="ltx_text" id="S4.F3.4.2" style="font-size:90%;">Counterfactual estimate for lift in the expected purchases <math alttext="\Delta_{\hat{\mathcal{S}}_{p}}(\hat{\mathbb{E}}_{\pi_{\mathcal{\alpha}}}[%
\mathrm{P}],\hat{\mathbb{E}}_{\pi_{\mathcal{P}}}[\mathrm{P}])" class="ltx_Math" display="inline" id="S4.F3.3.1.m1.4"><semantics id="S4.F3.3.1.m1.4b"><mrow id="S4.F3.3.1.m1.4.4" xref="S4.F3.3.1.m1.4.4.cmml"><msub id="S4.F3.3.1.m1.4.4.4" xref="S4.F3.3.1.m1.4.4.4.cmml"><mi id="S4.F3.3.1.m1.4.4.4.2" mathvariant="normal" xref="S4.F3.3.1.m1.4.4.4.2.cmml">Δ</mi><msub id="S4.F3.3.1.m1.4.4.4.3" xref="S4.F3.3.1.m1.4.4.4.3.cmml"><mover accent="true" id="S4.F3.3.1.m1.4.4.4.3.2" xref="S4.F3.3.1.m1.4.4.4.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.F3.3.1.m1.4.4.4.3.2.2" xref="S4.F3.3.1.m1.4.4.4.3.2.2.cmml">𝒮</mi><mo id="S4.F3.3.1.m1.4.4.4.3.2.1" xref="S4.F3.3.1.m1.4.4.4.3.2.1.cmml">^</mo></mover><mi id="S4.F3.3.1.m1.4.4.4.3.3" xref="S4.F3.3.1.m1.4.4.4.3.3.cmml">p</mi></msub></msub><mo id="S4.F3.3.1.m1.4.4.3" xref="S4.F3.3.1.m1.4.4.3.cmml">⁢</mo><mrow id="S4.F3.3.1.m1.4.4.2.2" xref="S4.F3.3.1.m1.4.4.2.3.cmml"><mo id="S4.F3.3.1.m1.4.4.2.2.3" stretchy="false" xref="S4.F3.3.1.m1.4.4.2.3.cmml">(</mo><mrow id="S4.F3.3.1.m1.3.3.1.1.1" xref="S4.F3.3.1.m1.3.3.1.1.1.cmml"><msub id="S4.F3.3.1.m1.3.3.1.1.1.2" xref="S4.F3.3.1.m1.3.3.1.1.1.2.cmml"><mover accent="true" id="S4.F3.3.1.m1.3.3.1.1.1.2.2" xref="S4.F3.3.1.m1.3.3.1.1.1.2.2.cmml"><mi id="S4.F3.3.1.m1.3.3.1.1.1.2.2.2" xref="S4.F3.3.1.m1.3.3.1.1.1.2.2.2.cmml">𝔼</mi><mo id="S4.F3.3.1.m1.3.3.1.1.1.2.2.1" xref="S4.F3.3.1.m1.3.3.1.1.1.2.2.1.cmml">^</mo></mover><msub id="S4.F3.3.1.m1.3.3.1.1.1.2.3" xref="S4.F3.3.1.m1.3.3.1.1.1.2.3.cmml"><mi id="S4.F3.3.1.m1.3.3.1.1.1.2.3.2" xref="S4.F3.3.1.m1.3.3.1.1.1.2.3.2.cmml">π</mi><mi id="S4.F3.3.1.m1.3.3.1.1.1.2.3.3" xref="S4.F3.3.1.m1.3.3.1.1.1.2.3.3.cmml">α</mi></msub></msub><mo id="S4.F3.3.1.m1.3.3.1.1.1.1" xref="S4.F3.3.1.m1.3.3.1.1.1.1.cmml">⁢</mo><mrow id="S4.F3.3.1.m1.3.3.1.1.1.3.2" xref="S4.F3.3.1.m1.3.3.1.1.1.3.1.cmml"><mo id="S4.F3.3.1.m1.3.3.1.1.1.3.2.1" stretchy="false" xref="S4.F3.3.1.m1.3.3.1.1.1.3.1.1.cmml">[</mo><mi id="S4.F3.3.1.m1.1.1" mathvariant="normal" xref="S4.F3.3.1.m1.1.1.cmml">P</mi><mo id="S4.F3.3.1.m1.3.3.1.1.1.3.2.2" stretchy="false" xref="S4.F3.3.1.m1.3.3.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S4.F3.3.1.m1.4.4.2.2.4" xref="S4.F3.3.1.m1.4.4.2.3.cmml">,</mo><mrow id="S4.F3.3.1.m1.4.4.2.2.2" xref="S4.F3.3.1.m1.4.4.2.2.2.cmml"><msub id="S4.F3.3.1.m1.4.4.2.2.2.2" xref="S4.F3.3.1.m1.4.4.2.2.2.2.cmml"><mover accent="true" id="S4.F3.3.1.m1.4.4.2.2.2.2.2" xref="S4.F3.3.1.m1.4.4.2.2.2.2.2.cmml"><mi id="S4.F3.3.1.m1.4.4.2.2.2.2.2.2" xref="S4.F3.3.1.m1.4.4.2.2.2.2.2.2.cmml">𝔼</mi><mo id="S4.F3.3.1.m1.4.4.2.2.2.2.2.1" xref="S4.F3.3.1.m1.4.4.2.2.2.2.2.1.cmml">^</mo></mover><msub id="S4.F3.3.1.m1.4.4.2.2.2.2.3" xref="S4.F3.3.1.m1.4.4.2.2.2.2.3.cmml"><mi id="S4.F3.3.1.m1.4.4.2.2.2.2.3.2" xref="S4.F3.3.1.m1.4.4.2.2.2.2.3.2.cmml">π</mi><mi class="ltx_font_mathcaligraphic" id="S4.F3.3.1.m1.4.4.2.2.2.2.3.3" xref="S4.F3.3.1.m1.4.4.2.2.2.2.3.3.cmml">𝒫</mi></msub></msub><mo id="S4.F3.3.1.m1.4.4.2.2.2.1" xref="S4.F3.3.1.m1.4.4.2.2.2.1.cmml">⁢</mo><mrow id="S4.F3.3.1.m1.4.4.2.2.2.3.2" xref="S4.F3.3.1.m1.4.4.2.2.2.3.1.cmml"><mo id="S4.F3.3.1.m1.4.4.2.2.2.3.2.1" stretchy="false" xref="S4.F3.3.1.m1.4.4.2.2.2.3.1.1.cmml">[</mo><mi id="S4.F3.3.1.m1.2.2" mathvariant="normal" xref="S4.F3.3.1.m1.2.2.cmml">P</mi><mo id="S4.F3.3.1.m1.4.4.2.2.2.3.2.2" stretchy="false" xref="S4.F3.3.1.m1.4.4.2.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S4.F3.3.1.m1.4.4.2.2.5" stretchy="false" xref="S4.F3.3.1.m1.4.4.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.3.1.m1.4c"><apply id="S4.F3.3.1.m1.4.4.cmml" xref="S4.F3.3.1.m1.4.4"><times id="S4.F3.3.1.m1.4.4.3.cmml" xref="S4.F3.3.1.m1.4.4.3"></times><apply id="S4.F3.3.1.m1.4.4.4.cmml" xref="S4.F3.3.1.m1.4.4.4"><csymbol cd="ambiguous" id="S4.F3.3.1.m1.4.4.4.1.cmml" xref="S4.F3.3.1.m1.4.4.4">subscript</csymbol><ci id="S4.F3.3.1.m1.4.4.4.2.cmml" xref="S4.F3.3.1.m1.4.4.4.2">Δ</ci><apply id="S4.F3.3.1.m1.4.4.4.3.cmml" xref="S4.F3.3.1.m1.4.4.4.3"><csymbol cd="ambiguous" id="S4.F3.3.1.m1.4.4.4.3.1.cmml" xref="S4.F3.3.1.m1.4.4.4.3">subscript</csymbol><apply id="S4.F3.3.1.m1.4.4.4.3.2.cmml" xref="S4.F3.3.1.m1.4.4.4.3.2"><ci id="S4.F3.3.1.m1.4.4.4.3.2.1.cmml" xref="S4.F3.3.1.m1.4.4.4.3.2.1">^</ci><ci id="S4.F3.3.1.m1.4.4.4.3.2.2.cmml" xref="S4.F3.3.1.m1.4.4.4.3.2.2">𝒮</ci></apply><ci id="S4.F3.3.1.m1.4.4.4.3.3.cmml" xref="S4.F3.3.1.m1.4.4.4.3.3">𝑝</ci></apply></apply><interval closure="open" id="S4.F3.3.1.m1.4.4.2.3.cmml" xref="S4.F3.3.1.m1.4.4.2.2"><apply id="S4.F3.3.1.m1.3.3.1.1.1.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1"><times id="S4.F3.3.1.m1.3.3.1.1.1.1.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.1"></times><apply id="S4.F3.3.1.m1.3.3.1.1.1.2.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S4.F3.3.1.m1.3.3.1.1.1.2.1.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.2">subscript</csymbol><apply id="S4.F3.3.1.m1.3.3.1.1.1.2.2.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.2.2"><ci id="S4.F3.3.1.m1.3.3.1.1.1.2.2.1.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.2.2.1">^</ci><ci id="S4.F3.3.1.m1.3.3.1.1.1.2.2.2.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.2.2.2">𝔼</ci></apply><apply id="S4.F3.3.1.m1.3.3.1.1.1.2.3.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.F3.3.1.m1.3.3.1.1.1.2.3.1.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.2.3">subscript</csymbol><ci id="S4.F3.3.1.m1.3.3.1.1.1.2.3.2.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.2.3.2">𝜋</ci><ci id="S4.F3.3.1.m1.3.3.1.1.1.2.3.3.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.2.3.3">𝛼</ci></apply></apply><apply id="S4.F3.3.1.m1.3.3.1.1.1.3.1.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.3.2"><csymbol cd="latexml" id="S4.F3.3.1.m1.3.3.1.1.1.3.1.1.cmml" xref="S4.F3.3.1.m1.3.3.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S4.F3.3.1.m1.1.1.cmml" xref="S4.F3.3.1.m1.1.1">P</ci></apply></apply><apply id="S4.F3.3.1.m1.4.4.2.2.2.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2"><times id="S4.F3.3.1.m1.4.4.2.2.2.1.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.1"></times><apply id="S4.F3.3.1.m1.4.4.2.2.2.2.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S4.F3.3.1.m1.4.4.2.2.2.2.1.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.2">subscript</csymbol><apply id="S4.F3.3.1.m1.4.4.2.2.2.2.2.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.2.2"><ci id="S4.F3.3.1.m1.4.4.2.2.2.2.2.1.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.2.2.1">^</ci><ci id="S4.F3.3.1.m1.4.4.2.2.2.2.2.2.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.2.2.2">𝔼</ci></apply><apply id="S4.F3.3.1.m1.4.4.2.2.2.2.3.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.F3.3.1.m1.4.4.2.2.2.2.3.1.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.2.3">subscript</csymbol><ci id="S4.F3.3.1.m1.4.4.2.2.2.2.3.2.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.2.3.2">𝜋</ci><ci id="S4.F3.3.1.m1.4.4.2.2.2.2.3.3.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.2.3.3">𝒫</ci></apply></apply><apply id="S4.F3.3.1.m1.4.4.2.2.2.3.1.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.3.2"><csymbol cd="latexml" id="S4.F3.3.1.m1.4.4.2.2.2.3.1.1.cmml" xref="S4.F3.3.1.m1.4.4.2.2.2.3.2.1">delimited-[]</csymbol><ci id="S4.F3.3.1.m1.2.2.cmml" xref="S4.F3.3.1.m1.2.2">P</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.3.1.m1.4d">\Delta_{\hat{\mathcal{S}}_{p}}(\hat{\mathbb{E}}_{\pi_{\mathcal{\alpha}}}[%
\mathrm{P}],\hat{\mathbb{E}}_{\pi_{\mathcal{P}}}[\mathrm{P}])</annotation><annotation encoding="application/x-llamapun" id="S4.F3.3.1.m1.4e">roman_Δ start_POSTSUBSCRIPT over^ start_ARG caligraphic_S end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_P ] , over^ start_ARG blackboard_E end_ARG start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_P ] )</annotation></semantics></math> across price segments as a function of <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.F3.4.2.m2.1"><semantics id="S4.F3.4.2.m2.1b"><mi id="S4.F3.4.2.m2.1.1" xref="S4.F3.4.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.F3.4.2.m2.1c"><ci id="S4.F3.4.2.m2.1.1.cmml" xref="S4.F3.4.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.4.2.m2.1d">\alpha</annotation><annotation encoding="application/x-llamapun" id="S4.F3.4.2.m2.1e">italic_α</annotation></semantics></math>.</span></figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</section>
<section class="ltx_subsubsection" id="S4.SS3.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.2. </span>Tight Attribution of Purchase Events</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.SS3.SSS2.p1">
<p class="ltx_p" id="S4.SS3.SSS2.p1.3">In order to highlight the significance of the reward attribution scheme within a user session, we contrast the generalization performance of policies trained with respect to extreme choices of the query contribution distribution <math alttext="\hat{\mathbb{P}}_{\mathcal{P}}(q|s_{\prec q})" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.1.m1.1"><semantics id="S4.SS3.SSS2.p1.1.m1.1a"><mrow id="S4.SS3.SSS2.p1.1.m1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.cmml"><msub id="S4.SS3.SSS2.p1.1.m1.1.1.3" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.cmml"><mover accent="true" id="S4.SS3.SSS2.p1.1.m1.1.1.3.2" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.2.cmml"><mi id="S4.SS3.SSS2.p1.1.m1.1.1.3.2.2" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.2.2.cmml">ℙ</mi><mo id="S4.SS3.SSS2.p1.1.m1.1.1.3.2.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.2.1.cmml">^</mo></mover><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS2.p1.1.m1.1.1.3.3" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.3.cmml">𝒫</mi></msub><mo id="S4.SS3.SSS2.p1.1.m1.1.1.2" xref="S4.SS3.SSS2.p1.1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.SS3.SSS2.p1.1.m1.1.1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.cmml"><mo id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.2" stretchy="false" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.cmml"><mi id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.2" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.2.cmml">q</mi><mo fence="false" id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.1.cmml">|</mo><msub id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.2" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.2.cmml">s</mi><mrow id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.cmml"><mi id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.2" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.1.cmml">≺</mo><mi id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.3" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.3.cmml">q</mi></mrow></msub></mrow><mo id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.3" stretchy="false" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.1.m1.1b"><apply id="S4.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1"><times id="S4.SS3.SSS2.p1.1.m1.1.1.2.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.2"></times><apply id="S4.SS3.SSS2.p1.1.m1.1.1.3.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.1.m1.1.1.3.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.3">subscript</csymbol><apply id="S4.SS3.SSS2.p1.1.m1.1.1.3.2.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.2"><ci id="S4.SS3.SSS2.p1.1.m1.1.1.3.2.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.2.1">^</ci><ci id="S4.SS3.SSS2.p1.1.m1.1.1.3.2.2.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.2.2">ℙ</ci></apply><ci id="S4.SS3.SSS2.p1.1.m1.1.1.3.3.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.3">𝒫</ci></apply><apply id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1"><csymbol cd="latexml" id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.2">𝑞</ci><apply id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.2">𝑠</ci><apply id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3"><csymbol cd="latexml" id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.1">precedes</csymbol><csymbol cd="latexml" id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.2.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.2">absent</csymbol><ci id="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.3.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.1.1.3.3.3">𝑞</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.1.m1.1c">\hat{\mathbb{P}}_{\mathcal{P}}(q|s_{\prec q})</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.1.m1.1d">over^ start_ARG blackboard_P end_ARG start_POSTSUBSCRIPT caligraphic_P end_POSTSUBSCRIPT ( italic_q | italic_s start_POSTSUBSCRIPT ≺ italic_q end_POSTSUBSCRIPT )</annotation></semantics></math>.
Specifically, we contrast the performance of a policy <math alttext="\pi_{t}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.2.m2.1"><semantics id="S4.SS3.SSS2.p1.2.m2.1a"><msub id="S4.SS3.SSS2.p1.2.m2.1.1" xref="S4.SS3.SSS2.p1.2.m2.1.1.cmml"><mi id="S4.SS3.SSS2.p1.2.m2.1.1.2" xref="S4.SS3.SSS2.p1.2.m2.1.1.2.cmml">π</mi><mi id="S4.SS3.SSS2.p1.2.m2.1.1.3" xref="S4.SS3.SSS2.p1.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.2.m2.1b"><apply id="S4.SS3.SSS2.p1.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.2.m2.1.1.1.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p1.2.m2.1.1.2.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.1.2">𝜋</ci><ci id="S4.SS3.SSS2.p1.2.m2.1.1.3.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.2.m2.1c">\pi_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.2.m2.1d">italic_π start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> trained on a session value distribution with a tight attribution of success events to search events, similar to the last touch scheme discussed earlier, to a policy <math alttext="\pi_{l}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.3.m3.1"><semantics id="S4.SS3.SSS2.p1.3.m3.1a"><msub id="S4.SS3.SSS2.p1.3.m3.1.1" xref="S4.SS3.SSS2.p1.3.m3.1.1.cmml"><mi id="S4.SS3.SSS2.p1.3.m3.1.1.2" xref="S4.SS3.SSS2.p1.3.m3.1.1.2.cmml">π</mi><mi id="S4.SS3.SSS2.p1.3.m3.1.1.3" xref="S4.SS3.SSS2.p1.3.m3.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.3.m3.1b"><apply id="S4.SS3.SSS2.p1.3.m3.1.1.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.3.m3.1.1.1.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p1.3.m3.1.1.2.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.1.2">𝜋</ci><ci id="S4.SS3.SSS2.p1.3.m3.1.1.3.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.3.m3.1c">\pi_{l}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p1.3.m3.1d">italic_π start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> trained with respect to a loose multi-touch attribution of success events to search events, similar to the all touch scheme discussed earlier.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_table" id="S4.T2">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.1.1">
<th class="ltx_td ltx_th ltx_th_column" id="S4.T2.1.1.2"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" colspan="3" id="S4.T2.1.1.1"><math alttext="\Delta_{\mathcal{S}_{p}}(m_{\pi_{l}},m_{\pi_{t}})" class="ltx_Math" display="inline" id="S4.T2.1.1.1.m1.2"><semantics id="S4.T2.1.1.1.m1.2a"><mrow id="S4.T2.1.1.1.m1.2.2" xref="S4.T2.1.1.1.m1.2.2.cmml"><msub id="S4.T2.1.1.1.m1.2.2.4" xref="S4.T2.1.1.1.m1.2.2.4.cmml"><mi id="S4.T2.1.1.1.m1.2.2.4.2" mathvariant="normal" xref="S4.T2.1.1.1.m1.2.2.4.2.cmml">Δ</mi><msub id="S4.T2.1.1.1.m1.2.2.4.3" xref="S4.T2.1.1.1.m1.2.2.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.1.1.1.m1.2.2.4.3.2" xref="S4.T2.1.1.1.m1.2.2.4.3.2.cmml">𝒮</mi><mi id="S4.T2.1.1.1.m1.2.2.4.3.3" xref="S4.T2.1.1.1.m1.2.2.4.3.3.cmml">p</mi></msub></msub><mo id="S4.T2.1.1.1.m1.2.2.3" xref="S4.T2.1.1.1.m1.2.2.3.cmml">⁢</mo><mrow id="S4.T2.1.1.1.m1.2.2.2.2" xref="S4.T2.1.1.1.m1.2.2.2.3.cmml"><mo id="S4.T2.1.1.1.m1.2.2.2.2.3" stretchy="false" xref="S4.T2.1.1.1.m1.2.2.2.3.cmml">(</mo><msub id="S4.T2.1.1.1.m1.1.1.1.1.1" xref="S4.T2.1.1.1.m1.1.1.1.1.1.cmml"><mi id="S4.T2.1.1.1.m1.1.1.1.1.1.2" xref="S4.T2.1.1.1.m1.1.1.1.1.1.2.cmml">m</mi><msub id="S4.T2.1.1.1.m1.1.1.1.1.1.3" xref="S4.T2.1.1.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.T2.1.1.1.m1.1.1.1.1.1.3.2" xref="S4.T2.1.1.1.m1.1.1.1.1.1.3.2.cmml">π</mi><mi id="S4.T2.1.1.1.m1.1.1.1.1.1.3.3" xref="S4.T2.1.1.1.m1.1.1.1.1.1.3.3.cmml">l</mi></msub></msub><mo id="S4.T2.1.1.1.m1.2.2.2.2.4" xref="S4.T2.1.1.1.m1.2.2.2.3.cmml">,</mo><msub id="S4.T2.1.1.1.m1.2.2.2.2.2" xref="S4.T2.1.1.1.m1.2.2.2.2.2.cmml"><mi id="S4.T2.1.1.1.m1.2.2.2.2.2.2" xref="S4.T2.1.1.1.m1.2.2.2.2.2.2.cmml">m</mi><msub id="S4.T2.1.1.1.m1.2.2.2.2.2.3" xref="S4.T2.1.1.1.m1.2.2.2.2.2.3.cmml"><mi id="S4.T2.1.1.1.m1.2.2.2.2.2.3.2" xref="S4.T2.1.1.1.m1.2.2.2.2.2.3.2.cmml">π</mi><mi id="S4.T2.1.1.1.m1.2.2.2.2.2.3.3" xref="S4.T2.1.1.1.m1.2.2.2.2.2.3.3.cmml">t</mi></msub></msub><mo id="S4.T2.1.1.1.m1.2.2.2.2.5" stretchy="false" xref="S4.T2.1.1.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.2b"><apply id="S4.T2.1.1.1.m1.2.2.cmml" xref="S4.T2.1.1.1.m1.2.2"><times id="S4.T2.1.1.1.m1.2.2.3.cmml" xref="S4.T2.1.1.1.m1.2.2.3"></times><apply id="S4.T2.1.1.1.m1.2.2.4.cmml" xref="S4.T2.1.1.1.m1.2.2.4"><csymbol cd="ambiguous" id="S4.T2.1.1.1.m1.2.2.4.1.cmml" xref="S4.T2.1.1.1.m1.2.2.4">subscript</csymbol><ci id="S4.T2.1.1.1.m1.2.2.4.2.cmml" xref="S4.T2.1.1.1.m1.2.2.4.2">Δ</ci><apply id="S4.T2.1.1.1.m1.2.2.4.3.cmml" xref="S4.T2.1.1.1.m1.2.2.4.3"><csymbol cd="ambiguous" id="S4.T2.1.1.1.m1.2.2.4.3.1.cmml" xref="S4.T2.1.1.1.m1.2.2.4.3">subscript</csymbol><ci id="S4.T2.1.1.1.m1.2.2.4.3.2.cmml" xref="S4.T2.1.1.1.m1.2.2.4.3.2">𝒮</ci><ci id="S4.T2.1.1.1.m1.2.2.4.3.3.cmml" xref="S4.T2.1.1.1.m1.2.2.4.3.3">𝑝</ci></apply></apply><interval closure="open" id="S4.T2.1.1.1.m1.2.2.2.3.cmml" xref="S4.T2.1.1.1.m1.2.2.2.2"><apply id="S4.T2.1.1.1.m1.1.1.1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.1.1.1.m1.1.1.1.1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.T2.1.1.1.m1.1.1.1.1.1.2.cmml" xref="S4.T2.1.1.1.m1.1.1.1.1.1.2">𝑚</ci><apply id="S4.T2.1.1.1.m1.1.1.1.1.1.3.cmml" xref="S4.T2.1.1.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.1.1.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.T2.1.1.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.T2.1.1.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.T2.1.1.1.m1.1.1.1.1.1.3.2">𝜋</ci><ci id="S4.T2.1.1.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.T2.1.1.1.m1.1.1.1.1.1.3.3">𝑙</ci></apply></apply><apply id="S4.T2.1.1.1.m1.2.2.2.2.2.cmml" xref="S4.T2.1.1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.T2.1.1.1.m1.2.2.2.2.2.1.cmml" xref="S4.T2.1.1.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S4.T2.1.1.1.m1.2.2.2.2.2.2.cmml" xref="S4.T2.1.1.1.m1.2.2.2.2.2.2">𝑚</ci><apply id="S4.T2.1.1.1.m1.2.2.2.2.2.3.cmml" xref="S4.T2.1.1.1.m1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.1.1.1.m1.2.2.2.2.2.3.1.cmml" xref="S4.T2.1.1.1.m1.2.2.2.2.2.3">subscript</csymbol><ci id="S4.T2.1.1.1.m1.2.2.2.2.2.3.2.cmml" xref="S4.T2.1.1.1.m1.2.2.2.2.2.3.2">𝜋</ci><ci id="S4.T2.1.1.1.m1.2.2.2.2.2.3.3.cmml" xref="S4.T2.1.1.1.m1.2.2.2.2.2.3.3">𝑡</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.2c">\Delta_{\mathcal{S}_{p}}(m_{\pi_{l}},m_{\pi_{t}})</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.m1.2d">roman_Δ start_POSTSUBSCRIPT caligraphic_S start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( italic_m start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_m start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.2.2">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T2.2.2.1">Price Intent Buckets <math alttext="p" class="ltx_Math" display="inline" id="S4.T2.2.2.1.m1.1"><semantics id="S4.T2.2.2.1.m1.1a"><mi id="S4.T2.2.2.1.m1.1.1" xref="S4.T2.2.2.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.1.m1.1b"><ci id="S4.T2.2.2.1.m1.1.1.cmml" xref="S4.T2.2.2.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.1.m1.1c">p</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.1.m1.1d">italic_p</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.2.2">Purchases</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.2.3">Engagements</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.2.4">Revenue</td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.3.1">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T2.2.3.1.1">Low</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.3.1.2">-0.95%</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.3.1.3">-0.66%</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.3.1.4">-0.68%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.4.2">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T2.2.4.2.1">Low-Moderate</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.4.2.2">+0.61%</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.4.2.3">-0.13%</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.4.2.4">-0.14%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.5.3">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T2.2.5.3.1">Moderate</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.5.3.2">+0.53%</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.5.3.3">+0.44%</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.5.3.4">-0.41%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.6.4">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T2.2.6.4.1">High</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.6.4.2">+4.10%</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.6.4.3">+0.94%</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.6.4.4">+1.35%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.7.5">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="S4.T2.2.7.5.1">Very High</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T2.2.7.5.2">+3.89%</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T2.2.7.5.3">+0.74%</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T2.2.7.5.4">+2.11%</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span><span class="ltx_text" id="S4.T2.4.1" style="font-size:90%;">Online AB Test Results contrasting policies trained on extreme success attribution schemes</span></figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.SS3.SSS2.p2">
<p class="ltx_p" id="S4.SS3.SSS2.p2.1">While the overall cumulative rewards do not show sizable performance trade-offs between the two extreme policies, we highlight substantially different effect sizes across different purchase price intents. Table <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.T2" title="Table 2 ‣ 4.3.2. Tight Attribution of Purchase Events ‣ 4.3. Research Questions ‣ 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">2</span></a> clearly demonstrates that a loose attribution scheme for the empirical query contribution distribution helps with a significant improved generalization in higher price intent sessions, which tend to be more exploratory and involve multiple ranking intervention touch points.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS3.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.3. </span>Purchase Price in Marketplace Reward</h4><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.SS3.SSS3.p1">
<p class="ltx_p" id="S4.SS3.SSS3.p1.4">Finally, in order to highlight the significance of incorporating the purchase price in the session value distribution for a revenue focused marketplace reward, we highlight the results from an online AB test on a simple value-aware policy <math alttext="\pi_{\text{v}}" class="ltx_Math" display="inline" id="S4.SS3.SSS3.p1.1.m1.1"><semantics id="S4.SS3.SSS3.p1.1.m1.1a"><msub id="S4.SS3.SSS3.p1.1.m1.1.1" xref="S4.SS3.SSS3.p1.1.m1.1.1.cmml"><mi id="S4.SS3.SSS3.p1.1.m1.1.1.2" xref="S4.SS3.SSS3.p1.1.m1.1.1.2.cmml">π</mi><mtext id="S4.SS3.SSS3.p1.1.m1.1.1.3" xref="S4.SS3.SSS3.p1.1.m1.1.1.3a.cmml">v</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.1.m1.1b"><apply id="S4.SS3.SSS3.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p1.1.m1.1.1.1.cmml" xref="S4.SS3.SSS3.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS3.p1.1.m1.1.1.2.cmml" xref="S4.SS3.SSS3.p1.1.m1.1.1.2">𝜋</ci><ci id="S4.SS3.SSS3.p1.1.m1.1.1.3a.cmml" xref="S4.SS3.SSS3.p1.1.m1.1.1.3"><mtext id="S4.SS3.SSS3.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S4.SS3.SSS3.p1.1.m1.1.1.3">v</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.1.m1.1c">\pi_{\text{v}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS3.p1.1.m1.1d">italic_π start_POSTSUBSCRIPT v end_POSTSUBSCRIPT</annotation></semantics></math> in contrast to a value oblivious acquisition driven policy <math alttext="\pi_{\text{\sout{v}}}" class="ltx_Math" display="inline" id="S4.SS3.SSS3.p1.2.m2.1"><semantics id="S4.SS3.SSS3.p1.2.m2.1a"><msub id="S4.SS3.SSS3.p1.2.m2.1.1" xref="S4.SS3.SSS3.p1.2.m2.1.1.cmml"><mi id="S4.SS3.SSS3.p1.2.m2.1.1.2" xref="S4.SS3.SSS3.p1.2.m2.1.1.2.cmml">π</mi><mtext class="ltx_ulem_sout" id="S4.SS3.SSS3.p1.2.m2.1.1.3" xref="S4.SS3.SSS3.p1.2.m2.1.1.3a.cmml">v</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.2.m2.1b"><apply id="S4.SS3.SSS3.p1.2.m2.1.1.cmml" xref="S4.SS3.SSS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p1.2.m2.1.1.1.cmml" xref="S4.SS3.SSS3.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS3.p1.2.m2.1.1.2.cmml" xref="S4.SS3.SSS3.p1.2.m2.1.1.2">𝜋</ci><ci id="S4.SS3.SSS3.p1.2.m2.1.1.3a.cmml" xref="S4.SS3.SSS3.p1.2.m2.1.1.3"><mtext class="ltx_ulem_sout" id="S4.SS3.SSS3.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S4.SS3.SSS3.p1.2.m2.1.1.3">v</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.2.m2.1c">\pi_{\text{\sout{v}}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS3.p1.2.m2.1d">italic_π start_POSTSUBSCRIPT v end_POSTSUBSCRIPT</annotation></semantics></math>.
The primary difference between the two policies is the empirical session value distribution <math alttext="\hat{\mathbb{P}}(s)" class="ltx_Math" display="inline" id="S4.SS3.SSS3.p1.3.m3.1"><semantics id="S4.SS3.SSS3.p1.3.m3.1a"><mrow id="S4.SS3.SSS3.p1.3.m3.1.2" xref="S4.SS3.SSS3.p1.3.m3.1.2.cmml"><mover accent="true" id="S4.SS3.SSS3.p1.3.m3.1.2.2" xref="S4.SS3.SSS3.p1.3.m3.1.2.2.cmml"><mi id="S4.SS3.SSS3.p1.3.m3.1.2.2.2" xref="S4.SS3.SSS3.p1.3.m3.1.2.2.2.cmml">ℙ</mi><mo id="S4.SS3.SSS3.p1.3.m3.1.2.2.1" xref="S4.SS3.SSS3.p1.3.m3.1.2.2.1.cmml">^</mo></mover><mo id="S4.SS3.SSS3.p1.3.m3.1.2.1" xref="S4.SS3.SSS3.p1.3.m3.1.2.1.cmml">⁢</mo><mrow id="S4.SS3.SSS3.p1.3.m3.1.2.3.2" xref="S4.SS3.SSS3.p1.3.m3.1.2.cmml"><mo id="S4.SS3.SSS3.p1.3.m3.1.2.3.2.1" stretchy="false" xref="S4.SS3.SSS3.p1.3.m3.1.2.cmml">(</mo><mi id="S4.SS3.SSS3.p1.3.m3.1.1" xref="S4.SS3.SSS3.p1.3.m3.1.1.cmml">s</mi><mo id="S4.SS3.SSS3.p1.3.m3.1.2.3.2.2" stretchy="false" xref="S4.SS3.SSS3.p1.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.3.m3.1b"><apply id="S4.SS3.SSS3.p1.3.m3.1.2.cmml" xref="S4.SS3.SSS3.p1.3.m3.1.2"><times id="S4.SS3.SSS3.p1.3.m3.1.2.1.cmml" xref="S4.SS3.SSS3.p1.3.m3.1.2.1"></times><apply id="S4.SS3.SSS3.p1.3.m3.1.2.2.cmml" xref="S4.SS3.SSS3.p1.3.m3.1.2.2"><ci id="S4.SS3.SSS3.p1.3.m3.1.2.2.1.cmml" xref="S4.SS3.SSS3.p1.3.m3.1.2.2.1">^</ci><ci id="S4.SS3.SSS3.p1.3.m3.1.2.2.2.cmml" xref="S4.SS3.SSS3.p1.3.m3.1.2.2.2">ℙ</ci></apply><ci id="S4.SS3.SSS3.p1.3.m3.1.1.cmml" xref="S4.SS3.SSS3.p1.3.m3.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.3.m3.1c">\hat{\mathbb{P}}(s)</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS3.p1.3.m3.1d">over^ start_ARG blackboard_P end_ARG ( italic_s )</annotation></semantics></math> in the corresponding expected reward estimate for the training objective, which depends also on the price of the sold item in the case of <math alttext="\pi_{\text{v}}" class="ltx_Math" display="inline" id="S4.SS3.SSS3.p1.4.m4.1"><semantics id="S4.SS3.SSS3.p1.4.m4.1a"><msub id="S4.SS3.SSS3.p1.4.m4.1.1" xref="S4.SS3.SSS3.p1.4.m4.1.1.cmml"><mi id="S4.SS3.SSS3.p1.4.m4.1.1.2" xref="S4.SS3.SSS3.p1.4.m4.1.1.2.cmml">π</mi><mtext id="S4.SS3.SSS3.p1.4.m4.1.1.3" xref="S4.SS3.SSS3.p1.4.m4.1.1.3a.cmml">v</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.4.m4.1b"><apply id="S4.SS3.SSS3.p1.4.m4.1.1.cmml" xref="S4.SS3.SSS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p1.4.m4.1.1.1.cmml" xref="S4.SS3.SSS3.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.SSS3.p1.4.m4.1.1.2.cmml" xref="S4.SS3.SSS3.p1.4.m4.1.1.2">𝜋</ci><ci id="S4.SS3.SSS3.p1.4.m4.1.1.3a.cmml" xref="S4.SS3.SSS3.p1.4.m4.1.1.3"><mtext id="S4.SS3.SSS3.p1.4.m4.1.1.3.cmml" mathsize="70%" xref="S4.SS3.SSS3.p1.4.m4.1.1.3">v</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.4.m4.1c">\pi_{\text{v}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS3.p1.4.m4.1d">italic_π start_POSTSUBSCRIPT v end_POSTSUBSCRIPT</annotation></semantics></math>, and all the other importance weighting distributions and per query reward estimates are the same.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_table" id="S4.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T3.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" id="S4.T3.1.1.1">Price Intent Buckets <math alttext="p" class="ltx_Math" display="inline" id="S4.T3.1.1.1.m1.1"><semantics id="S4.T3.1.1.1.m1.1a"><mi id="S4.T3.1.1.1.m1.1.1" xref="S4.T3.1.1.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.m1.1b"><ci id="S4.T3.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.1.1.1.m1.1c">p</annotation><annotation encoding="application/x-llamapun" id="S4.T3.1.1.1.m1.1d">italic_p</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T3.2.2.2">
<math alttext="\Delta_{\mathcal{S}_{p}}(\mathrm{Rev}_{\pi_{\text{v}}},\mathrm{Rev}_{\pi_{%
\text{\sout{v}}}}" class="ltx_math_unparsed" display="inline" id="S4.T3.2.2.2.m1.1"><semantics id="S4.T3.2.2.2.m1.1a"><mrow id="S4.T3.2.2.2.m1.1b"><msub id="S4.T3.2.2.2.m1.1.1"><mi id="S4.T3.2.2.2.m1.1.1.2" mathvariant="normal">Δ</mi><msub id="S4.T3.2.2.2.m1.1.1.3"><mi class="ltx_font_mathcaligraphic" id="S4.T3.2.2.2.m1.1.1.3.2">𝒮</mi><mi id="S4.T3.2.2.2.m1.1.1.3.3">p</mi></msub></msub><mrow id="S4.T3.2.2.2.m1.1.2"><mo id="S4.T3.2.2.2.m1.1.2.1" stretchy="false">(</mo><msub id="S4.T3.2.2.2.m1.1.2.2"><mi id="S4.T3.2.2.2.m1.1.2.2.2">Rev</mi><msub id="S4.T3.2.2.2.m1.1.2.2.3"><mi id="S4.T3.2.2.2.m1.1.2.2.3.2">π</mi><mtext id="S4.T3.2.2.2.m1.1.2.2.3.3">v</mtext></msub></msub><mo id="S4.T3.2.2.2.m1.1.2.3">,</mo><msub id="S4.T3.2.2.2.m1.1.2.4"><mi id="S4.T3.2.2.2.m1.1.2.4.2">Rev</mi><msub id="S4.T3.2.2.2.m1.1.2.4.3"><mi id="S4.T3.2.2.2.m1.1.2.4.3.2">π</mi><mtext class="ltx_ulem_sout" id="S4.T3.2.2.2.m1.1.2.4.3.3">v</mtext></msub></msub></mrow></mrow><annotation encoding="application/x-tex" id="S4.T3.2.2.2.m1.1c">\Delta_{\mathcal{S}_{p}}(\mathrm{Rev}_{\pi_{\text{v}}},\mathrm{Rev}_{\pi_{%
\text{\sout{v}}}}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.2.2.2.m1.1d">roman_Δ start_POSTSUBSCRIPT caligraphic_S start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( roman_Rev start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT v end_POSTSUBSCRIPT end_POSTSUBSCRIPT , roman_Rev start_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT v end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.2.3.1">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T3.2.3.1.1">Low</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.2.3.1.2">-1%</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.4.2">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T3.2.4.2.1">Low-Moderate</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.2.4.2.2">-0.1%</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.5.3">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T3.2.5.3.1">Moderate</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.2.5.3.2">+0.5%</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.6.4">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S4.T3.2.6.4.1">High</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.2.6.4.2">+1.3%</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.7.5">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="S4.T3.2.7.5.1">Very High</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T3.2.7.5.2">+1.9%</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3. </span><span class="ltx_text" id="S4.T3.4.1" style="font-size:90%;">Online AB test results contrasting a purchase value-aware policy against a value oblivious policy</span></figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.SS3.SSS3.p2">
<p class="ltx_p" id="S4.SS3.SSS3.p2.1">In Table <a class="ltx_ref" href="https://arxiv.org/html/2410.04568v1#S4.T3" title="Table 3 ‣ 4.3.3. Purchase Price in Marketplace Reward ‣ 4.3. Research Questions ‣ 4. Evaluations and Discussions ‣ Ranking Policy Learning via Marketplace Expected Value Estimation From Observational Data"><span class="ltx_text ltx_ref_tag">3</span></a>, we clearly see a significant shift in the distribution of the accumulated revenue across price intent segments, which signifies the importance of taking into account the sparsity of purchase events from higher price intent sessions to avoid the selection bias incurred by the value oblivious policy, which is biased towards lower price intent segments, where sessions with purchase events are abundant.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Concluding Remarks</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">We established an explicit connection between the training objective for the search ranking policy and the key performance metrics of a two-sided commerce marketplace by building effective empirical estimates of the marketplace reward from observation data.
Specifically, we highlighted the significance of the <span class="ltx_text ltx_font_italic" id="S5.p1.1.1">search context value distribution</span> in building effective empirical estimates of the marketplace expected reward to inform the training and evaluation of the search ranking policy.
We showcased empirical results from online randomized controlled experiments and counterfactual evaluations in a major e-commerce platform demonstrating the fundamental trade-offs governed by extreme choices of the context value distribution.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bottou et&nbsp;al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2013)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Léon Bottou, Jonas Peters, Joaquin Quiñonero-Candela, Denis&nbsp;X Charles, D&nbsp;Max Chickering, Elon Portugaly, Dipankar Ray, Patrice Simard, and Ed Snelson. 2013.

</span>
<span class="ltx_bibblock">Counterfactual Reasoning and Learning Systems: The Example of Computational Advertising.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">Journal of Machine Learning Research</em> 14, 11 (2013).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carmel et&nbsp;al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2020)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
David Carmel, Elad Haramaty, Arnon Lazerson, and Liane Lewin-Eytan. 2020.

</span>
<span class="ltx_bibblock">Multi-Objective Ranking Optimization for Product Search Using Stochastic Label Aggregation. In <em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">Proceedings of The Web Conference 2020</em>. 373–383.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chaudhuri et&nbsp;al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2017)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Sougata Chaudhuri, Abraham Bagherjeiran, and James Liu. 2017.

</span>
<span class="ltx_bibblock">Ranking and calibrating click-attributed purchases in performance display advertising.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">Proceedings of the ADKDD’17</em>. 1–6.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Minmin Chen, Alex Beutel, Paul Covington, Sagar Jain, Francois Belletti, and Ed&nbsp;H Chi. 2019.

</span>
<span class="ltx_bibblock">Top-k off-policy correction for a REINFORCE recommender system. In <em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">Proceedings of the Twelfth ACM International Conference on Web Search and Data Mining</em>. 456–464.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Minmin Chen, Can Xu, Vince Gatto, Devanshu Jain, Aviral Kumar, and Ed Chi. 2022.

</span>
<span class="ltx_bibblock">Off-policy actor-critic for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">Proceedings of the 16th ACM Conference on Recommender Systems</em>. 338–349.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">De&nbsp;Biasio et&nbsp;al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2023a)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Alvise De&nbsp;Biasio, Andrea Montagna, Fabio Aiolli, and Nicolò Navarin. 2023a.

</span>
<span class="ltx_bibblock">A systematic review of value-aware recommender systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">Expert Systems with Applications</em> (2023), 120131.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">De&nbsp;Biasio et&nbsp;al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2023b)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Alvise De&nbsp;Biasio, Nicolò Navarin, and Dietmar Jannach. 2023b.

</span>
<span class="ltx_bibblock">Economic recommender systems–a systematic review.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">Electronic Commerce Research and Applications</em> (2023), 101352.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dudík et&nbsp;al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2011)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Miroslav Dudík, John Langford, and Lihong Li. 2011.

</span>
<span class="ltx_bibblock">Doubly robust policy evaluation and learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">arXiv preprint arXiv:1103.4601</em> (2011).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Durrett (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Rick Durrett. 2019.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">Probability: theory and examples</em>. Vol.&nbsp;49.

</span>
<span class="ltx_bibblock">Cambridge university press.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ebrahimzadeh et&nbsp;al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Ehsan Ebrahimzadeh, Alex Cozzi, and Abraham Bagherjeiran. 2023.

</span>
<span class="ltx_bibblock">Intent-Aware Propensity Estimation via Click Pattern Stratification. In <em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">Companion Proceedings of the ACM Web Conference 2023</em>. 751–755.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ebrahimzadeh et&nbsp;al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Ehsan Ebrahimzadeh, Alex Cozzi, and Abraham Bagherjeiran. 2024.

</span>
<span class="ltx_bibblock">Counterfactual Learning to Rank via Knowledge Distillation. In <em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">Proceedings of ACM SIGIR Workshop on eCommerce (SIGIR eCom’24)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et&nbsp;al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2018)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yujing Hu, Qing Da, Anxiang Zeng, Yang Yu, and Yinghui Xu. 2018.

</span>
<span class="ltx_bibblock">Reinforcement learning to rank in e-commerce search engine: Formalization, analysis, and application. In <em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">Proceedings of the 24th ACM SIGKDD international conference on knowledge discovery &amp; data mining</em>. 368–377.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ionides (2008)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Edward&nbsp;L Ionides. 2008.

</span>
<span class="ltx_bibblock">Truncated importance sampling.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Journal of Computational and Graphical Statistics</em> 17, 2 (2008), 295–311.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ji et&nbsp;al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2016)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Wendi Ji, Xiaoling Wang, and Dell Zhang. 2016.

</span>
<span class="ltx_bibblock">A probabilistic multi-touch attribution model for online advertising. In <em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">Proceedings of the 25th acm international on conference on information and knowledge management</em>. 1373–1382.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et&nbsp;al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Jiarui Jin, Xianyu Chen, Weinan Zhang, Yuanbo Chen, Zaifan Jiang, Zekun Zhu, Zhewen Su, and Yong Yu. 2022.

</span>
<span class="ltx_bibblock">Multi-scale user behavior network for entire space multi-task learning. In <em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">Proceedings of the 31st ACM International Conference on Information &amp; Knowledge Management</em>. 874–883.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Joachims et&nbsp;al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2017)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Thorsten Joachims, Adith Swaminathan, and Tobias Schnabel. 2017.

</span>
<span class="ltx_bibblock">Unbiased learning-to-rank with biased feedback. In <em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">Proceedings of the Tenth ACM International Conference on Web Search and Data Mining</em>. ACM, 781–789.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">London et&nbsp;al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Ben London, Alexander Buchholz, Giuseppe Di&nbsp;Benedetto, Jan&nbsp;Malte Lichtenberg, Yannik Stein, and Thorsten Joachims. 2023.

</span>
<span class="ltx_bibblock">Self-normalized off-policy estimators for ranking.

</span>
<span class="ltx_bibblock">(2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et&nbsp;al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2018)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Xiao Ma, Liqin Zhao, Guan Huang, Zhi Wang, Zelin Hu, Xiaoqiang Zhu, and Kun Gai. 2018.

</span>
<span class="ltx_bibblock">Entire space multi-task model: An effective approach for estimating post-click conversion rate. In <em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">The 41st International ACM SIGIR Conference on Research &amp; Development in Information Retrieval</em>. 1137–1140.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mahapatra et&nbsp;al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Debabrata Mahapatra, Chaosheng Dong, Yetian Chen, and Michinari Momma. 2023.

</span>
<span class="ltx_bibblock">Multi-label learning to rank through multi-objective optimization. In <em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">Proceedings of the 29th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em>. 4605–4616.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mehrotra et&nbsp;al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2018)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Rishabh Mehrotra, James McInerney, Hugues Bouchard, Mounia Lalmas, and Fernando Diaz. 2018.

</span>
<span class="ltx_bibblock">Towards a fair marketplace: Counterfactual evaluation of the trade-off between relevance, fairness &amp; satisfaction in recommendation systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">Proceedings of the 27th acm international conference on information and knowledge management</em>. 2243–2251.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">O’Brien et&nbsp;al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Conor O’Brien, Kin&nbsp;Sum Liu, James Neufeld, Rafael Barreto, and Jonathan&nbsp;J Hunt. 2021.

</span>
<span class="ltx_bibblock">An analysis of entire space multi-task models for post-click conversion prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">Proceedings of the 15th ACM Conference on Recommender Systems</em>. 613–619.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oosterhuis (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Harrie Oosterhuis. 2023.

</span>
<span class="ltx_bibblock">Doubly Robust Estimation for Correcting Position Bias in Click Feedback for Unbiased Learning to Rank.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">ACM Transactions on Information Systems</em> 41, 3 (2023), 1–33.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saito (2020)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yuta Saito. 2020.

</span>
<span class="ltx_bibblock">Doubly robust estimator for ranking metrics with post-click conversions. In <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Proceedings of the 14th ACM Conference on Recommender Systems</em>. 92–100.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schnabel et&nbsp;al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2016)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Tobias Schnabel, Adith Swaminathan, Ashudeep Singh, Navin Chandak, and Thorsten Joachims. 2016.

</span>
<span class="ltx_bibblock">Recommendations as treatments: Debiasing learning and evaluation. In <em class="ltx_emph ltx_font_italic" id="bib.bib25.3.1">international conference on machine learning</em>. PMLR, 1670–1679.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Seyler et&nbsp;al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Dominic Seyler, Ehsan Ebrahimzadeh, Alex Cozzi, and Abraham Bagherjeiran. 2023.

</span>
<span class="ltx_bibblock">Aligning Ranking Objectives with E-commerce Search Intent. In <em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">Proceedings of ACM SIGIR Workshop on eCommerce (SIGIR eCom’23)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shani et&nbsp;al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2005)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Guy Shani, David Heckerman, Ronen&nbsp;I Brafman, and Craig Boutilier. 2005.

</span>
<span class="ltx_bibblock">An MDP-based recommender system.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">Journal of machine Learning research</em> 6, 9 (2005).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang et&nbsp;al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Jie Tang, Huiji Gao, Liwei He, and Sanjeev Katariya. 2024.

</span>
<span class="ltx_bibblock">Multi-objective Learning to Rank by Model Distillation. In <em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">Proceedings of the 30th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em>. 5783–5792.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tsagkias et&nbsp;al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Manos Tsagkias, Tracy&nbsp;Holloway King, Surya Kallumadi, Vanessa Murdock, and Maarten de Rijke. 2021.

</span>
<span class="ltx_bibblock">Challenges and research opportunities in ecommerce search and recommendations. In <em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">ACM Sigir Forum</em>, Vol.&nbsp;54. ACM New York, NY, USA, 1–23.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tucker and Joachims (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Aaron&nbsp;D Tucker and Thorsten Joachims. 2023.

</span>
<span class="ltx_bibblock">Variance-Minimizing Augmentation Logging for Counterfactual Evaluation in Contextual Bandits. In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of the Sixteenth ACM International Conference on Web Search and Data Mining</em>. 967–975.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Hao Wang, Tai-Wei Chang, Tianqiao Liu, Jianmin Huang, Zhichao Chen, Chao Yu, Ruopeng Li, and Wei Chu. 2022.

</span>
<span class="ltx_bibblock">ESCM2: entire space counterfactual multi-task model for post-click conversion rate estimation. In <em class="ltx_emph ltx_font_italic" id="bib.bib31.3.1">Proceedings of the 45th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 363–372.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2018a)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Xuanhui Wang, Cheng Li, Nadav Golbandi, Michael Bendersky, and Marc Najork. 2018a.

</span>
<span class="ltx_bibblock">The lambdaloss framework for ranking metric optimization. In <em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">Proceedings of the 27th ACM international conference on information and knowledge management</em>. 1313–1322.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Xiaojie Wang, Rui Zhang, Yu Sun, and Jianzhong Qi. 2019.

</span>
<span class="ltx_bibblock">Doubly robust joint learning for recommendation on data missing not at random. In <em class="ltx_emph ltx_font_italic" id="bib.bib33.3.1">International Conference on Machine Learning</em>. PMLR, 6638–6647.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2018b)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yixin Wang, Dawen Liang, Laurent Charlin, and David&nbsp;M Blei. 2018b.

</span>
<span class="ltx_bibblock">The deconfounded recommender: A causal inference approach to recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">arXiv preprint arXiv:1808.06581</em> (2018).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et&nbsp;al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2018)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Liang Wu, Diane Hu, Liangjie Hong, and Huan Liu. 2018.

</span>
<span class="ltx_bibblock">Turning clicks into purchases: Revenue optimization for product search in e-commerce. In <em class="ltx_emph ltx_font_italic" id="bib.bib35.3.1">The 41st International ACM SIGIR Conference on Research &amp; Development in Information Retrieval</em>. 365–374.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2014)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Yuyu Zhang, Hanjun Dai, Chang Xu, Jun Feng, Taifeng Wang, Jiang Bian, Bin Wang, and Tie-Yan Liu. 2014.

</span>
<span class="ltx_bibblock">Sequential click prediction for sponsored search with recurrent neural networks. In <em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">Proceedings of the AAAI conference on artificial intelligence</em>, Vol.&nbsp;28.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zou et&nbsp;al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Lixin Zou, Changying Hao, Hengyi Cai, Shuaiqiang Wang, Suqi Cheng, Zhicong Cheng, Wenwen Ye, Simiu Gu, and Dawei Yin. 2022.

</span>
<span class="ltx_bibblock">Approximated doubly robust search relevance estimation. In <em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">Proceedings of the 31st ACM International Conference on Information &amp; Knowledge Management</em>. 3756–3765.

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
</article>
</div>

</div>


<button type="button" class="btn btn-primary hover-rp-button" id="openForm">Report Issue</button><div class="modal" id="myForm" role="dialog" aria-labelledby="modal-title"><div class="modal-dialog"><form class="modal-content" id="myFormContent" enctype="multipart/form-data"><div class="modal-header" id="modal-header"><h5 class="modal-title">Report Github Issue</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><label for="form_title" id="modalTitle">Title:</label><input class="form-control" id="form_title" name="form_title" required="required" placeholder="Enter title"><label for="description" id="selectedTextModalDescription" style="display: none;">Content selection saved. Describe the issue below:</label><label for="description" id="nomralModalDescription">Description:</label><textarea class="form-control" id="description" name="description" required="required" style="height: 80px;" maxlength="500" placeholder="500 characters maximum"></textarea></div><div class="modal-footer d-flex justify-content-end"><button type="submit" class="sr-only button" id="modal-submit-sr">Submit without Github</button><button type="submit" class="btn btn-primary" id="modal-submit">Submit in Github</button></div></form></div></div><button id="small-report-button" type="button" class="btn btn-secondary btn-sm" style="background-color: rgb(179, 27, 27); position: fixed;">Report Issue for Selection</button><div class="ltx_page_footer">
        <div class="ltx_page_logo">
            Generated by
            <a href="https://math.nist.gov/~BMiller/LaTeXML/" class="ltx_LaTeXML_logo">
                <span style="letter-spacing: -0.2em; margin-right: 0.1em;">
                    L
                    <span style="font-size: 70%; position: relative; bottom: 2.2pt;">A</span>
                    T
                    <span style="position: relative; bottom: -0.4ex;">E</span>
                </span>
                <span class="ltx_font_smallcaps">xml</span>
                <img alt="[LOGO]" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==">
            </a>
        </div></div><footer id="footer" class="ltx_document">
        <div class="keyboard-glossary">
            <h2>Instructions for reporting errors</h2>
            <p>We are continuing to improve HTML versions of papers, and your feedback helps enhance accessibility and mobile support. To report errors in the HTML that will help us improve conversion and rendering, choose any of the methods listed below:</p>
            <ul>
                <li>Click the "Report Issue" button.</li>
                <li>Open a report feedback form via keyboard, use "<strong>Ctrl + ?</strong>".</li>
                <li>Make a text selection and click the "Report Issue for Selection" button near your cursor.</li>
                <li class="sr-only">You can use Alt+Y to toggle on and Alt+Shift+Y to toggle off accessible reporting links at each section.</li>
            </ul>
            <p>Our team has already identified <a class="ltx_ref" href="https://github.com/arXiv/html_feedback/issues" target="_blank">the following issues</a>. We appreciate your time reviewing and reporting rendering errors we may not have found yet. Your efforts will help us improve the HTML versions for all readers, because disability should not be a barrier to accessing research. Thank you for your continued support in championing open access for all.</p>
            <p>Have a free development cycle? Help support accessibility at arXiv! Our collaborators at LaTeXML maintain a <a class="ltx_ref" href="https://github.com/brucemiller/LaTeXML/wiki/Porting-LaTeX-packages-for-LaTeXML" target="_blank">list of packages that need conversion</a>, and welcome <a class="ltx_ref" href="https://github.com/brucemiller/LaTeXML/issues" target="_blank">developer contributions</a>.</p>
        </div>
    </footer></body></html>