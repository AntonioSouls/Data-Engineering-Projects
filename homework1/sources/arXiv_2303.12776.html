<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2303.12776] Dense Distinct Query for End-to-End Object Detection</title><meta property="og:description" content="One-to-one label assignment in object detection has successfully obviated the need for non-maximum suppression (NMS) as postprocessing and makes the pipeline end-to-end. However, it triggers a new dilemma as the widelyâ€¦">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dense Distinct Query for End-to-End Object Detection">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Dense Distinct Query for End-to-End Object Detection">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2303.12776">

<!--Generated on Thu Feb 29 19:00:07 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_pruned_first">
<h1 class="ltx_title ltx_title_document"> Dense Distinct Query for End-to-End Object Detection</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shilong Zhang<sup id="id1.1.id1" class="ltx_sup">1,3 *</sup>,   Xinjiang Wang<sup id="id2.2.id2" class="ltx_sup">2 *</sup>,  Jiaqi Wang<sup id="id3.3.id3" class="ltx_sup">1</sup>,  Jiangmiao Pang<sup id="id4.4.id4" class="ltx_sup">1</sup>, 
<br class="ltx_break">Chengqi Lyu<sup id="id5.5.id5" class="ltx_sup">1</sup>,  Wenwei Zhang<sup id="id6.6.id6" class="ltx_sup">4,1</sup>,  Ping Luo<sup id="id7.7.id7" class="ltx_sup">3,1</sup>,  Kai Chen<sup id="id8.8.id8" class="ltx_sup">1</sup>
<br class="ltx_break"><sup id="id9.9.id9" class="ltx_sup"><span id="id9.9.id9.1" class="ltx_text" style="font-size:90%;">1</span></sup><span id="id10.10.id10" class="ltx_text" style="font-size:90%;">Shanghai AI Laboratory   <sup id="id10.10.id10.1" class="ltx_sup">2</sup> SenseTime Research 
<br class="ltx_break"><sup id="id10.10.id10.2" class="ltx_sup">3</sup> The University of Hong Kong   <sup id="id10.10.id10.3" class="ltx_sup">4</sup> S-Lab, Nanyang Technological University 
<br class="ltx_break"></span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id11.id1" class="ltx_p">One-to-one label assignment in object detection has successfully obviated the need for non-maximum suppression (NMS) as postprocessing and makes the pipeline end-to-end. However, it triggers a new dilemma as the widely used sparse queries cannot guarantee a high recall, while dense queries inevitably bring more similar queries and encounter optimization difficulties. As both sparse and dense queries are problematic, then what are the expected queries in end-to-end object detection? This paper shows that the solution should be Dense Distinct Queries (DDQ). Concretely, we first lay dense queries like traditional detectors and then select distinct ones for one-to-one assignments. DDQ blends the advantages of traditional and recent end-to-end detectors and significantly improves the performance of various detectors including FCN, R-CNN, and DETRs. Most impressively, DDQ-DETR achieves 52.1 AP on MS-COCO dataset within 12 epochs using a ResNet-50 backbone, outperforming all existing detectors in the same setting. DDQ also shares the benefit of end-to-end detectors in crowded scenes and achieves 93.8 AP on CrowdHuman. We hope DDQ can inspire researchers to consider the complementarity between traditional methods and end-to-end detectors. The source code can be found at <a target="_blank" href="https://github.com/jshilong/DDQ" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/jshilong/DDQ</a>.</p>
</div>
<figure id="S0.F1" class="ltx_figure ltx_align_center"><img src="/html/2303.12776/assets/x1.png" id="S0.F1.g1" class="ltx_graphics ltx_img_landscape" width="502" height="143" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S0.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S0.F1.3.2" class="ltx_text" style="font-size:90%;">Pros and Cons of different queries and their corresponding learning paradigms. </span></figcaption>
</figure><span id="footnotex1" class="ltx_note ltx_centering ltx_role_footnotetext"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">footnotetext: </span>* Equal contribution.</span></span></span>
<section id="S1" class="ltx_section ltx_centering">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Object detection is one of the most fundamental tasks in computer vision, which aims at answering <em id="S1.p1.1.1" class="ltx_emph ltx_font_italic">what objects are in an image and where they are.</em> To achieve the objective, the detector is expected to detect all objects and mark each object with only one bounding box.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Due to the complex spatial distribution and the vast shape variance of objects, detecting all objects is quite challenging. To solve the problem, traditional detectors Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> first lay predefined dense grid queries<sup id="S1.p2.1.1" class="ltx_sup">1</sup><span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup>1 Anchors Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> or anchor points Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> in conventional detectors play the same role as sparse object queries in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. Hence, we collectively refer to densely distributed anchor boxes and anchor points as dense queries.</span></span></span> to achieve a high recall. Convolutions with shared weights are then applied to quickly process dense queries in a sliding-window manner. At last, one ground truth bounding box is assigned to multiple similar candidate queries for optimization. However, the one-to-many assignment results in redundant predictions and thus requires extra duplicate-removal operations (<em id="S1.p2.1.2" class="ltx_emph ltx_font_italic">e.g.</em>, non-maximum suppression) during inference, which causes misaligned inference with training and hinders the pipeline from being end-to-end (as shown in Fig.Â <a href="#S0.F1" title="Figure 1 â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>(a)).</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">This paradigm is broken by DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>, which assigns only one positive query to each ground truth bounding box (one-to-one assignment) to achieve end-to-end. This scheme requires heavy computation to refine queries and adopts self-attention to model interactions between queries to facilitate the optimization of one-to-one assignment, which unfortunately limits the number of queries. For example, DETR only initializes hundreds of learnable object queries. Therefore, compared to the densely distributed queries in conventional detectors, the sparse queries fall short in recall rate, as shown in Fig.Â <a href="#S0.F1" title="Figure 1 â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>(b).</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Some recent works have also tried to integrate dense queries into one-to-one assignmentÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>. However, dense queries in end-to-end detectors face unique challenges. For example, our analysis shows that this paradigm would inevitably introduce many similar queries (potentially representing the same instance) and that it suffers difficult and inefficient optimization as similar queries are assigned opposite labels under one-to-one assignment.(Fig.Â <a href="#S0.F1" title="Figure 1 â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.(c)).</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Now that both sparse queries (low recall) and dense queries (optimization difficulty) under one-to-one assignment are sub-optimal, <em id="S1.p5.1.1" class="ltx_emph ltx_font_italic">what are the expected queries in
end-to-end object detection?</em></p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">In this study, we demonstrate that the solution should be <em id="S1.p6.1.1" class="ltx_emph ltx_font_italic">dense distinct queries (DDQ)</em>, meaning that the queries for object detection should be both densely distributed to detect all objects and also distinct from each other to facilitate the optimization of one-to-one label assignment. Guided by such a principle, we consistently improve the performance of various detector architectures, including FCN, R-CNN, and DETRs. For one-stage detectors composed of fully convolutional networks (FCN), we first propose a pyramid shuffle operation to replace heavy self-attentions to model the interaction between dense queries. Then, a distinct queries selection scheme ensures that the one-to-one assignment is only imposed on the selected distinct queries, preventing contradictory labels from being assigned to similar queries. Such an end-to-end one-stage detector is named <span id="S1.p6.1.2" class="ltx_text ltx_font_bold">DDQ FCN</span> and achieves state-of-the-art performance in one-stage detectors. DDQ also naturally extends to DETR and R-CNN structuresÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> by first laying dense queries as inÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> and then selecting distinct queries for later refining stages, which are respectively dubbed <span id="S1.p6.1.3" class="ltx_text ltx_font_bold">DDQ R-CNN</span> and <span id="S1.p6.1.4" class="ltx_text ltx_font_bold">DDQ DETR</span>.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">We have conducted experiments on two datasetsâ€”MS-COCOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> and CrowdHumanÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. DDQ FCN and DDQ R-CNN obtain 41.5/44.6 AP, respectively, on the MS-COCO detection dataset Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> with the standard 1x schedule<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>. Compared to recent DETRs, DDQ DETR achieved 52.1 AP in just 12 epochs with the DETR-style augmentationÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. The strong performance demonstrates that DDQ overcomes the optimization difficulty in end-to-end detectors and converges as fast as traditional detectors with higher performance.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">Object detection in crowded scenes such as CrowdHumanÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> is another arena to testify to the effectiveness of DDQ. It is extremely cumbersome to tune the post-processing NMS in traditional detectors, as a low IoU threshold leads to missing overlapping objects, while a high threshold brings too many false positives. Recent end-to-end structures also struggle to distinguish between duplicated predictions and overlapping objects due to their difficult optimization. In this study, DDQ FCN/R-CNN/DETR achieve 92.7/93.5/93.8 AP and 98.2/98.6/98.7 recall on CrowdHumanÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>, surpassing both traditional and end-to-end detectors by a large margin.</p>
</div>
</section>
<section id="S2" class="ltx_section ltx_centering">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<div id="S2.p1" class="ltx_para ltx_noindent">
<p id="S2.p1.1" class="ltx_p"><span id="S2.p1.1.1" class="ltx_text ltx_font_bold">Dense Queries with One-To-Many Assignment.</span> One-stage detectors such as RetinaNet<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> and FCOS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> use densely distributed queries for regression and classification.The same manner is also applied to the region proposal network (RPN) of multi-stage models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>.
And one-to-many assignments are a common practice for these traditional detectors. Despite the fast development of one-to-many assignments from static label assignments (such as IOU-basedÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> and center-based onesÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>) to prediction-aware dynamic label assignments <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, these strategies are also long criticized for they pair each ground truth with multiple queries and thus require additional postprocessing to remove duplicate predictions at inference, which prevents the pipeline from being end-to-end. 
<br class="ltx_break"><span id="S2.p1.1.2" class="ltx_text ltx_font_bold">Sparse Queries with One-To-One Assignment.</span> DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> designs a small set of learned positional embeddings that represent the position in an image to focus on. These queries are then optimized with one-to-one assignments, making an end-to-end pipeline. Sparse R-CNNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> reformulates queries in the traditional R-CNN framework as a bounding box and its corresponding embedding. Anchor DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> provides the correspondence between anchor points and query position. DAB-DETR Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> explicitly learns a set of 4-D anchor boxes as queries. Though the formulation of queries varies, they share the same core idea of sparse queries and one-to-one assignments. Therefore, a low recall rate is an expected issue for these detectors. 
<br class="ltx_break"><span id="S2.p1.1.3" class="ltx_text ltx_font_bold">Dense Queries with One-To-One Assignment.</span> Both DeFCN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> and OneNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> try to integrate one-to-one assignment with dense queries. Despite their competitive performance compared to FCOS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>, there is still a clear performance gap with recent detectors with dynamic one-to-many assignment strategiesÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. It is the optimization difficulty of similar queries under one-to-one assignments that accounts for the performance gap. Efficient DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>, and Two-Stage Deformable DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> can also be regarded as a multi-stage version of this paradigm. Although DINOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>, Group DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, and H-DeformableDETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> have introduced more positive samples to speed up convergence, the hindrance effect between similar queries and one-to-one assignments still remains unrevealed.</p>
</div>
</section>
<section id="S3" class="ltx_section ltx_centering">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Analysis of Sparse and Dense Queries</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">Current end-to-end detectors use either dense or sparse queries, both of which are however problematic during training.
Specifically, sparse queries suffer a low recall rate, and dense queries have issues in optimization. To illustrate this, we increase the number of queries from 10 to 7000 in Sparse R-CNN, and the performance is shown as the black line in Fig.Â <a href="#S3.F2" title="Figure 2 â€£ 3 Analysis of Sparse and Dense Queries â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. The performance first keeps rising as the number of queries increases to around 2000, implying that the sparse queries (<math id="S3.p1.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S3.p1.1.m1.1a"><mo id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">âˆ¼</mo><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><csymbol cd="latexml" id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">\sim</annotation></semantics></math> 300) in Sparse R-CNN are far from enough due to the low recall rate. On the other hand, the performance finally plateaus and even decreases as queries number further increases. This phenomenon can be explained by the difficulty in distinguishing similar queries in end-to-end detectors with one-to-one assignment, especially when queries become denser.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2303.12776/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="346" height="281" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.2.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S3.F2.3.2" class="ltx_text" style="font-size:90%;">The performance comparison of Sparse R-CNN with and without Distinct Queries Selection (a class-agnostic NMS with a threshold 0.7 before each refining head). All models are trained using the standard 1x setting. The green dotted line represents the default number(300) of queries adopted in Sparse R-CNN. The subplot denotes the memory consumption per GPU as the number of queries increases in Sparse R-CNN.
</span></figcaption>
</figure>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.6" class="ltx_p">To understand how similar queries would hinder optimization, we provide a simplified example where we assume there exist two identical queries. In this case, the one-to-one assignment assigns a foreground label to one of them but a background label to another. Without loss of generality, we adopt binary cross-entropy loss for classification. Therefore, the loss from these two queries becomes <math id="S3.p2.1.m1.4" class="ltx_Math" alttext="L_{1}=-\log(p_{1})-\log(1-p_{2})" display="inline"><semantics id="S3.p2.1.m1.4a"><mrow id="S3.p2.1.m1.4.4" xref="S3.p2.1.m1.4.4.cmml"><msub id="S3.p2.1.m1.4.4.4" xref="S3.p2.1.m1.4.4.4.cmml"><mi id="S3.p2.1.m1.4.4.4.2" xref="S3.p2.1.m1.4.4.4.2.cmml">L</mi><mn id="S3.p2.1.m1.4.4.4.3" xref="S3.p2.1.m1.4.4.4.3.cmml">1</mn></msub><mo id="S3.p2.1.m1.4.4.3" xref="S3.p2.1.m1.4.4.3.cmml">=</mo><mrow id="S3.p2.1.m1.4.4.2" xref="S3.p2.1.m1.4.4.2.cmml"><mrow id="S3.p2.1.m1.3.3.1.1" xref="S3.p2.1.m1.3.3.1.1.cmml"><mo rspace="0.167em" id="S3.p2.1.m1.3.3.1.1a" xref="S3.p2.1.m1.3.3.1.1.cmml">âˆ’</mo><mrow id="S3.p2.1.m1.3.3.1.1.1.1" xref="S3.p2.1.m1.3.3.1.1.1.2.cmml"><mi id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml">log</mi><mo id="S3.p2.1.m1.3.3.1.1.1.1a" xref="S3.p2.1.m1.3.3.1.1.1.2.cmml">â¡</mo><mrow id="S3.p2.1.m1.3.3.1.1.1.1.1" xref="S3.p2.1.m1.3.3.1.1.1.2.cmml"><mo stretchy="false" id="S3.p2.1.m1.3.3.1.1.1.1.1.2" xref="S3.p2.1.m1.3.3.1.1.1.2.cmml">(</mo><msub id="S3.p2.1.m1.3.3.1.1.1.1.1.1" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1.cmml"><mi id="S3.p2.1.m1.3.3.1.1.1.1.1.1.2" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1.2.cmml">p</mi><mn id="S3.p2.1.m1.3.3.1.1.1.1.1.1.3" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1.3.cmml">1</mn></msub><mo stretchy="false" id="S3.p2.1.m1.3.3.1.1.1.1.1.3" xref="S3.p2.1.m1.3.3.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.p2.1.m1.4.4.2.3" xref="S3.p2.1.m1.4.4.2.3.cmml">âˆ’</mo><mrow id="S3.p2.1.m1.4.4.2.2.1" xref="S3.p2.1.m1.4.4.2.2.2.cmml"><mi id="S3.p2.1.m1.2.2" xref="S3.p2.1.m1.2.2.cmml">log</mi><mo id="S3.p2.1.m1.4.4.2.2.1a" xref="S3.p2.1.m1.4.4.2.2.2.cmml">â¡</mo><mrow id="S3.p2.1.m1.4.4.2.2.1.1" xref="S3.p2.1.m1.4.4.2.2.2.cmml"><mo stretchy="false" id="S3.p2.1.m1.4.4.2.2.1.1.2" xref="S3.p2.1.m1.4.4.2.2.2.cmml">(</mo><mrow id="S3.p2.1.m1.4.4.2.2.1.1.1" xref="S3.p2.1.m1.4.4.2.2.1.1.1.cmml"><mn id="S3.p2.1.m1.4.4.2.2.1.1.1.2" xref="S3.p2.1.m1.4.4.2.2.1.1.1.2.cmml">1</mn><mo id="S3.p2.1.m1.4.4.2.2.1.1.1.1" xref="S3.p2.1.m1.4.4.2.2.1.1.1.1.cmml">âˆ’</mo><msub id="S3.p2.1.m1.4.4.2.2.1.1.1.3" xref="S3.p2.1.m1.4.4.2.2.1.1.1.3.cmml"><mi id="S3.p2.1.m1.4.4.2.2.1.1.1.3.2" xref="S3.p2.1.m1.4.4.2.2.1.1.1.3.2.cmml">p</mi><mn id="S3.p2.1.m1.4.4.2.2.1.1.1.3.3" xref="S3.p2.1.m1.4.4.2.2.1.1.1.3.3.cmml">2</mn></msub></mrow><mo stretchy="false" id="S3.p2.1.m1.4.4.2.2.1.1.3" xref="S3.p2.1.m1.4.4.2.2.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.4b"><apply id="S3.p2.1.m1.4.4.cmml" xref="S3.p2.1.m1.4.4"><eq id="S3.p2.1.m1.4.4.3.cmml" xref="S3.p2.1.m1.4.4.3"></eq><apply id="S3.p2.1.m1.4.4.4.cmml" xref="S3.p2.1.m1.4.4.4"><csymbol cd="ambiguous" id="S3.p2.1.m1.4.4.4.1.cmml" xref="S3.p2.1.m1.4.4.4">subscript</csymbol><ci id="S3.p2.1.m1.4.4.4.2.cmml" xref="S3.p2.1.m1.4.4.4.2">ğ¿</ci><cn type="integer" id="S3.p2.1.m1.4.4.4.3.cmml" xref="S3.p2.1.m1.4.4.4.3">1</cn></apply><apply id="S3.p2.1.m1.4.4.2.cmml" xref="S3.p2.1.m1.4.4.2"><minus id="S3.p2.1.m1.4.4.2.3.cmml" xref="S3.p2.1.m1.4.4.2.3"></minus><apply id="S3.p2.1.m1.3.3.1.1.cmml" xref="S3.p2.1.m1.3.3.1.1"><minus id="S3.p2.1.m1.3.3.1.1.2.cmml" xref="S3.p2.1.m1.3.3.1.1"></minus><apply id="S3.p2.1.m1.3.3.1.1.1.2.cmml" xref="S3.p2.1.m1.3.3.1.1.1.1"><log id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1"></log><apply id="S3.p2.1.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p2.1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.p2.1.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S3.p2.1.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1.3">1</cn></apply></apply></apply><apply id="S3.p2.1.m1.4.4.2.2.2.cmml" xref="S3.p2.1.m1.4.4.2.2.1"><log id="S3.p2.1.m1.2.2.cmml" xref="S3.p2.1.m1.2.2"></log><apply id="S3.p2.1.m1.4.4.2.2.1.1.1.cmml" xref="S3.p2.1.m1.4.4.2.2.1.1.1"><minus id="S3.p2.1.m1.4.4.2.2.1.1.1.1.cmml" xref="S3.p2.1.m1.4.4.2.2.1.1.1.1"></minus><cn type="integer" id="S3.p2.1.m1.4.4.2.2.1.1.1.2.cmml" xref="S3.p2.1.m1.4.4.2.2.1.1.1.2">1</cn><apply id="S3.p2.1.m1.4.4.2.2.1.1.1.3.cmml" xref="S3.p2.1.m1.4.4.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.p2.1.m1.4.4.2.2.1.1.1.3.1.cmml" xref="S3.p2.1.m1.4.4.2.2.1.1.1.3">subscript</csymbol><ci id="S3.p2.1.m1.4.4.2.2.1.1.1.3.2.cmml" xref="S3.p2.1.m1.4.4.2.2.1.1.1.3.2">ğ‘</ci><cn type="integer" id="S3.p2.1.m1.4.4.2.2.1.1.1.3.3.cmml" xref="S3.p2.1.m1.4.4.2.2.1.1.1.3.3">2</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.4c">L_{1}=-\log(p_{1})-\log(1-p_{2})</annotation></semantics></math>, where <math id="S3.p2.2.m2.1" class="ltx_Math" alttext="p_{1}" display="inline"><semantics id="S3.p2.2.m2.1a"><msub id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml"><mi id="S3.p2.2.m2.1.1.2" xref="S3.p2.2.m2.1.1.2.cmml">p</mi><mn id="S3.p2.2.m2.1.1.3" xref="S3.p2.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><apply id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p2.2.m2.1.1.1.cmml" xref="S3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.p2.2.m2.1.1.2.cmml" xref="S3.p2.2.m2.1.1.2">ğ‘</ci><cn type="integer" id="S3.p2.2.m2.1.1.3.cmml" xref="S3.p2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">p_{1}</annotation></semantics></math> and <math id="S3.p2.3.m3.1" class="ltx_Math" alttext="p_{2}" display="inline"><semantics id="S3.p2.3.m3.1a"><msub id="S3.p2.3.m3.1.1" xref="S3.p2.3.m3.1.1.cmml"><mi id="S3.p2.3.m3.1.1.2" xref="S3.p2.3.m3.1.1.2.cmml">p</mi><mn id="S3.p2.3.m3.1.1.3" xref="S3.p2.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.1b"><apply id="S3.p2.3.m3.1.1.cmml" xref="S3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p2.3.m3.1.1.1.cmml" xref="S3.p2.3.m3.1.1">subscript</csymbol><ci id="S3.p2.3.m3.1.1.2.cmml" xref="S3.p2.3.m3.1.1.2">ğ‘</ci><cn type="integer" id="S3.p2.3.m3.1.1.3.cmml" xref="S3.p2.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.1c">p_{2}</annotation></semantics></math> are the probability scores of the positive and negative query, respectively, and satisfy <math id="S3.p2.4.m4.1" class="ltx_Math" alttext="p_{1}=p_{2}=p" display="inline"><semantics id="S3.p2.4.m4.1a"><mrow id="S3.p2.4.m4.1.1" xref="S3.p2.4.m4.1.1.cmml"><msub id="S3.p2.4.m4.1.1.2" xref="S3.p2.4.m4.1.1.2.cmml"><mi id="S3.p2.4.m4.1.1.2.2" xref="S3.p2.4.m4.1.1.2.2.cmml">p</mi><mn id="S3.p2.4.m4.1.1.2.3" xref="S3.p2.4.m4.1.1.2.3.cmml">1</mn></msub><mo id="S3.p2.4.m4.1.1.3" xref="S3.p2.4.m4.1.1.3.cmml">=</mo><msub id="S3.p2.4.m4.1.1.4" xref="S3.p2.4.m4.1.1.4.cmml"><mi id="S3.p2.4.m4.1.1.4.2" xref="S3.p2.4.m4.1.1.4.2.cmml">p</mi><mn id="S3.p2.4.m4.1.1.4.3" xref="S3.p2.4.m4.1.1.4.3.cmml">2</mn></msub><mo id="S3.p2.4.m4.1.1.5" xref="S3.p2.4.m4.1.1.5.cmml">=</mo><mi id="S3.p2.4.m4.1.1.6" xref="S3.p2.4.m4.1.1.6.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.1b"><apply id="S3.p2.4.m4.1.1.cmml" xref="S3.p2.4.m4.1.1"><and id="S3.p2.4.m4.1.1a.cmml" xref="S3.p2.4.m4.1.1"></and><apply id="S3.p2.4.m4.1.1b.cmml" xref="S3.p2.4.m4.1.1"><eq id="S3.p2.4.m4.1.1.3.cmml" xref="S3.p2.4.m4.1.1.3"></eq><apply id="S3.p2.4.m4.1.1.2.cmml" xref="S3.p2.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.p2.4.m4.1.1.2.1.cmml" xref="S3.p2.4.m4.1.1.2">subscript</csymbol><ci id="S3.p2.4.m4.1.1.2.2.cmml" xref="S3.p2.4.m4.1.1.2.2">ğ‘</ci><cn type="integer" id="S3.p2.4.m4.1.1.2.3.cmml" xref="S3.p2.4.m4.1.1.2.3">1</cn></apply><apply id="S3.p2.4.m4.1.1.4.cmml" xref="S3.p2.4.m4.1.1.4"><csymbol cd="ambiguous" id="S3.p2.4.m4.1.1.4.1.cmml" xref="S3.p2.4.m4.1.1.4">subscript</csymbol><ci id="S3.p2.4.m4.1.1.4.2.cmml" xref="S3.p2.4.m4.1.1.4.2">ğ‘</ci><cn type="integer" id="S3.p2.4.m4.1.1.4.3.cmml" xref="S3.p2.4.m4.1.1.4.3">2</cn></apply></apply><apply id="S3.p2.4.m4.1.1c.cmml" xref="S3.p2.4.m4.1.1"><eq id="S3.p2.4.m4.1.1.5.cmml" xref="S3.p2.4.m4.1.1.5"></eq><share href="#S3.p2.4.m4.1.1.4.cmml" id="S3.p2.4.m4.1.1d.cmml" xref="S3.p2.4.m4.1.1"></share><ci id="S3.p2.4.m4.1.1.6.cmml" xref="S3.p2.4.m4.1.1.6">ğ‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.1c">p_{1}=p_{2}=p</annotation></semantics></math> as they are identical queries. In contrast, the loss value when only one of the duplicated queries exists is <math id="S3.p2.5.m5.2" class="ltx_Math" alttext="L_{0}=-\log(p)" display="inline"><semantics id="S3.p2.5.m5.2a"><mrow id="S3.p2.5.m5.2.3" xref="S3.p2.5.m5.2.3.cmml"><msub id="S3.p2.5.m5.2.3.2" xref="S3.p2.5.m5.2.3.2.cmml"><mi id="S3.p2.5.m5.2.3.2.2" xref="S3.p2.5.m5.2.3.2.2.cmml">L</mi><mn id="S3.p2.5.m5.2.3.2.3" xref="S3.p2.5.m5.2.3.2.3.cmml">0</mn></msub><mo id="S3.p2.5.m5.2.3.1" xref="S3.p2.5.m5.2.3.1.cmml">=</mo><mrow id="S3.p2.5.m5.2.3.3" xref="S3.p2.5.m5.2.3.3.cmml"><mo rspace="0.167em" id="S3.p2.5.m5.2.3.3a" xref="S3.p2.5.m5.2.3.3.cmml">âˆ’</mo><mrow id="S3.p2.5.m5.2.3.3.2.2" xref="S3.p2.5.m5.2.3.3.2.1.cmml"><mi id="S3.p2.5.m5.1.1" xref="S3.p2.5.m5.1.1.cmml">log</mi><mo id="S3.p2.5.m5.2.3.3.2.2a" xref="S3.p2.5.m5.2.3.3.2.1.cmml">â¡</mo><mrow id="S3.p2.5.m5.2.3.3.2.2.1" xref="S3.p2.5.m5.2.3.3.2.1.cmml"><mo stretchy="false" id="S3.p2.5.m5.2.3.3.2.2.1.1" xref="S3.p2.5.m5.2.3.3.2.1.cmml">(</mo><mi id="S3.p2.5.m5.2.2" xref="S3.p2.5.m5.2.2.cmml">p</mi><mo stretchy="false" id="S3.p2.5.m5.2.3.3.2.2.1.2" xref="S3.p2.5.m5.2.3.3.2.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.5.m5.2b"><apply id="S3.p2.5.m5.2.3.cmml" xref="S3.p2.5.m5.2.3"><eq id="S3.p2.5.m5.2.3.1.cmml" xref="S3.p2.5.m5.2.3.1"></eq><apply id="S3.p2.5.m5.2.3.2.cmml" xref="S3.p2.5.m5.2.3.2"><csymbol cd="ambiguous" id="S3.p2.5.m5.2.3.2.1.cmml" xref="S3.p2.5.m5.2.3.2">subscript</csymbol><ci id="S3.p2.5.m5.2.3.2.2.cmml" xref="S3.p2.5.m5.2.3.2.2">ğ¿</ci><cn type="integer" id="S3.p2.5.m5.2.3.2.3.cmml" xref="S3.p2.5.m5.2.3.2.3">0</cn></apply><apply id="S3.p2.5.m5.2.3.3.cmml" xref="S3.p2.5.m5.2.3.3"><minus id="S3.p2.5.m5.2.3.3.1.cmml" xref="S3.p2.5.m5.2.3.3"></minus><apply id="S3.p2.5.m5.2.3.3.2.1.cmml" xref="S3.p2.5.m5.2.3.3.2.2"><log id="S3.p2.5.m5.1.1.cmml" xref="S3.p2.5.m5.1.1"></log><ci id="S3.p2.5.m5.2.2.cmml" xref="S3.p2.5.m5.2.2">ğ‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m5.2c">L_{0}=-\log(p)</annotation></semantics></math>. The ratio <math id="S3.p2.6.m6.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.p2.6.m6.1a"><mi id="S3.p2.6.m6.1.1" xref="S3.p2.6.m6.1.1.cmml">Î±</mi><annotation-xml encoding="MathML-Content" id="S3.p2.6.m6.1b"><ci id="S3.p2.6.m6.1.1.cmml" xref="S3.p2.6.m6.1.1">ğ›¼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.6.m6.1c">\alpha</annotation></semantics></math> of the gradient between the duplicate and non-duplicate query is.</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.1" class="ltx_Math" alttext="\alpha=\frac{\partial L_{1}}{\partial p}/\frac{\partial L_{0}}{\partial p}=1-\frac{p}{1-p}\ \vspace{-1mm}" display="block"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml"><mi id="S3.E1.m1.1.1.2" xref="S3.E1.m1.1.1.2.cmml">Î±</mi><mo id="S3.E1.m1.1.1.3" xref="S3.E1.m1.1.1.3.cmml">=</mo><mrow id="S3.E1.m1.1.1.4" xref="S3.E1.m1.1.1.4.cmml"><mfrac id="S3.E1.m1.1.1.4.2" xref="S3.E1.m1.1.1.4.2.cmml"><mrow id="S3.E1.m1.1.1.4.2.2" xref="S3.E1.m1.1.1.4.2.2.cmml"><mo rspace="0em" id="S3.E1.m1.1.1.4.2.2.1" xref="S3.E1.m1.1.1.4.2.2.1.cmml">âˆ‚</mo><msub id="S3.E1.m1.1.1.4.2.2.2" xref="S3.E1.m1.1.1.4.2.2.2.cmml"><mi id="S3.E1.m1.1.1.4.2.2.2.2" xref="S3.E1.m1.1.1.4.2.2.2.2.cmml">L</mi><mn id="S3.E1.m1.1.1.4.2.2.2.3" xref="S3.E1.m1.1.1.4.2.2.2.3.cmml">1</mn></msub></mrow><mrow id="S3.E1.m1.1.1.4.2.3" xref="S3.E1.m1.1.1.4.2.3.cmml"><mo rspace="0em" id="S3.E1.m1.1.1.4.2.3.1" xref="S3.E1.m1.1.1.4.2.3.1.cmml">âˆ‚</mo><mi id="S3.E1.m1.1.1.4.2.3.2" xref="S3.E1.m1.1.1.4.2.3.2.cmml">p</mi></mrow></mfrac><mo id="S3.E1.m1.1.1.4.1" xref="S3.E1.m1.1.1.4.1.cmml">/</mo><mfrac id="S3.E1.m1.1.1.4.3" xref="S3.E1.m1.1.1.4.3.cmml"><mrow id="S3.E1.m1.1.1.4.3.2" xref="S3.E1.m1.1.1.4.3.2.cmml"><mo rspace="0em" id="S3.E1.m1.1.1.4.3.2.1" xref="S3.E1.m1.1.1.4.3.2.1.cmml">âˆ‚</mo><msub id="S3.E1.m1.1.1.4.3.2.2" xref="S3.E1.m1.1.1.4.3.2.2.cmml"><mi id="S3.E1.m1.1.1.4.3.2.2.2" xref="S3.E1.m1.1.1.4.3.2.2.2.cmml">L</mi><mn id="S3.E1.m1.1.1.4.3.2.2.3" xref="S3.E1.m1.1.1.4.3.2.2.3.cmml">0</mn></msub></mrow><mrow id="S3.E1.m1.1.1.4.3.3" xref="S3.E1.m1.1.1.4.3.3.cmml"><mo rspace="0em" id="S3.E1.m1.1.1.4.3.3.1" xref="S3.E1.m1.1.1.4.3.3.1.cmml">âˆ‚</mo><mi id="S3.E1.m1.1.1.4.3.3.2" xref="S3.E1.m1.1.1.4.3.3.2.cmml">p</mi></mrow></mfrac></mrow><mo id="S3.E1.m1.1.1.5" xref="S3.E1.m1.1.1.5.cmml">=</mo><mrow id="S3.E1.m1.1.1.6" xref="S3.E1.m1.1.1.6.cmml"><mn id="S3.E1.m1.1.1.6.2" xref="S3.E1.m1.1.1.6.2.cmml">1</mn><mo id="S3.E1.m1.1.1.6.1" xref="S3.E1.m1.1.1.6.1.cmml">âˆ’</mo><mfrac id="S3.E1.m1.1.1.6.3" xref="S3.E1.m1.1.1.6.3.cmml"><mi id="S3.E1.m1.1.1.6.3.2" xref="S3.E1.m1.1.1.6.3.2.cmml">p</mi><mrow id="S3.E1.m1.1.1.6.3.3" xref="S3.E1.m1.1.1.6.3.3.cmml"><mn id="S3.E1.m1.1.1.6.3.3.2" xref="S3.E1.m1.1.1.6.3.3.2.cmml">1</mn><mo id="S3.E1.m1.1.1.6.3.3.1" xref="S3.E1.m1.1.1.6.3.3.1.cmml">âˆ’</mo><mi id="S3.E1.m1.1.1.6.3.3.3" xref="S3.E1.m1.1.1.6.3.3.3.cmml">p</mi></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1"><and id="S3.E1.m1.1.1a.cmml" xref="S3.E1.m1.1.1"></and><apply id="S3.E1.m1.1.1b.cmml" xref="S3.E1.m1.1.1"><eq id="S3.E1.m1.1.1.3.cmml" xref="S3.E1.m1.1.1.3"></eq><ci id="S3.E1.m1.1.1.2.cmml" xref="S3.E1.m1.1.1.2">ğ›¼</ci><apply id="S3.E1.m1.1.1.4.cmml" xref="S3.E1.m1.1.1.4"><divide id="S3.E1.m1.1.1.4.1.cmml" xref="S3.E1.m1.1.1.4.1"></divide><apply id="S3.E1.m1.1.1.4.2.cmml" xref="S3.E1.m1.1.1.4.2"><divide id="S3.E1.m1.1.1.4.2.1.cmml" xref="S3.E1.m1.1.1.4.2"></divide><apply id="S3.E1.m1.1.1.4.2.2.cmml" xref="S3.E1.m1.1.1.4.2.2"><partialdiff id="S3.E1.m1.1.1.4.2.2.1.cmml" xref="S3.E1.m1.1.1.4.2.2.1"></partialdiff><apply id="S3.E1.m1.1.1.4.2.2.2.cmml" xref="S3.E1.m1.1.1.4.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.4.2.2.2.1.cmml" xref="S3.E1.m1.1.1.4.2.2.2">subscript</csymbol><ci id="S3.E1.m1.1.1.4.2.2.2.2.cmml" xref="S3.E1.m1.1.1.4.2.2.2.2">ğ¿</ci><cn type="integer" id="S3.E1.m1.1.1.4.2.2.2.3.cmml" xref="S3.E1.m1.1.1.4.2.2.2.3">1</cn></apply></apply><apply id="S3.E1.m1.1.1.4.2.3.cmml" xref="S3.E1.m1.1.1.4.2.3"><partialdiff id="S3.E1.m1.1.1.4.2.3.1.cmml" xref="S3.E1.m1.1.1.4.2.3.1"></partialdiff><ci id="S3.E1.m1.1.1.4.2.3.2.cmml" xref="S3.E1.m1.1.1.4.2.3.2">ğ‘</ci></apply></apply><apply id="S3.E1.m1.1.1.4.3.cmml" xref="S3.E1.m1.1.1.4.3"><divide id="S3.E1.m1.1.1.4.3.1.cmml" xref="S3.E1.m1.1.1.4.3"></divide><apply id="S3.E1.m1.1.1.4.3.2.cmml" xref="S3.E1.m1.1.1.4.3.2"><partialdiff id="S3.E1.m1.1.1.4.3.2.1.cmml" xref="S3.E1.m1.1.1.4.3.2.1"></partialdiff><apply id="S3.E1.m1.1.1.4.3.2.2.cmml" xref="S3.E1.m1.1.1.4.3.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.4.3.2.2.1.cmml" xref="S3.E1.m1.1.1.4.3.2.2">subscript</csymbol><ci id="S3.E1.m1.1.1.4.3.2.2.2.cmml" xref="S3.E1.m1.1.1.4.3.2.2.2">ğ¿</ci><cn type="integer" id="S3.E1.m1.1.1.4.3.2.2.3.cmml" xref="S3.E1.m1.1.1.4.3.2.2.3">0</cn></apply></apply><apply id="S3.E1.m1.1.1.4.3.3.cmml" xref="S3.E1.m1.1.1.4.3.3"><partialdiff id="S3.E1.m1.1.1.4.3.3.1.cmml" xref="S3.E1.m1.1.1.4.3.3.1"></partialdiff><ci id="S3.E1.m1.1.1.4.3.3.2.cmml" xref="S3.E1.m1.1.1.4.3.3.2">ğ‘</ci></apply></apply></apply></apply><apply id="S3.E1.m1.1.1c.cmml" xref="S3.E1.m1.1.1"><eq id="S3.E1.m1.1.1.5.cmml" xref="S3.E1.m1.1.1.5"></eq><share href="#S3.E1.m1.1.1.4.cmml" id="S3.E1.m1.1.1d.cmml" xref="S3.E1.m1.1.1"></share><apply id="S3.E1.m1.1.1.6.cmml" xref="S3.E1.m1.1.1.6"><minus id="S3.E1.m1.1.1.6.1.cmml" xref="S3.E1.m1.1.1.6.1"></minus><cn type="integer" id="S3.E1.m1.1.1.6.2.cmml" xref="S3.E1.m1.1.1.6.2">1</cn><apply id="S3.E1.m1.1.1.6.3.cmml" xref="S3.E1.m1.1.1.6.3"><divide id="S3.E1.m1.1.1.6.3.1.cmml" xref="S3.E1.m1.1.1.6.3"></divide><ci id="S3.E1.m1.1.1.6.3.2.cmml" xref="S3.E1.m1.1.1.6.3.2">ğ‘</ci><apply id="S3.E1.m1.1.1.6.3.3.cmml" xref="S3.E1.m1.1.1.6.3.3"><minus id="S3.E1.m1.1.1.6.3.3.1.cmml" xref="S3.E1.m1.1.1.6.3.3.1"></minus><cn type="integer" id="S3.E1.m1.1.1.6.3.3.2.cmml" xref="S3.E1.m1.1.1.6.3.3.2">1</cn><ci id="S3.E1.m1.1.1.6.3.3.3.cmml" xref="S3.E1.m1.1.1.6.3.3.3">ğ‘</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">\alpha=\frac{\partial L_{1}}{\partial p}/\frac{\partial L_{0}}{\partial p}=1-\frac{p}{1-p}\ \vspace{-1mm}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.p2.10" class="ltx_p">It is obvious that the gradient is scaled down (<em id="S3.p2.10.1" class="ltx_emph ltx_font_italic">i.e.</em>, <math id="S3.p2.7.m1.1" class="ltx_Math" alttext="\alpha&lt;1" display="inline"><semantics id="S3.p2.7.m1.1a"><mrow id="S3.p2.7.m1.1.1" xref="S3.p2.7.m1.1.1.cmml"><mi id="S3.p2.7.m1.1.1.2" xref="S3.p2.7.m1.1.1.2.cmml">Î±</mi><mo id="S3.p2.7.m1.1.1.1" xref="S3.p2.7.m1.1.1.1.cmml">&lt;</mo><mn id="S3.p2.7.m1.1.1.3" xref="S3.p2.7.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.7.m1.1b"><apply id="S3.p2.7.m1.1.1.cmml" xref="S3.p2.7.m1.1.1"><lt id="S3.p2.7.m1.1.1.1.cmml" xref="S3.p2.7.m1.1.1.1"></lt><ci id="S3.p2.7.m1.1.1.2.cmml" xref="S3.p2.7.m1.1.1.2">ğ›¼</ci><cn type="integer" id="S3.p2.7.m1.1.1.3.cmml" xref="S3.p2.7.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.7.m1.1c">\alpha&lt;1</annotation></semantics></math>) at <math id="S3.p2.8.m2.1" class="ltx_Math" alttext="0&lt;p&lt;0.5" display="inline"><semantics id="S3.p2.8.m2.1a"><mrow id="S3.p2.8.m2.1.1" xref="S3.p2.8.m2.1.1.cmml"><mn id="S3.p2.8.m2.1.1.2" xref="S3.p2.8.m2.1.1.2.cmml">0</mn><mo id="S3.p2.8.m2.1.1.3" xref="S3.p2.8.m2.1.1.3.cmml">&lt;</mo><mi id="S3.p2.8.m2.1.1.4" xref="S3.p2.8.m2.1.1.4.cmml">p</mi><mo id="S3.p2.8.m2.1.1.5" xref="S3.p2.8.m2.1.1.5.cmml">&lt;</mo><mn id="S3.p2.8.m2.1.1.6" xref="S3.p2.8.m2.1.1.6.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.8.m2.1b"><apply id="S3.p2.8.m2.1.1.cmml" xref="S3.p2.8.m2.1.1"><and id="S3.p2.8.m2.1.1a.cmml" xref="S3.p2.8.m2.1.1"></and><apply id="S3.p2.8.m2.1.1b.cmml" xref="S3.p2.8.m2.1.1"><lt id="S3.p2.8.m2.1.1.3.cmml" xref="S3.p2.8.m2.1.1.3"></lt><cn type="integer" id="S3.p2.8.m2.1.1.2.cmml" xref="S3.p2.8.m2.1.1.2">0</cn><ci id="S3.p2.8.m2.1.1.4.cmml" xref="S3.p2.8.m2.1.1.4">ğ‘</ci></apply><apply id="S3.p2.8.m2.1.1c.cmml" xref="S3.p2.8.m2.1.1"><lt id="S3.p2.8.m2.1.1.5.cmml" xref="S3.p2.8.m2.1.1.5"></lt><share href="#S3.p2.8.m2.1.1.4.cmml" id="S3.p2.8.m2.1.1d.cmml" xref="S3.p2.8.m2.1.1"></share><cn type="float" id="S3.p2.8.m2.1.1.6.cmml" xref="S3.p2.8.m2.1.1.6">0.5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.8.m2.1c">0&lt;p&lt;0.5</annotation></semantics></math> and may even cause negative training (<em id="S3.p2.10.2" class="ltx_emph ltx_font_italic">i.e.</em>, <math id="S3.p2.9.m3.1" class="ltx_Math" alttext="\alpha&lt;0" display="inline"><semantics id="S3.p2.9.m3.1a"><mrow id="S3.p2.9.m3.1.1" xref="S3.p2.9.m3.1.1.cmml"><mi id="S3.p2.9.m3.1.1.2" xref="S3.p2.9.m3.1.1.2.cmml">Î±</mi><mo id="S3.p2.9.m3.1.1.1" xref="S3.p2.9.m3.1.1.1.cmml">&lt;</mo><mn id="S3.p2.9.m3.1.1.3" xref="S3.p2.9.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.9.m3.1b"><apply id="S3.p2.9.m3.1.1.cmml" xref="S3.p2.9.m3.1.1"><lt id="S3.p2.9.m3.1.1.1.cmml" xref="S3.p2.9.m3.1.1.1"></lt><ci id="S3.p2.9.m3.1.1.2.cmml" xref="S3.p2.9.m3.1.1.2">ğ›¼</ci><cn type="integer" id="S3.p2.9.m3.1.1.3.cmml" xref="S3.p2.9.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.9.m3.1c">\alpha&lt;0</annotation></semantics></math>) at <math id="S3.p2.10.m4.1" class="ltx_Math" alttext="p&gt;0.5" display="inline"><semantics id="S3.p2.10.m4.1a"><mrow id="S3.p2.10.m4.1.1" xref="S3.p2.10.m4.1.1.cmml"><mi id="S3.p2.10.m4.1.1.2" xref="S3.p2.10.m4.1.1.2.cmml">p</mi><mo id="S3.p2.10.m4.1.1.1" xref="S3.p2.10.m4.1.1.1.cmml">&gt;</mo><mn id="S3.p2.10.m4.1.1.3" xref="S3.p2.10.m4.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.10.m4.1b"><apply id="S3.p2.10.m4.1.1.cmml" xref="S3.p2.10.m4.1.1"><gt id="S3.p2.10.m4.1.1.1.cmml" xref="S3.p2.10.m4.1.1.1"></gt><ci id="S3.p2.10.m4.1.1.2.cmml" xref="S3.p2.10.m4.1.1.2">ğ‘</ci><cn type="float" id="S3.p2.10.m4.1.1.3.cmml" xref="S3.p2.10.m4.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.10.m4.1c">p&gt;0.5</annotation></semantics></math>.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p">As shown in the toy example, duplicated queries reduce gradients and even cause negative training, which dramatically suppresses convergence. To avoid this issue, we impose a distinct queries selection operation before the one-to-one assignment process. The distinct queries selection strategy is realized by a simple class-agnostic NMS. The filtered distinct queries are thus easier to optimize, and such an operation improves the performance by a clear margin, as seen from the red curve in Fig.Â <a href="#S3.F2" title="Figure 2 â€£ 3 Analysis of Sparse and Dense Queries â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. More surprisingly, the performance margin consistently increases along with more queries. A similar trend is also observed for Deformable DETR, which can be found in the supplementary material.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.1" class="ltx_p">In other words, once we make sure the selected queries are distinct, the performance of Sparse R-CNN can be improved consistently with the increasing number of distinct queries. However, using a large number of distinct queries causes a significant memory footprint. For example, Sparse R-CNN requires around 45G memory per GPU with 7000 queries. To leverage the advantage of dense distinct queries(DDQ) with a reasonable computation cost, we give practical designs for all popular detector architectures (FCN, R-CNN, and DETRs).</p>
</div>
</section>
<section id="S4" class="ltx_section ltx_centering">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Method</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">Dense distinct queries (DDQ) is our principle for designing an object detector and can be integrated into different architectures. We first briefly describe the design of DDQ followed by detailed descriptions for the three architectures: FCN, R-CNN, and DETRs. The overall pipeline is sketched in Fig.Â <a href="#S4.F3" title="Figure 3 â€£ 4.1 Paradigm of DDQ â€£ 4 Method â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Paradigm of DDQ</h3>

<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">Dense Queries</span>. As shown in Fig.Â <a href="#S3.F2" title="Figure 2 â€£ 3 Analysis of Sparse and Dense Queries â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, the memory cost soars for dense queries. The main reason for this is the heavy calculation for each query. Instead of adopting learnable positional embedding in DETR, DDQ directly takes the feature point on each feature map as densely distributed initial queries. The number of queries in the feature pyramid can easily surpass 10000 given an input resolution of 800x800.
To discriminate dense queries with reasonable computation cost, a light-weighted convolutional/linear network serves as the first stage and processes all queries in a sliding window manner.
<br class="ltx_break"></p>
</div>
<figure id="S4.F3" class="ltx_figure"><img src="/html/2303.12776/assets/x3.png" id="S4.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="130" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.4.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S4.F3.5.2" class="ltx_text" style="font-size:90%;">
<span id="S4.F3.5.2.1" class="ltx_text ltx_font_bold">The pipeline of DDQ</span>. (a) shows the application of DDQ to an FCOS-like structure, which is a fully-convolutional network (FCN). It is thus dubbed <span id="S4.F3.5.2.2" class="ltx_text ltx_font_bold">DDQ FCN</span>. The pyramid shuffle is applied to the last two and last convolution layers in the classification and regression branches, respectively. The class-agnostic NMS act as the distinct queries selection operation. At last, only distinct queries will be assigned labels before calculating loss. (b) shows the design of DDQ for R-CNN structures (DDQ R-CNN). The last feature maps of the classification and regression branches of DDQ FCN are concatenated and filtered as distinct queries. The distinct queries are then sent to the refining heads with their corresponding bounding boxes. (c) shows the design of DDQ for DETRs (DDQ DETR). After distinct queries selection, the remaining feature embedding in the encoder is projected with a linear to the content part of distinct queries. Their corresponding bounding boxes will be mapped to the position embedding part. Both parts will be sent to 6 refine stages. In such a long refine architecture, DQS will be applied before each refine stage to ensure distinctness.</span></figcaption>
</figure>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">Distinct Queries</span> Now that the importance of query distinctness for optimization has been revealed in Sec.Â <a href="#S3.F2" title="Figure 2 â€£ 3 Analysis of Sparse and Dense Queries â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we would discuss in this section why a class-agnostic non-maximum suppression (NMS) can be used to select distinct queries and how it differs from the traditional NMS as post-processing in traditional detectors. Since each query represents a potential instance in an image, and an instance can be uniquely represented by its location in an imageÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>, it comes naturally to detect similar queries using the class-agnostic overlapping ratio between the bounding boxes predicted by queries. More specifically, we apply a class-agnostic NMS to select distinct queries for the following one-to-one assignment. The loss is thus only computed on the selected distinct queries. <em id="S4.SS1.p2.1.2" class="ltx_emph ltx_font_italic">It should be noted that such an operation is adopted in both training and inference, instead of only in inference as an extra post-processing in traditional detectors. Therefore, such a pipeline still abides by the definition of end-to-end detectors.</em> Compared to the training-unaware NMS in traditional detectors, it is designed to relieve the burden of one-to-one assignment during training, and can thus be set with an aggressive IoU threshold (0.7 in DDQ FCN and DDQ R-CNN, 0.8 in DDQ DETR), which is robust even on CrowdHuman dataset Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. Such crowd scenes can not be properly handled by NMS as post-processing in traditional detectors. We validate this in Table.Â <a href="#S5.T4" title="Table 4 â€£ 5.4 Comparison with Other Detectors â€£ 5 Experiments â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
<br class="ltx_break"></p>
</div>
<div id="S4.SS1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS1.p3.1" class="ltx_p"><span id="S4.SS1.p3.1.1" class="ltx_text ltx_font_bold">Loss Components</span>  
<br class="ltx_break"><em id="S4.SS1.p3.1.2" class="ltx_emph ltx_font_italic">(1). Main Loss for Dense Distinct Queries</em>. We simply apply the bipartite matching algorithm in DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> with the same cost weight in the one-to-one assignment. No extra prior (such as center priors in Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>) is adopted for a fair comparison with DETRs. After discriminating positive and negative samples, DDQ FCN adopts GIoU lossÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> and QFocal lossÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> with weights 2 and 1. For DDQ R-CNN and DDQ DETR, we just follow the implementation of Sparse R-CNNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> and DINOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para ltx_noindent">
<p id="S4.SS1.p4.1" class="ltx_p"><em id="S4.SS1.p4.1.1" class="ltx_emph ltx_font_italic">(2). Auxiliary Loss for Dense Queries</em>. Despite the more efficient optimization in DDQ due to the removal of similar queries, it also results in numerous â€leafâ€ queries through which no gradients are back-propagated. Therefore, we design an auxiliary head and an auxiliary loss to further harness the potential of the filtered queries following the design in DeFCNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>. The auxiliary head is mostly identical to the main head, except that it adopts a soft one-to-many assignment for dense queries to allow for dense gradients and more positive samples to speed up training. More details can be found in our supplementary material.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>DDQ FCN</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">As shown in Fig.Â <a href="#S4.F3" title="Figure 3 â€£ 4.1 Paradigm of DDQ â€£ 4 Method â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. (a), the DDQ principle is first applied to FCOS as an example of the FCN structure for object detection. It is found that dense queries are already available on the dense feature pyramid. However, as the dense queries are processed level by level with convolutional layers. The missing interaction across different levels poses a challenge for the optimization of one-to-one assignments.</p>
</div>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2303.12776/assets/x4.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="345" height="211" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.5.2.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S4.F4.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">An illustration of pyramid shuffle.<span id="S4.F4.2.1.1" class="ltx_text ltx_font_medium"> For queries in a specific scale level, it can do the interaction with queries in an adjacent level by shuffling <math id="S4.F4.2.1.1.m1.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S4.F4.2.1.1.m1.1b"><mi id="S4.F4.2.1.1.m1.1.1" xref="S4.F4.2.1.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S4.F4.2.1.1.m1.1c"><ci id="S4.F4.2.1.1.m1.1.1.cmml" xref="S4.F4.2.1.1.m1.1.1">ğ‘†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.2.1.1.m1.1d">S</annotation></semantics></math> channels. Before concatenating to the feature of the target level, the feature from other levels should be interplate to the same size as the target level.</span></span></figcaption>
</figure>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.6" class="ltx_p">Inspired by channel shuffle operation in ShuffleNetÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>, we propose a pyramid shuffle to compensate for the interaction between queries in different levels where <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mi id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">ğ‘†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">S</annotation></semantics></math> channels across adjacent levels are shuffled to form a new feature pyramid. Specifically, features at level <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><mi id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">i</annotation></semantics></math> exchange <math id="S4.SS2.p2.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S4.SS2.p2.3.m3.1a"><mi id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><ci id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1">ğ‘†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">S</annotation></semantics></math> channels with those at level <math id="S4.SS2.p2.4.m4.1" class="ltx_Math" alttext="i-1" display="inline"><semantics id="S4.SS2.p2.4.m4.1a"><mrow id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml"><mi id="S4.SS2.p2.4.m4.1.1.2" xref="S4.SS2.p2.4.m4.1.1.2.cmml">i</mi><mo id="S4.SS2.p2.4.m4.1.1.1" xref="S4.SS2.p2.4.m4.1.1.1.cmml">âˆ’</mo><mn id="S4.SS2.p2.4.m4.1.1.3" xref="S4.SS2.p2.4.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><apply id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1"><minus id="S4.SS2.p2.4.m4.1.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1.1"></minus><ci id="S4.SS2.p2.4.m4.1.1.2.cmml" xref="S4.SS2.p2.4.m4.1.1.2">ğ‘–</ci><cn type="integer" id="S4.SS2.p2.4.m4.1.1.3.cmml" xref="S4.SS2.p2.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">i-1</annotation></semantics></math> and level <math id="S4.SS2.p2.5.m5.1" class="ltx_Math" alttext="i+1" display="inline"><semantics id="S4.SS2.p2.5.m5.1a"><mrow id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml"><mi id="S4.SS2.p2.5.m5.1.1.2" xref="S4.SS2.p2.5.m5.1.1.2.cmml">i</mi><mo id="S4.SS2.p2.5.m5.1.1.1" xref="S4.SS2.p2.5.m5.1.1.1.cmml">+</mo><mn id="S4.SS2.p2.5.m5.1.1.3" xref="S4.SS2.p2.5.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b"><apply id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1"><plus id="S4.SS2.p2.5.m5.1.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1.1"></plus><ci id="S4.SS2.p2.5.m5.1.1.2.cmml" xref="S4.SS2.p2.5.m5.1.1.2">ğ‘–</ci><cn type="integer" id="S4.SS2.p2.5.m5.1.1.3.cmml" xref="S4.SS2.p2.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">i+1</annotation></semantics></math> simultaneously. To account for the different spatial dimensions on the feature pyramid, a bilinear interpolation is adopted when exchanging features. We apply the pyramid shuffle operation on the last two and one convolution layer in the classification and regression branches, respectively. This approach stabilizes training and improves performance with negligible additional computation costs. In this work, we set <math id="S4.SS2.p2.6.m6.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S4.SS2.p2.6.m6.1a"><mi id="S4.SS2.p2.6.m6.1.1" xref="S4.SS2.p2.6.m6.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.6.m6.1b"><ci id="S4.SS2.p2.6.m6.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1">ğ‘†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.6.m6.1c">S</annotation></semantics></math> to 64 which means each feature level exchanges information from 128 channels with other levels. (Comparison with other approaches to model the interaction among dense queries, ablation, and the analysis of pyramid shuffle can be found in our supplementary material.)</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">As for the distinct queries selection module in DDQ FCN, we first select the top 1000 predictions according to the classification score from each feature level and then apply a class-agnostic non-maximum suppression with a threshold of 0.7 to ensure both distinctness and generality across different datasets.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>DDQ R-CNN</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">We combine DDQ FCN with two refine stages in Sparse R-CNN to construct the DDQ R-CNN. As shown in Fig.Â <a href="#S4.F3" title="Figure 3 â€£ 4.1 Paradigm of DDQ â€£ 4 Method â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. (b), thanks to the fast processing of dense distinct queries in DDQ FCN, we select 300 most representative queries according to the classification score from the remaining distinct queries. Then we concatenate the feature in the distinct position of the last feature map of the classification branch and regression branch to construct the query embedding. The query embedding and the corresponding bounding box prediction will be passed to the refinement head of Sparse R-CNN. Different from Sparse R-CNN which requires 6 stages of iterative query refinement, DDQ R-CNN needs as few as 2 refinement stages. Actually, the long iteration stages in Sparse R-CNN mainly compensate for the drawbacks caused by the sparse and sometimes similar input queries. For one thing, sparse queries could not cover all instances at initialization and thus need long cascading stages to refine. For another, similar queries also require long refinements to distinguish from each other to output a one-hot prediction for each instance Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. In contrast, the dense distinct queries from DDQ R-CNN have addressed the above issues, and hence the number of iterative refinements can be significantly reduced. We also report the results when we change the number of queries and refinement heads of DDQ R-CNN in the supplementary material.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>DDQ DETR</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.3" class="ltx_p">We construct DDQ DETR based on Deformable DETR*Â <span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup>* indicates it is an improved version based on techniques in DINOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>. Details can be found in our supplementary material</span></span></span>. As shown in Fig.Â <a href="#S4.F3" title="Figure 3 â€£ 4.1 Paradigm of DDQ â€£ 4 Method â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. (c), We follow Two-Stage Deformable DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> to process dense queries. Instead of initializing the content part with transformed coordinates, we fuse the feature map embedding of distinct positions as the content part, which makes the initial queries more distinct. A class-agnostic NMS with a threshold of 0.8 is set to select distinct queries before each refining stage. To compare with recent DETRs, we keep the original 6 refining stages and select <math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><mi id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">ğ¾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">K</annotation></semantics></math> distinct queries for the refining stages. We also select the top 1.5<math id="S4.SS4.p1.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS4.p1.2.m2.1a"><mi id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><ci id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1">ğ¾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">K</annotation></semantics></math> queries directly according to classification scores as dense queries for the auxiliary head in the decoder. The parallel forward of dense queries and distinct queries follows the H-DeformableDETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> and Group DETR<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. We set <math id="S4.SS4.p1.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS4.p1.3.m3.1a"><mi id="S4.SS4.p1.3.m3.1.1" xref="S4.SS4.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.3.m3.1b"><ci id="S4.SS4.p1.3.m3.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1">ğ¾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.3.m3.1c">K</annotation></semantics></math> to 900, following DINOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section ltx_centering">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experiments</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this section, we first introduce two standard benchmarks MS COCOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> and CrowdHumanÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. Then we introduce the setting of training and inference on both datasets. We also present three examples to show how end-to-end detectors with different architectures evolve to our DDQ step by step. At last, we compare DDQ with state-of-the-art conventional detectors and recent end-to-end detectors on MS COCO and CrowdHuman, which show that DDQ blends the advantages of two design paradigms. The latency of current popular models and DDQ is compared in our supplementary material.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Datasets</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">MS COCO 2017Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> detection dataset is mainly used for comparison and ablation studies. It contains 118k training, 5k validation images, and 20k test images without annotations. There are on average 7 instances per image in this dataset. We report bounding box mean average precision (AP) as the performance metric, which is the mean average precision over multiple thresholds. If not specified, AP on the validation set is set as default.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.1" class="ltx_p">Besides, we also report the performance on the CrowdHuman datasetÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>, which has 15k training images and 4.4k validation images with around 23 heavily occluded instances per image. For evaluation, we use AP, mMR, and Recall as the metrics. mMR means the average log miss rate over false positives per image ranging in <math id="S5.SS1.p2.1.m1.2" class="ltx_Math" alttext="\left[10^{-2},10^{0}\right]" display="inline"><semantics id="S5.SS1.p2.1.m1.2a"><mrow id="S5.SS1.p2.1.m1.2.2.2" xref="S5.SS1.p2.1.m1.2.2.3.cmml"><mo id="S5.SS1.p2.1.m1.2.2.2.3" xref="S5.SS1.p2.1.m1.2.2.3.cmml">[</mo><msup id="S5.SS1.p2.1.m1.1.1.1.1" xref="S5.SS1.p2.1.m1.1.1.1.1.cmml"><mn id="S5.SS1.p2.1.m1.1.1.1.1.2" xref="S5.SS1.p2.1.m1.1.1.1.1.2.cmml">10</mn><mrow id="S5.SS1.p2.1.m1.1.1.1.1.3" xref="S5.SS1.p2.1.m1.1.1.1.1.3.cmml"><mo id="S5.SS1.p2.1.m1.1.1.1.1.3a" xref="S5.SS1.p2.1.m1.1.1.1.1.3.cmml">âˆ’</mo><mn id="S5.SS1.p2.1.m1.1.1.1.1.3.2" xref="S5.SS1.p2.1.m1.1.1.1.1.3.2.cmml">2</mn></mrow></msup><mo id="S5.SS1.p2.1.m1.2.2.2.4" xref="S5.SS1.p2.1.m1.2.2.3.cmml">,</mo><msup id="S5.SS1.p2.1.m1.2.2.2.2" xref="S5.SS1.p2.1.m1.2.2.2.2.cmml"><mn id="S5.SS1.p2.1.m1.2.2.2.2.2" xref="S5.SS1.p2.1.m1.2.2.2.2.2.cmml">10</mn><mn id="S5.SS1.p2.1.m1.2.2.2.2.3" xref="S5.SS1.p2.1.m1.2.2.2.2.3.cmml">0</mn></msup><mo id="S5.SS1.p2.1.m1.2.2.2.5" xref="S5.SS1.p2.1.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.2b"><interval closure="closed" id="S5.SS1.p2.1.m1.2.2.3.cmml" xref="S5.SS1.p2.1.m1.2.2.2"><apply id="S5.SS1.p2.1.m1.1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.1.1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1.1.1">superscript</csymbol><cn type="integer" id="S5.SS1.p2.1.m1.1.1.1.1.2.cmml" xref="S5.SS1.p2.1.m1.1.1.1.1.2">10</cn><apply id="S5.SS1.p2.1.m1.1.1.1.1.3.cmml" xref="S5.SS1.p2.1.m1.1.1.1.1.3"><minus id="S5.SS1.p2.1.m1.1.1.1.1.3.1.cmml" xref="S5.SS1.p2.1.m1.1.1.1.1.3"></minus><cn type="integer" id="S5.SS1.p2.1.m1.1.1.1.1.3.2.cmml" xref="S5.SS1.p2.1.m1.1.1.1.1.3.2">2</cn></apply></apply><apply id="S5.SS1.p2.1.m1.2.2.2.2.cmml" xref="S5.SS1.p2.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.2.2.2.2.1.cmml" xref="S5.SS1.p2.1.m1.2.2.2.2">superscript</csymbol><cn type="integer" id="S5.SS1.p2.1.m1.2.2.2.2.2.cmml" xref="S5.SS1.p2.1.m1.2.2.2.2.2">10</cn><cn type="integer" id="S5.SS1.p2.1.m1.2.2.2.2.3.cmml" xref="S5.SS1.p2.1.m1.2.2.2.2.3">0</cn></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.2c">\left[10^{-2},10^{0}\right]</annotation></semantics></math> following the official report <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. A lower value of mMR means a better quality of high-scoring bounding boxes. All evaluation results are reported on the CrowdHuman validation subset.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Setting</h3>

<div id="S5.SS2.p1" class="ltx_para ltx_noindent">
<p id="S5.SS2.p1.3" class="ltx_p"><span id="S5.SS2.p1.3.1" class="ltx_text ltx_font_bold">COCO</span> ResNet-50Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> is the default backbone in this study if not specified. Most models adopt the 1x(12 epochs) training protocol in MMDetectionÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. AdamWÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> optimizer is used. For DDQ FCN, we set the initial learning rate to <math id="S5.SS2.p1.1.m1.1" class="ltx_Math" alttext="5\times 10^{-5}" display="inline"><semantics id="S5.SS2.p1.1.m1.1a"><mrow id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml"><mn id="S5.SS2.p1.1.m1.1.1.2" xref="S5.SS2.p1.1.m1.1.1.2.cmml">5</mn><mo lspace="0.222em" rspace="0.222em" id="S5.SS2.p1.1.m1.1.1.1" xref="S5.SS2.p1.1.m1.1.1.1.cmml">Ã—</mo><msup id="S5.SS2.p1.1.m1.1.1.3" xref="S5.SS2.p1.1.m1.1.1.3.cmml"><mn id="S5.SS2.p1.1.m1.1.1.3.2" xref="S5.SS2.p1.1.m1.1.1.3.2.cmml">10</mn><mrow id="S5.SS2.p1.1.m1.1.1.3.3" xref="S5.SS2.p1.1.m1.1.1.3.3.cmml"><mo id="S5.SS2.p1.1.m1.1.1.3.3a" xref="S5.SS2.p1.1.m1.1.1.3.3.cmml">âˆ’</mo><mn id="S5.SS2.p1.1.m1.1.1.3.3.2" xref="S5.SS2.p1.1.m1.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><apply id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1"><times id="S5.SS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1.1"></times><cn type="integer" id="S5.SS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.p1.1.m1.1.1.2">5</cn><apply id="S5.SS2.p1.1.m1.1.1.3.cmml" xref="S5.SS2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S5.SS2.p1.1.m1.1.1.3.1.cmml" xref="S5.SS2.p1.1.m1.1.1.3">superscript</csymbol><cn type="integer" id="S5.SS2.p1.1.m1.1.1.3.2.cmml" xref="S5.SS2.p1.1.m1.1.1.3.2">10</cn><apply id="S5.SS2.p1.1.m1.1.1.3.3.cmml" xref="S5.SS2.p1.1.m1.1.1.3.3"><minus id="S5.SS2.p1.1.m1.1.1.3.3.1.cmml" xref="S5.SS2.p1.1.m1.1.1.3.3"></minus><cn type="integer" id="S5.SS2.p1.1.m1.1.1.3.3.2.cmml" xref="S5.SS2.p1.1.m1.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">5\times 10^{-5}</annotation></semantics></math> and weight decay to 0.1. For DDQ R-CNN, we used a learning rate of <math id="S5.SS2.p1.2.m2.1" class="ltx_Math" alttext="10^{-4}" display="inline"><semantics id="S5.SS2.p1.2.m2.1a"><msup id="S5.SS2.p1.2.m2.1.1" xref="S5.SS2.p1.2.m2.1.1.cmml"><mn id="S5.SS2.p1.2.m2.1.1.2" xref="S5.SS2.p1.2.m2.1.1.2.cmml">10</mn><mrow id="S5.SS2.p1.2.m2.1.1.3" xref="S5.SS2.p1.2.m2.1.1.3.cmml"><mo id="S5.SS2.p1.2.m2.1.1.3a" xref="S5.SS2.p1.2.m2.1.1.3.cmml">âˆ’</mo><mn id="S5.SS2.p1.2.m2.1.1.3.2" xref="S5.SS2.p1.2.m2.1.1.3.2.cmml">4</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.2.m2.1b"><apply id="S5.SS2.p1.2.m2.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.2.m2.1.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1">superscript</csymbol><cn type="integer" id="S5.SS2.p1.2.m2.1.1.2.cmml" xref="S5.SS2.p1.2.m2.1.1.2">10</cn><apply id="S5.SS2.p1.2.m2.1.1.3.cmml" xref="S5.SS2.p1.2.m2.1.1.3"><minus id="S5.SS2.p1.2.m2.1.1.3.1.cmml" xref="S5.SS2.p1.2.m2.1.1.3"></minus><cn type="integer" id="S5.SS2.p1.2.m2.1.1.3.2.cmml" xref="S5.SS2.p1.2.m2.1.1.3.2">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.2.m2.1c">10^{-4}</annotation></semantics></math> and weight decay of 0.05. The learning rate for both two CNN-based detectors decayed with a ratio of 0.1 at epoch 9 and epoch 12. For DDQ DETR, we utilized a learning rate of <math id="S5.SS2.p1.3.m3.1" class="ltx_Math" alttext="2\times 10^{-4}" display="inline"><semantics id="S5.SS2.p1.3.m3.1a"><mrow id="S5.SS2.p1.3.m3.1.1" xref="S5.SS2.p1.3.m3.1.1.cmml"><mn id="S5.SS2.p1.3.m3.1.1.2" xref="S5.SS2.p1.3.m3.1.1.2.cmml">2</mn><mo lspace="0.222em" rspace="0.222em" id="S5.SS2.p1.3.m3.1.1.1" xref="S5.SS2.p1.3.m3.1.1.1.cmml">Ã—</mo><msup id="S5.SS2.p1.3.m3.1.1.3" xref="S5.SS2.p1.3.m3.1.1.3.cmml"><mn id="S5.SS2.p1.3.m3.1.1.3.2" xref="S5.SS2.p1.3.m3.1.1.3.2.cmml">10</mn><mrow id="S5.SS2.p1.3.m3.1.1.3.3" xref="S5.SS2.p1.3.m3.1.1.3.3.cmml"><mo id="S5.SS2.p1.3.m3.1.1.3.3a" xref="S5.SS2.p1.3.m3.1.1.3.3.cmml">âˆ’</mo><mn id="S5.SS2.p1.3.m3.1.1.3.3.2" xref="S5.SS2.p1.3.m3.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.3.m3.1b"><apply id="S5.SS2.p1.3.m3.1.1.cmml" xref="S5.SS2.p1.3.m3.1.1"><times id="S5.SS2.p1.3.m3.1.1.1.cmml" xref="S5.SS2.p1.3.m3.1.1.1"></times><cn type="integer" id="S5.SS2.p1.3.m3.1.1.2.cmml" xref="S5.SS2.p1.3.m3.1.1.2">2</cn><apply id="S5.SS2.p1.3.m3.1.1.3.cmml" xref="S5.SS2.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S5.SS2.p1.3.m3.1.1.3.1.cmml" xref="S5.SS2.p1.3.m3.1.1.3">superscript</csymbol><cn type="integer" id="S5.SS2.p1.3.m3.1.1.3.2.cmml" xref="S5.SS2.p1.3.m3.1.1.3.2">10</cn><apply id="S5.SS2.p1.3.m3.1.1.3.3.cmml" xref="S5.SS2.p1.3.m3.1.1.3.3"><minus id="S5.SS2.p1.3.m3.1.1.3.3.1.cmml" xref="S5.SS2.p1.3.m3.1.1.3.3"></minus><cn type="integer" id="S5.SS2.p1.3.m3.1.1.3.3.2.cmml" xref="S5.SS2.p1.3.m3.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.3.m3.1c">2\times 10^{-4}</annotation></semantics></math> and a weight decay of 0.05, and the learning rate decayed with a ratio of 0.1 at epoch 12 only. To ensure a fair comparison with other studies, we classified our data augmentation into three types : <em id="S5.SS2.p1.3.2" class="ltx_emph ltx_font_italic">Normal</em>, <em id="S5.SS2.p1.3.3" class="ltx_emph ltx_font_italic">Multi-Scale</em>, and <em id="S5.SS2.p1.3.4" class="ltx_emph ltx_font_italic">DETR</em>. <em id="S5.SS2.p1.3.5" class="ltx_emph ltx_font_italic">Normal</em> augmentation rescaled images to a short side of 800 pixels, with only random flips applied. For <em id="S5.SS2.p1.3.6" class="ltx_emph ltx_font_italic">Multi-Scale</em> augmentation, we used the classic multi-scale training range (480â€“800). Finally, the <em id="S5.SS2.p1.3.7" class="ltx_emph ltx_font_italic">DETR</em> augmentation followed that of the study by Carion et al.Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para ltx_noindent">
<p id="S5.SS2.p2.1" class="ltx_p"><span id="S5.SS2.p2.1.1" class="ltx_text ltx_font_bold">CrowdHuman</span> ResNet-50Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> is the default backbone. All conventional detectors and DDQ adopt the 3x (36 epochs) schedule with multi-scale trainingÂ (480-800). All optimizer-related parameters are consistent with the setting on COCO. For end-to-end detectors with sparse queries, we follow the schedule(50 epochs) in Sparse R-CNN due to their slow convergence. The max detected instance number is changed to 500 for all conventional detectors following the <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>. For a fair comparison, We increase the number of queries to 500 for DDQ FCN/R-CNN, Sparse R-CNN, and Deform DETR. For DDQ DETR, we just keep the same 900 queries as COCO.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Evolving to DDQ</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">In this section, we show how detectors of different architectures evolve to DDQ. We can validate the importance of both density and distinctness from such a progressive development.</p>
</div>
<div id="S5.SS3.p2" class="ltx_para ltx_noindent">
<p id="S5.SS3.p2.1" class="ltx_p"><span id="S5.SS3.p2.1.1" class="ltx_text ltx_font_bold">From FCOS* to DDQ FCN</span> In Table.Â <a href="#S5.T1" title="Table 1 â€£ 5.3 Evolving to DDQ â€£ 5 Experiments â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, We start from an FCOS equipped with the bipartite matching algorithm in DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> and our main loss components mentioned in Sec.Â <a href="#S4.F3" title="Figure 3 â€£ 4.1 Paradigm of DDQ â€£ 4 Method â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, which is denoted as FCOS*. We adopt the <em id="S5.SS3.p2.1.2" class="ltx_emph ltx_font_italic">normal</em> augmentation that is mentioned in <a href="#S5.SS2" title="5.2 Setting â€£ 5 Experiments â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.2</span></a> and train the model for 12 epochs. Due to the lack of cross-level interaction, its performance is quite unstable and fluctuates between 24.5 AP and 36.5 AP in a few successful experiments. We select the best result 36.5 as our baseline. After adding pyramid shuffle operations to interact with cross-level queries, the training becomes stable and gets 1.1 AP improvement with only 0.2 G flops and 0.2 ms latency increase. Adding a distinct queries selection operation boosts the performance from 37.6 AP to 40.6 AP with only 0.3 ms latency. Such a 3 AP improvement demonstrates that the distinctness of queries is vital for the one-to-one assignment. After adding an auxiliary loss for dense queries following DeFCNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>, we get DDQ FCN with a state-of-the-art performance of 41.5 AP. DQS on the strong baseline (equipped with pyramid shuffle and
auxiliary loss) can be found in Table.Â <a href="#A9.T14" title="Table 14 â€£ Appendix I DQS with Different IoU Threshold in CrowdHuman â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a>. DQS still improves 2 AP (from 39.5 to 41.5).</p>
</div>
<figure id="S5.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T1.5.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S5.T1.6.2" class="ltx_text ltx_font_bold" style="font-size:90%;">From FCOS* to DDQ FCN.<span id="S5.T1.6.2.1" class="ltx_text ltx_font_medium"> PS stands for pyramid shuffle, and DQS means distinct queries selection operation. We also report the latency(L) and the flops(F).</span></span></figcaption>
<div id="S5.T1.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:206.4pt;height:81pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-11.5pt,4.5pt) scale(0.9,0.9) ;">
<table id="S5.T1.2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T1.2.2.2" class="ltx_tr">
<th id="S5.T1.2.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Method</th>
<td id="S5.T1.2.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP</td>
<td id="S5.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP<sub id="S5.T1.1.1.1.1.1" class="ltx_sub"><span id="S5.T1.1.1.1.1.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</td>
<td id="S5.T1.2.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP<sub id="S5.T1.2.2.2.2.1" class="ltx_sub"><span id="S5.T1.2.2.2.2.1.1" class="ltx_text ltx_font_italic">75</span></sub>
</td>
<td id="S5.T1.2.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">L(ms)</td>
<td id="S5.T1.2.2.2.6" class="ltx_td ltx_align_center ltx_border_t">F(G)</td>
</tr>
<tr id="S5.T1.2.2.3.1" class="ltx_tr">
<th id="S5.T1.2.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">FCOS*</th>
<td id="S5.T1.2.2.3.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">36.5</td>
<td id="S5.T1.2.2.3.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">54.4</td>
<td id="S5.T1.2.2.3.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">40.3</td>
<td id="S5.T1.2.2.3.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">21.9</td>
<td id="S5.T1.2.2.3.1.6" class="ltx_td ltx_align_center ltx_border_t">200.5</td>
</tr>
<tr id="S5.T1.2.2.4.2" class="ltx_tr">
<th id="S5.T1.2.2.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">+ <span id="S5.T1.2.2.4.2.1.1" class="ltx_text ltx_font_bold">PS</span>
</th>
<td id="S5.T1.2.2.4.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">37.6</td>
<td id="S5.T1.2.2.4.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">56.3</td>
<td id="S5.T1.2.2.4.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">41.3</td>
<td id="S5.T1.2.2.4.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">22.1</td>
<td id="S5.T1.2.2.4.2.6" class="ltx_td ltx_align_center ltx_border_t">200.7</td>
</tr>
<tr id="S5.T1.2.2.5.3" class="ltx_tr">
<th id="S5.T1.2.2.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">+<span id="S5.T1.2.2.5.3.1.1" class="ltx_text ltx_font_bold">DQS</span>
</th>
<td id="S5.T1.2.2.5.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">40.6</td>
<td id="S5.T1.2.2.5.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">60.3</td>
<td id="S5.T1.2.2.5.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">44.5</td>
<td id="S5.T1.2.2.5.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">22.4</td>
<td id="S5.T1.2.2.5.3.6" class="ltx_td ltx_align_center ltx_border_t">200.7</td>
</tr>
<tr id="S5.T1.2.2.6.4" class="ltx_tr">
<th id="S5.T1.2.2.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">DDQ FCN</th>
<td id="S5.T1.2.2.6.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">41.5</td>
<td id="S5.T1.2.2.6.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">60.9</td>
<td id="S5.T1.2.2.6.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">45.4</td>
<td id="S5.T1.2.2.6.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">22.4</td>
<td id="S5.T1.2.2.6.4.6" class="ltx_td ltx_align_center ltx_border_t">200.7</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S5.SS3.p3" class="ltx_para ltx_noindent">
<p id="S5.SS3.p3.1" class="ltx_p"><span id="S5.SS3.p3.1.1" class="ltx_text ltx_font_bold">From Sparse R-CNN to DDQ R-CNN</span> Table. <a href="#S5.T2" title="Table 2 â€£ 5.3 Evolving to DDQ â€£ 5 Experiments â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows a progressive development from Sparse R-CNN to DDQ R-CNN. Sparse R-CNN with 300 queries achieves 39.4 AP within 12 epochs using the <em id="S5.SS3.p3.1.2" class="ltx_emph ltx_font_italic">normal</em> augmentation that is mentioned in Sec.<a href="#S5.SS2" title="5.2 Setting â€£ 5 Experiments â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.2</span></a>. Increasing the number of queries to 7000 improves the performance to 40.6 AP, at the cost of a quite heavy detector. Applying a distinct queries selection at the beginning of each stage boosts the performance by 2.5 AP to 43.1 AP. At last, by replacing the first four refining stages with our DDQ FCN, which not only makes the structure more light-weighted but also allows even denser input queries, the performance further increases to 44.6 AP.</p>
</div>
<figure id="S5.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T2.5.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="S5.T2.6.2" class="ltx_text ltx_font_bold" style="font-size:90%;">From Sparse R-CNN to DDQ R-CNN<span id="S5.T2.6.2.1" class="ltx_text ltx_font_medium">. Q means the query, and DQS stands for the distinct queries selection </span></span></figcaption>
<div id="S5.T2.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:222.0pt;height:81pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-12.3pt,4.5pt) scale(0.9,0.9) ;">
<table id="S5.T2.2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T2.2.2.2" class="ltx_tr">
<th id="S5.T2.2.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Method</th>
<td id="S5.T2.2.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP</td>
<td id="S5.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP<sub id="S5.T2.1.1.1.1.1" class="ltx_sub"><span id="S5.T2.1.1.1.1.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</td>
<td id="S5.T2.2.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP<sub id="S5.T2.2.2.2.2.1" class="ltx_sub"><span id="S5.T2.2.2.2.2.1.1" class="ltx_text ltx_font_italic">75</span></sub>
</td>
<td id="S5.T2.2.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">L(ms)</td>
<td id="S5.T2.2.2.2.6" class="ltx_td ltx_align_center ltx_border_t">F(G)</td>
</tr>
<tr id="S5.T2.2.2.3.1" class="ltx_tr">
<th id="S5.T2.2.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Sparse R-CNN</th>
<td id="S5.T2.2.2.3.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">39.4</td>
<td id="S5.T2.2.2.3.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">57.7</td>
<td id="S5.T2.2.2.3.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">42.5</td>
<td id="S5.T2.2.2.3.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.0</td>
<td id="S5.T2.2.2.3.1.6" class="ltx_td ltx_align_center ltx_border_t">160.2</td>
</tr>
<tr id="S5.T2.2.2.4.2" class="ltx_tr">
<th id="S5.T2.2.2.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">+7000Q</th>
<td id="S5.T2.2.2.4.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">40.6</td>
<td id="S5.T2.2.2.4.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">58.7</td>
<td id="S5.T2.2.2.4.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">44.0</td>
<td id="S5.T2.2.2.4.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">135.0</td>
<td id="S5.T2.2.2.4.2.6" class="ltx_td ltx_align_center ltx_border_t">781.0</td>
</tr>
<tr id="S5.T2.2.2.5.3" class="ltx_tr">
<th id="S5.T2.2.2.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">+<span id="S5.T2.2.2.5.3.1.1" class="ltx_text ltx_font_bold">DQS</span>
</th>
<td id="S5.T2.2.2.5.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">43.1</td>
<td id="S5.T2.2.2.5.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.6</td>
<td id="S5.T2.2.2.5.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">47.1</td>
<td id="S5.T2.2.2.5.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">135.0</td>
<td id="S5.T2.2.2.5.3.6" class="ltx_td ltx_align_center ltx_border_t">781.0</td>
</tr>
<tr id="S5.T2.2.2.6.4" class="ltx_tr">
<th id="S5.T2.2.2.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">DDQ R-CNN</th>
<td id="S5.T2.2.2.6.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">44.6</td>
<td id="S5.T2.2.2.6.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">63.0</td>
<td id="S5.T2.2.2.6.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">48.8</td>
<td id="S5.T2.2.2.6.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.3</td>
<td id="S5.T2.2.2.6.4.6" class="ltx_td ltx_align_center ltx_border_t">248.5</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S5.SS3.p4" class="ltx_para ltx_noindent">
<p id="S5.SS3.p4.1" class="ltx_p"><span id="S5.SS3.p4.1.1" class="ltx_text ltx_font_bold">From Deformable DETR* to DDQ DETR</span> Table <a href="#S5.T3" title="Table 3 â€£ 5.3 Evolving to DDQ â€£ 5 Experiments â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> illustrates the progressive development from Deformable DETR* to DDQ DETR. Deformable DETR* achieves 45.4 AP with 900 queries within 12 epochs using the DETR augmentation mentioned in Sec.<a href="#S5.SS2" title="5.2 Setting â€£ 5 Experiments â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.2</span></a>. By employing a linear layer to process the dense queries on the feature pyramid and constructing content parts with feature embeddings, the performance increases to 48.5 AP. However, initializing the content part as Two-Stage Deformable DETR(TS D-DETR) with mapped coordinates only achieves 46.7 AP, which is due to the lack of distinctness in the coordinates compared to the feature embedding. Adding an auxiliary loss for the decoder improves performance to 50.0 AP. Furthermore, by adding DQS before each refining stage, the performance further increases to 50.7 AP. Finally, by adding the P2 feature and 100 CDN queries as in DINOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>, we achieve an impressive 52.1 AP, surpassing all detectors in the same setting. We show distinctness can be complementary to CDN in Table.Â <a href="#A9.T14" title="Table 14 â€£ Appendix I DQS with Different IoU Threshold in CrowdHuman â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a> and analyze the reason in our supplementary material.</p>
</div>
<figure id="S5.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T3.6.1.1" class="ltx_text" style="font-size:90%;">Table 3</span>: </span><span id="S5.T3.7.2" class="ltx_text ltx_font_bold" style="font-size:90%;">From Deformable DETR*(D-DETR) to DDQ DETR<span id="S5.T3.7.2.1" class="ltx_text ltx_font_medium">. TS D-DETR stands for the naive two-stage version. Dense means initializing the content part with feature embedding. DQS stands for distinct queries selection. AUX-Decoder means the auxiliary loss for dense queries in the decoder. The flops only has comparative meaning and does not contain custom cuda operators</span></span></figcaption>
<div id="S5.T3.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:226.8pt;height:113.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-12.6pt,6.3pt) scale(0.9,0.9) ;">
<table id="S5.T3.3.3" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T3.2.2.2" class="ltx_tr">
<th id="S5.T3.2.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">Method</th>
<th id="S5.T3.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP</th>
<th id="S5.T3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP<sub id="S5.T3.1.1.1.1.1" class="ltx_sub"><span id="S5.T3.1.1.1.1.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</th>
<th id="S5.T3.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP<sub id="S5.T3.2.2.2.2.1" class="ltx_sub"><span id="S5.T3.2.2.2.2.1.1" class="ltx_text ltx_font_italic">75</span></sub>
</th>
<th id="S5.T3.2.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">L(ms)</th>
<th id="S5.T3.2.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">F(G)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T3.3.3.4.1" class="ltx_tr">
<td id="S5.T3.3.3.4.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">D-DETR*</td>
<td id="S5.T3.3.3.4.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">45.4</td>
<td id="S5.T3.3.3.4.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">63.0</td>
<td id="S5.T3.3.3.4.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">49.1</td>
<td id="S5.T3.3.3.4.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">45</td>
<td id="S5.T3.3.3.4.1.6" class="ltx_td ltx_align_center ltx_border_t">264</td>
</tr>
<tr id="S5.T3.3.3.5.2" class="ltx_tr">
<td id="S5.T3.3.3.5.2.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">TS D-DETR</td>
<td id="S5.T3.3.3.5.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46.7</td>
<td id="S5.T3.3.3.5.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">64.5</td>
<td id="S5.T3.3.3.5.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.8</td>
<td id="S5.T3.3.3.5.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46</td>
<td id="S5.T3.3.3.5.2.6" class="ltx_td ltx_align_center ltx_border_t">269</td>
</tr>
<tr id="S5.T3.3.3.6.3" class="ltx_tr">
<td id="S5.T3.3.3.6.3.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">+<span id="S5.T3.3.3.6.3.1.1" class="ltx_text ltx_font_bold">Dense</span>
</td>
<td id="S5.T3.3.3.6.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">48.5</td>
<td id="S5.T3.3.3.6.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">66.2</td>
<td id="S5.T3.3.3.6.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">52.7</td>
<td id="S5.T3.3.3.6.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">47</td>
<td id="S5.T3.3.3.6.3.6" class="ltx_td ltx_align_center ltx_border_t">270</td>
</tr>
<tr id="S5.T3.3.3.7.4" class="ltx_tr">
<td id="S5.T3.3.3.7.4.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">+AUX-Decoder</td>
<td id="S5.T3.3.3.7.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.0</td>
<td id="S5.T3.3.3.7.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">67.4</td>
<td id="S5.T3.3.3.7.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">54.8</td>
<td id="S5.T3.3.3.7.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">47</td>
<td id="S5.T3.3.3.7.4.6" class="ltx_td ltx_align_center ltx_border_t">270</td>
</tr>
<tr id="S5.T3.3.3.8.5" class="ltx_tr">
<td id="S5.T3.3.3.8.5.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">+<span id="S5.T3.3.3.8.5.1.1" class="ltx_text ltx_font_bold">DQS</span>
</td>
<td id="S5.T3.3.3.8.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.7</td>
<td id="S5.T3.3.3.8.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">68.1</td>
<td id="S5.T3.3.3.8.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">55.7</td>
<td id="S5.T3.3.3.8.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">58</td>
<td id="S5.T3.3.3.8.5.6" class="ltx_td ltx_align_center ltx_border_t">270</td>
</tr>
<tr id="S5.T3.3.3.3" class="ltx_tr">
<td id="S5.T3.3.3.3.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">DDQ DETR<sub id="S5.T3.3.3.3.1.1" class="ltx_sub"><span id="S5.T3.3.3.3.1.1.1" class="ltx_text ltx_font_italic">5scale</span></sub>
</td>
<td id="S5.T3.3.3.3.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">52.1</td>
<td id="S5.T3.3.3.3.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">68.9</td>
<td id="S5.T3.3.3.3.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">57.3</td>
<td id="S5.T3.3.3.3.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">114</td>
<td id="S5.T3.3.3.3.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_t">860</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S5.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>Comparison with Other Detectors</h3>

<div id="S5.SS4.p1" class="ltx_para ltx_noindent">
<p id="S5.SS4.p1.1" class="ltx_p"><span id="S5.SS4.p1.1.1" class="ltx_text ltx_font_bold">Results on CrowdHuman</span> We select some recent representative studies for comparison with DDQ on crowded scenes. It is seen that traditional detectors struggle between a low recall rate and a high false positive rate. Although DWÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> assignment is the recent state-of-the-art one-to-many assignment strategy and shows a clear increase in Recall compared to ATSS, it suffers from more serious false predictions and thus leads to a high mMR. The performance of such traditional detectors is limited by the post-processing NMS. In the supplementary material, we also show it can not be properly handled by adjusting the IoU threshold because it is training unaware.</p>
</div>
<div id="S5.SS4.p2" class="ltx_para">
<p id="S5.SS4.p2.1" class="ltx_p">End-to-end detectors can achieve a higher theoretical recall rate due to the removal of NMS as a post-process. However, a high recall is not guaranteed in Sparse R-CNN and Deformable DETR due to their sparse query design. Although DeFCNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> achieves a better performance than other end-to-end methods by adopting dense queries, it is still difficult for DeFCN to distinguish between crowded objects and duplicated predictions(optimization difficulty) which affects the mMR.</p>
</div>
<figure id="S5.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T4.3.1.1" class="ltx_text" style="font-size:90%;">Table 4</span>: </span><span id="S5.T4.4.2" class="ltx_text" style="font-size:90%;">Performance on CrowdHuman</span></figcaption>
<div id="S5.T4.1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:214.5pt;height:162pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-11.9pt,9.0pt) scale(0.9,0.9) ;">
<table id="S5.T4.1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T4.1.1.1.1" class="ltx_tr">
<th id="S5.T4.1.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Method</th>
<th id="S5.T4.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Epochs</th>
<th id="S5.T4.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP<sub id="S5.T4.1.1.1.1.1.1" class="ltx_sub"><span id="S5.T4.1.1.1.1.1.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</th>
<th id="S5.T4.1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">mMR</th>
<th id="S5.T4.1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Recall</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T4.1.1.1.2.1" class="ltx_tr">
<th id="S5.T4.1.1.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">ATSS</th>
<th id="S5.T4.1.1.1.2.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">36</th>
<td id="S5.T4.1.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">89.6</td>
<td id="S5.T4.1.1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">44.4</td>
<td id="S5.T4.1.1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t">95.9</td>
</tr>
<tr id="S5.T4.1.1.1.3.2" class="ltx_tr">
<th id="S5.T4.1.1.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">DW</th>
<th id="S5.T4.1.1.1.3.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">36</th>
<td id="S5.T4.1.1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r">89.0</td>
<td id="S5.T4.1.1.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r">57.6</td>
<td id="S5.T4.1.1.1.3.2.5" class="ltx_td ltx_align_center">97.4</td>
</tr>
<tr id="S5.T4.1.1.1.4.3" class="ltx_tr">
<th id="S5.T4.1.1.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Cascade R-CNN</th>
<th id="S5.T4.1.1.1.4.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">36</th>
<td id="S5.T4.1.1.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r">86.0</td>
<td id="S5.T4.1.1.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r">44.1</td>
<td id="S5.T4.1.1.1.4.3.5" class="ltx_td ltx_align_center">89.2</td>
</tr>
<tr id="S5.T4.1.1.1.5.4" class="ltx_tr">
<th id="S5.T4.1.1.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Sparse R-CNN</th>
<th id="S5.T4.1.1.1.5.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">50</th>
<td id="S5.T4.1.1.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r">89.2</td>
<td id="S5.T4.1.1.1.5.4.4" class="ltx_td ltx_align_center ltx_border_r">48.3</td>
<td id="S5.T4.1.1.1.5.4.5" class="ltx_td ltx_align_center">95.9</td>
</tr>
<tr id="S5.T4.1.1.1.6.5" class="ltx_tr">
<th id="S5.T4.1.1.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Deform DETR</th>
<th id="S5.T4.1.1.1.6.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">50</th>
<td id="S5.T4.1.1.1.6.5.3" class="ltx_td ltx_align_center ltx_border_r">89.1</td>
<td id="S5.T4.1.1.1.6.5.4" class="ltx_td ltx_align_center ltx_border_r">50.0</td>
<td id="S5.T4.1.1.1.6.5.5" class="ltx_td ltx_align_center">95.3</td>
</tr>
<tr id="S5.T4.1.1.1.7.6" class="ltx_tr">
<th id="S5.T4.1.1.1.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">DeFCN</th>
<th id="S5.T4.1.1.1.7.6.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">36</th>
<td id="S5.T4.1.1.1.7.6.3" class="ltx_td ltx_align_center ltx_border_r">91.0</td>
<td id="S5.T4.1.1.1.7.6.4" class="ltx_td ltx_align_center ltx_border_r">46.5</td>
<td id="S5.T4.1.1.1.7.6.5" class="ltx_td ltx_align_center">97.9</td>
</tr>
<tr id="S5.T4.1.1.1.8.7" class="ltx_tr">
<th id="S5.T4.1.1.1.8.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.8.7.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ FCN</span></th>
<th id="S5.T4.1.1.1.8.7.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.8.7.2.1" class="ltx_text" style="background-color:#E6E6E6;">36</span></th>
<td id="S5.T4.1.1.1.8.7.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.8.7.3.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">92.7</span></td>
<td id="S5.T4.1.1.1.8.7.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.8.7.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">41.0</span></td>
<td id="S5.T4.1.1.1.8.7.5" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.8.7.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">98.2</span></td>
</tr>
<tr id="S5.T4.1.1.1.9.8" class="ltx_tr">
<th id="S5.T4.1.1.1.9.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.9.8.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ R-CNN</span></th>
<th id="S5.T4.1.1.1.9.8.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.9.8.2.1" class="ltx_text" style="background-color:#E6E6E6;">36</span></th>
<td id="S5.T4.1.1.1.9.8.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.9.8.3.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">93.5</span></td>
<td id="S5.T4.1.1.1.9.8.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.9.8.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">40.4</span></td>
<td id="S5.T4.1.1.1.9.8.5" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.9.8.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">98.6</span></td>
</tr>
<tr id="S5.T4.1.1.1.10.9" class="ltx_tr">
<th id="S5.T4.1.1.1.10.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.10.9.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ DETR</span></th>
<th id="S5.T4.1.1.1.10.9.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.10.9.2.1" class="ltx_text" style="background-color:#E6E6E6;">36</span></th>
<td id="S5.T4.1.1.1.10.9.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.10.9.3.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">93.8</span></td>
<td id="S5.T4.1.1.1.10.9.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.10.9.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">39.7</span></td>
<td id="S5.T4.1.1.1.10.9.5" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T4.1.1.1.10.9.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">98.7</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S5.SS4.p3" class="ltx_para">
<p id="S5.SS4.p3.1" class="ltx_p">In contrast, DDQ surpasses these detectors on all metrics by a clear margin. For one thing, DDQ leads in Recall due to the dense queries that could cover most objects. For the other, DDQ also achieves the lowest mMR, as a merit of the distinctness among queries so that the detector can better differentiate false predictions.</p>
</div>
<figure id="S5.T5" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T5.17.1.1" class="ltx_text" style="font-size:90%;">Table 5</span>: </span><span id="S5.T5.18.2" class="ltx_text" style="font-size:90%;">Results on COCO Dataset. For DW, the * means we have retrained it with the same augmentation(480-800) as other methods using official implementation.</span></figcaption>
<div id="S5.T5.15" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:524.1pt;height:502.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-29.1pt,27.9pt) scale(0.9,0.9) ;">
<table id="S5.T5.15.15" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T5.6.6.6" class="ltx_tr">
<td id="S5.T5.6.6.6.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Method</td>
<td id="S5.T5.6.6.6.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Backbone</td>
<td id="S5.T5.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Val<math id="S5.T5.1.1.1.1.m1.1" class="ltx_Math" alttext="/" display="inline"><semantics id="S5.T5.1.1.1.1.m1.1a"><mo id="S5.T5.1.1.1.1.m1.1.1" xref="S5.T5.1.1.1.1.m1.1.1.cmml">/</mo><annotation-xml encoding="MathML-Content" id="S5.T5.1.1.1.1.m1.1b"><divide id="S5.T5.1.1.1.1.m1.1.1.cmml" xref="S5.T5.1.1.1.1.m1.1.1"></divide></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.1.1.1.1.m1.1c">/</annotation></semantics></math>Test</td>
<td id="S5.T5.6.6.6.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Epochs</td>
<td id="S5.T5.6.6.6.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP</td>
<td id="S5.T5.2.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP<sub id="S5.T5.2.2.2.2.1" class="ltx_sub"><span id="S5.T5.2.2.2.2.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</td>
<td id="S5.T5.3.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP<sub id="S5.T5.3.3.3.3.1" class="ltx_sub"><span id="S5.T5.3.3.3.3.1.1" class="ltx_text ltx_font_italic">75</span></sub>
</td>
<td id="S5.T5.4.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP<sub id="S5.T5.4.4.4.4.1" class="ltx_sub"><span id="S5.T5.4.4.4.4.1.1" class="ltx_text ltx_font_italic">s</span></sub>
</td>
<td id="S5.T5.5.5.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AP<sub id="S5.T5.5.5.5.5.1" class="ltx_sub"><span id="S5.T5.5.5.5.5.1.1" class="ltx_text ltx_font_italic">m</span></sub>
</td>
<td id="S5.T5.6.6.6.6" class="ltx_td ltx_align_center ltx_border_t">AP<sub id="S5.T5.6.6.6.6.1" class="ltx_sub"><span id="S5.T5.6.6.6.6.1.1" class="ltx_text ltx_font_italic">l</span></sub>
</td>
</tr>
<tr id="S5.T5.15.15.16.1" class="ltx_tr">
<td id="S5.T5.15.15.16.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><em id="S5.T5.15.15.16.1.1.1" class="ltx_emph ltx_font_bold ltx_font_italic">Aug:DETR</em></td>
<td id="S5.T5.15.15.16.1.2" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.16.1.3" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.16.1.4" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.16.1.5" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.16.1.6" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.16.1.7" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.16.1.8" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.16.1.9" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.16.1.10" class="ltx_td ltx_border_tt"></td>
</tr>
<tr id="S5.T5.15.15.17.2" class="ltx_tr">
<td id="S5.T5.15.15.17.2.1" class="ltx_td ltx_align_left ltx_border_r">Cascade R-CNNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>
</td>
<td id="S5.T5.15.15.17.2.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-50</td>
<td id="S5.T5.15.15.17.2.3" class="ltx_td ltx_align_center ltx_border_r">val</td>
<td id="S5.T5.15.15.17.2.4" class="ltx_td ltx_align_center ltx_border_r">36</td>
<td id="S5.T5.15.15.17.2.5" class="ltx_td ltx_align_center ltx_border_r">44.3</td>
<td id="S5.T5.15.15.17.2.6" class="ltx_td ltx_align_center ltx_border_r">62.4</td>
<td id="S5.T5.15.15.17.2.7" class="ltx_td ltx_align_center ltx_border_r">48</td>
<td id="S5.T5.15.15.17.2.8" class="ltx_td ltx_align_center ltx_border_r">26.6</td>
<td id="S5.T5.15.15.17.2.9" class="ltx_td ltx_align_center ltx_border_r">47.7</td>
<td id="S5.T5.15.15.17.2.10" class="ltx_td ltx_align_center">57.7</td>
</tr>
<tr id="S5.T5.15.15.18.3" class="ltx_tr">
<td id="S5.T5.15.15.18.3.1" class="ltx_td ltx_align_left ltx_border_r">DAB DETR<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>
</td>
<td id="S5.T5.15.15.18.3.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-50</td>
<td id="S5.T5.15.15.18.3.3" class="ltx_td ltx_align_center ltx_border_r">val</td>
<td id="S5.T5.15.15.18.3.4" class="ltx_td ltx_align_center ltx_border_r">50</td>
<td id="S5.T5.15.15.18.3.5" class="ltx_td ltx_align_center ltx_border_r">42.6</td>
<td id="S5.T5.15.15.18.3.6" class="ltx_td ltx_align_center ltx_border_r">63.2</td>
<td id="S5.T5.15.15.18.3.7" class="ltx_td ltx_align_center ltx_border_r">45.6</td>
<td id="S5.T5.15.15.18.3.8" class="ltx_td ltx_align_center ltx_border_r">21.8</td>
<td id="S5.T5.15.15.18.3.9" class="ltx_td ltx_align_center ltx_border_r">46.2</td>
<td id="S5.T5.15.15.18.3.10" class="ltx_td ltx_align_center">61.1</td>
</tr>
<tr id="S5.T5.15.15.19.4" class="ltx_tr">
<td id="S5.T5.15.15.19.4.1" class="ltx_td ltx_align_left ltx_border_r">DN-DETR<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>
</td>
<td id="S5.T5.15.15.19.4.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-50</td>
<td id="S5.T5.15.15.19.4.3" class="ltx_td ltx_align_center ltx_border_r">val</td>
<td id="S5.T5.15.15.19.4.4" class="ltx_td ltx_align_center ltx_border_r">50</td>
<td id="S5.T5.15.15.19.4.5" class="ltx_td ltx_align_center ltx_border_r">44.1</td>
<td id="S5.T5.15.15.19.4.6" class="ltx_td ltx_align_center ltx_border_r">64.4</td>
<td id="S5.T5.15.15.19.4.7" class="ltx_td ltx_align_center ltx_border_r">46.7</td>
<td id="S5.T5.15.15.19.4.8" class="ltx_td ltx_align_center ltx_border_r">22.9</td>
<td id="S5.T5.15.15.19.4.9" class="ltx_td ltx_align_center ltx_border_r">48.0</td>
<td id="S5.T5.15.15.19.4.10" class="ltx_td ltx_align_center">63.4</td>
</tr>
<tr id="S5.T5.15.15.20.5" class="ltx_tr">
<td id="S5.T5.15.15.20.5.1" class="ltx_td ltx_align_left ltx_border_r">Deformable DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>
</td>
<td id="S5.T5.15.15.20.5.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-50</td>
<td id="S5.T5.15.15.20.5.3" class="ltx_td ltx_align_center ltx_border_r">val</td>
<td id="S5.T5.15.15.20.5.4" class="ltx_td ltx_align_center ltx_border_r">50</td>
<td id="S5.T5.15.15.20.5.5" class="ltx_td ltx_align_center ltx_border_r">46.2</td>
<td id="S5.T5.15.15.20.5.6" class="ltx_td ltx_align_center ltx_border_r">65.2</td>
<td id="S5.T5.15.15.20.5.7" class="ltx_td ltx_align_center ltx_border_r">50.0</td>
<td id="S5.T5.15.15.20.5.8" class="ltx_td ltx_align_center ltx_border_r">28.8</td>
<td id="S5.T5.15.15.20.5.9" class="ltx_td ltx_align_center ltx_border_r">49.2</td>
<td id="S5.T5.15.15.20.5.10" class="ltx_td ltx_align_center">61.7</td>
</tr>
<tr id="S5.T5.15.15.21.6" class="ltx_tr">
<td id="S5.T5.15.15.21.6.1" class="ltx_td ltx_align_left ltx_border_r">Efficient DETR Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>
</td>
<td id="S5.T5.15.15.21.6.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-50</td>
<td id="S5.T5.15.15.21.6.3" class="ltx_td ltx_align_center ltx_border_r">val</td>
<td id="S5.T5.15.15.21.6.4" class="ltx_td ltx_align_center ltx_border_r">36</td>
<td id="S5.T5.15.15.21.6.5" class="ltx_td ltx_align_center ltx_border_r">44.2</td>
<td id="S5.T5.15.15.21.6.6" class="ltx_td ltx_align_center ltx_border_r">62.2</td>
<td id="S5.T5.15.15.21.6.7" class="ltx_td ltx_align_center ltx_border_r">48.0</td>
<td id="S5.T5.15.15.21.6.8" class="ltx_td ltx_align_center ltx_border_r">28.4</td>
<td id="S5.T5.15.15.21.6.9" class="ltx_td ltx_align_center ltx_border_r">47.5</td>
<td id="S5.T5.15.15.21.6.10" class="ltx_td ltx_align_center">56.6</td>
</tr>
<tr id="S5.T5.15.15.22.7" class="ltx_tr">
<td id="S5.T5.15.15.22.7.1" class="ltx_td ltx_align_left ltx_border_r">Sparse R-CNNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>
</td>
<td id="S5.T5.15.15.22.7.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-50</td>
<td id="S5.T5.15.15.22.7.3" class="ltx_td ltx_align_center ltx_border_r">val</td>
<td id="S5.T5.15.15.22.7.4" class="ltx_td ltx_align_center ltx_border_r">36</td>
<td id="S5.T5.15.15.22.7.5" class="ltx_td ltx_align_center ltx_border_r">45.0</td>
<td id="S5.T5.15.15.22.7.6" class="ltx_td ltx_align_center ltx_border_r">63.4</td>
<td id="S5.T5.15.15.22.7.7" class="ltx_td ltx_align_center ltx_border_r">48.2</td>
<td id="S5.T5.15.15.22.7.8" class="ltx_td ltx_align_center ltx_border_r">26.9</td>
<td id="S5.T5.15.15.22.7.9" class="ltx_td ltx_align_center ltx_border_r">47.2</td>
<td id="S5.T5.15.15.22.7.10" class="ltx_td ltx_align_center">59.5</td>
</tr>
<tr id="S5.T5.7.7.7" class="ltx_tr">
<td id="S5.T5.7.7.7.1" class="ltx_td ltx_align_left ltx_border_r">DINO<sub id="S5.T5.7.7.7.1.1" class="ltx_sub"><span id="S5.T5.7.7.7.1.1.1" class="ltx_text ltx_font_italic">4scales</span></sub>Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>
</td>
<td id="S5.T5.7.7.7.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-50</td>
<td id="S5.T5.7.7.7.3" class="ltx_td ltx_align_center ltx_border_r">val</td>
<td id="S5.T5.7.7.7.4" class="ltx_td ltx_align_center ltx_border_r">36</td>
<td id="S5.T5.7.7.7.5" class="ltx_td ltx_align_center ltx_border_r">50.9</td>
<td id="S5.T5.7.7.7.6" class="ltx_td ltx_align_center ltx_border_r">69.0</td>
<td id="S5.T5.7.7.7.7" class="ltx_td ltx_align_center ltx_border_r">55.3</td>
<td id="S5.T5.7.7.7.8" class="ltx_td ltx_align_center ltx_border_r">34.6</td>
<td id="S5.T5.7.7.7.9" class="ltx_td ltx_align_center ltx_border_r">54.1</td>
<td id="S5.T5.7.7.7.10" class="ltx_td ltx_align_center">64.6</td>
</tr>
<tr id="S5.T5.8.8.8" class="ltx_tr">
<td id="S5.T5.8.8.8.1" class="ltx_td ltx_align_left ltx_border_r">DINO<sub id="S5.T5.8.8.8.1.1" class="ltx_sub"><span id="S5.T5.8.8.8.1.1.1" class="ltx_text ltx_font_italic">5scales</span></sub>Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>
</td>
<td id="S5.T5.8.8.8.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-50</td>
<td id="S5.T5.8.8.8.3" class="ltx_td ltx_align_center ltx_border_r">val</td>
<td id="S5.T5.8.8.8.4" class="ltx_td ltx_align_center ltx_border_r">36</td>
<td id="S5.T5.8.8.8.5" class="ltx_td ltx_align_center ltx_border_r">51.2</td>
<td id="S5.T5.8.8.8.6" class="ltx_td ltx_align_center ltx_border_r">69.0</td>
<td id="S5.T5.8.8.8.7" class="ltx_td ltx_align_center ltx_border_r">55.8</td>
<td id="S5.T5.8.8.8.8" class="ltx_td ltx_align_center ltx_border_r">35.0</td>
<td id="S5.T5.8.8.8.9" class="ltx_td ltx_align_center ltx_border_r">54.3</td>
<td id="S5.T5.8.8.8.10" class="ltx_td ltx_align_center">65.3</td>
</tr>
<tr id="S5.T5.15.15.23.8" class="ltx_tr">
<td id="S5.T5.15.15.23.8.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.23.8.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ FCN</span></td>
<td id="S5.T5.15.15.23.8.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.23.8.2.1" class="ltx_text" style="background-color:#E6E6E6;">ResNet-50</span></td>
<td id="S5.T5.15.15.23.8.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.23.8.3.1" class="ltx_text" style="background-color:#E6E6E6;">val</span></td>
<td id="S5.T5.15.15.23.8.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.23.8.4.1" class="ltx_text" style="background-color:#E6E6E6;">36</span></td>
<td id="S5.T5.15.15.23.8.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.23.8.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">44.8</span></td>
<td id="S5.T5.15.15.23.8.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.23.8.6.1" class="ltx_text" style="background-color:#E6E6E6;">64.1</span></td>
<td id="S5.T5.15.15.23.8.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.23.8.7.1" class="ltx_text" style="background-color:#E6E6E6;">49.4</span></td>
<td id="S5.T5.15.15.23.8.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.23.8.8.1" class="ltx_text" style="background-color:#E6E6E6;">29.9</span></td>
<td id="S5.T5.15.15.23.8.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.23.8.9.1" class="ltx_text" style="background-color:#E6E6E6;">47.8</span></td>
<td id="S5.T5.15.15.23.8.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.23.8.10.1" class="ltx_text" style="background-color:#E6E6E6;">56.0</span></td>
</tr>
<tr id="S5.T5.15.15.24.9" class="ltx_tr">
<td id="S5.T5.15.15.24.9.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.24.9.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ R-CNN</span></td>
<td id="S5.T5.15.15.24.9.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.24.9.2.1" class="ltx_text" style="background-color:#E6E6E6;">ResNet-50</span></td>
<td id="S5.T5.15.15.24.9.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.24.9.3.1" class="ltx_text" style="background-color:#E6E6E6;">val</span></td>
<td id="S5.T5.15.15.24.9.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.24.9.4.1" class="ltx_text" style="background-color:#E6E6E6;">36</span></td>
<td id="S5.T5.15.15.24.9.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.24.9.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">48.1</span></td>
<td id="S5.T5.15.15.24.9.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.24.9.6.1" class="ltx_text" style="background-color:#E6E6E6;">66.6</span></td>
<td id="S5.T5.15.15.24.9.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.24.9.7.1" class="ltx_text" style="background-color:#E6E6E6;">53.0</span></td>
<td id="S5.T5.15.15.24.9.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.24.9.8.1" class="ltx_text" style="background-color:#E6E6E6;">32.3</span></td>
<td id="S5.T5.15.15.24.9.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.24.9.9.1" class="ltx_text" style="background-color:#E6E6E6;">51.2</span></td>
<td id="S5.T5.15.15.24.9.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.24.9.10.1" class="ltx_text" style="background-color:#E6E6E6;">60.7</span></td>
</tr>
<tr id="S5.T5.9.9.9" class="ltx_tr">
<td id="S5.T5.9.9.9.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.9.9.9.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ R-CNN<sub id="S5.T5.9.9.9.1.1.1" class="ltx_sub"><span id="S5.T5.9.9.9.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">with_encoder</span></sub></span></td>
<td id="S5.T5.9.9.9.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.9.9.9.2.1" class="ltx_text" style="background-color:#E6E6E6;">ResNet-50</span></td>
<td id="S5.T5.9.9.9.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.9.9.9.3.1" class="ltx_text" style="background-color:#E6E6E6;">val</span></td>
<td id="S5.T5.9.9.9.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.9.9.9.4.1" class="ltx_text" style="background-color:#E6E6E6;">36</span></td>
<td id="S5.T5.9.9.9.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.9.9.9.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">51.0</span></td>
<td id="S5.T5.9.9.9.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.9.9.9.6.1" class="ltx_text" style="background-color:#E6E6E6;">69.0</span></td>
<td id="S5.T5.9.9.9.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.9.9.9.7.1" class="ltx_text" style="background-color:#E6E6E6;">56.0</span></td>
<td id="S5.T5.9.9.9.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.9.9.9.8.1" class="ltx_text" style="background-color:#E6E6E6;">34.0</span></td>
<td id="S5.T5.9.9.9.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.9.9.9.9.1" class="ltx_text" style="background-color:#E6E6E6;">54.4</span></td>
<td id="S5.T5.9.9.9.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.9.9.9.10.1" class="ltx_text" style="background-color:#E6E6E6;">64.6</span></td>
</tr>
<tr id="S5.T5.10.10.10" class="ltx_tr">
<td id="S5.T5.10.10.10.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.10.10.10.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ DETR<sub id="S5.T5.10.10.10.1.1.1" class="ltx_sub"><span id="S5.T5.10.10.10.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">4scales</span></sub></span></td>
<td id="S5.T5.10.10.10.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.10.10.10.2.1" class="ltx_text" style="background-color:#E6E6E6;">ResNet-50</span></td>
<td id="S5.T5.10.10.10.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.10.10.10.3.1" class="ltx_text" style="background-color:#E6E6E6;">val</span></td>
<td id="S5.T5.10.10.10.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.10.10.10.4.1" class="ltx_text" style="background-color:#E6E6E6;">24</span></td>
<td id="S5.T5.10.10.10.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.10.10.10.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">52.0</span></td>
<td id="S5.T5.10.10.10.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.10.10.10.6.1" class="ltx_text" style="background-color:#E6E6E6;">69.5</span></td>
<td id="S5.T5.10.10.10.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.10.10.10.7.1" class="ltx_text" style="background-color:#E6E6E6;">57.2</span></td>
<td id="S5.T5.10.10.10.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.10.10.10.8.1" class="ltx_text" style="background-color:#E6E6E6;">35.2</span></td>
<td id="S5.T5.10.10.10.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.10.10.10.9.1" class="ltx_text" style="background-color:#E6E6E6;">54.9</span></td>
<td id="S5.T5.10.10.10.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.10.10.10.10.1" class="ltx_text" style="background-color:#E6E6E6;">65.9</span></td>
</tr>
<tr id="S5.T5.11.11.11" class="ltx_tr">
<td id="S5.T5.11.11.11.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.11.11.11.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ DETR<sub id="S5.T5.11.11.11.1.1.1" class="ltx_sub"><span id="S5.T5.11.11.11.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">5scales</span></sub></span></td>
<td id="S5.T5.11.11.11.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.11.11.11.2.1" class="ltx_text" style="background-color:#E6E6E6;">ResNet-50</span></td>
<td id="S5.T5.11.11.11.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.11.11.11.3.1" class="ltx_text" style="background-color:#E6E6E6;">val</span></td>
<td id="S5.T5.11.11.11.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.11.11.11.4.1" class="ltx_text" style="background-color:#E6E6E6;">24</span></td>
<td id="S5.T5.11.11.11.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.11.11.11.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">52.8</span></td>
<td id="S5.T5.11.11.11.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.11.11.11.6.1" class="ltx_text" style="background-color:#E6E6E6;">69.9</span></td>
<td id="S5.T5.11.11.11.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.11.11.11.7.1" class="ltx_text" style="background-color:#E6E6E6;">58.1</span></td>
<td id="S5.T5.11.11.11.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.11.11.11.8.1" class="ltx_text" style="background-color:#E6E6E6;">37.4</span></td>
<td id="S5.T5.11.11.11.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.11.11.11.9.1" class="ltx_text" style="background-color:#E6E6E6;">55.7</span></td>
<td id="S5.T5.11.11.11.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.11.11.11.10.1" class="ltx_text" style="background-color:#E6E6E6;">66.0</span></td>
</tr>
<tr id="S5.T5.15.15.25.10" class="ltx_tr">
<td id="S5.T5.15.15.25.10.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Sparse R-CNN</td>
<td id="S5.T5.15.15.25.10.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ResNeXt-64x4d-101</td>
<td id="S5.T5.15.15.25.10.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">test-dev</td>
<td id="S5.T5.15.15.25.10.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">36</td>
<td id="S5.T5.15.15.25.10.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46.9</td>
<td id="S5.T5.15.15.25.10.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">66.3</td>
<td id="S5.T5.15.15.25.10.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">51.2</td>
<td id="S5.T5.15.15.25.10.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">28.6</td>
<td id="S5.T5.15.15.25.10.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">49.2</td>
<td id="S5.T5.15.15.25.10.10" class="ltx_td ltx_align_center ltx_border_t">58.7</td>
</tr>
<tr id="S5.T5.15.15.26.11" class="ltx_tr">
<td id="S5.T5.15.15.26.11.1" class="ltx_td ltx_align_left ltx_border_r">Deformable DETR</td>
<td id="S5.T5.15.15.26.11.2" class="ltx_td ltx_align_center ltx_border_r">ResNeXt-64x4d-101</td>
<td id="S5.T5.15.15.26.11.3" class="ltx_td ltx_align_center ltx_border_r">test-dev</td>
<td id="S5.T5.15.15.26.11.4" class="ltx_td ltx_align_center ltx_border_r">50</td>
<td id="S5.T5.15.15.26.11.5" class="ltx_td ltx_align_center ltx_border_r">49</td>
<td id="S5.T5.15.15.26.11.6" class="ltx_td ltx_align_center ltx_border_r">68.5</td>
<td id="S5.T5.15.15.26.11.7" class="ltx_td ltx_align_center ltx_border_r">53.2</td>
<td id="S5.T5.15.15.26.11.8" class="ltx_td ltx_align_center ltx_border_r">29.7</td>
<td id="S5.T5.15.15.26.11.9" class="ltx_td ltx_align_center ltx_border_r">51.7</td>
<td id="S5.T5.15.15.26.11.10" class="ltx_td ltx_align_center">62.8</td>
</tr>
<tr id="S5.T5.15.15.27.12" class="ltx_tr">
<td id="S5.T5.15.15.27.12.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.27.12.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ FCN</span></td>
<td id="S5.T5.15.15.27.12.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.27.12.2.1" class="ltx_text" style="background-color:#E6E6E6;">ResNeXt-64x4d-101</span></td>
<td id="S5.T5.15.15.27.12.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.27.12.3.1" class="ltx_text" style="background-color:#E6E6E6;">test-dev</span></td>
<td id="S5.T5.15.15.27.12.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.27.12.4.1" class="ltx_text" style="background-color:#E6E6E6;">36</span></td>
<td id="S5.T5.15.15.27.12.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.27.12.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">47.7</span></td>
<td id="S5.T5.15.15.27.12.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.27.12.6.1" class="ltx_text" style="background-color:#E6E6E6;">67.0</span></td>
<td id="S5.T5.15.15.27.12.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.27.12.7.1" class="ltx_text" style="background-color:#E6E6E6;">52.6</span></td>
<td id="S5.T5.15.15.27.12.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.27.12.8.1" class="ltx_text" style="background-color:#E6E6E6;">30.4</span></td>
<td id="S5.T5.15.15.27.12.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.27.12.9.1" class="ltx_text" style="background-color:#E6E6E6;">49.9</span></td>
<td id="S5.T5.15.15.27.12.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.27.12.10.1" class="ltx_text" style="background-color:#E6E6E6;">58.3</span></td>
</tr>
<tr id="S5.T5.15.15.28.13" class="ltx_tr">
<td id="S5.T5.15.15.28.13.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.28.13.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ R-CNN</span></td>
<td id="S5.T5.15.15.28.13.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.28.13.2.1" class="ltx_text" style="background-color:#E6E6E6;">ResNeXt-64x4d-101</span></td>
<td id="S5.T5.15.15.28.13.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.28.13.3.1" class="ltx_text" style="background-color:#E6E6E6;">test-dev</span></td>
<td id="S5.T5.15.15.28.13.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.28.13.4.1" class="ltx_text" style="background-color:#E6E6E6;">36</span></td>
<td id="S5.T5.15.15.28.13.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.28.13.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">49.9</span></td>
<td id="S5.T5.15.15.28.13.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.28.13.6.1" class="ltx_text" style="background-color:#E6E6E6;">68.8</span></td>
<td id="S5.T5.15.15.28.13.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.28.13.7.1" class="ltx_text" style="background-color:#E6E6E6;">54.8</span></td>
<td id="S5.T5.15.15.28.13.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.28.13.8.1" class="ltx_text" style="background-color:#E6E6E6;">31.8</span></td>
<td id="S5.T5.15.15.28.13.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.28.13.9.1" class="ltx_text" style="background-color:#E6E6E6;">52.2</span></td>
<td id="S5.T5.15.15.28.13.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.28.13.10.1" class="ltx_text" style="background-color:#E6E6E6;">61.7</span></td>
</tr>
<tr id="S5.T5.15.15.29.14" class="ltx_tr">
<td id="S5.T5.15.15.29.14.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Sparse R-CNNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>
</td>
<td id="S5.T5.15.15.29.14.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Swin-B</td>
<td id="S5.T5.15.15.29.14.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">val</td>
<td id="S5.T5.15.15.29.14.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">36</td>
<td id="S5.T5.15.15.29.14.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.8</td>
<td id="S5.T5.15.15.29.14.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">70.4</td>
<td id="S5.T5.15.15.29.14.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">55.6</td>
<td id="S5.T5.15.15.29.14.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">33.9</td>
<td id="S5.T5.15.15.29.14.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">53.7</td>
<td id="S5.T5.15.15.29.14.10" class="ltx_td ltx_align_center ltx_border_t">65.9</td>
</tr>
<tr id="S5.T5.15.15.30.15" class="ltx_tr">
<td id="S5.T5.15.15.30.15.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.30.15.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ R-CNN</span></td>
<td id="S5.T5.15.15.30.15.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.30.15.2.1" class="ltx_text" style="background-color:#E6E6E6;">Swin-B</span></td>
<td id="S5.T5.15.15.30.15.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.30.15.3.1" class="ltx_text" style="background-color:#E6E6E6;">val</span></td>
<td id="S5.T5.15.15.30.15.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.30.15.4.1" class="ltx_text" style="background-color:#E6E6E6;">36</span></td>
<td id="S5.T5.15.15.30.15.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.30.15.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">52.8</span></td>
<td id="S5.T5.15.15.30.15.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.30.15.6.1" class="ltx_text" style="background-color:#E6E6E6;">72.2</span></td>
<td id="S5.T5.15.15.30.15.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.30.15.7.1" class="ltx_text" style="background-color:#E6E6E6;">57.9</span></td>
<td id="S5.T5.15.15.30.15.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.30.15.8.1" class="ltx_text" style="background-color:#E6E6E6;">37.6</span></td>
<td id="S5.T5.15.15.30.15.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.30.15.9.1" class="ltx_text" style="background-color:#E6E6E6;">56.2</span></td>
<td id="S5.T5.15.15.30.15.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.30.15.10.1" class="ltx_text" style="background-color:#E6E6E6;">66.9</span></td>
</tr>
<tr id="S5.T5.12.12.12" class="ltx_tr">
<td id="S5.T5.12.12.12.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_tt">H-DeformableDETR<sub id="S5.T5.12.12.12.1.1" class="ltx_sub"><span id="S5.T5.12.12.12.1.1.1" class="ltx_text ltx_font_italic">4scales</span></sub>
</td>
<td id="S5.T5.12.12.12.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">Swin-L</td>
<td id="S5.T5.12.12.12.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">val</td>
<td id="S5.T5.12.12.12.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">36</td>
<td id="S5.T5.12.12.12.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">57.6</td>
<td id="S5.T5.12.12.12.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">76.5</td>
<td id="S5.T5.12.12.12.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">63.2</td>
<td id="S5.T5.12.12.12.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">41.4</td>
<td id="S5.T5.12.12.12.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">61.7</td>
<td id="S5.T5.12.12.12.10" class="ltx_td ltx_align_center ltx_border_tt">73.9</td>
</tr>
<tr id="S5.T5.13.13.13" class="ltx_tr">
<td id="S5.T5.13.13.13.1" class="ltx_td ltx_align_left ltx_border_r">DINO<sub id="S5.T5.13.13.13.1.1" class="ltx_sub"><span id="S5.T5.13.13.13.1.1.1" class="ltx_text ltx_font_italic">4scales</span></sub>
</td>
<td id="S5.T5.13.13.13.2" class="ltx_td ltx_align_center ltx_border_r">Swin-L</td>
<td id="S5.T5.13.13.13.3" class="ltx_td ltx_align_center ltx_border_r">val</td>
<td id="S5.T5.13.13.13.4" class="ltx_td ltx_align_center ltx_border_r">36</td>
<td id="S5.T5.13.13.13.5" class="ltx_td ltx_align_center ltx_border_r">58.0</td>
<td id="S5.T5.13.13.13.6" class="ltx_td ltx_align_center ltx_border_r">76.1</td>
<td id="S5.T5.13.13.13.7" class="ltx_td ltx_align_center ltx_border_r">64.0</td>
<td id="S5.T5.13.13.13.8" class="ltx_td ltx_align_center ltx_border_r">40.1</td>
<td id="S5.T5.13.13.13.9" class="ltx_td ltx_align_center ltx_border_r">62.2</td>
<td id="S5.T5.13.13.13.10" class="ltx_td ltx_align_center">74.3</td>
</tr>
<tr id="S5.T5.14.14.14" class="ltx_tr">
<td id="S5.T5.14.14.14.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.14.14.14.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ DETR<sub id="S5.T5.14.14.14.1.1.1" class="ltx_sub"><span id="S5.T5.14.14.14.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">4scales</span></sub></span></td>
<td id="S5.T5.14.14.14.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.14.14.14.2.1" class="ltx_text" style="background-color:#E6E6E6;">Swin-L</span></td>
<td id="S5.T5.14.14.14.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.14.14.14.3.1" class="ltx_text" style="background-color:#E6E6E6;">val</span></td>
<td id="S5.T5.14.14.14.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.14.14.14.4.1" class="ltx_text" style="background-color:#E6E6E6;">30</span></td>
<td id="S5.T5.14.14.14.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.14.14.14.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">58.7</span></td>
<td id="S5.T5.14.14.14.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.14.14.14.6.1" class="ltx_text" style="background-color:#E6E6E6;">76.8</span></td>
<td id="S5.T5.14.14.14.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.14.14.14.7.1" class="ltx_text" style="background-color:#E6E6E6;">64.5</span></td>
<td id="S5.T5.14.14.14.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.14.14.14.8.1" class="ltx_text" style="background-color:#E6E6E6;">41.6</span></td>
<td id="S5.T5.14.14.14.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.14.14.14.9.1" class="ltx_text" style="background-color:#E6E6E6;">62.9</span></td>
<td id="S5.T5.14.14.14.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.14.14.14.10.1" class="ltx_text" style="background-color:#E6E6E6;">74.3</span></td>
</tr>
<tr id="S5.T5.15.15.15" class="ltx_tr">
<td id="S5.T5.15.15.15.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.15.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ DETR<sub id="S5.T5.15.15.15.1.1.1" class="ltx_sub"><span id="S5.T5.15.15.15.1.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">4scales</span></sub></span></td>
<td id="S5.T5.15.15.15.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.15.2.1" class="ltx_text" style="background-color:#E6E6E6;">Swin-L</span></td>
<td id="S5.T5.15.15.15.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.15.3.1" class="ltx_text" style="background-color:#E6E6E6;">test-dev</span></td>
<td id="S5.T5.15.15.15.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.15.4.1" class="ltx_text" style="background-color:#E6E6E6;">30</span></td>
<td id="S5.T5.15.15.15.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.15.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">58.8</span></td>
<td id="S5.T5.15.15.15.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.15.6.1" class="ltx_text" style="background-color:#E6E6E6;">77.0</span></td>
<td id="S5.T5.15.15.15.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.15.7.1" class="ltx_text" style="background-color:#E6E6E6;">64.6</span></td>
<td id="S5.T5.15.15.15.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.15.8.1" class="ltx_text" style="background-color:#E6E6E6;">39.4</span></td>
<td id="S5.T5.15.15.15.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.15.9.1" class="ltx_text" style="background-color:#E6E6E6;">62.1</span></td>
<td id="S5.T5.15.15.15.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.15.10.1" class="ltx_text" style="background-color:#E6E6E6;">74.0</span></td>
</tr>
<tr id="S5.T5.15.15.31.16" class="ltx_tr">
<td id="S5.T5.15.15.31.16.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><em id="S5.T5.15.15.31.16.1.1" class="ltx_emph ltx_font_bold ltx_font_italic">Aug:Multi-Scale</em></td>
<td id="S5.T5.15.15.31.16.2" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.31.16.3" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.31.16.4" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.31.16.5" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.31.16.6" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.31.16.7" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.31.16.8" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.31.16.9" class="ltx_td ltx_border_tt"></td>
<td id="S5.T5.15.15.31.16.10" class="ltx_td ltx_border_tt"></td>
</tr>
<tr id="S5.T5.15.15.32.17" class="ltx_tr">
<td id="S5.T5.15.15.32.17.1" class="ltx_td ltx_align_left ltx_border_r">ATSSÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>
</td>
<td id="S5.T5.15.15.32.17.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-101</td>
<td id="S5.T5.15.15.32.17.3" class="ltx_td ltx_align_center ltx_border_r">test-dev</td>
<td id="S5.T5.15.15.32.17.4" class="ltx_td ltx_align_center ltx_border_r">24</td>
<td id="S5.T5.15.15.32.17.5" class="ltx_td ltx_align_center ltx_border_r">43.6</td>
<td id="S5.T5.15.15.32.17.6" class="ltx_td ltx_align_center ltx_border_r">62.1</td>
<td id="S5.T5.15.15.32.17.7" class="ltx_td ltx_align_center ltx_border_r">47.4</td>
<td id="S5.T5.15.15.32.17.8" class="ltx_td ltx_align_center ltx_border_r">26.1</td>
<td id="S5.T5.15.15.32.17.9" class="ltx_td ltx_align_center ltx_border_r">47.0</td>
<td id="S5.T5.15.15.32.17.10" class="ltx_td ltx_align_center">53.6</td>
</tr>
<tr id="S5.T5.15.15.33.18" class="ltx_tr">
<td id="S5.T5.15.15.33.18.1" class="ltx_td ltx_align_left ltx_border_r">PAAÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>
</td>
<td id="S5.T5.15.15.33.18.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-101</td>
<td id="S5.T5.15.15.33.18.3" class="ltx_td ltx_align_center ltx_border_r">test-dev</td>
<td id="S5.T5.15.15.33.18.4" class="ltx_td ltx_align_center ltx_border_r">24</td>
<td id="S5.T5.15.15.33.18.5" class="ltx_td ltx_align_center ltx_border_r">44.8</td>
<td id="S5.T5.15.15.33.18.6" class="ltx_td ltx_align_center ltx_border_r">63.3</td>
<td id="S5.T5.15.15.33.18.7" class="ltx_td ltx_align_center ltx_border_r">48.7</td>
<td id="S5.T5.15.15.33.18.8" class="ltx_td ltx_align_center ltx_border_r">26.5</td>
<td id="S5.T5.15.15.33.18.9" class="ltx_td ltx_align_center ltx_border_r">48.8</td>
<td id="S5.T5.15.15.33.18.10" class="ltx_td ltx_align_center">56.3</td>
</tr>
<tr id="S5.T5.15.15.34.19" class="ltx_tr">
<td id="S5.T5.15.15.34.19.1" class="ltx_td ltx_align_left ltx_border_r">OTAÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>
</td>
<td id="S5.T5.15.15.34.19.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-101</td>
<td id="S5.T5.15.15.34.19.3" class="ltx_td ltx_align_center ltx_border_r">test-dev</td>
<td id="S5.T5.15.15.34.19.4" class="ltx_td ltx_align_center ltx_border_r">24</td>
<td id="S5.T5.15.15.34.19.5" class="ltx_td ltx_align_center ltx_border_r">45.3</td>
<td id="S5.T5.15.15.34.19.6" class="ltx_td ltx_align_center ltx_border_r">63.5</td>
<td id="S5.T5.15.15.34.19.7" class="ltx_td ltx_align_center ltx_border_r">49.3</td>
<td id="S5.T5.15.15.34.19.8" class="ltx_td ltx_align_center ltx_border_r">26.9</td>
<td id="S5.T5.15.15.34.19.9" class="ltx_td ltx_align_center ltx_border_r">48.8</td>
<td id="S5.T5.15.15.34.19.10" class="ltx_td ltx_align_center">56.1</td>
</tr>
<tr id="S5.T5.15.15.35.20" class="ltx_tr">
<td id="S5.T5.15.15.35.20.1" class="ltx_td ltx_align_left ltx_border_r">DW* <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>
</td>
<td id="S5.T5.15.15.35.20.2" class="ltx_td ltx_align_center ltx_border_r">ResNet-101</td>
<td id="S5.T5.15.15.35.20.3" class="ltx_td ltx_align_center ltx_border_r">test-dev</td>
<td id="S5.T5.15.15.35.20.4" class="ltx_td ltx_align_center ltx_border_r">24</td>
<td id="S5.T5.15.15.35.20.5" class="ltx_td ltx_align_center ltx_border_r">45.8</td>
<td id="S5.T5.15.15.35.20.6" class="ltx_td ltx_align_center ltx_border_r">64.6</td>
<td id="S5.T5.15.15.35.20.7" class="ltx_td ltx_align_center ltx_border_r">49.6</td>
<td id="S5.T5.15.15.35.20.8" class="ltx_td ltx_align_center ltx_border_r">27.3</td>
<td id="S5.T5.15.15.35.20.9" class="ltx_td ltx_align_center ltx_border_r">48.9</td>
<td id="S5.T5.15.15.35.20.10" class="ltx_td ltx_align_center">57.0</td>
</tr>
<tr id="S5.T5.15.15.36.21" class="ltx_tr">
<td id="S5.T5.15.15.36.21.1" class="ltx_td ltx_align_left ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.36.21.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ FCN</span></td>
<td id="S5.T5.15.15.36.21.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.36.21.2.1" class="ltx_text" style="background-color:#E6E6E6;">ResNet-101</span></td>
<td id="S5.T5.15.15.36.21.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.36.21.3.1" class="ltx_text" style="background-color:#E6E6E6;">test-dev</span></td>
<td id="S5.T5.15.15.36.21.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.36.21.4.1" class="ltx_text" style="background-color:#E6E6E6;">24</span></td>
<td id="S5.T5.15.15.36.21.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.36.21.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">45.9</span></td>
<td id="S5.T5.15.15.36.21.6" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.36.21.6.1" class="ltx_text" style="background-color:#E6E6E6;">65.1</span></td>
<td id="S5.T5.15.15.36.21.7" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.36.21.7.1" class="ltx_text" style="background-color:#E6E6E6;">50.7</span></td>
<td id="S5.T5.15.15.36.21.8" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.36.21.8.1" class="ltx_text" style="background-color:#E6E6E6;">28.3</span></td>
<td id="S5.T5.15.15.36.21.9" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.36.21.9.1" class="ltx_text" style="background-color:#E6E6E6;">48.6</span></td>
<td id="S5.T5.15.15.36.21.10" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S5.T5.15.15.36.21.10.1" class="ltx_text" style="background-color:#E6E6E6;">55.6</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S5.SS4.p4" class="ltx_para ltx_noindent">
<p id="S5.SS4.p4.1" class="ltx_p"><span id="S5.SS4.p4.1.1" class="ltx_text ltx_font_bold">Results on COCO</span> We adopt heavier backbones and longer schedules to fairly compare with other detectors on COCO. As shown in Table.Â <a href="#S5.T5" title="Table 5 â€£ 5.4 Comparison with Other Detectors â€£ 5 Experiments â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, we get all the results from the original study except those marked with *. We divide the results into two parts according to the augmentation. The first part adopts the augmentations in DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> and reports the results on COCO validation dataset. DDQ remains its advantage among end-to-end object detectors using different backbone structures. It is worth emphasizing that DDQ FCN without any refinement architecture can already surpass most end-to-end detectors. DDQ R-CNN surpasses these methods by a large margin with only two refining heads and without encoder architecture. The performance of DDQ R-CNN (R-50) can be further improved by adopting an encoder structure as in SEPCÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> or DyHeadÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>. For example, It achieves an impressive 51.0 AP by adopting 6 blocks in DyHead as encoder structure, which is denoted as DDQ R-CNN<sub id="S5.SS4.p4.1.2" class="ltx_sub"><span id="S5.SS4.p4.1.2.1" class="ltx_text ltx_font_italic">with_encoder</span></sub>(details about this model can be found in supplementary material). DDQ DETR outperforms recent DETR with a clear margin using R-50 as its backbone. When adopting a Swin-L backbone, it also surpasses the SOTA method DINOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> by 0.7 AP.</p>
</div>
<div id="S5.SS4.p5" class="ltx_para">
<p id="S5.SS4.p5.1" class="ltx_p">The second part adopts a multi-scale training (480-800) strategy for 24 epochs and reports the results on the COCO test-dev using ResNet-101, which is widely used by conventional detectors.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section ltx_centering">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Ablation study</h2>

<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>The Recall Improvement of Dense Queries</h3>

<figure id="S6.T6" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S6.T6.5.1.1" class="ltx_text" style="font-size:90%;">Table 6</span>: </span><span id="S6.T6.6.2" class="ltx_text" style="font-size:90%;">Recall improvement of dense distinct queries. Q means queries and DQS stands for the distinct queries selection. L stands for the latency of the model.</span></figcaption>
<div id="S6.T6.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:203.4pt;height:64.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-11.3pt,3.6pt) scale(0.9,0.9) ;">
<table id="S6.T6.3.3" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.T6.3.3.3" class="ltx_tr">
<th id="S6.T6.3.3.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Method</th>
<th id="S6.T6.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AR<sub id="S6.T6.1.1.1.1.1" class="ltx_sub"><span id="S6.T6.1.1.1.1.1.1" class="ltx_text ltx_font_italic">100</span></sub>
</th>
<th id="S6.T6.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AR<sub id="S6.T6.2.2.2.2.1" class="ltx_sub"><span id="S6.T6.2.2.2.2.1.1" class="ltx_text ltx_font_italic">200</span></sub>
</th>
<th id="S6.T6.3.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AR<sub id="S6.T6.3.3.3.3.1" class="ltx_sub"><span id="S6.T6.3.3.3.3.1.1" class="ltx_text ltx_font_italic">300</span></sub>
</th>
<th id="S6.T6.3.3.3.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">L(ms)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.T6.3.3.4.1" class="ltx_tr">
<th id="S6.T6.3.3.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Sparse R-CNN</th>
<td id="S6.T6.3.3.4.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">78.4</td>
<td id="S6.T6.3.3.4.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">83.4</td>
<td id="S6.T6.3.3.4.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.5</td>
<td id="S6.T6.3.3.4.1.5" class="ltx_td ltx_align_center ltx_border_t">31.0</td>
</tr>
<tr id="S6.T6.3.3.5.2" class="ltx_tr">
<th id="S6.T6.3.3.5.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">7000 Q &amp; DQS</th>
<td id="S6.T6.3.3.5.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">88.6</td>
<td id="S6.T6.3.3.5.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">92.3</td>
<td id="S6.T6.3.3.5.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">93.6</td>
<td id="S6.T6.3.3.5.2.5" class="ltx_td ltx_align_center ltx_border_t">135.0</td>
</tr>
<tr id="S6.T6.3.3.6.3" class="ltx_tr">
<th id="S6.T6.3.3.6.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="S6.T6.3.3.6.3.1.1" class="ltx_text" style="background-color:#E6E6E6;">DDQ R-CNN</span></th>
<td id="S6.T6.3.3.6.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="S6.T6.3.3.6.3.2.1" class="ltx_text" style="background-color:#E6E6E6;">88.5</span></td>
<td id="S6.T6.3.3.6.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="S6.T6.3.3.6.3.3.1" class="ltx_text" style="background-color:#E6E6E6;">91.8</span></td>
<td id="S6.T6.3.3.6.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="S6.T6.3.3.6.3.4.1" class="ltx_text" style="background-color:#E6E6E6;">93.2</span></td>
<td id="S6.T6.3.3.6.3.5" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E6E6E6;"><span id="S6.T6.3.3.6.3.5.1" class="ltx_text" style="background-color:#E6E6E6;">31.3</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.1" class="ltx_p">We analyze the recall of IoU threshold 0.5. As shown in Table.Â <a href="#S6.T6" title="Table 6 â€£ 6.1 The Recall Improvement of Dense Queries â€£ 6 Ablation study â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, we report the recall of the 5th stage input queries of Sparse R-CNN to make a fair comparison with the input queries of the refinement head in DDQ R-CNN. It can be seen that the Sparse R-CNN with 300 queries has a significantly lower recall(10.2 AR<sub id="S6.SS1.p1.1.1" class="ltx_sub"><span id="S6.SS1.p1.1.1.1" class="ltx_text ltx_font_italic">100</span></sub>) than that with 7000 queries. In DDQ R-CNN, the queries from the DDQ FCN achieve a comparable recall to 7000 queries but with much less latency.</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span> DQS with Different IoU Threshold </h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.1" class="ltx_p">In this section, we show the robustness of distinct queries selection(DQS) with different IoU thresholds. As shown in Table.Â <a href="#A9.T14" title="Table 14 â€£ Appendix I DQS with Different IoU Threshold in CrowdHuman â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a>, the performance of DDQ FCN/R-CNN is quite robust when the IoU threshold ranges from 0.6 to 0.8. The performance drops slightly when the threshold is lower than 0.6, which is due to the lower recall rate for overlapping objects. The performance also starts to degrade when the IoU threshold is larger than 0.8 due to its incapability to suppress similar queries that slow the optimization. DDQ DETR exhibits a similar trend, as observed in TableÂ <a href="#S5.T3" title="Table 3 â€£ 5.3 Evolving to DDQ â€£ 5 Experiments â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. We can find even though CDN training in Â <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> has been adopted in DDQ DETR, distinctness still improves the performance. By the way, we also report the performance of ATSSÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> at different post-processing NMS IoU thresholds and show its sensitivity to this hyperparameter, in contrast to the robust behavior of DDQ in which a class-agnostic NMS is adopted in both training and inference to filter out distinct queries.</p>
</div>
<figure id="S6.T7" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S6.T7.2.1.1" class="ltx_text" style="font-size:90%;">Table 7</span>: </span><span id="S6.T7.3.2" class="ltx_text" style="font-size:90%;">Performance of DDQ on COCO when DQS adopts different IoU thresholds. Results of ATSS adopting different IoU thresholds in post-processing are also reported. None means we remove DQS or post-processing from the inference pipeline.* means the results are not stable and we report the average performance</span></figcaption>
<div id="S6.T7.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:232.5pt;height:81pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-12.9pt,4.5pt) scale(0.9,0.9) ;">
<table id="S6.T7.4.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.T7.4.1.1.1" class="ltx_tr">
<th id="S6.T7.4.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">COCO</th>
<th id="S6.T7.4.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">0.5</th>
<th id="S6.T7.4.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">0.6</th>
<th id="S6.T7.4.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">0.7</th>
<th id="S6.T7.4.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">0.8</th>
<th id="S6.T7.4.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">0.9</th>
<th id="S6.T7.4.1.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">None</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.T7.4.1.2.1" class="ltx_tr">
<th id="S6.T7.4.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">DDQ FCN</th>
<td id="S6.T7.4.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">40.8</td>
<td id="S6.T7.4.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">41.4</td>
<td id="S6.T7.4.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="S6.T7.4.1.2.1.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">41.5</span></td>
<td id="S6.T7.4.1.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">41.4</td>
<td id="S6.T7.4.1.2.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">40.5</td>
<td id="S6.T7.4.1.2.1.7" class="ltx_td ltx_align_center ltx_border_t">39.5*</td>
</tr>
<tr id="S6.T7.4.1.3.2" class="ltx_tr">
<th id="S6.T7.4.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">DDQ R-CNN</th>
<td id="S6.T7.4.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r">44.0</td>
<td id="S6.T7.4.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r">44.5</td>
<td id="S6.T7.4.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S6.T7.4.1.3.2.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">44.6</span></td>
<td id="S6.T7.4.1.3.2.5" class="ltx_td ltx_align_center ltx_border_r">44.4</td>
<td id="S6.T7.4.1.3.2.6" class="ltx_td ltx_align_center ltx_border_r">43.8</td>
<td id="S6.T7.4.1.3.2.7" class="ltx_td ltx_align_center">42.7*</td>
</tr>
<tr id="S6.T7.4.1.4.3" class="ltx_tr">
<th id="S6.T7.4.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">DDQ DETR</th>
<td id="S6.T7.4.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r">50.1</td>
<td id="S6.T7.4.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r">50.7</td>
<td id="S6.T7.4.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r">50.9</td>
<td id="S6.T7.4.1.4.3.5" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="S6.T7.4.1.4.3.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">51.3</span></td>
<td id="S6.T7.4.1.4.3.6" class="ltx_td ltx_align_center ltx_border_r">51.0</td>
<td id="S6.T7.4.1.4.3.7" class="ltx_td ltx_align_center">50.7*</td>
</tr>
<tr id="S6.T7.4.1.5.4" class="ltx_tr">
<th id="S6.T7.4.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">ATSS</th>
<td id="S6.T7.4.1.5.4.2" class="ltx_td ltx_align_center ltx_border_r">39.3</td>
<td id="S6.T7.4.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S6.T7.4.1.5.4.3.1" class="ltx_text ltx_font_bold">39.5</span></td>
<td id="S6.T7.4.1.5.4.4" class="ltx_td ltx_align_center ltx_border_r">39.3</td>
<td id="S6.T7.4.1.5.4.5" class="ltx_td ltx_align_center ltx_border_r">38.7</td>
<td id="S6.T7.4.1.5.4.6" class="ltx_td ltx_align_center ltx_border_r">36.7</td>
<td id="S6.T7.4.1.5.4.7" class="ltx_td ltx_align_center">19.6</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section id="S7" class="ltx_section ltx_centering">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Acknowledgement</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">This project is supported by the National Key R&amp;D Program of China No.2022ZD0161600, No.2022ZD0161000 and the General Research Fund of HK No.17200622.</p>
</div>
</section>
<section id="S8" class="ltx_section ltx_centering">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8 </span>Conclusions</h2>

<div id="S8.p1" class="ltx_para">
<p id="S8.p1.1" class="ltx_p">This paper reveals that both sparse and dense queries in end-to-end detection are problematic. We propose that the expected queries should be both dense and distinct. Such a paradigm significantly improves the performance
of various detectors including FCN, R-CNN, and DETRs. This proves the paradigm blends advantages from the traditional detectors and the recent end-to-end detectors. We hope it can inspire researchers to consider the complementarity between traditional methods and end-to-end detectors.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="bib" class="ltx_bibliography ltx_centering">
<h2 class="ltx_title ltx_title_bibliography" style="font-size:90%;">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock"><span id="bib.bib1.1.1" class="ltx_text" style="font-size:90%;">
Zhaowei Cai and Nuno Vasconcelos.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.2.1" class="ltx_text" style="font-size:90%;">Cascade r-cnn: Delving into high quality object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib1.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib1.5.3" class="ltx_text" style="font-size:90%;">, pages 6154â€“6162, 2018.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_text" style="font-size:90%;">
Nicolas Carion, Francisco Massa, Gabriel Synnaeve, Nicolas Usunier, Alexander
Kirillov, and Sergey Zagoruyko.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.2.1" class="ltx_text" style="font-size:90%;">End-to-end object detection with transformers.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib2.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">European Conference on Computer Vision</span><span id="bib.bib2.5.3" class="ltx_text" style="font-size:90%;">, pages 213â€“229.
Springer, 2020.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_text" style="font-size:90%;">
Kai Chen, Jiaqi Wang, Jiangmiao Pang, Yuhang Cao, Yu Xiong, Xiaoxiao Li,
Shuyang Sun, Wansen Feng, Ziwei Liu, Jiarui Xu, etÂ al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.2.1" class="ltx_text" style="font-size:90%;">Mmdetection: Open mmlab detection toolbox and benchmark.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1906.07155</span><span id="bib.bib3.4.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text" style="font-size:90%;">
Qiang Chen, Xiaokang Chen, Gang Zeng, and Jingdong Wang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.2.1" class="ltx_text" style="font-size:90%;">Group detr: Fast training convergence with decoupled one-to-many
label assignment.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2207.13085</span><span id="bib.bib4.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text" style="font-size:90%;">
Shoufa Chen, Peize Sun, Yibing Song, and Ping Luo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.2.1" class="ltx_text" style="font-size:90%;">Diffusiondet: Diffusion model for object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2211.09788</span><span id="bib.bib5.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text" style="font-size:90%;">
Xiyang Dai, Yinpeng Chen, Bin Xiao, Dongdong Chen, Mengchen Liu, Lu Yuan, and
Lei Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.2.1" class="ltx_text" style="font-size:90%;">Dynamic head: Unifying object detection heads with attentions.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib6.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib6.5.3" class="ltx_text" style="font-size:90%;">, pages 7373â€“7382, 2021.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text" style="font-size:90%;">
Xiyang Dai, Yinpeng Chen, Jianwei Yang, Pengchuan Zhang, Lu Yuan, and Lei
Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.2.1" class="ltx_text" style="font-size:90%;">Dynamic detr: End-to-end object detection with dynamic attention.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib7.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF International Conference on
Computer Vision</span><span id="bib.bib7.5.3" class="ltx_text" style="font-size:90%;">, pages 2988â€“2997, 2021.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text" style="font-size:90%;">
Chengjian Feng, Yujie Zhong, Yu Gao, MatthewÂ R Scott, and Weilin Huang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.2.1" class="ltx_text" style="font-size:90%;">Tood: Task-aligned one-stage object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib8.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF International Conference on
Computer Vision</span><span id="bib.bib8.5.3" class="ltx_text" style="font-size:90%;">, pages 3510â€“3519, 2021.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text" style="font-size:90%;">
Zheng Ge, Songtao Liu, Zeming Li, Osamu Yoshie, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.2.1" class="ltx_text" style="font-size:90%;">Ota: Optimal transport assignment for object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib9.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib9.5.3" class="ltx_text" style="font-size:90%;">, pages 303â€“312, 2021.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text" style="font-size:90%;">
Kaiming He, Xiangyu Zhang, Shaoqing Ren, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.2.1" class="ltx_text" style="font-size:90%;">Deep residual learning for image recognition.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib10.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib10.5.3" class="ltx_text" style="font-size:90%;">, pages 770â€“778, 2016.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text" style="font-size:90%;">
Ding Jia, Yuhui Yuan, Haodi He, Xiaopei Wu, Haojun Yu, Weihong Lin, Lei Sun,
Chao Zhang, and Han Hu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.2.1" class="ltx_text" style="font-size:90%;">Detrs with hybrid matching.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2207.13080</span><span id="bib.bib11.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text" style="font-size:90%;">
Kang Kim and HeeÂ Seok Lee.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.2.1" class="ltx_text" style="font-size:90%;">Probabilistic anchor assignment with iou prediction for object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib12.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">European Conference on Computer Vision</span><span id="bib.bib12.5.3" class="ltx_text" style="font-size:90%;">, pages 355â€“371.
Springer, 2020.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text" style="font-size:90%;">
Tao Kong, Fuchun Sun, Huaping Liu, Yuning Jiang, Lei Li, and Jianbo Shi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.2.1" class="ltx_text" style="font-size:90%;">Foveabox: Beyound anchor-based object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">IEEE Transactions on Image Processing</span><span id="bib.bib13.4.2" class="ltx_text" style="font-size:90%;">, 29:7389â€“7398, 2020.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock"><span id="bib.bib14.1.1" class="ltx_text" style="font-size:90%;">
Feng Li, Hao Zhang, Shilong Liu, Jian Guo, LionelÂ M. Ni, and Lei Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.2.1" class="ltx_text" style="font-size:90%;">Dn-detr: Accelerate detr training by introducing query denoising.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib14.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition (CVPR)</span><span id="bib.bib14.5.3" class="ltx_text" style="font-size:90%;">, pages 13619â€“13627, June 2022.
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock"><span id="bib.bib15.1.1" class="ltx_text" style="font-size:90%;">
Shuai Li, Chenhang He, Ruihuang Li, and Lei Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.2.1" class="ltx_text" style="font-size:90%;">A dual weighting label assignment scheme for object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib15.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib15.5.3" class="ltx_text" style="font-size:90%;">, pages 9387â€“9396, 2022.
</span>
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text" style="font-size:90%;">
Xiang Li, Wenhai Wang, Xiaolin Hu, Jun Li, Jinhui Tang, and Jian Yang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.2.1" class="ltx_text" style="font-size:90%;">Generalized focal loss v2: Learning reliable localization quality
estimation for dense object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib16.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib16.5.3" class="ltx_text" style="font-size:90%;">, pages 11632â€“11641, 2021.
</span>
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text" style="font-size:90%;">
Tsung-Yi Lin, Priya Goyal, Ross Girshick, Kaiming He, and Piotr DollÃ¡r.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.2.1" class="ltx_text" style="font-size:90%;">Focal loss for dense object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib17.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE international conference on computer
vision</span><span id="bib.bib17.5.3" class="ltx_text" style="font-size:90%;">, pages 2980â€“2988, 2017.
</span>
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text" style="font-size:90%;">
Tsung-Yi Lin, Michael Maire, Serge Belongie, James Hays, Pietro Perona, Deva
Ramanan, Piotr DollÃ¡r, and CÂ Lawrence Zitnick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.2.1" class="ltx_text" style="font-size:90%;">Microsoft coco: Common objects in context.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib18.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">European conference on computer vision</span><span id="bib.bib18.5.3" class="ltx_text" style="font-size:90%;">, pages 740â€“755.
Springer, 2014.
</span>
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text" style="font-size:90%;">
Shilong Liu, Feng Li, Hao Zhang, Xiao Yang, Xianbiao Qi, Hang Su, Jun Zhu, and
Lei Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.2.1" class="ltx_text" style="font-size:90%;">Dab-detr: Dynamic anchor boxes are better queries for detr.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib19.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</span><span id="bib.bib19.5.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text" style="font-size:90%;">
Ilya Loshchilov and Frank Hutter.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.2.1" class="ltx_text" style="font-size:90%;">Decoupled weight decay regularization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib20.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</span><span id="bib.bib20.5.3" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock"><span id="bib.bib21.1.1" class="ltx_text" style="font-size:90%;">
Shaoqing Ren, Kaiming He, Ross Girshick, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.2.1" class="ltx_text" style="font-size:90%;">Faster r-cnn: Towards real-time object detection with region proposal
networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Advances in neural information processing systems</span><span id="bib.bib21.4.2" class="ltx_text" style="font-size:90%;">, 28:91â€“99,
2015.
</span>
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock"><span id="bib.bib22.1.1" class="ltx_text" style="font-size:90%;">
Hamid Rezatofighi, Nathan Tsoi, JunYoung Gwak, Amir Sadeghian, Ian Reid, and
Silvio Savarese.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.2.1" class="ltx_text" style="font-size:90%;">Generalized intersection over union: A metric and a loss for bounding
box regression.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib22.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF conference on computer vision and
pattern recognition</span><span id="bib.bib22.5.3" class="ltx_text" style="font-size:90%;">, pages 658â€“666, 2019.
</span>
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock"><span id="bib.bib23.1.1" class="ltx_text" style="font-size:90%;">
Shuai Shao, Zijian Zhao, Boxun Li, Tete Xiao, Gang Yu, Xiangyu Zhang, and Jian
Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.2.1" class="ltx_text" style="font-size:90%;">Crowdhuman: A benchmark for detecting human in a crowd.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1805.00123</span><span id="bib.bib23.4.2" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock"><span id="bib.bib24.1.1" class="ltx_text" style="font-size:90%;">
Peize Sun, Yi Jiang, Enze Xie, Wenqi Shao, Zehuan Yuan, Changhu Wang, and Ping
Luo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.2.1" class="ltx_text" style="font-size:90%;">What makes for end-to-end object detection?
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.3.1" class="ltx_text" style="font-size:90%;">In Marina Meila and Tong Zhang, editors, </span><span id="bib.bib24.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the 38th
International Conference on Machine Learning</span><span id="bib.bib24.5.3" class="ltx_text" style="font-size:90%;">, volume 139 of </span><span id="bib.bib24.6.4" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings
of Machine Learning Research</span><span id="bib.bib24.7.5" class="ltx_text" style="font-size:90%;">, pages 9934â€“9944. PMLR, 18â€“24 Jul 2021.
</span>
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock"><span id="bib.bib25.1.1" class="ltx_text" style="font-size:90%;">
Peize Sun, Yi Jiang, Enze Xie, Wenqi Shao, Zehuan Yuan, Changhu Wang, and Ping
Luo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.2.1" class="ltx_text" style="font-size:90%;">What makes for end-to-end object detection?
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib25.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">International Conference on Machine Learning</span><span id="bib.bib25.5.3" class="ltx_text" style="font-size:90%;">, pages
9934â€“9944. PMLR, 2021.
</span>
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock"><span id="bib.bib26.1.1" class="ltx_text" style="font-size:90%;">
Peize Sun, Rufeng Zhang, Yi Jiang, Tao Kong, Chenfeng Xu, Wei Zhan, Masayoshi
Tomizuka, Lei Li, Zehuan Yuan, Changhu Wang, etÂ al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.2.1" class="ltx_text" style="font-size:90%;">Sparse r-cnn: End-to-end object detection with learnable proposals.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib26.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib26.5.3" class="ltx_text" style="font-size:90%;">, pages 14454â€“14463, 2021.
</span>
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock"><span id="bib.bib27.1.1" class="ltx_text" style="font-size:90%;">
Zhi Tian, Chunhua Shen, Hao Chen, and Tong He.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.2.1" class="ltx_text" style="font-size:90%;">Fcos: Fully convolutional one-stage object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib27.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF international conference on
computer vision</span><span id="bib.bib27.5.3" class="ltx_text" style="font-size:90%;">, pages 9627â€“9636, 2019.
</span>
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock"><span id="bib.bib28.1.1" class="ltx_text" style="font-size:90%;">
Jianfeng Wang, Lin Song, Zeming Li, Hongbin Sun, Jian Sun, and Nanning Zheng.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.2.1" class="ltx_text" style="font-size:90%;">End-to-end object detection with fully convolutional network.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib28.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib28.5.3" class="ltx_text" style="font-size:90%;">, pages 15849â€“15858, 2021.
</span>
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock"><span id="bib.bib29.1.1" class="ltx_text" style="font-size:90%;">
Xinlong Wang, Tao Kong, Chunhua Shen, Yuning Jiang, and Lei Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.2.1" class="ltx_text" style="font-size:90%;">Solo: Segmenting objects by locations.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib29.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">European Conference on Computer Vision</span><span id="bib.bib29.5.3" class="ltx_text" style="font-size:90%;">, pages 649â€“665.
Springer, 2020.
</span>
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock"><span id="bib.bib30.1.1" class="ltx_text" style="font-size:90%;">
Xinjiang Wang, Shilong Zhang, Zhuoran Yu, Litong Feng, and Wayne Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.2.1" class="ltx_text" style="font-size:90%;">Scale-equalizing pyramid convolution for object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib30.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition (CVPR)</span><span id="bib.bib30.5.3" class="ltx_text" style="font-size:90%;">, June 2020.
</span>
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock"><span id="bib.bib31.1.1" class="ltx_text" style="font-size:90%;">
Yingming Wang, Xiangyu Zhang, Tong Yang, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.2.1" class="ltx_text" style="font-size:90%;">Anchor detr: Query design for transformer-based detector.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2109.07107</span><span id="bib.bib31.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock"><span id="bib.bib32.1.1" class="ltx_text" style="font-size:90%;">
Zhuyu Yao, Jiangbo Ai, Boxun Li, and Chi Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.2.1" class="ltx_text" style="font-size:90%;">Efficient detr: improving end-to-end object detector with dense
prior.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2104.01318</span><span id="bib.bib32.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock"><span id="bib.bib33.1.1" class="ltx_text" style="font-size:90%;">
Hao Zhang, Feng Li, Shilong Liu, Lei Zhang, Hang Su, Jun Zhu, Lionel Ni, and
Harry Shum.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.2.1" class="ltx_text" style="font-size:90%;">Dino: Detr with improved denoising anchor boxes for end-to-end object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib33.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</span><span id="bib.bib33.5.3" class="ltx_text" style="font-size:90%;">.
</span>
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock"><span id="bib.bib34.1.1" class="ltx_text" style="font-size:90%;">
Shifeng Zhang, Cheng Chi, Yongqiang Yao, Zhen Lei, and StanÂ Z Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.2.1" class="ltx_text" style="font-size:90%;">Bridging the gap between anchor-based and anchor-free detection via
adaptive training sample selection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib34.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF conference on computer vision and
pattern recognition</span><span id="bib.bib34.5.3" class="ltx_text" style="font-size:90%;">, pages 9759â€“9768, 2020.
</span>
</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock"><span id="bib.bib35.1.1" class="ltx_text" style="font-size:90%;">
Xiaosong Zhang, Fang Wan, Chang Liu, Rongrong Ji, and Qixiang Ye.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.2.1" class="ltx_text" style="font-size:90%;">Freeanchor: Learning to match anchors for visual object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Advances in neural information processing systems</span><span id="bib.bib35.4.2" class="ltx_text" style="font-size:90%;">, 32, 2019.
</span>
</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock"><span id="bib.bib36.1.1" class="ltx_text" style="font-size:90%;">
Xiangyu Zhang, Xinyu Zhou, Mengxiao Lin, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib36.2.1" class="ltx_text" style="font-size:90%;">Shufflenet: An extremely efficient convolutional neural network for
mobile devices.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib36.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib36.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib36.5.3" class="ltx_text" style="font-size:90%;">, pages 6848â€“6856, 2018.
</span>
</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock"><span id="bib.bib37.1.1" class="ltx_text" style="font-size:90%;">
Benjin Zhu, Jianfeng Wang, Zhengkai Jiang, Fuhang Zong, Songtao Liu, Zeming Li,
and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib37.2.1" class="ltx_text" style="font-size:90%;">Autoassign: Differentiable label assignment for dense object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib37.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2007.03496</span><span id="bib.bib37.4.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock"><span id="bib.bib38.1.1" class="ltx_text" style="font-size:90%;">
Xizhou Zhu, Weijie Su, Lewei Lu, Bin Li, Xiaogang Wang, and Jifeng Dai.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.2.1" class="ltx_text" style="font-size:90%;">Deformable detr: Deformable transformers for end-to-end object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2010.04159</span><span id="bib.bib38.4.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_centering ltx_role_newpage"></div>
<div id="p2" class="ltx_para ltx_align_center">
<p id="p2.1" class="ltx_p">In the supplementary material, the analysis of dense distinct queries (DDQ) to Deformable DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> is first sketched in Sec.Â <a href="#A1" title="Appendix A Analysis of DDQ in Deformable DETR â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>. The details about auxiliary loss are added in Sec.Â <a href="#A2" title="Appendix B Auxiliary Loss for Dense Queries â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>. Sec.Â <a href="#A3" title="Appendix C More Analysis and Ablation for Pyramid Shuffle â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a> gives more detailed ablation studies and analysis of pyramid shuffle. Sec.Â <a href="#A6" title="Appendix F Number of Queries and Stages in DDQ R-CNN â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">F</span></a> gives more detailed ablation studies about the number of queries and refining stages in DDQ R-CNN. Sec.Â <a href="#A4" title="Appendix D DDQ R-CNN with Encoder â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D</span></a> show the details about DDQ R-CNN with encoder. Sec.Â <a href="#A5" title="Appendix E Details of Improved DeformableDETR and Comparison with DINO â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">E</span></a> elaborate and improved Deformable DETR and discuss the difference with DINO. Sec.Â <a href="#A7" title="Appendix G Latency Benchmark â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">G</span></a> gives the latency benchmark.
Sec.Â <a href="#A8" title="Appendix H Impact of Query Construction in DDQ R-CNN â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">H</span></a> reports the results of DDQ R-CNN with other ways to construct the query. Sec.Â <a href="#A9" title="Appendix I DQS with Different IoU Threshold in CrowdHuman â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a> show the results of traditional detectors with different IOU thresholds on CrowdHuman. At last, Sec.Â <a href="#A10" title="Appendix J Social Impact â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">J</span></a> illustrates our social impact.</p>
</div>
<section id="A1" class="ltx_appendix ltx_centering">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Analysis of DDQ in Deformable DETR</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.1" class="ltx_p">For fast verification of Distinct Queries Selection(DQS) in such a heavy model, we adopt the standard 1x setting on COCO and keep other hyperparameters (such as learning rate and weight decay) the same with that in Deformable DETRÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>.</p>
</div>
<figure id="A1.F5" class="ltx_figure"><img src="/html/2303.12776/assets/x5.png" id="A1.F5.g1" class="ltx_graphics ltx_centering ltx_img_square" width="368" height="304" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A1.F5.2.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="A1.F5.3.2" class="ltx_text" style="font-size:90%;">The performance comparison of Deformable DETR with and without distinct queries selection</span></figcaption>
</figure>
<div id="A1.p2" class="ltx_para">
<p id="A1.p2.1" class="ltx_p">As shown in Fig.<a href="#A1.F5" title="Figure 5 â€£ Appendix A Analysis of DDQ in Deformable DETR â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, when we increase the number of queries in Deformable DETR, there is a similar trend as it in Sparse R-CNNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>, as shown in the main manuscript. When the number of queries naively increases without distinct queries selection, the performance increases at the beginning but decreases as the number of queries reaches <math id="A1.p2.1.m1.1" class="ltx_Math" alttext="\sim 5000" display="inline"><semantics id="A1.p2.1.m1.1a"><mrow id="A1.p2.1.m1.1.1" xref="A1.p2.1.m1.1.1.cmml"><mi id="A1.p2.1.m1.1.1.2" xref="A1.p2.1.m1.1.1.2.cmml"></mi><mo id="A1.p2.1.m1.1.1.1" xref="A1.p2.1.m1.1.1.1.cmml">âˆ¼</mo><mn id="A1.p2.1.m1.1.1.3" xref="A1.p2.1.m1.1.1.3.cmml">5000</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p2.1.m1.1b"><apply id="A1.p2.1.m1.1.1.cmml" xref="A1.p2.1.m1.1.1"><csymbol cd="latexml" id="A1.p2.1.m1.1.1.1.cmml" xref="A1.p2.1.m1.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="A1.p2.1.m1.1.1.2.cmml" xref="A1.p2.1.m1.1.1.2">absent</csymbol><cn type="integer" id="A1.p2.1.m1.1.1.3.cmml" xref="A1.p2.1.m1.1.1.3">5000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p2.1.m1.1c">\sim 5000</annotation></semantics></math>. It is due to the more difficult training with more similar queries out of the dense queries. By imposing a distinct queries selection pre-processing to filter out similar queries and keeping only distinct queries before each stage of iterative refinement, the performance is improved with a clear margin, and the performance margin consistently increases along with more queries.</p>
</div>
<div id="A1.p3" class="ltx_para">
<p id="A1.p3.1" class="ltx_p">Therefore, we believe Dense Distinct Queries (DDQ) is a principle of designing an object detector with a fast convergence based on recent end-to-end detectors.</p>
</div>
</section>
<section id="A2" class="ltx_appendix ltx_centering">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Auxiliary Loss for Dense Queries</h2>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.3" class="ltx_p">We follow the TOODÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> to design our auxiliary loss. We select <math id="A2.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A2.p1.1.m1.1a"><mi id="A2.p1.1.m1.1.1" xref="A2.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A2.p1.1.m1.1b"><ci id="A2.p1.1.m1.1.1.cmml" xref="A2.p1.1.m1.1.1">ğ¾</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.1.m1.1c">K</annotation></semantics></math> samples with the smallest cost of each ground truth as positive samples. <math id="A2.p1.2.m2.1" class="ltx_Math" alttext="P" display="inline"><semantics id="A2.p1.2.m2.1a"><mi id="A2.p1.2.m2.1.1" xref="A2.p1.2.m2.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="A2.p1.2.m2.1b"><ci id="A2.p1.2.m2.1.1.cmml" xref="A2.p1.2.m2.1.1">ğ‘ƒ</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.2.m2.1c">P</annotation></semantics></math> means the index set of positive samples which correspond to the same ground truth. The classification score target of a sample <math id="A2.p1.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="A2.p1.3.m3.1a"><mi id="A2.p1.3.m3.1.1" xref="A2.p1.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="A2.p1.3.m3.1b"><ci id="A2.p1.3.m3.1.1.cmml" xref="A2.p1.3.m3.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.3.m3.1c">i</annotation></semantics></math> in this set
is</p>
<table id="A2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A2.E2.m1.2" class="ltx_Math" alttext="\frac{score_{i}*IoU_{i}^{6}}{Max(score_{j}*IoU_{j}^{6})_{j\in{P}}}*Max(IoU_{j})_{j\in{P}}" display="block"><semantics id="A2.E2.m1.2a"><mrow id="A2.E2.m1.2.2" xref="A2.E2.m1.2.2.cmml"><mrow id="A2.E2.m1.2.2.3" xref="A2.E2.m1.2.2.3.cmml"><mfrac id="A2.E2.m1.1.1" xref="A2.E2.m1.1.1.cmml"><mrow id="A2.E2.m1.1.1.3" xref="A2.E2.m1.1.1.3.cmml"><mrow id="A2.E2.m1.1.1.3.2" xref="A2.E2.m1.1.1.3.2.cmml"><mrow id="A2.E2.m1.1.1.3.2.2" xref="A2.E2.m1.1.1.3.2.2.cmml"><mi id="A2.E2.m1.1.1.3.2.2.2" xref="A2.E2.m1.1.1.3.2.2.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.3.2.2.1" xref="A2.E2.m1.1.1.3.2.2.1.cmml">â€‹</mo><mi id="A2.E2.m1.1.1.3.2.2.3" xref="A2.E2.m1.1.1.3.2.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.3.2.2.1a" xref="A2.E2.m1.1.1.3.2.2.1.cmml">â€‹</mo><mi id="A2.E2.m1.1.1.3.2.2.4" xref="A2.E2.m1.1.1.3.2.2.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.3.2.2.1b" xref="A2.E2.m1.1.1.3.2.2.1.cmml">â€‹</mo><mi id="A2.E2.m1.1.1.3.2.2.5" xref="A2.E2.m1.1.1.3.2.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.3.2.2.1c" xref="A2.E2.m1.1.1.3.2.2.1.cmml">â€‹</mo><msub id="A2.E2.m1.1.1.3.2.2.6" xref="A2.E2.m1.1.1.3.2.2.6.cmml"><mi id="A2.E2.m1.1.1.3.2.2.6.2" xref="A2.E2.m1.1.1.3.2.2.6.2.cmml">e</mi><mi id="A2.E2.m1.1.1.3.2.2.6.3" xref="A2.E2.m1.1.1.3.2.2.6.3.cmml">i</mi></msub></mrow><mo lspace="0.222em" rspace="0.222em" id="A2.E2.m1.1.1.3.2.1" xref="A2.E2.m1.1.1.3.2.1.cmml">âˆ—</mo><mi id="A2.E2.m1.1.1.3.2.3" xref="A2.E2.m1.1.1.3.2.3.cmml">I</mi></mrow><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.3.1" xref="A2.E2.m1.1.1.3.1.cmml">â€‹</mo><mi id="A2.E2.m1.1.1.3.3" xref="A2.E2.m1.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.3.1a" xref="A2.E2.m1.1.1.3.1.cmml">â€‹</mo><msubsup id="A2.E2.m1.1.1.3.4" xref="A2.E2.m1.1.1.3.4.cmml"><mi id="A2.E2.m1.1.1.3.4.2.2" xref="A2.E2.m1.1.1.3.4.2.2.cmml">U</mi><mi id="A2.E2.m1.1.1.3.4.2.3" xref="A2.E2.m1.1.1.3.4.2.3.cmml">i</mi><mn id="A2.E2.m1.1.1.3.4.3" xref="A2.E2.m1.1.1.3.4.3.cmml">6</mn></msubsup></mrow><mrow id="A2.E2.m1.1.1.1" xref="A2.E2.m1.1.1.1.cmml"><mi id="A2.E2.m1.1.1.1.3" xref="A2.E2.m1.1.1.1.3.cmml">M</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.1.2" xref="A2.E2.m1.1.1.1.2.cmml">â€‹</mo><mi id="A2.E2.m1.1.1.1.4" xref="A2.E2.m1.1.1.1.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.1.2a" xref="A2.E2.m1.1.1.1.2.cmml">â€‹</mo><mi id="A2.E2.m1.1.1.1.5" xref="A2.E2.m1.1.1.1.5.cmml">x</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.1.2b" xref="A2.E2.m1.1.1.1.2.cmml">â€‹</mo><msub id="A2.E2.m1.1.1.1.1" xref="A2.E2.m1.1.1.1.1.cmml"><mrow id="A2.E2.m1.1.1.1.1.1.1" xref="A2.E2.m1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="A2.E2.m1.1.1.1.1.1.1.2" xref="A2.E2.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A2.E2.m1.1.1.1.1.1.1.1" xref="A2.E2.m1.1.1.1.1.1.1.1.cmml"><mrow id="A2.E2.m1.1.1.1.1.1.1.1.2" xref="A2.E2.m1.1.1.1.1.1.1.1.2.cmml"><mrow id="A2.E2.m1.1.1.1.1.1.1.1.2.2" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.cmml"><mi id="A2.E2.m1.1.1.1.1.1.1.1.2.2.2" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.1.1.1.1.1.2.2.1" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.1.cmml">â€‹</mo><mi id="A2.E2.m1.1.1.1.1.1.1.1.2.2.3" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.1.1.1.1.1.2.2.1a" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.1.cmml">â€‹</mo><mi id="A2.E2.m1.1.1.1.1.1.1.1.2.2.4" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.1.1.1.1.1.2.2.1b" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.1.cmml">â€‹</mo><mi id="A2.E2.m1.1.1.1.1.1.1.1.2.2.5" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.1.1.1.1.1.2.2.1c" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.1.cmml">â€‹</mo><msub id="A2.E2.m1.1.1.1.1.1.1.1.2.2.6" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.cmml"><mi id="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.2" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.2.cmml">e</mi><mi id="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.3" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.3.cmml">j</mi></msub></mrow><mo lspace="0.222em" rspace="0.222em" id="A2.E2.m1.1.1.1.1.1.1.1.2.1" xref="A2.E2.m1.1.1.1.1.1.1.1.2.1.cmml">âˆ—</mo><mi id="A2.E2.m1.1.1.1.1.1.1.1.2.3" xref="A2.E2.m1.1.1.1.1.1.1.1.2.3.cmml">I</mi></mrow><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.1.1.1.1.1.1" xref="A2.E2.m1.1.1.1.1.1.1.1.1.cmml">â€‹</mo><mi id="A2.E2.m1.1.1.1.1.1.1.1.3" xref="A2.E2.m1.1.1.1.1.1.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.1.1.1.1.1.1.1.1a" xref="A2.E2.m1.1.1.1.1.1.1.1.1.cmml">â€‹</mo><msubsup id="A2.E2.m1.1.1.1.1.1.1.1.4" xref="A2.E2.m1.1.1.1.1.1.1.1.4.cmml"><mi id="A2.E2.m1.1.1.1.1.1.1.1.4.2.2" xref="A2.E2.m1.1.1.1.1.1.1.1.4.2.2.cmml">U</mi><mi id="A2.E2.m1.1.1.1.1.1.1.1.4.2.3" xref="A2.E2.m1.1.1.1.1.1.1.1.4.2.3.cmml">j</mi><mn id="A2.E2.m1.1.1.1.1.1.1.1.4.3" xref="A2.E2.m1.1.1.1.1.1.1.1.4.3.cmml">6</mn></msubsup></mrow><mo stretchy="false" id="A2.E2.m1.1.1.1.1.1.1.3" xref="A2.E2.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mrow id="A2.E2.m1.1.1.1.1.3" xref="A2.E2.m1.1.1.1.1.3.cmml"><mi id="A2.E2.m1.1.1.1.1.3.2" xref="A2.E2.m1.1.1.1.1.3.2.cmml">j</mi><mo id="A2.E2.m1.1.1.1.1.3.1" xref="A2.E2.m1.1.1.1.1.3.1.cmml">âˆˆ</mo><mi id="A2.E2.m1.1.1.1.1.3.3" xref="A2.E2.m1.1.1.1.1.3.3.cmml">P</mi></mrow></msub></mrow></mfrac><mo lspace="0.222em" rspace="0.222em" id="A2.E2.m1.2.2.3.1" xref="A2.E2.m1.2.2.3.1.cmml">âˆ—</mo><mi id="A2.E2.m1.2.2.3.2" xref="A2.E2.m1.2.2.3.2.cmml">M</mi></mrow><mo lspace="0em" rspace="0em" id="A2.E2.m1.2.2.2" xref="A2.E2.m1.2.2.2.cmml">â€‹</mo><mi id="A2.E2.m1.2.2.4" xref="A2.E2.m1.2.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.2.2.2a" xref="A2.E2.m1.2.2.2.cmml">â€‹</mo><mi id="A2.E2.m1.2.2.5" xref="A2.E2.m1.2.2.5.cmml">x</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.2.2.2b" xref="A2.E2.m1.2.2.2.cmml">â€‹</mo><msub id="A2.E2.m1.2.2.1" xref="A2.E2.m1.2.2.1.cmml"><mrow id="A2.E2.m1.2.2.1.1.1" xref="A2.E2.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="A2.E2.m1.2.2.1.1.1.2" xref="A2.E2.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="A2.E2.m1.2.2.1.1.1.1" xref="A2.E2.m1.2.2.1.1.1.1.cmml"><mi id="A2.E2.m1.2.2.1.1.1.1.2" xref="A2.E2.m1.2.2.1.1.1.1.2.cmml">I</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.2.2.1.1.1.1.1" xref="A2.E2.m1.2.2.1.1.1.1.1.cmml">â€‹</mo><mi id="A2.E2.m1.2.2.1.1.1.1.3" xref="A2.E2.m1.2.2.1.1.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="A2.E2.m1.2.2.1.1.1.1.1a" xref="A2.E2.m1.2.2.1.1.1.1.1.cmml">â€‹</mo><msub id="A2.E2.m1.2.2.1.1.1.1.4" xref="A2.E2.m1.2.2.1.1.1.1.4.cmml"><mi id="A2.E2.m1.2.2.1.1.1.1.4.2" xref="A2.E2.m1.2.2.1.1.1.1.4.2.cmml">U</mi><mi id="A2.E2.m1.2.2.1.1.1.1.4.3" xref="A2.E2.m1.2.2.1.1.1.1.4.3.cmml">j</mi></msub></mrow><mo stretchy="false" id="A2.E2.m1.2.2.1.1.1.3" xref="A2.E2.m1.2.2.1.1.1.1.cmml">)</mo></mrow><mrow id="A2.E2.m1.2.2.1.3" xref="A2.E2.m1.2.2.1.3.cmml"><mi id="A2.E2.m1.2.2.1.3.2" xref="A2.E2.m1.2.2.1.3.2.cmml">j</mi><mo id="A2.E2.m1.2.2.1.3.1" xref="A2.E2.m1.2.2.1.3.1.cmml">âˆˆ</mo><mi id="A2.E2.m1.2.2.1.3.3" xref="A2.E2.m1.2.2.1.3.3.cmml">P</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.E2.m1.2b"><apply id="A2.E2.m1.2.2.cmml" xref="A2.E2.m1.2.2"><times id="A2.E2.m1.2.2.2.cmml" xref="A2.E2.m1.2.2.2"></times><apply id="A2.E2.m1.2.2.3.cmml" xref="A2.E2.m1.2.2.3"><times id="A2.E2.m1.2.2.3.1.cmml" xref="A2.E2.m1.2.2.3.1"></times><apply id="A2.E2.m1.1.1.cmml" xref="A2.E2.m1.1.1"><divide id="A2.E2.m1.1.1.2.cmml" xref="A2.E2.m1.1.1"></divide><apply id="A2.E2.m1.1.1.3.cmml" xref="A2.E2.m1.1.1.3"><times id="A2.E2.m1.1.1.3.1.cmml" xref="A2.E2.m1.1.1.3.1"></times><apply id="A2.E2.m1.1.1.3.2.cmml" xref="A2.E2.m1.1.1.3.2"><times id="A2.E2.m1.1.1.3.2.1.cmml" xref="A2.E2.m1.1.1.3.2.1"></times><apply id="A2.E2.m1.1.1.3.2.2.cmml" xref="A2.E2.m1.1.1.3.2.2"><times id="A2.E2.m1.1.1.3.2.2.1.cmml" xref="A2.E2.m1.1.1.3.2.2.1"></times><ci id="A2.E2.m1.1.1.3.2.2.2.cmml" xref="A2.E2.m1.1.1.3.2.2.2">ğ‘ </ci><ci id="A2.E2.m1.1.1.3.2.2.3.cmml" xref="A2.E2.m1.1.1.3.2.2.3">ğ‘</ci><ci id="A2.E2.m1.1.1.3.2.2.4.cmml" xref="A2.E2.m1.1.1.3.2.2.4">ğ‘œ</ci><ci id="A2.E2.m1.1.1.3.2.2.5.cmml" xref="A2.E2.m1.1.1.3.2.2.5">ğ‘Ÿ</ci><apply id="A2.E2.m1.1.1.3.2.2.6.cmml" xref="A2.E2.m1.1.1.3.2.2.6"><csymbol cd="ambiguous" id="A2.E2.m1.1.1.3.2.2.6.1.cmml" xref="A2.E2.m1.1.1.3.2.2.6">subscript</csymbol><ci id="A2.E2.m1.1.1.3.2.2.6.2.cmml" xref="A2.E2.m1.1.1.3.2.2.6.2">ğ‘’</ci><ci id="A2.E2.m1.1.1.3.2.2.6.3.cmml" xref="A2.E2.m1.1.1.3.2.2.6.3">ğ‘–</ci></apply></apply><ci id="A2.E2.m1.1.1.3.2.3.cmml" xref="A2.E2.m1.1.1.3.2.3">ğ¼</ci></apply><ci id="A2.E2.m1.1.1.3.3.cmml" xref="A2.E2.m1.1.1.3.3">ğ‘œ</ci><apply id="A2.E2.m1.1.1.3.4.cmml" xref="A2.E2.m1.1.1.3.4"><csymbol cd="ambiguous" id="A2.E2.m1.1.1.3.4.1.cmml" xref="A2.E2.m1.1.1.3.4">superscript</csymbol><apply id="A2.E2.m1.1.1.3.4.2.cmml" xref="A2.E2.m1.1.1.3.4"><csymbol cd="ambiguous" id="A2.E2.m1.1.1.3.4.2.1.cmml" xref="A2.E2.m1.1.1.3.4">subscript</csymbol><ci id="A2.E2.m1.1.1.3.4.2.2.cmml" xref="A2.E2.m1.1.1.3.4.2.2">ğ‘ˆ</ci><ci id="A2.E2.m1.1.1.3.4.2.3.cmml" xref="A2.E2.m1.1.1.3.4.2.3">ğ‘–</ci></apply><cn type="integer" id="A2.E2.m1.1.1.3.4.3.cmml" xref="A2.E2.m1.1.1.3.4.3">6</cn></apply></apply><apply id="A2.E2.m1.1.1.1.cmml" xref="A2.E2.m1.1.1.1"><times id="A2.E2.m1.1.1.1.2.cmml" xref="A2.E2.m1.1.1.1.2"></times><ci id="A2.E2.m1.1.1.1.3.cmml" xref="A2.E2.m1.1.1.1.3">ğ‘€</ci><ci id="A2.E2.m1.1.1.1.4.cmml" xref="A2.E2.m1.1.1.1.4">ğ‘</ci><ci id="A2.E2.m1.1.1.1.5.cmml" xref="A2.E2.m1.1.1.1.5">ğ‘¥</ci><apply id="A2.E2.m1.1.1.1.1.cmml" xref="A2.E2.m1.1.1.1.1"><csymbol cd="ambiguous" id="A2.E2.m1.1.1.1.1.2.cmml" xref="A2.E2.m1.1.1.1.1">subscript</csymbol><apply id="A2.E2.m1.1.1.1.1.1.1.1.cmml" xref="A2.E2.m1.1.1.1.1.1.1"><times id="A2.E2.m1.1.1.1.1.1.1.1.1.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.1"></times><apply id="A2.E2.m1.1.1.1.1.1.1.1.2.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2"><times id="A2.E2.m1.1.1.1.1.1.1.1.2.1.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.1"></times><apply id="A2.E2.m1.1.1.1.1.1.1.1.2.2.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2"><times id="A2.E2.m1.1.1.1.1.1.1.1.2.2.1.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.1"></times><ci id="A2.E2.m1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.2">ğ‘ </ci><ci id="A2.E2.m1.1.1.1.1.1.1.1.2.2.3.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.3">ğ‘</ci><ci id="A2.E2.m1.1.1.1.1.1.1.1.2.2.4.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.4">ğ‘œ</ci><ci id="A2.E2.m1.1.1.1.1.1.1.1.2.2.5.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.5">ğ‘Ÿ</ci><apply id="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.6"><csymbol cd="ambiguous" id="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.1.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.6">subscript</csymbol><ci id="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.2.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.2">ğ‘’</ci><ci id="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.3.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.2.6.3">ğ‘—</ci></apply></apply><ci id="A2.E2.m1.1.1.1.1.1.1.1.2.3.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.2.3">ğ¼</ci></apply><ci id="A2.E2.m1.1.1.1.1.1.1.1.3.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.3">ğ‘œ</ci><apply id="A2.E2.m1.1.1.1.1.1.1.1.4.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="A2.E2.m1.1.1.1.1.1.1.1.4.1.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.4">superscript</csymbol><apply id="A2.E2.m1.1.1.1.1.1.1.1.4.2.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="A2.E2.m1.1.1.1.1.1.1.1.4.2.1.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="A2.E2.m1.1.1.1.1.1.1.1.4.2.2.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.4.2.2">ğ‘ˆ</ci><ci id="A2.E2.m1.1.1.1.1.1.1.1.4.2.3.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.4.2.3">ğ‘—</ci></apply><cn type="integer" id="A2.E2.m1.1.1.1.1.1.1.1.4.3.cmml" xref="A2.E2.m1.1.1.1.1.1.1.1.4.3">6</cn></apply></apply><apply id="A2.E2.m1.1.1.1.1.3.cmml" xref="A2.E2.m1.1.1.1.1.3"><in id="A2.E2.m1.1.1.1.1.3.1.cmml" xref="A2.E2.m1.1.1.1.1.3.1"></in><ci id="A2.E2.m1.1.1.1.1.3.2.cmml" xref="A2.E2.m1.1.1.1.1.3.2">ğ‘—</ci><ci id="A2.E2.m1.1.1.1.1.3.3.cmml" xref="A2.E2.m1.1.1.1.1.3.3">ğ‘ƒ</ci></apply></apply></apply></apply><ci id="A2.E2.m1.2.2.3.2.cmml" xref="A2.E2.m1.2.2.3.2">ğ‘€</ci></apply><ci id="A2.E2.m1.2.2.4.cmml" xref="A2.E2.m1.2.2.4">ğ‘</ci><ci id="A2.E2.m1.2.2.5.cmml" xref="A2.E2.m1.2.2.5">ğ‘¥</ci><apply id="A2.E2.m1.2.2.1.cmml" xref="A2.E2.m1.2.2.1"><csymbol cd="ambiguous" id="A2.E2.m1.2.2.1.2.cmml" xref="A2.E2.m1.2.2.1">subscript</csymbol><apply id="A2.E2.m1.2.2.1.1.1.1.cmml" xref="A2.E2.m1.2.2.1.1.1"><times id="A2.E2.m1.2.2.1.1.1.1.1.cmml" xref="A2.E2.m1.2.2.1.1.1.1.1"></times><ci id="A2.E2.m1.2.2.1.1.1.1.2.cmml" xref="A2.E2.m1.2.2.1.1.1.1.2">ğ¼</ci><ci id="A2.E2.m1.2.2.1.1.1.1.3.cmml" xref="A2.E2.m1.2.2.1.1.1.1.3">ğ‘œ</ci><apply id="A2.E2.m1.2.2.1.1.1.1.4.cmml" xref="A2.E2.m1.2.2.1.1.1.1.4"><csymbol cd="ambiguous" id="A2.E2.m1.2.2.1.1.1.1.4.1.cmml" xref="A2.E2.m1.2.2.1.1.1.1.4">subscript</csymbol><ci id="A2.E2.m1.2.2.1.1.1.1.4.2.cmml" xref="A2.E2.m1.2.2.1.1.1.1.4.2">ğ‘ˆ</ci><ci id="A2.E2.m1.2.2.1.1.1.1.4.3.cmml" xref="A2.E2.m1.2.2.1.1.1.1.4.3">ğ‘—</ci></apply></apply><apply id="A2.E2.m1.2.2.1.3.cmml" xref="A2.E2.m1.2.2.1.3"><in id="A2.E2.m1.2.2.1.3.1.cmml" xref="A2.E2.m1.2.2.1.3.1"></in><ci id="A2.E2.m1.2.2.1.3.2.cmml" xref="A2.E2.m1.2.2.1.3.2">ğ‘—</ci><ci id="A2.E2.m1.2.2.1.3.3.cmml" xref="A2.E2.m1.2.2.1.3.3">ğ‘ƒ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.E2.m1.2c">\frac{score_{i}*IoU_{i}^{6}}{Max(score_{j}*IoU_{j}^{6})_{j\in{P}}}*Max(IoU_{j})_{j\in{P}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="A2.p2" class="ltx_para">
<p id="A2.p2.1" class="ltx_p">The GIoU loss of each sample is reweighted by the classification target. The classification loss and regression loss weight keep consistent with the main loss weight (1 and 2 respectively) for distinct queries. The performance is quite stable for DDQ FCN when <math id="A2.p2.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A2.p2.1.m1.1a"><mi id="A2.p2.1.m1.1.1" xref="A2.p2.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A2.p2.1.m1.1b"><ci id="A2.p2.1.m1.1.1.cmml" xref="A2.p2.1.m1.1.1">ğ¾</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p2.1.m1.1c">K</annotation></semantics></math> ranges between 5 and 16. We adopt 8 and 4 for DDQ FCN and DDQ DETR respectively in this study. The auxiliary loss also works for refining heads in DDQ RCNN. Due to time issues, we will supplement relevant results in the future version.</p>
</div>
</section>
<section id="A3" class="ltx_appendix ltx_centering">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>More Analysis and Ablation for Pyramid Shuffle</h2>

<div id="A3.p1" class="ltx_para">
<p id="A3.p1.1" class="ltx_p">We provide an in-depth analysis of pyramid shuffle. Firstly, we compare it with 3D MAX Filter in DeFCNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> in Table.Â <a href="#A3.T9" title="Table 9 â€£ Appendix C More Analysis and Ablation for Pyramid Shuffle â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>. Then we visualize the change of score maps in different levels after adding pyramid shuffle operations in Fig.Â <a href="#A3.F6" title="Figure 6 â€£ Appendix C More Analysis and Ablation for Pyramid Shuffle â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>. At last, Table.Â <a href="#A3.T11" title="Table 11 â€£ C.1 Number of Pyramid Shuffle Operations â€£ Appendix C More Analysis and Ablation for Pyramid Shuffle â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a> gives the results under different shuffle channels.</p>
</div>
<figure id="A3.F6" class="ltx_figure"><img src="/html/2303.12776/assets/x6.png" id="A3.F6.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="422" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A3.F6.3.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="A3.F6.4.2" class="ltx_text" style="font-size:90%;">
<span id="A3.F6.4.2.1" class="ltx_text ltx_font_bold">Visualization of score map of adjacent levels</span>. We visualize classification scores with the rainbow color system. The left side of each subfigure(with blue background) shows score maps with pyramid shuffles, and the corresponding right side (with yellow background) means without pyramid shuffles. The top-left corner marks the feature level. The red circle represents the duplication predictions in the adjacent level.</span></figcaption>
</figure>
<figure id="A3.T8" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A3.T8.2.1.1" class="ltx_text" style="font-size:90%;">Table 8</span>: </span><span id="A3.T8.3.2" class="ltx_text" style="font-size:90%;">Latency(ms) of different models with batch size 1</span></figcaption>
<table id="A3.T8.4" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T8.4.1.1" class="ltx_tr">
<th id="A3.T8.4.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="A3.T8.4.1.1.1.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ FCN</span></th>
<th id="A3.T8.4.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">Cascade R-CNN</th>
<th id="A3.T8.4.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">Sparse R-CNN</th>
<th id="A3.T8.4.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">Deformable DETR</th>
<th id="A3.T8.4.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="A3.T8.4.1.1.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ R-CNN</span></th>
<th id="A3.T8.4.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">DINO</th>
<th id="A3.T8.4.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="background-color:#E6E6E6;"><span id="A3.T8.4.1.1.7.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">DDQ DETR</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T8.4.2.1" class="ltx_tr">
<td id="A3.T8.4.2.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="A3.T8.4.2.1.1.1" class="ltx_text" style="background-color:#E6E6E6;">Â <span id="A3.T8.4.2.1.1.1.1" class="ltx_text ltx_font_bold">44.8</span> AP</span></td>
<td id="A3.T8.4.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">44.3 AP</td>
<td id="A3.T8.4.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">45.0 AP</td>
<td id="A3.T8.4.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46.2 AP</td>
<td id="A3.T8.4.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="A3.T8.4.2.1.5.1" class="ltx_text" style="background-color:#E6E6E6;"><span id="A3.T8.4.2.1.5.1.1" class="ltx_text ltx_font_bold">48.1</span> AP</span></td>
<td id="A3.T8.4.2.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.9 AP</td>
<td id="A3.T8.4.2.1.7" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E6E6E6;"><span id="A3.T8.4.2.1.7.1" class="ltx_text" style="background-color:#E6E6E6;"><span id="A3.T8.4.2.1.7.1.1" class="ltx_text ltx_font_bold">52.0</span> AP</span></td>
</tr>
<tr id="A3.T8.4.3.2" class="ltx_tr">
<td id="A3.T8.4.3.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="A3.T8.4.3.2.1.1" class="ltx_text" style="background-color:#E6E6E6;">Â <span id="A3.T8.4.3.2.1.1.1" class="ltx_text ltx_font_bold">22.4</span> ms</span></td>
<td id="A3.T8.4.3.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">28.5 ms</td>
<td id="A3.T8.4.3.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.0 ms</td>
<td id="A3.T8.4.3.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">40.0 ms</td>
<td id="A3.T8.4.3.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="A3.T8.4.3.2.5.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">31.3<span id="A3.T8.4.3.2.5.1.1" class="ltx_text ltx_font_medium"> ms</span></span></td>
<td id="A3.T8.4.3.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46 ms</td>
<td id="A3.T8.4.3.2.7" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E6E6E6;"><span id="A3.T8.4.3.2.7.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">58<span id="A3.T8.4.3.2.7.1.1" class="ltx_text ltx_font_medium"> ms</span></span></td>
</tr>
</tbody>
</table>
</figure>
<figure id="A3.T9" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A3.T9.3.1.1" class="ltx_text" style="font-size:90%;">Table 9</span>: </span><span id="A3.T9.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Comparison between 3D MAX Filter and Pyramid Shuffle.<span id="A3.T9.4.2.1" class="ltx_text ltx_font_medium"> * means the results is unstable</span></span></figcaption>
<div id="A3.T9.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:255.3pt;height:81pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-14.2pt,4.5pt) scale(0.9,0.9) ;">
<table id="A3.T9.5.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T9.5.1.1.1" class="ltx_tr">
<th id="A3.T9.5.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Flops</th>
<th id="A3.T9.5.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">Parameters</th>
<th id="A3.T9.5.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">Operations</th>
<th id="A3.T9.5.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">AP</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T9.5.1.2.1" class="ltx_tr">
<th id="A3.T9.5.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">-</th>
<td id="A3.T9.5.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
<td id="A3.T9.5.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
<td id="A3.T9.5.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t">41.0*</td>
</tr>
<tr id="A3.T9.5.1.3.2" class="ltx_tr">
<th id="A3.T9.5.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">12.2 G</th>
<td id="A3.T9.5.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r">0.59M</td>
<td id="A3.T9.5.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r">Conv&amp;GN&amp;Relu&amp;MaxPool3d</td>
<td id="A3.T9.5.1.3.2.4" class="ltx_td ltx_align_center">41.2</td>
</tr>
<tr id="A3.T9.5.1.4.3" class="ltx_tr">
<th id="A3.T9.5.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T9.5.1.4.3.1.1" class="ltx_text" style="background-color:#E6E6E6;">0.2 G</span></th>
<td id="A3.T9.5.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T9.5.1.4.3.2.1" class="ltx_text" style="background-color:#E6E6E6;">0.00M</span></td>
<td id="A3.T9.5.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T9.5.1.4.3.3.1" class="ltx_text" style="background-color:#E6E6E6;">Shuffle x3</span></td>
<td id="A3.T9.5.1.4.3.4" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="A3.T9.5.1.4.3.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">41.5</span></td>
</tr>
<tr id="A3.T9.5.1.5.4" class="ltx_tr">
<th id="A3.T9.5.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T9.5.1.5.4.1.1" class="ltx_text" style="background-color:#E6E6E6;">12.2 G</span></th>
<td id="A3.T9.5.1.5.4.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T9.5.1.5.4.2.1" class="ltx_text" style="background-color:#E6E6E6;">0.59M</span></td>
<td id="A3.T9.5.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T9.5.1.5.4.3.1" class="ltx_text" style="background-color:#E6E6E6;">Conv&amp;GN&amp;Relu&amp; Shuffle x3</span></td>
<td id="A3.T9.5.1.5.4.4" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="A3.T9.5.1.5.4.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">42.0</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="A3.p2" class="ltx_para ltx_noindent">
<p id="A3.p2.1" class="ltx_p"><span id="A3.p2.1.1" class="ltx_text ltx_font_bold">Comparision with 3D MAX Filter</span> Table.Â <a href="#A3.T9" title="Table 9 â€£ Appendix C More Analysis and Ablation for Pyramid Shuffle â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> shows the comparison between pyramid shuffle and 3D MAX Filtering in DeFCN. DeFCN believes there should be extra parameters and max pooling operation to facilitate the optimization under the one-to-one assignment. However, we argue that only the interaction of cross-level queries matters, and extra parameters or max operations are unnecessary. Our pyramid shuffle is more lightweight and with better performance. When we add an extra convolution to regression branches to fair compare with the 3D MAX Filter, we can surpass it by 0.8 AP.</p>
</div>
<div id="A3.p3" class="ltx_para ltx_noindent">
<p id="A3.p3.1" class="ltx_p"><span id="A3.p3.1.1" class="ltx_text ltx_font_bold">Visualization of Adjacent Level Score Map</span> Fig.Â <a href="#A3.F6" title="Figure 6 â€£ Appendix C More Analysis and Ablation for Pyramid Shuffle â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> shows the scores map of adjacent levels. The left side of each subfigure(with blue background) shows score maps with pyramid shuffles, and the corresponding right side (with yellow background) means without pyramid shuffles. The top-left corner marks the feature level. The red circle represents the duplication predictions in the adjacent level. We can find pyramid shuffle effectively reduces the cross-level high score false positives.</p>
</div>
<div id="A3.p4" class="ltx_para ltx_noindent">
<p id="A3.p4.1" class="ltx_p"><span id="A3.p4.1.1" class="ltx_text ltx_font_bold">Results under Different Shuffle Channels</span> TableÂ <a href="#A3.T11" title="Table 11 â€£ C.1 Number of Pyramid Shuffle Operations â€£ Appendix C More Analysis and Ablation for Pyramid Shuffle â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a> gives the results under different shuffle channels; we can find that the number of channels can even be reduced to 16 when there is already cross-level distinct queries selection, making it more lightweight. When the number of shuffle channels is 128, which means no remaining channels for the current level, the performance will dramatically drop 1.5 AP because of missing information on the current level queries in the interaction.</p>
</div>
<figure id="A3.T10" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A3.T10.4.1.1" class="ltx_text" style="font-size:90%;">Table 10</span>: </span><span id="A3.T10.5.2" class="ltx_text" style="font-size:90%;">Performance of one-stage DDQ with different numbers of shuffle channels.</span></figcaption>
<table id="A3.T10.2.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T10.2.2.2" class="ltx_tr">
<th id="A3.T10.2.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Number</th>
<th id="A3.T10.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP</th>
<th id="A3.T10.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP<sub id="A3.T10.1.1.1.1.1" class="ltx_sub"><span id="A3.T10.1.1.1.1.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</th>
<th id="A3.T10.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP<sub id="A3.T10.2.2.2.2.1" class="ltx_sub"><span id="A3.T10.2.2.2.2.1.1" class="ltx_text ltx_font_italic">75</span></sub>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T10.2.2.3.1" class="ltx_tr">
<th id="A3.T10.2.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">0</th>
<td id="A3.T10.2.2.3.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">41.0*</td>
<td id="A3.T10.2.2.3.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">59.9</td>
<td id="A3.T10.2.2.3.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">45.1</td>
</tr>
<tr id="A3.T10.2.2.4.2" class="ltx_tr">
<th id="A3.T10.2.2.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">8</th>
<td id="A3.T10.2.2.4.2.2" class="ltx_td ltx_align_center ltx_border_r">41.2</td>
<td id="A3.T10.2.2.4.2.3" class="ltx_td ltx_align_center ltx_border_r">60.3</td>
<td id="A3.T10.2.2.4.2.4" class="ltx_td ltx_align_center ltx_border_r">45.4</td>
</tr>
<tr id="A3.T10.2.2.5.3" class="ltx_tr">
<th id="A3.T10.2.2.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">16</th>
<td id="A3.T10.2.2.5.3.2" class="ltx_td ltx_align_center ltx_border_r">41.3</td>
<td id="A3.T10.2.2.5.3.3" class="ltx_td ltx_align_center ltx_border_r">60.6</td>
<td id="A3.T10.2.2.5.3.4" class="ltx_td ltx_align_center ltx_border_r">45.4</td>
</tr>
<tr id="A3.T10.2.2.6.4" class="ltx_tr">
<th id="A3.T10.2.2.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">32</th>
<td id="A3.T10.2.2.6.4.2" class="ltx_td ltx_align_center ltx_border_r">41.4</td>
<td id="A3.T10.2.2.6.4.3" class="ltx_td ltx_align_center ltx_border_r">60.6</td>
<td id="A3.T10.2.2.6.4.4" class="ltx_td ltx_align_center ltx_border_r">45.5</td>
</tr>
<tr id="A3.T10.2.2.7.5" class="ltx_tr">
<th id="A3.T10.2.2.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T10.2.2.7.5.1.1" class="ltx_text" style="background-color:#E6E6E6;">64</span></th>
<td id="A3.T10.2.2.7.5.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T10.2.2.7.5.2.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">41.5</span></td>
<td id="A3.T10.2.2.7.5.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T10.2.2.7.5.3.1" class="ltx_text" style="background-color:#E6E6E6;">60.9</span></td>
<td id="A3.T10.2.2.7.5.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T10.2.2.7.5.4.1" class="ltx_text" style="background-color:#E6E6E6;">45.4</span></td>
</tr>
<tr id="A3.T10.2.2.8.6" class="ltx_tr">
<th id="A3.T10.2.2.8.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">96</th>
<td id="A3.T10.2.2.8.6.2" class="ltx_td ltx_align_center ltx_border_r">41.6</td>
<td id="A3.T10.2.2.8.6.3" class="ltx_td ltx_align_center ltx_border_r">61.1</td>
<td id="A3.T10.2.2.8.6.4" class="ltx_td ltx_align_center ltx_border_r">45.7</td>
</tr>
<tr id="A3.T10.2.2.9.7" class="ltx_tr">
<th id="A3.T10.2.2.9.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">128</th>
<td id="A3.T10.2.2.9.7.2" class="ltx_td ltx_align_center ltx_border_r">39.9</td>
<td id="A3.T10.2.2.9.7.3" class="ltx_td ltx_align_center ltx_border_r">59.9</td>
<td id="A3.T10.2.2.9.7.4" class="ltx_td ltx_align_center ltx_border_r">43.6</td>
</tr>
</tbody>
</table>
</figure>
<section id="A3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1 </span>Number of Pyramid Shuffle Operations</h3>

<div id="A3.SS1.p1" class="ltx_para">
<p id="A3.SS1.p1.1" class="ltx_p">We report the results of DDQ FCN with the different number of pyramid shuffle operations in the classification and regression branches. When no pyramid shuffle is adopted in the DDQ FCN, its performance is unstable and fluctuates between 40.8 AP and 41.1 AP. We report an average performance of 41.0 AP. Even though there has been a cross-level distinct queries selection operation, compared to adopting only 2 and 1 operations to two branches respectively, there is still a 0.5 AP drop.</p>
</div>
<figure id="A3.T11" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A3.T11.4.1.1" class="ltx_text" style="font-size:90%;">Table 11</span>: </span><span id="A3.T11.5.2" class="ltx_text" style="font-size:90%;"> Different number Pyramid shuffle operations in DDQ FCN. Cls means the classification branch and Reg means the regression branch. * indicate the performance is unstable</span></figcaption>
<div id="A3.T11.2.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:141.0pt;height:162pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-7.8pt,9.0pt) scale(0.9,0.9) ;">
<table id="A3.T11.2.2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T11.2.2.2.2" class="ltx_tr">
<th id="A3.T11.2.2.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Cls</th>
<th id="A3.T11.2.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Reg</th>
<th id="A3.T11.2.2.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP</th>
<th id="A3.T11.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP<sub id="A3.T11.1.1.1.1.1.1" class="ltx_sub"><span id="A3.T11.1.1.1.1.1.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</th>
<th id="A3.T11.2.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">AP<sub id="A3.T11.2.2.2.2.2.1" class="ltx_sub"><span id="A3.T11.2.2.2.2.2.1.1" class="ltx_text ltx_font_italic">75</span></sub>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T11.2.2.2.3.1" class="ltx_tr">
<th id="A3.T11.2.2.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">0</th>
<th id="A3.T11.2.2.2.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">0</th>
<td id="A3.T11.2.2.2.3.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">41.0*</td>
<td id="A3.T11.2.2.2.3.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">59.9</td>
<td id="A3.T11.2.2.2.3.1.5" class="ltx_td ltx_align_center ltx_border_t">45.1</td>
</tr>
<tr id="A3.T11.2.2.2.4.2" class="ltx_tr">
<th id="A3.T11.2.2.2.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">1</th>
<th id="A3.T11.2.2.2.4.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">0</th>
<td id="A3.T11.2.2.2.4.2.3" class="ltx_td ltx_align_center ltx_border_r">41.3</td>
<td id="A3.T11.2.2.2.4.2.4" class="ltx_td ltx_align_center ltx_border_r">60.1</td>
<td id="A3.T11.2.2.2.4.2.5" class="ltx_td ltx_align_center">45.6</td>
</tr>
<tr id="A3.T11.2.2.2.5.3" class="ltx_tr">
<th id="A3.T11.2.2.2.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">0</th>
<th id="A3.T11.2.2.2.5.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">1</th>
<td id="A3.T11.2.2.2.5.3.3" class="ltx_td ltx_align_center ltx_border_r">41.3</td>
<td id="A3.T11.2.2.2.5.3.4" class="ltx_td ltx_align_center ltx_border_r">60.6</td>
<td id="A3.T11.2.2.2.5.3.5" class="ltx_td ltx_align_center">45.4</td>
</tr>
<tr id="A3.T11.2.2.2.6.4" class="ltx_tr">
<th id="A3.T11.2.2.2.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">0</th>
<th id="A3.T11.2.2.2.6.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">2</th>
<td id="A3.T11.2.2.2.6.4.3" class="ltx_td ltx_align_center ltx_border_r">41.3</td>
<td id="A3.T11.2.2.2.6.4.4" class="ltx_td ltx_align_center ltx_border_r">60.0</td>
<td id="A3.T11.2.2.2.6.4.5" class="ltx_td ltx_align_center">45.6</td>
</tr>
<tr id="A3.T11.2.2.2.7.5" class="ltx_tr">
<th id="A3.T11.2.2.2.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">2</th>
<th id="A3.T11.2.2.2.7.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">0</th>
<td id="A3.T11.2.2.2.7.5.3" class="ltx_td ltx_align_center ltx_border_r">41.2</td>
<td id="A3.T11.2.2.2.7.5.4" class="ltx_td ltx_align_center ltx_border_r">60.1</td>
<td id="A3.T11.2.2.2.7.5.5" class="ltx_td ltx_align_center">45.5</td>
</tr>
<tr id="A3.T11.2.2.2.8.6" class="ltx_tr">
<th id="A3.T11.2.2.2.8.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">1</th>
<th id="A3.T11.2.2.2.8.6.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">1</th>
<td id="A3.T11.2.2.2.8.6.3" class="ltx_td ltx_align_center ltx_border_r">41.3</td>
<td id="A3.T11.2.2.2.8.6.4" class="ltx_td ltx_align_center ltx_border_r">60.6</td>
<td id="A3.T11.2.2.2.8.6.5" class="ltx_td ltx_align_center">45.8</td>
</tr>
<tr id="A3.T11.2.2.2.9.7" class="ltx_tr">
<th id="A3.T11.2.2.2.9.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T11.2.2.2.9.7.1.1" class="ltx_text" style="background-color:#E6E6E6;">2</span></th>
<th id="A3.T11.2.2.2.9.7.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T11.2.2.2.9.7.2.1" class="ltx_text" style="background-color:#E6E6E6;">1</span></th>
<td id="A3.T11.2.2.2.9.7.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T11.2.2.2.9.7.3.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">41.5</span></td>
<td id="A3.T11.2.2.2.9.7.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A3.T11.2.2.2.9.7.4.1" class="ltx_text" style="background-color:#E6E6E6;">60.9</span></td>
<td id="A3.T11.2.2.2.9.7.5" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="A3.T11.2.2.2.9.7.5.1" class="ltx_text" style="background-color:#E6E6E6;">45.4</span></td>
</tr>
<tr id="A3.T11.2.2.2.10.8" class="ltx_tr">
<th id="A3.T11.2.2.2.10.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">2</th>
<th id="A3.T11.2.2.2.10.8.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">2</th>
<td id="A3.T11.2.2.2.10.8.3" class="ltx_td ltx_align_center ltx_border_r">41.4</td>
<td id="A3.T11.2.2.2.10.8.4" class="ltx_td ltx_align_center ltx_border_r">60.6</td>
<td id="A3.T11.2.2.2.10.8.5" class="ltx_td ltx_align_center">45.5</td>
</tr>
<tr id="A3.T11.2.2.2.11.9" class="ltx_tr">
<th id="A3.T11.2.2.2.11.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">4</th>
<th id="A3.T11.2.2.2.11.9.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">4</th>
<td id="A3.T11.2.2.2.11.9.3" class="ltx_td ltx_align_center ltx_border_r">41.5</td>
<td id="A3.T11.2.2.2.11.9.4" class="ltx_td ltx_align_center ltx_border_r">61.1</td>
<td id="A3.T11.2.2.2.11.9.5" class="ltx_td ltx_align_center">45.6</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section id="A4" class="ltx_appendix ltx_centering">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>DDQ R-CNN with Encoder</h2>

<div id="A4.p1" class="ltx_para">
<p id="A4.p1.1" class="ltx_p">The encoder can provide a more powerful feature representation for the decoder head which is explored inÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>. We simply add 6 dynamic blocks in DyHeadÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite> as our encoder. 500 queries and 3 refinement stages are adopted. It is observed in the main manuscript that there is about 3 AP improvement for DDQ R-CNN.</p>
</div>
</section>
<section id="A5" class="ltx_appendix ltx_centering">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Details of Improved DeformableDETR and Comparison with DINO</h2>

<div id="A5.p1" class="ltx_para">
<p id="A5.p1.1" class="ltx_p">DINOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> adopt some techniques that significantly improve the Deformable DETR. We remove the CDN and mix query selection from DINO to form our baseline. DDQ is a concurrent work of DINO. The contrastive denoising training (CDN) is not
intended to relieve the optimization difficulty of very similar
queries among dense queries. In their implementation, the
generated positive and negative samples in each pair are
always significantly distinct from each other. Mix query
selection increases the distinctness of queries by additionally initializing content embeddings, but the position embeddings are still created from top-k dense regression predictions which can be very similar and still hinder the
optimization. We have shown our components can be combined with DINO.</p>
</div>
</section>
<section id="A6" class="ltx_appendix ltx_centering">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix F </span>Number of Queries and Stages in DDQ R-CNN </h2>

<figure id="A6.T12" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A6.T12.2.1.1" class="ltx_text" style="font-size:90%;">Table 12</span>: </span><span id="A6.T12.3.2" class="ltx_text" style="font-size:90%;">Performance with different number of refine stages(S) and queries(Q).</span></figcaption>
<div id="A6.T12.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:167.5pt;height:81pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-9.3pt,4.5pt) scale(0.9,0.9) ;">
<table id="A6.T12.4.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A6.T12.4.1.1.1" class="ltx_tr">
<th id="A6.T12.4.1.1.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"></th>
<th id="A6.T12.4.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">100 Q</th>
<th id="A6.T12.4.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">200 Q</th>
<th id="A6.T12.4.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">300 Q</th>
<th id="A6.T12.4.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">400 Q</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A6.T12.4.1.2.1" class="ltx_tr">
<th id="A6.T12.4.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">S=1</th>
<td id="A6.T12.4.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">43.0</td>
<td id="A6.T12.4.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">43.2</td>
<td id="A6.T12.4.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">43.4</td>
<td id="A6.T12.4.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t">43.2</td>
</tr>
<tr id="A6.T12.4.1.3.2" class="ltx_tr">
<th id="A6.T12.4.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">S=2</th>
<td id="A6.T12.4.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r">44.2</td>
<td id="A6.T12.4.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r">44.2</td>
<td id="A6.T12.4.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A6.T12.4.1.3.2.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">44.6</span></td>
<td id="A6.T12.4.1.3.2.5" class="ltx_td ltx_align_center">44.8</td>
</tr>
<tr id="A6.T12.4.1.4.3" class="ltx_tr">
<th id="A6.T12.4.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">S=3</th>
<td id="A6.T12.4.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r">44.4</td>
<td id="A6.T12.4.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r">44.8</td>
<td id="A6.T12.4.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r">45.1</td>
<td id="A6.T12.4.1.4.3.5" class="ltx_td ltx_align_center">44.9</td>
</tr>
<tr id="A6.T12.4.1.5.4" class="ltx_tr">
<th id="A6.T12.4.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">S=4</th>
<td id="A6.T12.4.1.5.4.2" class="ltx_td ltx_align_center ltx_border_r">44.5</td>
<td id="A6.T12.4.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r">45.0</td>
<td id="A6.T12.4.1.5.4.4" class="ltx_td ltx_align_center ltx_border_r">45.0</td>
<td id="A6.T12.4.1.5.4.5" class="ltx_td ltx_align_center">45.2</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="A6.p1" class="ltx_para">
<p id="A6.p1.1" class="ltx_p">We analyze the combination of different numbers of stages and queries for DDQ R-CNN. Table.Â <a href="#A6.T12" title="Table 12 â€£ Appendix F Number of Queries and Stages in DDQ R-CNN â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a> shows that the best number of stages is proportional to the number of queries. This is easy to understand. When the number of queries increases, the newly added queries are of low quality, and more stages are needed to refine these queries. It is worth emphasizing that we use 2 stages and 300 queries to trade off the performance and latency. When using 3 stages with the same number of queries, our method achieves an even higher performance of 45.1 AP on MS COCO.</p>
</div>
</section>
<section id="A7" class="ltx_appendix ltx_centering">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix G </span>Latency Benchmark</h2>

<div id="A7.p1" class="ltx_para">
<p id="A7.p1.1" class="ltx_p">As for the details of latency calibration, We compare the speed (forwarding + post-processing) of different methods with batch size 1 in Table.Â <a href="#A3.T8" title="Table 8 â€£ Appendix C More Analysis and Ablation for Pyramid Shuffle â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>. All evaluations were performed on Tesla A100 GPU with Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz. The Pytorch version is 1.9.0 with CudaToolkit 11.1 and Cudnn 8.0.5. An average of 200 iterations during model inference is adopted as the latency reported in this study.</p>
</div>
</section>
<section id="A8" class="ltx_appendix ltx_centering">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix H </span>Impact of Query Construction in DDQ R-CNN </h2>

<div id="A8.p1" class="ltx_para">
<p id="A8.p1.1" class="ltx_p">We try five ways to construct queries in DDQ R-CNN. As shown in Table. <a href="#A8.T13" title="Table 13 â€£ Appendix H Impact of Query Construction in DDQ R-CNN â€£ Dense Distinct Query for End-to-End Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>, None means all query embeddings are set to a zero tensor, and the refinement stages only get meaningful query bounding boxes. This attempt reduces the performance to 43.2 AP. Simply constructing queries from the FPN results in 1.0 AP degradation. Reg means only using the last feature map of the regression branch, which drops the performance by 0.6 AP. Constructing queries from the last feature map in the classification branch can be an alternative as it can get a comparable performance(only 0.3 AP drop).</p>
</div>
<figure id="A8.T13" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A8.T13.4.1.1" class="ltx_text" style="font-size:90%;">Table 13</span>: </span><span id="A8.T13.5.2" class="ltx_text" style="font-size:90%;">Impact of Query Construction in DDQ RCNN</span></figcaption>
<div id="A8.T13.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:132.7pt;height:97.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-7.4pt,5.4pt) scale(0.9,0.9) ;">
<table id="A8.T13.2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A8.T13.2.2.2" class="ltx_tr">
<th id="A8.T13.2.2.2.3" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"></th>
<th id="A8.T13.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP</th>
<th id="A8.T13.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">AP<sub id="A8.T13.1.1.1.1.1" class="ltx_sub"><span id="A8.T13.1.1.1.1.1.1" class="ltx_text ltx_font_italic">50</span></sub>
</th>
<th id="A8.T13.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">AP<sub id="A8.T13.2.2.2.2.1" class="ltx_sub"><span id="A8.T13.2.2.2.2.1.1" class="ltx_text ltx_font_italic">75</span></sub>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A8.T13.2.2.3.1" class="ltx_tr">
<th id="A8.T13.2.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">None</th>
<td id="A8.T13.2.2.3.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">43.2</td>
<td id="A8.T13.2.2.3.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">61.0</td>
<td id="A8.T13.2.2.3.1.4" class="ltx_td ltx_align_center ltx_border_t">47.9</td>
</tr>
<tr id="A8.T13.2.2.4.2" class="ltx_tr">
<th id="A8.T13.2.2.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">FPN</th>
<td id="A8.T13.2.2.4.2.2" class="ltx_td ltx_align_center ltx_border_r">43.6</td>
<td id="A8.T13.2.2.4.2.3" class="ltx_td ltx_align_center ltx_border_r">61.7</td>
<td id="A8.T13.2.2.4.2.4" class="ltx_td ltx_align_center">48.0</td>
</tr>
<tr id="A8.T13.2.2.5.3" class="ltx_tr">
<th id="A8.T13.2.2.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Cls</th>
<td id="A8.T13.2.2.5.3.2" class="ltx_td ltx_align_center ltx_border_r">44.3</td>
<td id="A8.T13.2.2.5.3.3" class="ltx_td ltx_align_center ltx_border_r">62.2</td>
<td id="A8.T13.2.2.5.3.4" class="ltx_td ltx_align_center">48.6</td>
</tr>
<tr id="A8.T13.2.2.6.4" class="ltx_tr">
<th id="A8.T13.2.2.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Reg</th>
<td id="A8.T13.2.2.6.4.2" class="ltx_td ltx_align_center ltx_border_r">44.0</td>
<td id="A8.T13.2.2.6.4.3" class="ltx_td ltx_align_center ltx_border_r">62.5</td>
<td id="A8.T13.2.2.6.4.4" class="ltx_td ltx_align_center">48.3</td>
</tr>
<tr id="A8.T13.2.2.7.5" class="ltx_tr">
<th id="A8.T13.2.2.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="background-color:#E6E6E6;"><span id="A8.T13.2.2.7.5.1.1" class="ltx_text" style="background-color:#E6E6E6;">Cls&amp;Reg</span></th>
<td id="A8.T13.2.2.7.5.2" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A8.T13.2.2.7.5.2.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">44.6</span></td>
<td id="A8.T13.2.2.7.5.3" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A8.T13.2.2.7.5.3.1" class="ltx_text" style="background-color:#E6E6E6;">63.0</span></td>
<td id="A8.T13.2.2.7.5.4" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="A8.T13.2.2.7.5.4.1" class="ltx_text" style="background-color:#E6E6E6;">48.8</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="A9" class="ltx_appendix ltx_centering">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix I </span>DQS with Different IoU Threshold in CrowdHuman </h2>

<div id="A9.p1" class="ltx_para">
<p id="A9.p1.1" class="ltx_p">In this section, we show the robustness of distinct queries selection(DQS) with different IoU thresholds in CrowdHuman. We can find there is a clear performance bottleneck for traditional detector ATSS even with carefully adjusting the threshold of NMS.</p>
</div>
<figure id="A9.T14" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A9.T14.2.1.1" class="ltx_text" style="font-size:90%;">Table 14</span>: </span><span id="A9.T14.3.2" class="ltx_text" style="font-size:90%;">Performance of DDQ on COCO when DQS adopts different IoU thresholds. Results of ATSS adopting different IoU thresholds in post-processing are also reported. None means we remove DQS or post-processing from the inference pipeline.</span></figcaption>
<div id="A9.T14.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:233.4pt;height:64.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-13.0pt,3.6pt) scale(0.9,0.9) ;">
<table id="A9.T14.4.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A9.T14.4.1.1.1" class="ltx_tr">
<th id="A9.T14.4.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt">CrowdHuman</th>
<th id="A9.T14.4.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">0.5</th>
<th id="A9.T14.4.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">0.6</th>
<th id="A9.T14.4.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">0.7</th>
<th id="A9.T14.4.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">0.8</th>
<th id="A9.T14.4.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">0.9</th>
<th id="A9.T14.4.1.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">None</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A9.T14.4.1.2.1" class="ltx_tr">
<th id="A9.T14.4.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">DDQ FCN</th>
<td id="A9.T14.4.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">88.0</td>
<td id="A9.T14.4.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">91.8</td>
<td id="A9.T14.4.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="background-color:#E6E6E6;"><span id="A9.T14.4.1.2.1.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">92.7</span></td>
<td id="A9.T14.4.1.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">92.8</td>
<td id="A9.T14.4.1.2.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">92.3</td>
<td id="A9.T14.4.1.2.1.7" class="ltx_td ltx_align_center ltx_border_t">91.7</td>
</tr>
<tr id="A9.T14.4.1.3.2" class="ltx_tr">
<th id="A9.T14.4.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">DDQ RCNN</th>
<td id="A9.T14.4.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r">91.8</td>
<td id="A9.T14.4.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r">92.9</td>
<td id="A9.T14.4.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r" style="background-color:#E6E6E6;"><span id="A9.T14.4.1.3.2.4.1" class="ltx_text ltx_font_bold" style="background-color:#E6E6E6;">93.5</span></td>
<td id="A9.T14.4.1.3.2.5" class="ltx_td ltx_align_center ltx_border_r">93.3</td>
<td id="A9.T14.4.1.3.2.6" class="ltx_td ltx_align_center ltx_border_r">93.2</td>
<td id="A9.T14.4.1.3.2.7" class="ltx_td ltx_align_center">93.2</td>
</tr>
<tr id="A9.T14.4.1.4.3" class="ltx_tr">
<th id="A9.T14.4.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">ATSS</th>
<td id="A9.T14.4.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r">88.3</td>
<td id="A9.T14.4.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r"><span id="A9.T14.4.1.4.3.3.1" class="ltx_text ltx_font_bold">89.6</span></td>
<td id="A9.T14.4.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r">88.4</td>
<td id="A9.T14.4.1.4.3.5" class="ltx_td ltx_align_center ltx_border_r">85.3</td>
<td id="A9.T14.4.1.4.3.6" class="ltx_td ltx_align_center ltx_border_r">78.9</td>
<td id="A9.T14.4.1.4.3.7" class="ltx_td ltx_align_center">42.7</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="A10" class="ltx_appendix ltx_centering">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix J </span>Social Impact</h2>

<div id="A10.p1" class="ltx_para">
<p id="A10.p1.1" class="ltx_p">The potential social impact of this work inherits from object detection. Because human behaviors often cause crowded scenes, and DDQ achieves excellent performance in such scenes, it may be applied to some applications that violate human privacy, such as surveillance.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2303.12775" class="ar5iv-nav-button ar5iv-nav-button-prev">â—„</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2303.12776" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2303.12776">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2303.12776" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2303.12777" class="ar5iv-nav-button ar5iv-nav-button-next">â–º</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Feb 29 19:00:07 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "Ã—";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
