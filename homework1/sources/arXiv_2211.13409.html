<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2211.13409] Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation</title><meta property="og:description" content="Most existing domain adaptation (DA) methods align the features based on the domain feature distributions and ignore aspects related to fog, background and target objects, rendering suboptimal performance.
In our DA fr…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2211.13409">

<!--Generated on Thu Mar 14 06:09:47 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Domain adaptation Object detection Foggy scenes.">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span id="id1" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span>National University of Singapore,
Huawei International Pte Ltd,Yale-NUS College 
<br class="ltx_break"><span id="id1.1" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>e0674612@u.nus.edu</span></span></span>,
<span id="id1.2" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>michaelbimi@yahoo.com</span></span></span>,
<span id="id1.3" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>{yuanyuan10,wangxin237}@huawei.com</span></span></span>,
<span id="id1.4" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>robby.tan@{nus,yale-nus}.edu.sg</span></span></span></span></span></span>
<h1 class="ltx_title ltx_title_document">Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xin Yang 
</span><span class="ltx_author_notes">11
<span class="ltx_contact ltx_role_orcid"><a target="_blank" href="https://orcid.org/0000-0002-4617-5733" title="ORCID identifier" class="ltx_ref">0000-0002-4617-5733</a></span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Michael Bi Mi
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yuan Yuan
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xin Wang
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Robby T. Tan
</span><span class="ltx_author_notes">1133
<span class="ltx_contact ltx_role_orcid"><a target="_blank" href="https://orcid.org/0000-0001-7532-6919" title="ORCID identifier" class="ltx_ref">0000-0001-7532-6919</a></span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Most existing domain adaptation (DA) methods align the features based on the domain feature distributions and ignore aspects related to fog, background and target objects, rendering suboptimal performance.
In our DA framework, we retain the depth and background information during the domain feature alignment.
A consistency loss between the generated depth and fog transmission map is introduced to strengthen the retention of the depth information in the aligned features.
To address false object features potentially generated during the DA process, we propose an encoder-decoder framework to reconstruct the fog-free background image.
This reconstruction loss also reinforces the encoder, i.e., our DA backbone, to minimize false object features.
Moreover, we involve our target data in training both our DA module and our detection module in a semi-supervised manner, so that our detection module is also exposed to the unlabeled target data, the type of data used in the testing stage.
Using these ideas, our method significantly outperforms the state-of-the-art method (47.6 mAP against the 44.3 mAP on the Foggy Cityscapes dataset), and obtains the best performance on multiple real-image public datasets.
Code is available at: https://github.com/VIML-CVDL/Object-Detection-in-Foggy-Scenes</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Keywords: </h6>Domain adaptation Object detection Foggy scenes.
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Object detection is impaired by bad weather conditions, particularly fog or haze.
Addressing this problem is important, since many computer vision applications, such as self-driving cars and video surveillance, rely on robust object detection regardless of the weather conditions.
One possible solution is to employ a pre-processing method, such as image defogging or dehazing <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> right before an object detection module.
However, this solution is suboptimal, since bad weather image enhancement itself is still an open problem, and thus introduces a risk of removing or altering some target object information.</p>
</div>
<figure id="S1.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S1.F1.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/x1.png" id="S1.F1.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="664" height="135" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S1.F1.sf1.3.2" class="ltx_text" style="font-size:90%;">Input Image</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S1.F1.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/x2.png" id="S1.F1.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="664" height="135" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S1.F1.sf2.3.2" class="ltx_text" style="font-size:90%;">PBDA<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite></span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S1.F1.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/x3.png" id="S1.F1.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="664" height="135" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.sf3.3.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S1.F1.sf3.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Our Result</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S1.F1.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/x4.png" id="S1.F1.sf4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="664" height="135" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.sf4.2.1.1" class="ltx_text" style="font-size:90%;">(d)</span> </span><span id="S1.F1.sf4.3.2" class="ltx_text" style="font-size:90%;">Ground-Truth</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S1.F1.3.2" class="ltx_text" style="font-size:90%;"> (a) Input dense fog image from Foggy Cityscapes <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>. (b) Result from PBDA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>, where many objects are undetected. (c) Ours, where more objects are detected. (d) Ground-truth, annotated from its corresponding clear image. Zoom in for better visualization.</span></figcaption>
</figure>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Recently, object detection methods based on unsupervised domain adaptation (DA) (e.g., <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>) have shown promising performance for bad weather conditions.
By aligning the source (clear weather image) and the target (weather degraded image) distributions in the feature level, a domain adaptive network is expected to produce weather-invariant features.
Unlike image pre-processing methods, domain adaptive detection networks do not require an additional defogging module during the inference stage, and can also work on both clear and foggy conditions.
The DA methods, however, were not initially proposed for the adverse weather conditions, and hence align the source and target features based only on feature alignment losses, ignoring some important aspects of the target data, such as depth, transmission map, reconstruction of object instances of the target data, etc.
This is despite the fact that for bad weather, particularly fog or haze, these aspects can be imposed.
Sindagi et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> attempt to fuse DA with adverse weather physics models, but do not obtain a satisfactory performance (39.3 mAP on Foggy Cityscapes, compared to 47.6 mAP of ours).</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this paper, we propose a DA method that learns domain invariant features by considering depth cues, consistency between depth from fog transmission, and clear-image reconstruction.
Moreover, we involve the source and target data to train our whole network in a semi-supervised manner, so that our object detection module can be exposed to the unlabeled target data, which has the same type as data in the testing stage.
Most existing DA methods aim to suppress any discrepancies between the source and target data in the feature space, and
this includes any depth distribution discrepancies.
However, depth information is critical in object detection <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>, and thus the depth suppression will significantly affect the object detection performance.
To resolve this, we propose a depth estimation module and its corresponding depth loss, so that the depth information in our features can be retained.
This depth loss forces our DA backbone to retain the depth information during the DA process.
Moreover, to further reinforce our DA backbone to retain the depth information, we also add a transmission-depth consistency loss.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">When performing DA, the source and target images are likely to contain different object instances, and aligning two different objects with different appearances encourages the generation of false features.
To address this problem, we fuse a reconstruction module into our DA backbone, and propose a reconstruction loss.
Based on the features from our DA backbone’s layers from the target (fog image), our reconstruction module generates a clear image.
Our reconstruction loss thus measures the difference between the estimated clear image and the clear-image pseudo ground-truth of the target obtained from an existing defogging method.
This reconstruction loss will then prevent false features generated during the feature extraction process.
During the training stage, the DA model gradually becomes more robust to fog, and the predictions on the unlabeled target images become more reliable.
This gives us an opportunity to employ the target data to train our object detection module, so that the module can be exposed to both source and target data and becomes less biased to the source data.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p"><a href="#S1.F1" title="In 1 Introduction ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">1</span></a> shows our object detection result, which incorporates all our losses and ideas into our DA backbone.
As a summary, our contributions and novelties are as follow:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">Without imposing our depth losses, DA features are deprived from the depth information, due to the over-emphasis on source/target adaptation. This deprivation negatively affects object detection performance. Hence, we introduce depth losses to our DA backbone to retain the depth information in our DA features.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We propose to reinforce the target transmission map to have consistent depth information to its corresponding depth estimation.
This consistency loss constraints the transmission map and improves further the DA performance and the depth retention.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We propose to integrate an image reconstruction module into our DA backbone.
Hence, any additional false object features existing in DA features will be penalized, and hence minimized.</p>
</div>
</li>
</ul>
<p id="S1.p5.2" class="ltx_p">Our quantitative evaluations show that our method outperforms the state-of-the-art methods on various public datasets, including real image datasets.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<div id="S2.p1" class="ltx_para ltx_noindent">
<p id="S2.p1.1" class="ltx_p"><span id="S2.p1.1.1" class="ltx_text ltx_font_bold">Object Detection in Foggy Scenes</span>
Most existing object detection models require a fully-supervised training strategy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>.
However, under adverse weather conditions, having sufficient images and precise annotations is intractable.
A possible solution is to utilize defogging algorithms.
The defogged images are less affected by fog, and hence they can be fed into object detection models which are trained with clear images directly.
However, defogging is still an existing research problem and thus limits the performance potential of this approach.
Moreover, defogging introduces an additional computational overhead, hindering the real-time process for some applications.
These drawbacks were discussed and analyzed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>.</p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.1" class="ltx_p"><span id="S2.p2.1.1" class="ltx_text ltx_font_bold">Domain Adaptation</span>
DA methods were proposed to train a single network which can work on different domains.
In DA, there will be labeled images from the source domain and unlabeled images from the the target domain.
During the training stage, images from both domains will be fed into the network.
The source images with annotations will be used for the training of object detection part.
Meanwhile, a domain discriminator will examine which domain the extracted feature maps come from.
The discriminator will be rewarded for accurate domain prediction, but the network will be penalized.
Hence, the network is encouraged to extract domain invariant feature maps, i.e., fog free features.
Since the feature maps are already domain invariant, the detection trained with the source labels can also detect objects from the target images.
Additionally, once the network is trained, the domain discriminator is not needed anymore, hence no additional overhead in the inference stage.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">There are a few existing DA methods that tried to perform DA between clear weather and fog weather.
Some methods investigated where and how to put the domain discriminators, so that the DA can be more efficient whilst retain most object-related information <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>.
<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> aimed to designed a more suitable domain discriminator, using transmission maps, entropy, uncertainty masks, memory banks/dictionaries and class clusters.
However, most of these methods focus on synthetic datasets, and ignores the fact where the weather-specific knowledge prior can also be integrated to better describe the domain discrepancy.</p>
</div>
<figure id="S2.F2" class="ltx_figure"><img src="/html/2211.13409/assets/accvarchi.png" id="S2.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="353" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F2.2.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S2.F2.3.2" class="ltx_text" style="font-size:90%;">The network consists of five parts. (1) Backbone extracts feature maps from the input images. (2) Object detection head localizes and categorizes object instances from the feature maps. (3) Domain discriminator and DEB encourage the backbone to extract fog-invariant features, and maintains the images’ depth distributions. (4) Reconstruction decoder minimizes the fake object features generated by DA. (5) Pseudo-Labels involve target domain information in the pipeline, and apply consistency regularization between fog and defogged images. The green arrows represent source data-flow, and the red arrows represent target data-flow. Note, only the blue modules are needed in the testing stage.</span></figcaption>
</figure>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Proposed Method</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p"><a href="#S2.F2" title="In 2 Related Work ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">2</span></a> shows the pipeline of our method, where clear images are our source input, and foggy images are our target input.
For the source images, we have their corresponding annotations (bounding boxes and classes) to train our object detection module.
For the target images, we do not have any annotations.
In this DA framework, we introduce a few constraints: depth, consistency between the transmission and depth, and clear background reconstruction.
The goal of adding these constraints is to extract features from both source (clear image) and target (fog image) that are robust for object detection.
Moreover, we exploit the target predictions to train our object detection module, so that the module can be exposed to the unlabeled target data, and hence less biased to the source data.</p>
</div>
<div id="S3.p2" class="ltx_para ltx_noindent">
<p id="S3.p2.2" class="ltx_p"><span id="S3.p2.2.1" class="ltx_text ltx_font_bold">Object Detection</span>
For the object detection module, we employ Faster-RCNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, which consists of a backbone <math id="S3.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{F}" display="inline"><semantics id="S3.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><ci id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">\mathcal{F}</annotation></semantics></math> for feature extraction, and an object detection head, <math id="S3.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{G}" display="inline"><semantics id="S3.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><ci id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">\mathcal{G}</annotation></semantics></math>.
The loss for the object detection is defined as:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{det}}=\mathcal{L}_{\text{rpn}}+\mathcal{L}_{\text{cls}}+\mathcal{L}_{\text{bbox}}," display="block"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><mrow id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><msub id="S3.E1.m1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.1.1.1.1.2.2" xref="S3.E1.m1.1.1.1.1.2.2.cmml">ℒ</mi><mtext id="S3.E1.m1.1.1.1.1.2.3" xref="S3.E1.m1.1.1.1.1.2.3a.cmml">det</mtext></msub><mo id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.3.cmml"><msub id="S3.E1.m1.1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.1.1.1.1.3.2.2" xref="S3.E1.m1.1.1.1.1.3.2.2.cmml">ℒ</mi><mtext id="S3.E1.m1.1.1.1.1.3.2.3" xref="S3.E1.m1.1.1.1.1.3.2.3a.cmml">rpn</mtext></msub><mo id="S3.E1.m1.1.1.1.1.3.1" xref="S3.E1.m1.1.1.1.1.3.1.cmml">+</mo><msub id="S3.E1.m1.1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.1.1.1.1.3.3.2" xref="S3.E1.m1.1.1.1.1.3.3.2.cmml">ℒ</mi><mtext id="S3.E1.m1.1.1.1.1.3.3.3" xref="S3.E1.m1.1.1.1.1.3.3.3a.cmml">cls</mtext></msub><mo id="S3.E1.m1.1.1.1.1.3.1a" xref="S3.E1.m1.1.1.1.1.3.1.cmml">+</mo><msub id="S3.E1.m1.1.1.1.1.3.4" xref="S3.E1.m1.1.1.1.1.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.1.1.1.1.3.4.2" xref="S3.E1.m1.1.1.1.1.3.4.2.cmml">ℒ</mi><mtext id="S3.E1.m1.1.1.1.1.3.4.3" xref="S3.E1.m1.1.1.1.1.3.4.3a.cmml">bbox</mtext></msub></mrow></mrow><mo id="S3.E1.m1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1"><eq id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"></eq><apply id="S3.E1.m1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.2">ℒ</ci><ci id="S3.E1.m1.1.1.1.1.2.3a.cmml" xref="S3.E1.m1.1.1.1.1.2.3"><mtext mathsize="70%" id="S3.E1.m1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.3">det</mtext></ci></apply><apply id="S3.E1.m1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.3"><plus id="S3.E1.m1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3.1"></plus><apply id="S3.E1.m1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3.2.1.cmml" xref="S3.E1.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.3.2.2.cmml" xref="S3.E1.m1.1.1.1.1.3.2.2">ℒ</ci><ci id="S3.E1.m1.1.1.1.1.3.2.3a.cmml" xref="S3.E1.m1.1.1.1.1.3.2.3"><mtext mathsize="70%" id="S3.E1.m1.1.1.1.1.3.2.3.cmml" xref="S3.E1.m1.1.1.1.1.3.2.3">rpn</mtext></ci></apply><apply id="S3.E1.m1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.3.2">ℒ</ci><ci id="S3.E1.m1.1.1.1.1.3.3.3a.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3"><mtext mathsize="70%" id="S3.E1.m1.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3">cls</mtext></ci></apply><apply id="S3.E1.m1.1.1.1.1.3.4.cmml" xref="S3.E1.m1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3.4.1.cmml" xref="S3.E1.m1.1.1.1.1.3.4">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.3.4.2.cmml" xref="S3.E1.m1.1.1.1.1.3.4.2">ℒ</ci><ci id="S3.E1.m1.1.1.1.1.3.4.3a.cmml" xref="S3.E1.m1.1.1.1.1.3.4.3"><mtext mathsize="70%" id="S3.E1.m1.1.1.1.1.3.4.3.cmml" xref="S3.E1.m1.1.1.1.1.3.4.3">bbox</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">\mathcal{L}_{\text{det}}=\mathcal{L}_{\text{rpn}}+\mathcal{L}_{\text{cls}}+\mathcal{L}_{\text{bbox}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.p2.5" class="ltx_p">where, <math id="S3.p2.3.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{rpn}}" display="inline"><semantics id="S3.p2.3.m1.1a"><msub id="S3.p2.3.m1.1.1" xref="S3.p2.3.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p2.3.m1.1.1.2" xref="S3.p2.3.m1.1.1.2.cmml">ℒ</mi><mtext id="S3.p2.3.m1.1.1.3" xref="S3.p2.3.m1.1.1.3a.cmml">rpn</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p2.3.m1.1b"><apply id="S3.p2.3.m1.1.1.cmml" xref="S3.p2.3.m1.1.1"><csymbol cd="ambiguous" id="S3.p2.3.m1.1.1.1.cmml" xref="S3.p2.3.m1.1.1">subscript</csymbol><ci id="S3.p2.3.m1.1.1.2.cmml" xref="S3.p2.3.m1.1.1.2">ℒ</ci><ci id="S3.p2.3.m1.1.1.3a.cmml" xref="S3.p2.3.m1.1.1.3"><mtext mathsize="70%" id="S3.p2.3.m1.1.1.3.cmml" xref="S3.p2.3.m1.1.1.3">rpn</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m1.1c">\mathcal{L}_{\text{rpn}}</annotation></semantics></math> is the regional proposal loss, <math id="S3.p2.4.m2.1" class="ltx_Math" alttext="\mathcal{L}_{\text{cls}}" display="inline"><semantics id="S3.p2.4.m2.1a"><msub id="S3.p2.4.m2.1.1" xref="S3.p2.4.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p2.4.m2.1.1.2" xref="S3.p2.4.m2.1.1.2.cmml">ℒ</mi><mtext id="S3.p2.4.m2.1.1.3" xref="S3.p2.4.m2.1.1.3a.cmml">cls</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p2.4.m2.1b"><apply id="S3.p2.4.m2.1.1.cmml" xref="S3.p2.4.m2.1.1"><csymbol cd="ambiguous" id="S3.p2.4.m2.1.1.1.cmml" xref="S3.p2.4.m2.1.1">subscript</csymbol><ci id="S3.p2.4.m2.1.1.2.cmml" xref="S3.p2.4.m2.1.1.2">ℒ</ci><ci id="S3.p2.4.m2.1.1.3a.cmml" xref="S3.p2.4.m2.1.1.3"><mtext mathsize="70%" id="S3.p2.4.m2.1.1.3.cmml" xref="S3.p2.4.m2.1.1.3">cls</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m2.1c">\mathcal{L}_{\text{cls}}</annotation></semantics></math> is the classification loss, and <math id="S3.p2.5.m3.1" class="ltx_Math" alttext="\mathcal{L}_{\text{bbox}}" display="inline"><semantics id="S3.p2.5.m3.1a"><msub id="S3.p2.5.m3.1.1" xref="S3.p2.5.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p2.5.m3.1.1.2" xref="S3.p2.5.m3.1.1.2.cmml">ℒ</mi><mtext id="S3.p2.5.m3.1.1.3" xref="S3.p2.5.m3.1.1.3a.cmml">bbox</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p2.5.m3.1b"><apply id="S3.p2.5.m3.1.1.cmml" xref="S3.p2.5.m3.1.1"><csymbol cd="ambiguous" id="S3.p2.5.m3.1.1.1.cmml" xref="S3.p2.5.m3.1.1">subscript</csymbol><ci id="S3.p2.5.m3.1.1.2.cmml" xref="S3.p2.5.m3.1.1.2">ℒ</ci><ci id="S3.p2.5.m3.1.1.3a.cmml" xref="S3.p2.5.m3.1.1.3"><mtext mathsize="70%" id="S3.p2.5.m3.1.1.3.cmml" xref="S3.p2.5.m3.1.1.3">bbox</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m3.1c">\mathcal{L}_{\text{bbox}}</annotation></semantics></math> is the localization loss.</p>
</div>
<div id="S3.p3" class="ltx_para ltx_noindent">
<p id="S3.p3.6" class="ltx_p"><span id="S3.p3.6.1" class="ltx_text ltx_font_bold">Domain Adaptation</span>
Our domain adaptation backbone shares the same backbone as that of the object detection module.
For the domain discriminator, we use transmission maps as the domain indicator (i.e., the discriminator is expected to produce a blank map for source, and a transmission map for target).
The corresponding loss can be defined as:</p>
<table id="S3.E2" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E2X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E2X.2.1.1.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{\text{da}}=\left\|\mathcal{D}(\mathcal{F}(I_{s}))\right\|^{2}_{2}+\left\|t-\mathcal{D}(\mathcal{F}(I_{t}))\right\|^{2}_{2}," display="inline"><semantics id="S3.E2X.2.1.1.m1.1a"><mrow id="S3.E2X.2.1.1.m1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.cmml"><mrow id="S3.E2X.2.1.1.m1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.cmml"><msub id="S3.E2X.2.1.1.m1.1.1.1.1.4" xref="S3.E2X.2.1.1.m1.1.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2X.2.1.1.m1.1.1.1.1.4.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.4.2.cmml">ℒ</mi><mtext id="S3.E2X.2.1.1.m1.1.1.1.1.4.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.4.3a.cmml">da</mtext></msub><mo id="S3.E2X.2.1.1.m1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.cmml"><msubsup id="S3.E2X.2.1.1.m1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">𝒟</mi><mo lspace="0em" rspace="0em" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">ℱ</mi><mo lspace="0em" rspace="0em" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">s</mi></msub><mo stretchy="false" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.3.cmml">2</mn><mn id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.3.cmml">2</mn></msubsup><mo id="S3.E2X.2.1.1.m1.1.1.1.1.2.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.3.cmml">+</mo><msubsup id="S3.E2X.2.1.1.m1.1.1.1.1.2.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.cmml"><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.2.cmml"><mo id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.2.1.cmml">‖</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.cmml"><mi id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.3.cmml">t</mi><mo id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.2.cmml">−</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.3.cmml">𝒟</mi><mo lspace="0em" rspace="0em" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.3.cmml">ℱ</mi><mo lspace="0em" rspace="0em" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.3.cmml">2</mn><mn id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.3.cmml">2</mn></msubsup></mrow></mrow><mo id="S3.E2X.2.1.1.m1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2X.2.1.1.m1.1b"><apply id="S3.E2X.2.1.1.m1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1"><eq id="S3.E2X.2.1.1.m1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.3"></eq><apply id="S3.E2X.2.1.1.m1.1.1.1.1.4.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.1.1.1.1.4.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.4">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.1.1.1.1.4.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.4.2">ℒ</ci><ci id="S3.E2X.2.1.1.m1.1.1.1.1.4.3a.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.4.3"><mtext mathsize="70%" id="S3.E2X.2.1.1.m1.1.1.1.1.4.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.4.3">da</mtext></ci></apply><apply id="S3.E2X.2.1.1.m1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2"><plus id="S3.E2X.2.1.1.m1.1.1.1.1.2.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.3"></plus><apply id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2">norm</csymbol><apply id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.3">𝒟</ci><apply id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ℱ</ci><apply id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑠</ci></apply></apply></apply></apply><cn type="integer" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.3">2</cn></apply><cn type="integer" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.3">2</cn></apply><apply id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2">subscript</csymbol><apply id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2">superscript</csymbol><apply id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1"><csymbol cd="latexml" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.2.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.2">norm</csymbol><apply id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1"><minus id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.2"></minus><ci id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.3">𝑡</ci><apply id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1"><times id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.2"></times><ci id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.3">𝒟</ci><apply id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1"><times id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.3">ℱ</ci><apply id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></apply></apply><cn type="integer" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.1.3">2</cn></apply><cn type="integer" id="S3.E2X.2.1.1.m1.1.1.1.1.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.2.2.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2X.2.1.1.m1.1c">\displaystyle\mathcal{L}_{\text{da}}=\left\|\mathcal{D}(\mathcal{F}(I_{s}))\right\|^{2}_{2}+\left\|t-\mathcal{D}(\mathcal{F}(I_{t}))\right\|^{2}_{2},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(2)</span></td>
</tr>
</tbody>
</table>
<p id="S3.p3.5" class="ltx_p">where, <math id="S3.p3.1.m1.1" class="ltx_Math" alttext="\mathcal{F}" display="inline"><semantics id="S3.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><ci id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">\mathcal{F}</annotation></semantics></math> is the backbone, <math id="S3.p3.2.m2.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="S3.p3.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p3.2.m2.1.1" xref="S3.p3.2.m2.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.1b"><ci id="S3.p3.2.m2.1.1.cmml" xref="S3.p3.2.m2.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">\mathcal{D}</annotation></semantics></math> is the domain discriminator.
<math id="S3.p3.3.m3.1" class="ltx_Math" alttext="I_{s}" display="inline"><semantics id="S3.p3.3.m3.1a"><msub id="S3.p3.3.m3.1.1" xref="S3.p3.3.m3.1.1.cmml"><mi id="S3.p3.3.m3.1.1.2" xref="S3.p3.3.m3.1.1.2.cmml">I</mi><mi id="S3.p3.3.m3.1.1.3" xref="S3.p3.3.m3.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.3.m3.1b"><apply id="S3.p3.3.m3.1.1.cmml" xref="S3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p3.3.m3.1.1.1.cmml" xref="S3.p3.3.m3.1.1">subscript</csymbol><ci id="S3.p3.3.m3.1.1.2.cmml" xref="S3.p3.3.m3.1.1.2">𝐼</ci><ci id="S3.p3.3.m3.1.1.3.cmml" xref="S3.p3.3.m3.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.3.m3.1c">I_{s}</annotation></semantics></math> and <math id="S3.p3.4.m4.1" class="ltx_Math" alttext="I_{t}" display="inline"><semantics id="S3.p3.4.m4.1a"><msub id="S3.p3.4.m4.1.1" xref="S3.p3.4.m4.1.1.cmml"><mi id="S3.p3.4.m4.1.1.2" xref="S3.p3.4.m4.1.1.2.cmml">I</mi><mi id="S3.p3.4.m4.1.1.3" xref="S3.p3.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.4.m4.1b"><apply id="S3.p3.4.m4.1.1.cmml" xref="S3.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p3.4.m4.1.1.1.cmml" xref="S3.p3.4.m4.1.1">subscript</csymbol><ci id="S3.p3.4.m4.1.1.2.cmml" xref="S3.p3.4.m4.1.1.2">𝐼</ci><ci id="S3.p3.4.m4.1.1.3.cmml" xref="S3.p3.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.4.m4.1c">I_{t}</annotation></semantics></math> are the input images from the source domain and the target domain, respectively.
<math id="S3.p3.5.m5.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.p3.5.m5.1a"><mi id="S3.p3.5.m5.1.1" xref="S3.p3.5.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p3.5.m5.1b"><ci id="S3.p3.5.m5.1.1.cmml" xref="S3.p3.5.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.5.m5.1c">t</annotation></semantics></math> is the transmission map for the target image.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Depth Estimation Block (DEB)</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">In the DA process, it is unlikely that a pair of source and target images to have the same depth distribution, since they unlikely contain the same scenes.
Thus, when the existing DA methods suppress the domain discrepancies, the depth information is also suppressed in the process.
However, recent methods have shown that the depth information benefits object detection <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>, which implies that suppression of depth can affect the performance of object detection.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.4" class="ltx_p">To address this problem, we need to retain the depth information during the DA feature alignment.
We introduce DEB, a block that generates a depth map based on the extracted features from our DA backbone.
We define the depth recovery loss as follows:</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{depth}}=\left\|\text{DEB}(\mathcal{F}(I_{s}))-D_{gt}\right\|^{2}_{2}," display="block"><semantics id="S3.E3.m1.1a"><mrow id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><msub id="S3.E3.m1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.3.2.cmml">ℒ</mi><mtext id="S3.E3.m1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.3.3a.cmml">depth</mtext></msub><mo id="S3.E3.m1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.2.cmml">=</mo><msubsup id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E3.m1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mtext id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.3a.cmml">DEB</mtext><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">ℱ</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">s</mi></msub><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.cmml">−</mo><msub id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">D</mi><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">t</mi></mrow></msub></mrow><mo id="S3.E3.m1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E3.m1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.3.cmml">2</mn><mn id="S3.E3.m1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.3.cmml">2</mn></msubsup></mrow><mo id="S3.E3.m1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.1b"><apply id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"><eq id="S3.E3.m1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.2"></eq><apply id="S3.E3.m1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.2">ℒ</ci><ci id="S3.E3.m1.1.1.1.1.3.3a.cmml" xref="S3.E3.m1.1.1.1.1.3.3"><mtext mathsize="70%" id="S3.E3.m1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3">depth</mtext></ci></apply><apply id="S3.E3.m1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1">subscript</csymbol><apply id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1">superscript</csymbol><apply id="S3.E3.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2">norm</csymbol><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1"><minus id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.2"></minus><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.3"><mtext id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.3">DEB</mtext></ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ℱ</ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑠</ci></apply></apply></apply><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.2">𝐷</ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3"><times id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.1"></times><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.2">𝑔</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.3.3">𝑡</ci></apply></apply></apply></apply><cn type="integer" id="S3.E3.m1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3">2</cn></apply><cn type="integer" id="S3.E3.m1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.1c">\mathcal{L}_{\text{depth}}=\left\|\text{DEB}(\mathcal{F}(I_{s}))-D_{gt}\right\|^{2}_{2},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.3" class="ltx_p">where, <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="D_{gt}" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><msub id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">D</mi><mrow id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml"><mi id="S3.SS1.p2.1.m1.1.1.3.2" xref="S3.SS1.p2.1.m1.1.1.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.1.m1.1.1.3.1" xref="S3.SS1.p2.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.1.m1.1.1.3.3" xref="S3.SS1.p2.1.m1.1.1.3.3.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">𝐷</ci><apply id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3"><times id="S3.SS1.p2.1.m1.1.1.3.1.cmml" xref="S3.SS1.p2.1.m1.1.1.3.1"></times><ci id="S3.SS1.p2.1.m1.1.1.3.2.cmml" xref="S3.SS1.p2.1.m1.1.1.3.2">𝑔</ci><ci id="S3.SS1.p2.1.m1.1.1.3.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">D_{gt}</annotation></semantics></math> is the ground-truth depth map, which is resized to the same size as the corresponding feature map.
<math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{F}(I_{s})" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mrow id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml">ℱ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">​</mo><mrow id="S3.SS1.p2.2.m2.1.1.1.1" xref="S3.SS1.p2.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.2.m2.1.1.1.1.2" xref="S3.SS1.p2.2.m2.1.1.1.1.1.cmml">(</mo><msub id="S3.SS1.p2.2.m2.1.1.1.1.1" xref="S3.SS1.p2.2.m2.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.1.1.1.2" xref="S3.SS1.p2.2.m2.1.1.1.1.1.2.cmml">I</mi><mi id="S3.SS1.p2.2.m2.1.1.1.1.1.3" xref="S3.SS1.p2.2.m2.1.1.1.1.1.3.cmml">s</mi></msub><mo stretchy="false" id="S3.SS1.p2.2.m2.1.1.1.1.3" xref="S3.SS1.p2.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><times id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2"></times><ci id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3">ℱ</ci><apply id="S3.SS1.p2.2.m2.1.1.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.1.1.1.2">𝐼</ci><ci id="S3.SS1.p2.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.1.1.1.3">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\mathcal{F}(I_{s})</annotation></semantics></math> represents the source feature maps, and <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="\text{DEB}()" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mrow id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mtext id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2a.cmml">DEB</mtext><mo lspace="0em" rspace="0em" id="S3.SS1.p2.3.m3.1.1.1" xref="S3.SS1.p2.3.m3.1.1.1.cmml">​</mo><mrow id="S3.SS1.p2.3.m3.1.1.3.2" xref="S3.SS1.p2.3.m3.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.3.m3.1.1.3.2.1" xref="S3.SS1.p2.3.m3.1.1.3.1.cmml">(</mo><mo stretchy="false" id="S3.SS1.p2.3.m3.1.1.3.2.2" xref="S3.SS1.p2.3.m3.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><times id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1"></times><ci id="S3.SS1.p2.3.m3.1.1.2a.cmml" xref="S3.SS1.p2.3.m3.1.1.2"><mtext id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2">DEB</mtext></ci><list id="S3.SS1.p2.3.m3.1.1.3.1.cmml" xref="S3.SS1.p2.3.m3.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">\text{DEB}()</annotation></semantics></math> is our DEB module.
For datasets such as Cityscapes <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, they provide the ground-truth depth maps.
For the other datasets which do not provide depth ground-truth, we need to generate the depth maps as a pseudo ground-truth using the existing depth estimation networks, such as <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>.
Note, DEB is only trained on the source images.
Unlike the transmission DA loss in Eq. (<a href="#S3.E2" title="Equation 2 ‣ 3 Proposed Method ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>), we backpropagate the depth loss over both our DA backbone and DEB to retain the depth information in our DA features.
Fig. <a href="#S3.F3" title="Figure 3 ‣ 3.1 Depth Estimation Block (DEB) ‣ 3 Proposed Method ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows our depth estimations. Note that our goal here is not to have accurate depth estimation, but to retain depth cues in our features.</p>
</div>
<figure id="S3.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F3.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2211.13409/assets/dep1.png" id="S3.F3.sf1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="303" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S3.F3.sf1.3.2" class="ltx_text" style="font-size:90%;">Depth estimation 1</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F3.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2211.13409/assets/dep1_gt.jpg" id="S3.F3.sf2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S3.F3.sf2.3.2" class="ltx_text" style="font-size:90%;">Depth ground-truth 1</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F3.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/dep2.png" id="S3.F3.sf3.g1" class="ltx_graphics ltx_img_landscape" width="598" height="303" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.sf3.2.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S3.F3.sf3.3.2" class="ltx_text" style="font-size:90%;">Depth estimation 2</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F3.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/dep2_gt.jpg" id="S3.F3.sf4.g1" class="ltx_graphics ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.sf4.2.1.1" class="ltx_text" style="font-size:90%;">(d)</span> </span><span id="S3.F3.sf4.3.2" class="ltx_text" style="font-size:90%;">Depth ground-truth 2</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.4.2.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S3.F3.2.1" class="ltx_text" style="font-size:90%;"> Examples of the estimated depths in comparison with the ground-truths. Note that, the estimated depths look blurry as they have a low resolution (<math id="S3.F3.2.1.m1.1" class="ltx_Math" alttext="38\times 75" display="inline"><semantics id="S3.F3.2.1.m1.1b"><mrow id="S3.F3.2.1.m1.1.1" xref="S3.F3.2.1.m1.1.1.cmml"><mn id="S3.F3.2.1.m1.1.1.2" xref="S3.F3.2.1.m1.1.1.2.cmml">38</mn><mo lspace="0.222em" rspace="0.222em" id="S3.F3.2.1.m1.1.1.1" xref="S3.F3.2.1.m1.1.1.1.cmml">×</mo><mn id="S3.F3.2.1.m1.1.1.3" xref="S3.F3.2.1.m1.1.1.3.cmml">75</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.F3.2.1.m1.1c"><apply id="S3.F3.2.1.m1.1.1.cmml" xref="S3.F3.2.1.m1.1.1"><times id="S3.F3.2.1.m1.1.1.1.cmml" xref="S3.F3.2.1.m1.1.1.1"></times><cn type="integer" id="S3.F3.2.1.m1.1.1.2.cmml" xref="S3.F3.2.1.m1.1.1.2">38</cn><cn type="integer" id="S3.F3.2.1.m1.1.1.3.cmml" xref="S3.F3.2.1.m1.1.1.3">75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F3.2.1.m1.1d">38\times 75</annotation></semantics></math>). We can observe that the estimated depth maps (a) and (c) from DEB match the depth distribution patterns in the ground-truth depth maps (b) and (d), respectively, which indicates that our feature maps retain the depth information.</span></figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Transmission-Depth Consistency</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.4" class="ltx_p">In foggy scenes, we can model the transmission of light throughout the fog particles as <math id="S3.SS2.p1.1.m1.2" class="ltx_Math" alttext="t=\exp(-\beta D)" display="inline"><semantics id="S3.SS2.p1.1.m1.2a"><mrow id="S3.SS2.p1.1.m1.2.2" xref="S3.SS2.p1.1.m1.2.2.cmml"><mi id="S3.SS2.p1.1.m1.2.2.3" xref="S3.SS2.p1.1.m1.2.2.3.cmml">t</mi><mo id="S3.SS2.p1.1.m1.2.2.2" xref="S3.SS2.p1.1.m1.2.2.2.cmml">=</mo><mrow id="S3.SS2.p1.1.m1.2.2.1.1" xref="S3.SS2.p1.1.m1.2.2.1.2.cmml"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">exp</mi><mo id="S3.SS2.p1.1.m1.2.2.1.1a" xref="S3.SS2.p1.1.m1.2.2.1.2.cmml">⁡</mo><mrow id="S3.SS2.p1.1.m1.2.2.1.1.1" xref="S3.SS2.p1.1.m1.2.2.1.2.cmml"><mo stretchy="false" id="S3.SS2.p1.1.m1.2.2.1.1.1.2" xref="S3.SS2.p1.1.m1.2.2.1.2.cmml">(</mo><mrow id="S3.SS2.p1.1.m1.2.2.1.1.1.1" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1.cmml"><mo id="S3.SS2.p1.1.m1.2.2.1.1.1.1a" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1.cmml">−</mo><mrow id="S3.SS2.p1.1.m1.2.2.1.1.1.1.2" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.cmml"><mi id="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.2" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.1" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.1.cmml">​</mo><mi id="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.3" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.3.cmml">D</mi></mrow></mrow><mo stretchy="false" id="S3.SS2.p1.1.m1.2.2.1.1.1.3" xref="S3.SS2.p1.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.2b"><apply id="S3.SS2.p1.1.m1.2.2.cmml" xref="S3.SS2.p1.1.m1.2.2"><eq id="S3.SS2.p1.1.m1.2.2.2.cmml" xref="S3.SS2.p1.1.m1.2.2.2"></eq><ci id="S3.SS2.p1.1.m1.2.2.3.cmml" xref="S3.SS2.p1.1.m1.2.2.3">𝑡</ci><apply id="S3.SS2.p1.1.m1.2.2.1.2.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1"><exp id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"></exp><apply id="S3.SS2.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1"><minus id="S3.SS2.p1.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1"></minus><apply id="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1.2"><times id="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.1.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.1"></times><ci id="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.2.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.2">𝛽</ci><ci id="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.3.cmml" xref="S3.SS2.p1.1.m1.2.2.1.1.1.1.2.3">𝐷</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.2c">t=\exp(-\beta D)</annotation></semantics></math>, where <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">t</annotation></semantics></math> is the transmission, <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">D</annotation></semantics></math> is the depth, and <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><mi id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><ci id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">\beta</annotation></semantics></math> as the fog particles attenuation factor. As one can notice, there is a strong correlation between the transmission and depth.
Hence, we reinforce our predicted transmission and depth to be consistent:</p>
<table id="S3.E4" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E4X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E4X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{\text{cst}}=\left\|Norm(-\log(\mathcal{D}(\mathcal{F}(I_{t}))))-Norm(\text{DEB}(\mathcal{F}(I_{t})))\right\|^{2}_{2}," display="inline"><semantics id="S3.E4X.2.1.1.m1.2a"><mrow id="S3.E4X.2.1.1.m1.2.2.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.cmml"><mrow id="S3.E4X.2.1.1.m1.2.2.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.cmml"><msub id="S3.E4X.2.1.1.m1.2.2.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4X.2.1.1.m1.2.2.1.1.3.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.2.cmml">ℒ</mi><mtext id="S3.E4X.2.1.1.m1.2.2.1.1.3.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.3a.cmml">cst</mtext></msub><mo id="S3.E4X.2.1.1.m1.2.2.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.2.cmml">=</mo><msubsup id="S3.E4X.2.1.1.m1.2.2.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.cmml"><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.2.cmml"><mo id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">N</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.4" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2a" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.5" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2b" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.6" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.6.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2c" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo rspace="0.167em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1a" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E4X.2.1.1.m1.1.1" xref="S3.E4X.2.1.1.m1.1.1.cmml">log</mi><mo id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1a" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">⁡</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">𝒟</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">ℱ</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml">−</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml">N</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml">​</mo><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.4" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2a" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml">​</mo><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.5" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2b" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml">​</mo><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.6" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.6.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2c" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml">​</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.cmml"><mtext id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.3a.cmml">DEB</mtext><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.2.cmml">​</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.3.cmml">ℱ</mi><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E4X.2.1.1.m1.2.2.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.3.cmml">2</mn><mn id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.3" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.3.cmml">2</mn></msubsup></mrow><mo id="S3.E4X.2.1.1.m1.2.2.1.2" xref="S3.E4X.2.1.1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4X.2.1.1.m1.2b"><apply id="S3.E4X.2.1.1.m1.2.2.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1"><eq id="S3.E4X.2.1.1.m1.2.2.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.2"></eq><apply id="S3.E4X.2.1.1.m1.2.2.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.2.2.1.1.3.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3">subscript</csymbol><ci id="S3.E4X.2.1.1.m1.2.2.1.1.3.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.2">ℒ</ci><ci id="S3.E4X.2.1.1.m1.2.2.1.1.3.3a.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.3"><mtext mathsize="70%" id="S3.E4X.2.1.1.m1.2.2.1.1.3.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.3.3">cst</mtext></ci></apply><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1">subscript</csymbol><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1">superscript</csymbol><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.2">norm</csymbol><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1"><minus id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3"></minus><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1"><times id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3">𝑁</ci><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.4.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.4">𝑜</ci><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.5.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.5">𝑟</ci><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.6.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.6">𝑚</ci><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1"><minus id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1"></minus><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1"><log id="S3.E4X.2.1.1.m1.1.1.cmml" xref="S3.E4X.2.1.1.m1.1.1"></log><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝒟</ci><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ℱ</ci><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></apply></apply></apply><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2"><times id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2"></times><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3">𝑁</ci><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.4.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.4">𝑜</ci><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.5.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.5">𝑟</ci><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.6.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.6">𝑚</ci><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1"><times id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.2"></times><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.3a.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.3"><mtext id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.3">DEB</mtext></ci><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1"><times id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.2"></times><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.3">ℱ</ci><apply id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></apply></apply></apply><cn type="integer" id="S3.E4X.2.1.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.1.3">2</cn></apply><cn type="integer" id="S3.E4X.2.1.1.m1.2.2.1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4X.2.1.1.m1.2c">\displaystyle\mathcal{L}_{\text{cst}}=\left\|Norm(-\log(\mathcal{D}(\mathcal{F}(I_{t}))))-Norm(\text{DEB}(\mathcal{F}(I_{t})))\right\|^{2}_{2},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(4)</span></td>
</tr>
</tbody>
</table>
<p id="S3.SS2.p1.9" class="ltx_p">where <math id="S3.SS2.p1.5.m1.1" class="ltx_Math" alttext="\mathcal{D}(\mathcal{F}(I_{t}))" display="inline"><semantics id="S3.SS2.p1.5.m1.1a"><mrow id="S3.SS2.p1.5.m1.1.1" xref="S3.SS2.p1.5.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.5.m1.1.1.3" xref="S3.SS2.p1.5.m1.1.1.3.cmml">𝒟</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.5.m1.1.1.2" xref="S3.SS2.p1.5.m1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p1.5.m1.1.1.1.1" xref="S3.SS2.p1.5.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.5.m1.1.1.1.1.2" xref="S3.SS2.p1.5.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p1.5.m1.1.1.1.1.1" xref="S3.SS2.p1.5.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.5.m1.1.1.1.1.1.3" xref="S3.SS2.p1.5.m1.1.1.1.1.1.3.cmml">ℱ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.5.m1.1.1.1.1.1.2" xref="S3.SS2.p1.5.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p1.5.m1.1.1.1.1.1.1.1" xref="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.2" xref="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1" xref="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.3" xref="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.SS2.p1.5.m1.1.1.1.1.3" xref="S3.SS2.p1.5.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m1.1b"><apply id="S3.SS2.p1.5.m1.1.1.cmml" xref="S3.SS2.p1.5.m1.1.1"><times id="S3.SS2.p1.5.m1.1.1.2.cmml" xref="S3.SS2.p1.5.m1.1.1.2"></times><ci id="S3.SS2.p1.5.m1.1.1.3.cmml" xref="S3.SS2.p1.5.m1.1.1.3">𝒟</ci><apply id="S3.SS2.p1.5.m1.1.1.1.1.1.cmml" xref="S3.SS2.p1.5.m1.1.1.1.1"><times id="S3.SS2.p1.5.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.5.m1.1.1.1.1.1.2"></times><ci id="S3.SS2.p1.5.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.5.m1.1.1.1.1.1.3">ℱ</ci><apply id="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.5.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.5.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.5.m1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m1.1c">\mathcal{D}(\mathcal{F}(I_{t}))</annotation></semantics></math> is the generated transmission map from the domain discriminator, and <math id="S3.SS2.p1.6.m2.1" class="ltx_Math" alttext="\text{DEB}(\mathcal{F}(I_{t}))" display="inline"><semantics id="S3.SS2.p1.6.m2.1a"><mrow id="S3.SS2.p1.6.m2.1.1" xref="S3.SS2.p1.6.m2.1.1.cmml"><mtext id="S3.SS2.p1.6.m2.1.1.3" xref="S3.SS2.p1.6.m2.1.1.3a.cmml">DEB</mtext><mo lspace="0em" rspace="0em" id="S3.SS2.p1.6.m2.1.1.2" xref="S3.SS2.p1.6.m2.1.1.2.cmml">​</mo><mrow id="S3.SS2.p1.6.m2.1.1.1.1" xref="S3.SS2.p1.6.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.6.m2.1.1.1.1.2" xref="S3.SS2.p1.6.m2.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p1.6.m2.1.1.1.1.1" xref="S3.SS2.p1.6.m2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.6.m2.1.1.1.1.1.3" xref="S3.SS2.p1.6.m2.1.1.1.1.1.3.cmml">ℱ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.6.m2.1.1.1.1.1.2" xref="S3.SS2.p1.6.m2.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p1.6.m2.1.1.1.1.1.1.1" xref="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.2" xref="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1" xref="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.3" xref="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.SS2.p1.6.m2.1.1.1.1.3" xref="S3.SS2.p1.6.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m2.1b"><apply id="S3.SS2.p1.6.m2.1.1.cmml" xref="S3.SS2.p1.6.m2.1.1"><times id="S3.SS2.p1.6.m2.1.1.2.cmml" xref="S3.SS2.p1.6.m2.1.1.2"></times><ci id="S3.SS2.p1.6.m2.1.1.3a.cmml" xref="S3.SS2.p1.6.m2.1.1.3"><mtext id="S3.SS2.p1.6.m2.1.1.3.cmml" xref="S3.SS2.p1.6.m2.1.1.3">DEB</mtext></ci><apply id="S3.SS2.p1.6.m2.1.1.1.1.1.cmml" xref="S3.SS2.p1.6.m2.1.1.1.1"><times id="S3.SS2.p1.6.m2.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.6.m2.1.1.1.1.1.2"></times><ci id="S3.SS2.p1.6.m2.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.6.m2.1.1.1.1.1.3">ℱ</ci><apply id="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.6.m2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.6.m2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.6.m2.1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m2.1c">\text{DEB}(\mathcal{F}(I_{t}))</annotation></semantics></math> represents the estimated depth map.
<math id="S3.SS2.p1.7.m3.1" class="ltx_Math" alttext="Norm()" display="inline"><semantics id="S3.SS2.p1.7.m3.1a"><mrow id="S3.SS2.p1.7.m3.1.1" xref="S3.SS2.p1.7.m3.1.1.cmml"><mi id="S3.SS2.p1.7.m3.1.1.2" xref="S3.SS2.p1.7.m3.1.1.2.cmml">N</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.7.m3.1.1.1" xref="S3.SS2.p1.7.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p1.7.m3.1.1.3" xref="S3.SS2.p1.7.m3.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.7.m3.1.1.1a" xref="S3.SS2.p1.7.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p1.7.m3.1.1.4" xref="S3.SS2.p1.7.m3.1.1.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.7.m3.1.1.1b" xref="S3.SS2.p1.7.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p1.7.m3.1.1.5" xref="S3.SS2.p1.7.m3.1.1.5.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.7.m3.1.1.1c" xref="S3.SS2.p1.7.m3.1.1.1.cmml">​</mo><mrow id="S3.SS2.p1.7.m3.1.1.6.2" xref="S3.SS2.p1.7.m3.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.7.m3.1.1.6.2.1" xref="S3.SS2.p1.7.m3.1.1.6.1.cmml">(</mo><mo stretchy="false" id="S3.SS2.p1.7.m3.1.1.6.2.2" xref="S3.SS2.p1.7.m3.1.1.6.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m3.1b"><apply id="S3.SS2.p1.7.m3.1.1.cmml" xref="S3.SS2.p1.7.m3.1.1"><times id="S3.SS2.p1.7.m3.1.1.1.cmml" xref="S3.SS2.p1.7.m3.1.1.1"></times><ci id="S3.SS2.p1.7.m3.1.1.2.cmml" xref="S3.SS2.p1.7.m3.1.1.2">𝑁</ci><ci id="S3.SS2.p1.7.m3.1.1.3.cmml" xref="S3.SS2.p1.7.m3.1.1.3">𝑜</ci><ci id="S3.SS2.p1.7.m3.1.1.4.cmml" xref="S3.SS2.p1.7.m3.1.1.4">𝑟</ci><ci id="S3.SS2.p1.7.m3.1.1.5.cmml" xref="S3.SS2.p1.7.m3.1.1.5">𝑚</ci><list id="S3.SS2.p1.7.m3.1.1.6.1.cmml" xref="S3.SS2.p1.7.m3.1.1.6.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m3.1c">Norm()</annotation></semantics></math> represents a normalization operator.
Like most defogging methods, we assume that <math id="S3.SS2.p1.8.m4.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S3.SS2.p1.8.m4.1a"><mi id="S3.SS2.p1.8.m4.1.1" xref="S3.SS2.p1.8.m4.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m4.1b"><ci id="S3.SS2.p1.8.m4.1.1.cmml" xref="S3.SS2.p1.8.m4.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m4.1c">\beta</annotation></semantics></math> is uniform across the input target.
Since the transmission and the depth values are the same only up to a scale, we normalize their values, and thus consequently cancel out <math id="S3.SS2.p1.9.m5.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S3.SS2.p1.9.m5.1a"><mi id="S3.SS2.p1.9.m5.1.1" xref="S3.SS2.p1.9.m5.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m5.1b"><ci id="S3.SS2.p1.9.m5.1.1.cmml" xref="S3.SS2.p1.9.m5.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m5.1c">\beta</annotation></semantics></math> in the process.
This consistency loss enforces the consistency between the depth encoded in the estimated transmission and the depth from our DEB, this constraint leads to more robust depth information in our features.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Reconstruction DA</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">Since DA methods use unpaired source and target that most likely contain different object instances, when the DA backbone aligns the features, the alignment will occur on two different object instances (e.g., car in the source, and motorbike in the target). Hence, when the DA backbone is suppressing such discrepancy, consequently it can generate false features, which can harm the object detection performance.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.4" class="ltx_p">To address this problem, we regularize the generation of object features by fusing a reconstruction decoder into our DA backbone.
This decoder reconstructs the features back to the clear background image.
To train this decoder, we use either the clear image or the defogged image of the target image as the ground-truths.
Since the reconstruction ground-truths have the same object instances as in the target images, the reconstruction loss will prevent our DA backbone from generating false instance features. Our reconstruction loss is defined as:</p>
<table id="S3.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E5.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{rec}}=\left\|\mathcal{R}(\mathcal{F}(I_{t}))-I^{de}\right\|^{2}_{2}," display="block"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><msub id="S3.E5.m1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.3.2.cmml">ℒ</mi><mtext id="S3.E5.m1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.3.3a.cmml">rec</mtext></msub><mo id="S3.E5.m1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.2.cmml">=</mo><msubsup id="S3.E5.m1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">ℛ</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">ℱ</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml">−</mo><msup id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">I</mi><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">e</mi></mrow></msup></mrow><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E5.m1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.3.cmml">2</mn><mn id="S3.E5.m1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.3.cmml">2</mn></msubsup></mrow><mo id="S3.E5.m1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1"><eq id="S3.E5.m1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2"></eq><apply id="S3.E5.m1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2">ℒ</ci><ci id="S3.E5.m1.1.1.1.1.3.3a.cmml" xref="S3.E5.m1.1.1.1.1.3.3"><mtext mathsize="70%" id="S3.E5.m1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.3.3">rec</mtext></ci></apply><apply id="S3.E5.m1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1">subscript</csymbol><apply id="S3.E5.m1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1">superscript</csymbol><apply id="S3.E5.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E5.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2">norm</csymbol><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1"><minus id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.2"></minus><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.3">ℛ</ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ℱ</ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.2">𝐼</ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3"><times id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.1"></times><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.2">𝑑</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.3.3">𝑒</ci></apply></apply></apply></apply><cn type="integer" id="S3.E5.m1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3">2</cn></apply><cn type="integer" id="S3.E5.m1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">\mathcal{L}_{\text{rec}}=\left\|\mathcal{R}(\mathcal{F}(I_{t}))-I^{de}\right\|^{2}_{2},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.3" class="ltx_p">where <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{R}" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">\mathcal{R}</annotation></semantics></math> is the reconstruction module and <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{R}(\mathcal{F}(I_{t}))" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><mrow id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">ℛ</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">​</mo><mrow id="S3.SS3.p2.2.m2.1.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p2.2.m2.1.1.1.1.2" xref="S3.SS3.p2.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p2.2.m2.1.1.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.2.m2.1.1.1.1.1.3" xref="S3.SS3.p2.2.m2.1.1.1.1.1.3.cmml">ℱ</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.2.m2.1.1.1.1.1.2" xref="S3.SS3.p2.2.m2.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.2" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.2" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.3" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.3" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.SS3.p2.2.m2.1.1.1.1.3" xref="S3.SS3.p2.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><times id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2"></times><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">ℛ</ci><apply id="S3.SS3.p2.2.m2.1.1.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1"><times id="S3.SS3.p2.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.2"></times><ci id="S3.SS3.p2.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.3">ℱ</ci><apply id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">\mathcal{R}(\mathcal{F}(I_{t}))</annotation></semantics></math> represents the reconstructed target image.
<math id="S3.SS3.p2.3.m3.1" class="ltx_Math" alttext="I^{de}" display="inline"><semantics id="S3.SS3.p2.3.m3.1a"><msup id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml"><mi id="S3.SS3.p2.3.m3.1.1.2" xref="S3.SS3.p2.3.m3.1.1.2.cmml">I</mi><mrow id="S3.SS3.p2.3.m3.1.1.3" xref="S3.SS3.p2.3.m3.1.1.3.cmml"><mi id="S3.SS3.p2.3.m3.1.1.3.2" xref="S3.SS3.p2.3.m3.1.1.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.3.m3.1.1.3.1" xref="S3.SS3.p2.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.3.m3.1.1.3.3" xref="S3.SS3.p2.3.m3.1.1.3.3.cmml">e</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><apply id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.1.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">superscript</csymbol><ci id="S3.SS3.p2.3.m3.1.1.2.cmml" xref="S3.SS3.p2.3.m3.1.1.2">𝐼</ci><apply id="S3.SS3.p2.3.m3.1.1.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3"><times id="S3.SS3.p2.3.m3.1.1.3.1.cmml" xref="S3.SS3.p2.3.m3.1.1.3.1"></times><ci id="S3.SS3.p2.3.m3.1.1.3.2.cmml" xref="S3.SS3.p2.3.m3.1.1.3.2">𝑑</ci><ci id="S3.SS3.p2.3.m3.1.1.3.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">I^{de}</annotation></semantics></math> is the clear/defogged target image, which we use as the ground-truth for the reconstruction.
Only target images are involved in the reconstruction, as there are no fog distortions in the source images.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Learning from Target</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">In many DA cases, target data does not have ground-truths, and hence <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> use the source domain’s knowledge to train the object detection module, right after the domain feature adaptation process.
This means the object detection module is never exposed to the target data, which is likely to be different from the source data in terms of the appearances of the object instances (e.g., the shapes of road signs in one country are different from those of the road signs from another country, etc.).
The main problem why many methods do not use target data in training the detection module is because the target data is unlabeled.</p>
</div>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.1" class="ltx_p">With the help from our DA module, our detection module’s performance on the target data is improving over iterations.
As the predictions on target become more accurate, we can select some reliable predictions as pseudo-labels to train our detection module.
Hence, our training is split into two stages for each iteration:
In the first stage, we generate pseudo-labels from the whole network;
in the second stage, we do DA training involving the generated pseudo-labels.
To obtain more reliable predictions in the first stage, we employ a defogging method to augment our target input.
The augmented target input in the form of defogged image will enable our network to estimate the bounding boxes and class labels.
If the network has high confidence with these estimates, it means the estimates can be considered as reliable and used as pseudo-labels.
In the second stage, we feed the same target input to our network without augmentation, and let it to predict the bounding boxes and class labels.
We then enforce these network’s estimates to be consistent with the pseudo-labels.
This process encourages the network to become more robust to fog, and to expose our object detection module to the target data.
Note that, in the end of each iteration, we employ Exponential Moving Average (EMA) in our network to generate more reliable predictions.</p>
</div>
<div id="S3.SS4.p3" class="ltx_para ltx_noindent">
<p id="S3.SS4.p3.3" class="ltx_p"><span id="S3.SS4.p3.3.1" class="ltx_text ltx_font_bold">Total Loss</span> Combining all the losses we introduced above, we can derive our overall loss as:</p>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.1" class="ltx_Math" alttext="\mathcal{L}=\mathcal{L}_{\text{det}}+\lambda\mathcal{L}_{\text{da}}+a\mathcal{L}_{\text{depth}}+b\mathcal{L}_{\text{cst}}+c\mathcal{L}_{\text{rec}}+\mathcal{L}_{\text{det\_pl}}," display="block"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.cmml">ℒ</mi><mo id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E6.m1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.3.cmml"><msub id="S3.E6.m1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.3.2.2" xref="S3.E6.m1.1.1.1.1.3.2.2.cmml">ℒ</mi><mtext id="S3.E6.m1.1.1.1.1.3.2.3" xref="S3.E6.m1.1.1.1.1.3.2.3a.cmml">det</mtext></msub><mo id="S3.E6.m1.1.1.1.1.3.1" xref="S3.E6.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E6.m1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.3.3.2" xref="S3.E6.m1.1.1.1.1.3.3.2.cmml">λ</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.3.3.1" xref="S3.E6.m1.1.1.1.1.3.3.1.cmml">​</mo><msub id="S3.E6.m1.1.1.1.1.3.3.3" xref="S3.E6.m1.1.1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.3.3.3.2" xref="S3.E6.m1.1.1.1.1.3.3.3.2.cmml">ℒ</mi><mtext id="S3.E6.m1.1.1.1.1.3.3.3.3" xref="S3.E6.m1.1.1.1.1.3.3.3.3a.cmml">da</mtext></msub></mrow><mo id="S3.E6.m1.1.1.1.1.3.1a" xref="S3.E6.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E6.m1.1.1.1.1.3.4" xref="S3.E6.m1.1.1.1.1.3.4.cmml"><mi id="S3.E6.m1.1.1.1.1.3.4.2" xref="S3.E6.m1.1.1.1.1.3.4.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.3.4.1" xref="S3.E6.m1.1.1.1.1.3.4.1.cmml">​</mo><msub id="S3.E6.m1.1.1.1.1.3.4.3" xref="S3.E6.m1.1.1.1.1.3.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.3.4.3.2" xref="S3.E6.m1.1.1.1.1.3.4.3.2.cmml">ℒ</mi><mtext id="S3.E6.m1.1.1.1.1.3.4.3.3" xref="S3.E6.m1.1.1.1.1.3.4.3.3a.cmml">depth</mtext></msub></mrow><mo id="S3.E6.m1.1.1.1.1.3.1b" xref="S3.E6.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E6.m1.1.1.1.1.3.5" xref="S3.E6.m1.1.1.1.1.3.5.cmml"><mi id="S3.E6.m1.1.1.1.1.3.5.2" xref="S3.E6.m1.1.1.1.1.3.5.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.3.5.1" xref="S3.E6.m1.1.1.1.1.3.5.1.cmml">​</mo><msub id="S3.E6.m1.1.1.1.1.3.5.3" xref="S3.E6.m1.1.1.1.1.3.5.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.3.5.3.2" xref="S3.E6.m1.1.1.1.1.3.5.3.2.cmml">ℒ</mi><mtext id="S3.E6.m1.1.1.1.1.3.5.3.3" xref="S3.E6.m1.1.1.1.1.3.5.3.3a.cmml">cst</mtext></msub></mrow><mo id="S3.E6.m1.1.1.1.1.3.1c" xref="S3.E6.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E6.m1.1.1.1.1.3.6" xref="S3.E6.m1.1.1.1.1.3.6.cmml"><mi id="S3.E6.m1.1.1.1.1.3.6.2" xref="S3.E6.m1.1.1.1.1.3.6.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.3.6.1" xref="S3.E6.m1.1.1.1.1.3.6.1.cmml">​</mo><msub id="S3.E6.m1.1.1.1.1.3.6.3" xref="S3.E6.m1.1.1.1.1.3.6.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.3.6.3.2" xref="S3.E6.m1.1.1.1.1.3.6.3.2.cmml">ℒ</mi><mtext id="S3.E6.m1.1.1.1.1.3.6.3.3" xref="S3.E6.m1.1.1.1.1.3.6.3.3a.cmml">rec</mtext></msub></mrow><mo id="S3.E6.m1.1.1.1.1.3.1d" xref="S3.E6.m1.1.1.1.1.3.1.cmml">+</mo><msub id="S3.E6.m1.1.1.1.1.3.7" xref="S3.E6.m1.1.1.1.1.3.7.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.3.7.2" xref="S3.E6.m1.1.1.1.1.3.7.2.cmml">ℒ</mi><mtext id="S3.E6.m1.1.1.1.1.3.7.3" xref="S3.E6.m1.1.1.1.1.3.7.3a.cmml">det_pl</mtext></msub></mrow></mrow><mo id="S3.E6.m1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><eq id="S3.E6.m1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1"></eq><ci id="S3.E6.m1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2">ℒ</ci><apply id="S3.E6.m1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.3"><plus id="S3.E6.m1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.1"></plus><apply id="S3.E6.m1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2.2">ℒ</ci><ci id="S3.E6.m1.1.1.1.1.3.2.3a.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3"><mtext mathsize="70%" id="S3.E6.m1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3">det</mtext></ci></apply><apply id="S3.E6.m1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.3"><times id="S3.E6.m1.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.3.1"></times><ci id="S3.E6.m1.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.3.2">𝜆</ci><apply id="S3.E6.m1.1.1.1.1.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.3.3.2">ℒ</ci><ci id="S3.E6.m1.1.1.1.1.3.3.3.3a.cmml" xref="S3.E6.m1.1.1.1.1.3.3.3.3"><mtext mathsize="70%" id="S3.E6.m1.1.1.1.1.3.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.3.3.3">da</mtext></ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.3.4.cmml" xref="S3.E6.m1.1.1.1.1.3.4"><times id="S3.E6.m1.1.1.1.1.3.4.1.cmml" xref="S3.E6.m1.1.1.1.1.3.4.1"></times><ci id="S3.E6.m1.1.1.1.1.3.4.2.cmml" xref="S3.E6.m1.1.1.1.1.3.4.2">𝑎</ci><apply id="S3.E6.m1.1.1.1.1.3.4.3.cmml" xref="S3.E6.m1.1.1.1.1.3.4.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.4.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.4.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.4.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.4.3.2">ℒ</ci><ci id="S3.E6.m1.1.1.1.1.3.4.3.3a.cmml" xref="S3.E6.m1.1.1.1.1.3.4.3.3"><mtext mathsize="70%" id="S3.E6.m1.1.1.1.1.3.4.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.4.3.3">depth</mtext></ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.3.5.cmml" xref="S3.E6.m1.1.1.1.1.3.5"><times id="S3.E6.m1.1.1.1.1.3.5.1.cmml" xref="S3.E6.m1.1.1.1.1.3.5.1"></times><ci id="S3.E6.m1.1.1.1.1.3.5.2.cmml" xref="S3.E6.m1.1.1.1.1.3.5.2">𝑏</ci><apply id="S3.E6.m1.1.1.1.1.3.5.3.cmml" xref="S3.E6.m1.1.1.1.1.3.5.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.5.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.5.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.5.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.5.3.2">ℒ</ci><ci id="S3.E6.m1.1.1.1.1.3.5.3.3a.cmml" xref="S3.E6.m1.1.1.1.1.3.5.3.3"><mtext mathsize="70%" id="S3.E6.m1.1.1.1.1.3.5.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.5.3.3">cst</mtext></ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.3.6.cmml" xref="S3.E6.m1.1.1.1.1.3.6"><times id="S3.E6.m1.1.1.1.1.3.6.1.cmml" xref="S3.E6.m1.1.1.1.1.3.6.1"></times><ci id="S3.E6.m1.1.1.1.1.3.6.2.cmml" xref="S3.E6.m1.1.1.1.1.3.6.2">𝑐</ci><apply id="S3.E6.m1.1.1.1.1.3.6.3.cmml" xref="S3.E6.m1.1.1.1.1.3.6.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.6.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.6.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.6.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.6.3.2">ℒ</ci><ci id="S3.E6.m1.1.1.1.1.3.6.3.3a.cmml" xref="S3.E6.m1.1.1.1.1.3.6.3.3"><mtext mathsize="70%" id="S3.E6.m1.1.1.1.1.3.6.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.6.3.3">rec</mtext></ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.3.7.cmml" xref="S3.E6.m1.1.1.1.1.3.7"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.7.1.cmml" xref="S3.E6.m1.1.1.1.1.3.7">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.7.2.cmml" xref="S3.E6.m1.1.1.1.1.3.7.2">ℒ</ci><ci id="S3.E6.m1.1.1.1.1.3.7.3a.cmml" xref="S3.E6.m1.1.1.1.1.3.7.3"><mtext mathsize="70%" id="S3.E6.m1.1.1.1.1.3.7.3.cmml" xref="S3.E6.m1.1.1.1.1.3.7.3">det_pl</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">\mathcal{L}=\mathcal{L}_{\text{det}}+\lambda\mathcal{L}_{\text{da}}+a\mathcal{L}_{\text{depth}}+b\mathcal{L}_{\text{cst}}+c\mathcal{L}_{\text{rec}}+\mathcal{L}_{\text{det\_pl}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p3.2" class="ltx_p">where, <math id="S3.SS4.p3.1.m1.4" class="ltx_Math" alttext="\lambda,a,b,c" display="inline"><semantics id="S3.SS4.p3.1.m1.4a"><mrow id="S3.SS4.p3.1.m1.4.5.2" xref="S3.SS4.p3.1.m1.4.5.1.cmml"><mi id="S3.SS4.p3.1.m1.1.1" xref="S3.SS4.p3.1.m1.1.1.cmml">λ</mi><mo id="S3.SS4.p3.1.m1.4.5.2.1" xref="S3.SS4.p3.1.m1.4.5.1.cmml">,</mo><mi id="S3.SS4.p3.1.m1.2.2" xref="S3.SS4.p3.1.m1.2.2.cmml">a</mi><mo id="S3.SS4.p3.1.m1.4.5.2.2" xref="S3.SS4.p3.1.m1.4.5.1.cmml">,</mo><mi id="S3.SS4.p3.1.m1.3.3" xref="S3.SS4.p3.1.m1.3.3.cmml">b</mi><mo id="S3.SS4.p3.1.m1.4.5.2.3" xref="S3.SS4.p3.1.m1.4.5.1.cmml">,</mo><mi id="S3.SS4.p3.1.m1.4.4" xref="S3.SS4.p3.1.m1.4.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.1.m1.4b"><list id="S3.SS4.p3.1.m1.4.5.1.cmml" xref="S3.SS4.p3.1.m1.4.5.2"><ci id="S3.SS4.p3.1.m1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1">𝜆</ci><ci id="S3.SS4.p3.1.m1.2.2.cmml" xref="S3.SS4.p3.1.m1.2.2">𝑎</ci><ci id="S3.SS4.p3.1.m1.3.3.cmml" xref="S3.SS4.p3.1.m1.3.3">𝑏</ci><ci id="S3.SS4.p3.1.m1.4.4.cmml" xref="S3.SS4.p3.1.m1.4.4">𝑐</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.1.m1.4c">\lambda,a,b,c</annotation></semantics></math> are the weight parameters to control the importance of the losses.
<math id="S3.SS4.p3.2.m2.1" class="ltx_Math" alttext="\mathcal{L}_{\text{det\_pl}}" display="inline"><semantics id="S3.SS4.p3.2.m2.1a"><msub id="S3.SS4.p3.2.m2.1.1" xref="S3.SS4.p3.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p3.2.m2.1.1.2" xref="S3.SS4.p3.2.m2.1.1.2.cmml">ℒ</mi><mtext id="S3.SS4.p3.2.m2.1.1.3" xref="S3.SS4.p3.2.m2.1.1.3a.cmml">det_pl</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.2.m2.1b"><apply id="S3.SS4.p3.2.m2.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.2.m2.1.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.p3.2.m2.1.1.2.cmml" xref="S3.SS4.p3.2.m2.1.1.2">ℒ</ci><ci id="S3.SS4.p3.2.m2.1.1.3a.cmml" xref="S3.SS4.p3.2.m2.1.1.3"><mtext mathsize="70%" id="S3.SS4.p3.2.m2.1.1.3.cmml" xref="S3.SS4.p3.2.m2.1.1.3">det_pl</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.2.m2.1c">\mathcal{L}_{\text{det\_pl}}</annotation></semantics></math> is the detection loss with pseudo-labels.
Note that, in the testing stage, we only use our DA backbone and the detection module.
In other words, all the additional modules (i.e., the domain discriminator, the depth estimation block, the reconstruction module or the pseudo-labels) does not affect the runtime in the testing stage.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental Results</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.3" class="ltx_p">We compare our DA method with recent DA methods: <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>, where the last two are published as recent as this year.
To make the comparison fair, we use the same base of object detection, which is Faster-RCNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.
For the backbone, our method uses a pretrained ResNet-101 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.
We set the confidence threshold <math id="S4.p1.1.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S4.p1.1.m1.1a"><mi id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><ci id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">\tau</annotation></semantics></math> to be 0.8 for all the experiments.
More details of our blocks can be found in the supplementary material.
Our overall network is trained end-to-end.
We follow the same training settings as in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>, where the networks are trained for 60K iterations, with a learning rate of 0.002.
We decrease the learning rate by a factor of 10 for every 20K iterations.
The weights parameters <math id="S4.p1.2.m2.4" class="ltx_Math" alttext="\lambda,a,b,c" display="inline"><semantics id="S4.p1.2.m2.4a"><mrow id="S4.p1.2.m2.4.5.2" xref="S4.p1.2.m2.4.5.1.cmml"><mi id="S4.p1.2.m2.1.1" xref="S4.p1.2.m2.1.1.cmml">λ</mi><mo id="S4.p1.2.m2.4.5.2.1" xref="S4.p1.2.m2.4.5.1.cmml">,</mo><mi id="S4.p1.2.m2.2.2" xref="S4.p1.2.m2.2.2.cmml">a</mi><mo id="S4.p1.2.m2.4.5.2.2" xref="S4.p1.2.m2.4.5.1.cmml">,</mo><mi id="S4.p1.2.m2.3.3" xref="S4.p1.2.m2.3.3.cmml">b</mi><mo id="S4.p1.2.m2.4.5.2.3" xref="S4.p1.2.m2.4.5.1.cmml">,</mo><mi id="S4.p1.2.m2.4.4" xref="S4.p1.2.m2.4.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.2.m2.4b"><list id="S4.p1.2.m2.4.5.1.cmml" xref="S4.p1.2.m2.4.5.2"><ci id="S4.p1.2.m2.1.1.cmml" xref="S4.p1.2.m2.1.1">𝜆</ci><ci id="S4.p1.2.m2.2.2.cmml" xref="S4.p1.2.m2.2.2">𝑎</ci><ci id="S4.p1.2.m2.3.3.cmml" xref="S4.p1.2.m2.3.3">𝑏</ci><ci id="S4.p1.2.m2.4.4.cmml" xref="S4.p1.2.m2.4.4">𝑐</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.2.m2.4c">\lambda,a,b,c</annotation></semantics></math> are empirically set to be <math id="S4.p1.3.m3.4" class="ltx_Math" alttext="0.1,10,1,1" display="inline"><semantics id="S4.p1.3.m3.4a"><mrow id="S4.p1.3.m3.4.5.2" xref="S4.p1.3.m3.4.5.1.cmml"><mn id="S4.p1.3.m3.1.1" xref="S4.p1.3.m3.1.1.cmml">0.1</mn><mo id="S4.p1.3.m3.4.5.2.1" xref="S4.p1.3.m3.4.5.1.cmml">,</mo><mn id="S4.p1.3.m3.2.2" xref="S4.p1.3.m3.2.2.cmml">10</mn><mo id="S4.p1.3.m3.4.5.2.2" xref="S4.p1.3.m3.4.5.1.cmml">,</mo><mn id="S4.p1.3.m3.3.3" xref="S4.p1.3.m3.3.3.cmml">1</mn><mo id="S4.p1.3.m3.4.5.2.3" xref="S4.p1.3.m3.4.5.1.cmml">,</mo><mn id="S4.p1.3.m3.4.4" xref="S4.p1.3.m3.4.4.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.3.m3.4b"><list id="S4.p1.3.m3.4.5.1.cmml" xref="S4.p1.3.m3.4.5.2"><cn type="float" id="S4.p1.3.m3.1.1.cmml" xref="S4.p1.3.m3.1.1">0.1</cn><cn type="integer" id="S4.p1.3.m3.2.2.cmml" xref="S4.p1.3.m3.2.2">10</cn><cn type="integer" id="S4.p1.3.m3.3.3.cmml" xref="S4.p1.3.m3.3.3">1</cn><cn type="integer" id="S4.p1.3.m3.4.4.cmml" xref="S4.p1.3.m3.4.4">1</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.3.m3.4c">0.1,10,1,1</annotation></semantics></math>, respectively.</p>
</div>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.1" class="ltx_p">As for the datasets, the Cityscapes dataset is a real world street scene dataset provided by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, and all images were taken under clear weather.
Based on this dataset, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> simulates synthetic fog on each clear image, and creates the Foggy Cityscapes dataset.
We use the same DA settings as in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>, where 2975 clear images and 2975 foggy images are used for training, and 495 foggy images are used for evaluation.</p>
</div>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.1" class="ltx_p">Aside from the Cityscapes dataset, STF (Seeing Through Fog) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, FoggyDriving <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>, and RTTS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> are the datasets with real world foggy images used in our experiments.
STF dataset categories its images into different weather conditions, we choose <span id="S4.p3.1.1" class="ltx_text ltx_font_italic">clear weather daytime</span> as our source domain and <span id="S4.p3.1.2" class="ltx_text ltx_font_italic">fog daytime</span> as our target domain.
We randomly select 100 images from <span id="S4.p3.1.3" class="ltx_text ltx_font_italic">fog daytime</span> as our evaluation set, and use the rest to train the network.
For RTTS, we follow the same DA settings as in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>.
For FoggyDriving, it only contains 101 fog images, which is insufficient for DA training.
Hence, we evaluate the DA models trained on Cityscapes/Foggy Cityscapes directly on these datasets.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Quantitative Results</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">The synthetic Foggy Cityscapes dataset has the ground-truth transmission maps, depth maps and the clear background of the target images for reconstruction, thus we can use the ground-truths directly in our training process, however for fair comparisons we do not use them. Instead we employ DCP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> to compute the transmission maps, reconstruction maps, and use it as the defogging pre-processing module when involving target predictions.
As for the depth, we employ Monodepth <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> to compute the pseudo ground-truths.
We also employ DCP and Monodepth for real data that have no ground-truths of clear images, transmission maps, and depth maps.
Note that, the methods we use to generate pseudo ground-truths (DCP and Monodepth) are not the state-of-the-art methods, as we want to show that our DA’s performances are not limited by the precision of the pseudo ground-truths.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">The results on this dataset are provided in <a href="#S4.T1" title="In 4.1 Quantitative Results ‣ 4 Experimental Results ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a>.
The mAP threshold for all the models is 0.5.
When comparing DA models, there are two important non-DA baseline models that need to be considered.
One is the model trained on clear images but tested on foggy images, which we call Lowerbound.
Any DA models should performance better than this Lowerbound model.
In our experiment, Lowerbound is 28.12 mAP for Foggy Cityscapes dataset.
The other model is both trained and tested on clear images, which we call Upperbound.
Since it is not affected by fog at all, the goal of DA models is to approach its performance, but it is not possible to exceed it.
In our experiment, Upperbound is 50.08 mAP for Foggy Cityscapes dataset.
<a href="#S4.T1" title="In 4.1 Quantitative Results ‣ 4 Experimental Results ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a> shows that our proposed method performs better than any other DA methods.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p">For the real world datasets, we cannot compute Lowerbound’s and Upperbound’s performance, since we do not have the clear background of the foggy images.
Thus, we can only compare our models with the performance of the other DA methods.
The results are presented in <a href="#S4.T2" title="In 4.1 Quantitative Results ‣ 4 Experimental Results ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tables.</span> <span class="ltx_text ltx_ref_tag">2</span></a>, <a href="#S4.T3" title="Table 3 ‣ 4.1 Quantitative Results ‣ 4 Experimental Results ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> and <a href="#S4.T4" title="Table 4 ‣ 4.1 Quantitative Results ‣ 4 Experimental Results ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
Our model achieved a better performance on all the real world datasets.
For FoggyDriving, we can observe that our model trained on synthetic dataset can also generalize well on the real world image datasets.
Note that, the compared methods are not as many as the previous table, since some methods only provided their performances on the synthetic datasets, and we do not have their data or code to evaluate on the real world datasets.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.2.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S4.T1.3.2" class="ltx_text" style="font-size:90%;">Quantitative results of Ours compared to the existing DA methods evaluated against Foggy Cityscapes testing set. AP (%) of each category and the mAP (%) of all the classes. Bold numbers are the best scores, and underlined numbers are the second best scores. Our mAP outperforms the best existing method over 3%.</span></figcaption>
<p id="S4.T1.4" class="ltx_p ltx_align_center">s

<span id="S4.T1.4.1" class="ltx_inline-block ltx_transformed_outer" style="width:433.6pt;height:162.6pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-96.5pt,36.0pt) scale(0.692037703641492,0.692037703641492) ;">
<span id="S4.T1.4.1.1" class="ltx_tabular ltx_align_middle">
<span class="ltx_tbody">
<span id="S4.T1.4.1.1.1.1" class="ltx_tr">
<span id="S4.T1.4.1.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t ltx_colspan ltx_colspan_2">Method</span>
<span id="S4.T1.4.1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Backbone</span>
<span id="S4.T1.4.1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">person</span>
<span id="S4.T1.4.1.1.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">rider</span>
<span id="S4.T1.4.1.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">car</span>
<span id="S4.T1.4.1.1.1.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">truck</span>
<span id="S4.T1.4.1.1.1.1.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">bus</span>
<span id="S4.T1.4.1.1.1.1.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">train</span>
<span id="S4.T1.4.1.1.1.1.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">motor</span>
<span id="S4.T1.4.1.1.1.1.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">bicycle</span>
<span id="S4.T1.4.1.1.1.1.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">mAP</span></span>
<span id="S4.T1.4.1.1.2.2" class="ltx_tr">
<span id="S4.T1.4.1.1.2.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Baseline</span>
<span id="S4.T1.4.1.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Faster-RCNN</span>
<span id="S4.T1.4.1.1.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ResNet-101</span>
<span id="S4.T1.4.1.1.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">32.0</span>
<span id="S4.T1.4.1.1.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">39.5</span>
<span id="S4.T1.4.1.1.2.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">36.2</span>
<span id="S4.T1.4.1.1.2.2.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">19.4</span>
<span id="S4.T1.4.1.1.2.2.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">32.1</span>
<span id="S4.T1.4.1.1.2.2.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9.4</span>
<span id="S4.T1.4.1.1.2.2.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">23.3</span>
<span id="S4.T1.4.1.1.2.2.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">33.2</span>
<span id="S4.T1.4.1.1.2.2.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">28.1</span></span>
<span id="S4.T1.4.1.1.3.3" class="ltx_tr">
<span id="S4.T1.4.1.1.3.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t ltx_rowspan ltx_rowspan_8"><span id="S4.T1.4.1.1.3.3.1.1" class="ltx_text">DA Methods</span></span>
<span id="S4.T1.4.1.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">DA-Faster<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite></span>
<span id="S4.T1.4.1.1.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ResNet-101</span>
<span id="S4.T1.4.1.1.3.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">37.2</span>
<span id="S4.T1.4.1.1.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46.8</span>
<span id="S4.T1.4.1.1.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">49.9</span>
<span id="S4.T1.4.1.1.3.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">28.2</span>
<span id="S4.T1.4.1.1.3.3.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">42.3</span>
<span id="S4.T1.4.1.1.3.3.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">30.9</span>
<span id="S4.T1.4.1.1.3.3.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">32.8</span>
<span id="S4.T1.4.1.1.3.3.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">40.0</span>
<span id="S4.T1.4.1.1.3.3.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">38.5</span></span>
<span id="S4.T1.4.1.1.4.4" class="ltx_tr">
<span id="S4.T1.4.1.1.4.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SWDA<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite></span>
<span id="S4.T1.4.1.1.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">VGG-16</span>
<span id="S4.T1.4.1.1.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">29.9</span>
<span id="S4.T1.4.1.1.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">42.3</span>
<span id="S4.T1.4.1.1.4.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">43.5</span>
<span id="S4.T1.4.1.1.4.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">24.5</span>
<span id="S4.T1.4.1.1.4.4.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">36.2</span>
<span id="S4.T1.4.1.1.4.4.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">32.6</span>
<span id="S4.T1.4.1.1.4.4.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">30.0</span>
<span id="S4.T1.4.1.1.4.4.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">35.3</span>
<span id="S4.T1.4.1.1.4.4.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">34.3</span></span>
<span id="S4.T1.4.1.1.5.5" class="ltx_tr">
<span id="S4.T1.4.1.1.5.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SCL<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite></span>
<span id="S4.T1.4.1.1.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ResNet-101</span>
<span id="S4.T1.4.1.1.5.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">30.7</span>
<span id="S4.T1.4.1.1.5.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">44.1</span>
<span id="S4.T1.4.1.1.5.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">44.3</span>
<span id="S4.T1.4.1.1.5.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">30.0</span>
<span id="S4.T1.4.1.1.5.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">47.9</span>
<span id="S4.T1.4.1.1.5.5.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">42.9</span>
<span id="S4.T1.4.1.1.5.5.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">29.6</span>
<span id="S4.T1.4.1.1.5.5.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">33.7</span>
<span id="S4.T1.4.1.1.5.5.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">37.9</span></span>
<span id="S4.T1.4.1.1.6.6" class="ltx_tr">
<span id="S4.T1.4.1.1.6.6.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">PBDA<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite></span>
<span id="S4.T1.4.1.1.6.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ResNet-152</span>
<span id="S4.T1.4.1.1.6.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">34.9</span>
<span id="S4.T1.4.1.1.6.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46.4</span>
<span id="S4.T1.4.1.1.6.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">51.4</span>
<span id="S4.T1.4.1.1.6.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">29.2</span>
<span id="S4.T1.4.1.1.6.6.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46.3</span>
<span id="S4.T1.4.1.1.6.6.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">43.2</span>
<span id="S4.T1.4.1.1.6.6.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.7</span>
<span id="S4.T1.4.1.1.6.6.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">37.0</span>
<span id="S4.T1.4.1.1.6.6.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">40.0</span></span>
<span id="S4.T1.4.1.1.7.7" class="ltx_tr">
<span id="S4.T1.4.1.1.7.7.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">MEAA<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite></span>
<span id="S4.T1.4.1.1.7.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ResNet-101</span>
<span id="S4.T1.4.1.1.7.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">34.2</span>
<span id="S4.T1.4.1.1.7.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">48.9</span>
<span id="S4.T1.4.1.1.7.7.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">52.4</span>
<span id="S4.T1.4.1.1.7.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">30.3</span>
<span id="S4.T1.4.1.1.7.7.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">42.7</span>
<span id="S4.T1.4.1.1.7.7.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46.0</span>
<span id="S4.T1.4.1.1.7.7.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">33.2</span>
<span id="S4.T1.4.1.1.7.7.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">36.2</span>
<span id="S4.T1.4.1.1.7.7.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">40.5</span></span>
<span id="S4.T1.4.1.1.8.8" class="ltx_tr">
<span id="S4.T1.4.1.1.8.8.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">UaDAN<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite></span>
<span id="S4.T1.4.1.1.8.8.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ResNet-50</span>
<span id="S4.T1.4.1.1.8.8.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">36.5</span>
<span id="S4.T1.4.1.1.8.8.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46.1</span>
<span id="S4.T1.4.1.1.8.8.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">53.6</span>
<span id="S4.T1.4.1.1.8.8.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">28.9</span>
<span id="S4.T1.4.1.1.8.8.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">49.4</span>
<span id="S4.T1.4.1.1.8.8.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">42.7</span>
<span id="S4.T1.4.1.1.8.8.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">32.3</span>
<span id="S4.T1.4.1.1.8.8.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">38.9</span>
<span id="S4.T1.4.1.1.8.8.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">41.1</span></span>
<span id="S4.T1.4.1.1.9.9" class="ltx_tr">
<span id="S4.T1.4.1.1.9.9.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Mega-CDA<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite></span>
<span id="S4.T1.4.1.1.9.9.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">VGG-16</span>
<span id="S4.T1.4.1.1.9.9.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">37.7</span>
<span id="S4.T1.4.1.1.9.9.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">49.0</span>
<span id="S4.T1.4.1.1.9.9.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">52.4</span>
<span id="S4.T1.4.1.1.9.9.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">25.4</span>
<span id="S4.T1.4.1.1.9.9.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">49.2</span>
<span id="S4.T1.4.1.1.9.9.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.9.9.8.1" class="ltx_text ltx_framed ltx_framed_underline">46.9</span></span>
<span id="S4.T1.4.1.1.9.9.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">34.5</span>
<span id="S4.T1.4.1.1.9.9.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">39.0</span>
<span id="S4.T1.4.1.1.9.9.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">41.8</span></span>
<span id="S4.T1.4.1.1.10.10" class="ltx_tr">
<span id="S4.T1.4.1.1.10.10.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SADA<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite></span>
<span id="S4.T1.4.1.1.10.10.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ResNet-50-FPN</span>
<span id="S4.T1.4.1.1.10.10.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.10.10.3.1" class="ltx_text ltx_font_bold">48.5</span></span>
<span id="S4.T1.4.1.1.10.10.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.10.10.4.1" class="ltx_text ltx_font_bold">52.6</span></span>
<span id="S4.T1.4.1.1.10.10.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.10.10.5.1" class="ltx_text ltx_font_bold">62.1</span></span>
<span id="S4.T1.4.1.1.10.10.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">29.5</span>
<span id="S4.T1.4.1.1.10.10.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.3</span>
<span id="S4.T1.4.1.1.10.10.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.5</span>
<span id="S4.T1.4.1.1.10.10.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">32.4</span>
<span id="S4.T1.4.1.1.10.10.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.10.10.10.1" class="ltx_text ltx_font_bold">45.4</span></span>
<span id="S4.T1.4.1.1.10.10.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">44.0</span></span>
<span id="S4.T1.4.1.1.11.11" class="ltx_tr">
<span id="S4.T1.4.1.1.11.11.1" class="ltx_td ltx_border_l ltx_border_r"></span>
<span id="S4.T1.4.1.1.11.11.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">CaCo<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite></span>
<span id="S4.T1.4.1.1.11.11.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">VGG-16</span>
<span id="S4.T1.4.1.1.11.11.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">38.3</span>
<span id="S4.T1.4.1.1.11.11.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46.7</span>
<span id="S4.T1.4.1.1.11.11.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">48.1</span>
<span id="S4.T1.4.1.1.11.11.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.11.11.7.1" class="ltx_text ltx_framed ltx_framed_underline">33.2</span></span>
<span id="S4.T1.4.1.1.11.11.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">45.9</span>
<span id="S4.T1.4.1.1.11.11.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">37.6</span>
<span id="S4.T1.4.1.1.11.11.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.0</span>
<span id="S4.T1.4.1.1.11.11.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">33.0</span>
<span id="S4.T1.4.1.1.11.11.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">39.2</span></span>
<span id="S4.T1.4.1.1.12.12" class="ltx_tr">
<span id="S4.T1.4.1.1.12.12.1" class="ltx_td ltx_border_l ltx_border_r"></span>
<span id="S4.T1.4.1.1.12.12.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">MGA<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite></span>
<span id="S4.T1.4.1.1.12.12.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">VGG-16</span>
<span id="S4.T1.4.1.1.12.12.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.12.12.4.1" class="ltx_text ltx_framed ltx_framed_underline">43.9</span></span>
<span id="S4.T1.4.1.1.12.12.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">49.6</span>
<span id="S4.T1.4.1.1.12.12.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.12.12.6.1" class="ltx_text ltx_framed ltx_framed_underline">60.6</span></span>
<span id="S4.T1.4.1.1.12.12.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">29.6</span>
<span id="S4.T1.4.1.1.12.12.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.12.12.8.1" class="ltx_text ltx_framed ltx_framed_underline">50.7</span></span>
<span id="S4.T1.4.1.1.12.12.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">39.0</span>
<span id="S4.T1.4.1.1.12.12.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.12.12.10.1" class="ltx_text ltx_framed ltx_framed_underline">38.3</span></span>
<span id="S4.T1.4.1.1.12.12.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">42.8</span>
<span id="S4.T1.4.1.1.12.12.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.12.12.12.1" class="ltx_text ltx_framed ltx_framed_underline">44.3</span></span></span>
<span id="S4.T1.4.1.1.13.13" class="ltx_tr">
<span id="S4.T1.4.1.1.13.13.1" class="ltx_td ltx_border_b ltx_border_l ltx_border_r"></span>
<span id="S4.T1.4.1.1.13.13.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.13.13.2.1" class="ltx_text ltx_font_bold">Ours</span></span>
<span id="S4.T1.4.1.1.13.13.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">ResNet-101</span>
<span id="S4.T1.4.1.1.13.13.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">39.9</span>
<span id="S4.T1.4.1.1.13.13.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.13.13.5.1" class="ltx_text ltx_framed ltx_framed_underline">51.6</span></span>
<span id="S4.T1.4.1.1.13.13.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">59.0</span>
<span id="S4.T1.4.1.1.13.13.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.13.13.7.1" class="ltx_text ltx_font_bold">39.7</span></span>
<span id="S4.T1.4.1.1.13.13.8" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.13.13.8.1" class="ltx_text ltx_font_bold">58.0</span></span>
<span id="S4.T1.4.1.1.13.13.9" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.13.13.9.1" class="ltx_text ltx_font_bold">49.1</span></span>
<span id="S4.T1.4.1.1.13.13.10" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.13.13.10.1" class="ltx_text ltx_font_bold">39.2</span></span>
<span id="S4.T1.4.1.1.13.13.11" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.13.13.11.1" class="ltx_text ltx_framed ltx_framed_underline">45.1</span></span>
<span id="S4.T1.4.1.1.13.13.12" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.4.1.1.13.13.12.1" class="ltx_text ltx_font_bold">47.6</span></span></span>
</span>
</span>
</span></span></p>
</figure>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T2.2.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="S4.T2.3.2" class="ltx_text" style="font-size:90%;">Quantitative results of Ours compared to the existing DA methods evaluated against the STF testing set. AP (%) of each category and the mAP (%).</span></figcaption>
<div id="S4.T2.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:140.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(22.1pt,-7.2pt) scale(1.11351023945408,1.11351023945408) ;">
<table id="S4.T2.4.1" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T2.4.1.1.1" class="ltx_tr">
<td id="S4.T2.4.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" colspan="2">Method</td>
<td id="S4.T2.4.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">PassengerCar</td>
<td id="S4.T2.4.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">LargeVehicle</td>
<td id="S4.T2.4.1.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">RidableVehicle</td>
<td id="S4.T2.4.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">mAP</td>
</tr>
<tr id="S4.T2.4.1.2.2" class="ltx_tr">
<td id="S4.T2.4.1.2.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Baseline</td>
<td id="S4.T2.4.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Faster-RCNN</td>
<td id="S4.T2.4.1.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">74.0</td>
<td id="S4.T2.4.1.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.4.1.2.2.4.1" class="ltx_text ltx_framed ltx_framed_underline">54.1</span></td>
<td id="S4.T2.4.1.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.4.1.2.2.5.1" class="ltx_text ltx_framed ltx_framed_underline">25.7</span></td>
<td id="S4.T2.4.1.2.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">51.3</td>
</tr>
<tr id="S4.T2.4.1.3.3" class="ltx_tr">
<td id="S4.T2.4.1.3.3.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t" rowspan="5"><span id="S4.T2.4.1.3.3.1.1" class="ltx_text">DA Methods</span></td>
<td id="S4.T2.4.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">DA-Faster</td>
<td id="S4.T2.4.1.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">77.9</td>
<td id="S4.T2.4.1.3.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">51.5</td>
<td id="S4.T2.4.1.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">25.2</td>
<td id="S4.T2.4.1.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.4.1.3.3.6.1" class="ltx_text ltx_framed ltx_framed_underline">51.6</span></td>
</tr>
<tr id="S4.T2.4.1.4.4" class="ltx_tr">
<td id="S4.T2.4.1.4.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SWDA</td>
<td id="S4.T2.4.1.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">77.2</td>
<td id="S4.T2.4.1.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.1</td>
<td id="S4.T2.4.1.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">24.5</td>
<td id="S4.T2.4.1.4.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.6</td>
</tr>
<tr id="S4.T2.4.1.5.5" class="ltx_tr">
<td id="S4.T2.4.1.5.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SCL</td>
<td id="S4.T2.4.1.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">78.1</td>
<td id="S4.T2.4.1.5.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">52.5</td>
<td id="S4.T2.4.1.5.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">20.7</td>
<td id="S4.T2.4.1.5.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.4</td>
</tr>
<tr id="S4.T2.4.1.6.6" class="ltx_tr">
<td id="S4.T2.4.1.6.6.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SADA</td>
<td id="S4.T2.4.1.6.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.4.1.6.6.2.1" class="ltx_text ltx_font_bold">78.5</span></td>
<td id="S4.T2.4.1.6.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">52.2</td>
<td id="S4.T2.4.1.6.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">24.2</td>
<td id="S4.T2.4.1.6.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.4.1.6.6.5.1" class="ltx_text ltx_framed ltx_framed_underline">51.6</span></td>
</tr>
<tr id="S4.T2.4.1.7.7" class="ltx_tr">
<td id="S4.T2.4.1.7.7.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T2.4.1.7.7.1.1" class="ltx_text ltx_font_bold">Ours</span></td>
<td id="S4.T2.4.1.7.7.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T2.4.1.7.7.2.1" class="ltx_text ltx_font_bold">78.5</span></td>
<td id="S4.T2.4.1.7.7.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T2.4.1.7.7.3.1" class="ltx_text ltx_font_bold">57.4</span></td>
<td id="S4.T2.4.1.7.7.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T2.4.1.7.7.4.1" class="ltx_text ltx_font_bold">30.2</span></td>
<td id="S4.T2.4.1.7.7.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T2.4.1.7.7.5.1" class="ltx_text ltx_font_bold">55.4</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T3.2.1.1" class="ltx_text" style="font-size:90%;">Table 3</span>: </span><span id="S4.T3.3.2" class="ltx_text" style="font-size:90%;">Quantitative results of Ours compared to the existing DA methods evaluated against the FoggyDriving testing set. mAP (%) of all the categories.</span></figcaption>
<div id="S4.T3.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:182.1pt;height:143.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(11.1pt,-8.8pt) scale(1.13903688249828,1.13903688249828) ;">
<table id="S4.T3.4.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T3.4.1.1.1" class="ltx_tr">
<th id="S4.T3.4.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" colspan="2">Method</th>
<th id="S4.T3.4.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">mAP</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T3.4.1.2.1" class="ltx_tr">
<td id="S4.T3.4.1.2.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Baseline</td>
<td id="S4.T3.4.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FRCNN</td>
<td id="S4.T3.4.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">26.41</td>
</tr>
<tr id="S4.T3.4.1.3.2" class="ltx_tr">
<td id="S4.T3.4.1.3.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" rowspan="4"><span id="S4.T3.4.1.3.2.1.1" class="ltx_text">DA Methods</span></td>
<td id="S4.T3.4.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">DA-Faster</td>
<td id="S4.T3.4.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.60</td>
</tr>
<tr id="S4.T3.4.1.4.3" class="ltx_tr">
<td id="S4.T3.4.1.4.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SWDA</td>
<td id="S4.T3.4.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.4.1.4.3.2.1" class="ltx_text ltx_framed ltx_framed_underline">33.54</span></td>
</tr>
<tr id="S4.T3.4.1.5.4" class="ltx_tr">
<td id="S4.T3.4.1.5.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SCL</td>
<td id="S4.T3.4.1.5.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">33.49</td>
</tr>
<tr id="S4.T3.4.1.6.5" class="ltx_tr">
<td id="S4.T3.4.1.6.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SADA</td>
<td id="S4.T3.4.1.6.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">32.26</td>
</tr>
<tr id="S4.T3.4.1.7.6" class="ltx_tr">
<td id="S4.T3.4.1.7.6.1" class="ltx_td ltx_border_b ltx_border_l ltx_border_r"></td>
<td id="S4.T3.4.1.7.6.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T3.4.1.7.6.2.1" class="ltx_text ltx_font_bold">Ours</span></td>
<td id="S4.T3.4.1.7.6.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T3.4.1.7.6.3.1" class="ltx_text ltx_font_bold">34.62</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="S4.T4" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S4.T4.2.1.1" class="ltx_text" style="font-size:90%;">Table 4</span>: </span><span id="S4.T4.3.2" class="ltx_text" style="font-size:90%;">Quantitative results of Ours compared to the existing DA methods evaluated against the RTTS testing set. AP (%) of each category and the mAP (%).</span></figcaption>
<div id="S4.T4.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:390.3pt;height:158.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(18.0pt,-7.3pt) scale(1.10146386685537,1.10146386685537) ;">
<table id="S4.T4.4.1" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T4.4.1.1.1" class="ltx_tr">
<td id="S4.T4.4.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" colspan="2">Method</td>
<td id="S4.T4.4.1.1.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">person</td>
<td id="S4.T4.4.1.1.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">car</td>
<td id="S4.T4.4.1.1.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">bus</td>
<td id="S4.T4.4.1.1.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">motor</td>
<td id="S4.T4.4.1.1.1.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">bicycle</td>
<td id="S4.T4.4.1.1.1.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">mAP</td>
</tr>
<tr id="S4.T4.4.1.2.2" class="ltx_tr">
<td id="S4.T4.4.1.2.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Baseline</td>
<td id="S4.T4.4.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Faster-RCNN</td>
<td id="S4.T4.4.1.2.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T4.4.1.2.2.3.1" class="ltx_text ltx_framed ltx_framed_underline">46.6</span></td>
<td id="S4.T4.4.1.2.2.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">39.8</td>
<td id="S4.T4.4.1.2.2.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">11.7</td>
<td id="S4.T4.4.1.2.2.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">19.0</td>
<td id="S4.T4.4.1.2.2.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">37.0</td>
<td id="S4.T4.4.1.2.2.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">30.9</td>
</tr>
<tr id="S4.T4.4.1.3.3" class="ltx_tr">
<td id="S4.T4.4.1.3.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" rowspan="5"><span id="S4.T4.4.1.3.3.1.1" class="ltx_text">DA Methods</span></td>
<td id="S4.T4.4.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">DA-Faster</td>
<td id="S4.T4.4.1.3.3.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">42.5</td>
<td id="S4.T4.4.1.3.3.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">43.7</td>
<td id="S4.T4.4.1.3.3.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">16.0</td>
<td id="S4.T4.4.1.3.3.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">18.3</td>
<td id="S4.T4.4.1.3.3.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">32.8</td>
<td id="S4.T4.4.1.3.3.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">30.7</td>
</tr>
<tr id="S4.T4.4.1.4.4" class="ltx_tr">
<td id="S4.T4.4.1.4.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SWDA</td>
<td id="S4.T4.4.1.4.4.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">40.1</td>
<td id="S4.T4.4.1.4.4.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">44.2</td>
<td id="S4.T4.4.1.4.4.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">16.6</td>
<td id="S4.T4.4.1.4.4.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T4.4.1.4.4.5.1" class="ltx_text ltx_framed ltx_framed_underline">23.2</span></td>
<td id="S4.T4.4.1.4.4.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T4.4.1.4.4.6.1" class="ltx_text ltx_framed ltx_framed_underline">41.3</span></td>
<td id="S4.T4.4.1.4.4.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">33.1</td>
</tr>
<tr id="S4.T4.4.1.5.5" class="ltx_tr">
<td id="S4.T4.4.1.5.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SCL</td>
<td id="S4.T4.4.1.5.5.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">33.5</td>
<td id="S4.T4.4.1.5.5.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">48.1</td>
<td id="S4.T4.4.1.5.5.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T4.4.1.5.5.4.1" class="ltx_text ltx_framed ltx_framed_underline">18.2</span></td>
<td id="S4.T4.4.1.5.5.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">15.0</td>
<td id="S4.T4.4.1.5.5.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">28.9</td>
<td id="S4.T4.4.1.5.5.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">28.7</td>
</tr>
<tr id="S4.T4.4.1.6.6" class="ltx_tr">
<td id="S4.T4.4.1.6.6.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">PBDA</td>
<td id="S4.T4.4.1.6.6.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">37.4</td>
<td id="S4.T4.4.1.6.6.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T4.4.1.6.6.3.1" class="ltx_text ltx_font_bold">54.7</span></td>
<td id="S4.T4.4.1.6.6.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">17.2</td>
<td id="S4.T4.4.1.6.6.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">22.5</td>
<td id="S4.T4.4.1.6.6.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">38.5</td>
<td id="S4.T4.4.1.6.6.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T4.4.1.6.6.7.1" class="ltx_text ltx_framed ltx_framed_underline">34.1</span></td>
</tr>
<tr id="S4.T4.4.1.7.7" class="ltx_tr">
<td id="S4.T4.4.1.7.7.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">SADA</td>
<td id="S4.T4.4.1.7.7.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">37.9</td>
<td id="S4.T4.4.1.7.7.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">52.7</td>
<td id="S4.T4.4.1.7.7.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">14.5</td>
<td id="S4.T4.4.1.7.7.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">16.1</td>
<td id="S4.T4.4.1.7.7.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">26.2</td>
<td id="S4.T4.4.1.7.7.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">29.5</td>
</tr>
<tr id="S4.T4.4.1.8.8" class="ltx_tr">
<td id="S4.T4.4.1.8.8.1" class="ltx_td ltx_border_b ltx_border_l ltx_border_r"></td>
<td id="S4.T4.4.1.8.8.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T4.4.1.8.8.2.1" class="ltx_text ltx_font_bold">Ours</span></td>
<td id="S4.T4.4.1.8.8.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T4.4.1.8.8.3.1" class="ltx_text ltx_font_bold">47.7</span></td>
<td id="S4.T4.4.1.8.8.4" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T4.4.1.8.8.4.1" class="ltx_text ltx_framed ltx_framed_underline">53.4</span></td>
<td id="S4.T4.4.1.8.8.5" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T4.4.1.8.8.5.1" class="ltx_text ltx_font_bold">19.1</span></td>
<td id="S4.T4.4.1.8.8.6" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T4.4.1.8.8.6.1" class="ltx_text ltx_font_bold">30.2</span></td>
<td id="S4.T4.4.1.8.8.7" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T4.4.1.8.8.7.1" class="ltx_text ltx_font_bold">49.3</span></td>
<td id="S4.T4.4.1.8.8.8" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T4.4.1.8.8.8.1" class="ltx_text ltx_font_bold">39.9</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Qualitative Results</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">The qualitative results are presented in <a href="#S4.F4" title="In 4.2 Qualitative Results ‣ 4 Experimental Results ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">4</span></a>.
We evaluate our model on both synthetic and real world datasets, and compare it with DA-Faster<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> and SADA<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>.
For the synthetic dataset, we also compare the model with Upperbound to visualize how close their predictions are.
Note again that, Upperbound is the Faster-RCNN model trained on the clear training set and tested on the clear testing set.
We can see that our method can detect more objects compared to DA-Faster.
Both SADA and our method can detect most of the object instances in fog.
However, we can see that SADA generated some false predictions.
Our method removed some false predictions, and thus the final object detection performance is approaching Upperbound.</p>
</div>
<figure id="S4.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/dabaseline1.png" id="S4.F4.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S4.F4.sf1.3.2" class="ltx_text" style="font-size:90%;">DA-Faster</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/tgtupper1.png" id="S4.F4.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S4.F4.sf2.3.2" class="ltx_text" style="font-size:90%;">SADA</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/physicsda1.png" id="S4.F4.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf3.3.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S4.F4.sf3.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Our Result</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/srcupper1.png" id="S4.F4.sf4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf4.2.1.1" class="ltx_text" style="font-size:90%;">(d)</span> </span><span id="S4.F4.sf4.3.2" class="ltx_text" style="font-size:90%;">Upperbound</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/dabaseline2.png" id="S4.F4.sf5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf5.2.1.1" class="ltx_text" style="font-size:90%;">(e)</span> </span><span id="S4.F4.sf5.3.2" class="ltx_text" style="font-size:90%;">DA-Faster</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf6" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/tgtupper2.png" id="S4.F4.sf6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf6.2.1.1" class="ltx_text" style="font-size:90%;">(f)</span> </span><span id="S4.F4.sf6.3.2" class="ltx_text" style="font-size:90%;">SADA</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf7" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/physicsda2.png" id="S4.F4.sf7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf7.3.1.1" class="ltx_text" style="font-size:90%;">(g)</span> </span><span id="S4.F4.sf7.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Our Result</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf8" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/srcupper2.png" id="S4.F4.sf8.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="299" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf8.2.1.1" class="ltx_text" style="font-size:90%;">(h)</span> </span><span id="S4.F4.sf8.3.2" class="ltx_text" style="font-size:90%;">Upperbound</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F4.sf9" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/dabaseline4.png" id="S4.F4.sf9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="99" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf9.2.1.1" class="ltx_text" style="font-size:90%;">(i)</span> </span><span id="S4.F4.sf9.3.2" class="ltx_text" style="font-size:90%;">DA-Faster</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F4.sf10" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/tgtupper4.png" id="S4.F4.sf10.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="99" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf10.2.1.1" class="ltx_text" style="font-size:90%;">(j)</span> </span><span id="S4.F4.sf10.3.2" class="ltx_text" style="font-size:90%;">SADA</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F4.sf11" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/physicsda4.png" id="S4.F4.sf11.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="99" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf11.3.1.1" class="ltx_text" style="font-size:90%;">(k)</span> </span><span id="S4.F4.sf11.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Our Result</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F4.sf12" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/dabaseline5.png" id="S4.F4.sf12.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="99" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf12.2.1.1" class="ltx_text" style="font-size:90%;">(l)</span> </span><span id="S4.F4.sf12.3.2" class="ltx_text" style="font-size:90%;">DA-Faster</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F4.sf13" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/tgtupper5.png" id="S4.F4.sf13.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="99" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf13.2.1.1" class="ltx_text" style="font-size:90%;">(m)</span> </span><span id="S4.F4.sf13.3.2" class="ltx_text" style="font-size:90%;">SADA</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F4.sf14" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/physicsda5.png" id="S4.F4.sf14.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="99" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf14.3.1.1" class="ltx_text" style="font-size:90%;">(n)</span> </span><span id="S4.F4.sf14.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Our Result</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F4.sf15" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/dabaseline6.png" id="S4.F4.sf15.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="347" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf15.2.1.1" class="ltx_text" style="font-size:90%;">(o)</span> </span><span id="S4.F4.sf15.3.2" class="ltx_text" style="font-size:90%;">DA-Faster</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F4.sf16" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/tgtupper6.png" id="S4.F4.sf16.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="347" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf16.2.1.1" class="ltx_text" style="font-size:90%;">(p)</span> </span><span id="S4.F4.sf16.3.2" class="ltx_text" style="font-size:90%;">SADA</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F4.sf17" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/physicsda6.png" id="S4.F4.sf17.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="347" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf17.3.1.1" class="ltx_text" style="font-size:90%;">(q)</span> </span><span id="S4.F4.sf17.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Our Result</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F4.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/x5.png" id="S4.F4.1.g1" class="ltx_graphics ltx_img_landscape" width="664" height="87" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.5.2.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S4.F4.3.1" class="ltx_text" style="font-size:90%;"> Comparisons with DA-Faster<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, SADA<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, and Upperbound. The first two rows are the comparison on Cityscapes <math id="S4.F4.3.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S4.F4.3.1.m1.1b"><mo stretchy="false" id="S4.F4.3.1.m1.1.1" xref="S4.F4.3.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.F4.3.1.m1.1c"><ci id="S4.F4.3.1.m1.1.1.cmml" xref="S4.F4.3.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.3.1.m1.1d">\rightarrow</annotation></semantics></math> Foggy Cityscapes. Our model detects more objects and reduces false positive predictions and approaches the Upperbound performance. The last three rows are the comparison on real world images. Our model has more true positive detections and less false positive detections. Different bounding box’s colour represents a different confidence score.</span></figcaption>
</figure>
<figure id="S4.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/x6.png" id="S4.F5.sf1.g1" class="ltx_graphics ltx_img_landscape" width="664" height="148" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf1.4.2.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S4.F5.sf1.2.1" class="ltx_text" style="font-size:90%;">Without <math id="S4.F5.sf1.2.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{rec}}" display="inline"><semantics id="S4.F5.sf1.2.1.m1.1b"><msub id="S4.F5.sf1.2.1.m1.1.1" xref="S4.F5.sf1.2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.F5.sf1.2.1.m1.1.1.2" xref="S4.F5.sf1.2.1.m1.1.1.2.cmml">ℒ</mi><mtext id="S4.F5.sf1.2.1.m1.1.1.3" xref="S4.F5.sf1.2.1.m1.1.1.3a.cmml">rec</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.F5.sf1.2.1.m1.1c"><apply id="S4.F5.sf1.2.1.m1.1.1.cmml" xref="S4.F5.sf1.2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.F5.sf1.2.1.m1.1.1.1.cmml" xref="S4.F5.sf1.2.1.m1.1.1">subscript</csymbol><ci id="S4.F5.sf1.2.1.m1.1.1.2.cmml" xref="S4.F5.sf1.2.1.m1.1.1.2">ℒ</ci><ci id="S4.F5.sf1.2.1.m1.1.1.3a.cmml" xref="S4.F5.sf1.2.1.m1.1.1.3"><mtext mathsize="70%" id="S4.F5.sf1.2.1.m1.1.1.3.cmml" xref="S4.F5.sf1.2.1.m1.1.1.3">rec</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.sf1.2.1.m1.1d">\mathcal{L}_{\text{rec}}</annotation></semantics></math></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/x7.png" id="S4.F5.sf2.g1" class="ltx_graphics ltx_img_landscape" width="664" height="148" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf2.4.2.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S4.F5.sf2.2.1" class="ltx_text" style="font-size:90%;">With <math id="S4.F5.sf2.2.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{rec}}" display="inline"><semantics id="S4.F5.sf2.2.1.m1.1b"><msub id="S4.F5.sf2.2.1.m1.1.1" xref="S4.F5.sf2.2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.F5.sf2.2.1.m1.1.1.2" xref="S4.F5.sf2.2.1.m1.1.1.2.cmml">ℒ</mi><mtext id="S4.F5.sf2.2.1.m1.1.1.3" xref="S4.F5.sf2.2.1.m1.1.1.3a.cmml">rec</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.F5.sf2.2.1.m1.1c"><apply id="S4.F5.sf2.2.1.m1.1.1.cmml" xref="S4.F5.sf2.2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.F5.sf2.2.1.m1.1.1.1.cmml" xref="S4.F5.sf2.2.1.m1.1.1">subscript</csymbol><ci id="S4.F5.sf2.2.1.m1.1.1.2.cmml" xref="S4.F5.sf2.2.1.m1.1.1.2">ℒ</ci><ci id="S4.F5.sf2.2.1.m1.1.1.3a.cmml" xref="S4.F5.sf2.2.1.m1.1.1.3"><mtext mathsize="70%" id="S4.F5.sf2.2.1.m1.1.1.3.cmml" xref="S4.F5.sf2.2.1.m1.1.1.3">rec</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.sf2.2.1.m1.1d">\mathcal{L}_{\text{rec}}</annotation></semantics></math></span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F5.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/x8.png" id="S4.F5.sf3.g1" class="ltx_graphics ltx_img_landscape" width="664" height="131" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf3.4.2.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S4.F5.sf3.2.1" class="ltx_text" style="font-size:90%;">Without <math id="S4.F5.sf3.2.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{rec}}" display="inline"><semantics id="S4.F5.sf3.2.1.m1.1b"><msub id="S4.F5.sf3.2.1.m1.1.1" xref="S4.F5.sf3.2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.F5.sf3.2.1.m1.1.1.2" xref="S4.F5.sf3.2.1.m1.1.1.2.cmml">ℒ</mi><mtext id="S4.F5.sf3.2.1.m1.1.1.3" xref="S4.F5.sf3.2.1.m1.1.1.3a.cmml">rec</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.F5.sf3.2.1.m1.1c"><apply id="S4.F5.sf3.2.1.m1.1.1.cmml" xref="S4.F5.sf3.2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.F5.sf3.2.1.m1.1.1.1.cmml" xref="S4.F5.sf3.2.1.m1.1.1">subscript</csymbol><ci id="S4.F5.sf3.2.1.m1.1.1.2.cmml" xref="S4.F5.sf3.2.1.m1.1.1.2">ℒ</ci><ci id="S4.F5.sf3.2.1.m1.1.1.3a.cmml" xref="S4.F5.sf3.2.1.m1.1.1.3"><mtext mathsize="70%" id="S4.F5.sf3.2.1.m1.1.1.3.cmml" xref="S4.F5.sf3.2.1.m1.1.1.3">rec</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.sf3.2.1.m1.1d">\mathcal{L}_{\text{rec}}</annotation></semantics></math></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F5.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/x9.png" id="S4.F5.sf4.g1" class="ltx_graphics ltx_img_landscape" width="664" height="131" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf4.4.2.1" class="ltx_text" style="font-size:90%;">(d)</span> </span><span id="S4.F5.sf4.2.1" class="ltx_text" style="font-size:90%;">With <math id="S4.F5.sf4.2.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{rec}}" display="inline"><semantics id="S4.F5.sf4.2.1.m1.1b"><msub id="S4.F5.sf4.2.1.m1.1.1" xref="S4.F5.sf4.2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.F5.sf4.2.1.m1.1.1.2" xref="S4.F5.sf4.2.1.m1.1.1.2.cmml">ℒ</mi><mtext id="S4.F5.sf4.2.1.m1.1.1.3" xref="S4.F5.sf4.2.1.m1.1.1.3a.cmml">rec</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.F5.sf4.2.1.m1.1c"><apply id="S4.F5.sf4.2.1.m1.1.1.cmml" xref="S4.F5.sf4.2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.F5.sf4.2.1.m1.1.1.1.cmml" xref="S4.F5.sf4.2.1.m1.1.1">subscript</csymbol><ci id="S4.F5.sf4.2.1.m1.1.1.2.cmml" xref="S4.F5.sf4.2.1.m1.1.1.2">ℒ</ci><ci id="S4.F5.sf4.2.1.m1.1.1.3a.cmml" xref="S4.F5.sf4.2.1.m1.1.1.3"><mtext mathsize="70%" id="S4.F5.sf4.2.1.m1.1.1.3.cmml" xref="S4.F5.sf4.2.1.m1.1.1.3">rec</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.sf4.2.1.m1.1d">\mathcal{L}_{\text{rec}}</annotation></semantics></math></span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F5.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2211.13409/assets/x10.png" id="S4.F5.1.g1" class="ltx_graphics ltx_img_landscape" width="664" height="87" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.3.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S4.F5.4.2" class="ltx_text" style="font-size:90%;"> Ablation studies on our reconstruction loss. (a)(c): False positive predictions when there is no reconstruction, from model (DA+DEB+Consist). (b)(d): After we added our reconstruction loss. The false positive predictions are reduced.</span></figcaption>
</figure>
<figure id="S4.T5" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T5.2.1.1" class="ltx_text" style="font-size:90%;">Table 5</span>: </span><span id="S4.T5.3.2" class="ltx_text" style="font-size:90%;">Ablation study of our model against the Foggy Cityscapes testing set. mAP is used to analyze the effectiveness of each loss.</span></figcaption>
<div id="S4.T5.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:216.8pt;height:110.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(2.9pt,-1.5pt) scale(1.02726378736927,1.02726378736927) ;">
<table id="S4.T5.4.1" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T5.4.1.1.1" class="ltx_tr">
<td id="S4.T5.4.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">DA</td>
<td id="S4.T5.4.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">DEB</td>
<td id="S4.T5.4.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Consist</td>
<td id="S4.T5.4.1.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Reconst</td>
<td id="S4.T5.4.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">PL</td>
<td id="S4.T5.4.1.1.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">mAP</td>
</tr>
<tr id="S4.T5.4.1.2.2" class="ltx_tr">
<td id="S4.T5.4.1.2.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.2.2.2" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T5.4.1.2.2.3" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T5.4.1.2.2.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T5.4.1.2.2.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T5.4.1.2.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">42.6</td>
</tr>
<tr id="S4.T5.4.1.3.3" class="ltx_tr">
<td id="S4.T5.4.1.3.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.3.3.3" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T5.4.1.3.3.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T5.4.1.3.3.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T5.4.1.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">43.3</td>
</tr>
<tr id="S4.T5.4.1.4.4" class="ltx_tr">
<td id="S4.T5.4.1.4.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.4.4.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T5.4.1.4.4.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T5.4.1.4.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">45.3</td>
</tr>
<tr id="S4.T5.4.1.5.5" class="ltx_tr">
<td id="S4.T5.4.1.5.5.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.5.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.5.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.5.5.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T5.4.1.5.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">45.8</td>
</tr>
<tr id="S4.T5.4.1.6.6" class="ltx_tr">
<td id="S4.T5.4.1.6.6.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.6.6.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.6.6.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.6.6.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.6.6.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">✓</td>
<td id="S4.T5.4.1.6.6.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">47.6</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Ablation Studies</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.5" class="ltx_p"><a href="#S4.T5" title="In 4.2 Qualitative Results ‣ 4 Experimental Results ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">5</span></a> shows the ablation studies on Foggy Cityscapes to demonstrate the importance of each loss. The check mark indicates which losses are involved.
In the table, DA represents the performance with domain discriminator only, DEB represents the depth recovery loss, Consist represents the transmission-depth consistency loss.
Reconst represents the reconstruction loss using the pseudo ground-truth images generated from DCP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>.
We also provide <a href="#S4.F5" title="In 4.2 Qualitative Results ‣ 4 Experimental Results ‣ Object Detection in Foggy Scenes by Embedding Depth and Reconstruction into Domain Adaptation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">5</span></a> to show the comparisons between the models with and without our reconstruction module.
PL means we include target predictions as pseudo labels for training.
As one can notice, each of the losses improves the overall mAP.
The network has a performance gain with only pseudo ground-truths of transmission maps, depth maps, and defogged images.
This once again shows that our method works without the need of precise ground-truths.
If we use the ground-truths of transmission maps, depth maps, and defogged images (which are actually available for Foggy Cityscape), our performance reaches overall 49.2 mAP.
The weights of the losses are chosen to ensure that all the losses will contribute to the training properly. If we set <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="a" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">a</annotation></semantics></math> from 10 to 1, or we set <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mi id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">b</annotation></semantics></math> from 1 to 0.1, the performance drops by around 1 mAP. If we set <math id="S4.SS3.p1.3.m3.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S4.SS3.p1.3.m3.1a"><mi id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b"><ci id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">c</annotation></semantics></math> from 1 to 0.1, the performance drops by 2 mAP. Setting <math id="S4.SS3.p1.4.m4.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p1.4.m4.1a"><mi id="S4.SS3.p1.4.m4.1.1" xref="S4.SS3.p1.4.m4.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.4.m4.1b"><ci id="S4.SS3.p1.4.m4.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.4.m4.1c">\lambda</annotation></semantics></math> to be 0.1 is recommended by a few DA papers. The performance drops below 40 mAP if <math id="S4.SS3.p1.5.m5.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p1.5.m5.1a"><mi id="S4.SS3.p1.5.m5.1.1" xref="S4.SS3.p1.5.m5.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.5.m5.1b"><ci id="S4.SS3.p1.5.m5.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.5.m5.1c">\lambda</annotation></semantics></math> becomes too large. In our method, the weights are set empirically.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">We have proposed a novel DA method with a reconstruction as a regularization, to develop an object detection network which is robust for fog or haze conditions.
To address the problem that DA process can suppress depth information, we proposed the DEB to recover it.
We proposed the transmission-depth consistency loss to reinforce the transmission map based DA to follow the target image’s depth distribution.
We integrated a reconstruction module to our DA backbone to reconstruct a clear image of the target image and reduce the false object instance features.
We involved target domain knowledge into DA, by reusing reliable target predictions and enforcing consistent detection.
We evaluated the framework on several benchmark datasets showing that our method outperforms the state-of-the-art DA methods.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Bijelic, M., Gruber, T., Mannan, F., Kraus, F., Ritter, W., Dietmayer, K.,
Heide, F.: Seeing through fog without seeing fog: Deep multimodal sensor
fusion in unseen adverse weather. In: Proceedings of the IEEE/CVF Conference
on Computer Vision and Pattern Recognition. pp. 11682–11692 (2020)

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Chen, P.Y., Liu, A.H., Liu, Y.C., Wang, Y.C.F.: Towards scene understanding:
Unsupervised monocular depth estimation with semantic-aware representation.
In: Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern
Recognition. pp. 2624–2632 (2019)

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Chen, Y., Li, W., Sakaridis, C., Dai, D., Van Gool, L.: Domain adaptive faster
r-cnn for object detection in the wild. In: Proceedings of the IEEE
conference on computer vision and pattern recognition. pp. 3339–3348 (2018)

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Chen, Y., Wang, H., Li, W., Sakaridis, C., Dai, D., Van Gool, L.: Scale-aware
domain adaptive faster r-cnn. International Journal of Computer Vision
<span id="bib.bib4.1.1" class="ltx_text ltx_font_bold">129</span>(7), 2223–2243 (2021)

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Cordts, M., Omran, M., Ramos, S., Rehfeld, T., Enzweiler, M., Benenson, R.,
Franke, U., Roth, S., Schiele, B.: The cityscapes dataset for semantic urban
scene understanding. In: Proceedings of the IEEE conference on computer
vision and pattern recognition. pp. 3213–3223 (2016)

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Ding, M., Huo, Y., Yi, H., Wang, Z., Shi, J., Lu, Z., Luo, P.: Learning
depth-guided convolutions for monocular 3d object detection. In: Proceedings
of the IEEE/CVF Conference on Computer Vision and Pattern Recognition
Workshops. pp. 1000–1001 (2020)

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Ganin, Y., Lempitsky, V.: Unsupervised domain adaptation by backpropagation.
In: International conference on machine learning. pp. 1180–1189. PMLR (2015)

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Godard, C., Mac Aodha, O., Brostow, G.J.: Unsupervised monocular depth
estimation with left-right consistency. In: Proceedings of the IEEE
conference on computer vision and pattern recognition. pp. 270–279 (2017)

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Godard, C., Mac Aodha, O., Firman, M., Brostow, G.J.: Digging into
self-supervised monocular depth estimation. In: Proceedings of the IEEE/CVF
International Conference on Computer Vision. pp. 3828–3838 (2019)

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Guan, D., Huang, J., Xiao, A., Lu, S., Cao, Y.: Uncertainty-aware unsupervised
domain adaptation in object detection. IEEE Transactions on Multimedia
(2021)

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
He, K., Sun, J., Tang, X.: Single image haze removal using dark channel prior.
IEEE transactions on pattern analysis and machine intelligence
<span id="bib.bib11.1.1" class="ltx_text ltx_font_bold">33</span>(12), 2341–2353 (2010)

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Huang, J., Guan, D., Xiao, A., Lu, S., Shao, L.: Category contrast for
unsupervised domain adaptation in visual tasks. In: Proceedings of the
IEEE/CVF Conference on Computer Vision and Pattern Recognition. pp.
1203–1214 (2022)

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Li, B., Ren, W., Fu, D., Tao, D., Feng, D., Zeng, W., Wang, Z.: Benchmarking
single-image dehazing and beyond. IEEE Transactions on Image Processing
<span id="bib.bib13.1.1" class="ltx_text ltx_font_bold">28</span>(1), 492–505 (2018)

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Liu, X., Ma, Y., Shi, Z., Chen, J.: Griddehazenet: Attention-based multi-scale
network for image dehazing. In: Proceedings of the IEEE/CVF International
Conference on Computer Vision. pp. 7314–7323 (2019)

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Nguyen, D.K., Tseng, W.L., Shuai, H.H.: Domain-adaptive object detection via
uncertainty-aware distribution alignment. In: Proceedings of the 28th ACM
International Conference on Multimedia. pp. 2499–2507 (2020)

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Ren, S., He, K., Girshick, R., Sun, J.: Faster r-cnn: Towards real-time object
detection with region proposal networks. Advances in neural information
processing systems <span id="bib.bib16.1.1" class="ltx_text ltx_font_bold">28</span>, 91–99 (2015)

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Saha, S., Obukhov, A., Paudel, D.P., Kanakis, M., Chen, Y., Georgoulis, S.,
Van Gool, L.: Learning to relate depth and semantics for unsupervised domain
adaptation. In: Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition. pp. 8197–8207 (2021)

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Saito, K., Ushiku, Y., Harada, T., Saenko, K.: Strong-weak distribution
alignment for adaptive object detection. In: Proceedings of the IEEE/CVF
Conference on Computer Vision and Pattern Recognition. pp. 6956–6965 (2019)

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Sakaridis, C., Dai, D., Van Gool, L.: Semantic foggy scene understanding with
synthetic data. International Journal of Computer Vision <span id="bib.bib19.1.1" class="ltx_text ltx_font_bold">126</span>(9),
973–992 (2018)

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Shen, Z., Maheshwari, H., Yao, W., Savvides, M.: Scl: Towards accurate domain
adaptive object detection via gradient detach based stacked complementary
losses. arXiv preprint arXiv:1911.02559 (2019)

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Sindagi, V.A., Oza, P., Yasarla, R., Patel, V.M.: Prior-based domain adaptive
object detection for hazy and rainy conditions. In: European Conference on
Computer Vision. pp. 763–780. Springer (2020)

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
VS, V., Gupta, V., Oza, P., Sindagi, V.A., Patel, V.M.: Mega-cda: Memory guided
attention for category-aware unsupervised domain adaptive object detection.
In: Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern
Recognition. pp. 4516–4526 (2021)

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Vu, T.H., Jain, H., Bucher, M., Cord, M., Pérez, P.: Dada: Depth-aware
domain adaptation in semantic segmentation. In: Proceedings of the IEEE/CVF
International Conference on Computer Vision. pp. 7364–7373 (2019)

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Yang, J., Lu, J., Batra, D., Parikh, D.: A faster pytorch implementation of
faster r-cnn. https://github.com/jwyang/faster-rcnn.pytorch (2017)

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Zhang, H., Patel, V.M.: Densely connected pyramid dehazing network. In:
Proceedings of the IEEE conference on computer vision and pattern
recognition. pp. 3194–3203 (2018)

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Zhou, Q., Gu, Q., Pang, J., Feng, Z., Cheng, G., Lu, X., Shi, J., Ma, L.:
Self-adversarial disentangling for specific domain adaptation. arXiv preprint
arXiv:2108.03553 (2021)

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Zhou, W., Du, D., Zhang, L., Luo, T., Wu, Y.: Multi-granularity alignment
domain adaptation for object detection. In: Proceedings of the IEEE/CVF
Conference on Computer Vision and Pattern Recognition. pp. 9581–9590 (2022)

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
Zou, Z., Shi, Z., Guo, Y., Ye, J.: Object detection in 20 years: A survey.
arXiv preprint arXiv:1905.05055 (2019)

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2211.13408" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2211.13409" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2211.13409">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2211.13409" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2211.13411" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Mar 14 06:09:47 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
