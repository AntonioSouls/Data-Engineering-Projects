<!DOCTYPE html><html lang="en" data-theme="light"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging</title>
<!--Generated on Tue Oct  1 08:41:17 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css">
<link href="https://arxiv.org/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css">




<base href="https://arxiv.org/html/2410.03743v1/"><link rel="stylesheet" href="https://use.typekit.net/rwr5zpx.css"><link rel="icon" type="image/png" href="https://static.arxiv.org/static/browse/0.3.4/images/icons/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="https://static.arxiv.org/static/browse/0.3.4/images/icons/favicon-32x32.png" sizes="32x32"></head>
<body><header class="mob_header">
    <div class="html-header-logo">
      <a href="https://arxiv.org/">
        <img alt="logo" class="logomark" role="presentation" width="100" src="https://services.dev.arxiv.org/html/static/arxiv-logomark-small-white.svg">
        <span class="sr-only">Back to arXiv</span>
      </a>
    </div>

    <!--TOC, dark mode, links-->
    <div class="html-header-nav">
      <!--back to abstract-->
      
        <a class="nav-link ar5iv-footer-button hover-effect" aria-label="Back to abstract page" href="https://arxiv.org/abs/2410.03743v1">
        <svg xmlns="http://www.w3.org/2000/svg" height="1.25em" viewBox="0 0 512 512" fill="#ffffff" aria-hidden="true">
            <path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"></path>
        </svg>
        </a>
      <!--dark mode-->
      <a class="ar5iv-toggle-color-scheme" title="Toggle dark/light mode" aria-label="System preference">
        <label id="automatic-tog" class="toggle-icon" title="Switch to light mode" for="__palette_3">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"></path></svg>
        </label>
        
        
      </a>
      <!--nav-->
      <button class="navbar-toggler ar5iv-footer-button" type="button" data-bs-theme="dark" data-bs-toggle="collapse" aria-expanded="false" data-bs-target=".ltx_page_main >.ltx_TOC.mobile" aria-controls="navbarSupportedContent" aria-label="Toggle navigation" style="border:none; margin-right: 0em;">
        <svg xmlns="http://www.w3.org/2000/svg" height="1.25em" viewBox="0 0 448 512" aria-hidden="true" role="img" fill="#ffffff"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"></path></svg>
      </button>
    </div>
    </header><header class="desktop_header">
    <div class="html-header-logo">
      <a href="https://arxiv.org/">
          <img alt="logo" class="logo" role="presentation" width="100" src="https://services.dev.arxiv.org/html/static/arxiv-logo-one-color-white.svg">
          <span class="sr-only">Back to arXiv</span>
      </a>
    </div>
    <div class="html-header-message" role="banner">
        <p>This is <strong>experimental HTML</strong> to improve accessibility. We invite you to report rendering errors. <span class="sr-only">Use Alt+Y to toggle on accessible reporting links and Alt+Shift+Y to toggle off.</span> Learn more <a href="https://info.arxiv.org/about/accessible_HTML.html" target="_blank">about this project</a> and <a href="https://info.arxiv.org/help/submit_latex_best_practices.html" target="_blank">help improve conversions</a>.
        </p>
    </div>
    <nav class="html-header-nav">
      <a class="ar5iv-footer-button hover-effect" href="https://info.arxiv.org/about/accessible_HTML.html" target="_blank">Why HTML?</a>
      <a class="ar5iv-footer-button hover-effect" target="_blank" href="https://arxiv.org/html/2410.03743v1/#myForm">Report Issue</a>
      <a class="ar5iv-footer-button hover-effect" href="https://arxiv.org/abs/2410.03743v1">Back to Abstract</a>
      <a class="ar5iv-footer-button hover-effect" href="https://arxiv.org/pdf/2410.03743v1" target="_blank">Download PDF</a>
      <a class="ar5iv-toggle-color-scheme" title="Toggle dark/light mode">
        <label id="automatic-tog" class="toggle-icon" title="Switch to light mode" for="__palette_3">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"></path></svg>
        </label>
        
        
      </a>
    </nav></header>

<div class="ltx_page_main" id="main">
<nav class="ltx_TOC active" aria-labelledby="toc_header"><h2 id="toc_header" class="sr-only">Table of Contents</h2>

      <div id="listIcon" type="button" class="hide">
          <svg width="17px" height="17px" viewBox="0 0 512 512" style="pointer-events: none;">
          <path d="M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"></path>
          </svg>
      </div>
      <div id="arrowIcon" type="button">
          <svg width="17px" height="17px" viewBox="0 0 448 512" style="pointer-events: none;">
          <path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path>
          </svg>
      </div><ol class="ltx_toclist"><li class="ltx_tocentry ltx_tocentry_section">
    <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#abstract" title="Abstract">
      <span class="ltx_text ltx_ref_title">
        <span class="ltx_tag ltx_tag_ref"></span>
        Abstract
      </span>
    </a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S1" title="In Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S2" title="In Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S2.SS1" title="In 2 Method ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Merge Fine-tuned LLMs with Different Data Order</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S2.SS2" title="In 2 Method ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Parameter-Selection Merging</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S2.SS3" title="In 2 Method ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Resample Strategy</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3" title="In Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3.SS1" title="In 3 Experiments ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Experimental Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3.SS2" title="In 3 Experiments ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Analysis and Ablation Studies</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S4" title="In Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A1" title="In Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A1.SS1" title="In Appendix A Related Work ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Parameter Merging in Multi-Task Scenario</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A1.SS2" title="In Appendix A Related Work ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Parameter Merging in Single-Task Scenario</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A2" title="In Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Detailed Experimental Settings</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A2.SS1" title="In Appendix B Detailed Experimental Settings ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.1 </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A2.SS2" title="In Appendix B Detailed Experimental Settings ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.2 </span>Evaluation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A2.SS3" title="In Appendix B Detailed Experimental Settings ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.3 </span>Basic Settings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A2.SS4" title="In Appendix B Detailed Experimental Settings ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.4 </span>Hyperparameters</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A3" title="In Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Computational Complexity of Merging Process</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
    <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib" title="References">
      <span class="ltx_text ltx_ref_title">
        <span class="ltx_tag ltx_tag_ref"></span>
        References
      </span>
    </a></li></ol></nav>

<div class="ltx_page_content"><div id="target-section" class="section"><a id="license-tr" href="https://info.arxiv.org/help/license/index.html#licenses-available">No License</a><div id="watermark-tr">arXiv:2410.03743v1 [cs.CL] 01 Oct 2024</div></div>
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">Mitigating Training Imbalance in LLM Fine-Tuning via 
<br class="ltx_break">Selective Parameter Merging</h1><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Yiming Ju<sup class="ltx_sup" id="id1.1.id1">1</sup>, &nbsp;&nbsp;Ziyi Ni<sup class="ltx_sup" id="id2.2.id2">2</sup>, &nbsp; &nbsp;Xingrun Xing<sup class="ltx_sup" id="id3.3.id3">1, 2</sup>, &nbsp; &nbsp;Zhixiong Zeng<sup class="ltx_sup" id="id4.4.id4">3</sup>, &nbsp; &nbsp;<span class="ltx_text ltx_font_bold" id="id5.5.id5">Hanyu Zhao<sup class="ltx_sup" id="id5.5.id5.1"><span class="ltx_text ltx_font_medium" id="id5.5.id5.1.1">1</span></sup>,</span>
<br class="ltx_break"><span class="ltx_text ltx_font_bold" id="id6.6.id6">Siqi Fan<sup class="ltx_sup" id="id6.6.id6.1"><span class="ltx_text ltx_font_medium" id="id6.6.id6.1.1">1</span></sup>,</span> &nbsp;&nbsp;<span class="ltx_text ltx_font_bold" id="id7.7.id7">Zheng Zhang<sup class="ltx_sup" id="id7.7.id7.1"><span class="ltx_text ltx_font_medium" id="id7.7.id7.1.1">1*</span></sup></span>
<br class="ltx_break"><sup class="ltx_sup" id="id8.8.id8">1</sup> Beijing Academy of Artificial Intelligence 
<br class="ltx_break"><sup class="ltx_sup" id="id9.9.id9">2</sup> Institute of Automation, Chinese Academy of Sciences &nbsp;&nbsp;&nbsp;&nbsp;<sup class="ltx_sup" id="id10.10.id10">3</sup> Tencent 
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter" id="id11.11.id11">ymju@baai.ac.cn, zhangz.goal@gmail.com</span>
<br class="ltx_break">
</span></span>
</div><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_abstract" id="abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<p class="ltx_p" id="id12.id1">Supervised fine-tuning (SFT) is crucial for adapting Large Language Models (LLMs) to specific tasks.
In this work, we demonstrate that the order of training data can lead to significant training imbalances, potentially resulting in performance degradation.
Consequently, we propose to mitigate this imbalance by merging SFT models fine-tuned with different data orders, thereby enhancing the overall effectiveness of SFT.
Additionally, we introduce a novel technique, "parameter-selection merging," which outperforms traditional weighted-average methods on five datasets.
Further, through analysis and ablation studies, we validate the effectiveness of our method and identify the sources of performance improvements.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="p1">
<div class="ltx_block ltx_align_bottom" id="p1.1">
<p class="ltx_p" id="p1.1.1"><span class="ltx_text ltx_font_bold" id="p1.1.1.1">Mitigating Training Imbalance in LLM Fine-Tuning via 
<br class="ltx_break">Selective Parameter Merging</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<br class="ltx_break ltx_centering">
<p class="ltx_p ltx_align_center" id="p1.1.2" style="width:433.6pt;"><span class="ltx_text ltx_inline-block" id="p1.1.2.1" style="width:0.0pt;">
<span class="ltx_tabular ltx_align_top" id="p1.1.2.1.1">
<span class="ltx_tbody">
<span class="ltx_tr" id="p1.1.2.1.1.1.1">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="p1.1.2.1.1.1.1.1.1">
Yiming Ju<sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1.1"><span class="ltx_text ltx_font_medium" id="p1.1.2.1.1.1.1.1.1.1.1">1</span></sup>, &nbsp;&nbsp;Ziyi Ni<sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1.2"><span class="ltx_text ltx_font_medium" id="p1.1.2.1.1.1.1.1.1.2.1">2</span></sup>, &nbsp; &nbsp;Xingrun Xing<sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1.3"><span class="ltx_text ltx_font_medium" id="p1.1.2.1.1.1.1.1.1.3.1">1, 2</span></sup>, &nbsp; &nbsp;Zhixiong Zeng<sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1.4"><span class="ltx_text ltx_font_medium" id="p1.1.2.1.1.1.1.1.1.4.1">3</span></sup>, &nbsp; &nbsp;Hanyu Zhao<sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1.5"><span class="ltx_text ltx_font_medium" id="p1.1.2.1.1.1.1.1.1.5.1">1</span></sup>,</span></span></span>
<span class="ltx_tr" id="p1.1.2.1.1.2.2">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.2.2.1"><span class="ltx_text ltx_font_bold" id="p1.1.2.1.1.2.2.1.1">Siqi Fan<sup class="ltx_sup" id="p1.1.2.1.1.2.2.1.1.1"><span class="ltx_text ltx_font_medium" id="p1.1.2.1.1.2.2.1.1.1.1">1</span></sup>,</span> &nbsp;&nbsp;<span class="ltx_text ltx_font_bold" id="p1.1.2.1.1.2.2.1.2">Zheng Zhang<sup class="ltx_sup" id="p1.1.2.1.1.2.2.1.2.1"><span class="ltx_text ltx_font_medium" id="p1.1.2.1.1.2.2.1.2.1.1">1*</span></sup></span></span></span>
<span class="ltx_tr" id="p1.1.2.1.1.3.3">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.3.3.1"><sup class="ltx_sup" id="p1.1.2.1.1.3.3.1.1">1</sup> Beijing Academy of Artificial Intelligence</span></span>
<span class="ltx_tr" id="p1.1.2.1.1.4.4">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.4.4.1"><sup class="ltx_sup" id="p1.1.2.1.1.4.4.1.1">2</sup> Institute of Automation, Chinese Academy of Sciences &nbsp;&nbsp;&nbsp;&nbsp;<sup class="ltx_sup" id="p1.1.2.1.1.4.4.1.2">3</sup> Tencent</span></span>
<span class="ltx_tr" id="p1.1.2.1.1.5.5">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.5.5.1"><span class="ltx_text ltx_font_typewriter" id="p1.1.2.1.1.5.5.1.1">ymju@baai.ac.cn, zhangz.goal@gmail.com</span></span></span>
</span>
</span></span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<br class="ltx_break ltx_centering">
</div>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<span class="ltx_note ltx_role_footnotetext" id="footnotex1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotetext: </span>Corresponding Author</span></span></span>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Thanks to the substantial expansion of training scale and model size, large language models (LLMs) have achieved significant breakthroughs across a broad spectrum of NLP tasks
<cite class="ltx_cite ltx_citemacro_citep">(Radford et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib16" title="">2019</a>; Touvron et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib20" title="">2023</a>)</cite>.
For downstream tasks, supervised fine-tuning (SFT) is a crucial technique for LLMs, enabling the customization of pre-trained models for specialized tasks and domains <cite class="ltx_cite ltx_citemacro_citep">(Dettmers et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib5" title="">2023</a>; Zhao et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib33" title="">2023</a>)</cite>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="607" id="S1.F1.g1" src="https://arxiv.org/html/2410.03743v1/x1.png" width="830">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span> Impact of training sample position at first epoch on final model losses of these samples (after 3 epochs of training). Panels (a) and (b) present the results on the GSM8k and Alpaca tasks, respectively. Panels (c) and (d) show the corresponding results from multiple experiments with different training orders. </figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">The SFT process typically involves a few iterations of training on task-specific data. While existing research generally assumes that the order of training samples has a negligible impact on final model performance, or that sufficient iterations can mitigate any potential effects, our preliminary investigations suggest otherwise.
We found that the position of SFT training samples significantly affects their final training outcomes.
For instance, Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">1</span></a> (a) and (b) illustrate the relationship between the position of training samples in the first epoch and their losses after three epochs of training.
The figure clearly shows that despite multiple epochs of training, samples introduced earlier consistently exhibit higher final losses.
Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">1</span></a> (c) and (d) present the results of multiple experiments with different training orders, demonstrating a strong and consistent correlation between the position of training samples and their final losses.<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>The experiment was conducted using GSM8K <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib4" title="">2021</a>)</cite> and Stanford Alpaca <cite class="ltx_cite ltx_citemacro_citep">(Taori et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib19" title="">2023</a>)</cite> datasets, with Llama-2-7b <cite class="ltx_cite ltx_citemacro_citep">(Touvron et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib20" title="">2023</a>)</cite> as the base model. Each epoch featured a different sample order.</span></span></span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">These findings suggest a notable imbalance in fine-tuning process: samples processed at different positions unevenly influence the learning process, thereby posing a potential risk of skewing the performance of the fine-tuned model.
To mitigate this imbalance, we propose merging multiple SFT models obtained from diverse training data orders through parameter merging technique <cite class="ltx_cite ltx_citemacro_citep">(Matena and Raffel, <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib15" title="">2022</a>)</cite>. Moreover, we introduce "<span class="ltx_text ltx_font_bold" id="S1.p3.1.1">parameter-selection merging</span>," a novel parameter merging method that outperforms the traditional weighted-average method. The core contributions of this paper are summarized as follows:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S1.p4">
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We identify the training imbalance in SFT process, where the position of training samples significantly affects their final training losses.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We propose to improve model fine-tuning by merging models trained with different data orders. Moreover, we introduce a novel parameter merging method, "parameter-selection merging."</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">Through analysis and ablation studies, we further validate the effectiveness of our method and demonstrate the source of improvement.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Method</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Merge Fine-tuned LLMs with Different Data Order</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.4">In this work, we propose to mitigate training imbalance in LLM fine-tuning by merging models fine-tuned with various data orders.
As depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S2.F2" title="Figure 2 ‣ 2.2 Parameter-Selection Merging ‣ 2 Method ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">2</span></a>, for a given task <math alttext="t" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.1"><semantics id="S2.SS1.p1.1.m1.1a"><mi id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">t</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.1.m1.1d">italic_t</annotation></semantics></math>, the method initiates by fine-tuning a pre-trained LLM multiple times, each with a uniquely ordered data sequence.
Specifically, for various data sequences <math alttext="\{s_{t}^{1},s_{t}^{2},\cdots,s_{t}^{k}\}" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.4"><semantics id="S2.SS1.p1.2.m2.4a"><mrow id="S2.SS1.p1.2.m2.4.4.3" xref="S2.SS1.p1.2.m2.4.4.4.cmml"><mo id="S2.SS1.p1.2.m2.4.4.3.4" stretchy="false" xref="S2.SS1.p1.2.m2.4.4.4.cmml">{</mo><msubsup id="S2.SS1.p1.2.m2.2.2.1.1" xref="S2.SS1.p1.2.m2.2.2.1.1.cmml"><mi id="S2.SS1.p1.2.m2.2.2.1.1.2.2" xref="S2.SS1.p1.2.m2.2.2.1.1.2.2.cmml">s</mi><mi id="S2.SS1.p1.2.m2.2.2.1.1.2.3" xref="S2.SS1.p1.2.m2.2.2.1.1.2.3.cmml">t</mi><mn id="S2.SS1.p1.2.m2.2.2.1.1.3" xref="S2.SS1.p1.2.m2.2.2.1.1.3.cmml">1</mn></msubsup><mo id="S2.SS1.p1.2.m2.4.4.3.5" xref="S2.SS1.p1.2.m2.4.4.4.cmml">,</mo><msubsup id="S2.SS1.p1.2.m2.3.3.2.2" xref="S2.SS1.p1.2.m2.3.3.2.2.cmml"><mi id="S2.SS1.p1.2.m2.3.3.2.2.2.2" xref="S2.SS1.p1.2.m2.3.3.2.2.2.2.cmml">s</mi><mi id="S2.SS1.p1.2.m2.3.3.2.2.2.3" xref="S2.SS1.p1.2.m2.3.3.2.2.2.3.cmml">t</mi><mn id="S2.SS1.p1.2.m2.3.3.2.2.3" xref="S2.SS1.p1.2.m2.3.3.2.2.3.cmml">2</mn></msubsup><mo id="S2.SS1.p1.2.m2.4.4.3.6" xref="S2.SS1.p1.2.m2.4.4.4.cmml">,</mo><mi id="S2.SS1.p1.2.m2.1.1" mathvariant="normal" xref="S2.SS1.p1.2.m2.1.1.cmml">⋯</mi><mo id="S2.SS1.p1.2.m2.4.4.3.7" xref="S2.SS1.p1.2.m2.4.4.4.cmml">,</mo><msubsup id="S2.SS1.p1.2.m2.4.4.3.3" xref="S2.SS1.p1.2.m2.4.4.3.3.cmml"><mi id="S2.SS1.p1.2.m2.4.4.3.3.2.2" xref="S2.SS1.p1.2.m2.4.4.3.3.2.2.cmml">s</mi><mi id="S2.SS1.p1.2.m2.4.4.3.3.2.3" xref="S2.SS1.p1.2.m2.4.4.3.3.2.3.cmml">t</mi><mi id="S2.SS1.p1.2.m2.4.4.3.3.3" xref="S2.SS1.p1.2.m2.4.4.3.3.3.cmml">k</mi></msubsup><mo id="S2.SS1.p1.2.m2.4.4.3.8" stretchy="false" xref="S2.SS1.p1.2.m2.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.4b"><set id="S2.SS1.p1.2.m2.4.4.4.cmml" xref="S2.SS1.p1.2.m2.4.4.3"><apply id="S2.SS1.p1.2.m2.2.2.1.1.cmml" xref="S2.SS1.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.2.2.1.1.1.cmml" xref="S2.SS1.p1.2.m2.2.2.1.1">superscript</csymbol><apply id="S2.SS1.p1.2.m2.2.2.1.1.2.cmml" xref="S2.SS1.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.2.2.1.1.2.1.cmml" xref="S2.SS1.p1.2.m2.2.2.1.1">subscript</csymbol><ci id="S2.SS1.p1.2.m2.2.2.1.1.2.2.cmml" xref="S2.SS1.p1.2.m2.2.2.1.1.2.2">𝑠</ci><ci id="S2.SS1.p1.2.m2.2.2.1.1.2.3.cmml" xref="S2.SS1.p1.2.m2.2.2.1.1.2.3">𝑡</ci></apply><cn id="S2.SS1.p1.2.m2.2.2.1.1.3.cmml" type="integer" xref="S2.SS1.p1.2.m2.2.2.1.1.3">1</cn></apply><apply id="S2.SS1.p1.2.m2.3.3.2.2.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.3.3.2.2.1.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2">superscript</csymbol><apply id="S2.SS1.p1.2.m2.3.3.2.2.2.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.3.3.2.2.2.1.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2">subscript</csymbol><ci id="S2.SS1.p1.2.m2.3.3.2.2.2.2.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2.2.2">𝑠</ci><ci id="S2.SS1.p1.2.m2.3.3.2.2.2.3.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2.2.3">𝑡</ci></apply><cn id="S2.SS1.p1.2.m2.3.3.2.2.3.cmml" type="integer" xref="S2.SS1.p1.2.m2.3.3.2.2.3">2</cn></apply><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">⋯</ci><apply id="S2.SS1.p1.2.m2.4.4.3.3.cmml" xref="S2.SS1.p1.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.4.4.3.3.1.cmml" xref="S2.SS1.p1.2.m2.4.4.3.3">superscript</csymbol><apply id="S2.SS1.p1.2.m2.4.4.3.3.2.cmml" xref="S2.SS1.p1.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.4.4.3.3.2.1.cmml" xref="S2.SS1.p1.2.m2.4.4.3.3">subscript</csymbol><ci id="S2.SS1.p1.2.m2.4.4.3.3.2.2.cmml" xref="S2.SS1.p1.2.m2.4.4.3.3.2.2">𝑠</ci><ci id="S2.SS1.p1.2.m2.4.4.3.3.2.3.cmml" xref="S2.SS1.p1.2.m2.4.4.3.3.2.3">𝑡</ci></apply><ci id="S2.SS1.p1.2.m2.4.4.3.3.3.cmml" xref="S2.SS1.p1.2.m2.4.4.3.3.3">𝑘</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.4c">\{s_{t}^{1},s_{t}^{2},\cdots,s_{t}^{k}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.2.m2.4d">{ italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT , ⋯ , italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT }</annotation></semantics></math>, we obtain a set of SFT models <math alttext="\{\boldsymbol{\theta}^{s_{t}^{1}}_{SFT},\boldsymbol{\theta}^{s_{t}^{2}}_{SFT},%
\cdots,\boldsymbol{\theta}^{s_{t}^{k}}_{SFT}\}" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.4"><semantics id="S2.SS1.p1.3.m3.4a"><mrow id="S2.SS1.p1.3.m3.4.4.3" xref="S2.SS1.p1.3.m3.4.4.4.cmml"><mo id="S2.SS1.p1.3.m3.4.4.3.4" stretchy="false" xref="S2.SS1.p1.3.m3.4.4.4.cmml">{</mo><msubsup id="S2.SS1.p1.3.m3.2.2.1.1" xref="S2.SS1.p1.3.m3.2.2.1.1.cmml"><mi id="S2.SS1.p1.3.m3.2.2.1.1.2.2" xref="S2.SS1.p1.3.m3.2.2.1.1.2.2.cmml">𝜽</mi><mrow id="S2.SS1.p1.3.m3.2.2.1.1.3" xref="S2.SS1.p1.3.m3.2.2.1.1.3.cmml"><mi id="S2.SS1.p1.3.m3.2.2.1.1.3.2" xref="S2.SS1.p1.3.m3.2.2.1.1.3.2.cmml">S</mi><mo id="S2.SS1.p1.3.m3.2.2.1.1.3.1" xref="S2.SS1.p1.3.m3.2.2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS1.p1.3.m3.2.2.1.1.3.3" xref="S2.SS1.p1.3.m3.2.2.1.1.3.3.cmml">F</mi><mo id="S2.SS1.p1.3.m3.2.2.1.1.3.1a" xref="S2.SS1.p1.3.m3.2.2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS1.p1.3.m3.2.2.1.1.3.4" xref="S2.SS1.p1.3.m3.2.2.1.1.3.4.cmml">T</mi></mrow><msubsup id="S2.SS1.p1.3.m3.2.2.1.1.2.3" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3.cmml"><mi id="S2.SS1.p1.3.m3.2.2.1.1.2.3.2.2" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3.2.2.cmml">s</mi><mi id="S2.SS1.p1.3.m3.2.2.1.1.2.3.2.3" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3.2.3.cmml">t</mi><mn id="S2.SS1.p1.3.m3.2.2.1.1.2.3.3" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3.3.cmml">1</mn></msubsup></msubsup><mo id="S2.SS1.p1.3.m3.4.4.3.5" xref="S2.SS1.p1.3.m3.4.4.4.cmml">,</mo><msubsup id="S2.SS1.p1.3.m3.3.3.2.2" xref="S2.SS1.p1.3.m3.3.3.2.2.cmml"><mi id="S2.SS1.p1.3.m3.3.3.2.2.2.2" xref="S2.SS1.p1.3.m3.3.3.2.2.2.2.cmml">𝜽</mi><mrow id="S2.SS1.p1.3.m3.3.3.2.2.3" xref="S2.SS1.p1.3.m3.3.3.2.2.3.cmml"><mi id="S2.SS1.p1.3.m3.3.3.2.2.3.2" xref="S2.SS1.p1.3.m3.3.3.2.2.3.2.cmml">S</mi><mo id="S2.SS1.p1.3.m3.3.3.2.2.3.1" xref="S2.SS1.p1.3.m3.3.3.2.2.3.1.cmml">⁢</mo><mi id="S2.SS1.p1.3.m3.3.3.2.2.3.3" xref="S2.SS1.p1.3.m3.3.3.2.2.3.3.cmml">F</mi><mo id="S2.SS1.p1.3.m3.3.3.2.2.3.1a" xref="S2.SS1.p1.3.m3.3.3.2.2.3.1.cmml">⁢</mo><mi id="S2.SS1.p1.3.m3.3.3.2.2.3.4" xref="S2.SS1.p1.3.m3.3.3.2.2.3.4.cmml">T</mi></mrow><msubsup id="S2.SS1.p1.3.m3.3.3.2.2.2.3" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3.cmml"><mi id="S2.SS1.p1.3.m3.3.3.2.2.2.3.2.2" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3.2.2.cmml">s</mi><mi id="S2.SS1.p1.3.m3.3.3.2.2.2.3.2.3" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3.2.3.cmml">t</mi><mn id="S2.SS1.p1.3.m3.3.3.2.2.2.3.3" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3.3.cmml">2</mn></msubsup></msubsup><mo id="S2.SS1.p1.3.m3.4.4.3.6" xref="S2.SS1.p1.3.m3.4.4.4.cmml">,</mo><mi id="S2.SS1.p1.3.m3.1.1" mathvariant="normal" xref="S2.SS1.p1.3.m3.1.1.cmml">⋯</mi><mo id="S2.SS1.p1.3.m3.4.4.3.7" xref="S2.SS1.p1.3.m3.4.4.4.cmml">,</mo><msubsup id="S2.SS1.p1.3.m3.4.4.3.3" xref="S2.SS1.p1.3.m3.4.4.3.3.cmml"><mi id="S2.SS1.p1.3.m3.4.4.3.3.2.2" xref="S2.SS1.p1.3.m3.4.4.3.3.2.2.cmml">𝜽</mi><mrow id="S2.SS1.p1.3.m3.4.4.3.3.3" xref="S2.SS1.p1.3.m3.4.4.3.3.3.cmml"><mi id="S2.SS1.p1.3.m3.4.4.3.3.3.2" xref="S2.SS1.p1.3.m3.4.4.3.3.3.2.cmml">S</mi><mo id="S2.SS1.p1.3.m3.4.4.3.3.3.1" xref="S2.SS1.p1.3.m3.4.4.3.3.3.1.cmml">⁢</mo><mi id="S2.SS1.p1.3.m3.4.4.3.3.3.3" xref="S2.SS1.p1.3.m3.4.4.3.3.3.3.cmml">F</mi><mo id="S2.SS1.p1.3.m3.4.4.3.3.3.1a" xref="S2.SS1.p1.3.m3.4.4.3.3.3.1.cmml">⁢</mo><mi id="S2.SS1.p1.3.m3.4.4.3.3.3.4" xref="S2.SS1.p1.3.m3.4.4.3.3.3.4.cmml">T</mi></mrow><msubsup id="S2.SS1.p1.3.m3.4.4.3.3.2.3" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3.cmml"><mi id="S2.SS1.p1.3.m3.4.4.3.3.2.3.2.2" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3.2.2.cmml">s</mi><mi id="S2.SS1.p1.3.m3.4.4.3.3.2.3.2.3" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3.2.3.cmml">t</mi><mi id="S2.SS1.p1.3.m3.4.4.3.3.2.3.3" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3.3.cmml">k</mi></msubsup></msubsup><mo id="S2.SS1.p1.3.m3.4.4.3.8" stretchy="false" xref="S2.SS1.p1.3.m3.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.4b"><set id="S2.SS1.p1.3.m3.4.4.4.cmml" xref="S2.SS1.p1.3.m3.4.4.3"><apply id="S2.SS1.p1.3.m3.2.2.1.1.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.2.2.1.1.1.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1">subscript</csymbol><apply id="S2.SS1.p1.3.m3.2.2.1.1.2.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.2.2.1.1.2.1.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1">superscript</csymbol><ci id="S2.SS1.p1.3.m3.2.2.1.1.2.2.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.2.2">𝜽</ci><apply id="S2.SS1.p1.3.m3.2.2.1.1.2.3.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.2.2.1.1.2.3.1.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3">superscript</csymbol><apply id="S2.SS1.p1.3.m3.2.2.1.1.2.3.2.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.2.2.1.1.2.3.2.1.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3">subscript</csymbol><ci id="S2.SS1.p1.3.m3.2.2.1.1.2.3.2.2.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3.2.2">𝑠</ci><ci id="S2.SS1.p1.3.m3.2.2.1.1.2.3.2.3.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3.2.3">𝑡</ci></apply><cn id="S2.SS1.p1.3.m3.2.2.1.1.2.3.3.cmml" type="integer" xref="S2.SS1.p1.3.m3.2.2.1.1.2.3.3">1</cn></apply></apply><apply id="S2.SS1.p1.3.m3.2.2.1.1.3.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3"><times id="S2.SS1.p1.3.m3.2.2.1.1.3.1.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3.1"></times><ci id="S2.SS1.p1.3.m3.2.2.1.1.3.2.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3.2">𝑆</ci><ci id="S2.SS1.p1.3.m3.2.2.1.1.3.3.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3.3">𝐹</ci><ci id="S2.SS1.p1.3.m3.2.2.1.1.3.4.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3.4">𝑇</ci></apply></apply><apply id="S2.SS1.p1.3.m3.3.3.2.2.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.3.3.2.2.1.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2">subscript</csymbol><apply id="S2.SS1.p1.3.m3.3.3.2.2.2.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.3.3.2.2.2.1.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2">superscript</csymbol><ci id="S2.SS1.p1.3.m3.3.3.2.2.2.2.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.2.2">𝜽</ci><apply id="S2.SS1.p1.3.m3.3.3.2.2.2.3.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.3.3.2.2.2.3.1.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3">superscript</csymbol><apply id="S2.SS1.p1.3.m3.3.3.2.2.2.3.2.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.3.3.2.2.2.3.2.1.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3">subscript</csymbol><ci id="S2.SS1.p1.3.m3.3.3.2.2.2.3.2.2.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3.2.2">𝑠</ci><ci id="S2.SS1.p1.3.m3.3.3.2.2.2.3.2.3.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3.2.3">𝑡</ci></apply><cn id="S2.SS1.p1.3.m3.3.3.2.2.2.3.3.cmml" type="integer" xref="S2.SS1.p1.3.m3.3.3.2.2.2.3.3">2</cn></apply></apply><apply id="S2.SS1.p1.3.m3.3.3.2.2.3.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.3"><times id="S2.SS1.p1.3.m3.3.3.2.2.3.1.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.3.1"></times><ci id="S2.SS1.p1.3.m3.3.3.2.2.3.2.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.3.2">𝑆</ci><ci id="S2.SS1.p1.3.m3.3.3.2.2.3.3.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.3.3">𝐹</ci><ci id="S2.SS1.p1.3.m3.3.3.2.2.3.4.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.3.4">𝑇</ci></apply></apply><ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">⋯</ci><apply id="S2.SS1.p1.3.m3.4.4.3.3.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.4.4.3.3.1.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3">subscript</csymbol><apply id="S2.SS1.p1.3.m3.4.4.3.3.2.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.4.4.3.3.2.1.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3">superscript</csymbol><ci id="S2.SS1.p1.3.m3.4.4.3.3.2.2.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.2.2">𝜽</ci><apply id="S2.SS1.p1.3.m3.4.4.3.3.2.3.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.4.4.3.3.2.3.1.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3">superscript</csymbol><apply id="S2.SS1.p1.3.m3.4.4.3.3.2.3.2.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.4.4.3.3.2.3.2.1.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3">subscript</csymbol><ci id="S2.SS1.p1.3.m3.4.4.3.3.2.3.2.2.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3.2.2">𝑠</ci><ci id="S2.SS1.p1.3.m3.4.4.3.3.2.3.2.3.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3.2.3">𝑡</ci></apply><ci id="S2.SS1.p1.3.m3.4.4.3.3.2.3.3.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.2.3.3">𝑘</ci></apply></apply><apply id="S2.SS1.p1.3.m3.4.4.3.3.3.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.3"><times id="S2.SS1.p1.3.m3.4.4.3.3.3.1.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.3.1"></times><ci id="S2.SS1.p1.3.m3.4.4.3.3.3.2.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.3.2">𝑆</ci><ci id="S2.SS1.p1.3.m3.4.4.3.3.3.3.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.3.3">𝐹</ci><ci id="S2.SS1.p1.3.m3.4.4.3.3.3.4.cmml" xref="S2.SS1.p1.3.m3.4.4.3.3.3.4">𝑇</ci></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.4c">\{\boldsymbol{\theta}^{s_{t}^{1}}_{SFT},\boldsymbol{\theta}^{s_{t}^{2}}_{SFT},%
\cdots,\boldsymbol{\theta}^{s_{t}^{k}}_{SFT}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.3.m3.4d">{ bold_italic_θ start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_S italic_F italic_T end_POSTSUBSCRIPT , bold_italic_θ start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_S italic_F italic_T end_POSTSUBSCRIPT , ⋯ , bold_italic_θ start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_S italic_F italic_T end_POSTSUBSCRIPT }</annotation></semantics></math>. Subsequently, these variously fine-tuned models are integrated into a unified model through parameter merging techniques, yielding an improved SFT model <math alttext="\boldsymbol{\theta}_{\text{SFT}}\uparrow" class="ltx_Math" display="inline" id="S2.SS1.p1.4.m4.1"><semantics id="S2.SS1.p1.4.m4.1a"><mrow id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml"><msub id="S2.SS1.p1.4.m4.1.1.2" xref="S2.SS1.p1.4.m4.1.1.2.cmml"><mi id="S2.SS1.p1.4.m4.1.1.2.2" xref="S2.SS1.p1.4.m4.1.1.2.2.cmml">𝜽</mi><mtext id="S2.SS1.p1.4.m4.1.1.2.3" xref="S2.SS1.p1.4.m4.1.1.2.3a.cmml">SFT</mtext></msub><mo id="S2.SS1.p1.4.m4.1.1.1" stretchy="false" xref="S2.SS1.p1.4.m4.1.1.1.cmml">↑</mo><mi id="S2.SS1.p1.4.m4.1.1.3" xref="S2.SS1.p1.4.m4.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><apply id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1"><ci id="S2.SS1.p1.4.m4.1.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1.1">↑</ci><apply id="S2.SS1.p1.4.m4.1.1.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.2.1.cmml" xref="S2.SS1.p1.4.m4.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.4.m4.1.1.2.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2.2">𝜽</ci><ci id="S2.SS1.p1.4.m4.1.1.2.3a.cmml" xref="S2.SS1.p1.4.m4.1.1.2.3"><mtext id="S2.SS1.p1.4.m4.1.1.2.3.cmml" mathsize="70%" xref="S2.SS1.p1.4.m4.1.1.2.3">SFT</mtext></ci></apply><csymbol cd="latexml" id="S2.SS1.p1.4.m4.1.1.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">\boldsymbol{\theta}_{\text{SFT}}\uparrow</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.4.m4.1d">bold_italic_θ start_POSTSUBSCRIPT SFT end_POSTSUBSCRIPT ↑</annotation></semantics></math></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Parameter-Selection Merging</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.5">Existing parameter merging techniques can generally be categorized under "weighted-average merging" approach.
In this work, we introduce a novel parameter merging approach: "<span class="ltx_text ltx_font_bold" id="S2.SS2.p1.5.1">parameter-selection merging</span>."
Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S2.F2" title="Figure 2 ‣ 2.2 Parameter-Selection Merging ‣ 2 Method ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">2</span></a> shows the comparison of two merging techniques.
Given a set of <math alttext="K" class="ltx_Math" display="inline" id="S2.SS2.p1.1.m1.1"><semantics id="S2.SS2.p1.1.m1.1a"><mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">K</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.1.m1.1d">italic_K</annotation></semantics></math> sub-models <math alttext="\{\boldsymbol{\theta}_{1},\boldsymbol{\theta}_{2},\ldots,\boldsymbol{\theta}_{%
K}\}" class="ltx_Math" display="inline" id="S2.SS2.p1.2.m2.4"><semantics id="S2.SS2.p1.2.m2.4a"><mrow id="S2.SS2.p1.2.m2.4.4.3" xref="S2.SS2.p1.2.m2.4.4.4.cmml"><mo id="S2.SS2.p1.2.m2.4.4.3.4" stretchy="false" xref="S2.SS2.p1.2.m2.4.4.4.cmml">{</mo><msub id="S2.SS2.p1.2.m2.2.2.1.1" xref="S2.SS2.p1.2.m2.2.2.1.1.cmml"><mi id="S2.SS2.p1.2.m2.2.2.1.1.2" xref="S2.SS2.p1.2.m2.2.2.1.1.2.cmml">𝜽</mi><mn id="S2.SS2.p1.2.m2.2.2.1.1.3" xref="S2.SS2.p1.2.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="S2.SS2.p1.2.m2.4.4.3.5" xref="S2.SS2.p1.2.m2.4.4.4.cmml">,</mo><msub id="S2.SS2.p1.2.m2.3.3.2.2" xref="S2.SS2.p1.2.m2.3.3.2.2.cmml"><mi id="S2.SS2.p1.2.m2.3.3.2.2.2" xref="S2.SS2.p1.2.m2.3.3.2.2.2.cmml">𝜽</mi><mn id="S2.SS2.p1.2.m2.3.3.2.2.3" xref="S2.SS2.p1.2.m2.3.3.2.2.3.cmml">2</mn></msub><mo id="S2.SS2.p1.2.m2.4.4.3.6" xref="S2.SS2.p1.2.m2.4.4.4.cmml">,</mo><mi id="S2.SS2.p1.2.m2.1.1" mathvariant="normal" xref="S2.SS2.p1.2.m2.1.1.cmml">…</mi><mo id="S2.SS2.p1.2.m2.4.4.3.7" xref="S2.SS2.p1.2.m2.4.4.4.cmml">,</mo><msub id="S2.SS2.p1.2.m2.4.4.3.3" xref="S2.SS2.p1.2.m2.4.4.3.3.cmml"><mi id="S2.SS2.p1.2.m2.4.4.3.3.2" xref="S2.SS2.p1.2.m2.4.4.3.3.2.cmml">𝜽</mi><mi id="S2.SS2.p1.2.m2.4.4.3.3.3" xref="S2.SS2.p1.2.m2.4.4.3.3.3.cmml">K</mi></msub><mo id="S2.SS2.p1.2.m2.4.4.3.8" stretchy="false" xref="S2.SS2.p1.2.m2.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.4b"><set id="S2.SS2.p1.2.m2.4.4.4.cmml" xref="S2.SS2.p1.2.m2.4.4.3"><apply id="S2.SS2.p1.2.m2.2.2.1.1.cmml" xref="S2.SS2.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.2.m2.2.2.1.1.1.cmml" xref="S2.SS2.p1.2.m2.2.2.1.1">subscript</csymbol><ci id="S2.SS2.p1.2.m2.2.2.1.1.2.cmml" xref="S2.SS2.p1.2.m2.2.2.1.1.2">𝜽</ci><cn id="S2.SS2.p1.2.m2.2.2.1.1.3.cmml" type="integer" xref="S2.SS2.p1.2.m2.2.2.1.1.3">1</cn></apply><apply id="S2.SS2.p1.2.m2.3.3.2.2.cmml" xref="S2.SS2.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="S2.SS2.p1.2.m2.3.3.2.2.1.cmml" xref="S2.SS2.p1.2.m2.3.3.2.2">subscript</csymbol><ci id="S2.SS2.p1.2.m2.3.3.2.2.2.cmml" xref="S2.SS2.p1.2.m2.3.3.2.2.2">𝜽</ci><cn id="S2.SS2.p1.2.m2.3.3.2.2.3.cmml" type="integer" xref="S2.SS2.p1.2.m2.3.3.2.2.3">2</cn></apply><ci id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">…</ci><apply id="S2.SS2.p1.2.m2.4.4.3.3.cmml" xref="S2.SS2.p1.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="S2.SS2.p1.2.m2.4.4.3.3.1.cmml" xref="S2.SS2.p1.2.m2.4.4.3.3">subscript</csymbol><ci id="S2.SS2.p1.2.m2.4.4.3.3.2.cmml" xref="S2.SS2.p1.2.m2.4.4.3.3.2">𝜽</ci><ci id="S2.SS2.p1.2.m2.4.4.3.3.3.cmml" xref="S2.SS2.p1.2.m2.4.4.3.3.3">𝐾</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.4c">\{\boldsymbol{\theta}_{1},\boldsymbol{\theta}_{2},\ldots,\boldsymbol{\theta}_{%
K}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.2.m2.4d">{ bold_italic_θ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , bold_italic_θ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , bold_italic_θ start_POSTSUBSCRIPT italic_K end_POSTSUBSCRIPT }</annotation></semantics></math>, each model <math alttext="\boldsymbol{\theta}_{i}" class="ltx_Math" display="inline" id="S2.SS2.p1.3.m3.1"><semantics id="S2.SS2.p1.3.m3.1a"><msub id="S2.SS2.p1.3.m3.1.1" xref="S2.SS2.p1.3.m3.1.1.cmml"><mi id="S2.SS2.p1.3.m3.1.1.2" xref="S2.SS2.p1.3.m3.1.1.2.cmml">𝜽</mi><mi id="S2.SS2.p1.3.m3.1.1.3" xref="S2.SS2.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m3.1b"><apply id="S2.SS2.p1.3.m3.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.3.m3.1.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS2.p1.3.m3.1.1.2.cmml" xref="S2.SS2.p1.3.m3.1.1.2">𝜽</ci><ci id="S2.SS2.p1.3.m3.1.1.3.cmml" xref="S2.SS2.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.3.m3.1c">\boldsymbol{\theta}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.3.m3.1d">bold_italic_θ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is comprised of parameters <math alttext="\theta_{i,1},\theta_{i,2},\ldots,\theta_{i,d}" class="ltx_Math" display="inline" id="S2.SS2.p1.4.m4.10"><semantics id="S2.SS2.p1.4.m4.10a"><mrow id="S2.SS2.p1.4.m4.10.10.3" xref="S2.SS2.p1.4.m4.10.10.4.cmml"><msub id="S2.SS2.p1.4.m4.8.8.1.1" xref="S2.SS2.p1.4.m4.8.8.1.1.cmml"><mi id="S2.SS2.p1.4.m4.8.8.1.1.2" xref="S2.SS2.p1.4.m4.8.8.1.1.2.cmml">θ</mi><mrow id="S2.SS2.p1.4.m4.2.2.2.4" xref="S2.SS2.p1.4.m4.2.2.2.3.cmml"><mi id="S2.SS2.p1.4.m4.1.1.1.1" xref="S2.SS2.p1.4.m4.1.1.1.1.cmml">i</mi><mo id="S2.SS2.p1.4.m4.2.2.2.4.1" xref="S2.SS2.p1.4.m4.2.2.2.3.cmml">,</mo><mn id="S2.SS2.p1.4.m4.2.2.2.2" xref="S2.SS2.p1.4.m4.2.2.2.2.cmml">1</mn></mrow></msub><mo id="S2.SS2.p1.4.m4.10.10.3.4" xref="S2.SS2.p1.4.m4.10.10.4.cmml">,</mo><msub id="S2.SS2.p1.4.m4.9.9.2.2" xref="S2.SS2.p1.4.m4.9.9.2.2.cmml"><mi id="S2.SS2.p1.4.m4.9.9.2.2.2" xref="S2.SS2.p1.4.m4.9.9.2.2.2.cmml">θ</mi><mrow id="S2.SS2.p1.4.m4.4.4.2.4" xref="S2.SS2.p1.4.m4.4.4.2.3.cmml"><mi id="S2.SS2.p1.4.m4.3.3.1.1" xref="S2.SS2.p1.4.m4.3.3.1.1.cmml">i</mi><mo id="S2.SS2.p1.4.m4.4.4.2.4.1" xref="S2.SS2.p1.4.m4.4.4.2.3.cmml">,</mo><mn id="S2.SS2.p1.4.m4.4.4.2.2" xref="S2.SS2.p1.4.m4.4.4.2.2.cmml">2</mn></mrow></msub><mo id="S2.SS2.p1.4.m4.10.10.3.5" xref="S2.SS2.p1.4.m4.10.10.4.cmml">,</mo><mi id="S2.SS2.p1.4.m4.7.7" mathvariant="normal" xref="S2.SS2.p1.4.m4.7.7.cmml">…</mi><mo id="S2.SS2.p1.4.m4.10.10.3.6" xref="S2.SS2.p1.4.m4.10.10.4.cmml">,</mo><msub id="S2.SS2.p1.4.m4.10.10.3.3" xref="S2.SS2.p1.4.m4.10.10.3.3.cmml"><mi id="S2.SS2.p1.4.m4.10.10.3.3.2" xref="S2.SS2.p1.4.m4.10.10.3.3.2.cmml">θ</mi><mrow id="S2.SS2.p1.4.m4.6.6.2.4" xref="S2.SS2.p1.4.m4.6.6.2.3.cmml"><mi id="S2.SS2.p1.4.m4.5.5.1.1" xref="S2.SS2.p1.4.m4.5.5.1.1.cmml">i</mi><mo id="S2.SS2.p1.4.m4.6.6.2.4.1" xref="S2.SS2.p1.4.m4.6.6.2.3.cmml">,</mo><mi id="S2.SS2.p1.4.m4.6.6.2.2" xref="S2.SS2.p1.4.m4.6.6.2.2.cmml">d</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.4.m4.10b"><list id="S2.SS2.p1.4.m4.10.10.4.cmml" xref="S2.SS2.p1.4.m4.10.10.3"><apply id="S2.SS2.p1.4.m4.8.8.1.1.cmml" xref="S2.SS2.p1.4.m4.8.8.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.4.m4.8.8.1.1.1.cmml" xref="S2.SS2.p1.4.m4.8.8.1.1">subscript</csymbol><ci id="S2.SS2.p1.4.m4.8.8.1.1.2.cmml" xref="S2.SS2.p1.4.m4.8.8.1.1.2">𝜃</ci><list id="S2.SS2.p1.4.m4.2.2.2.3.cmml" xref="S2.SS2.p1.4.m4.2.2.2.4"><ci id="S2.SS2.p1.4.m4.1.1.1.1.cmml" xref="S2.SS2.p1.4.m4.1.1.1.1">𝑖</ci><cn id="S2.SS2.p1.4.m4.2.2.2.2.cmml" type="integer" xref="S2.SS2.p1.4.m4.2.2.2.2">1</cn></list></apply><apply id="S2.SS2.p1.4.m4.9.9.2.2.cmml" xref="S2.SS2.p1.4.m4.9.9.2.2"><csymbol cd="ambiguous" id="S2.SS2.p1.4.m4.9.9.2.2.1.cmml" xref="S2.SS2.p1.4.m4.9.9.2.2">subscript</csymbol><ci id="S2.SS2.p1.4.m4.9.9.2.2.2.cmml" xref="S2.SS2.p1.4.m4.9.9.2.2.2">𝜃</ci><list id="S2.SS2.p1.4.m4.4.4.2.3.cmml" xref="S2.SS2.p1.4.m4.4.4.2.4"><ci id="S2.SS2.p1.4.m4.3.3.1.1.cmml" xref="S2.SS2.p1.4.m4.3.3.1.1">𝑖</ci><cn id="S2.SS2.p1.4.m4.4.4.2.2.cmml" type="integer" xref="S2.SS2.p1.4.m4.4.4.2.2">2</cn></list></apply><ci id="S2.SS2.p1.4.m4.7.7.cmml" xref="S2.SS2.p1.4.m4.7.7">…</ci><apply id="S2.SS2.p1.4.m4.10.10.3.3.cmml" xref="S2.SS2.p1.4.m4.10.10.3.3"><csymbol cd="ambiguous" id="S2.SS2.p1.4.m4.10.10.3.3.1.cmml" xref="S2.SS2.p1.4.m4.10.10.3.3">subscript</csymbol><ci id="S2.SS2.p1.4.m4.10.10.3.3.2.cmml" xref="S2.SS2.p1.4.m4.10.10.3.3.2">𝜃</ci><list id="S2.SS2.p1.4.m4.6.6.2.3.cmml" xref="S2.SS2.p1.4.m4.6.6.2.4"><ci id="S2.SS2.p1.4.m4.5.5.1.1.cmml" xref="S2.SS2.p1.4.m4.5.5.1.1">𝑖</ci><ci id="S2.SS2.p1.4.m4.6.6.2.2.cmml" xref="S2.SS2.p1.4.m4.6.6.2.2">𝑑</ci></list></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.4.m4.10c">\theta_{i,1},\theta_{i,2},\ldots,\theta_{i,d}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.4.m4.10d">italic_θ start_POSTSUBSCRIPT italic_i , 1 end_POSTSUBSCRIPT , italic_θ start_POSTSUBSCRIPT italic_i , 2 end_POSTSUBSCRIPT , … , italic_θ start_POSTSUBSCRIPT italic_i , italic_d end_POSTSUBSCRIPT</annotation></semantics></math> across <math alttext="d" class="ltx_Math" display="inline" id="S2.SS2.p1.5.m5.1"><semantics id="S2.SS2.p1.5.m5.1a"><mi id="S2.SS2.p1.5.m5.1.1" xref="S2.SS2.p1.5.m5.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.5.m5.1b"><ci id="S2.SS2.p1.5.m5.1.1.cmml" xref="S2.SS2.p1.5.m5.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.5.m5.1c">d</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.5.m5.1d">italic_d</annotation></semantics></math> parameter dimensions.
Weighted-average merging calculates the weighted sum of all sub-model parameters at each parameter dimension, which can be represented by the following formula:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\theta_{\text{merged},j}=\sum_{i=1}^{K}w_{i}\theta_{\text{i,j}},\ \ \forall j%
\in\{1,\ldots,d\}" class="ltx_Math" display="block" id="S2.E1.m1.7"><semantics id="S2.E1.m1.7a"><mrow id="S2.E1.m1.7.7.2" xref="S2.E1.m1.7.7.3.cmml"><mrow id="S2.E1.m1.6.6.1.1" xref="S2.E1.m1.6.6.1.1.cmml"><msub id="S2.E1.m1.6.6.1.1.2" xref="S2.E1.m1.6.6.1.1.2.cmml"><mi id="S2.E1.m1.6.6.1.1.2.2" xref="S2.E1.m1.6.6.1.1.2.2.cmml">θ</mi><mrow id="S2.E1.m1.2.2.2.4" xref="S2.E1.m1.2.2.2.3.cmml"><mtext id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1a.cmml">merged</mtext><mo id="S2.E1.m1.2.2.2.4.1" xref="S2.E1.m1.2.2.2.3.cmml">,</mo><mi id="S2.E1.m1.2.2.2.2" xref="S2.E1.m1.2.2.2.2.cmml">j</mi></mrow></msub><mo id="S2.E1.m1.6.6.1.1.1" rspace="0.111em" xref="S2.E1.m1.6.6.1.1.1.cmml">=</mo><mrow id="S2.E1.m1.6.6.1.1.3" xref="S2.E1.m1.6.6.1.1.3.cmml"><munderover id="S2.E1.m1.6.6.1.1.3.1" xref="S2.E1.m1.6.6.1.1.3.1.cmml"><mo id="S2.E1.m1.6.6.1.1.3.1.2.2" movablelimits="false" xref="S2.E1.m1.6.6.1.1.3.1.2.2.cmml">∑</mo><mrow id="S2.E1.m1.6.6.1.1.3.1.2.3" xref="S2.E1.m1.6.6.1.1.3.1.2.3.cmml"><mi id="S2.E1.m1.6.6.1.1.3.1.2.3.2" xref="S2.E1.m1.6.6.1.1.3.1.2.3.2.cmml">i</mi><mo id="S2.E1.m1.6.6.1.1.3.1.2.3.1" xref="S2.E1.m1.6.6.1.1.3.1.2.3.1.cmml">=</mo><mn id="S2.E1.m1.6.6.1.1.3.1.2.3.3" xref="S2.E1.m1.6.6.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.6.6.1.1.3.1.3" xref="S2.E1.m1.6.6.1.1.3.1.3.cmml">K</mi></munderover><mrow id="S2.E1.m1.6.6.1.1.3.2" xref="S2.E1.m1.6.6.1.1.3.2.cmml"><msub id="S2.E1.m1.6.6.1.1.3.2.2" xref="S2.E1.m1.6.6.1.1.3.2.2.cmml"><mi id="S2.E1.m1.6.6.1.1.3.2.2.2" xref="S2.E1.m1.6.6.1.1.3.2.2.2.cmml">w</mi><mi id="S2.E1.m1.6.6.1.1.3.2.2.3" xref="S2.E1.m1.6.6.1.1.3.2.2.3.cmml">i</mi></msub><mo id="S2.E1.m1.6.6.1.1.3.2.1" xref="S2.E1.m1.6.6.1.1.3.2.1.cmml">⁢</mo><msub id="S2.E1.m1.6.6.1.1.3.2.3" xref="S2.E1.m1.6.6.1.1.3.2.3.cmml"><mi id="S2.E1.m1.6.6.1.1.3.2.3.2" xref="S2.E1.m1.6.6.1.1.3.2.3.2.cmml">θ</mi><mtext id="S2.E1.m1.6.6.1.1.3.2.3.3" xref="S2.E1.m1.6.6.1.1.3.2.3.3a.cmml">i,j</mtext></msub></mrow></mrow></mrow><mo id="S2.E1.m1.7.7.2.3" rspace="1.167em" xref="S2.E1.m1.7.7.3a.cmml">,</mo><mrow id="S2.E1.m1.7.7.2.2" xref="S2.E1.m1.7.7.2.2.cmml"><mrow id="S2.E1.m1.7.7.2.2.2" xref="S2.E1.m1.7.7.2.2.2.cmml"><mo id="S2.E1.m1.7.7.2.2.2.1" rspace="0.167em" xref="S2.E1.m1.7.7.2.2.2.1.cmml">∀</mo><mi id="S2.E1.m1.7.7.2.2.2.2" xref="S2.E1.m1.7.7.2.2.2.2.cmml">j</mi></mrow><mo id="S2.E1.m1.7.7.2.2.1" xref="S2.E1.m1.7.7.2.2.1.cmml">∈</mo><mrow id="S2.E1.m1.7.7.2.2.3.2" xref="S2.E1.m1.7.7.2.2.3.1.cmml"><mo id="S2.E1.m1.7.7.2.2.3.2.1" stretchy="false" xref="S2.E1.m1.7.7.2.2.3.1.cmml">{</mo><mn id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml">1</mn><mo id="S2.E1.m1.7.7.2.2.3.2.2" xref="S2.E1.m1.7.7.2.2.3.1.cmml">,</mo><mi id="S2.E1.m1.4.4" mathvariant="normal" xref="S2.E1.m1.4.4.cmml">…</mi><mo id="S2.E1.m1.7.7.2.2.3.2.3" xref="S2.E1.m1.7.7.2.2.3.1.cmml">,</mo><mi id="S2.E1.m1.5.5" xref="S2.E1.m1.5.5.cmml">d</mi><mo id="S2.E1.m1.7.7.2.2.3.2.4" stretchy="false" xref="S2.E1.m1.7.7.2.2.3.1.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.7b"><apply id="S2.E1.m1.7.7.3.cmml" xref="S2.E1.m1.7.7.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.3a.cmml" xref="S2.E1.m1.7.7.2.3">formulae-sequence</csymbol><apply id="S2.E1.m1.6.6.1.1.cmml" xref="S2.E1.m1.6.6.1.1"><eq id="S2.E1.m1.6.6.1.1.1.cmml" xref="S2.E1.m1.6.6.1.1.1"></eq><apply id="S2.E1.m1.6.6.1.1.2.cmml" xref="S2.E1.m1.6.6.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.6.6.1.1.2.1.cmml" xref="S2.E1.m1.6.6.1.1.2">subscript</csymbol><ci id="S2.E1.m1.6.6.1.1.2.2.cmml" xref="S2.E1.m1.6.6.1.1.2.2">𝜃</ci><list id="S2.E1.m1.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.4"><ci id="S2.E1.m1.1.1.1.1a.cmml" xref="S2.E1.m1.1.1.1.1"><mtext id="S2.E1.m1.1.1.1.1.cmml" mathsize="70%" xref="S2.E1.m1.1.1.1.1">merged</mtext></ci><ci id="S2.E1.m1.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2">𝑗</ci></list></apply><apply id="S2.E1.m1.6.6.1.1.3.cmml" xref="S2.E1.m1.6.6.1.1.3"><apply id="S2.E1.m1.6.6.1.1.3.1.cmml" xref="S2.E1.m1.6.6.1.1.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.6.6.1.1.3.1.1.cmml" xref="S2.E1.m1.6.6.1.1.3.1">superscript</csymbol><apply id="S2.E1.m1.6.6.1.1.3.1.2.cmml" xref="S2.E1.m1.6.6.1.1.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.6.6.1.1.3.1.2.1.cmml" xref="S2.E1.m1.6.6.1.1.3.1">subscript</csymbol><sum id="S2.E1.m1.6.6.1.1.3.1.2.2.cmml" xref="S2.E1.m1.6.6.1.1.3.1.2.2"></sum><apply id="S2.E1.m1.6.6.1.1.3.1.2.3.cmml" xref="S2.E1.m1.6.6.1.1.3.1.2.3"><eq id="S2.E1.m1.6.6.1.1.3.1.2.3.1.cmml" xref="S2.E1.m1.6.6.1.1.3.1.2.3.1"></eq><ci id="S2.E1.m1.6.6.1.1.3.1.2.3.2.cmml" xref="S2.E1.m1.6.6.1.1.3.1.2.3.2">𝑖</ci><cn id="S2.E1.m1.6.6.1.1.3.1.2.3.3.cmml" type="integer" xref="S2.E1.m1.6.6.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.6.6.1.1.3.1.3.cmml" xref="S2.E1.m1.6.6.1.1.3.1.3">𝐾</ci></apply><apply id="S2.E1.m1.6.6.1.1.3.2.cmml" xref="S2.E1.m1.6.6.1.1.3.2"><times id="S2.E1.m1.6.6.1.1.3.2.1.cmml" xref="S2.E1.m1.6.6.1.1.3.2.1"></times><apply id="S2.E1.m1.6.6.1.1.3.2.2.cmml" xref="S2.E1.m1.6.6.1.1.3.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.6.6.1.1.3.2.2.1.cmml" xref="S2.E1.m1.6.6.1.1.3.2.2">subscript</csymbol><ci id="S2.E1.m1.6.6.1.1.3.2.2.2.cmml" xref="S2.E1.m1.6.6.1.1.3.2.2.2">𝑤</ci><ci id="S2.E1.m1.6.6.1.1.3.2.2.3.cmml" xref="S2.E1.m1.6.6.1.1.3.2.2.3">𝑖</ci></apply><apply id="S2.E1.m1.6.6.1.1.3.2.3.cmml" xref="S2.E1.m1.6.6.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.6.6.1.1.3.2.3.1.cmml" xref="S2.E1.m1.6.6.1.1.3.2.3">subscript</csymbol><ci id="S2.E1.m1.6.6.1.1.3.2.3.2.cmml" xref="S2.E1.m1.6.6.1.1.3.2.3.2">𝜃</ci><ci id="S2.E1.m1.6.6.1.1.3.2.3.3a.cmml" xref="S2.E1.m1.6.6.1.1.3.2.3.3"><mtext id="S2.E1.m1.6.6.1.1.3.2.3.3.cmml" mathsize="70%" xref="S2.E1.m1.6.6.1.1.3.2.3.3">i,j</mtext></ci></apply></apply></apply></apply><apply id="S2.E1.m1.7.7.2.2.cmml" xref="S2.E1.m1.7.7.2.2"><in id="S2.E1.m1.7.7.2.2.1.cmml" xref="S2.E1.m1.7.7.2.2.1"></in><apply id="S2.E1.m1.7.7.2.2.2.cmml" xref="S2.E1.m1.7.7.2.2.2"><csymbol cd="latexml" id="S2.E1.m1.7.7.2.2.2.1.cmml" xref="S2.E1.m1.7.7.2.2.2.1">for-all</csymbol><ci id="S2.E1.m1.7.7.2.2.2.2.cmml" xref="S2.E1.m1.7.7.2.2.2.2">𝑗</ci></apply><set id="S2.E1.m1.7.7.2.2.3.1.cmml" xref="S2.E1.m1.7.7.2.2.3.2"><cn id="S2.E1.m1.3.3.cmml" type="integer" xref="S2.E1.m1.3.3">1</cn><ci id="S2.E1.m1.4.4.cmml" xref="S2.E1.m1.4.4">…</ci><ci id="S2.E1.m1.5.5.cmml" xref="S2.E1.m1.5.5">𝑑</ci></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.7c">\theta_{\text{merged},j}=\sum_{i=1}^{K}w_{i}\theta_{\text{i,j}},\ \ \forall j%
\in\{1,\ldots,d\}</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.7d">italic_θ start_POSTSUBSCRIPT merged , italic_j end_POSTSUBSCRIPT = ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT italic_w start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_θ start_POSTSUBSCRIPT i,j end_POSTSUBSCRIPT , ∀ italic_j ∈ { 1 , … , italic_d }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS2.p1.10">where <math alttext="\theta_{i,j}" class="ltx_Math" display="inline" id="S2.SS2.p1.6.m1.2"><semantics id="S2.SS2.p1.6.m1.2a"><msub id="S2.SS2.p1.6.m1.2.3" xref="S2.SS2.p1.6.m1.2.3.cmml"><mi id="S2.SS2.p1.6.m1.2.3.2" xref="S2.SS2.p1.6.m1.2.3.2.cmml">θ</mi><mrow id="S2.SS2.p1.6.m1.2.2.2.4" xref="S2.SS2.p1.6.m1.2.2.2.3.cmml"><mi id="S2.SS2.p1.6.m1.1.1.1.1" xref="S2.SS2.p1.6.m1.1.1.1.1.cmml">i</mi><mo id="S2.SS2.p1.6.m1.2.2.2.4.1" xref="S2.SS2.p1.6.m1.2.2.2.3.cmml">,</mo><mi id="S2.SS2.p1.6.m1.2.2.2.2" xref="S2.SS2.p1.6.m1.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.6.m1.2b"><apply id="S2.SS2.p1.6.m1.2.3.cmml" xref="S2.SS2.p1.6.m1.2.3"><csymbol cd="ambiguous" id="S2.SS2.p1.6.m1.2.3.1.cmml" xref="S2.SS2.p1.6.m1.2.3">subscript</csymbol><ci id="S2.SS2.p1.6.m1.2.3.2.cmml" xref="S2.SS2.p1.6.m1.2.3.2">𝜃</ci><list id="S2.SS2.p1.6.m1.2.2.2.3.cmml" xref="S2.SS2.p1.6.m1.2.2.2.4"><ci id="S2.SS2.p1.6.m1.1.1.1.1.cmml" xref="S2.SS2.p1.6.m1.1.1.1.1">𝑖</ci><ci id="S2.SS2.p1.6.m1.2.2.2.2.cmml" xref="S2.SS2.p1.6.m1.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.6.m1.2c">\theta_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.6.m1.2d">italic_θ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is the parameter of the <math alttext="i" class="ltx_Math" display="inline" id="S2.SS2.p1.7.m2.1"><semantics id="S2.SS2.p1.7.m2.1a"><mi id="S2.SS2.p1.7.m2.1.1" xref="S2.SS2.p1.7.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.7.m2.1b"><ci id="S2.SS2.p1.7.m2.1.1.cmml" xref="S2.SS2.p1.7.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.7.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.7.m2.1d">italic_i</annotation></semantics></math>-th sub-model in dimension <math alttext="d" class="ltx_Math" display="inline" id="S2.SS2.p1.8.m3.1"><semantics id="S2.SS2.p1.8.m3.1a"><mi id="S2.SS2.p1.8.m3.1.1" xref="S2.SS2.p1.8.m3.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.8.m3.1b"><ci id="S2.SS2.p1.8.m3.1.1.cmml" xref="S2.SS2.p1.8.m3.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.8.m3.1c">d</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.8.m3.1d">italic_d</annotation></semantics></math>, <math alttext="w_{i}" class="ltx_Math" display="inline" id="S2.SS2.p1.9.m4.1"><semantics id="S2.SS2.p1.9.m4.1a"><msub id="S2.SS2.p1.9.m4.1.1" xref="S2.SS2.p1.9.m4.1.1.cmml"><mi id="S2.SS2.p1.9.m4.1.1.2" xref="S2.SS2.p1.9.m4.1.1.2.cmml">w</mi><mi id="S2.SS2.p1.9.m4.1.1.3" xref="S2.SS2.p1.9.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.9.m4.1b"><apply id="S2.SS2.p1.9.m4.1.1.cmml" xref="S2.SS2.p1.9.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.9.m4.1.1.1.cmml" xref="S2.SS2.p1.9.m4.1.1">subscript</csymbol><ci id="S2.SS2.p1.9.m4.1.1.2.cmml" xref="S2.SS2.p1.9.m4.1.1.2">𝑤</ci><ci id="S2.SS2.p1.9.m4.1.1.3.cmml" xref="S2.SS2.p1.9.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.9.m4.1c">w_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.9.m4.1d">italic_w start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the weight applied to <math alttext="\theta_{i,j}" class="ltx_Math" display="inline" id="S2.SS2.p1.10.m5.2"><semantics id="S2.SS2.p1.10.m5.2a"><msub id="S2.SS2.p1.10.m5.2.3" xref="S2.SS2.p1.10.m5.2.3.cmml"><mi id="S2.SS2.p1.10.m5.2.3.2" xref="S2.SS2.p1.10.m5.2.3.2.cmml">θ</mi><mrow id="S2.SS2.p1.10.m5.2.2.2.4" xref="S2.SS2.p1.10.m5.2.2.2.3.cmml"><mi id="S2.SS2.p1.10.m5.1.1.1.1" xref="S2.SS2.p1.10.m5.1.1.1.1.cmml">i</mi><mo id="S2.SS2.p1.10.m5.2.2.2.4.1" xref="S2.SS2.p1.10.m5.2.2.2.3.cmml">,</mo><mi id="S2.SS2.p1.10.m5.2.2.2.2" xref="S2.SS2.p1.10.m5.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.10.m5.2b"><apply id="S2.SS2.p1.10.m5.2.3.cmml" xref="S2.SS2.p1.10.m5.2.3"><csymbol cd="ambiguous" id="S2.SS2.p1.10.m5.2.3.1.cmml" xref="S2.SS2.p1.10.m5.2.3">subscript</csymbol><ci id="S2.SS2.p1.10.m5.2.3.2.cmml" xref="S2.SS2.p1.10.m5.2.3.2">𝜃</ci><list id="S2.SS2.p1.10.m5.2.2.2.3.cmml" xref="S2.SS2.p1.10.m5.2.2.2.4"><ci id="S2.SS2.p1.10.m5.1.1.1.1.cmml" xref="S2.SS2.p1.10.m5.1.1.1.1">𝑖</ci><ci id="S2.SS2.p1.10.m5.2.2.2.2.cmml" xref="S2.SS2.p1.10.m5.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.10.m5.2c">\theta_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.10.m5.2d">italic_θ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">Conversely, parameter-selection merging selects a parameter from a single sub-model for each dimension with probbability <math alttext="p_{i}" class="ltx_Math" display="inline" id="S2.SS2.p2.1.m1.1"><semantics id="S2.SS2.p2.1.m1.1a"><msub id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml"><mi id="S2.SS2.p2.1.m1.1.1.2" xref="S2.SS2.p2.1.m1.1.1.2.cmml">p</mi><mi id="S2.SS2.p2.1.m1.1.1.3" xref="S2.SS2.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.1b"><apply id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p2.1.m1.1.1.2.cmml" xref="S2.SS2.p2.1.m1.1.1.2">𝑝</ci><ci id="S2.SS2.p2.1.m1.1.1.3.cmml" xref="S2.SS2.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.1.m1.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, as represented by the formula:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S2.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\theta_{\text{merged},j}=\theta_{i,j}\text{ with }p_{i},\ \ \forall j\in\{1,%
\ldots,d\}" class="ltx_Math" display="block" id="S2.E2.m1.9"><semantics id="S2.E2.m1.9a"><mrow id="S2.E2.m1.9.9.2" xref="S2.E2.m1.9.9.3.cmml"><mrow id="S2.E2.m1.8.8.1.1" xref="S2.E2.m1.8.8.1.1.cmml"><msub id="S2.E2.m1.8.8.1.1.2" xref="S2.E2.m1.8.8.1.1.2.cmml"><mi id="S2.E2.m1.8.8.1.1.2.2" xref="S2.E2.m1.8.8.1.1.2.2.cmml">θ</mi><mrow id="S2.E2.m1.2.2.2.4" xref="S2.E2.m1.2.2.2.3.cmml"><mtext id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1a.cmml">merged</mtext><mo id="S2.E2.m1.2.2.2.4.1" xref="S2.E2.m1.2.2.2.3.cmml">,</mo><mi id="S2.E2.m1.2.2.2.2" xref="S2.E2.m1.2.2.2.2.cmml">j</mi></mrow></msub><mo id="S2.E2.m1.8.8.1.1.1" xref="S2.E2.m1.8.8.1.1.1.cmml">=</mo><mrow id="S2.E2.m1.8.8.1.1.3" xref="S2.E2.m1.8.8.1.1.3.cmml"><msub id="S2.E2.m1.8.8.1.1.3.2" xref="S2.E2.m1.8.8.1.1.3.2.cmml"><mi id="S2.E2.m1.8.8.1.1.3.2.2" xref="S2.E2.m1.8.8.1.1.3.2.2.cmml">θ</mi><mrow id="S2.E2.m1.4.4.2.4" xref="S2.E2.m1.4.4.2.3.cmml"><mi id="S2.E2.m1.3.3.1.1" xref="S2.E2.m1.3.3.1.1.cmml">i</mi><mo id="S2.E2.m1.4.4.2.4.1" xref="S2.E2.m1.4.4.2.3.cmml">,</mo><mi id="S2.E2.m1.4.4.2.2" xref="S2.E2.m1.4.4.2.2.cmml">j</mi></mrow></msub><mo id="S2.E2.m1.8.8.1.1.3.1" xref="S2.E2.m1.8.8.1.1.3.1.cmml">⁢</mo><mtext id="S2.E2.m1.8.8.1.1.3.3" xref="S2.E2.m1.8.8.1.1.3.3a.cmml">&nbsp;with&nbsp;</mtext><mo id="S2.E2.m1.8.8.1.1.3.1a" xref="S2.E2.m1.8.8.1.1.3.1.cmml">⁢</mo><msub id="S2.E2.m1.8.8.1.1.3.4" xref="S2.E2.m1.8.8.1.1.3.4.cmml"><mi id="S2.E2.m1.8.8.1.1.3.4.2" xref="S2.E2.m1.8.8.1.1.3.4.2.cmml">p</mi><mi id="S2.E2.m1.8.8.1.1.3.4.3" xref="S2.E2.m1.8.8.1.1.3.4.3.cmml">i</mi></msub></mrow></mrow><mo id="S2.E2.m1.9.9.2.3" rspace="1.167em" xref="S2.E2.m1.9.9.3a.cmml">,</mo><mrow id="S2.E2.m1.9.9.2.2" xref="S2.E2.m1.9.9.2.2.cmml"><mrow id="S2.E2.m1.9.9.2.2.2" xref="S2.E2.m1.9.9.2.2.2.cmml"><mo id="S2.E2.m1.9.9.2.2.2.1" rspace="0.167em" xref="S2.E2.m1.9.9.2.2.2.1.cmml">∀</mo><mi id="S2.E2.m1.9.9.2.2.2.2" xref="S2.E2.m1.9.9.2.2.2.2.cmml">j</mi></mrow><mo id="S2.E2.m1.9.9.2.2.1" xref="S2.E2.m1.9.9.2.2.1.cmml">∈</mo><mrow id="S2.E2.m1.9.9.2.2.3.2" xref="S2.E2.m1.9.9.2.2.3.1.cmml"><mo id="S2.E2.m1.9.9.2.2.3.2.1" stretchy="false" xref="S2.E2.m1.9.9.2.2.3.1.cmml">{</mo><mn id="S2.E2.m1.5.5" xref="S2.E2.m1.5.5.cmml">1</mn><mo id="S2.E2.m1.9.9.2.2.3.2.2" xref="S2.E2.m1.9.9.2.2.3.1.cmml">,</mo><mi id="S2.E2.m1.6.6" mathvariant="normal" xref="S2.E2.m1.6.6.cmml">…</mi><mo id="S2.E2.m1.9.9.2.2.3.2.3" xref="S2.E2.m1.9.9.2.2.3.1.cmml">,</mo><mi id="S2.E2.m1.7.7" xref="S2.E2.m1.7.7.cmml">d</mi><mo id="S2.E2.m1.9.9.2.2.3.2.4" stretchy="false" xref="S2.E2.m1.9.9.2.2.3.1.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.9b"><apply id="S2.E2.m1.9.9.3.cmml" xref="S2.E2.m1.9.9.2"><csymbol cd="ambiguous" id="S2.E2.m1.9.9.3a.cmml" xref="S2.E2.m1.9.9.2.3">formulae-sequence</csymbol><apply id="S2.E2.m1.8.8.1.1.cmml" xref="S2.E2.m1.8.8.1.1"><eq id="S2.E2.m1.8.8.1.1.1.cmml" xref="S2.E2.m1.8.8.1.1.1"></eq><apply id="S2.E2.m1.8.8.1.1.2.cmml" xref="S2.E2.m1.8.8.1.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.8.8.1.1.2.1.cmml" xref="S2.E2.m1.8.8.1.1.2">subscript</csymbol><ci id="S2.E2.m1.8.8.1.1.2.2.cmml" xref="S2.E2.m1.8.8.1.1.2.2">𝜃</ci><list id="S2.E2.m1.2.2.2.3.cmml" xref="S2.E2.m1.2.2.2.4"><ci id="S2.E2.m1.1.1.1.1a.cmml" xref="S2.E2.m1.1.1.1.1"><mtext id="S2.E2.m1.1.1.1.1.cmml" mathsize="70%" xref="S2.E2.m1.1.1.1.1">merged</mtext></ci><ci id="S2.E2.m1.2.2.2.2.cmml" xref="S2.E2.m1.2.2.2.2">𝑗</ci></list></apply><apply id="S2.E2.m1.8.8.1.1.3.cmml" xref="S2.E2.m1.8.8.1.1.3"><times id="S2.E2.m1.8.8.1.1.3.1.cmml" xref="S2.E2.m1.8.8.1.1.3.1"></times><apply id="S2.E2.m1.8.8.1.1.3.2.cmml" xref="S2.E2.m1.8.8.1.1.3.2"><csymbol cd="ambiguous" id="S2.E2.m1.8.8.1.1.3.2.1.cmml" xref="S2.E2.m1.8.8.1.1.3.2">subscript</csymbol><ci id="S2.E2.m1.8.8.1.1.3.2.2.cmml" xref="S2.E2.m1.8.8.1.1.3.2.2">𝜃</ci><list id="S2.E2.m1.4.4.2.3.cmml" xref="S2.E2.m1.4.4.2.4"><ci id="S2.E2.m1.3.3.1.1.cmml" xref="S2.E2.m1.3.3.1.1">𝑖</ci><ci id="S2.E2.m1.4.4.2.2.cmml" xref="S2.E2.m1.4.4.2.2">𝑗</ci></list></apply><ci id="S2.E2.m1.8.8.1.1.3.3a.cmml" xref="S2.E2.m1.8.8.1.1.3.3"><mtext id="S2.E2.m1.8.8.1.1.3.3.cmml" xref="S2.E2.m1.8.8.1.1.3.3">&nbsp;with&nbsp;</mtext></ci><apply id="S2.E2.m1.8.8.1.1.3.4.cmml" xref="S2.E2.m1.8.8.1.1.3.4"><csymbol cd="ambiguous" id="S2.E2.m1.8.8.1.1.3.4.1.cmml" xref="S2.E2.m1.8.8.1.1.3.4">subscript</csymbol><ci id="S2.E2.m1.8.8.1.1.3.4.2.cmml" xref="S2.E2.m1.8.8.1.1.3.4.2">𝑝</ci><ci id="S2.E2.m1.8.8.1.1.3.4.3.cmml" xref="S2.E2.m1.8.8.1.1.3.4.3">𝑖</ci></apply></apply></apply><apply id="S2.E2.m1.9.9.2.2.cmml" xref="S2.E2.m1.9.9.2.2"><in id="S2.E2.m1.9.9.2.2.1.cmml" xref="S2.E2.m1.9.9.2.2.1"></in><apply id="S2.E2.m1.9.9.2.2.2.cmml" xref="S2.E2.m1.9.9.2.2.2"><csymbol cd="latexml" id="S2.E2.m1.9.9.2.2.2.1.cmml" xref="S2.E2.m1.9.9.2.2.2.1">for-all</csymbol><ci id="S2.E2.m1.9.9.2.2.2.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2">𝑗</ci></apply><set id="S2.E2.m1.9.9.2.2.3.1.cmml" xref="S2.E2.m1.9.9.2.2.3.2"><cn id="S2.E2.m1.5.5.cmml" type="integer" xref="S2.E2.m1.5.5">1</cn><ci id="S2.E2.m1.6.6.cmml" xref="S2.E2.m1.6.6">…</ci><ci id="S2.E2.m1.7.7.cmml" xref="S2.E2.m1.7.7">𝑑</ci></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.9c">\theta_{\text{merged},j}=\theta_{i,j}\text{ with }p_{i},\ \ \forall j\in\{1,%
\ldots,d\}</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m1.9d">italic_θ start_POSTSUBSCRIPT merged , italic_j end_POSTSUBSCRIPT = italic_θ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT with italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , ∀ italic_j ∈ { 1 , … , italic_d }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS2.p2.4">where <math alttext="p_{i}" class="ltx_Math" display="inline" id="S2.SS2.p2.2.m1.1"><semantics id="S2.SS2.p2.2.m1.1a"><msub id="S2.SS2.p2.2.m1.1.1" xref="S2.SS2.p2.2.m1.1.1.cmml"><mi id="S2.SS2.p2.2.m1.1.1.2" xref="S2.SS2.p2.2.m1.1.1.2.cmml">p</mi><mi id="S2.SS2.p2.2.m1.1.1.3" xref="S2.SS2.p2.2.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.2.m1.1b"><apply id="S2.SS2.p2.2.m1.1.1.cmml" xref="S2.SS2.p2.2.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.2.m1.1.1.1.cmml" xref="S2.SS2.p2.2.m1.1.1">subscript</csymbol><ci id="S2.SS2.p2.2.m1.1.1.2.cmml" xref="S2.SS2.p2.2.m1.1.1.2">𝑝</ci><ci id="S2.SS2.p2.2.m1.1.1.3.cmml" xref="S2.SS2.p2.2.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.2.m1.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.2.m1.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the probability that <math alttext="\theta_{i,j}" class="ltx_Math" display="inline" id="S2.SS2.p2.3.m2.2"><semantics id="S2.SS2.p2.3.m2.2a"><msub id="S2.SS2.p2.3.m2.2.3" xref="S2.SS2.p2.3.m2.2.3.cmml"><mi id="S2.SS2.p2.3.m2.2.3.2" xref="S2.SS2.p2.3.m2.2.3.2.cmml">θ</mi><mrow id="S2.SS2.p2.3.m2.2.2.2.4" xref="S2.SS2.p2.3.m2.2.2.2.3.cmml"><mi id="S2.SS2.p2.3.m2.1.1.1.1" xref="S2.SS2.p2.3.m2.1.1.1.1.cmml">i</mi><mo id="S2.SS2.p2.3.m2.2.2.2.4.1" xref="S2.SS2.p2.3.m2.2.2.2.3.cmml">,</mo><mi id="S2.SS2.p2.3.m2.2.2.2.2" xref="S2.SS2.p2.3.m2.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.3.m2.2b"><apply id="S2.SS2.p2.3.m2.2.3.cmml" xref="S2.SS2.p2.3.m2.2.3"><csymbol cd="ambiguous" id="S2.SS2.p2.3.m2.2.3.1.cmml" xref="S2.SS2.p2.3.m2.2.3">subscript</csymbol><ci id="S2.SS2.p2.3.m2.2.3.2.cmml" xref="S2.SS2.p2.3.m2.2.3.2">𝜃</ci><list id="S2.SS2.p2.3.m2.2.2.2.3.cmml" xref="S2.SS2.p2.3.m2.2.2.2.4"><ci id="S2.SS2.p2.3.m2.1.1.1.1.cmml" xref="S2.SS2.p2.3.m2.1.1.1.1">𝑖</ci><ci id="S2.SS2.p2.3.m2.2.2.2.2.cmml" xref="S2.SS2.p2.3.m2.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.3.m2.2c">\theta_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.3.m2.2d">italic_θ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is selected.
Given that each sub-model in our method is fine-tuned on the same training dataset and thus has nearly identical performance, we assign equal weights and selection probabilities among sub-models, set as:
<math alttext="w_{i}=\frac{1}{K},p_{i}=\frac{1}{K}." class="ltx_Math" display="inline" id="S2.SS2.p2.4.m3.1"><semantics id="S2.SS2.p2.4.m3.1a"><mrow id="S2.SS2.p2.4.m3.1.1.1"><mrow id="S2.SS2.p2.4.m3.1.1.1.1.2" xref="S2.SS2.p2.4.m3.1.1.1.1.3.cmml"><mrow id="S2.SS2.p2.4.m3.1.1.1.1.1.1" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.cmml"><msub id="S2.SS2.p2.4.m3.1.1.1.1.1.1.2" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.cmml"><mi id="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.2" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.2.cmml">w</mi><mi id="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.3" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo id="S2.SS2.p2.4.m3.1.1.1.1.1.1.1" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.1.cmml">=</mo><mfrac id="S2.SS2.p2.4.m3.1.1.1.1.1.1.3" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.cmml"><mn id="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.2" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.2.cmml">1</mn><mi id="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.3" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.3.cmml">K</mi></mfrac></mrow><mo id="S2.SS2.p2.4.m3.1.1.1.1.2.3" xref="S2.SS2.p2.4.m3.1.1.1.1.3a.cmml">,</mo><mrow id="S2.SS2.p2.4.m3.1.1.1.1.2.2" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.cmml"><msub id="S2.SS2.p2.4.m3.1.1.1.1.2.2.2" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.cmml"><mi id="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.2" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.2.cmml">p</mi><mi id="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.3" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.3.cmml">i</mi></msub><mo id="S2.SS2.p2.4.m3.1.1.1.1.2.2.1" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.1.cmml">=</mo><mfrac id="S2.SS2.p2.4.m3.1.1.1.1.2.2.3" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.cmml"><mn id="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.2" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.2.cmml">1</mn><mi id="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.3" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.3.cmml">K</mi></mfrac></mrow></mrow><mo id="S2.SS2.p2.4.m3.1.1.1.2" lspace="0em">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.4.m3.1b"><apply id="S2.SS2.p2.4.m3.1.1.1.1.3.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p2.4.m3.1.1.1.1.3a.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S2.SS2.p2.4.m3.1.1.1.1.1.1.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1"><eq id="S2.SS2.p2.4.m3.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.1"></eq><apply id="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.1.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.2.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.2">𝑤</ci><ci id="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.3.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.3"><divide id="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.1.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.3"></divide><cn id="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.2">1</cn><ci id="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.3.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.1.1.3.3">𝐾</ci></apply></apply><apply id="S2.SS2.p2.4.m3.1.1.1.1.2.2.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2"><eq id="S2.SS2.p2.4.m3.1.1.1.1.2.2.1.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.1"></eq><apply id="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.1.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.2">subscript</csymbol><ci id="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.2.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.2">𝑝</ci><ci id="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.3.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.2.3">𝑖</ci></apply><apply id="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.3"><divide id="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.1.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.3"></divide><cn id="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.2.cmml" type="integer" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.2">1</cn><ci id="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.3.cmml" xref="S2.SS2.p2.4.m3.1.1.1.1.2.2.3.3">𝐾</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.4.m3.1c">w_{i}=\frac{1}{K},p_{i}=\frac{1}{K}.</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.4.m3.1d">italic_w start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG italic_K end_ARG , italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG italic_K end_ARG .</annotation></semantics></math></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S2.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="388" id="S2.F2.g1" src="https://arxiv.org/html/2410.03743v1/x2.png" width="830">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Illustration comparing weighted-average method and the proposed parameter-selection method.
Weighted-average merging calculates the weighted sum of all sub-model parameters at each parameter dimension, whereas parameter-selection merging selects parameters from a single sub-model.
In the resampling module, parameters that equal those of the base model are replaced with parameters from alternative models.
</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<figure class="ltx_table" id="S2.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S2.T1.1" style="width:411.9pt;height:95.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-27.1pt,6.3pt) scale(0.883800129331908,0.883800129331908) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S2.T1.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S2.T1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S2.T1.1.1.1.2" rowspan="2"><span class="ltx_text" id="S2.T1.1.1.1.2.1">Method / Task</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.3">AlpacaEval</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.4">GSM8K</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.5">GSM8K-RFT</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.6">MATH</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.7">HumanEval</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.1" rowspan="2"><span class="ltx_text" id="S2.T1.1.1.1.1.1">Avg <math alttext="\Delta" class="ltx_Math" display="inline" id="S2.T1.1.1.1.1.1.m1.1"><semantics id="S2.T1.1.1.1.1.1.m1.1a"><mi id="S2.T1.1.1.1.1.1.m1.1.1" mathvariant="normal" xref="S2.T1.1.1.1.1.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S2.T1.1.1.1.1.1.m1.1b"><ci id="S2.T1.1.1.1.1.1.m1.1.1.cmml" xref="S2.T1.1.1.1.1.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.T1.1.1.1.1.1.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="S2.T1.1.1.1.1.1.m1.1d">roman_Δ</annotation></semantics></math></span></td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.2.1">
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.2.1.1">win-rate</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.2.1.2">acc</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.2.1.3">acc</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.2.1.4">acc</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.2.1.5">pass@1</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S2.T1.1.1.3.2.1">single SFT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.3.2.2">24.25</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.3.2.3">41.29</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.3.2.4">52.74</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.3.2.5">10.36</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.3.2.6">26.82</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.3.2.7">-</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S2.T1.1.1.4.3.1">weighted-avg</th>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.3.2">24.97(<span class="ltx_text" id="S2.T1.1.1.4.3.2.1" style="color:#FF0000;">+0.72</span>)</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.3.3">44.35(<span class="ltx_text" id="S2.T1.1.1.4.3.3.1" style="color:#FF0000;">+3.06</span>)</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.3.4">53.29(<span class="ltx_text" id="S2.T1.1.1.4.3.4.1" style="color:#FF0000;">+0.88</span>)</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.3.5">11.24(<span class="ltx_text" id="S2.T1.1.1.4.3.5.1" style="color:#FF0000;">+0.55</span>)</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.3.6">26.22(<span class="ltx_text" id="S2.T1.1.1.4.3.6.1" style="color:#008000;">-0.60</span>)</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.3.7">+ 0.92</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S2.T1.1.1.5.4.1">param-selection</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.5.4.2">25.66(<span class="ltx_text" id="S2.T1.1.1.5.4.2.1" style="color:#FF0000;">+1.41</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.5.4.3">44.73(<span class="ltx_text" id="S2.T1.1.1.5.4.3.1" style="color:#FF0000;">+3.44</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.5.4.4">53.35(<span class="ltx_text" id="S2.T1.1.1.5.4.4.1" style="color:#FF0000;">+0.61</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.5.4.5">11.37(<span class="ltx_text" id="S2.T1.1.1.5.4.5.1" style="color:#FF0000;">+1.01</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.5.4.6">27.43(<span class="ltx_text" id="S2.T1.1.1.5.4.6.1" style="color:#FF0000;">+0.61</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.5.4.7">+ 1.42</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S2.T1.1.1.6.5.1">. + resample</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T1.1.1.6.5.2">
<span class="ltx_text ltx_font_bold" id="S2.T1.1.1.6.5.2.1">25.91</span>(<span class="ltx_text" id="S2.T1.1.1.6.5.2.2" style="color:#FF0000;">+1.66</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T1.1.1.6.5.3">
<span class="ltx_text ltx_font_bold" id="S2.T1.1.1.6.5.3.1">45.26</span>(<span class="ltx_text" id="S2.T1.1.1.6.5.3.2" style="color:#FF0000;">+3.97</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T1.1.1.6.5.4">
<span class="ltx_text ltx_font_bold" id="S2.T1.1.1.6.5.4.1">54.32</span>(<span class="ltx_text" id="S2.T1.1.1.6.5.4.2" style="color:#FF0000;">+1.58</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T1.1.1.6.5.5">
<span class="ltx_text ltx_font_bold" id="S2.T1.1.1.6.5.5.1">12.00</span>(<span class="ltx_text" id="S2.T1.1.1.6.5.5.2" style="color:#FF0000;">+1.64</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T1.1.1.6.5.6">
<span class="ltx_text ltx_font_bold" id="S2.T1.1.1.6.5.6.1">28.05</span>(<span class="ltx_text" id="S2.T1.1.1.6.5.6.2" style="color:#FF0000;">+1.23</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T1.1.1.6.5.7"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.6.5.7.1">+ 2.02</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Performance comparison of weighted-average and parameter-selection merging based on Llama-2-7b. "weighted-avg" means weighted-average and "param-selection" means parameter-selection merging method. </figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Resample Strategy</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.4"><span class="ltx_text ltx_font_bold" id="S2.SS3.p1.4.1">Task Vectors</span>.
Let <math alttext="\boldsymbol{\theta}_{\text{pre}}" class="ltx_Math" display="inline" id="S2.SS3.p1.1.m1.1"><semantics id="S2.SS3.p1.1.m1.1a"><msub id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml"><mi id="S2.SS3.p1.1.m1.1.1.2" xref="S2.SS3.p1.1.m1.1.1.2.cmml">𝜽</mi><mtext id="S2.SS3.p1.1.m1.1.1.3" xref="S2.SS3.p1.1.m1.1.1.3a.cmml">pre</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.1b"><apply id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS3.p1.1.m1.1.1.2.cmml" xref="S2.SS3.p1.1.m1.1.1.2">𝜽</ci><ci id="S2.SS3.p1.1.m1.1.1.3a.cmml" xref="S2.SS3.p1.1.m1.1.1.3"><mtext id="S2.SS3.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S2.SS3.p1.1.m1.1.1.3">pre</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.1c">\boldsymbol{\theta}_{\text{pre}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.1.m1.1d">bold_italic_θ start_POSTSUBSCRIPT pre end_POSTSUBSCRIPT</annotation></semantics></math> represent the pre-trained model’s weights and <math alttext="\boldsymbol{\theta}_{\text{SFT}}" class="ltx_Math" display="inline" id="S2.SS3.p1.2.m2.1"><semantics id="S2.SS3.p1.2.m2.1a"><msub id="S2.SS3.p1.2.m2.1.1" xref="S2.SS3.p1.2.m2.1.1.cmml"><mi id="S2.SS3.p1.2.m2.1.1.2" xref="S2.SS3.p1.2.m2.1.1.2.cmml">𝜽</mi><mtext id="S2.SS3.p1.2.m2.1.1.3" xref="S2.SS3.p1.2.m2.1.1.3a.cmml">SFT</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m2.1b"><apply id="S2.SS3.p1.2.m2.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.2.m2.1.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1">subscript</csymbol><ci id="S2.SS3.p1.2.m2.1.1.2.cmml" xref="S2.SS3.p1.2.m2.1.1.2">𝜽</ci><ci id="S2.SS3.p1.2.m2.1.1.3a.cmml" xref="S2.SS3.p1.2.m2.1.1.3"><mtext id="S2.SS3.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S2.SS3.p1.2.m2.1.1.3">SFT</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m2.1c">\boldsymbol{\theta}_{\text{SFT}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.2.m2.1d">bold_italic_θ start_POSTSUBSCRIPT SFT end_POSTSUBSCRIPT</annotation></semantics></math> denote the SFT model ’s weights. The task vector <math alttext="\tau" class="ltx_Math" display="inline" id="S2.SS3.p1.3.m3.1"><semantics id="S2.SS3.p1.3.m3.1a"><mi id="S2.SS3.p1.3.m3.1.1" xref="S2.SS3.p1.3.m3.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.3.m3.1b"><ci id="S2.SS3.p1.3.m3.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.3.m3.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.3.m3.1d">italic_τ</annotation></semantics></math> is defined to capture task-specific adaptations, calculated as: <math alttext="\boldsymbol{\tau}=\boldsymbol{\theta}_{\text{SFT}}-\boldsymbol{\theta}_{\text{%
pre}}" class="ltx_Math" display="inline" id="S2.SS3.p1.4.m4.1"><semantics id="S2.SS3.p1.4.m4.1a"><mrow id="S2.SS3.p1.4.m4.1.1" xref="S2.SS3.p1.4.m4.1.1.cmml"><mi id="S2.SS3.p1.4.m4.1.1.2" xref="S2.SS3.p1.4.m4.1.1.2.cmml">𝝉</mi><mo id="S2.SS3.p1.4.m4.1.1.1" xref="S2.SS3.p1.4.m4.1.1.1.cmml">=</mo><mrow id="S2.SS3.p1.4.m4.1.1.3" xref="S2.SS3.p1.4.m4.1.1.3.cmml"><msub id="S2.SS3.p1.4.m4.1.1.3.2" xref="S2.SS3.p1.4.m4.1.1.3.2.cmml"><mi id="S2.SS3.p1.4.m4.1.1.3.2.2" xref="S2.SS3.p1.4.m4.1.1.3.2.2.cmml">𝜽</mi><mtext id="S2.SS3.p1.4.m4.1.1.3.2.3" xref="S2.SS3.p1.4.m4.1.1.3.2.3a.cmml">SFT</mtext></msub><mo id="S2.SS3.p1.4.m4.1.1.3.1" xref="S2.SS3.p1.4.m4.1.1.3.1.cmml">−</mo><msub id="S2.SS3.p1.4.m4.1.1.3.3" xref="S2.SS3.p1.4.m4.1.1.3.3.cmml"><mi id="S2.SS3.p1.4.m4.1.1.3.3.2" xref="S2.SS3.p1.4.m4.1.1.3.3.2.cmml">𝜽</mi><mtext id="S2.SS3.p1.4.m4.1.1.3.3.3" xref="S2.SS3.p1.4.m4.1.1.3.3.3a.cmml">pre</mtext></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.4.m4.1b"><apply id="S2.SS3.p1.4.m4.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1"><eq id="S2.SS3.p1.4.m4.1.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1.1"></eq><ci id="S2.SS3.p1.4.m4.1.1.2.cmml" xref="S2.SS3.p1.4.m4.1.1.2">𝝉</ci><apply id="S2.SS3.p1.4.m4.1.1.3.cmml" xref="S2.SS3.p1.4.m4.1.1.3"><minus id="S2.SS3.p1.4.m4.1.1.3.1.cmml" xref="S2.SS3.p1.4.m4.1.1.3.1"></minus><apply id="S2.SS3.p1.4.m4.1.1.3.2.cmml" xref="S2.SS3.p1.4.m4.1.1.3.2"><csymbol cd="ambiguous" id="S2.SS3.p1.4.m4.1.1.3.2.1.cmml" xref="S2.SS3.p1.4.m4.1.1.3.2">subscript</csymbol><ci id="S2.SS3.p1.4.m4.1.1.3.2.2.cmml" xref="S2.SS3.p1.4.m4.1.1.3.2.2">𝜽</ci><ci id="S2.SS3.p1.4.m4.1.1.3.2.3a.cmml" xref="S2.SS3.p1.4.m4.1.1.3.2.3"><mtext id="S2.SS3.p1.4.m4.1.1.3.2.3.cmml" mathsize="70%" xref="S2.SS3.p1.4.m4.1.1.3.2.3">SFT</mtext></ci></apply><apply id="S2.SS3.p1.4.m4.1.1.3.3.cmml" xref="S2.SS3.p1.4.m4.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS3.p1.4.m4.1.1.3.3.1.cmml" xref="S2.SS3.p1.4.m4.1.1.3.3">subscript</csymbol><ci id="S2.SS3.p1.4.m4.1.1.3.3.2.cmml" xref="S2.SS3.p1.4.m4.1.1.3.3.2">𝜽</ci><ci id="S2.SS3.p1.4.m4.1.1.3.3.3a.cmml" xref="S2.SS3.p1.4.m4.1.1.3.3.3"><mtext id="S2.SS3.p1.4.m4.1.1.3.3.3.cmml" mathsize="70%" xref="S2.SS3.p1.4.m4.1.1.3.3.3">pre</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.4.m4.1c">\boldsymbol{\tau}=\boldsymbol{\theta}_{\text{SFT}}-\boldsymbol{\theta}_{\text{%
pre}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.4.m4.1d">bold_italic_τ = bold_italic_θ start_POSTSUBSCRIPT SFT end_POSTSUBSCRIPT - bold_italic_θ start_POSTSUBSCRIPT pre end_POSTSUBSCRIPT</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Ilharco et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib10" title="">2022</a>)</cite>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para" id="S2.SS3.p2">
<p class="ltx_p" id="S2.SS3.p2.6">Guided by the intention to maximize the impact of task vectors, we introduce a resampling method within the parameter-selection merging framework to further improve task performance.
<math alttext="\tau_{i,j}" class="ltx_Math" display="inline" id="S2.SS3.p2.1.m1.2"><semantics id="S2.SS3.p2.1.m1.2a"><msub id="S2.SS3.p2.1.m1.2.3" xref="S2.SS3.p2.1.m1.2.3.cmml"><mi id="S2.SS3.p2.1.m1.2.3.2" xref="S2.SS3.p2.1.m1.2.3.2.cmml">τ</mi><mrow id="S2.SS3.p2.1.m1.2.2.2.4" xref="S2.SS3.p2.1.m1.2.2.2.3.cmml"><mi id="S2.SS3.p2.1.m1.1.1.1.1" xref="S2.SS3.p2.1.m1.1.1.1.1.cmml">i</mi><mo id="S2.SS3.p2.1.m1.2.2.2.4.1" xref="S2.SS3.p2.1.m1.2.2.2.3.cmml">,</mo><mi id="S2.SS3.p2.1.m1.2.2.2.2" xref="S2.SS3.p2.1.m1.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.1.m1.2b"><apply id="S2.SS3.p2.1.m1.2.3.cmml" xref="S2.SS3.p2.1.m1.2.3"><csymbol cd="ambiguous" id="S2.SS3.p2.1.m1.2.3.1.cmml" xref="S2.SS3.p2.1.m1.2.3">subscript</csymbol><ci id="S2.SS3.p2.1.m1.2.3.2.cmml" xref="S2.SS3.p2.1.m1.2.3.2">𝜏</ci><list id="S2.SS3.p2.1.m1.2.2.2.3.cmml" xref="S2.SS3.p2.1.m1.2.2.2.4"><ci id="S2.SS3.p2.1.m1.1.1.1.1.cmml" xref="S2.SS3.p2.1.m1.1.1.1.1">𝑖</ci><ci id="S2.SS3.p2.1.m1.2.2.2.2.cmml" xref="S2.SS3.p2.1.m1.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.1.m1.2c">\tau_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.1.m1.2d">italic_τ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math> represents the task vector of the <math alttext="i" class="ltx_Math" display="inline" id="S2.SS3.p2.2.m2.1"><semantics id="S2.SS3.p2.2.m2.1a"><mi id="S2.SS3.p2.2.m2.1.1" xref="S2.SS3.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.2.m2.1b"><ci id="S2.SS3.p2.2.m2.1.1.cmml" xref="S2.SS3.p2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.2.m2.1d">italic_i</annotation></semantics></math>-th sub-model at parameter dimension <math alttext="j" class="ltx_Math" display="inline" id="S2.SS3.p2.3.m3.1"><semantics id="S2.SS3.p2.3.m3.1a"><mi id="S2.SS3.p2.3.m3.1.1" xref="S2.SS3.p2.3.m3.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.3.m3.1b"><ci id="S2.SS3.p2.3.m3.1.1.cmml" xref="S2.SS3.p2.3.m3.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.3.m3.1c">j</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.3.m3.1d">italic_j</annotation></semantics></math>.
As depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S2.F2" title="Figure 2 ‣ 2.2 Parameter-Selection Merging ‣ 2 Method ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">2</span></a>, if <math alttext="\tau_{i,j}=0" class="ltx_Math" display="inline" id="S2.SS3.p2.4.m4.2"><semantics id="S2.SS3.p2.4.m4.2a"><mrow id="S2.SS3.p2.4.m4.2.3" xref="S2.SS3.p2.4.m4.2.3.cmml"><msub id="S2.SS3.p2.4.m4.2.3.2" xref="S2.SS3.p2.4.m4.2.3.2.cmml"><mi id="S2.SS3.p2.4.m4.2.3.2.2" xref="S2.SS3.p2.4.m4.2.3.2.2.cmml">τ</mi><mrow id="S2.SS3.p2.4.m4.2.2.2.4" xref="S2.SS3.p2.4.m4.2.2.2.3.cmml"><mi id="S2.SS3.p2.4.m4.1.1.1.1" xref="S2.SS3.p2.4.m4.1.1.1.1.cmml">i</mi><mo id="S2.SS3.p2.4.m4.2.2.2.4.1" xref="S2.SS3.p2.4.m4.2.2.2.3.cmml">,</mo><mi id="S2.SS3.p2.4.m4.2.2.2.2" xref="S2.SS3.p2.4.m4.2.2.2.2.cmml">j</mi></mrow></msub><mo id="S2.SS3.p2.4.m4.2.3.1" xref="S2.SS3.p2.4.m4.2.3.1.cmml">=</mo><mn id="S2.SS3.p2.4.m4.2.3.3" xref="S2.SS3.p2.4.m4.2.3.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.4.m4.2b"><apply id="S2.SS3.p2.4.m4.2.3.cmml" xref="S2.SS3.p2.4.m4.2.3"><eq id="S2.SS3.p2.4.m4.2.3.1.cmml" xref="S2.SS3.p2.4.m4.2.3.1"></eq><apply id="S2.SS3.p2.4.m4.2.3.2.cmml" xref="S2.SS3.p2.4.m4.2.3.2"><csymbol cd="ambiguous" id="S2.SS3.p2.4.m4.2.3.2.1.cmml" xref="S2.SS3.p2.4.m4.2.3.2">subscript</csymbol><ci id="S2.SS3.p2.4.m4.2.3.2.2.cmml" xref="S2.SS3.p2.4.m4.2.3.2.2">𝜏</ci><list id="S2.SS3.p2.4.m4.2.2.2.3.cmml" xref="S2.SS3.p2.4.m4.2.2.2.4"><ci id="S2.SS3.p2.4.m4.1.1.1.1.cmml" xref="S2.SS3.p2.4.m4.1.1.1.1">𝑖</ci><ci id="S2.SS3.p2.4.m4.2.2.2.2.cmml" xref="S2.SS3.p2.4.m4.2.2.2.2">𝑗</ci></list></apply><cn id="S2.SS3.p2.4.m4.2.3.3.cmml" type="integer" xref="S2.SS3.p2.4.m4.2.3.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.4.m4.2c">\tau_{i,j}=0</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.4.m4.2d">italic_τ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT = 0</annotation></semantics></math>, indicating that no parameter change occurred after fine-tuning, a new parameter is resampled from the pool of all sub-models.<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>This strategy enables parallel tensor operations by including all sub-models in resampling, not just the remaining ones.</span></span></span> This procedure can be iterated <math alttext="n" class="ltx_Math" display="inline" id="S2.SS3.p2.5.m5.1"><semantics id="S2.SS3.p2.5.m5.1a"><mi id="S2.SS3.p2.5.m5.1.1" xref="S2.SS3.p2.5.m5.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.5.m5.1b"><ci id="S2.SS3.p2.5.m5.1.1.cmml" xref="S2.SS3.p2.5.m5.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.5.m5.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.5.m5.1d">italic_n</annotation></semantics></math> times, where <math alttext="n" class="ltx_Math" display="inline" id="S2.SS3.p2.6.m6.1"><semantics id="S2.SS3.p2.6.m6.1a"><mi id="S2.SS3.p2.6.m6.1.1" xref="S2.SS3.p2.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.6.m6.1b"><ci id="S2.SS3.p2.6.m6.1.1.cmml" xref="S2.SS3.p2.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.6.m6.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.6.m6.1d">italic_n</annotation></semantics></math> is a predefined hyperparameter, as formalized below:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<table class="ltx_equation ltx_eqn_table" id="S2.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\theta_{\text{merged},j}^{(n)}=\begin{cases}\theta_{i,j}&amp;\text{if }\tau_{i,j}%
\neq 0\text{ or }n=0,\\
\theta_{\text{merged},j}^{(n-1)}&amp;\text{others},\end{cases}" class="ltx_Math" display="block" id="S2.E3.m1.7"><semantics id="S2.E3.m1.7a"><mrow id="S2.E3.m1.7.8" xref="S2.E3.m1.7.8.cmml"><msubsup id="S2.E3.m1.7.8.2" xref="S2.E3.m1.7.8.2.cmml"><mi id="S2.E3.m1.7.8.2.2.2" xref="S2.E3.m1.7.8.2.2.2.cmml">θ</mi><mrow id="S2.E3.m1.6.6.2.4" xref="S2.E3.m1.6.6.2.3.cmml"><mtext id="S2.E3.m1.5.5.1.1" xref="S2.E3.m1.5.5.1.1a.cmml">merged</mtext><mo id="S2.E3.m1.6.6.2.4.1" xref="S2.E3.m1.6.6.2.3.cmml">,</mo><mi id="S2.E3.m1.6.6.2.2" xref="S2.E3.m1.6.6.2.2.cmml">j</mi></mrow><mrow id="S2.E3.m1.7.7.1.3" xref="S2.E3.m1.7.8.2.cmml"><mo id="S2.E3.m1.7.7.1.3.1" stretchy="false" xref="S2.E3.m1.7.8.2.cmml">(</mo><mi id="S2.E3.m1.7.7.1.1" xref="S2.E3.m1.7.7.1.1.cmml">n</mi><mo id="S2.E3.m1.7.7.1.3.2" stretchy="false" xref="S2.E3.m1.7.8.2.cmml">)</mo></mrow></msubsup><mo id="S2.E3.m1.7.8.1" xref="S2.E3.m1.7.8.1.cmml">=</mo><mrow id="S2.E3.m1.4.4" xref="S2.E3.m1.7.8.3.1.cmml"><mo id="S2.E3.m1.4.4.5" xref="S2.E3.m1.7.8.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" id="S2.E3.m1.4.4.4" rowspacing="0pt" xref="S2.E3.m1.7.8.3.1.cmml"><mtr id="S2.E3.m1.4.4.4a" xref="S2.E3.m1.7.8.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E3.m1.4.4.4b" xref="S2.E3.m1.7.8.3.1.cmml"><msub id="S2.E3.m1.1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.1.cmml"><mi id="S2.E3.m1.1.1.1.1.1.1.4" xref="S2.E3.m1.1.1.1.1.1.1.4.cmml">θ</mi><mrow id="S2.E3.m1.1.1.1.1.1.1.2.2.4" xref="S2.E3.m1.1.1.1.1.1.1.2.2.3.cmml"><mi id="S2.E3.m1.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.1.1.1.1.cmml">i</mi><mo id="S2.E3.m1.1.1.1.1.1.1.2.2.4.1" xref="S2.E3.m1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mi id="S2.E3.m1.1.1.1.1.1.1.2.2.2" xref="S2.E3.m1.1.1.1.1.1.1.2.2.2.cmml">j</mi></mrow></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E3.m1.4.4.4c" xref="S2.E3.m1.7.8.3.1.cmml"><mrow id="S2.E3.m1.2.2.2.2.2.1.3" xref="S2.E3.m1.2.2.2.2.2.1.3.1.cmml"><mrow id="S2.E3.m1.2.2.2.2.2.1.3.1" xref="S2.E3.m1.2.2.2.2.2.1.3.1.cmml"><mrow id="S2.E3.m1.2.2.2.2.2.1.3.1.2" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.cmml"><mtext id="S2.E3.m1.2.2.2.2.2.1.3.1.2.2" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.2a.cmml">if&nbsp;</mtext><mo id="S2.E3.m1.2.2.2.2.2.1.3.1.2.1" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.1.cmml">⁢</mo><msub id="S2.E3.m1.2.2.2.2.2.1.3.1.2.3" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.3.cmml"><mi id="S2.E3.m1.2.2.2.2.2.1.3.1.2.3.2" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.3.2.cmml">τ</mi><mrow id="S2.E3.m1.2.2.2.2.2.1.2.2.4" xref="S2.E3.m1.2.2.2.2.2.1.2.2.3.cmml"><mi id="S2.E3.m1.2.2.2.2.2.1.1.1.1" xref="S2.E3.m1.2.2.2.2.2.1.1.1.1.cmml">i</mi><mo id="S2.E3.m1.2.2.2.2.2.1.2.2.4.1" xref="S2.E3.m1.2.2.2.2.2.1.2.2.3.cmml">,</mo><mi id="S2.E3.m1.2.2.2.2.2.1.2.2.2" xref="S2.E3.m1.2.2.2.2.2.1.2.2.2.cmml">j</mi></mrow></msub></mrow><mo id="S2.E3.m1.2.2.2.2.2.1.3.1.3" xref="S2.E3.m1.2.2.2.2.2.1.3.1.3.cmml">≠</mo><mrow id="S2.E3.m1.2.2.2.2.2.1.3.1.4" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.cmml"><mn id="S2.E3.m1.2.2.2.2.2.1.3.1.4.2" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.2.cmml">0</mn><mo id="S2.E3.m1.2.2.2.2.2.1.3.1.4.1" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.1.cmml">⁢</mo><mtext id="S2.E3.m1.2.2.2.2.2.1.3.1.4.3" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.3a.cmml">&nbsp;or&nbsp;</mtext><mo id="S2.E3.m1.2.2.2.2.2.1.3.1.4.1a" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.1.cmml">⁢</mo><mi id="S2.E3.m1.2.2.2.2.2.1.3.1.4.4" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.4.cmml">n</mi></mrow><mo id="S2.E3.m1.2.2.2.2.2.1.3.1.5" xref="S2.E3.m1.2.2.2.2.2.1.3.1.5.cmml">=</mo><mn id="S2.E3.m1.2.2.2.2.2.1.3.1.6" xref="S2.E3.m1.2.2.2.2.2.1.3.1.6.cmml">0</mn></mrow><mo id="S2.E3.m1.2.2.2.2.2.1.3.2" xref="S2.E3.m1.2.2.2.2.2.1.3.1.cmml">,</mo></mrow></mtd></mtr><mtr id="S2.E3.m1.4.4.4d" xref="S2.E3.m1.7.8.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E3.m1.4.4.4e" xref="S2.E3.m1.7.8.3.1.cmml"><msubsup id="S2.E3.m1.3.3.3.3.1.1" xref="S2.E3.m1.3.3.3.3.1.1.cmml"><mi id="S2.E3.m1.3.3.3.3.1.1.5.2" xref="S2.E3.m1.3.3.3.3.1.1.5.2.cmml">θ</mi><mrow id="S2.E3.m1.3.3.3.3.1.1.2.2.4" xref="S2.E3.m1.3.3.3.3.1.1.2.2.3.cmml"><mtext id="S2.E3.m1.3.3.3.3.1.1.1.1.1" xref="S2.E3.m1.3.3.3.3.1.1.1.1.1a.cmml">merged</mtext><mo id="S2.E3.m1.3.3.3.3.1.1.2.2.4.1" xref="S2.E3.m1.3.3.3.3.1.1.2.2.3.cmml">,</mo><mi id="S2.E3.m1.3.3.3.3.1.1.2.2.2" xref="S2.E3.m1.3.3.3.3.1.1.2.2.2.cmml">j</mi></mrow><mrow id="S2.E3.m1.3.3.3.3.1.1.3.1.1" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.cmml"><mo id="S2.E3.m1.3.3.3.3.1.1.3.1.1.2" stretchy="false" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.3.3.3.3.1.1.3.1.1.1" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.cmml"><mi id="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.2" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.2.cmml">n</mi><mo id="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.1" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.1.cmml">−</mo><mn id="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.3" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E3.m1.3.3.3.3.1.1.3.1.1.3" stretchy="false" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.cmml">)</mo></mrow></msubsup></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E3.m1.4.4.4f" xref="S2.E3.m1.7.8.3.1.cmml"><mrow id="S2.E3.m1.4.4.4.4.2.1.3" xref="S2.E3.m1.4.4.4.4.2.1.1a.cmml"><mtext id="S2.E3.m1.4.4.4.4.2.1.1" xref="S2.E3.m1.4.4.4.4.2.1.1.cmml">others</mtext><mo id="S2.E3.m1.4.4.4.4.2.1.3.1" xref="S2.E3.m1.4.4.4.4.2.1.1a.cmml">,</mo></mrow></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.7b"><apply id="S2.E3.m1.7.8.cmml" xref="S2.E3.m1.7.8"><eq id="S2.E3.m1.7.8.1.cmml" xref="S2.E3.m1.7.8.1"></eq><apply id="S2.E3.m1.7.8.2.cmml" xref="S2.E3.m1.7.8.2"><csymbol cd="ambiguous" id="S2.E3.m1.7.8.2.1.cmml" xref="S2.E3.m1.7.8.2">superscript</csymbol><apply id="S2.E3.m1.7.8.2.2.cmml" xref="S2.E3.m1.7.8.2"><csymbol cd="ambiguous" id="S2.E3.m1.7.8.2.2.1.cmml" xref="S2.E3.m1.7.8.2">subscript</csymbol><ci id="S2.E3.m1.7.8.2.2.2.cmml" xref="S2.E3.m1.7.8.2.2.2">𝜃</ci><list id="S2.E3.m1.6.6.2.3.cmml" xref="S2.E3.m1.6.6.2.4"><ci id="S2.E3.m1.5.5.1.1a.cmml" xref="S2.E3.m1.5.5.1.1"><mtext id="S2.E3.m1.5.5.1.1.cmml" mathsize="70%" xref="S2.E3.m1.5.5.1.1">merged</mtext></ci><ci id="S2.E3.m1.6.6.2.2.cmml" xref="S2.E3.m1.6.6.2.2">𝑗</ci></list></apply><ci id="S2.E3.m1.7.7.1.1.cmml" xref="S2.E3.m1.7.7.1.1">𝑛</ci></apply><apply id="S2.E3.m1.7.8.3.1.cmml" xref="S2.E3.m1.4.4"><csymbol cd="latexml" id="S2.E3.m1.7.8.3.1.1.cmml" xref="S2.E3.m1.4.4.5">cases</csymbol><apply id="S2.E3.m1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E3.m1.1.1.1.1.1.1.4.cmml" xref="S2.E3.m1.1.1.1.1.1.1.4">𝜃</ci><list id="S2.E3.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S2.E3.m1.1.1.1.1.1.1.2.2.4"><ci id="S2.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1.1.1.1.1">𝑖</ci><ci id="S2.E3.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E3.m1.1.1.1.1.1.1.2.2.2">𝑗</ci></list></apply><apply id="S2.E3.m1.2.2.2.2.2.1.3.1.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3"><and id="S2.E3.m1.2.2.2.2.2.1.3.1a.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3"></and><apply id="S2.E3.m1.2.2.2.2.2.1.3.1b.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3"><neq id="S2.E3.m1.2.2.2.2.2.1.3.1.3.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.3"></neq><apply id="S2.E3.m1.2.2.2.2.2.1.3.1.2.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2"><times id="S2.E3.m1.2.2.2.2.2.1.3.1.2.1.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.1"></times><ci id="S2.E3.m1.2.2.2.2.2.1.3.1.2.2a.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.2"><mtext id="S2.E3.m1.2.2.2.2.2.1.3.1.2.2.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.2">if&nbsp;</mtext></ci><apply id="S2.E3.m1.2.2.2.2.2.1.3.1.2.3.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.3"><csymbol cd="ambiguous" id="S2.E3.m1.2.2.2.2.2.1.3.1.2.3.1.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.3">subscript</csymbol><ci id="S2.E3.m1.2.2.2.2.2.1.3.1.2.3.2.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.2.3.2">𝜏</ci><list id="S2.E3.m1.2.2.2.2.2.1.2.2.3.cmml" xref="S2.E3.m1.2.2.2.2.2.1.2.2.4"><ci id="S2.E3.m1.2.2.2.2.2.1.1.1.1.cmml" xref="S2.E3.m1.2.2.2.2.2.1.1.1.1">𝑖</ci><ci id="S2.E3.m1.2.2.2.2.2.1.2.2.2.cmml" xref="S2.E3.m1.2.2.2.2.2.1.2.2.2">𝑗</ci></list></apply></apply><apply id="S2.E3.m1.2.2.2.2.2.1.3.1.4.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4"><times id="S2.E3.m1.2.2.2.2.2.1.3.1.4.1.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.1"></times><cn id="S2.E3.m1.2.2.2.2.2.1.3.1.4.2.cmml" type="integer" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.2">0</cn><ci id="S2.E3.m1.2.2.2.2.2.1.3.1.4.3a.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.3"><mtext id="S2.E3.m1.2.2.2.2.2.1.3.1.4.3.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.3">&nbsp;or&nbsp;</mtext></ci><ci id="S2.E3.m1.2.2.2.2.2.1.3.1.4.4.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.4.4">𝑛</ci></apply></apply><apply id="S2.E3.m1.2.2.2.2.2.1.3.1c.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3"><eq id="S2.E3.m1.2.2.2.2.2.1.3.1.5.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3.1.5"></eq><share href="https://arxiv.org/html/2410.03743v1#S2.E3.m1.2.2.2.2.2.1.3.1.4.cmml" id="S2.E3.m1.2.2.2.2.2.1.3.1d.cmml" xref="S2.E3.m1.2.2.2.2.2.1.3"></share><cn id="S2.E3.m1.2.2.2.2.2.1.3.1.6.cmml" type="integer" xref="S2.E3.m1.2.2.2.2.2.1.3.1.6">0</cn></apply></apply><apply id="S2.E3.m1.3.3.3.3.1.1.cmml" xref="S2.E3.m1.3.3.3.3.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.3.3.3.3.1.1.4.cmml" xref="S2.E3.m1.3.3.3.3.1.1">superscript</csymbol><apply id="S2.E3.m1.3.3.3.3.1.1.5.cmml" xref="S2.E3.m1.3.3.3.3.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.3.3.3.3.1.1.5.1.cmml" xref="S2.E3.m1.3.3.3.3.1.1">subscript</csymbol><ci id="S2.E3.m1.3.3.3.3.1.1.5.2.cmml" xref="S2.E3.m1.3.3.3.3.1.1.5.2">𝜃</ci><list id="S2.E3.m1.3.3.3.3.1.1.2.2.3.cmml" xref="S2.E3.m1.3.3.3.3.1.1.2.2.4"><ci id="S2.E3.m1.3.3.3.3.1.1.1.1.1a.cmml" xref="S2.E3.m1.3.3.3.3.1.1.1.1.1"><mtext id="S2.E3.m1.3.3.3.3.1.1.1.1.1.cmml" mathsize="70%" xref="S2.E3.m1.3.3.3.3.1.1.1.1.1">merged</mtext></ci><ci id="S2.E3.m1.3.3.3.3.1.1.2.2.2.cmml" xref="S2.E3.m1.3.3.3.3.1.1.2.2.2">𝑗</ci></list></apply><apply id="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.cmml" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1"><minus id="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.1.cmml" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.1"></minus><ci id="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.2.cmml" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.2">𝑛</ci><cn id="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.3.cmml" type="integer" xref="S2.E3.m1.3.3.3.3.1.1.3.1.1.1.3">1</cn></apply></apply><ci id="S2.E3.m1.4.4.4.4.2.1.1a.cmml" xref="S2.E3.m1.4.4.4.4.2.1.3"><mtext id="S2.E3.m1.4.4.4.4.2.1.1.cmml" xref="S2.E3.m1.4.4.4.4.2.1.1">others</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.7c">\theta_{\text{merged},j}^{(n)}=\begin{cases}\theta_{i,j}&amp;\text{if }\tau_{i,j}%
\neq 0\text{ or }n=0,\\
\theta_{\text{merged},j}^{(n-1)}&amp;\text{others},\end{cases}</annotation><annotation encoding="application/x-llamapun" id="S2.E3.m1.7d">italic_θ start_POSTSUBSCRIPT merged , italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_n ) end_POSTSUPERSCRIPT = { start_ROW start_CELL italic_θ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT end_CELL start_CELL if italic_τ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT ≠ 0 or italic_n = 0 , end_CELL end_ROW start_ROW start_CELL italic_θ start_POSTSUBSCRIPT merged , italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_n - 1 ) end_POSTSUPERSCRIPT end_CELL start_CELL others , end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS3.p2.7">Specifically, <math alttext="\theta_{\text{merged},j}^{\text{ }0}" class="ltx_Math" display="inline" id="S2.SS3.p2.7.m1.2"><semantics id="S2.SS3.p2.7.m1.2a"><msubsup id="S2.SS3.p2.7.m1.2.3" xref="S2.SS3.p2.7.m1.2.3.cmml"><mi id="S2.SS3.p2.7.m1.2.3.2.2" xref="S2.SS3.p2.7.m1.2.3.2.2.cmml">θ</mi><mrow id="S2.SS3.p2.7.m1.2.2.2.4" xref="S2.SS3.p2.7.m1.2.2.2.3.cmml"><mtext id="S2.SS3.p2.7.m1.1.1.1.1" xref="S2.SS3.p2.7.m1.1.1.1.1a.cmml">merged</mtext><mo id="S2.SS3.p2.7.m1.2.2.2.4.1" xref="S2.SS3.p2.7.m1.2.2.2.3.cmml">,</mo><mi id="S2.SS3.p2.7.m1.2.2.2.2" xref="S2.SS3.p2.7.m1.2.2.2.2.cmml">j</mi></mrow><mrow id="S2.SS3.p2.7.m1.2.3.3" xref="S2.SS3.p2.7.m1.2.3.3.cmml"><mtext id="S2.SS3.p2.7.m1.2.3.3.2" xref="S2.SS3.p2.7.m1.2.3.3.2a.cmml">&nbsp;</mtext><mo id="S2.SS3.p2.7.m1.2.3.3.1" xref="S2.SS3.p2.7.m1.2.3.3.1.cmml">⁢</mo><mn id="S2.SS3.p2.7.m1.2.3.3.3" xref="S2.SS3.p2.7.m1.2.3.3.3.cmml">0</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.7.m1.2b"><apply id="S2.SS3.p2.7.m1.2.3.cmml" xref="S2.SS3.p2.7.m1.2.3"><csymbol cd="ambiguous" id="S2.SS3.p2.7.m1.2.3.1.cmml" xref="S2.SS3.p2.7.m1.2.3">superscript</csymbol><apply id="S2.SS3.p2.7.m1.2.3.2.cmml" xref="S2.SS3.p2.7.m1.2.3"><csymbol cd="ambiguous" id="S2.SS3.p2.7.m1.2.3.2.1.cmml" xref="S2.SS3.p2.7.m1.2.3">subscript</csymbol><ci id="S2.SS3.p2.7.m1.2.3.2.2.cmml" xref="S2.SS3.p2.7.m1.2.3.2.2">𝜃</ci><list id="S2.SS3.p2.7.m1.2.2.2.3.cmml" xref="S2.SS3.p2.7.m1.2.2.2.4"><ci id="S2.SS3.p2.7.m1.1.1.1.1a.cmml" xref="S2.SS3.p2.7.m1.1.1.1.1"><mtext id="S2.SS3.p2.7.m1.1.1.1.1.cmml" mathsize="70%" xref="S2.SS3.p2.7.m1.1.1.1.1">merged</mtext></ci><ci id="S2.SS3.p2.7.m1.2.2.2.2.cmml" xref="S2.SS3.p2.7.m1.2.2.2.2">𝑗</ci></list></apply><apply id="S2.SS3.p2.7.m1.2.3.3.cmml" xref="S2.SS3.p2.7.m1.2.3.3"><times id="S2.SS3.p2.7.m1.2.3.3.1.cmml" xref="S2.SS3.p2.7.m1.2.3.3.1"></times><ci id="S2.SS3.p2.7.m1.2.3.3.2a.cmml" xref="S2.SS3.p2.7.m1.2.3.3.2"><mtext id="S2.SS3.p2.7.m1.2.3.3.2.cmml" mathsize="70%" xref="S2.SS3.p2.7.m1.2.3.3.2">&nbsp;</mtext></ci><cn id="S2.SS3.p2.7.m1.2.3.3.3.cmml" type="integer" xref="S2.SS3.p2.7.m1.2.3.3.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.7.m1.2c">\theta_{\text{merged},j}^{\text{ }0}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.7.m1.2d">italic_θ start_POSTSUBSCRIPT merged , italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT</annotation></semantics></math> equals parameter-selection method without the resampling module.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experiments</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">This section presents the experimental results. Detailed descriptions of the datasets and evaluation metrics employed are provided in the Appendix, under Section <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A2" title="Appendix B Detailed Experimental Settings ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">B</span></a>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Experimental Results</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.1">Main Experiments.</span>
We conducted experiments on three mainstream LLM tasks: instruction-following, mathematical reasoning, and code-generating. Llama-2-7b <cite class="ltx_cite ltx_citemacro_citep">(Touvron et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib20" title="">2023</a>)</cite> was used as the base model. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S2.T1" title="Table 1 ‣ 2.2 Parameter-Selection Merging ‣ 2 Method ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">1</span></a>, the merged models exhibit performance improvements compared to single SFT models.
Furthermore, as indicated in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S2.T1" title="Table 1 ‣ 2.2 Parameter-Selection Merging ‣ 2 Method ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">1</span></a>, the proposed parameter-selection method outperforms the weighted-average approach, achieving consistent performance improvements. Moreover, incorporating a resampling module further enhances the performance of the parameter-selection method, yielding an average improvement of <span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.2">2.02</span> percentage points across all datasets. These results affirm the effectiveness of our proposed method in improving LLM fine-tuning performance.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_table" id="S3.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T2.1" style="width:433.6pt;height:241.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(54.9pt,-30.5pt) scale(1.33924880776321,1.33924880776321) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S3.T2.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T2.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S3.T2.1.1.1.2" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.1.2.1">Model</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S3.T2.1.1.1.3" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.1.3.1">Method</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.4" style="padding-left:2.5pt;padding-right:2.5pt;">SST-2</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.5" style="padding-left:2.5pt;padding-right:2.5pt;">MNLI</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.6" style="padding-left:2.5pt;padding-right:2.5pt;">SQuAD</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.1" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.1.1.1">Avg <math alttext="\Delta" class="ltx_Math" display="inline" id="S3.T2.1.1.1.1.1.m1.1"><semantics id="S3.T2.1.1.1.1.1.m1.1a"><mi id="S3.T2.1.1.1.1.1.m1.1.1" mathvariant="normal" xref="S3.T2.1.1.1.1.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S3.T2.1.1.1.1.1.m1.1b"><ci id="S3.T2.1.1.1.1.1.m1.1.1.cmml" xref="S3.T2.1.1.1.1.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.1.1.1.1.1.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="S3.T2.1.1.1.1.1.m1.1d">roman_Δ</annotation></semantics></math></span></td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.2.1">
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.2.1.1" style="padding-left:2.5pt;padding-right:2.5pt;">acc</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.2.1.2" style="padding-left:2.5pt;padding-right:2.5pt;">acc</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.2.1.3" style="padding-left:2.5pt;padding-right:2.5pt;">EM</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T2.1.1.3.2.1" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.3.2.1.1">BERT-base</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S3.T2.1.1.3.2.2" style="padding-left:2.5pt;padding-right:2.5pt;">SFT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.3.2.3" style="padding-left:2.5pt;padding-right:2.5pt;">91.93</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.3.2.4" style="padding-left:2.5pt;padding-right:2.5pt;">83.99</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.3.2.5" style="padding-left:2.5pt;padding-right:2.5pt;">81.07</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.3.2.6" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.3.2.6.1" style="color:#000000;">+ 0.75</span></td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S3.T2.1.1.4.3.1" style="padding-left:2.5pt;padding-right:2.5pt;">merged</th>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.4.3.2" style="padding-left:2.5pt;padding-right:2.5pt;">92.33 (<span class="ltx_text" id="S3.T2.1.1.4.3.2.1" style="color:#FF0000;">+0.40</span>)</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.4.3.3" style="padding-left:2.5pt;padding-right:2.5pt;">84.47(<span class="ltx_text" id="S3.T2.1.1.4.3.3.1" style="color:#FF0000;">+0.48</span>)</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.4.3.4" style="padding-left:2.5pt;padding-right:2.5pt;">82.44(<span class="ltx_text" id="S3.T2.1.1.4.3.4.1" style="color:#FF0000;">+1.37</span>)</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T2.1.1.5.4.1" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.5.4.1.1">BERT-large</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S3.T2.1.1.5.4.2" style="padding-left:2.5pt;padding-right:2.5pt;">SFT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.5.4.3" style="padding-left:2.5pt;padding-right:2.5pt;">93.44</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.5.4.4" style="padding-left:2.5pt;padding-right:2.5pt;">86.42</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.5.4.5" style="padding-left:2.5pt;padding-right:2.5pt;">84.15</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.5.4.6" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.5.4.6.1" style="color:#000000;">+ 0.94</span></td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S3.T2.1.1.6.5.1" style="padding-left:2.5pt;padding-right:2.5pt;">merged</th>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.6.5.2" style="padding-left:2.5pt;padding-right:2.5pt;">94.38(<span class="ltx_text" id="S3.T2.1.1.6.5.2.1" style="color:#FF0000;">+0.94</span>)</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.6.5.3" style="padding-left:2.5pt;padding-right:2.5pt;">86.71(<span class="ltx_text" id="S3.T2.1.1.6.5.3.1" style="color:#FF0000;">+0.29</span>)</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.6.5.4" style="padding-left:2.5pt;padding-right:2.5pt;">85.73(<span class="ltx_text" id="S3.T2.1.1.6.5.4.1" style="color:#FF0000;">+1.58</span>)</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T2.1.1.7.6.1" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.7.6.1.1">TinyLlama</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S3.T2.1.1.7.6.2" style="padding-left:2.5pt;padding-right:2.5pt;">SFT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.7.6.3" style="padding-left:2.5pt;padding-right:2.5pt;">94.81</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.7.6.4" style="padding-left:2.5pt;padding-right:2.5pt;">85.46</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.7.6.5" style="padding-left:2.5pt;padding-right:2.5pt;">80.53</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.7.6.6" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.7.6.6.1" style="color:#000000;">+ 1.62</span></td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.8.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S3.T2.1.1.8.7.1" style="padding-left:2.5pt;padding-right:2.5pt;">merged</th>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.8.7.2" style="padding-left:2.5pt;padding-right:2.5pt;">95.91(<span class="ltx_text" id="S3.T2.1.1.8.7.2.1" style="color:#FF0000;">+1.10</span>)</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.8.7.3" style="padding-left:2.5pt;padding-right:2.5pt;">86.93(<span class="ltx_text" id="S3.T2.1.1.8.7.3.1" style="color:#FF0000;">+1.47</span>)</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.8.7.4" style="padding-left:2.5pt;padding-right:2.5pt;">82.82(<span class="ltx_text" id="S3.T2.1.1.8.7.4.1" style="color:#FF0000;">+2.29</span>)</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.9.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S3.T2.1.1.9.8.1" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.9.8.1.1">Llama-2-7b</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S3.T2.1.1.9.8.2" style="padding-left:2.5pt;padding-right:2.5pt;">SFT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.9.8.3" style="padding-left:2.5pt;padding-right:2.5pt;">95.09</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.9.8.4" style="padding-left:2.5pt;padding-right:2.5pt;">88.84</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.9.8.5" style="padding-left:2.5pt;padding-right:2.5pt;">84.53</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.1.1.9.8.6" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T2.1.1.9.8.6.1" style="color:#000000;">+ 2.11</span></td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.10.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S3.T2.1.1.10.9.1" style="padding-left:2.5pt;padding-right:2.5pt;">merged</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.1.10.9.2" style="padding-left:2.5pt;padding-right:2.5pt;">96.97(<span class="ltx_text" id="S3.T2.1.1.10.9.2.1" style="color:#FF0000;">+1.88</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.1.10.9.3" style="padding-left:2.5pt;padding-right:2.5pt;">90.64(<span class="ltx_text" id="S3.T2.1.1.10.9.3.1" style="color:#FF0000;">+1.80</span>)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.1.10.9.4" style="padding-left:2.5pt;padding-right:2.5pt;">87.18(<span class="ltx_text" id="S3.T2.1.1.10.9.4.1" style="color:#FF0000;">+2.65</span>)</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Performance comparison between single SFT model and merged models across pre-trained models with various model sizes.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p2.1.1">Experiments Across Different Model Sizes.</span>
We conducted experiments using different pre-trained models with various model sizes: BERT-base (0.11b)<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>(0.11b) refers to the model having 0.11 billion parameters.</span></span></span>, BERT-large (0.34b) <cite class="ltx_cite ltx_citemacro_citep">(Kenton and Toutanova, <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib12" title="">2019</a>)</cite>, TinyLlama (1.1b) <cite class="ltx_cite ltx_citemacro_citep">(Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib31" title="">2024</a>)</cite>, and Llama-2-7b (7b), employing parameter-selection as merging method.
Experiments were conducted on traditional tasks rather than on LLM tasks due to the limited capabilities of smaller-sized models.
As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3.T2" title="Table 2 ‣ 3.1 Experimental Results ‣ 3 Experiments ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">2</span></a>, the merged models outperform their single SFT counterparts consistently. These experimental outcomes further demonstrate the effectiveness of merging SFT models with different training orders in improving fine-tuning performance. Furthermore, as detailed in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3.T2" title="Table 2 ‣ 3.1 Experimental Results ‣ 3 Experiments ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">2</span></a>, models with larger parameter sizes exhibit more pronounced average improvements, suggesting our method’s potential applicability in LLM contexts.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_table" id="S3.T3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T3.2" style="width:433.6pt;height:92.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-77.7pt,16.6pt) scale(0.736056782349092,0.736056782349092) ;">
<table class="ltx_tabular ltx_align_middle" id="S3.T3.2.2">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T3.2.2.3.1">
<td class="ltx_td ltx_border_r ltx_border_tt" id="S3.T3.2.2.3.1.1" style="padding-left:2.5pt;padding-right:2.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="5" id="S3.T3.2.2.3.1.2" style="padding-left:2.5pt;padding-right:2.5pt;">LLM Tasks</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="7" id="S3.T3.2.2.3.1.3" style="padding-left:2.5pt;padding-right:2.5pt;">Traditional Tasks</td>
</tr>
<tr class="ltx_tr" id="S3.T3.2.2.2">
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T3.2.2.2.3" style="padding-left:2.5pt;padding-right:2.5pt;">Method / Task</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.4" style="padding-left:2.5pt;padding-right:2.5pt;">AlpacaEval</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.5" style="padding-left:2.5pt;padding-right:2.5pt;">GSM8K</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.6" style="padding-left:2.5pt;padding-right:2.5pt;">MATH</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.7" style="padding-left:2.5pt;padding-right:2.5pt;">HumanEval</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T3.1.1.1.1" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T3.1.1.1.1.1">Avg <math alttext="\Delta" class="ltx_Math" display="inline" id="S3.T3.1.1.1.1.1.m1.1"><semantics id="S3.T3.1.1.1.1.1.m1.1a"><mi id="S3.T3.1.1.1.1.1.m1.1.1" mathvariant="normal" xref="S3.T3.1.1.1.1.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S3.T3.1.1.1.1.1.m1.1b"><ci id="S3.T3.1.1.1.1.1.m1.1.1.cmml" xref="S3.T3.1.1.1.1.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.1.1.1.1.1.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="S3.T3.1.1.1.1.1.m1.1d">roman_Δ</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.8" style="padding-left:2.5pt;padding-right:2.5pt;">AG News</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.9" style="padding-left:2.5pt;padding-right:2.5pt;">Hellaswag</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.10" style="padding-left:2.5pt;padding-right:2.5pt;">MNLI</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.11" style="padding-left:2.5pt;padding-right:2.5pt;">MRPC</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.12" style="padding-left:2.5pt;padding-right:2.5pt;">SST-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.13" style="padding-left:2.5pt;padding-right:2.5pt;">Winogrande</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.2.2" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T3.2.2.2.2.1">Avg <math alttext="\Delta" class="ltx_Math" display="inline" id="S3.T3.2.2.2.2.1.m1.1"><semantics id="S3.T3.2.2.2.2.1.m1.1a"><mi id="S3.T3.2.2.2.2.1.m1.1.1" mathvariant="normal" xref="S3.T3.2.2.2.2.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S3.T3.2.2.2.2.1.m1.1b"><ci id="S3.T3.2.2.2.2.1.m1.1.1.cmml" xref="S3.T3.2.2.2.2.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.2.2.2.2.1.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="S3.T3.2.2.2.2.1.m1.1d">roman_Δ</annotation></semantics></math></span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.2.2.4.2">
<td class="ltx_td ltx_border_r" id="S3.T3.2.2.4.2.1" style="padding-left:2.5pt;padding-right:2.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.4.2.2" style="padding-left:2.5pt;padding-right:2.5pt;">win-rate</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.4.2.3" style="padding-left:2.5pt;padding-right:2.5pt;">acc</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.4.2.4" style="padding-left:2.5pt;padding-right:2.5pt;">acc</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.4.2.5" style="padding-left:2.5pt;padding-right:2.5pt;">pass@1</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.4.2.6" style="padding-left:2.5pt;padding-right:2.5pt;">acc</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.4.2.7" style="padding-left:2.5pt;padding-right:2.5pt;">acc</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.4.2.8" style="padding-left:2.5pt;padding-right:2.5pt;">acc</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.4.2.9" style="padding-left:2.5pt;padding-right:2.5pt;">acc</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.4.2.10" style="padding-left:2.5pt;padding-right:2.5pt;">acc</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.4.2.11" style="padding-left:2.5pt;padding-right:2.5pt;">acc</td>
</tr>
<tr class="ltx_tr" id="S3.T3.2.2.5.3">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.2.2.5.3.1" style="padding-left:2.5pt;padding-right:2.5pt;">single SFT</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.2" style="padding-left:2.5pt;padding-right:2.5pt;">89.29</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.3" style="padding-left:2.5pt;padding-right:2.5pt;">63.76</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.4" style="padding-left:2.5pt;padding-right:2.5pt;">14.26</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.5" style="padding-left:2.5pt;padding-right:2.5pt;">23.78</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T3.2.2.5.3.6" style="padding-left:2.5pt;padding-right:2.5pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.7" style="padding-left:2.5pt;padding-right:2.5pt;">94.42</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.8" style="padding-left:2.5pt;padding-right:2.5pt;">77.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.9" style="padding-left:2.5pt;padding-right:2.5pt;">87.90</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.10" style="padding-left:2.5pt;padding-right:2.5pt;">85.78</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.11" style="padding-left:2.5pt;padding-right:2.5pt;">95.53</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.12" style="padding-left:2.5pt;padding-right:2.5pt;">75.45</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.5.3.13" style="padding-left:2.5pt;padding-right:2.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S3.T3.2.2.6.4">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S3.T3.2.2.6.4.1" style="padding-left:2.5pt;padding-right:2.5pt;">weighted-avg</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.2" style="padding-left:2.5pt;padding-right:2.5pt;">72.29</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.3" style="padding-left:2.5pt;padding-right:2.5pt;">58.38</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.4" style="padding-left:2.5pt;padding-right:2.5pt;">9.90</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.5" style="padding-left:2.5pt;padding-right:2.5pt;">18.90</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T3.2.2.6.4.6" style="padding-left:2.5pt;padding-right:2.5pt;">- 7.91</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.7" style="padding-left:2.5pt;padding-right:2.5pt;">74.01</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.8" style="padding-left:2.5pt;padding-right:2.5pt;">74.10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.9" style="padding-left:2.5pt;padding-right:2.5pt;">61.15</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.10" style="padding-left:2.5pt;padding-right:2.5pt;">71.32</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.11" style="padding-left:2.5pt;padding-right:2.5pt;">90.37</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.12" style="padding-left:2.5pt;padding-right:2.5pt;">70.17</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.2.2.6.4.13" style="padding-left:2.5pt;padding-right:2.5pt;">- 12.53</td>
</tr>
<tr class="ltx_tr" id="S3.T3.2.2.7.5">
<td class="ltx_td ltx_align_left ltx_border_r" id="S3.T3.2.2.7.5.1" style="padding-left:2.5pt;padding-right:2.5pt;">param-selection</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.2" style="padding-left:2.5pt;padding-right:2.5pt;">72.08</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.3" style="padding-left:2.5pt;padding-right:2.5pt;">57.01</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.4" style="padding-left:2.5pt;padding-right:2.5pt;">10.1</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.5" style="padding-left:2.5pt;padding-right:2.5pt;">14.64</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T3.2.2.7.5.6" style="padding-left:2.5pt;padding-right:2.5pt;">- 9.32</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.7" style="padding-left:2.5pt;padding-right:2.5pt;">77.03</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.8" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.7.5.8.1">74.13</span></td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.9" style="padding-left:2.5pt;padding-right:2.5pt;">64.77</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.10" style="padding-left:2.5pt;padding-right:2.5pt;">67.16</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.11" style="padding-left:2.5pt;padding-right:2.5pt;">92.66</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.12" style="padding-left:2.5pt;padding-right:2.5pt;">70.40</td>
<td class="ltx_td ltx_align_center" id="S3.T3.2.2.7.5.13" style="padding-left:2.5pt;padding-right:2.5pt;">- 11.67</td>
</tr>
<tr class="ltx_tr" id="S3.T3.2.2.8.6">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="S3.T3.2.2.8.6.1" style="padding-left:2.5pt;padding-right:2.5pt;">. + resample</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.2.1">78.70</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.3" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.3.1">61.71</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.4" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.4.1">11.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.5" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.5.1">26.22</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S3.T3.2.2.8.6.6" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.6.1">- 3.19</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.7" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.7.1">81.28</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.8" style="padding-left:2.5pt;padding-right:2.5pt;">74.12</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.9" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.9.1">64.45</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.10" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.10.1">72.55</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.11" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.11.1">95.30</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.12" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.12.1">70.56</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T3.2.2.8.6.13" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.2.2.8.6.13.1">- &nbsp;&nbsp;9.67</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>
Performance comparison in multi-task merging contexts.
The "single SFT" represents a single-task model, showing results for individual tasks, whereas the other entries are multi-task models, showing results for handling multiple tasks simultaneously.
Avg <math alttext="\Delta" class="ltx_Math" display="inline" id="S3.T3.4.m1.1"><semantics id="S3.T3.4.m1.1b"><mi id="S3.T3.4.m1.1.1" mathvariant="normal" xref="S3.T3.4.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S3.T3.4.m1.1c"><ci id="S3.T3.4.m1.1.1.cmml" xref="S3.T3.4.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.4.m1.1d">\Delta</annotation><annotation encoding="application/x-llamapun" id="S3.T3.4.m1.1e">roman_Δ</annotation></semantics></math> shows the average performance loss across all tasks after merging these single-task models into a single multi-task model.
</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p3.1.1">Experiments in Multi-Task Merging Contexts.</span>
We conducted experiments in multi-task merging contexts to validate the effectiveness of parameter-selection.<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>Multi-task merging aims to combine single-task models into one multi-task model capable of handling several tasks simultaneously, with minimal performance loss in single-task capabilities.</span></span></span>
The results are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3.T3" title="Table 3 ‣ 3.1 Experimental Results ‣ 3 Experiments ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">3</span></a>, which show the performance on four LLM tasks and six traditional tasks.<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>Due to significant performance degradation for LLM tasks, 13b models were chosen instead of 7b. Specifically, we used WizardLM-13B <cite class="ltx_cite ltx_citemacro_citep">(Xu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib25" title="">2023</a>)</cite> for instruction-following, WizardMath-13B <cite class="ltx_cite ltx_citemacro_citep">(Luo et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib14" title="">2023</a>)</cite> for mathematical reasoning, and Llama-2-13b-code-alpaca <cite class="ltx_cite ltx_citemacro_citep">(Chaudhary, <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib1" title="">2023</a>)</cite> for code-generating.</span></span></span>
As demonstrated by the results, the parameter-selection method significantly outperforms the weighted-average method, achieving an increase of <span class="ltx_text ltx_font_bold" id="S3.SS1.p3.1.2">4.72</span> and <span class="ltx_text ltx_font_bold" id="S3.SS1.p3.1.3">2.86</span> percentage points in performance retention, respectively. These improvements highlight the efficacy of the proposed parameter-selection method.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Analysis and Ablation Studies</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">This section presents the analysis and ablation studies conducted on the GSM8K and Alpaca tasks.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="317" id="S3.F3.g1" src="https://arxiv.org/html/2410.03743v1/x3.png" width="830">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Comparison of training losses across different models, with the first epoch sample position of the anchor model as the x-axis. Green lines represent final training losses of the anchor model; blue ‘x’ markers indicate losses of SFT models trained with various data order; red dots show losses of the merged model.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.1">Traning Set Loss Analysis.</span>
We investigate whether the merged models can alleviate the training imbalance problem previously identified.
We selected one SFT model as the "<em class="ltx_emph ltx_font_italic" id="S3.SS2.p2.1.2">anchor model</em>". Based on positions during the first epoch training of the anchor model, we divided training samples into multiple segments.
Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3.F3" title="Figure 3 ‣ 3.2 Analysis and Ablation Studies ‣ 3 Experiments ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">3</span></a> shows the final training loss of these sample segments.
As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3.F3" title="Figure 3 ‣ 3.2 Analysis and Ablation Studies ‣ 3 Experiments ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">3</span></a>, compared to the anchor model, the losses of the merged model are situated between those of sub-models, showing no clear correlation with the data position.
This result indicates that merging models with various data orders can diminish the influence of the data order from a single model, such as the anchor model.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_figure" id="S3.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="375" id="S3.F4.g1" src="https://arxiv.org/html/2410.03743v1/x4.png" width="831">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Comparison of validation loss between single and merged SFT models at various training steps.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p3.1.1">Validation Set Loss Analysis.</span> We analyzed the validation set losses of the single SFT model and the merged model at various training steps. As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3.F4" title="Figure 4 ‣ 3.2 Analysis and Ablation Studies ‣ 3 Experiments ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">4</span></a>, at all training steps, the merged models exhibited lower validation losses compared to those of single SFT models.
This result demonstrates that the merged model exhibits lower losses on unseen samples, which aligns with the performance enhancements previously observed.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<figure class="ltx_table" id="S3.T4">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T4.1" style="width:424.9pt;height:139.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(75.3pt,-24.7pt) scale(1.54940163377571,1.54940163377571) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S3.T4.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T4.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S3.T4.1.1.1.1.1" rowspan="2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text" id="S3.T4.1.1.1.1.1.1">Method</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S3.T4.1.1.1.1.2" style="padding-left:2.5pt;padding-right:2.5pt;">GSM8K</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S3.T4.1.1.1.1.3" style="padding-left:2.5pt;padding-right:2.5pt;">AlpacaEval</th>
</tr>
<tr class="ltx_tr" id="S3.T4.1.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S3.T4.1.1.2.2.1" style="padding-left:2.5pt;padding-right:2.5pt;">acc</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S3.T4.1.1.2.2.2" style="padding-left:2.5pt;padding-right:2.5pt;">win-rate</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T4.1.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T4.1.1.3.1.1" style="padding-left:2.5pt;padding-right:2.5pt;">singel SFT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T4.1.1.3.1.2" style="padding-left:2.5pt;padding-right:2.5pt;">41.29</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T4.1.1.3.1.3" style="padding-left:2.5pt;padding-right:2.5pt;">24.25</td>
</tr>
<tr class="ltx_tr" id="S3.T4.1.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S3.T4.1.1.4.2.1" style="padding-left:2.5pt;padding-right:2.5pt;">param-selection + resample</th>
<td class="ltx_td ltx_align_center" id="S3.T4.1.1.4.2.2" style="padding-left:2.5pt;padding-right:2.5pt;">45.26</td>
<td class="ltx_td ltx_align_center" id="S3.T4.1.1.4.2.3" style="padding-left:2.5pt;padding-right:2.5pt;">25.91</td>
</tr>
<tr class="ltx_tr" id="S3.T4.1.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S3.T4.1.1.5.3.1" style="padding-left:2.5pt;padding-right:2.5pt;">param-selection + resample (fix-batch)</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T4.1.1.5.3.2" style="padding-left:2.5pt;padding-right:2.5pt;">45.51</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T4.1.1.5.3.3" style="padding-left:2.5pt;padding-right:2.5pt;">25.83</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Performance comparison of standard merged models and models with fixed intra-batch combinations.
</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para ltx_noindent" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p4.1.1">Determining the Source of Improvement: Sample Position or Batch Diversity.</span>
Altering the order of training data not only changes the position of samples but also modifies the sample combination within each batch.
This raises the question: Do performance improvements result from varied sample positions or from diversity in sample combinations?
To address this, we conducted ablation experiments by merging models with fixed intra-batch sample combinations while varying batch positions.
As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3.T4" title="Table 4 ‣ 3.2 Analysis and Ablation Studies ‣ 3 Experiments ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">4</span></a>, models with fixed intra-batch combinations achieved similar performance to those with variable combinations, indicating that performance gains are primarily due to changes in sample positions rather than to diversity in intra-batch combinations.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusion</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">This study reveals the overlooked negative impact of training data order on LLM fine-tuning, which can result in significant training imbalances, and proposes mitigating these imbalances by merging models fine-tuned with diverse data orders.
Furthermore, it introduces a novel and effective parameter merging technique, "parameter-selection merging."
The efficacy of parameter-selection method suggests that it is not necessary to incorporate information from all sub-models at each parameter dimension in parameter merging.
This discovery broadens the research landscape for parameter merging, opening up new avenues for future investigations.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Limitations</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">This study has several primary limitations that remain unexplored:</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<ul class="ltx_itemize" id="Sx1.I1">
<li class="ltx_item" id="Sx1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="Sx1.I1.i1.p1">
<p class="ltx_p" id="Sx1.I1.i1.p1.1">While our method improves LLM fine-tuning without adding deployment and inference costs, it requires additional computation to fine-tune multiple sub-models.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="Sx1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="Sx1.I1.i2.p1">
<p class="ltx_p" id="Sx1.I1.i2.p1.1">Although models with larger parameter sizes show more pronounced average improvements, as demonstrated in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#S3.T2" title="Table 2 ‣ 3.1 Experimental Results ‣ 3 Experiments ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">2</span></a>, suggesting the method’s potential in LLM contexts, our experiments were primarily conducted with 7b models due to computational resource constraints. Future studies are needed to evaluate the scalability of our methods with larger models.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="Sx1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="Sx1.I1.i3.p1">
<p class="ltx_p" id="Sx1.I1.i3.p1.1">The study introduces the novel parameter-selection merging technique, which outperforms the traditional weighted-average approach. However, many model merging studies in multi-task scenarios rely on a weighted-average formula. It remains to be explored whether replacing the weighted-average with parameter-selection can improve these existing methods in multi-task scenarios.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1">This work is supported by the National Science and Technology Major Project (2022ZD0116301) and the National Science Foundation of China under grant No.62206150.
</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chaudhary (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Sahil Chaudhary. 2023.

</span>
<span class="ltx_bibblock">Code alpaca: An instruction-following llama model for code generation.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Mark Chen, Jerry Tworek, Heewoo Jun, Qiming Yuan, Henrique Ponde de&nbsp;Oliveira Pinto, Jared Kaplan, Harri Edwards, Yuri Burda, Nicholas Joseph, Greg Brockman, et&nbsp;al. 2021.

</span>
<span class="ltx_bibblock">Evaluating large language models trained on code.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">arXiv preprint arXiv:2107.03374</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cheng et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Daixuan Cheng, Shaohan Huang, Junyu Bi, Yuefeng Zhan, Jianfeng Liu, Yujing Wang, Hao Sun, Furu Wei, Denvy Deng, and Qi&nbsp;Zhang. 2023.

</span>
<span class="ltx_bibblock">Uprise: Universal prompt retrieval for improving zero-shot evaluation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">arXiv preprint arXiv:2303.08518</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cobbe et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Karl Cobbe, Vineet Kosaraju, Mohammad Bavarian, Mark Chen, Heewoo Jun, Lukasz Kaiser, Matthias Plappert, Jerry Tworek, Jacob Hilton, Reiichiro Nakano, et&nbsp;al. 2021.

</span>
<span class="ltx_bibblock">Training verifiers to solve math word problems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">arXiv preprint arXiv:2110.14168</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dettmers et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Tim Dettmers, Artidoro Pagnoni, Ari Holtzman, and Luke Zettlemoyer. 2023.

</span>
<span class="ltx_bibblock">Qlora: Efficient finetuning of quantized llms.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2305.14314</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dolan and Brockett (2005)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Bill Dolan and Chris Brockett. 2005.

</span>
<span class="ltx_bibblock">Automatically constructing a corpus of sentential paraphrases.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Third International Workshop on Paraphrasing (IWP2005)</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Dan Hendrycks, Collin Burns, Saurav Kadavath, Akul Arora, Steven Basart, Eric Tang, Dawn Song, and Jacob Steinhardt. 2021.

</span>
<span class="ltx_bibblock">Measuring mathematical problem solving with the math dataset.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2103.03874</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et&nbsp;al. (2021)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Edward&nbsp;J Hu, Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu&nbsp;Wang, and Weizhu Chen. 2021.

</span>
<span class="ltx_bibblock">Lora: Low-rank adaptation of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">arXiv preprint arXiv:2106.09685</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Chengsong Huang, Qian Liu, Bill&nbsp;Yuchen Lin, Tianyu Pang, Chao Du, and Min Lin. 2023.

</span>
<span class="ltx_bibblock">Lorahub: Efficient cross-task generalization via dynamic lora composition.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:2307.13269</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ilharco et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Gabriel Ilharco, Marco&nbsp;Tulio Ribeiro, Mitchell Wortsman, Suchin Gururangan, Ludwig Schmidt, Hannaneh Hajishirzi, and Ali Farhadi. 2022.

</span>
<span class="ltx_bibblock">Editing models with task arithmetic.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">arXiv preprint arXiv:2212.04089</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Xisen Jin, Xiang Ren, Daniel Preotiuc-Pietro, and Pengxiang Cheng. 2022.

</span>
<span class="ltx_bibblock">Dataless knowledge fusion by merging weights of language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:2212.09849</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kenton and Toutanova (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Jacob Devlin Ming-Wei&nbsp;Chang Kenton and Lee&nbsp;Kristina Toutanova. 2019.

</span>
<span class="ltx_bibblock">Bert: Pre-training of deep bidirectional transformers for language understanding.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Proceedings of NAACL-HLT</em>, pages 4171–4186.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Xuechen Li, Tianyi Zhang, Yann Dubois, Rohan Taori, Ishaan Gulrajani, Carlos Guestrin, Percy Liang, and Tatsunori&nbsp;B Hashimoto. 2023.

</span>
<span class="ltx_bibblock">Alpacaeval: An automatic evaluator of instruction-following models.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Haipeng Luo, Qingfeng Sun, Can Xu, Pu&nbsp;Zhao, Jianguang Lou, Chongyang Tao, Xiubo Geng, Qingwei Lin, Shifeng Chen, and Dongmei Zhang. 2023.

</span>
<span class="ltx_bibblock">Wizardmath: Empowering mathematical reasoning for large language models via reinforced evol-instruct.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">arXiv preprint arXiv:2308.09583</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Matena and Raffel (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Michael&nbsp;S Matena and Colin&nbsp;A Raffel. 2022.

</span>
<span class="ltx_bibblock">Merging models with fisher-weighted averaging.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Advances in Neural Information Processing Systems</em>, 35:17703–17716.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et&nbsp;al. (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Alec Radford, Jeffrey Wu, Rewon Child, David Luan, Dario Amodei, Ilya Sutskever, et&nbsp;al. 2019.

</span>
<span class="ltx_bibblock">Language models are unsupervised multitask learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">OpenAI blog</em>, 1(8):9.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rajpurkar et&nbsp;al. (2016)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Pranav Rajpurkar, Jian Zhang, Konstantin Lopyrev, and Percy Liang. 2016.

</span>
<span class="ltx_bibblock">Squad: 100,000+ questions for machine comprehension of text.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:1606.05250</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sakaguchi et&nbsp;al. (2020)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Keisuke Sakaguchi, Ronan Le&nbsp;Bras, Chandra Bhagavatula, and Yejin Choi. 2020.

</span>
<span class="ltx_bibblock">Winogrande: An adversarial winograd schema challenge at scale.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, volume&nbsp;34, pages 8732–8740.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Taori et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Rohan Taori, Ishaan Gulrajani, Tianyi Zhang, Yann Dubois, Xuechen Li, Carlos Guestrin, Percy Liang, and Tatsunori&nbsp;B Hashimoto. 2023.

</span>
<span class="ltx_bibblock">Stanford alpaca: An instruction-following llama model.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne Lachaux, Timothée Lacroix, Baptiste Rozière, Naman Goyal, Eric Hambro, Faisal Azhar, et&nbsp;al. 2023.

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:2302.13971</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Liang Wang, Nan Yang, and Furu Wei. 2023.

</span>
<span class="ltx_bibblock">Learning to retrieve in-context examples for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">arXiv preprint arXiv:2307.07164</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Williams et&nbsp;al. (2017)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Adina Williams, Nikita Nangia, and Samuel&nbsp;R Bowman. 2017.

</span>
<span class="ltx_bibblock">A broad-coverage challenge corpus for sentence understanding through inference.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">arXiv preprint arXiv:1704.05426</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wortsman et&nbsp;al. (2022)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Mitchell Wortsman, Gabriel Ilharco, Samir&nbsp;Ya Gadre, Rebecca Roelofs, Raphael Gontijo-Lopes, Ari&nbsp;S Morcos, Hongseok Namkoong, Ali Farhadi, Yair Carmon, Simon Kornblith, et&nbsp;al. 2022.

</span>
<span class="ltx_bibblock">Model soups: averaging weights of multiple fine-tuned models improves accuracy without increasing inference time.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">International Conference on Machine Learning</em>, pages 23965–23998. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Shitao Xiao, Zheng Liu, Peitian Zhang, and Xingrun Xing. 2023.

</span>
<span class="ltx_bibblock">Lm-cocktail: Resilient tuning of language models via model merging.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">arXiv preprint arXiv:2311.13534</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Can Xu, Qingfeng Sun, Kai Zheng, Xiubo Geng, Pu&nbsp;Zhao, Jiazhan Feng, Chongyang Tao, and Daxin Jiang. 2023.

</span>
<span class="ltx_bibblock">Wizardlm: Empowering large language models to follow complex instructions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">arXiv preprint arXiv:2304.12244</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yadav et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Prateek Yadav, Derek Tam, Leshem Choshen, Colin Raffel, and Mohit Bansal. 2023.

</span>
<span class="ltx_bibblock">Ties-merging: Resolving interference when merging models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Thirty-seventh Conference on Neural Information Processing Systems</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et&nbsp;al. (2023a)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Le&nbsp;Yu, Bowen Yu, Haiyang Yu, Fei Huang, and Yongbin Li. 2023a.

</span>
<span class="ltx_bibblock">Language models are super mario: Absorbing abilities from homologous models as a free lunch.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">arXiv preprint arXiv:2311.03099</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et&nbsp;al. (2023b)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Longhui Yu, Weisen Jiang, Han Shi, Jincheng Yu, Zhengying Liu, Yu&nbsp;Zhang, James&nbsp;T Kwok, Zhenguo Li, Adrian Weller, and Weiyang Liu. 2023b.

</span>
<span class="ltx_bibblock">Metamath: Bootstrap your own mathematical questions for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">arXiv preprint arXiv:2309.12284</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Zheng Yuan, Hongyi Yuan, Chengpeng Li, Guanting Dong, Chuanqi Tan, and Chang Zhou. 2023.

</span>
<span class="ltx_bibblock">Scaling relationship on learning mathematical reasoning with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">arXiv preprint arXiv:2308.01825</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zellers et&nbsp;al. (2019)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Rowan Zellers, Ari Holtzman, Yonatan Bisk, Ali Farhadi, and Yejin Choi. 2019.

</span>
<span class="ltx_bibblock">Hellaswag: Can a machine really finish your sentence?

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics</em>, pages 4791–4800.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al. (2024)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Peiyuan Zhang, Guangtao Zeng, Tianduo Wang, and Wei Lu. 2024.

</span>
<span class="ltx_bibblock">Tinyllama: An open-source small language model.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">arXiv preprint arXiv:2401.02385</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et&nbsp;al. (2015)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Xiang Zhang, Junbo Zhao, and Yann LeCun. 2015.

</span>
<span class="ltx_bibblock">Character-level convolutional networks for text classification.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">Advances in neural information processing systems</em>, 28.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et&nbsp;al. (2023)<button class="back-to-reference-btn" aria-label="Back to the article">↑</button></span>
<span class="ltx_bibblock">
Wayne&nbsp;Xin Zhao, Kun Zhou, Junyi Li, Tianyi Tang, Xiaolei Wang, Yupeng Hou, Yingqian Min, Beichen Zhang, Junjie Zhang, Zican Dong, et&nbsp;al. 2023.

</span>
<span class="ltx_bibblock">A survey of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">arXiv preprint arXiv:2303.18223</em>.

</span>
</li>
</ul>
</section>
<figure class="ltx_table" id="A0.T5">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A0.T5.1" style="width:433.6pt;height:78pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-33.4pt,6.0pt) scale(0.866396306160484,0.866396306160484) ;">
<table class="ltx_tabular ltx_align_middle" id="A0.T5.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A0.T5.1.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="A0.T5.1.1.1.1.1" style="padding-left:4.0pt;padding-right:4.0pt;">Model</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="3" id="A0.T5.1.1.1.1.2" style="padding-left:4.0pt;padding-right:4.0pt;">BERT-base &amp; BERT-large</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="7" id="A0.T5.1.1.1.1.3" style="padding-left:4.0pt;padding-right:4.0pt;">TinyLlama &amp; Llama-2-7b</td>
</tr>
<tr class="ltx_tr" id="A0.T5.1.1.2.2">
<td class="ltx_td ltx_align_left ltx_border_r" id="A0.T5.1.1.2.2.1" style="padding-left:4.0pt;padding-right:4.0pt;">Dataset</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.2.2.2" style="padding-left:4.0pt;padding-right:4.0pt;">SST-2</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.2.2.3" style="padding-left:4.0pt;padding-right:4.0pt;">MNLI</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A0.T5.1.1.2.2.4" style="padding-left:4.0pt;padding-right:4.0pt;">SQuAD</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.2.2.5" style="padding-left:4.0pt;padding-right:4.0pt;">SST-2</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.2.2.6" style="padding-left:4.0pt;padding-right:4.0pt;">MNLI</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.2.2.7" style="padding-left:4.0pt;padding-right:4.0pt;">SQuAD</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.2.2.8" style="padding-left:4.0pt;padding-right:4.0pt;">AG News</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.2.2.9" style="padding-left:4.0pt;padding-right:4.0pt;">Hellaswag</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.2.2.10" style="padding-left:4.0pt;padding-right:4.0pt;">MRPC</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.2.2.11" style="padding-left:4.0pt;padding-right:4.0pt;">Winogrande</td>
</tr>
<tr class="ltx_tr" id="A0.T5.1.1.3.3">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A0.T5.1.1.3.3.1" style="padding-left:4.0pt;padding-right:4.0pt;">max seq-length</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T5.1.1.3.3.2" style="padding-left:4.0pt;padding-right:4.0pt;">512</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T5.1.1.3.3.3" style="padding-left:4.0pt;padding-right:4.0pt;">512</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A0.T5.1.1.3.3.4" style="padding-left:4.0pt;padding-right:4.0pt;">512</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T5.1.1.3.3.5" style="padding-left:4.0pt;padding-right:4.0pt;">800</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T5.1.1.3.3.6" style="padding-left:4.0pt;padding-right:4.0pt;">800</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T5.1.1.3.3.7" style="padding-left:4.0pt;padding-right:4.0pt;">800</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T5.1.1.3.3.8" style="padding-left:4.0pt;padding-right:4.0pt;">800</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T5.1.1.3.3.9" style="padding-left:4.0pt;padding-right:4.0pt;">800</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T5.1.1.3.3.10" style="padding-left:4.0pt;padding-right:4.0pt;">800</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T5.1.1.3.3.11" style="padding-left:4.0pt;padding-right:4.0pt;">800</td>
</tr>
<tr class="ltx_tr" id="A0.T5.1.1.4.4">
<td class="ltx_td ltx_align_left ltx_border_r" id="A0.T5.1.1.4.4.1" style="padding-left:4.0pt;padding-right:4.0pt;">learning rate</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.4.4.2" style="padding-left:4.0pt;padding-right:4.0pt;">2e-5</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.4.4.3" style="padding-left:4.0pt;padding-right:4.0pt;">2e-5</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A0.T5.1.1.4.4.4" style="padding-left:4.0pt;padding-right:4.0pt;">3e-5</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.4.4.5" style="padding-left:4.0pt;padding-right:4.0pt;">2e-5</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.4.4.6" style="padding-left:4.0pt;padding-right:4.0pt;">2e-5</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.4.4.7" style="padding-left:4.0pt;padding-right:4.0pt;">2e-5</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.4.4.8" style="padding-left:4.0pt;padding-right:4.0pt;">2e-5</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.4.4.9" style="padding-left:4.0pt;padding-right:4.0pt;">2e-5</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.4.4.10" style="padding-left:4.0pt;padding-right:4.0pt;">2e-5</td>
<td class="ltx_td ltx_align_center" id="A0.T5.1.1.4.4.11" style="padding-left:4.0pt;padding-right:4.0pt;">2e-5</td>
</tr>
<tr class="ltx_tr" id="A0.T5.1.1.5.5">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="A0.T5.1.1.5.5.1" style="padding-left:4.0pt;padding-right:4.0pt;">batch size</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T5.1.1.5.5.2" style="padding-left:4.0pt;padding-right:4.0pt;">32</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T5.1.1.5.5.3" style="padding-left:4.0pt;padding-right:4.0pt;">32</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A0.T5.1.1.5.5.4" style="padding-left:4.0pt;padding-right:4.0pt;">12</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T5.1.1.5.5.5" style="padding-left:4.0pt;padding-right:4.0pt;">128</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T5.1.1.5.5.6" style="padding-left:4.0pt;padding-right:4.0pt;">128</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T5.1.1.5.5.7" style="padding-left:4.0pt;padding-right:4.0pt;">128</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T5.1.1.5.5.8" style="padding-left:4.0pt;padding-right:4.0pt;">128</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T5.1.1.5.5.9" style="padding-left:4.0pt;padding-right:4.0pt;">128</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T5.1.1.5.5.10" style="padding-left:4.0pt;padding-right:4.0pt;">128</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T5.1.1.5.5.11" style="padding-left:4.0pt;padding-right:4.0pt;">128</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Hyperparameters for training models on traditional tasks.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<figure class="ltx_table" id="A0.T6">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A0.T6.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A0.T6.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="A0.T6.1.2.1.1">Dataset</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A0.T6.1.2.1.2">AlpacaEval</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A0.T6.1.2.1.3">GSM8K</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A0.T6.1.2.1.4">GSM8K-RFT</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A0.T6.1.2.1.5">MATH</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A0.T6.1.2.1.6">HumanEval</th>
</tr>
<tr class="ltx_tr" id="A0.T6.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="A0.T6.1.3.2.1">max seq-length</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A0.T6.1.3.2.2">1200</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A0.T6.1.3.2.3">800</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A0.T6.1.3.2.4">800</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A0.T6.1.3.2.5">800</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A0.T6.1.3.2.6">1200</th>
</tr>
<tr class="ltx_tr" id="A0.T6.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r" id="A0.T6.1.4.3.1">learning rate</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A0.T6.1.4.3.2">2e-5</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A0.T6.1.4.3.3">2e-5</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A0.T6.1.4.3.4">2e-5</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A0.T6.1.4.3.5">2e-5</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="A0.T6.1.4.3.6">2e-5</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A0.T6.1.5.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A0.T6.1.5.1.1">batch size</th>
<td class="ltx_td ltx_align_center" id="A0.T6.1.5.1.2">128</td>
<td class="ltx_td ltx_align_center" id="A0.T6.1.5.1.3">64</td>
<td class="ltx_td ltx_align_center" id="A0.T6.1.5.1.4">64</td>
<td class="ltx_td ltx_align_center" id="A0.T6.1.5.1.5">64</td>
<td class="ltx_td ltx_align_center" id="A0.T6.1.5.1.6">128</td>
</tr>
<tr class="ltx_tr" id="A0.T6.1.6.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A0.T6.1.6.2.1">max epoch</th>
<td class="ltx_td ltx_align_center" id="A0.T6.1.6.2.2">3</td>
<td class="ltx_td ltx_align_center" id="A0.T6.1.6.2.3">3</td>
<td class="ltx_td ltx_align_center" id="A0.T6.1.6.2.4">3</td>
<td class="ltx_td ltx_align_center" id="A0.T6.1.6.2.5">3</td>
<td class="ltx_td ltx_align_center" id="A0.T6.1.6.2.6">3</td>
</tr>
<tr class="ltx_tr" id="A0.T6.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A0.T6.1.1.1"><math alttext="n" class="ltx_Math" display="inline" id="A0.T6.1.1.1.m1.1"><semantics id="A0.T6.1.1.1.m1.1a"><mi id="A0.T6.1.1.1.m1.1.1" xref="A0.T6.1.1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A0.T6.1.1.1.m1.1b"><ci id="A0.T6.1.1.1.m1.1.1.cmml" xref="A0.T6.1.1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.1.1.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="A0.T6.1.1.1.m1.1d">italic_n</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T6.1.1.2">1</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T6.1.1.3">1</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T6.1.1.4">4</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T6.1.1.5">1</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T6.1.1.6">4</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Hyperparameters for training Llama-2-7b on LLM tasks.</figcaption>
</figure><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Related Work</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Parameter Merging in Multi-Task Scenario</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1">Parameter merging, defined as combining multiple models within the parameter space <cite class="ltx_cite ltx_citemacro_citep">(Matena and Raffel, <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib15" title="">2022</a>)</cite>, primarily focuses on integrating SFT models for different tasks into one capable of addressing all associated sub-tasks (multi-task scenario).
Numerous related studies have been conducted in this field.
For example,
<cite class="ltx_cite ltx_citemacro_citet">Wortsman et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib23" title="">2022</a>)</cite> and <cite class="ltx_cite ltx_citemacro_citet">Jin et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib11" title="">2022</a>)</cite> employed linear matrix transformation for task adaptability;
<cite class="ltx_cite ltx_citemacro_citet">Yadav et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib26" title="">2023</a>)</cite> addressed the issue of sign conflicts across different sub-tasks;
Similarly,
<cite class="ltx_cite ltx_citemacro_citet">Yu et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib27" title="">2023a</a>)</cite> mitigated task conflict by
partially removing task-specific parameters;
Moreover, <cite class="ltx_cite ltx_citemacro_citet">Xiao et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib24" title="">2023</a>)</cite> aimed to maximally preserve the performance of one primary task among all tasks;
Furthermore, <cite class="ltx_cite ltx_citemacro_citet">Huang et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib9" title="">2023</a>)</cite> investigated the composability of LoRA <cite class="ltx_cite ltx_citemacro_citep">(Hu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib8" title="">2021</a>)</cite> for enhancing cross-task generalization.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Parameter Merging in Single-Task Scenario</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.1">Compared to merging models from multiple tasks, which often leads to performance degradation on individual tasks, the potential of utilizing the parameter merging technique to improve single-task LLMs has not yet received much attention.
While some studies, such as <cite class="ltx_cite ltx_citemacro_citet">Wortsman et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib23" title="">2022</a>)</cite>, have explored merging models fine-tuned with different settings, these experiments were predominantly conducted on comparatively smaller models like BERT and achieved only modest improvements.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Detailed Experimental Settings</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<section class="ltx_subsection" id="A2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Datasets</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="A2.SS1.p1">
<p class="ltx_p" id="A2.SS1.p1.1">Datasets employed in our experiments are categorized into two groups: LLM tasks and traditional NLP tasks.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
<div class="ltx_para ltx_noindent" id="A2.SS1.p2">
<p class="ltx_p" id="A2.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="A2.SS1.p2.1.1">LLM Tasks:</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<ul class="ltx_itemize" id="A2.I1">
<li class="ltx_item" id="A2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i1.p1">
<p class="ltx_p" id="A2.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i1.p1.1.1">Instruction-following:</span> Stanford Alpaca <cite class="ltx_cite ltx_citemacro_citep">(Taori et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib19" title="">2023</a>)</cite></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i2.p1">
<p class="ltx_p" id="A2.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i2.p1.1.1">Mathematical Reasoning:</span> GSM8K <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib4" title="">2021</a>)</cite>, GSM8K-RFT <cite class="ltx_cite ltx_citemacro_citep">(Yuan et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib29" title="">2023</a>)</cite>, MATH <cite class="ltx_cite ltx_citemacro_citep">(Hendrycks et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib7" title="">2021</a>)</cite></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A2.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i3.p1">
<p class="ltx_p" id="A2.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i3.p1.1.1">Code-generating:</span> Evol-instruction-66k, obtained from <a class="ltx_ref ltx_href" href="https://huggingface.co/datasets/codefuse-ai/Evol-instruction-66k" title="">Hugging Face Datasets</a></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
</ul>
<br class="ltx_break">
<p class="ltx_p" id="A2.SS1.p2.2"><span class="ltx_text ltx_font_bold" id="A2.SS1.p2.2.1">Traditional NLP Tasks:</span></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<ul class="ltx_itemize" id="A2.I2">
<li class="ltx_item" id="A2.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i1.p1">
<p class="ltx_p" id="A2.I2.i1.p1.1">SST-2 <cite class="ltx_cite ltx_citemacro_citep">(Xu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib25" title="">2023</a>)</cite></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A2.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i2.p1">
<p class="ltx_p" id="A2.I2.i2.p1.1">MNLI <cite class="ltx_cite ltx_citemacro_citep">(Williams et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib22" title="">2017</a>)</cite></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A2.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i3.p1">
<p class="ltx_p" id="A2.I2.i3.p1.1">SQuAD <cite class="ltx_cite ltx_citemacro_citep">(Rajpurkar et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib17" title="">2016</a>)</cite></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A2.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i4.p1">
<p class="ltx_p" id="A2.I2.i4.p1.1">AG News <cite class="ltx_cite ltx_citemacro_citep">(Zhang et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib32" title="">2015</a>)</cite></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A2.I2.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i5.p1">
<p class="ltx_p" id="A2.I2.i5.p1.1">Hellaswag <cite class="ltx_cite ltx_citemacro_citep">(Zellers et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib30" title="">2019</a>)</cite></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A2.I2.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i6.p1">
<p class="ltx_p" id="A2.I2.i6.p1.1">MRPC <cite class="ltx_cite ltx_citemacro_citep">(Dolan and Brockett, <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib6" title="">2005</a>)</cite></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
<li class="ltx_item" id="A2.I2.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i7.p1">
<p class="ltx_p" id="A2.I2.i7.p1.1">Winogrande <cite class="ltx_cite ltx_citemacro_citep">(Sakaguchi et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib18" title="">2020</a>)</cite></p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</li>
</ul>
<p class="ltx_p" id="A2.SS1.p2.3">For traditional tasks, experiments involving decoder-based models utilized the version collected by <cite class="ltx_cite ltx_citemacro_citet">Cheng et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib3" title="">2023</a>); Wang et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib21" title="">2023</a>)</cite>.
For the MATH dataset, an augmented version <cite class="ltx_cite ltx_citemacro_citep">(Yu et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib28" title="">2023b</a>)</cite> is employed, with data originally sourced from GSM8K excluded. The Evol-instruction-66k dataset is obtained from the Hugging Face library (<a class="ltx_ref ltx_href" href="https://huggingface.co/datasets/codefuse-ai/Evol-instruction-66k" title="">https://huggingface.co/datasets/codefuse-ai/Evol-instruction-66k</a>).</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="A2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Evaluation Metrics</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="A2.SS2.p1">
<p class="ltx_p" id="A2.SS2.p1.1">We employ AlpacaEval <cite class="ltx_cite ltx_citemacro_citep">(Li et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib13" title="">2023</a>)</cite> to evaluate models fine-tuned on Stanford Alpaca dataset, using win-rate as the evaluation metric and GPT-4 as the annotator.
We employ HumanEval <cite class="ltx_cite ltx_citemacro_citep">(Chen et&nbsp;al., <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib2" title="">2021</a>)</cite> to evaluate models fine-tuned on Evol-instruction-66k dataset, using pass@1 as the evaluation metric.
For the SQuAD dataset, Exact Match (EM) is utilized as the evaluation metric. Accuracy (acc) is used as the evaluation metric for all other tasks.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="A2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>Basic Settings</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="A2.SS3.p1">
<p class="ltx_p" id="A2.SS3.p1.1">For single SFT models, we report the average results across all sub-models. For parameter-selection merging models, we conduct five experiments with different random seeds and report the average outcomes. For decoder-based models, the temperature is set to 0.0 for greedy decoding. Training of LLMs was conducted using mixed precision BF16. All experiments were conducted on 8 NVIDIA Tesla A800 GPUs.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
<section class="ltx_subsection" id="A2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.4 </span>Hyperparameters</h3><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="A2.SS4.p1">
<p class="ltx_p" id="A2.SS4.p1.3">For the parameter merging method, the number of sub-models <math alttext="K" class="ltx_Math" display="inline" id="A2.SS4.p1.1.m1.1"><semantics id="A2.SS4.p1.1.m1.1a"><mi id="A2.SS4.p1.1.m1.1.1" xref="A2.SS4.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A2.SS4.p1.1.m1.1b"><ci id="A2.SS4.p1.1.m1.1.1.cmml" xref="A2.SS4.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS4.p1.1.m1.1c">K</annotation><annotation encoding="application/x-llamapun" id="A2.SS4.p1.1.m1.1d">italic_K</annotation></semantics></math> is a necessary hyperparameter. Based on the selection range of 1-50 suggested by <cite class="ltx_cite ltx_citemacro_citet">Wortsman et&nbsp;al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#bib.bib23" title="">2022</a>)</cite>, we use <math alttext="K=20" class="ltx_Math" display="inline" id="A2.SS4.p1.2.m2.1"><semantics id="A2.SS4.p1.2.m2.1a"><mrow id="A2.SS4.p1.2.m2.1.1" xref="A2.SS4.p1.2.m2.1.1.cmml"><mi id="A2.SS4.p1.2.m2.1.1.2" xref="A2.SS4.p1.2.m2.1.1.2.cmml">K</mi><mo id="A2.SS4.p1.2.m2.1.1.1" xref="A2.SS4.p1.2.m2.1.1.1.cmml">=</mo><mn id="A2.SS4.p1.2.m2.1.1.3" xref="A2.SS4.p1.2.m2.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS4.p1.2.m2.1b"><apply id="A2.SS4.p1.2.m2.1.1.cmml" xref="A2.SS4.p1.2.m2.1.1"><eq id="A2.SS4.p1.2.m2.1.1.1.cmml" xref="A2.SS4.p1.2.m2.1.1.1"></eq><ci id="A2.SS4.p1.2.m2.1.1.2.cmml" xref="A2.SS4.p1.2.m2.1.1.2">𝐾</ci><cn id="A2.SS4.p1.2.m2.1.1.3.cmml" type="integer" xref="A2.SS4.p1.2.m2.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS4.p1.2.m2.1c">K=20</annotation><annotation encoding="application/x-llamapun" id="A2.SS4.p1.2.m2.1d">italic_K = 20</annotation></semantics></math>, a relatively moderate value for all datasets (15 datasets in total). The search space for resampling times <math alttext="n" class="ltx_Math" display="inline" id="A2.SS4.p1.3.m3.1"><semantics id="A2.SS4.p1.3.m3.1a"><mi id="A2.SS4.p1.3.m3.1.1" xref="A2.SS4.p1.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A2.SS4.p1.3.m3.1b"><ci id="A2.SS4.p1.3.m3.1.1.cmml" xref="A2.SS4.p1.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS4.p1.3.m3.1c">n</annotation><annotation encoding="application/x-llamapun" id="A2.SS4.p1.3.m3.1d">italic_n</annotation></semantics></math> includes {1, 2, 3, 4}.
In our experiments, the maximum number of epochs was set to 3, with model states saved at the end of each epoch.
The hyperparameters used for fine-tuning are detailed in Tables <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A0.T5" title="Table 5 ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">5</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2410.03743v1#A0.T6" title="Table 6 ‣ Mitigating Training Imbalance in LLM Fine-Tuning via Selective Parameter Merging"><span class="ltx_text ltx_ref_tag">6</span></a>.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Computational Complexity of Merging Process</h2><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">The parameter selection and weighted-average merging processes can be efficiently managed on a CPU with rapid execution times. For instance, merging 10 Llama-2-7b models on a single CPU typically takes about 1 minute. The resampling process, meanwhile, requires time proportional to the number of resampling iterations <math alttext="n" class="ltx_Math" display="inline" id="A3.p1.1.m1.1"><semantics id="A3.p1.1.m1.1a"><mi id="A3.p1.1.m1.1.1" xref="A3.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A3.p1.1.m1.1b"><ci id="A3.p1.1.m1.1.1.cmml" xref="A3.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="A3.p1.1.m1.1d">italic_n</annotation></semantics></math>, with each iteration approximately taking about 0.1 minute.</p><button class="sr-only button" style="display: none;">Report issue for preceding element</button>
</div>
</section>
</article>
</div>

</div>


<button type="button" class="btn btn-primary hover-rp-button" id="openForm">Report Issue</button><div class="modal" id="myForm" role="dialog" aria-labelledby="modal-title"><div class="modal-dialog"><form class="modal-content" id="myFormContent" enctype="multipart/form-data"><div class="modal-header" id="modal-header"><h5 class="modal-title">Report Github Issue</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><label for="form_title" id="modalTitle">Title:</label><input class="form-control" id="form_title" name="form_title" required="required" placeholder="Enter title"><label for="description" id="selectedTextModalDescription" style="display: none;">Content selection saved. Describe the issue below:</label><label for="description" id="nomralModalDescription">Description:</label><textarea class="form-control" id="description" name="description" required="required" style="height: 80px;" maxlength="500" placeholder="500 characters maximum"></textarea></div><div class="modal-footer d-flex justify-content-end"><button type="submit" class="sr-only button" id="modal-submit-sr">Submit without Github</button><button type="submit" class="btn btn-primary" id="modal-submit">Submit in Github</button></div></form></div></div><button id="small-report-button" type="button" class="btn btn-secondary btn-sm" style="background-color: rgb(179, 27, 27); position: fixed;">Report Issue for Selection</button><div class="ltx_page_footer">
        <div class="ltx_page_logo">
            Generated by
            <a href="https://math.nist.gov/~BMiller/LaTeXML/" class="ltx_LaTeXML_logo">
                <span style="letter-spacing: -0.2em; margin-right: 0.1em;">
                    L
                    <span style="font-size: 70%; position: relative; bottom: 2.2pt;">A</span>
                    T
                    <span style="position: relative; bottom: -0.4ex;">E</span>
                </span>
                <span class="ltx_font_smallcaps">xml</span>
                <img alt="[LOGO]" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==">
            </a>
        </div></div><footer id="footer" class="ltx_document">
        <div class="keyboard-glossary">
            <h2>Instructions for reporting errors</h2>
            <p>We are continuing to improve HTML versions of papers, and your feedback helps enhance accessibility and mobile support. To report errors in the HTML that will help us improve conversion and rendering, choose any of the methods listed below:</p>
            <ul>
                <li>Click the "Report Issue" button.</li>
                <li>Open a report feedback form via keyboard, use "<strong>Ctrl + ?</strong>".</li>
                <li>Make a text selection and click the "Report Issue for Selection" button near your cursor.</li>
                <li class="sr-only">You can use Alt+Y to toggle on and Alt+Shift+Y to toggle off accessible reporting links at each section.</li>
            </ul>
            <p>Our team has already identified <a class="ltx_ref" href="https://github.com/arXiv/html_feedback/issues" target="_blank">the following issues</a>. We appreciate your time reviewing and reporting rendering errors we may not have found yet. Your efforts will help us improve the HTML versions for all readers, because disability should not be a barrier to accessing research. Thank you for your continued support in championing open access for all.</p>
            <p>Have a free development cycle? Help support accessibility at arXiv! Our collaborators at LaTeXML maintain a <a class="ltx_ref" href="https://github.com/brucemiller/LaTeXML/wiki/Porting-LaTeX-packages-for-LaTeXML" target="_blank">list of packages that need conversion</a>, and welcome <a class="ltx_ref" href="https://github.com/brucemiller/LaTeXML/issues" target="_blank">developer contributions</a>.</p>
        </div>
    </footer></body></html>