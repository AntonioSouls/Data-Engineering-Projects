<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2307.13619] RecursiveDet: End-to-End Region-based Recursive Object Detection</title><meta property="og:description" content="End-to-end region-based object detectors like Sparse R-CNN usually have multiple cascade bounding box decoding stages, which refine the current predictions according to their previous results. Model parameters within e…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RecursiveDet: End-to-End Region-based Recursive Object Detection">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="RecursiveDet: End-to-End Region-based Recursive Object Detection">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2307.13619">

<!--Generated on Wed Feb 28 16:09:01 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">RecursiveDet: End-to-End Region-based Recursive Object Detection</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname"><math id="id1.1.m1.1" class="ltx_Math" alttext="\text{Jing Zhao}^{1}" display="inline"><semantics id="id1.1.m1.1a"><msup id="id1.1.m1.1.1" xref="id1.1.m1.1.1.cmml"><mtext id="id1.1.m1.1.1.2" xref="id1.1.m1.1.1.2a.cmml">Jing Zhao</mtext><mn id="id1.1.m1.1.1.3" xref="id1.1.m1.1.1.3.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id1.1.m1.1b"><apply id="id1.1.m1.1.1.cmml" xref="id1.1.m1.1.1"><csymbol cd="ambiguous" id="id1.1.m1.1.1.1.cmml" xref="id1.1.m1.1.1">superscript</csymbol><ci id="id1.1.m1.1.1.2a.cmml" xref="id1.1.m1.1.1.2"><mtext id="id1.1.m1.1.1.2.cmml" xref="id1.1.m1.1.1.2">Jing Zhao</mtext></ci><cn type="integer" id="id1.1.m1.1.1.3.cmml" xref="id1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id1.1.m1.1c">\text{Jing Zhao}^{1}</annotation></semantics></math>, <math id="id2.2.m2.4" class="ltx_Math" alttext="\text{Li Sun}^{1,2*}" display="inline"><semantics id="id2.2.m2.4a"><msup id="id2.2.m2.4.5" xref="id2.2.m2.4.5.cmml"><mtext id="id2.2.m2.4.5.2" xref="id2.2.m2.4.5.2a.cmml">Li Sun</mtext><mrow id="id2.2.m2.4.4.4.4" xref="id2.2.m2.4.4.4.5.cmml"><mrow id="id2.2.m2.4.4.4.4.1.2" xref="id2.2.m2.4.4.4.4.1.1.cmml"><mn id="id2.2.m2.1.1.1.1" xref="id2.2.m2.1.1.1.1.cmml">1</mn><mo id="id2.2.m2.4.4.4.4.1.2.1" xref="id2.2.m2.4.4.4.4.1.1.cmml">,</mo><mn id="id2.2.m2.2.2.2.2" xref="id2.2.m2.2.2.2.2.cmml">2</mn></mrow><mo lspace="0.222em" id="id2.2.m2.4.4.4.4.2" xref="id2.2.m2.4.4.4.5.cmml">⁣</mo><mo id="id2.2.m2.3.3.3.3" xref="id2.2.m2.3.3.3.3.cmml">∗</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="id2.2.m2.4b"><apply id="id2.2.m2.4.5.cmml" xref="id2.2.m2.4.5"><csymbol cd="ambiguous" id="id2.2.m2.4.5.1.cmml" xref="id2.2.m2.4.5">superscript</csymbol><ci id="id2.2.m2.4.5.2a.cmml" xref="id2.2.m2.4.5.2"><mtext id="id2.2.m2.4.5.2.cmml" xref="id2.2.m2.4.5.2">Li Sun</mtext></ci><list id="id2.2.m2.4.4.4.5.cmml" xref="id2.2.m2.4.4.4.4"><list id="id2.2.m2.4.4.4.4.1.1.cmml" xref="id2.2.m2.4.4.4.4.1.2"><cn type="integer" id="id2.2.m2.1.1.1.1.cmml" xref="id2.2.m2.1.1.1.1">1</cn><cn type="integer" id="id2.2.m2.2.2.2.2.cmml" xref="id2.2.m2.2.2.2.2">2</cn></list><times id="id2.2.m2.3.3.3.3.cmml" xref="id2.2.m2.3.3.3.3"></times></list></apply></annotation-xml><annotation encoding="application/x-tex" id="id2.2.m2.4c">\text{Li Sun}^{1,2*}</annotation></semantics></math>, <math id="id3.3.m3.1" class="ltx_Math" alttext="\text{Qingli Li}^{1}" display="inline"><semantics id="id3.3.m3.1a"><msup id="id3.3.m3.1.1" xref="id3.3.m3.1.1.cmml"><mtext id="id3.3.m3.1.1.2" xref="id3.3.m3.1.1.2a.cmml">Qingli Li</mtext><mn id="id3.3.m3.1.1.3" xref="id3.3.m3.1.1.3.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id3.3.m3.1b"><apply id="id3.3.m3.1.1.cmml" xref="id3.3.m3.1.1"><csymbol cd="ambiguous" id="id3.3.m3.1.1.1.cmml" xref="id3.3.m3.1.1">superscript</csymbol><ci id="id3.3.m3.1.1.2a.cmml" xref="id3.3.m3.1.1.2"><mtext id="id3.3.m3.1.1.2.cmml" xref="id3.3.m3.1.1.2">Qingli Li</mtext></ci><cn type="integer" id="id3.3.m3.1.1.3.cmml" xref="id3.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id3.3.m3.1c">\text{Qingli Li}^{1}</annotation></semantics></math> 
<br class="ltx_break"><sup id="id6.6.id1" class="ltx_sup">1</sup>Shanghai Key Laboratory of Multidimensional Information Processing, 
<br class="ltx_break"><sup id="id7.7.id2" class="ltx_sup">2</sup>Key Laboratory of Advanced Theory and Application in Statistics and Data Science,
<br class="ltx_break">East China Normal University, Shanghai, China
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id8.id1" class="ltx_p">End-to-end region-based object detectors like Sparse R-CNN usually have multiple cascade bounding box decoding stages, which refine the current predictions according to their previous results. Model parameters within each stage are independent, evolving a huge cost. In this paper, we find the general setting of decoding stages is actually redundant. By simply sharing parameters and making a recursive decoder, the detector already obtains a significant improvement. The recursive decoder can be further enhanced by positional encoding (PE) of the proposal box, which makes it aware of the exact locations and sizes of input bounding boxes, thus becoming adaptive to proposals from different stages during the recursion. Moreover, we also design centerness-based PE to distinguish the RoI feature element and dynamic convolution kernels at different positions within the bounding box. To validate the effectiveness of the proposed method, we conduct intensive ablations and build the full model on three recent mainstream region-based detectors. The RecusiveDet is able to achieve obvious performance boosts with even fewer model parameters and slightly increased computation cost. Codes are available at <a target="_blank" href="https://github.com/bravezzzzzz/RecursiveDet" title="" class="ltx_ref ltx_href">https://github.com/bravezzzzzz/RecursiveDet</a>.</p>
</div>
<span id="footnotex1" class="ltx_note ltx_role_footnotetext"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotetext: </span>Corresponding author, email: sunli@ee.ecnu.edu.cn. This work is supported by the Science and Technology Commission of Shanghai Municipality under Grant No. 22511105800, 19511120800 and 22DZ2229004.</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Object detection has been intensively investigated by computer vision community for decades. Traditional detectors built by deep convolutional neural network (CNN) are either anchor-based <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> or anchor-free <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite>. The former performs classification and regression based on pre-defined densely tiled bounding boxes, while the latter only assumes grid points in the 2D image plane. On the other hand, detection can be completed in a single stage, two stages or even multiple cascade stages. The single-stage method directly gives predictions without further modifications, which is usually simple and efficient. Two- or multi-stage methods repeatedly make corrections based on previous results, which offer better results but cost more model parameters and calculations. Except for the first stage, later stages are usually region-based, focusing on the local region within the bounding box, which is often realized by RoI Align <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2307.13619/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="161" height="176" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Comparison between end-to-end region-based detector and RecusiveDet.
<math id="S1.F1.8.m1.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S1.F1.8.m1.1b"><mi id="S1.F1.8.m1.1.1" xref="S1.F1.8.m1.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S1.F1.8.m1.1c"><ci id="S1.F1.8.m1.1.1.cmml" xref="S1.F1.8.m1.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.8.m1.1d">I</annotation></semantics></math> is the input image feature. <math id="S1.F1.9.m2.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S1.F1.9.m2.1b"><mi id="S1.F1.9.m2.1.1" xref="S1.F1.9.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S1.F1.9.m2.1c"><ci id="S1.F1.9.m2.1.1.cmml" xref="S1.F1.9.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.9.m2.1d">q</annotation></semantics></math> and <math id="S1.F1.10.m3.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S1.F1.10.m3.1b"><mi id="S1.F1.10.m3.1.1" xref="S1.F1.10.m3.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S1.F1.10.m3.1c"><ci id="S1.F1.10.m3.1.1.cmml" xref="S1.F1.10.m3.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.10.m3.1d">b</annotation></semantics></math> are proposal feature and proposal box at input. <math id="S1.F1.11.m4.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S1.F1.11.m4.1b"><mi id="S1.F1.11.m4.1.1" xref="S1.F1.11.m4.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S1.F1.11.m4.1c"><ci id="S1.F1.11.m4.1.1.cmml" xref="S1.F1.11.m4.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.11.m4.1d">c</annotation></semantics></math> and <math id="S1.F1.12.m5.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S1.F1.12.m5.1b"><mi id="S1.F1.12.m5.1.1" xref="S1.F1.12.m5.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S1.F1.12.m5.1c"><ci id="S1.F1.12.m5.1.1.cmml" xref="S1.F1.12.m5.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.12.m5.1d">b</annotation></semantics></math> indicate the class and bounding box of the predictions at output. In RecursiveDet, we encode <math id="S1.F1.13.m6.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S1.F1.13.m6.1b"><mi id="S1.F1.13.m6.1.1" xref="S1.F1.13.m6.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S1.F1.13.m6.1c"><ci id="S1.F1.13.m6.1.1.cmml" xref="S1.F1.13.m6.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.13.m6.1d">b</annotation></semantics></math> into PE vector <math id="S1.F1.14.m7.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S1.F1.14.m7.1b"><mi id="S1.F1.14.m7.1.1" xref="S1.F1.14.m7.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S1.F1.14.m7.1c"><ci id="S1.F1.14.m7.1.1.cmml" xref="S1.F1.14.m7.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.14.m7.1d">p</annotation></semantics></math>.
(a) Detectors like Sparse R-CNN, AdaMixer and DiffusionDet have cascade stages, which bring a huge amount of parameters. (b) Our proposed RecursiveDet simply shares the decoder parameters and makes the structure recursive, which reduces the model size.
</figcaption>
</figure>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Although these detectors have been widely used, they are often complained for complex pre- and post-designs, <em id="S1.p2.1.1" class="ltx_emph ltx_font_italic">e.g.</em>, anchor sizes, standards for positive and negative samples, and non-maximum suppression (NMS) on results. DEtection TRansformer (DETR) simplifies the framework. It relies on multi-stage transformer decoder layers to update learnable queries into object features, which can be decoded into bounding box predictions at each stage. During training, DETR utilizes bipartite matching to determine positive and negative query samples in a dynamic way. Since each ground truth (GT) box is assigned with only one query as positive, NMS is no longer necessary. However, DETR has extremely low efficiency, mainly due to the lack of inductive bias in the transformer decoder. Later works incorporate either bounding box positional encoding (PE), iterative refinement or local deformation into the decoder, hence greatly improve the training efficiency.
</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Similar to DETR, region-based methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> also treat object detection as a set prediction task between predictions and GTs, and they all adopt a multi-stage strategy. Sparse R-CNN is a representative work depending on RoI Align. It employs a set of learnable proposal features to generate dynamic conv filters for image RoI features within corresponding proposal boxes. Compared to DETR, region-based methods obtain accurate results and high data efficiency. However, the model sizes are obviously larger than DETR-series, which not only limit their applications but also cause degradation for the small-scale dataset.
We find that some specific layers in region-based methods account for most of the parameter number, so they can potentially be improved. Moreover, since proposal features are equivalent to object queries in DETR, it should be practical to introduce PE of bounding boxes like <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>, so the self attention and dynamic conv know the exact global and local positions of image features.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Based on the above considerations, this paper proposes the RecursiveDet, a common cascade decoder structure built on dynamic conv for region-based detectors. Specifically, we share the decoder parameters and make the same module recursive in different stages, allowing training it
based on proposal boxes of different qualities. By simply sharing all decoder parameters among different stages,
the model size is apparently reduced while its performance only suffers a slight drop. Moreover, since the dynamic layer for generating conv kernels and out layer after dynamic conv are huge, we intend to make full use of them and apply the dynamic conv for more layers.
In practice, we update the proposal feature after the first group of dynamic convs. Then the updated feature is given to the same dynamic layer, specifying conv kernels for the second group. In other words, the dynamic layer and out layer are reused to increase the model depth within a stage without extra parameter cost.
</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Due to sharing parameters of decoder stages, its input becomes indispensable to distinguish each decoding stage. Therefore, more information about the previous predictions needs to be utilized as input. Inspired by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>, we encode the positions and shapes of the bounding boxes into PE vectors, which are then employed for both position-aware self attention and dynamic conv. Since the PE of bounding box is only computed from the global image coordinate and shape size, we design a centerness-based PE to represent different locations within the RoI as compensation. By combining the PE of bounding box and centerness within dynamic conv, our RecursiveDet model is able to fully exploit both proposal features and boxes in the end-to-end region-based detector. </p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">To validate the effectiveness of the proposed RecursiveDet, intensive experiments and ablation studies are conducted on MS-COCO dataset. We implement RecursiveDet in three mainstream detectors, including Sparse R-CNN, AdaMixer and DiffusionDet, and achieve consistent performance boosts. We point that Sparse R-CNN and AdaMixer are end-to-end, while DiffusionDet is not. In summary, the contribution of this paper lies in the following aspects.
</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We propose to share the decoder parameters among different stages in the region-based detector, which significantly reduces the model size without severely degrading the performance. Moreover, we repeatedly use the dynamic layer to generate conv kernels for more layers in a single stage, increasing the model depth for further performance gain.
</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We design the bounding box PE according to the geometry information from predictions. Besides, the local coordinate is represented based on centerness PE, discriminating each feature within RoI. We make these PEs to participate in self attention and dynamic conv in the region-based detector. </p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">The proposed RecursiveDet is implemented in different end-to-end region-based detectors, showing that it enhances all of them and reduces the model size at the same time.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<div id="S2.p1" class="ltx_para ltx_noindent">
<p id="S2.p1.1" class="ltx_p"><span id="S2.p1.1.1" class="ltx_text ltx_font_bold">CNN-based detector</span>.
Earlier CNN-based object detectors hold assumptions on densely located anchor boxes <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> or gird points <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib47" title="" class="ltx_ref">47</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite> in 2D plane, and they compute the classification and bounding box regression loss for each candidate sample.
Anchor-based methods heavily rely on hyper-parameters of anchor sizes. Moreover, they need heuristic rules, like the IoU threshold, to determine positive and negative anchors. The NMS post operation is also cumbersome. Grid point-based methods make detectors free from anchor boxes. They directly locate the GT box from the grid, however, positive and negative assignment is still a critical issue, which is often realized in a simple way. <em id="S2.p1.1.2" class="ltx_emph ltx_font_italic">E.g.</em>, FCOS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> assumes the points inside a GT box to be positive, and RepPoints <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite> labels a grid point nearest to the GT box as the positive. Giving the importance of sample assignment, researchers propose different schemes <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> to prevent heuristic rules. Another way to characterize different detectors is based on the number of detection stages. Single stage detectors <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> are more efficient than two- <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite> or multi-stage <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> competitors. They directly give results from whole image, while two- or multi-stage methods bring region-based feature from RoI Align to later stages to increase the accuracy.
</p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.1" class="ltx_p"><span id="S2.p2.1.1" class="ltx_text ltx_font_bold">Detection transformer</span>. DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> opens a new era for object detection, since it eliminates most handcrafted designs. It starts from a set of learnable queries and employs multiple decoder attention blocks to update them into object features for the detection head. DETR adopts dynamic bipartite matching to build one-to-one relation between the GTs and predictions. However, the slow convergence and large training set requirement become its obstacle. Later works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib41" title="" class="ltx_ref">41</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib42" title="" class="ltx_ref">42</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> focus on incorporating spatial prior or extra query group into model for faster training and better results. Deformable DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite> utilizes deformable attention <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib48" title="" class="ltx_ref">48</a>]</cite> and iterative refinement. SMCA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> predicts a spatial mask from query to modulate attention matrix. REGO <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> employs RoI Align in DETR-series. Conditional <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> and Anchor <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> DETR encode the center of bounding box as PE to assist the decoder, and DAB-DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> further extends PE to bounding box coordinates including width and height. DN-DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> introduces de-noising query group to accelerate training. DINO <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite> improves it through contrastive learning and query selection.</p>
</div>
<div id="S2.p3" class="ltx_para ltx_noindent">
<p id="S2.p3.1" class="ltx_p"><span id="S2.p3.1.1" class="ltx_text ltx_font_bold">End-to-end region-based detector</span>. 
Similar to DETR-series, end-to-end region-based detectors <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib45" title="" class="ltx_ref">45</a>, <a href="#bib.bib44" title="" class="ltx_ref">44</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> start from learnable proposal features and update them into object features for final predictions in a cascade manner. They also borrow the dynamic bipartite matching in DETR to prevent NMS. However, instead of cross attention, dynamic conv is used to connect image with proposal features. Moreover, such detectors sample RoI feature within the bounding box from the previous stage for dynamic conv. The first representative work is Sparse R-CNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>. To further speed up the convergence, AdaMixer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> replaces RoI Align by sampling points directly from the 3D feature pyramid and borrows the idea of MLP-Mixer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> which changes axis of the second time dynamic conv. DiffusionDet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> first utilizes training loss in diffusion model, and builds a multi-step multi-stage detector based on Sparse R-CNN. Our RecursiveDet belongs to this type, and it can be applied in most of them to improve the cascade decoding stages.</p>
</div>
<div id="S2.p4" class="ltx_para ltx_noindent">
<p id="S2.p4.1" class="ltx_p"><span id="S2.p4.1.1" class="ltx_text ltx_font_bold">Recursive module in deep model.</span> The typical recursive model in neural networks is RNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, which is unrolled in multi-step during training. Many models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> with recursive module have been proposed to address different tasks. Recent work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> applies recursive transformer block to increase the model depth. In object detection, recursive backbone <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> and FPN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite> have been proposed, however, none of the work deals with recursive decoder attention, particularly for object detection task.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Preliminaries</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.31" class="ltx_p">This paper focuses on the end-to-end region-based detectors, among which Sparse R-CNN is the first typical model. It has a learnable proposal feature set <math id="S3.SS1.p1.1.m1.2" class="ltx_Math" alttext="\mathcal{Q}=\{q_{i}|q_{i}\in\mathbb{R}^{c}\}" display="inline"><semantics id="S3.SS1.p1.1.m1.2a"><mrow id="S3.SS1.p1.1.m1.2.2" xref="S3.SS1.p1.1.m1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.2.2.4" xref="S3.SS1.p1.1.m1.2.2.4.cmml">𝒬</mi><mo id="S3.SS1.p1.1.m1.2.2.3" xref="S3.SS1.p1.1.m1.2.2.3.cmml">=</mo><mrow id="S3.SS1.p1.1.m1.2.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p1.1.m1.2.2.2.2.3" xref="S3.SS1.p1.1.m1.2.2.2.3.1.cmml">{</mo><msub id="S3.SS1.p1.1.m1.1.1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.1.1.1.2.cmml">q</mi><mi id="S3.SS1.p1.1.m1.1.1.1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p1.1.m1.2.2.2.2.4" xref="S3.SS1.p1.1.m1.2.2.2.3.1.cmml">|</mo><mrow id="S3.SS1.p1.1.m1.2.2.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.2.2.cmml"><msub id="S3.SS1.p1.1.m1.2.2.2.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.cmml"><mi id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.cmml">q</mi><mi id="S3.SS1.p1.1.m1.2.2.2.2.2.2.3" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.SS1.p1.1.m1.2.2.2.2.2.1" xref="S3.SS1.p1.1.m1.2.2.2.2.2.1.cmml">∈</mo><msup id="S3.SS1.p1.1.m1.2.2.2.2.2.3" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3.cmml"><mi id="S3.SS1.p1.1.m1.2.2.2.2.2.3.2" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3.2.cmml">ℝ</mi><mi id="S3.SS1.p1.1.m1.2.2.2.2.2.3.3" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3.3.cmml">c</mi></msup></mrow><mo stretchy="false" id="S3.SS1.p1.1.m1.2.2.2.2.5" xref="S3.SS1.p1.1.m1.2.2.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.2b"><apply id="S3.SS1.p1.1.m1.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2"><eq id="S3.SS1.p1.1.m1.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.3"></eq><ci id="S3.SS1.p1.1.m1.2.2.4.cmml" xref="S3.SS1.p1.1.m1.2.2.4">𝒬</ci><apply id="S3.SS1.p1.1.m1.2.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2"><csymbol cd="latexml" id="S3.SS1.p1.1.m1.2.2.2.3.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.3">conditional-set</csymbol><apply id="S3.SS1.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.2">𝑞</ci><ci id="S3.SS1.p1.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.p1.1.m1.2.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2"><in id="S3.SS1.p1.1.m1.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.1"></in><apply id="S3.SS1.p1.1.m1.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.2">𝑞</ci><ci id="S3.SS1.p1.1.m1.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.2.3">𝑖</ci></apply><apply id="S3.SS1.p1.1.m1.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.2.2.2.3.1.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3">superscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.2.2.2.3.2.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3.2">ℝ</ci><ci id="S3.SS1.p1.1.m1.2.2.2.2.2.3.3.cmml" xref="S3.SS1.p1.1.m1.2.2.2.2.2.3.3">𝑐</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.2c">\mathcal{Q}=\{q_{i}|q_{i}\in\mathbb{R}^{c}\}</annotation></semantics></math>, in which each <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="q_{i}" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><msub id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">q</mi><mi id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">𝑞</ci><ci id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">q_{i}</annotation></semantics></math> is a <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">c</annotation></semantics></math> dimension vector to represent an object in image. Here <math id="S3.SS1.p1.4.m4.4" class="ltx_Math" alttext="i=1,2,\cdots,N" display="inline"><semantics id="S3.SS1.p1.4.m4.4a"><mrow id="S3.SS1.p1.4.m4.4.5" xref="S3.SS1.p1.4.m4.4.5.cmml"><mi id="S3.SS1.p1.4.m4.4.5.2" xref="S3.SS1.p1.4.m4.4.5.2.cmml">i</mi><mo id="S3.SS1.p1.4.m4.4.5.1" xref="S3.SS1.p1.4.m4.4.5.1.cmml">=</mo><mrow id="S3.SS1.p1.4.m4.4.5.3.2" xref="S3.SS1.p1.4.m4.4.5.3.1.cmml"><mn id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">1</mn><mo id="S3.SS1.p1.4.m4.4.5.3.2.1" xref="S3.SS1.p1.4.m4.4.5.3.1.cmml">,</mo><mn id="S3.SS1.p1.4.m4.2.2" xref="S3.SS1.p1.4.m4.2.2.cmml">2</mn><mo id="S3.SS1.p1.4.m4.4.5.3.2.2" xref="S3.SS1.p1.4.m4.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.4.m4.3.3" xref="S3.SS1.p1.4.m4.3.3.cmml">⋯</mi><mo id="S3.SS1.p1.4.m4.4.5.3.2.3" xref="S3.SS1.p1.4.m4.4.5.3.1.cmml">,</mo><mi id="S3.SS1.p1.4.m4.4.4" xref="S3.SS1.p1.4.m4.4.4.cmml">N</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.4b"><apply id="S3.SS1.p1.4.m4.4.5.cmml" xref="S3.SS1.p1.4.m4.4.5"><eq id="S3.SS1.p1.4.m4.4.5.1.cmml" xref="S3.SS1.p1.4.m4.4.5.1"></eq><ci id="S3.SS1.p1.4.m4.4.5.2.cmml" xref="S3.SS1.p1.4.m4.4.5.2">𝑖</ci><list id="S3.SS1.p1.4.m4.4.5.3.1.cmml" xref="S3.SS1.p1.4.m4.4.5.3.2"><cn type="integer" id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">1</cn><cn type="integer" id="S3.SS1.p1.4.m4.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2">2</cn><ci id="S3.SS1.p1.4.m4.3.3.cmml" xref="S3.SS1.p1.4.m4.3.3">⋯</ci><ci id="S3.SS1.p1.4.m4.4.4.cmml" xref="S3.SS1.p1.4.m4.4.4">𝑁</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.4c">i=1,2,\cdots,N</annotation></semantics></math> and <math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">N</annotation></semantics></math> is the total number of proposal features. Correspondingly, it keeps a set of proposal boxes <math id="S3.SS1.p1.6.m6.6" class="ltx_Math" alttext="\mathcal{B}=\{b_{i}|b_{i}=(x,y,w,h)\}" display="inline"><semantics id="S3.SS1.p1.6.m6.6a"><mrow id="S3.SS1.p1.6.m6.6.6" xref="S3.SS1.p1.6.m6.6.6.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.6.m6.6.6.4" xref="S3.SS1.p1.6.m6.6.6.4.cmml">ℬ</mi><mo id="S3.SS1.p1.6.m6.6.6.3" xref="S3.SS1.p1.6.m6.6.6.3.cmml">=</mo><mrow id="S3.SS1.p1.6.m6.6.6.2.2" xref="S3.SS1.p1.6.m6.6.6.2.3.cmml"><mo stretchy="false" id="S3.SS1.p1.6.m6.6.6.2.2.3" xref="S3.SS1.p1.6.m6.6.6.2.3.1.cmml">{</mo><msub id="S3.SS1.p1.6.m6.5.5.1.1.1" xref="S3.SS1.p1.6.m6.5.5.1.1.1.cmml"><mi id="S3.SS1.p1.6.m6.5.5.1.1.1.2" xref="S3.SS1.p1.6.m6.5.5.1.1.1.2.cmml">b</mi><mi id="S3.SS1.p1.6.m6.5.5.1.1.1.3" xref="S3.SS1.p1.6.m6.5.5.1.1.1.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m6.6.6.2.2.4" xref="S3.SS1.p1.6.m6.6.6.2.3.1.cmml">|</mo><mrow id="S3.SS1.p1.6.m6.6.6.2.2.2" xref="S3.SS1.p1.6.m6.6.6.2.2.2.cmml"><msub id="S3.SS1.p1.6.m6.6.6.2.2.2.2" xref="S3.SS1.p1.6.m6.6.6.2.2.2.2.cmml"><mi id="S3.SS1.p1.6.m6.6.6.2.2.2.2.2" xref="S3.SS1.p1.6.m6.6.6.2.2.2.2.2.cmml">b</mi><mi id="S3.SS1.p1.6.m6.6.6.2.2.2.2.3" xref="S3.SS1.p1.6.m6.6.6.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.SS1.p1.6.m6.6.6.2.2.2.1" xref="S3.SS1.p1.6.m6.6.6.2.2.2.1.cmml">=</mo><mrow id="S3.SS1.p1.6.m6.6.6.2.2.2.3.2" xref="S3.SS1.p1.6.m6.6.6.2.2.2.3.1.cmml"><mo stretchy="false" id="S3.SS1.p1.6.m6.6.6.2.2.2.3.2.1" xref="S3.SS1.p1.6.m6.6.6.2.2.2.3.1.cmml">(</mo><mi id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml">x</mi><mo id="S3.SS1.p1.6.m6.6.6.2.2.2.3.2.2" xref="S3.SS1.p1.6.m6.6.6.2.2.2.3.1.cmml">,</mo><mi id="S3.SS1.p1.6.m6.2.2" xref="S3.SS1.p1.6.m6.2.2.cmml">y</mi><mo id="S3.SS1.p1.6.m6.6.6.2.2.2.3.2.3" xref="S3.SS1.p1.6.m6.6.6.2.2.2.3.1.cmml">,</mo><mi id="S3.SS1.p1.6.m6.3.3" xref="S3.SS1.p1.6.m6.3.3.cmml">w</mi><mo id="S3.SS1.p1.6.m6.6.6.2.2.2.3.2.4" xref="S3.SS1.p1.6.m6.6.6.2.2.2.3.1.cmml">,</mo><mi id="S3.SS1.p1.6.m6.4.4" xref="S3.SS1.p1.6.m6.4.4.cmml">h</mi><mo stretchy="false" id="S3.SS1.p1.6.m6.6.6.2.2.2.3.2.5" xref="S3.SS1.p1.6.m6.6.6.2.2.2.3.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.SS1.p1.6.m6.6.6.2.2.5" xref="S3.SS1.p1.6.m6.6.6.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.6b"><apply id="S3.SS1.p1.6.m6.6.6.cmml" xref="S3.SS1.p1.6.m6.6.6"><eq id="S3.SS1.p1.6.m6.6.6.3.cmml" xref="S3.SS1.p1.6.m6.6.6.3"></eq><ci id="S3.SS1.p1.6.m6.6.6.4.cmml" xref="S3.SS1.p1.6.m6.6.6.4">ℬ</ci><apply id="S3.SS1.p1.6.m6.6.6.2.3.cmml" xref="S3.SS1.p1.6.m6.6.6.2.2"><csymbol cd="latexml" id="S3.SS1.p1.6.m6.6.6.2.3.1.cmml" xref="S3.SS1.p1.6.m6.6.6.2.2.3">conditional-set</csymbol><apply id="S3.SS1.p1.6.m6.5.5.1.1.1.cmml" xref="S3.SS1.p1.6.m6.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.5.5.1.1.1.1.cmml" xref="S3.SS1.p1.6.m6.5.5.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.5.5.1.1.1.2.cmml" xref="S3.SS1.p1.6.m6.5.5.1.1.1.2">𝑏</ci><ci id="S3.SS1.p1.6.m6.5.5.1.1.1.3.cmml" xref="S3.SS1.p1.6.m6.5.5.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.p1.6.m6.6.6.2.2.2.cmml" xref="S3.SS1.p1.6.m6.6.6.2.2.2"><eq id="S3.SS1.p1.6.m6.6.6.2.2.2.1.cmml" xref="S3.SS1.p1.6.m6.6.6.2.2.2.1"></eq><apply id="S3.SS1.p1.6.m6.6.6.2.2.2.2.cmml" xref="S3.SS1.p1.6.m6.6.6.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.6.6.2.2.2.2.1.cmml" xref="S3.SS1.p1.6.m6.6.6.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.6.m6.6.6.2.2.2.2.2.cmml" xref="S3.SS1.p1.6.m6.6.6.2.2.2.2.2">𝑏</ci><ci id="S3.SS1.p1.6.m6.6.6.2.2.2.2.3.cmml" xref="S3.SS1.p1.6.m6.6.6.2.2.2.2.3">𝑖</ci></apply><vector id="S3.SS1.p1.6.m6.6.6.2.2.2.3.1.cmml" xref="S3.SS1.p1.6.m6.6.6.2.2.2.3.2"><ci id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">𝑥</ci><ci id="S3.SS1.p1.6.m6.2.2.cmml" xref="S3.SS1.p1.6.m6.2.2">𝑦</ci><ci id="S3.SS1.p1.6.m6.3.3.cmml" xref="S3.SS1.p1.6.m6.3.3">𝑤</ci><ci id="S3.SS1.p1.6.m6.4.4.cmml" xref="S3.SS1.p1.6.m6.4.4">ℎ</ci></vector></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.6c">\mathcal{B}=\{b_{i}|b_{i}=(x,y,w,h)\}</annotation></semantics></math> with the same number of <math id="S3.SS1.p1.7.m7.1" class="ltx_Math" alttext="\mathcal{Q}" display="inline"><semantics id="S3.SS1.p1.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">𝒬</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">𝒬</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">\mathcal{Q}</annotation></semantics></math>,
where <math id="S3.SS1.p1.8.m8.1" class="ltx_Math" alttext="b_{i}" display="inline"><semantics id="S3.SS1.p1.8.m8.1a"><msub id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml"><mi id="S3.SS1.p1.8.m8.1.1.2" xref="S3.SS1.p1.8.m8.1.1.2.cmml">b</mi><mi id="S3.SS1.p1.8.m8.1.1.3" xref="S3.SS1.p1.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><apply id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2">𝑏</ci><ci id="S3.SS1.p1.8.m8.1.1.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">b_{i}</annotation></semantics></math> is a bounding box centered at <math id="S3.SS1.p1.9.m9.2" class="ltx_Math" alttext="(x,y)" display="inline"><semantics id="S3.SS1.p1.9.m9.2a"><mrow id="S3.SS1.p1.9.m9.2.3.2" xref="S3.SS1.p1.9.m9.2.3.1.cmml"><mo stretchy="false" id="S3.SS1.p1.9.m9.2.3.2.1" xref="S3.SS1.p1.9.m9.2.3.1.cmml">(</mo><mi id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml">x</mi><mo id="S3.SS1.p1.9.m9.2.3.2.2" xref="S3.SS1.p1.9.m9.2.3.1.cmml">,</mo><mi id="S3.SS1.p1.9.m9.2.2" xref="S3.SS1.p1.9.m9.2.2.cmml">y</mi><mo stretchy="false" id="S3.SS1.p1.9.m9.2.3.2.3" xref="S3.SS1.p1.9.m9.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.2b"><interval closure="open" id="S3.SS1.p1.9.m9.2.3.1.cmml" xref="S3.SS1.p1.9.m9.2.3.2"><ci id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1">𝑥</ci><ci id="S3.SS1.p1.9.m9.2.2.cmml" xref="S3.SS1.p1.9.m9.2.2">𝑦</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.2c">(x,y)</annotation></semantics></math> with its width and height representing by <math id="S3.SS1.p1.10.m10.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S3.SS1.p1.10.m10.1a"><mi id="S3.SS1.p1.10.m10.1.1" xref="S3.SS1.p1.10.m10.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m10.1b"><ci id="S3.SS1.p1.10.m10.1.1.cmml" xref="S3.SS1.p1.10.m10.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m10.1c">w</annotation></semantics></math> and <math id="S3.SS1.p1.11.m11.1" class="ltx_Math" alttext="h" display="inline"><semantics id="S3.SS1.p1.11.m11.1a"><mi id="S3.SS1.p1.11.m11.1.1" xref="S3.SS1.p1.11.m11.1.1.cmml">h</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m11.1b"><ci id="S3.SS1.p1.11.m11.1.1.cmml" xref="S3.SS1.p1.11.m11.1.1">ℎ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m11.1c">h</annotation></semantics></math>. According to <math id="S3.SS1.p1.12.m12.1" class="ltx_Math" alttext="\mathcal{B}" display="inline"><semantics id="S3.SS1.p1.12.m12.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.12.m12.1.1" xref="S3.SS1.p1.12.m12.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m12.1b"><ci id="S3.SS1.p1.12.m12.1.1.cmml" xref="S3.SS1.p1.12.m12.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m12.1c">\mathcal{B}</annotation></semantics></math>, the image RoI feature set <math id="S3.SS1.p1.13.m13.2" class="ltx_Math" alttext="\mathcal{F}=\{f_{i}|f_{i}\in\mathbb{R}^{7\times 7\times c}\}" display="inline"><semantics id="S3.SS1.p1.13.m13.2a"><mrow id="S3.SS1.p1.13.m13.2.2" xref="S3.SS1.p1.13.m13.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.13.m13.2.2.4" xref="S3.SS1.p1.13.m13.2.2.4.cmml">ℱ</mi><mo id="S3.SS1.p1.13.m13.2.2.3" xref="S3.SS1.p1.13.m13.2.2.3.cmml">=</mo><mrow id="S3.SS1.p1.13.m13.2.2.2.2" xref="S3.SS1.p1.13.m13.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p1.13.m13.2.2.2.2.3" xref="S3.SS1.p1.13.m13.2.2.2.3.1.cmml">{</mo><msub id="S3.SS1.p1.13.m13.1.1.1.1.1" xref="S3.SS1.p1.13.m13.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.13.m13.1.1.1.1.1.2" xref="S3.SS1.p1.13.m13.1.1.1.1.1.2.cmml">f</mi><mi id="S3.SS1.p1.13.m13.1.1.1.1.1.3" xref="S3.SS1.p1.13.m13.1.1.1.1.1.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p1.13.m13.2.2.2.2.4" xref="S3.SS1.p1.13.m13.2.2.2.3.1.cmml">|</mo><mrow id="S3.SS1.p1.13.m13.2.2.2.2.2" xref="S3.SS1.p1.13.m13.2.2.2.2.2.cmml"><msub id="S3.SS1.p1.13.m13.2.2.2.2.2.2" xref="S3.SS1.p1.13.m13.2.2.2.2.2.2.cmml"><mi id="S3.SS1.p1.13.m13.2.2.2.2.2.2.2" xref="S3.SS1.p1.13.m13.2.2.2.2.2.2.2.cmml">f</mi><mi id="S3.SS1.p1.13.m13.2.2.2.2.2.2.3" xref="S3.SS1.p1.13.m13.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.SS1.p1.13.m13.2.2.2.2.2.1" xref="S3.SS1.p1.13.m13.2.2.2.2.2.1.cmml">∈</mo><msup id="S3.SS1.p1.13.m13.2.2.2.2.2.3" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.cmml"><mi id="S3.SS1.p1.13.m13.2.2.2.2.2.3.2" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.2.cmml">ℝ</mi><mrow id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.cmml"><mn id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.2" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.2.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.1" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.1.cmml">×</mo><mn id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.3" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.3.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.1a" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.1.cmml">×</mo><mi id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.4" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.4.cmml">c</mi></mrow></msup></mrow><mo stretchy="false" id="S3.SS1.p1.13.m13.2.2.2.2.5" xref="S3.SS1.p1.13.m13.2.2.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.13.m13.2b"><apply id="S3.SS1.p1.13.m13.2.2.cmml" xref="S3.SS1.p1.13.m13.2.2"><eq id="S3.SS1.p1.13.m13.2.2.3.cmml" xref="S3.SS1.p1.13.m13.2.2.3"></eq><ci id="S3.SS1.p1.13.m13.2.2.4.cmml" xref="S3.SS1.p1.13.m13.2.2.4">ℱ</ci><apply id="S3.SS1.p1.13.m13.2.2.2.3.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2"><csymbol cd="latexml" id="S3.SS1.p1.13.m13.2.2.2.3.1.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.3">conditional-set</csymbol><apply id="S3.SS1.p1.13.m13.1.1.1.1.1.cmml" xref="S3.SS1.p1.13.m13.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.13.m13.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.13.m13.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.13.m13.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.13.m13.1.1.1.1.1.2">𝑓</ci><ci id="S3.SS1.p1.13.m13.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.13.m13.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS1.p1.13.m13.2.2.2.2.2.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2"><in id="S3.SS1.p1.13.m13.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.1"></in><apply id="S3.SS1.p1.13.m13.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.13.m13.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.13.m13.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.2.2">𝑓</ci><ci id="S3.SS1.p1.13.m13.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.2.3">𝑖</ci></apply><apply id="S3.SS1.p1.13.m13.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.13.m13.2.2.2.2.2.3.1.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3">superscript</csymbol><ci id="S3.SS1.p1.13.m13.2.2.2.2.2.3.2.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.2">ℝ</ci><apply id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3"><times id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.1.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.1"></times><cn type="integer" id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.2.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.2">7</cn><cn type="integer" id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.3.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.3">7</cn><ci id="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.4.cmml" xref="S3.SS1.p1.13.m13.2.2.2.2.2.3.3.4">𝑐</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m13.2c">\mathcal{F}=\{f_{i}|f_{i}\in\mathbb{R}^{7\times 7\times c}\}</annotation></semantics></math> is obtained from a multi-resolution feature pyramid by RoI Align operation, and each element is of the spatial size <math id="S3.SS1.p1.14.m14.1" class="ltx_Math" alttext="7\times 7" display="inline"><semantics id="S3.SS1.p1.14.m14.1a"><mrow id="S3.SS1.p1.14.m14.1.1" xref="S3.SS1.p1.14.m14.1.1.cmml"><mn id="S3.SS1.p1.14.m14.1.1.2" xref="S3.SS1.p1.14.m14.1.1.2.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.14.m14.1.1.1" xref="S3.SS1.p1.14.m14.1.1.1.cmml">×</mo><mn id="S3.SS1.p1.14.m14.1.1.3" xref="S3.SS1.p1.14.m14.1.1.3.cmml">7</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.14.m14.1b"><apply id="S3.SS1.p1.14.m14.1.1.cmml" xref="S3.SS1.p1.14.m14.1.1"><times id="S3.SS1.p1.14.m14.1.1.1.cmml" xref="S3.SS1.p1.14.m14.1.1.1"></times><cn type="integer" id="S3.SS1.p1.14.m14.1.1.2.cmml" xref="S3.SS1.p1.14.m14.1.1.2">7</cn><cn type="integer" id="S3.SS1.p1.14.m14.1.1.3.cmml" xref="S3.SS1.p1.14.m14.1.1.3">7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.14.m14.1c">7\times 7</annotation></semantics></math>. Sparse R-CNN has multiple cascade stages that gradually refine <math id="S3.SS1.p1.15.m15.1" class="ltx_Math" alttext="\mathcal{B}" display="inline"><semantics id="S3.SS1.p1.15.m15.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.15.m15.1.1" xref="S3.SS1.p1.15.m15.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.15.m15.1b"><ci id="S3.SS1.p1.15.m15.1.1.cmml" xref="S3.SS1.p1.15.m15.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.15.m15.1c">\mathcal{B}</annotation></semantics></math> to approach the GT box set. In each stage, the self attention within <math id="S3.SS1.p1.16.m16.1" class="ltx_Math" alttext="\mathcal{Q}" display="inline"><semantics id="S3.SS1.p1.16.m16.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.16.m16.1.1" xref="S3.SS1.p1.16.m16.1.1.cmml">𝒬</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.16.m16.1b"><ci id="S3.SS1.p1.16.m16.1.1.cmml" xref="S3.SS1.p1.16.m16.1.1">𝒬</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.16.m16.1c">\mathcal{Q}</annotation></semantics></math> set is first computed. Then, the proposal feature <math id="S3.SS1.p1.17.m17.1" class="ltx_Math" alttext="q_{i}" display="inline"><semantics id="S3.SS1.p1.17.m17.1a"><msub id="S3.SS1.p1.17.m17.1.1" xref="S3.SS1.p1.17.m17.1.1.cmml"><mi id="S3.SS1.p1.17.m17.1.1.2" xref="S3.SS1.p1.17.m17.1.1.2.cmml">q</mi><mi id="S3.SS1.p1.17.m17.1.1.3" xref="S3.SS1.p1.17.m17.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.17.m17.1b"><apply id="S3.SS1.p1.17.m17.1.1.cmml" xref="S3.SS1.p1.17.m17.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.17.m17.1.1.1.cmml" xref="S3.SS1.p1.17.m17.1.1">subscript</csymbol><ci id="S3.SS1.p1.17.m17.1.1.2.cmml" xref="S3.SS1.p1.17.m17.1.1.2">𝑞</ci><ci id="S3.SS1.p1.17.m17.1.1.3.cmml" xref="S3.SS1.p1.17.m17.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.17.m17.1c">q_{i}</annotation></semantics></math> is given to a huge dynamic layer, providing a pair of dynamic conv kernels <math id="S3.SS1.p1.18.m18.1" class="ltx_Math" alttext="k_{i}\in\mathbb{R}^{c\times d}" display="inline"><semantics id="S3.SS1.p1.18.m18.1a"><mrow id="S3.SS1.p1.18.m18.1.1" xref="S3.SS1.p1.18.m18.1.1.cmml"><msub id="S3.SS1.p1.18.m18.1.1.2" xref="S3.SS1.p1.18.m18.1.1.2.cmml"><mi id="S3.SS1.p1.18.m18.1.1.2.2" xref="S3.SS1.p1.18.m18.1.1.2.2.cmml">k</mi><mi id="S3.SS1.p1.18.m18.1.1.2.3" xref="S3.SS1.p1.18.m18.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS1.p1.18.m18.1.1.1" xref="S3.SS1.p1.18.m18.1.1.1.cmml">∈</mo><msup id="S3.SS1.p1.18.m18.1.1.3" xref="S3.SS1.p1.18.m18.1.1.3.cmml"><mi id="S3.SS1.p1.18.m18.1.1.3.2" xref="S3.SS1.p1.18.m18.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS1.p1.18.m18.1.1.3.3" xref="S3.SS1.p1.18.m18.1.1.3.3.cmml"><mi id="S3.SS1.p1.18.m18.1.1.3.3.2" xref="S3.SS1.p1.18.m18.1.1.3.3.2.cmml">c</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.18.m18.1.1.3.3.1" xref="S3.SS1.p1.18.m18.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.p1.18.m18.1.1.3.3.3" xref="S3.SS1.p1.18.m18.1.1.3.3.3.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.18.m18.1b"><apply id="S3.SS1.p1.18.m18.1.1.cmml" xref="S3.SS1.p1.18.m18.1.1"><in id="S3.SS1.p1.18.m18.1.1.1.cmml" xref="S3.SS1.p1.18.m18.1.1.1"></in><apply id="S3.SS1.p1.18.m18.1.1.2.cmml" xref="S3.SS1.p1.18.m18.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.18.m18.1.1.2.1.cmml" xref="S3.SS1.p1.18.m18.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.18.m18.1.1.2.2.cmml" xref="S3.SS1.p1.18.m18.1.1.2.2">𝑘</ci><ci id="S3.SS1.p1.18.m18.1.1.2.3.cmml" xref="S3.SS1.p1.18.m18.1.1.2.3">𝑖</ci></apply><apply id="S3.SS1.p1.18.m18.1.1.3.cmml" xref="S3.SS1.p1.18.m18.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.18.m18.1.1.3.1.cmml" xref="S3.SS1.p1.18.m18.1.1.3">superscript</csymbol><ci id="S3.SS1.p1.18.m18.1.1.3.2.cmml" xref="S3.SS1.p1.18.m18.1.1.3.2">ℝ</ci><apply id="S3.SS1.p1.18.m18.1.1.3.3.cmml" xref="S3.SS1.p1.18.m18.1.1.3.3"><times id="S3.SS1.p1.18.m18.1.1.3.3.1.cmml" xref="S3.SS1.p1.18.m18.1.1.3.3.1"></times><ci id="S3.SS1.p1.18.m18.1.1.3.3.2.cmml" xref="S3.SS1.p1.18.m18.1.1.3.3.2">𝑐</ci><ci id="S3.SS1.p1.18.m18.1.1.3.3.3.cmml" xref="S3.SS1.p1.18.m18.1.1.3.3.3">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.18.m18.1c">k_{i}\in\mathbb{R}^{c\times d}</annotation></semantics></math> and <math id="S3.SS1.p1.19.m19.1" class="ltx_Math" alttext="v_{i}\in\mathbb{R}^{d\times c}" display="inline"><semantics id="S3.SS1.p1.19.m19.1a"><mrow id="S3.SS1.p1.19.m19.1.1" xref="S3.SS1.p1.19.m19.1.1.cmml"><msub id="S3.SS1.p1.19.m19.1.1.2" xref="S3.SS1.p1.19.m19.1.1.2.cmml"><mi id="S3.SS1.p1.19.m19.1.1.2.2" xref="S3.SS1.p1.19.m19.1.1.2.2.cmml">v</mi><mi id="S3.SS1.p1.19.m19.1.1.2.3" xref="S3.SS1.p1.19.m19.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS1.p1.19.m19.1.1.1" xref="S3.SS1.p1.19.m19.1.1.1.cmml">∈</mo><msup id="S3.SS1.p1.19.m19.1.1.3" xref="S3.SS1.p1.19.m19.1.1.3.cmml"><mi id="S3.SS1.p1.19.m19.1.1.3.2" xref="S3.SS1.p1.19.m19.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS1.p1.19.m19.1.1.3.3" xref="S3.SS1.p1.19.m19.1.1.3.3.cmml"><mi id="S3.SS1.p1.19.m19.1.1.3.3.2" xref="S3.SS1.p1.19.m19.1.1.3.3.2.cmml">d</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.19.m19.1.1.3.3.1" xref="S3.SS1.p1.19.m19.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.p1.19.m19.1.1.3.3.3" xref="S3.SS1.p1.19.m19.1.1.3.3.3.cmml">c</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.19.m19.1b"><apply id="S3.SS1.p1.19.m19.1.1.cmml" xref="S3.SS1.p1.19.m19.1.1"><in id="S3.SS1.p1.19.m19.1.1.1.cmml" xref="S3.SS1.p1.19.m19.1.1.1"></in><apply id="S3.SS1.p1.19.m19.1.1.2.cmml" xref="S3.SS1.p1.19.m19.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.19.m19.1.1.2.1.cmml" xref="S3.SS1.p1.19.m19.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.19.m19.1.1.2.2.cmml" xref="S3.SS1.p1.19.m19.1.1.2.2">𝑣</ci><ci id="S3.SS1.p1.19.m19.1.1.2.3.cmml" xref="S3.SS1.p1.19.m19.1.1.2.3">𝑖</ci></apply><apply id="S3.SS1.p1.19.m19.1.1.3.cmml" xref="S3.SS1.p1.19.m19.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.19.m19.1.1.3.1.cmml" xref="S3.SS1.p1.19.m19.1.1.3">superscript</csymbol><ci id="S3.SS1.p1.19.m19.1.1.3.2.cmml" xref="S3.SS1.p1.19.m19.1.1.3.2">ℝ</ci><apply id="S3.SS1.p1.19.m19.1.1.3.3.cmml" xref="S3.SS1.p1.19.m19.1.1.3.3"><times id="S3.SS1.p1.19.m19.1.1.3.3.1.cmml" xref="S3.SS1.p1.19.m19.1.1.3.3.1"></times><ci id="S3.SS1.p1.19.m19.1.1.3.3.2.cmml" xref="S3.SS1.p1.19.m19.1.1.3.3.2">𝑑</ci><ci id="S3.SS1.p1.19.m19.1.1.3.3.3.cmml" xref="S3.SS1.p1.19.m19.1.1.3.3.3">𝑐</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.19.m19.1c">v_{i}\in\mathbb{R}^{d\times c}</annotation></semantics></math> for corresponding RoI feature <math id="S3.SS1.p1.20.m20.1" class="ltx_Math" alttext="f_{i}" display="inline"><semantics id="S3.SS1.p1.20.m20.1a"><msub id="S3.SS1.p1.20.m20.1.1" xref="S3.SS1.p1.20.m20.1.1.cmml"><mi id="S3.SS1.p1.20.m20.1.1.2" xref="S3.SS1.p1.20.m20.1.1.2.cmml">f</mi><mi id="S3.SS1.p1.20.m20.1.1.3" xref="S3.SS1.p1.20.m20.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.20.m20.1b"><apply id="S3.SS1.p1.20.m20.1.1.cmml" xref="S3.SS1.p1.20.m20.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.20.m20.1.1.1.cmml" xref="S3.SS1.p1.20.m20.1.1">subscript</csymbol><ci id="S3.SS1.p1.20.m20.1.1.2.cmml" xref="S3.SS1.p1.20.m20.1.1.2">𝑓</ci><ci id="S3.SS1.p1.20.m20.1.1.3.cmml" xref="S3.SS1.p1.20.m20.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.20.m20.1c">f_{i}</annotation></semantics></math>. Here <math id="S3.SS1.p1.21.m21.1" class="ltx_Math" alttext="k_{i}" display="inline"><semantics id="S3.SS1.p1.21.m21.1a"><msub id="S3.SS1.p1.21.m21.1.1" xref="S3.SS1.p1.21.m21.1.1.cmml"><mi id="S3.SS1.p1.21.m21.1.1.2" xref="S3.SS1.p1.21.m21.1.1.2.cmml">k</mi><mi id="S3.SS1.p1.21.m21.1.1.3" xref="S3.SS1.p1.21.m21.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.21.m21.1b"><apply id="S3.SS1.p1.21.m21.1.1.cmml" xref="S3.SS1.p1.21.m21.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.21.m21.1.1.1.cmml" xref="S3.SS1.p1.21.m21.1.1">subscript</csymbol><ci id="S3.SS1.p1.21.m21.1.1.2.cmml" xref="S3.SS1.p1.21.m21.1.1.2">𝑘</ci><ci id="S3.SS1.p1.21.m21.1.1.3.cmml" xref="S3.SS1.p1.21.m21.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.21.m21.1c">k_{i}</annotation></semantics></math> and <math id="S3.SS1.p1.22.m22.1" class="ltx_Math" alttext="v_{i}" display="inline"><semantics id="S3.SS1.p1.22.m22.1a"><msub id="S3.SS1.p1.22.m22.1.1" xref="S3.SS1.p1.22.m22.1.1.cmml"><mi id="S3.SS1.p1.22.m22.1.1.2" xref="S3.SS1.p1.22.m22.1.1.2.cmml">v</mi><mi id="S3.SS1.p1.22.m22.1.1.3" xref="S3.SS1.p1.22.m22.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.22.m22.1b"><apply id="S3.SS1.p1.22.m22.1.1.cmml" xref="S3.SS1.p1.22.m22.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.22.m22.1.1.1.cmml" xref="S3.SS1.p1.22.m22.1.1">subscript</csymbol><ci id="S3.SS1.p1.22.m22.1.1.2.cmml" xref="S3.SS1.p1.22.m22.1.1.2">𝑣</ci><ci id="S3.SS1.p1.22.m22.1.1.3.cmml" xref="S3.SS1.p1.22.m22.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.22.m22.1c">v_{i}</annotation></semantics></math> form a bottleneck,
which can be regarded as two successive layers consisting of <math id="S3.SS1.p1.23.m23.1" class="ltx_Math" alttext="1\times 1" display="inline"><semantics id="S3.SS1.p1.23.m23.1a"><mrow id="S3.SS1.p1.23.m23.1.1" xref="S3.SS1.p1.23.m23.1.1.cmml"><mn id="S3.SS1.p1.23.m23.1.1.2" xref="S3.SS1.p1.23.m23.1.1.2.cmml">1</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.23.m23.1.1.1" xref="S3.SS1.p1.23.m23.1.1.1.cmml">×</mo><mn id="S3.SS1.p1.23.m23.1.1.3" xref="S3.SS1.p1.23.m23.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.23.m23.1b"><apply id="S3.SS1.p1.23.m23.1.1.cmml" xref="S3.SS1.p1.23.m23.1.1"><times id="S3.SS1.p1.23.m23.1.1.1.cmml" xref="S3.SS1.p1.23.m23.1.1.1"></times><cn type="integer" id="S3.SS1.p1.23.m23.1.1.2.cmml" xref="S3.SS1.p1.23.m23.1.1.2">1</cn><cn type="integer" id="S3.SS1.p1.23.m23.1.1.3.cmml" xref="S3.SS1.p1.23.m23.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.23.m23.1c">1\times 1</annotation></semantics></math> conv whose parameters are specified as <math id="S3.SS1.p1.24.m24.1" class="ltx_Math" alttext="k_{i}" display="inline"><semantics id="S3.SS1.p1.24.m24.1a"><msub id="S3.SS1.p1.24.m24.1.1" xref="S3.SS1.p1.24.m24.1.1.cmml"><mi id="S3.SS1.p1.24.m24.1.1.2" xref="S3.SS1.p1.24.m24.1.1.2.cmml">k</mi><mi id="S3.SS1.p1.24.m24.1.1.3" xref="S3.SS1.p1.24.m24.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.24.m24.1b"><apply id="S3.SS1.p1.24.m24.1.1.cmml" xref="S3.SS1.p1.24.m24.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.24.m24.1.1.1.cmml" xref="S3.SS1.p1.24.m24.1.1">subscript</csymbol><ci id="S3.SS1.p1.24.m24.1.1.2.cmml" xref="S3.SS1.p1.24.m24.1.1.2">𝑘</ci><ci id="S3.SS1.p1.24.m24.1.1.3.cmml" xref="S3.SS1.p1.24.m24.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.24.m24.1c">k_{i}</annotation></semantics></math> and <math id="S3.SS1.p1.25.m25.1" class="ltx_Math" alttext="v_{i}" display="inline"><semantics id="S3.SS1.p1.25.m25.1a"><msub id="S3.SS1.p1.25.m25.1.1" xref="S3.SS1.p1.25.m25.1.1.cmml"><mi id="S3.SS1.p1.25.m25.1.1.2" xref="S3.SS1.p1.25.m25.1.1.2.cmml">v</mi><mi id="S3.SS1.p1.25.m25.1.1.3" xref="S3.SS1.p1.25.m25.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.25.m25.1b"><apply id="S3.SS1.p1.25.m25.1.1.cmml" xref="S3.SS1.p1.25.m25.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.25.m25.1.1.1.cmml" xref="S3.SS1.p1.25.m25.1.1">subscript</csymbol><ci id="S3.SS1.p1.25.m25.1.1.2.cmml" xref="S3.SS1.p1.25.m25.1.1.2">𝑣</ci><ci id="S3.SS1.p1.25.m25.1.1.3.cmml" xref="S3.SS1.p1.25.m25.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.25.m25.1c">v_{i}</annotation></semantics></math>. <math id="S3.SS1.p1.26.m26.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS1.p1.26.m26.1a"><mi id="S3.SS1.p1.26.m26.1.1" xref="S3.SS1.p1.26.m26.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.26.m26.1b"><ci id="S3.SS1.p1.26.m26.1.1.cmml" xref="S3.SS1.p1.26.m26.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.26.m26.1c">c</annotation></semantics></math> and <math id="S3.SS1.p1.27.m27.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.SS1.p1.27.m27.1a"><mi id="S3.SS1.p1.27.m27.1.1" xref="S3.SS1.p1.27.m27.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.27.m27.1b"><ci id="S3.SS1.p1.27.m27.1.1.cmml" xref="S3.SS1.p1.27.m27.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.27.m27.1c">d</annotation></semantics></math> are the channel of input RoI feature and hidden dimension respectively, with <math id="S3.SS1.p1.28.m28.1" class="ltx_Math" alttext="c\gg d" display="inline"><semantics id="S3.SS1.p1.28.m28.1a"><mrow id="S3.SS1.p1.28.m28.1.1" xref="S3.SS1.p1.28.m28.1.1.cmml"><mi id="S3.SS1.p1.28.m28.1.1.2" xref="S3.SS1.p1.28.m28.1.1.2.cmml">c</mi><mo id="S3.SS1.p1.28.m28.1.1.1" xref="S3.SS1.p1.28.m28.1.1.1.cmml">≫</mo><mi id="S3.SS1.p1.28.m28.1.1.3" xref="S3.SS1.p1.28.m28.1.1.3.cmml">d</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.28.m28.1b"><apply id="S3.SS1.p1.28.m28.1.1.cmml" xref="S3.SS1.p1.28.m28.1.1"><csymbol cd="latexml" id="S3.SS1.p1.28.m28.1.1.1.cmml" xref="S3.SS1.p1.28.m28.1.1.1">much-greater-than</csymbol><ci id="S3.SS1.p1.28.m28.1.1.2.cmml" xref="S3.SS1.p1.28.m28.1.1.2">𝑐</ci><ci id="S3.SS1.p1.28.m28.1.1.3.cmml" xref="S3.SS1.p1.28.m28.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.28.m28.1c">c\gg d</annotation></semantics></math>. After the dynamic convs, <math id="S3.SS1.p1.29.m29.1" class="ltx_Math" alttext="f_{i}" display="inline"><semantics id="S3.SS1.p1.29.m29.1a"><msub id="S3.SS1.p1.29.m29.1.1" xref="S3.SS1.p1.29.m29.1.1.cmml"><mi id="S3.SS1.p1.29.m29.1.1.2" xref="S3.SS1.p1.29.m29.1.1.2.cmml">f</mi><mi id="S3.SS1.p1.29.m29.1.1.3" xref="S3.SS1.p1.29.m29.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.29.m29.1b"><apply id="S3.SS1.p1.29.m29.1.1.cmml" xref="S3.SS1.p1.29.m29.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.29.m29.1.1.1.cmml" xref="S3.SS1.p1.29.m29.1.1">subscript</csymbol><ci id="S3.SS1.p1.29.m29.1.1.2.cmml" xref="S3.SS1.p1.29.m29.1.1.2">𝑓</ci><ci id="S3.SS1.p1.29.m29.1.1.3.cmml" xref="S3.SS1.p1.29.m29.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.29.m29.1c">f_{i}</annotation></semantics></math> is updated into <math id="S3.SS1.p1.30.m30.1" class="ltx_Math" alttext="f_{i}^{\prime}" display="inline"><semantics id="S3.SS1.p1.30.m30.1a"><msubsup id="S3.SS1.p1.30.m30.1.1" xref="S3.SS1.p1.30.m30.1.1.cmml"><mi id="S3.SS1.p1.30.m30.1.1.2.2" xref="S3.SS1.p1.30.m30.1.1.2.2.cmml">f</mi><mi id="S3.SS1.p1.30.m30.1.1.2.3" xref="S3.SS1.p1.30.m30.1.1.2.3.cmml">i</mi><mo id="S3.SS1.p1.30.m30.1.1.3" xref="S3.SS1.p1.30.m30.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.30.m30.1b"><apply id="S3.SS1.p1.30.m30.1.1.cmml" xref="S3.SS1.p1.30.m30.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.30.m30.1.1.1.cmml" xref="S3.SS1.p1.30.m30.1.1">superscript</csymbol><apply id="S3.SS1.p1.30.m30.1.1.2.cmml" xref="S3.SS1.p1.30.m30.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.30.m30.1.1.2.1.cmml" xref="S3.SS1.p1.30.m30.1.1">subscript</csymbol><ci id="S3.SS1.p1.30.m30.1.1.2.2.cmml" xref="S3.SS1.p1.30.m30.1.1.2.2">𝑓</ci><ci id="S3.SS1.p1.30.m30.1.1.2.3.cmml" xref="S3.SS1.p1.30.m30.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p1.30.m30.1.1.3.cmml" xref="S3.SS1.p1.30.m30.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.30.m30.1c">f_{i}^{\prime}</annotation></semantics></math>, which is then mapped into object feature <math id="S3.SS1.p1.31.m31.1" class="ltx_Math" alttext="o_{i}" display="inline"><semantics id="S3.SS1.p1.31.m31.1a"><msub id="S3.SS1.p1.31.m31.1.1" xref="S3.SS1.p1.31.m31.1.1.cmml"><mi id="S3.SS1.p1.31.m31.1.1.2" xref="S3.SS1.p1.31.m31.1.1.2.cmml">o</mi><mi id="S3.SS1.p1.31.m31.1.1.3" xref="S3.SS1.p1.31.m31.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.31.m31.1b"><apply id="S3.SS1.p1.31.m31.1.1.cmml" xref="S3.SS1.p1.31.m31.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.31.m31.1.1.1.cmml" xref="S3.SS1.p1.31.m31.1.1">subscript</csymbol><ci id="S3.SS1.p1.31.m31.1.1.2.cmml" xref="S3.SS1.p1.31.m31.1.1.2">𝑜</ci><ci id="S3.SS1.p1.31.m31.1.1.3.cmml" xref="S3.SS1.p1.31.m31.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.31.m31.1c">o_{i}</annotation></semantics></math> through an out layer, so that it can be utilized by the detection head to give results. </p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.11" class="ltx_p">Sparse R-CNN performs the one-to-one dynamic interactions between <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{Q}" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">𝒬</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝒬</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\mathcal{Q}</annotation></semantics></math> and <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{B}" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\mathcal{B}</annotation></semantics></math>. In each stage, it not only predicts the bounding boxes, but also updates <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="\mathcal{Q}" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">𝒬</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝒬</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">\mathcal{Q}</annotation></semantics></math> and <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{B}" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\mathcal{B}</annotation></semantics></math>. Particularly, object feature <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="o_{i}" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><msub id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml">o</mi><mi id="S3.SS1.p2.5.m5.1.1.3" xref="S3.SS1.p2.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2">𝑜</ci><ci id="S3.SS1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">o_{i}</annotation></semantics></math> updates proposal feature <math id="S3.SS1.p2.6.m6.1" class="ltx_Math" alttext="q_{i}" display="inline"><semantics id="S3.SS1.p2.6.m6.1a"><msub id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml"><mi id="S3.SS1.p2.6.m6.1.1.2" xref="S3.SS1.p2.6.m6.1.1.2.cmml">q</mi><mi id="S3.SS1.p2.6.m6.1.1.3" xref="S3.SS1.p2.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><apply id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.1.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p2.6.m6.1.1.2.cmml" xref="S3.SS1.p2.6.m6.1.1.2">𝑞</ci><ci id="S3.SS1.p2.6.m6.1.1.3.cmml" xref="S3.SS1.p2.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">q_{i}</annotation></semantics></math>, preparing for the next stage, and bounding box prediction
also updates <math id="S3.SS1.p2.7.m7.1" class="ltx_Math" alttext="b_{i}" display="inline"><semantics id="S3.SS1.p2.7.m7.1a"><msub id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml"><mi id="S3.SS1.p2.7.m7.1.1.2" xref="S3.SS1.p2.7.m7.1.1.2.cmml">b</mi><mi id="S3.SS1.p2.7.m7.1.1.3" xref="S3.SS1.p2.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.1b"><apply id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.1.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.p2.7.m7.1.1.2.cmml" xref="S3.SS1.p2.7.m7.1.1.2">𝑏</ci><ci id="S3.SS1.p2.7.m7.1.1.3.cmml" xref="S3.SS1.p2.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.1c">b_{i}</annotation></semantics></math> as the next stage input. During training, Sparse R-CNN dynamically computes a cost matrix between the predictions and GTs. It carries out bipartite matching based on it, so that the GT box is only assigned with one prediction. The one-to-one sample assignment strategy prevents it from NMS post processing. The cost and training loss are the same and they can be formulated as <math id="S3.SS1.p2.8.m8.1" class="ltx_Math" alttext="\mathcal{L}=\lambda_{cls}\mathcal{L}_{cls}+\lambda_{L_{1}}\mathcal{L}_{1}+\lambda_{giou}\mathcal{L}_{giou}" display="inline"><semantics id="S3.SS1.p2.8.m8.1a"><mrow id="S3.SS1.p2.8.m8.1.1" xref="S3.SS1.p2.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.8.m8.1.1.2" xref="S3.SS1.p2.8.m8.1.1.2.cmml">ℒ</mi><mo id="S3.SS1.p2.8.m8.1.1.1" xref="S3.SS1.p2.8.m8.1.1.1.cmml">=</mo><mrow id="S3.SS1.p2.8.m8.1.1.3" xref="S3.SS1.p2.8.m8.1.1.3.cmml"><mrow id="S3.SS1.p2.8.m8.1.1.3.2" xref="S3.SS1.p2.8.m8.1.1.3.2.cmml"><msub id="S3.SS1.p2.8.m8.1.1.3.2.2" xref="S3.SS1.p2.8.m8.1.1.3.2.2.cmml"><mi id="S3.SS1.p2.8.m8.1.1.3.2.2.2" xref="S3.SS1.p2.8.m8.1.1.3.2.2.2.cmml">λ</mi><mrow id="S3.SS1.p2.8.m8.1.1.3.2.2.3" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3.cmml"><mi id="S3.SS1.p2.8.m8.1.1.3.2.2.3.2" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.2.2.3.1" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.8.m8.1.1.3.2.2.3.3" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.2.2.3.1a" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.8.m8.1.1.3.2.2.3.4" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3.4.cmml">s</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.2.1" xref="S3.SS1.p2.8.m8.1.1.3.2.1.cmml">​</mo><msub id="S3.SS1.p2.8.m8.1.1.3.2.3" xref="S3.SS1.p2.8.m8.1.1.3.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.8.m8.1.1.3.2.3.2" xref="S3.SS1.p2.8.m8.1.1.3.2.3.2.cmml">ℒ</mi><mrow id="S3.SS1.p2.8.m8.1.1.3.2.3.3" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3.cmml"><mi id="S3.SS1.p2.8.m8.1.1.3.2.3.3.2" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.2.3.3.1" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3.1.cmml">​</mo><mi id="S3.SS1.p2.8.m8.1.1.3.2.3.3.3" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.2.3.3.1a" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3.1.cmml">​</mo><mi id="S3.SS1.p2.8.m8.1.1.3.2.3.3.4" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3.4.cmml">s</mi></mrow></msub></mrow><mo id="S3.SS1.p2.8.m8.1.1.3.1" xref="S3.SS1.p2.8.m8.1.1.3.1.cmml">+</mo><mrow id="S3.SS1.p2.8.m8.1.1.3.3" xref="S3.SS1.p2.8.m8.1.1.3.3.cmml"><msub id="S3.SS1.p2.8.m8.1.1.3.3.2" xref="S3.SS1.p2.8.m8.1.1.3.3.2.cmml"><mi id="S3.SS1.p2.8.m8.1.1.3.3.2.2" xref="S3.SS1.p2.8.m8.1.1.3.3.2.2.cmml">λ</mi><msub id="S3.SS1.p2.8.m8.1.1.3.3.2.3" xref="S3.SS1.p2.8.m8.1.1.3.3.2.3.cmml"><mi id="S3.SS1.p2.8.m8.1.1.3.3.2.3.2" xref="S3.SS1.p2.8.m8.1.1.3.3.2.3.2.cmml">L</mi><mn id="S3.SS1.p2.8.m8.1.1.3.3.2.3.3" xref="S3.SS1.p2.8.m8.1.1.3.3.2.3.3.cmml">1</mn></msub></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.3.1" xref="S3.SS1.p2.8.m8.1.1.3.3.1.cmml">​</mo><msub id="S3.SS1.p2.8.m8.1.1.3.3.3" xref="S3.SS1.p2.8.m8.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.8.m8.1.1.3.3.3.2" xref="S3.SS1.p2.8.m8.1.1.3.3.3.2.cmml">ℒ</mi><mn id="S3.SS1.p2.8.m8.1.1.3.3.3.3" xref="S3.SS1.p2.8.m8.1.1.3.3.3.3.cmml">1</mn></msub></mrow><mo id="S3.SS1.p2.8.m8.1.1.3.1a" xref="S3.SS1.p2.8.m8.1.1.3.1.cmml">+</mo><mrow id="S3.SS1.p2.8.m8.1.1.3.4" xref="S3.SS1.p2.8.m8.1.1.3.4.cmml"><msub id="S3.SS1.p2.8.m8.1.1.3.4.2" xref="S3.SS1.p2.8.m8.1.1.3.4.2.cmml"><mi id="S3.SS1.p2.8.m8.1.1.3.4.2.2" xref="S3.SS1.p2.8.m8.1.1.3.4.2.2.cmml">λ</mi><mrow id="S3.SS1.p2.8.m8.1.1.3.4.2.3" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.cmml"><mi id="S3.SS1.p2.8.m8.1.1.3.4.2.3.2" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.4.2.3.1" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.8.m8.1.1.3.4.2.3.3" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.4.2.3.1a" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.8.m8.1.1.3.4.2.3.4" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.4.2.3.1b" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.1.cmml">​</mo><mi id="S3.SS1.p2.8.m8.1.1.3.4.2.3.5" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.5.cmml">u</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.4.1" xref="S3.SS1.p2.8.m8.1.1.3.4.1.cmml">​</mo><msub id="S3.SS1.p2.8.m8.1.1.3.4.3" xref="S3.SS1.p2.8.m8.1.1.3.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.8.m8.1.1.3.4.3.2" xref="S3.SS1.p2.8.m8.1.1.3.4.3.2.cmml">ℒ</mi><mrow id="S3.SS1.p2.8.m8.1.1.3.4.3.3" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.cmml"><mi id="S3.SS1.p2.8.m8.1.1.3.4.3.3.2" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.4.3.3.1" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.1.cmml">​</mo><mi id="S3.SS1.p2.8.m8.1.1.3.4.3.3.3" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.4.3.3.1a" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.1.cmml">​</mo><mi id="S3.SS1.p2.8.m8.1.1.3.4.3.3.4" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m8.1.1.3.4.3.3.1b" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.1.cmml">​</mo><mi id="S3.SS1.p2.8.m8.1.1.3.4.3.3.5" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.5.cmml">u</mi></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m8.1b"><apply id="S3.SS1.p2.8.m8.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1"><eq id="S3.SS1.p2.8.m8.1.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1.1"></eq><ci id="S3.SS1.p2.8.m8.1.1.2.cmml" xref="S3.SS1.p2.8.m8.1.1.2">ℒ</ci><apply id="S3.SS1.p2.8.m8.1.1.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3"><plus id="S3.SS1.p2.8.m8.1.1.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.1"></plus><apply id="S3.SS1.p2.8.m8.1.1.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2"><times id="S3.SS1.p2.8.m8.1.1.3.2.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.1"></times><apply id="S3.SS1.p2.8.m8.1.1.3.2.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.3.2.2.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.2">subscript</csymbol><ci id="S3.SS1.p2.8.m8.1.1.3.2.2.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.2.2">𝜆</ci><apply id="S3.SS1.p2.8.m8.1.1.3.2.2.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3"><times id="S3.SS1.p2.8.m8.1.1.3.2.2.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3.1"></times><ci id="S3.SS1.p2.8.m8.1.1.3.2.2.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3.2">𝑐</ci><ci id="S3.SS1.p2.8.m8.1.1.3.2.2.3.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3.3">𝑙</ci><ci id="S3.SS1.p2.8.m8.1.1.3.2.2.3.4.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.2.3.4">𝑠</ci></apply></apply><apply id="S3.SS1.p2.8.m8.1.1.3.2.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.3.2.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.3">subscript</csymbol><ci id="S3.SS1.p2.8.m8.1.1.3.2.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.3.2">ℒ</ci><apply id="S3.SS1.p2.8.m8.1.1.3.2.3.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3"><times id="S3.SS1.p2.8.m8.1.1.3.2.3.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3.1"></times><ci id="S3.SS1.p2.8.m8.1.1.3.2.3.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3.2">𝑐</ci><ci id="S3.SS1.p2.8.m8.1.1.3.2.3.3.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3.3">𝑙</ci><ci id="S3.SS1.p2.8.m8.1.1.3.2.3.3.4.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2.3.3.4">𝑠</ci></apply></apply></apply><apply id="S3.SS1.p2.8.m8.1.1.3.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3"><times id="S3.SS1.p2.8.m8.1.1.3.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.1"></times><apply id="S3.SS1.p2.8.m8.1.1.3.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.3.3.2.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.2">subscript</csymbol><ci id="S3.SS1.p2.8.m8.1.1.3.3.2.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.2.2">𝜆</ci><apply id="S3.SS1.p2.8.m8.1.1.3.3.2.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.3.3.2.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.2.3">subscript</csymbol><ci id="S3.SS1.p2.8.m8.1.1.3.3.2.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.2.3.2">𝐿</ci><cn type="integer" id="S3.SS1.p2.8.m8.1.1.3.3.2.3.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.2.3.3">1</cn></apply></apply><apply id="S3.SS1.p2.8.m8.1.1.3.3.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.3.3.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.3">subscript</csymbol><ci id="S3.SS1.p2.8.m8.1.1.3.3.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.3.2">ℒ</ci><cn type="integer" id="S3.SS1.p2.8.m8.1.1.3.3.3.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.3.3.3">1</cn></apply></apply><apply id="S3.SS1.p2.8.m8.1.1.3.4.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4"><times id="S3.SS1.p2.8.m8.1.1.3.4.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.1"></times><apply id="S3.SS1.p2.8.m8.1.1.3.4.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.2"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.3.4.2.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.2">subscript</csymbol><ci id="S3.SS1.p2.8.m8.1.1.3.4.2.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.2.2">𝜆</ci><apply id="S3.SS1.p2.8.m8.1.1.3.4.2.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3"><times id="S3.SS1.p2.8.m8.1.1.3.4.2.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.1"></times><ci id="S3.SS1.p2.8.m8.1.1.3.4.2.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.2">𝑔</ci><ci id="S3.SS1.p2.8.m8.1.1.3.4.2.3.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.3">𝑖</ci><ci id="S3.SS1.p2.8.m8.1.1.3.4.2.3.4.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.4">𝑜</ci><ci id="S3.SS1.p2.8.m8.1.1.3.4.2.3.5.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.2.3.5">𝑢</ci></apply></apply><apply id="S3.SS1.p2.8.m8.1.1.3.4.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.3"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.3.4.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.3">subscript</csymbol><ci id="S3.SS1.p2.8.m8.1.1.3.4.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.3.2">ℒ</ci><apply id="S3.SS1.p2.8.m8.1.1.3.4.3.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3"><times id="S3.SS1.p2.8.m8.1.1.3.4.3.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.1"></times><ci id="S3.SS1.p2.8.m8.1.1.3.4.3.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.2">𝑔</ci><ci id="S3.SS1.p2.8.m8.1.1.3.4.3.3.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.3">𝑖</ci><ci id="S3.SS1.p2.8.m8.1.1.3.4.3.3.4.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.4">𝑜</ci><ci id="S3.SS1.p2.8.m8.1.1.3.4.3.3.5.cmml" xref="S3.SS1.p2.8.m8.1.1.3.4.3.3.5">𝑢</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m8.1c">\mathcal{L}=\lambda_{cls}\mathcal{L}_{cls}+\lambda_{L_{1}}\mathcal{L}_{1}+\lambda_{giou}\mathcal{L}_{giou}</annotation></semantics></math>, where <math id="S3.SS1.p2.9.m9.1" class="ltx_Math" alttext="\mathcal{L}_{cls}" display="inline"><semantics id="S3.SS1.p2.9.m9.1a"><msub id="S3.SS1.p2.9.m9.1.1" xref="S3.SS1.p2.9.m9.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.9.m9.1.1.2" xref="S3.SS1.p2.9.m9.1.1.2.cmml">ℒ</mi><mrow id="S3.SS1.p2.9.m9.1.1.3" xref="S3.SS1.p2.9.m9.1.1.3.cmml"><mi id="S3.SS1.p2.9.m9.1.1.3.2" xref="S3.SS1.p2.9.m9.1.1.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.9.m9.1.1.3.1" xref="S3.SS1.p2.9.m9.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.9.m9.1.1.3.3" xref="S3.SS1.p2.9.m9.1.1.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.9.m9.1.1.3.1a" xref="S3.SS1.p2.9.m9.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.9.m9.1.1.3.4" xref="S3.SS1.p2.9.m9.1.1.3.4.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.9.m9.1b"><apply id="S3.SS1.p2.9.m9.1.1.cmml" xref="S3.SS1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m9.1.1.1.cmml" xref="S3.SS1.p2.9.m9.1.1">subscript</csymbol><ci id="S3.SS1.p2.9.m9.1.1.2.cmml" xref="S3.SS1.p2.9.m9.1.1.2">ℒ</ci><apply id="S3.SS1.p2.9.m9.1.1.3.cmml" xref="S3.SS1.p2.9.m9.1.1.3"><times id="S3.SS1.p2.9.m9.1.1.3.1.cmml" xref="S3.SS1.p2.9.m9.1.1.3.1"></times><ci id="S3.SS1.p2.9.m9.1.1.3.2.cmml" xref="S3.SS1.p2.9.m9.1.1.3.2">𝑐</ci><ci id="S3.SS1.p2.9.m9.1.1.3.3.cmml" xref="S3.SS1.p2.9.m9.1.1.3.3">𝑙</ci><ci id="S3.SS1.p2.9.m9.1.1.3.4.cmml" xref="S3.SS1.p2.9.m9.1.1.3.4">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.9.m9.1c">\mathcal{L}_{cls}</annotation></semantics></math> is the focal BCE loss <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> for classification, <math id="S3.SS1.p2.10.m10.1" class="ltx_Math" alttext="\mathcal{L}_{1}" display="inline"><semantics id="S3.SS1.p2.10.m10.1a"><msub id="S3.SS1.p2.10.m10.1.1" xref="S3.SS1.p2.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.10.m10.1.1.2" xref="S3.SS1.p2.10.m10.1.1.2.cmml">ℒ</mi><mn id="S3.SS1.p2.10.m10.1.1.3" xref="S3.SS1.p2.10.m10.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.10.m10.1b"><apply id="S3.SS1.p2.10.m10.1.1.cmml" xref="S3.SS1.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m10.1.1.1.cmml" xref="S3.SS1.p2.10.m10.1.1">subscript</csymbol><ci id="S3.SS1.p2.10.m10.1.1.2.cmml" xref="S3.SS1.p2.10.m10.1.1.2">ℒ</ci><cn type="integer" id="S3.SS1.p2.10.m10.1.1.3.cmml" xref="S3.SS1.p2.10.m10.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.10.m10.1c">\mathcal{L}_{1}</annotation></semantics></math> and <math id="S3.SS1.p2.11.m11.1" class="ltx_Math" alttext="\mathcal{L}_{giou}" display="inline"><semantics id="S3.SS1.p2.11.m11.1a"><msub id="S3.SS1.p2.11.m11.1.1" xref="S3.SS1.p2.11.m11.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.11.m11.1.1.2" xref="S3.SS1.p2.11.m11.1.1.2.cmml">ℒ</mi><mrow id="S3.SS1.p2.11.m11.1.1.3" xref="S3.SS1.p2.11.m11.1.1.3.cmml"><mi id="S3.SS1.p2.11.m11.1.1.3.2" xref="S3.SS1.p2.11.m11.1.1.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.11.m11.1.1.3.1" xref="S3.SS1.p2.11.m11.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.11.m11.1.1.3.3" xref="S3.SS1.p2.11.m11.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.11.m11.1.1.3.1a" xref="S3.SS1.p2.11.m11.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.11.m11.1.1.3.4" xref="S3.SS1.p2.11.m11.1.1.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.11.m11.1.1.3.1b" xref="S3.SS1.p2.11.m11.1.1.3.1.cmml">​</mo><mi id="S3.SS1.p2.11.m11.1.1.3.5" xref="S3.SS1.p2.11.m11.1.1.3.5.cmml">u</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.11.m11.1b"><apply id="S3.SS1.p2.11.m11.1.1.cmml" xref="S3.SS1.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.11.m11.1.1.1.cmml" xref="S3.SS1.p2.11.m11.1.1">subscript</csymbol><ci id="S3.SS1.p2.11.m11.1.1.2.cmml" xref="S3.SS1.p2.11.m11.1.1.2">ℒ</ci><apply id="S3.SS1.p2.11.m11.1.1.3.cmml" xref="S3.SS1.p2.11.m11.1.1.3"><times id="S3.SS1.p2.11.m11.1.1.3.1.cmml" xref="S3.SS1.p2.11.m11.1.1.3.1"></times><ci id="S3.SS1.p2.11.m11.1.1.3.2.cmml" xref="S3.SS1.p2.11.m11.1.1.3.2">𝑔</ci><ci id="S3.SS1.p2.11.m11.1.1.3.3.cmml" xref="S3.SS1.p2.11.m11.1.1.3.3">𝑖</ci><ci id="S3.SS1.p2.11.m11.1.1.3.4.cmml" xref="S3.SS1.p2.11.m11.1.1.3.4">𝑜</ci><ci id="S3.SS1.p2.11.m11.1.1.3.5.cmml" xref="S3.SS1.p2.11.m11.1.1.3.5">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.11.m11.1c">\mathcal{L}_{giou}</annotation></semantics></math> are L1 and generalized IoU loss <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> for regression.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p">Besides Sparse R-CNN, AdaMixer and DiffusionDet are also region-based detectors,the former is end-to-end while the latter is not. They have similar cascade structures consisting of dynamic convs whose kernels are provided from dynamic layer based on proposal feature set <math id="S3.SS1.p3.1.m1.1" class="ltx_Math" alttext="\mathcal{Q}" display="inline"><semantics id="S3.SS1.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">𝒬</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">𝒬</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">\mathcal{Q}</annotation></semantics></math>. Our RecursiveDet shares the basic computation pipeline with all of them, which is shown in <a href="#S3.F2" title="In 3.1 Preliminaries ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">2</span></a> (a). And it is compatible with all of them, with a significant reduction on the model size and increase on the result accuracy.
</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2307.13619/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="422" height="263" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>The details about decoder structure in RecursiveDet. (a) An overview of our method. We share the decoder parameters among different stages and make it recursive. The Dynamic layer and Out layer repeat twice for increasing the depth of decoder. The object feature <math id="S3.F2.6.m1.1" class="ltx_Math" alttext="o" display="inline"><semantics id="S3.F2.6.m1.1b"><mi id="S3.F2.6.m1.1.1" xref="S3.F2.6.m1.1.1.cmml">o</mi><annotation-xml encoding="MathML-Content" id="S3.F2.6.m1.1c"><ci id="S3.F2.6.m1.1.1.cmml" xref="S3.F2.6.m1.1.1">𝑜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.6.m1.1d">o</annotation></semantics></math> and predicted bounding boxes are updated to the next stage as proposal features <math id="S3.F2.7.m2.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.F2.7.m2.1b"><mi id="S3.F2.7.m2.1.1" xref="S3.F2.7.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.F2.7.m2.1c"><ci id="S3.F2.7.m2.1.1.cmml" xref="S3.F2.7.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.7.m2.1d">q</annotation></semantics></math> and proposal boxes <math id="S3.F2.8.m3.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.F2.8.m3.1b"><mi id="S3.F2.8.m3.1.1" xref="S3.F2.8.m3.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.F2.8.m3.1c"><ci id="S3.F2.8.m3.1.1.cmml" xref="S3.F2.8.m3.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.8.m3.1d">b</annotation></semantics></math>. The bounding boxes are encoded to PE vectors <math id="S3.F2.9.m4.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.F2.9.m4.1b"><mi id="S3.F2.9.m4.1.1" xref="S3.F2.9.m4.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.F2.9.m4.1c"><ci id="S3.F2.9.m4.1.1.cmml" xref="S3.F2.9.m4.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.9.m4.1d">p</annotation></semantics></math> and <math id="S3.F2.10.m5.1" class="ltx_Math" alttext="p_{k}" display="inline"><semantics id="S3.F2.10.m5.1b"><msub id="S3.F2.10.m5.1.1" xref="S3.F2.10.m5.1.1.cmml"><mi id="S3.F2.10.m5.1.1.2" xref="S3.F2.10.m5.1.1.2.cmml">p</mi><mi id="S3.F2.10.m5.1.1.3" xref="S3.F2.10.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.F2.10.m5.1c"><apply id="S3.F2.10.m5.1.1.cmml" xref="S3.F2.10.m5.1.1"><csymbol cd="ambiguous" id="S3.F2.10.m5.1.1.1.cmml" xref="S3.F2.10.m5.1.1">subscript</csymbol><ci id="S3.F2.10.m5.1.1.2.cmml" xref="S3.F2.10.m5.1.1.2">𝑝</ci><ci id="S3.F2.10.m5.1.1.3.cmml" xref="S3.F2.10.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.10.m5.1d">p_{k}</annotation></semantics></math> to participate in position-aware self attention and dynamic conv in (b) and (c), respectively. As shown in (c), the local coordinate within RoI is calculated into a centerness mask to assist the bounding boxes PE in dynamic conv.
</figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Recursive Structure for Decoder</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.9" class="ltx_p">Compared with DETR-series, end-to-end region-based detectors usually have a large decoder, which obviously expands their model size. The decoder <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="Dec^{t}" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mrow id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mi id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.1.m1.1.1.1" xref="S3.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p1.1.m1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.1.m1.1.1.1a" xref="S3.SS2.p1.1.m1.1.1.1.cmml">​</mo><msup id="S3.SS2.p1.1.m1.1.1.4" xref="S3.SS2.p1.1.m1.1.1.4.cmml"><mi id="S3.SS2.p1.1.m1.1.1.4.2" xref="S3.SS2.p1.1.m1.1.1.4.2.cmml">c</mi><mi id="S3.SS2.p1.1.m1.1.1.4.3" xref="S3.SS2.p1.1.m1.1.1.4.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><times id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1"></times><ci id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2">𝐷</ci><ci id="S3.SS2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.3">𝑒</ci><apply id="S3.SS2.p1.1.m1.1.1.4.cmml" xref="S3.SS2.p1.1.m1.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.4.1.cmml" xref="S3.SS2.p1.1.m1.1.1.4">superscript</csymbol><ci id="S3.SS2.p1.1.m1.1.1.4.2.cmml" xref="S3.SS2.p1.1.m1.1.1.4.2">𝑐</ci><ci id="S3.SS2.p1.1.m1.1.1.4.3.cmml" xref="S3.SS2.p1.1.m1.1.1.4.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">Dec^{t}</annotation></semantics></math> at stage <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">t</annotation></semantics></math>, parameterized by <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="\theta^{t}" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><msup id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml"><mi id="S3.SS2.p1.3.m3.1.1.2" xref="S3.SS2.p1.3.m3.1.1.2.cmml">θ</mi><mi id="S3.SS2.p1.3.m3.1.1.3" xref="S3.SS2.p1.3.m3.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><apply id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.2">𝜃</ci><ci id="S3.SS2.p1.3.m3.1.1.3.cmml" xref="S3.SS2.p1.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">\theta^{t}</annotation></semantics></math>, takes the current proposal set <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{Q}^{t}" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><msup id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.4.m4.1.1.2" xref="S3.SS2.p1.4.m4.1.1.2.cmml">𝒬</mi><mi id="S3.SS2.p1.4.m4.1.1.3" xref="S3.SS2.p1.4.m4.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">superscript</csymbol><ci id="S3.SS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.2">𝒬</ci><ci id="S3.SS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">\mathcal{Q}^{t}</annotation></semantics></math> and box set <math id="S3.SS2.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{B}^{t}" display="inline"><semantics id="S3.SS2.p1.5.m5.1a"><msup id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.5.m5.1.1.2" xref="S3.SS2.p1.5.m5.1.1.2.cmml">ℬ</mi><mi id="S3.SS2.p1.5.m5.1.1.3" xref="S3.SS2.p1.5.m5.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><apply id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">superscript</csymbol><ci id="S3.SS2.p1.5.m5.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.2">ℬ</ci><ci id="S3.SS2.p1.5.m5.1.1.3.cmml" xref="S3.SS2.p1.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">\mathcal{B}^{t}</annotation></semantics></math> as input, and updates them into <math id="S3.SS2.p1.6.m6.1" class="ltx_Math" alttext="\mathcal{Q}^{t+1}" display="inline"><semantics id="S3.SS2.p1.6.m6.1a"><msup id="S3.SS2.p1.6.m6.1.1" xref="S3.SS2.p1.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.6.m6.1.1.2" xref="S3.SS2.p1.6.m6.1.1.2.cmml">𝒬</mi><mrow id="S3.SS2.p1.6.m6.1.1.3" xref="S3.SS2.p1.6.m6.1.1.3.cmml"><mi id="S3.SS2.p1.6.m6.1.1.3.2" xref="S3.SS2.p1.6.m6.1.1.3.2.cmml">t</mi><mo id="S3.SS2.p1.6.m6.1.1.3.1" xref="S3.SS2.p1.6.m6.1.1.3.1.cmml">+</mo><mn id="S3.SS2.p1.6.m6.1.1.3.3" xref="S3.SS2.p1.6.m6.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.1b"><apply id="S3.SS2.p1.6.m6.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m6.1.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1">superscript</csymbol><ci id="S3.SS2.p1.6.m6.1.1.2.cmml" xref="S3.SS2.p1.6.m6.1.1.2">𝒬</ci><apply id="S3.SS2.p1.6.m6.1.1.3.cmml" xref="S3.SS2.p1.6.m6.1.1.3"><plus id="S3.SS2.p1.6.m6.1.1.3.1.cmml" xref="S3.SS2.p1.6.m6.1.1.3.1"></plus><ci id="S3.SS2.p1.6.m6.1.1.3.2.cmml" xref="S3.SS2.p1.6.m6.1.1.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p1.6.m6.1.1.3.3.cmml" xref="S3.SS2.p1.6.m6.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m6.1c">\mathcal{Q}^{t+1}</annotation></semantics></math> and <math id="S3.SS2.p1.7.m7.1" class="ltx_Math" alttext="\mathcal{B}^{t+1}" display="inline"><semantics id="S3.SS2.p1.7.m7.1a"><msup id="S3.SS2.p1.7.m7.1.1" xref="S3.SS2.p1.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.7.m7.1.1.2" xref="S3.SS2.p1.7.m7.1.1.2.cmml">ℬ</mi><mrow id="S3.SS2.p1.7.m7.1.1.3" xref="S3.SS2.p1.7.m7.1.1.3.cmml"><mi id="S3.SS2.p1.7.m7.1.1.3.2" xref="S3.SS2.p1.7.m7.1.1.3.2.cmml">t</mi><mo id="S3.SS2.p1.7.m7.1.1.3.1" xref="S3.SS2.p1.7.m7.1.1.3.1.cmml">+</mo><mn id="S3.SS2.p1.7.m7.1.1.3.3" xref="S3.SS2.p1.7.m7.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m7.1b"><apply id="S3.SS2.p1.7.m7.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.7.m7.1.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1">superscript</csymbol><ci id="S3.SS2.p1.7.m7.1.1.2.cmml" xref="S3.SS2.p1.7.m7.1.1.2">ℬ</ci><apply id="S3.SS2.p1.7.m7.1.1.3.cmml" xref="S3.SS2.p1.7.m7.1.1.3"><plus id="S3.SS2.p1.7.m7.1.1.3.1.cmml" xref="S3.SS2.p1.7.m7.1.1.3.1"></plus><ci id="S3.SS2.p1.7.m7.1.1.3.2.cmml" xref="S3.SS2.p1.7.m7.1.1.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p1.7.m7.1.1.3.3.cmml" xref="S3.SS2.p1.7.m7.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m7.1c">\mathcal{B}^{t+1}</annotation></semantics></math> for the next stage. We formalize the decoder in <a href="#S3.E1" title="In 3.2 Recursive Structure for Decoder ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Eq.</span> <span class="ltx_text ltx_ref_tag">1</span></a>. Note that RoI feature set <math id="S3.SS2.p1.8.m8.1" class="ltx_Math" alttext="\mathcal{F}^{t}" display="inline"><semantics id="S3.SS2.p1.8.m8.1a"><msup id="S3.SS2.p1.8.m8.1.1" xref="S3.SS2.p1.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.8.m8.1.1.2" xref="S3.SS2.p1.8.m8.1.1.2.cmml">ℱ</mi><mi id="S3.SS2.p1.8.m8.1.1.3" xref="S3.SS2.p1.8.m8.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m8.1b"><apply id="S3.SS2.p1.8.m8.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.8.m8.1.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1">superscript</csymbol><ci id="S3.SS2.p1.8.m8.1.1.2.cmml" xref="S3.SS2.p1.8.m8.1.1.2">ℱ</ci><ci id="S3.SS2.p1.8.m8.1.1.3.cmml" xref="S3.SS2.p1.8.m8.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m8.1c">\mathcal{F}^{t}</annotation></semantics></math> is also utilized by <math id="S3.SS2.p1.9.m9.1" class="ltx_Math" alttext="Dec^{t}" display="inline"><semantics id="S3.SS2.p1.9.m9.1a"><mrow id="S3.SS2.p1.9.m9.1.1" xref="S3.SS2.p1.9.m9.1.1.cmml"><mi id="S3.SS2.p1.9.m9.1.1.2" xref="S3.SS2.p1.9.m9.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.9.m9.1.1.1" xref="S3.SS2.p1.9.m9.1.1.1.cmml">​</mo><mi id="S3.SS2.p1.9.m9.1.1.3" xref="S3.SS2.p1.9.m9.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.9.m9.1.1.1a" xref="S3.SS2.p1.9.m9.1.1.1.cmml">​</mo><msup id="S3.SS2.p1.9.m9.1.1.4" xref="S3.SS2.p1.9.m9.1.1.4.cmml"><mi id="S3.SS2.p1.9.m9.1.1.4.2" xref="S3.SS2.p1.9.m9.1.1.4.2.cmml">c</mi><mi id="S3.SS2.p1.9.m9.1.1.4.3" xref="S3.SS2.p1.9.m9.1.1.4.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m9.1b"><apply id="S3.SS2.p1.9.m9.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1"><times id="S3.SS2.p1.9.m9.1.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1.1"></times><ci id="S3.SS2.p1.9.m9.1.1.2.cmml" xref="S3.SS2.p1.9.m9.1.1.2">𝐷</ci><ci id="S3.SS2.p1.9.m9.1.1.3.cmml" xref="S3.SS2.p1.9.m9.1.1.3">𝑒</ci><apply id="S3.SS2.p1.9.m9.1.1.4.cmml" xref="S3.SS2.p1.9.m9.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p1.9.m9.1.1.4.1.cmml" xref="S3.SS2.p1.9.m9.1.1.4">superscript</csymbol><ci id="S3.SS2.p1.9.m9.1.1.4.2.cmml" xref="S3.SS2.p1.9.m9.1.1.4.2">𝑐</ci><ci id="S3.SS2.p1.9.m9.1.1.4.3.cmml" xref="S3.SS2.p1.9.m9.1.1.4.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m9.1c">Dec^{t}</annotation></semantics></math>.</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.6" class="ltx_Math" alttext="[\mathcal{Q}^{t+1},\mathcal{B}^{t+1}]=Dec^{t}(\mathcal{Q}^{t},\mathcal{B}^{t},\mathcal{F}^{t};\theta^{t})" display="block"><semantics id="S3.E1.m1.6a"><mrow id="S3.E1.m1.6.6" xref="S3.E1.m1.6.6.cmml"><mrow id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.E1.m1.2.2.2.2.3" xref="S3.E1.m1.2.2.2.3.cmml">[</mo><msup id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.2.cmml">𝒬</mi><mrow id="S3.E1.m1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.1.1.3.2.cmml">t</mi><mo id="S3.E1.m1.1.1.1.1.1.3.1" xref="S3.E1.m1.1.1.1.1.1.3.1.cmml">+</mo><mn id="S3.E1.m1.1.1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msup><mo id="S3.E1.m1.2.2.2.2.4" xref="S3.E1.m1.2.2.2.3.cmml">,</mo><msup id="S3.E1.m1.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.2.cmml">ℬ</mi><mrow id="S3.E1.m1.2.2.2.2.2.3" xref="S3.E1.m1.2.2.2.2.2.3.cmml"><mi id="S3.E1.m1.2.2.2.2.2.3.2" xref="S3.E1.m1.2.2.2.2.2.3.2.cmml">t</mi><mo id="S3.E1.m1.2.2.2.2.2.3.1" xref="S3.E1.m1.2.2.2.2.2.3.1.cmml">+</mo><mn id="S3.E1.m1.2.2.2.2.2.3.3" xref="S3.E1.m1.2.2.2.2.2.3.3.cmml">1</mn></mrow></msup><mo stretchy="false" id="S3.E1.m1.2.2.2.2.5" xref="S3.E1.m1.2.2.2.3.cmml">]</mo></mrow><mo id="S3.E1.m1.6.6.7" xref="S3.E1.m1.6.6.7.cmml">=</mo><mrow id="S3.E1.m1.6.6.6" xref="S3.E1.m1.6.6.6.cmml"><mi id="S3.E1.m1.6.6.6.6" xref="S3.E1.m1.6.6.6.6.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.6.6.6.5" xref="S3.E1.m1.6.6.6.5.cmml">​</mo><mi id="S3.E1.m1.6.6.6.7" xref="S3.E1.m1.6.6.6.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.6.6.6.5a" xref="S3.E1.m1.6.6.6.5.cmml">​</mo><msup id="S3.E1.m1.6.6.6.8" xref="S3.E1.m1.6.6.6.8.cmml"><mi id="S3.E1.m1.6.6.6.8.2" xref="S3.E1.m1.6.6.6.8.2.cmml">c</mi><mi id="S3.E1.m1.6.6.6.8.3" xref="S3.E1.m1.6.6.6.8.3.cmml">t</mi></msup><mo lspace="0em" rspace="0em" id="S3.E1.m1.6.6.6.5b" xref="S3.E1.m1.6.6.6.5.cmml">​</mo><mrow id="S3.E1.m1.6.6.6.4.4" xref="S3.E1.m1.6.6.6.4.5.cmml"><mo stretchy="false" id="S3.E1.m1.6.6.6.4.4.5" xref="S3.E1.m1.6.6.6.4.5.cmml">(</mo><msup id="S3.E1.m1.3.3.3.1.1.1" xref="S3.E1.m1.3.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.3.3.3.1.1.1.2" xref="S3.E1.m1.3.3.3.1.1.1.2.cmml">𝒬</mi><mi id="S3.E1.m1.3.3.3.1.1.1.3" xref="S3.E1.m1.3.3.3.1.1.1.3.cmml">t</mi></msup><mo id="S3.E1.m1.6.6.6.4.4.6" xref="S3.E1.m1.6.6.6.4.5.cmml">,</mo><msup id="S3.E1.m1.4.4.4.2.2.2" xref="S3.E1.m1.4.4.4.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.4.4.4.2.2.2.2" xref="S3.E1.m1.4.4.4.2.2.2.2.cmml">ℬ</mi><mi id="S3.E1.m1.4.4.4.2.2.2.3" xref="S3.E1.m1.4.4.4.2.2.2.3.cmml">t</mi></msup><mo id="S3.E1.m1.6.6.6.4.4.7" xref="S3.E1.m1.6.6.6.4.5.cmml">,</mo><msup id="S3.E1.m1.5.5.5.3.3.3" xref="S3.E1.m1.5.5.5.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.5.5.5.3.3.3.2" xref="S3.E1.m1.5.5.5.3.3.3.2.cmml">ℱ</mi><mi id="S3.E1.m1.5.5.5.3.3.3.3" xref="S3.E1.m1.5.5.5.3.3.3.3.cmml">t</mi></msup><mo id="S3.E1.m1.6.6.6.4.4.8" xref="S3.E1.m1.6.6.6.4.5.cmml">;</mo><msup id="S3.E1.m1.6.6.6.4.4.4" xref="S3.E1.m1.6.6.6.4.4.4.cmml"><mi id="S3.E1.m1.6.6.6.4.4.4.2" xref="S3.E1.m1.6.6.6.4.4.4.2.cmml">θ</mi><mi id="S3.E1.m1.6.6.6.4.4.4.3" xref="S3.E1.m1.6.6.6.4.4.4.3.cmml">t</mi></msup><mo stretchy="false" id="S3.E1.m1.6.6.6.4.4.9" xref="S3.E1.m1.6.6.6.4.5.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.6b"><apply id="S3.E1.m1.6.6.cmml" xref="S3.E1.m1.6.6"><eq id="S3.E1.m1.6.6.7.cmml" xref="S3.E1.m1.6.6.7"></eq><interval closure="closed" id="S3.E1.m1.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2"><apply id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1">superscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.2">𝒬</ci><apply id="S3.E1.m1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.3"><plus id="S3.E1.m1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.3.1"></plus><ci id="S3.E1.m1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.3.2">𝑡</ci><cn type="integer" id="S3.E1.m1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.E1.m1.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.2.2">superscript</csymbol><ci id="S3.E1.m1.2.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2.2">ℬ</ci><apply id="S3.E1.m1.2.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2.2.3"><plus id="S3.E1.m1.2.2.2.2.2.3.1.cmml" xref="S3.E1.m1.2.2.2.2.2.3.1"></plus><ci id="S3.E1.m1.2.2.2.2.2.3.2.cmml" xref="S3.E1.m1.2.2.2.2.2.3.2">𝑡</ci><cn type="integer" id="S3.E1.m1.2.2.2.2.2.3.3.cmml" xref="S3.E1.m1.2.2.2.2.2.3.3">1</cn></apply></apply></interval><apply id="S3.E1.m1.6.6.6.cmml" xref="S3.E1.m1.6.6.6"><times id="S3.E1.m1.6.6.6.5.cmml" xref="S3.E1.m1.6.6.6.5"></times><ci id="S3.E1.m1.6.6.6.6.cmml" xref="S3.E1.m1.6.6.6.6">𝐷</ci><ci id="S3.E1.m1.6.6.6.7.cmml" xref="S3.E1.m1.6.6.6.7">𝑒</ci><apply id="S3.E1.m1.6.6.6.8.cmml" xref="S3.E1.m1.6.6.6.8"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.6.8.1.cmml" xref="S3.E1.m1.6.6.6.8">superscript</csymbol><ci id="S3.E1.m1.6.6.6.8.2.cmml" xref="S3.E1.m1.6.6.6.8.2">𝑐</ci><ci id="S3.E1.m1.6.6.6.8.3.cmml" xref="S3.E1.m1.6.6.6.8.3">𝑡</ci></apply><vector id="S3.E1.m1.6.6.6.4.5.cmml" xref="S3.E1.m1.6.6.6.4.4"><apply id="S3.E1.m1.3.3.3.1.1.1.cmml" xref="S3.E1.m1.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.3.1.1.1.1.cmml" xref="S3.E1.m1.3.3.3.1.1.1">superscript</csymbol><ci id="S3.E1.m1.3.3.3.1.1.1.2.cmml" xref="S3.E1.m1.3.3.3.1.1.1.2">𝒬</ci><ci id="S3.E1.m1.3.3.3.1.1.1.3.cmml" xref="S3.E1.m1.3.3.3.1.1.1.3">𝑡</ci></apply><apply id="S3.E1.m1.4.4.4.2.2.2.cmml" xref="S3.E1.m1.4.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.4.2.2.2.1.cmml" xref="S3.E1.m1.4.4.4.2.2.2">superscript</csymbol><ci id="S3.E1.m1.4.4.4.2.2.2.2.cmml" xref="S3.E1.m1.4.4.4.2.2.2.2">ℬ</ci><ci id="S3.E1.m1.4.4.4.2.2.2.3.cmml" xref="S3.E1.m1.4.4.4.2.2.2.3">𝑡</ci></apply><apply id="S3.E1.m1.5.5.5.3.3.3.cmml" xref="S3.E1.m1.5.5.5.3.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.5.3.3.3.1.cmml" xref="S3.E1.m1.5.5.5.3.3.3">superscript</csymbol><ci id="S3.E1.m1.5.5.5.3.3.3.2.cmml" xref="S3.E1.m1.5.5.5.3.3.3.2">ℱ</ci><ci id="S3.E1.m1.5.5.5.3.3.3.3.cmml" xref="S3.E1.m1.5.5.5.3.3.3.3">𝑡</ci></apply><apply id="S3.E1.m1.6.6.6.4.4.4.cmml" xref="S3.E1.m1.6.6.6.4.4.4"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.6.4.4.4.1.cmml" xref="S3.E1.m1.6.6.6.4.4.4">superscript</csymbol><ci id="S3.E1.m1.6.6.6.4.4.4.2.cmml" xref="S3.E1.m1.6.6.6.4.4.4.2">𝜃</ci><ci id="S3.E1.m1.6.6.6.4.4.4.3.cmml" xref="S3.E1.m1.6.6.6.4.4.4.3">𝑡</ci></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.6c">[\mathcal{Q}^{t+1},\mathcal{B}^{t+1}]=Dec^{t}(\mathcal{Q}^{t},\mathcal{B}^{t},\mathcal{F}^{t};\theta^{t})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.7" class="ltx_p">The key module in <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="Dec" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mrow id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.1.m1.1.1.1" xref="S3.SS2.p2.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.1.m1.1.1.1a" xref="S3.SS2.p2.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.1.m1.1.1.4" xref="S3.SS2.p2.1.m1.1.1.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><times id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1"></times><ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">𝐷</ci><ci id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">𝑒</ci><ci id="S3.SS2.p2.1.m1.1.1.4.cmml" xref="S3.SS2.p2.1.m1.1.1.4">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">Dec</annotation></semantics></math> is the dynamic conv, and it builds the connection between proposal feature <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="q_{i}" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><msub id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">q</mi><mi id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝑞</ci><ci id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">q_{i}</annotation></semantics></math> and image RoI feature <math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="f_{i}" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><msub id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml">f</mi><mi id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2">𝑓</ci><ci id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">f_{i}</annotation></semantics></math>. However, we find one distinction between cross attention and dynamic conv. The former is usually light-weight, while the latter depends on a heavy dynamic layer <math id="S3.SS2.p2.4.m4.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.SS2.p2.4.m4.1a"><mrow id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml"><mi id="S3.SS2.p2.4.m4.1.1.2" xref="S3.SS2.p2.4.m4.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.4.m4.1.1.1" xref="S3.SS2.p2.4.m4.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.4.m4.1.1.3" xref="S3.SS2.p2.4.m4.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.4.m4.1.1.1a" xref="S3.SS2.p2.4.m4.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.4.m4.1.1.4" xref="S3.SS2.p2.4.m4.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><apply id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1"><times id="S3.SS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1.1"></times><ci id="S3.SS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2">𝐷</ci><ci id="S3.SS2.p2.4.m4.1.1.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3">𝑦</ci><ci id="S3.SS2.p2.4.m4.1.1.4.cmml" xref="S3.SS2.p2.4.m4.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">Dyn</annotation></semantics></math>, which maps <math id="S3.SS2.p2.5.m5.1" class="ltx_Math" alttext="q_{i}" display="inline"><semantics id="S3.SS2.p2.5.m5.1a"><msub id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml"><mi id="S3.SS2.p2.5.m5.1.1.2" xref="S3.SS2.p2.5.m5.1.1.2.cmml">q</mi><mi id="S3.SS2.p2.5.m5.1.1.3" xref="S3.SS2.p2.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><apply id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m5.1.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p2.5.m5.1.1.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2">𝑞</ci><ci id="S3.SS2.p2.5.m5.1.1.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">q_{i}</annotation></semantics></math> into two sets of kernels <math id="S3.SS2.p2.6.m6.1" class="ltx_Math" alttext="k_{i}" display="inline"><semantics id="S3.SS2.p2.6.m6.1a"><msub id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml"><mi id="S3.SS2.p2.6.m6.1.1.2" xref="S3.SS2.p2.6.m6.1.1.2.cmml">k</mi><mi id="S3.SS2.p2.6.m6.1.1.3" xref="S3.SS2.p2.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><apply id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m6.1.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p2.6.m6.1.1.2.cmml" xref="S3.SS2.p2.6.m6.1.1.2">𝑘</ci><ci id="S3.SS2.p2.6.m6.1.1.3.cmml" xref="S3.SS2.p2.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">k_{i}</annotation></semantics></math> and <math id="S3.SS2.p2.7.m7.1" class="ltx_Math" alttext="v_{i}" display="inline"><semantics id="S3.SS2.p2.7.m7.1a"><msub id="S3.SS2.p2.7.m7.1.1" xref="S3.SS2.p2.7.m7.1.1.cmml"><mi id="S3.SS2.p2.7.m7.1.1.2" xref="S3.SS2.p2.7.m7.1.1.2.cmml">v</mi><mi id="S3.SS2.p2.7.m7.1.1.3" xref="S3.SS2.p2.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m7.1b"><apply id="S3.SS2.p2.7.m7.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.7.m7.1.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p2.7.m7.1.1.2.cmml" xref="S3.SS2.p2.7.m7.1.1.2">𝑣</ci><ci id="S3.SS2.p2.7.m7.1.1.3.cmml" xref="S3.SS2.p2.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m7.1c">v_{i}</annotation></semantics></math>, as is shown in <a href="#S3.E2" title="In 3.2 Recursive Structure for Decoder ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Eq.</span> <span class="ltx_text ltx_ref_tag">2</span></a>.</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.4" class="ltx_Math" alttext="[k_{i},v_{i}]=Dyn(q_{i})=FC_{c\rightarrow 2c\times d}(q_{i})" display="block"><semantics id="S3.E2.m1.4a"><mrow id="S3.E2.m1.4.4" xref="S3.E2.m1.4.4.cmml"><mrow id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.2.2.3" xref="S3.E2.m1.2.2.2.3.cmml">[</mo><msub id="S3.E2.m1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.2.cmml">k</mi><mi id="S3.E2.m1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E2.m1.2.2.2.2.4" xref="S3.E2.m1.2.2.2.3.cmml">,</mo><msub id="S3.E2.m1.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.cmml"><mi id="S3.E2.m1.2.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.2.cmml">v</mi><mi id="S3.E2.m1.2.2.2.2.2.3" xref="S3.E2.m1.2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E2.m1.2.2.2.2.5" xref="S3.E2.m1.2.2.2.3.cmml">]</mo></mrow><mo id="S3.E2.m1.4.4.6" xref="S3.E2.m1.4.4.6.cmml">=</mo><mrow id="S3.E2.m1.3.3.3" xref="S3.E2.m1.3.3.3.cmml"><mi id="S3.E2.m1.3.3.3.3" xref="S3.E2.m1.3.3.3.3.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.3.2" xref="S3.E2.m1.3.3.3.2.cmml">​</mo><mi id="S3.E2.m1.3.3.3.4" xref="S3.E2.m1.3.3.3.4.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.3.2a" xref="S3.E2.m1.3.3.3.2.cmml">​</mo><mi id="S3.E2.m1.3.3.3.5" xref="S3.E2.m1.3.3.3.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.3.2b" xref="S3.E2.m1.3.3.3.2.cmml">​</mo><mrow id="S3.E2.m1.3.3.3.1.1" xref="S3.E2.m1.3.3.3.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.3.3.3.1.1.2" xref="S3.E2.m1.3.3.3.1.1.1.cmml">(</mo><msub id="S3.E2.m1.3.3.3.1.1.1" xref="S3.E2.m1.3.3.3.1.1.1.cmml"><mi id="S3.E2.m1.3.3.3.1.1.1.2" xref="S3.E2.m1.3.3.3.1.1.1.2.cmml">q</mi><mi id="S3.E2.m1.3.3.3.1.1.1.3" xref="S3.E2.m1.3.3.3.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E2.m1.3.3.3.1.1.3" xref="S3.E2.m1.3.3.3.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.4.4.7" xref="S3.E2.m1.4.4.7.cmml">=</mo><mrow id="S3.E2.m1.4.4.4" xref="S3.E2.m1.4.4.4.cmml"><mi id="S3.E2.m1.4.4.4.3" xref="S3.E2.m1.4.4.4.3.cmml">F</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.4.4.4.2" xref="S3.E2.m1.4.4.4.2.cmml">​</mo><msub id="S3.E2.m1.4.4.4.4" xref="S3.E2.m1.4.4.4.4.cmml"><mi id="S3.E2.m1.4.4.4.4.2" xref="S3.E2.m1.4.4.4.4.2.cmml">C</mi><mrow id="S3.E2.m1.4.4.4.4.3" xref="S3.E2.m1.4.4.4.4.3.cmml"><mi id="S3.E2.m1.4.4.4.4.3.2" xref="S3.E2.m1.4.4.4.4.3.2.cmml">c</mi><mo stretchy="false" id="S3.E2.m1.4.4.4.4.3.1" xref="S3.E2.m1.4.4.4.4.3.1.cmml">→</mo><mrow id="S3.E2.m1.4.4.4.4.3.3" xref="S3.E2.m1.4.4.4.4.3.3.cmml"><mrow id="S3.E2.m1.4.4.4.4.3.3.2" xref="S3.E2.m1.4.4.4.4.3.3.2.cmml"><mn id="S3.E2.m1.4.4.4.4.3.3.2.2" xref="S3.E2.m1.4.4.4.4.3.3.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S3.E2.m1.4.4.4.4.3.3.2.1" xref="S3.E2.m1.4.4.4.4.3.3.2.1.cmml">​</mo><mi id="S3.E2.m1.4.4.4.4.3.3.2.3" xref="S3.E2.m1.4.4.4.4.3.3.2.3.cmml">c</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.E2.m1.4.4.4.4.3.3.1" xref="S3.E2.m1.4.4.4.4.3.3.1.cmml">×</mo><mi id="S3.E2.m1.4.4.4.4.3.3.3" xref="S3.E2.m1.4.4.4.4.3.3.3.cmml">d</mi></mrow></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.4.4.4.2a" xref="S3.E2.m1.4.4.4.2.cmml">​</mo><mrow id="S3.E2.m1.4.4.4.1.1" xref="S3.E2.m1.4.4.4.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.4.4.4.1.1.2" xref="S3.E2.m1.4.4.4.1.1.1.cmml">(</mo><msub id="S3.E2.m1.4.4.4.1.1.1" xref="S3.E2.m1.4.4.4.1.1.1.cmml"><mi id="S3.E2.m1.4.4.4.1.1.1.2" xref="S3.E2.m1.4.4.4.1.1.1.2.cmml">q</mi><mi id="S3.E2.m1.4.4.4.1.1.1.3" xref="S3.E2.m1.4.4.4.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E2.m1.4.4.4.1.1.3" xref="S3.E2.m1.4.4.4.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.4b"><apply id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4"><and id="S3.E2.m1.4.4a.cmml" xref="S3.E2.m1.4.4"></and><apply id="S3.E2.m1.4.4b.cmml" xref="S3.E2.m1.4.4"><eq id="S3.E2.m1.4.4.6.cmml" xref="S3.E2.m1.4.4.6"></eq><interval closure="closed" id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2"><apply id="S3.E2.m1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.2">𝑘</ci><ci id="S3.E2.m1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E2.m1.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.E2.m1.2.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2">𝑣</ci><ci id="S3.E2.m1.2.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.2.3">𝑖</ci></apply></interval><apply id="S3.E2.m1.3.3.3.cmml" xref="S3.E2.m1.3.3.3"><times id="S3.E2.m1.3.3.3.2.cmml" xref="S3.E2.m1.3.3.3.2"></times><ci id="S3.E2.m1.3.3.3.3.cmml" xref="S3.E2.m1.3.3.3.3">𝐷</ci><ci id="S3.E2.m1.3.3.3.4.cmml" xref="S3.E2.m1.3.3.3.4">𝑦</ci><ci id="S3.E2.m1.3.3.3.5.cmml" xref="S3.E2.m1.3.3.3.5">𝑛</ci><apply id="S3.E2.m1.3.3.3.1.1.1.cmml" xref="S3.E2.m1.3.3.3.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.1.1.1.1.cmml" xref="S3.E2.m1.3.3.3.1.1">subscript</csymbol><ci id="S3.E2.m1.3.3.3.1.1.1.2.cmml" xref="S3.E2.m1.3.3.3.1.1.1.2">𝑞</ci><ci id="S3.E2.m1.3.3.3.1.1.1.3.cmml" xref="S3.E2.m1.3.3.3.1.1.1.3">𝑖</ci></apply></apply></apply><apply id="S3.E2.m1.4.4c.cmml" xref="S3.E2.m1.4.4"><eq id="S3.E2.m1.4.4.7.cmml" xref="S3.E2.m1.4.4.7"></eq><share href="#S3.E2.m1.3.3.3.cmml" id="S3.E2.m1.4.4d.cmml" xref="S3.E2.m1.4.4"></share><apply id="S3.E2.m1.4.4.4.cmml" xref="S3.E2.m1.4.4.4"><times id="S3.E2.m1.4.4.4.2.cmml" xref="S3.E2.m1.4.4.4.2"></times><ci id="S3.E2.m1.4.4.4.3.cmml" xref="S3.E2.m1.4.4.4.3">𝐹</ci><apply id="S3.E2.m1.4.4.4.4.cmml" xref="S3.E2.m1.4.4.4.4"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.4.1.cmml" xref="S3.E2.m1.4.4.4.4">subscript</csymbol><ci id="S3.E2.m1.4.4.4.4.2.cmml" xref="S3.E2.m1.4.4.4.4.2">𝐶</ci><apply id="S3.E2.m1.4.4.4.4.3.cmml" xref="S3.E2.m1.4.4.4.4.3"><ci id="S3.E2.m1.4.4.4.4.3.1.cmml" xref="S3.E2.m1.4.4.4.4.3.1">→</ci><ci id="S3.E2.m1.4.4.4.4.3.2.cmml" xref="S3.E2.m1.4.4.4.4.3.2">𝑐</ci><apply id="S3.E2.m1.4.4.4.4.3.3.cmml" xref="S3.E2.m1.4.4.4.4.3.3"><times id="S3.E2.m1.4.4.4.4.3.3.1.cmml" xref="S3.E2.m1.4.4.4.4.3.3.1"></times><apply id="S3.E2.m1.4.4.4.4.3.3.2.cmml" xref="S3.E2.m1.4.4.4.4.3.3.2"><times id="S3.E2.m1.4.4.4.4.3.3.2.1.cmml" xref="S3.E2.m1.4.4.4.4.3.3.2.1"></times><cn type="integer" id="S3.E2.m1.4.4.4.4.3.3.2.2.cmml" xref="S3.E2.m1.4.4.4.4.3.3.2.2">2</cn><ci id="S3.E2.m1.4.4.4.4.3.3.2.3.cmml" xref="S3.E2.m1.4.4.4.4.3.3.2.3">𝑐</ci></apply><ci id="S3.E2.m1.4.4.4.4.3.3.3.cmml" xref="S3.E2.m1.4.4.4.4.3.3.3">𝑑</ci></apply></apply></apply><apply id="S3.E2.m1.4.4.4.1.1.1.cmml" xref="S3.E2.m1.4.4.4.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.1.1.1.1.cmml" xref="S3.E2.m1.4.4.4.1.1">subscript</csymbol><ci id="S3.E2.m1.4.4.4.1.1.1.2.cmml" xref="S3.E2.m1.4.4.4.1.1.1.2">𝑞</ci><ci id="S3.E2.m1.4.4.4.1.1.1.3.cmml" xref="S3.E2.m1.4.4.4.1.1.1.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.4c">[k_{i},v_{i}]=Dyn(q_{i})=FC_{c\rightarrow 2c\times d}(q_{i})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p2.21" class="ltx_p">Actually, <math id="S3.SS2.p2.8.m1.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.SS2.p2.8.m1.1a"><mrow id="S3.SS2.p2.8.m1.1.1" xref="S3.SS2.p2.8.m1.1.1.cmml"><mi id="S3.SS2.p2.8.m1.1.1.2" xref="S3.SS2.p2.8.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.8.m1.1.1.1" xref="S3.SS2.p2.8.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.8.m1.1.1.3" xref="S3.SS2.p2.8.m1.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.8.m1.1.1.1a" xref="S3.SS2.p2.8.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.8.m1.1.1.4" xref="S3.SS2.p2.8.m1.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m1.1b"><apply id="S3.SS2.p2.8.m1.1.1.cmml" xref="S3.SS2.p2.8.m1.1.1"><times id="S3.SS2.p2.8.m1.1.1.1.cmml" xref="S3.SS2.p2.8.m1.1.1.1"></times><ci id="S3.SS2.p2.8.m1.1.1.2.cmml" xref="S3.SS2.p2.8.m1.1.1.2">𝐷</ci><ci id="S3.SS2.p2.8.m1.1.1.3.cmml" xref="S3.SS2.p2.8.m1.1.1.3">𝑦</ci><ci id="S3.SS2.p2.8.m1.1.1.4.cmml" xref="S3.SS2.p2.8.m1.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m1.1c">Dyn</annotation></semantics></math> is a single FC layer with its input dimension <math id="S3.SS2.p2.9.m2.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS2.p2.9.m2.1a"><mi id="S3.SS2.p2.9.m2.1.1" xref="S3.SS2.p2.9.m2.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.9.m2.1b"><ci id="S3.SS2.p2.9.m2.1.1.cmml" xref="S3.SS2.p2.9.m2.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.9.m2.1c">c</annotation></semantics></math> the same as <math id="S3.SS2.p2.10.m3.1" class="ltx_Math" alttext="q_{i}" display="inline"><semantics id="S3.SS2.p2.10.m3.1a"><msub id="S3.SS2.p2.10.m3.1.1" xref="S3.SS2.p2.10.m3.1.1.cmml"><mi id="S3.SS2.p2.10.m3.1.1.2" xref="S3.SS2.p2.10.m3.1.1.2.cmml">q</mi><mi id="S3.SS2.p2.10.m3.1.1.3" xref="S3.SS2.p2.10.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.10.m3.1b"><apply id="S3.SS2.p2.10.m3.1.1.cmml" xref="S3.SS2.p2.10.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.10.m3.1.1.1.cmml" xref="S3.SS2.p2.10.m3.1.1">subscript</csymbol><ci id="S3.SS2.p2.10.m3.1.1.2.cmml" xref="S3.SS2.p2.10.m3.1.1.2">𝑞</ci><ci id="S3.SS2.p2.10.m3.1.1.3.cmml" xref="S3.SS2.p2.10.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.10.m3.1c">q_{i}</annotation></semantics></math>, and output dimension equals <math id="S3.SS2.p2.11.m4.1" class="ltx_Math" alttext="2c\times d" display="inline"><semantics id="S3.SS2.p2.11.m4.1a"><mrow id="S3.SS2.p2.11.m4.1.1" xref="S3.SS2.p2.11.m4.1.1.cmml"><mrow id="S3.SS2.p2.11.m4.1.1.2" xref="S3.SS2.p2.11.m4.1.1.2.cmml"><mn id="S3.SS2.p2.11.m4.1.1.2.2" xref="S3.SS2.p2.11.m4.1.1.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S3.SS2.p2.11.m4.1.1.2.1" xref="S3.SS2.p2.11.m4.1.1.2.1.cmml">​</mo><mi id="S3.SS2.p2.11.m4.1.1.2.3" xref="S3.SS2.p2.11.m4.1.1.2.3.cmml">c</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p2.11.m4.1.1.1" xref="S3.SS2.p2.11.m4.1.1.1.cmml">×</mo><mi id="S3.SS2.p2.11.m4.1.1.3" xref="S3.SS2.p2.11.m4.1.1.3.cmml">d</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.11.m4.1b"><apply id="S3.SS2.p2.11.m4.1.1.cmml" xref="S3.SS2.p2.11.m4.1.1"><times id="S3.SS2.p2.11.m4.1.1.1.cmml" xref="S3.SS2.p2.11.m4.1.1.1"></times><apply id="S3.SS2.p2.11.m4.1.1.2.cmml" xref="S3.SS2.p2.11.m4.1.1.2"><times id="S3.SS2.p2.11.m4.1.1.2.1.cmml" xref="S3.SS2.p2.11.m4.1.1.2.1"></times><cn type="integer" id="S3.SS2.p2.11.m4.1.1.2.2.cmml" xref="S3.SS2.p2.11.m4.1.1.2.2">2</cn><ci id="S3.SS2.p2.11.m4.1.1.2.3.cmml" xref="S3.SS2.p2.11.m4.1.1.2.3">𝑐</ci></apply><ci id="S3.SS2.p2.11.m4.1.1.3.cmml" xref="S3.SS2.p2.11.m4.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.11.m4.1c">2c\times d</annotation></semantics></math>, which accommodates both <math id="S3.SS2.p2.12.m5.1" class="ltx_Math" alttext="k_{i}" display="inline"><semantics id="S3.SS2.p2.12.m5.1a"><msub id="S3.SS2.p2.12.m5.1.1" xref="S3.SS2.p2.12.m5.1.1.cmml"><mi id="S3.SS2.p2.12.m5.1.1.2" xref="S3.SS2.p2.12.m5.1.1.2.cmml">k</mi><mi id="S3.SS2.p2.12.m5.1.1.3" xref="S3.SS2.p2.12.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.12.m5.1b"><apply id="S3.SS2.p2.12.m5.1.1.cmml" xref="S3.SS2.p2.12.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.12.m5.1.1.1.cmml" xref="S3.SS2.p2.12.m5.1.1">subscript</csymbol><ci id="S3.SS2.p2.12.m5.1.1.2.cmml" xref="S3.SS2.p2.12.m5.1.1.2">𝑘</ci><ci id="S3.SS2.p2.12.m5.1.1.3.cmml" xref="S3.SS2.p2.12.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.12.m5.1c">k_{i}</annotation></semantics></math> and <math id="S3.SS2.p2.13.m6.1" class="ltx_Math" alttext="v_{i}" display="inline"><semantics id="S3.SS2.p2.13.m6.1a"><msub id="S3.SS2.p2.13.m6.1.1" xref="S3.SS2.p2.13.m6.1.1.cmml"><mi id="S3.SS2.p2.13.m6.1.1.2" xref="S3.SS2.p2.13.m6.1.1.2.cmml">v</mi><mi id="S3.SS2.p2.13.m6.1.1.3" xref="S3.SS2.p2.13.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.13.m6.1b"><apply id="S3.SS2.p2.13.m6.1.1.cmml" xref="S3.SS2.p2.13.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.13.m6.1.1.1.cmml" xref="S3.SS2.p2.13.m6.1.1">subscript</csymbol><ci id="S3.SS2.p2.13.m6.1.1.2.cmml" xref="S3.SS2.p2.13.m6.1.1.2">𝑣</ci><ci id="S3.SS2.p2.13.m6.1.1.3.cmml" xref="S3.SS2.p2.13.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.13.m6.1c">v_{i}</annotation></semantics></math>. It accounts for a large percentage of model parameters
in <math id="S3.SS2.p2.14.m7.1" class="ltx_Math" alttext="Dec" display="inline"><semantics id="S3.SS2.p2.14.m7.1a"><mrow id="S3.SS2.p2.14.m7.1.1" xref="S3.SS2.p2.14.m7.1.1.cmml"><mi id="S3.SS2.p2.14.m7.1.1.2" xref="S3.SS2.p2.14.m7.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.14.m7.1.1.1" xref="S3.SS2.p2.14.m7.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.14.m7.1.1.3" xref="S3.SS2.p2.14.m7.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.14.m7.1.1.1a" xref="S3.SS2.p2.14.m7.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.14.m7.1.1.4" xref="S3.SS2.p2.14.m7.1.1.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.14.m7.1b"><apply id="S3.SS2.p2.14.m7.1.1.cmml" xref="S3.SS2.p2.14.m7.1.1"><times id="S3.SS2.p2.14.m7.1.1.1.cmml" xref="S3.SS2.p2.14.m7.1.1.1"></times><ci id="S3.SS2.p2.14.m7.1.1.2.cmml" xref="S3.SS2.p2.14.m7.1.1.2">𝐷</ci><ci id="S3.SS2.p2.14.m7.1.1.3.cmml" xref="S3.SS2.p2.14.m7.1.1.3">𝑒</ci><ci id="S3.SS2.p2.14.m7.1.1.4.cmml" xref="S3.SS2.p2.14.m7.1.1.4">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.14.m7.1c">Dec</annotation></semantics></math>. Another module, which costs many params and does not even exist in DETR-series, is the out layer <math id="S3.SS2.p2.15.m8.1" class="ltx_Math" alttext="Out" display="inline"><semantics id="S3.SS2.p2.15.m8.1a"><mrow id="S3.SS2.p2.15.m8.1.1" xref="S3.SS2.p2.15.m8.1.1.cmml"><mi id="S3.SS2.p2.15.m8.1.1.2" xref="S3.SS2.p2.15.m8.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.15.m8.1.1.1" xref="S3.SS2.p2.15.m8.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.15.m8.1.1.3" xref="S3.SS2.p2.15.m8.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.15.m8.1.1.1a" xref="S3.SS2.p2.15.m8.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.15.m8.1.1.4" xref="S3.SS2.p2.15.m8.1.1.4.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.15.m8.1b"><apply id="S3.SS2.p2.15.m8.1.1.cmml" xref="S3.SS2.p2.15.m8.1.1"><times id="S3.SS2.p2.15.m8.1.1.1.cmml" xref="S3.SS2.p2.15.m8.1.1.1"></times><ci id="S3.SS2.p2.15.m8.1.1.2.cmml" xref="S3.SS2.p2.15.m8.1.1.2">𝑂</ci><ci id="S3.SS2.p2.15.m8.1.1.3.cmml" xref="S3.SS2.p2.15.m8.1.1.3">𝑢</ci><ci id="S3.SS2.p2.15.m8.1.1.4.cmml" xref="S3.SS2.p2.15.m8.1.1.4">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.15.m8.1c">Out</annotation></semantics></math>. It is also an FC layer for reducing the spatial dimension from <math id="S3.SS2.p2.16.m9.1" class="ltx_Math" alttext="7\times 7" display="inline"><semantics id="S3.SS2.p2.16.m9.1a"><mrow id="S3.SS2.p2.16.m9.1.1" xref="S3.SS2.p2.16.m9.1.1.cmml"><mn id="S3.SS2.p2.16.m9.1.1.2" xref="S3.SS2.p2.16.m9.1.1.2.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p2.16.m9.1.1.1" xref="S3.SS2.p2.16.m9.1.1.1.cmml">×</mo><mn id="S3.SS2.p2.16.m9.1.1.3" xref="S3.SS2.p2.16.m9.1.1.3.cmml">7</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.16.m9.1b"><apply id="S3.SS2.p2.16.m9.1.1.cmml" xref="S3.SS2.p2.16.m9.1.1"><times id="S3.SS2.p2.16.m9.1.1.1.cmml" xref="S3.SS2.p2.16.m9.1.1.1"></times><cn type="integer" id="S3.SS2.p2.16.m9.1.1.2.cmml" xref="S3.SS2.p2.16.m9.1.1.2">7</cn><cn type="integer" id="S3.SS2.p2.16.m9.1.1.3.cmml" xref="S3.SS2.p2.16.m9.1.1.3">7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.16.m9.1c">7\times 7</annotation></semantics></math> to <math id="S3.SS2.p2.17.m10.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S3.SS2.p2.17.m10.1a"><mn id="S3.SS2.p2.17.m10.1.1" xref="S3.SS2.p2.17.m10.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.17.m10.1b"><cn type="integer" id="S3.SS2.p2.17.m10.1.1.cmml" xref="S3.SS2.p2.17.m10.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.17.m10.1c">1</annotation></semantics></math>, as is illustrated in <a href="#S3.E3" title="In 3.2 Recursive Structure for Decoder ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Eq.</span> <span class="ltx_text ltx_ref_tag">3</span></a>. The input of <math id="S3.SS2.p2.18.m11.1" class="ltx_Math" alttext="Out" display="inline"><semantics id="S3.SS2.p2.18.m11.1a"><mrow id="S3.SS2.p2.18.m11.1.1" xref="S3.SS2.p2.18.m11.1.1.cmml"><mi id="S3.SS2.p2.18.m11.1.1.2" xref="S3.SS2.p2.18.m11.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.18.m11.1.1.1" xref="S3.SS2.p2.18.m11.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.18.m11.1.1.3" xref="S3.SS2.p2.18.m11.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.18.m11.1.1.1a" xref="S3.SS2.p2.18.m11.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.18.m11.1.1.4" xref="S3.SS2.p2.18.m11.1.1.4.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.18.m11.1b"><apply id="S3.SS2.p2.18.m11.1.1.cmml" xref="S3.SS2.p2.18.m11.1.1"><times id="S3.SS2.p2.18.m11.1.1.1.cmml" xref="S3.SS2.p2.18.m11.1.1.1"></times><ci id="S3.SS2.p2.18.m11.1.1.2.cmml" xref="S3.SS2.p2.18.m11.1.1.2">𝑂</ci><ci id="S3.SS2.p2.18.m11.1.1.3.cmml" xref="S3.SS2.p2.18.m11.1.1.3">𝑢</ci><ci id="S3.SS2.p2.18.m11.1.1.4.cmml" xref="S3.SS2.p2.18.m11.1.1.4">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.18.m11.1c">Out</annotation></semantics></math> is the updated RoI feature <math id="S3.SS2.p2.19.m12.1" class="ltx_Math" alttext="f_{i}^{\prime}" display="inline"><semantics id="S3.SS2.p2.19.m12.1a"><msubsup id="S3.SS2.p2.19.m12.1.1" xref="S3.SS2.p2.19.m12.1.1.cmml"><mi id="S3.SS2.p2.19.m12.1.1.2.2" xref="S3.SS2.p2.19.m12.1.1.2.2.cmml">f</mi><mi id="S3.SS2.p2.19.m12.1.1.2.3" xref="S3.SS2.p2.19.m12.1.1.2.3.cmml">i</mi><mo id="S3.SS2.p2.19.m12.1.1.3" xref="S3.SS2.p2.19.m12.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.19.m12.1b"><apply id="S3.SS2.p2.19.m12.1.1.cmml" xref="S3.SS2.p2.19.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.19.m12.1.1.1.cmml" xref="S3.SS2.p2.19.m12.1.1">superscript</csymbol><apply id="S3.SS2.p2.19.m12.1.1.2.cmml" xref="S3.SS2.p2.19.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.19.m12.1.1.2.1.cmml" xref="S3.SS2.p2.19.m12.1.1">subscript</csymbol><ci id="S3.SS2.p2.19.m12.1.1.2.2.cmml" xref="S3.SS2.p2.19.m12.1.1.2.2">𝑓</ci><ci id="S3.SS2.p2.19.m12.1.1.2.3.cmml" xref="S3.SS2.p2.19.m12.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p2.19.m12.1.1.3.cmml" xref="S3.SS2.p2.19.m12.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.19.m12.1c">f_{i}^{\prime}</annotation></semantics></math> and the output is object feature <math id="S3.SS2.p2.20.m13.1" class="ltx_Math" alttext="o_{i}" display="inline"><semantics id="S3.SS2.p2.20.m13.1a"><msub id="S3.SS2.p2.20.m13.1.1" xref="S3.SS2.p2.20.m13.1.1.cmml"><mi id="S3.SS2.p2.20.m13.1.1.2" xref="S3.SS2.p2.20.m13.1.1.2.cmml">o</mi><mi id="S3.SS2.p2.20.m13.1.1.3" xref="S3.SS2.p2.20.m13.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.20.m13.1b"><apply id="S3.SS2.p2.20.m13.1.1.cmml" xref="S3.SS2.p2.20.m13.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.20.m13.1.1.1.cmml" xref="S3.SS2.p2.20.m13.1.1">subscript</csymbol><ci id="S3.SS2.p2.20.m13.1.1.2.cmml" xref="S3.SS2.p2.20.m13.1.1.2">𝑜</ci><ci id="S3.SS2.p2.20.m13.1.1.3.cmml" xref="S3.SS2.p2.20.m13.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.20.m13.1c">o_{i}</annotation></semantics></math>, which is utilized by the detection head for prediction and the next stage <math id="S3.SS2.p2.21.m14.1" class="ltx_Math" alttext="Dec^{t+1}" display="inline"><semantics id="S3.SS2.p2.21.m14.1a"><mrow id="S3.SS2.p2.21.m14.1.1" xref="S3.SS2.p2.21.m14.1.1.cmml"><mi id="S3.SS2.p2.21.m14.1.1.2" xref="S3.SS2.p2.21.m14.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.21.m14.1.1.1" xref="S3.SS2.p2.21.m14.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.21.m14.1.1.3" xref="S3.SS2.p2.21.m14.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.21.m14.1.1.1a" xref="S3.SS2.p2.21.m14.1.1.1.cmml">​</mo><msup id="S3.SS2.p2.21.m14.1.1.4" xref="S3.SS2.p2.21.m14.1.1.4.cmml"><mi id="S3.SS2.p2.21.m14.1.1.4.2" xref="S3.SS2.p2.21.m14.1.1.4.2.cmml">c</mi><mrow id="S3.SS2.p2.21.m14.1.1.4.3" xref="S3.SS2.p2.21.m14.1.1.4.3.cmml"><mi id="S3.SS2.p2.21.m14.1.1.4.3.2" xref="S3.SS2.p2.21.m14.1.1.4.3.2.cmml">t</mi><mo id="S3.SS2.p2.21.m14.1.1.4.3.1" xref="S3.SS2.p2.21.m14.1.1.4.3.1.cmml">+</mo><mn id="S3.SS2.p2.21.m14.1.1.4.3.3" xref="S3.SS2.p2.21.m14.1.1.4.3.3.cmml">1</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.21.m14.1b"><apply id="S3.SS2.p2.21.m14.1.1.cmml" xref="S3.SS2.p2.21.m14.1.1"><times id="S3.SS2.p2.21.m14.1.1.1.cmml" xref="S3.SS2.p2.21.m14.1.1.1"></times><ci id="S3.SS2.p2.21.m14.1.1.2.cmml" xref="S3.SS2.p2.21.m14.1.1.2">𝐷</ci><ci id="S3.SS2.p2.21.m14.1.1.3.cmml" xref="S3.SS2.p2.21.m14.1.1.3">𝑒</ci><apply id="S3.SS2.p2.21.m14.1.1.4.cmml" xref="S3.SS2.p2.21.m14.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p2.21.m14.1.1.4.1.cmml" xref="S3.SS2.p2.21.m14.1.1.4">superscript</csymbol><ci id="S3.SS2.p2.21.m14.1.1.4.2.cmml" xref="S3.SS2.p2.21.m14.1.1.4.2">𝑐</ci><apply id="S3.SS2.p2.21.m14.1.1.4.3.cmml" xref="S3.SS2.p2.21.m14.1.1.4.3"><plus id="S3.SS2.p2.21.m14.1.1.4.3.1.cmml" xref="S3.SS2.p2.21.m14.1.1.4.3.1"></plus><ci id="S3.SS2.p2.21.m14.1.1.4.3.2.cmml" xref="S3.SS2.p2.21.m14.1.1.4.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p2.21.m14.1.1.4.3.3.cmml" xref="S3.SS2.p2.21.m14.1.1.4.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.21.m14.1c">Dec^{t+1}</annotation></semantics></math> as its input proposal feature.</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.2" class="ltx_Math" alttext="o_{i}=Out(f_{i}^{\prime})+q_{i}=FC_{7\times 7\times c\rightarrow c}(f_{i}^{\prime})+q_{i}\quad q_{i}^{t+1}=o_{i}" display="block"><semantics id="S3.E3.m1.2a"><mrow id="S3.E3.m1.2.2.2" xref="S3.E3.m1.2.2.3.cmml"><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><msub id="S3.E3.m1.1.1.1.1.4" xref="S3.E3.m1.1.1.1.1.4.cmml"><mi id="S3.E3.m1.1.1.1.1.4.2" xref="S3.E3.m1.1.1.1.1.4.2.cmml">o</mi><mi id="S3.E3.m1.1.1.1.1.4.3" xref="S3.E3.m1.1.1.1.1.4.3.cmml">i</mi></msub><mo id="S3.E3.m1.1.1.1.1.5" xref="S3.E3.m1.1.1.1.1.5.cmml">=</mo><mrow id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.3.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.E3.m1.1.1.1.1.1.1.4" xref="S3.E3.m1.1.1.1.1.1.1.4.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.2a" xref="S3.E3.m1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.E3.m1.1.1.1.1.1.1.5" xref="S3.E3.m1.1.1.1.1.1.1.5.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.2b" xref="S3.E3.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E3.m1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.2.cmml">f</mi><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mo id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.cmml">′</mo></msubsup><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.2.cmml">+</mo><msub id="S3.E3.m1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.3.cmml"><mi id="S3.E3.m1.1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.1.3.2.cmml">q</mi><mi id="S3.E3.m1.1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E3.m1.1.1.1.1.6" xref="S3.E3.m1.1.1.1.1.6.cmml">=</mo><mrow id="S3.E3.m1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.2.cmml"><mrow id="S3.E3.m1.1.1.1.1.2.1" xref="S3.E3.m1.1.1.1.1.2.1.cmml"><mi id="S3.E3.m1.1.1.1.1.2.1.3" xref="S3.E3.m1.1.1.1.1.2.1.3.cmml">F</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.2.1.2" xref="S3.E3.m1.1.1.1.1.2.1.2.cmml">​</mo><msub id="S3.E3.m1.1.1.1.1.2.1.4" xref="S3.E3.m1.1.1.1.1.2.1.4.cmml"><mi id="S3.E3.m1.1.1.1.1.2.1.4.2" xref="S3.E3.m1.1.1.1.1.2.1.4.2.cmml">C</mi><mrow id="S3.E3.m1.1.1.1.1.2.1.4.3" xref="S3.E3.m1.1.1.1.1.2.1.4.3.cmml"><mrow id="S3.E3.m1.1.1.1.1.2.1.4.3.2" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2.cmml"><mn id="S3.E3.m1.1.1.1.1.2.1.4.3.2.2" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2.2.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S3.E3.m1.1.1.1.1.2.1.4.3.2.1" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2.1.cmml">×</mo><mn id="S3.E3.m1.1.1.1.1.2.1.4.3.2.3" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2.3.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S3.E3.m1.1.1.1.1.2.1.4.3.2.1a" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2.1.cmml">×</mo><mi id="S3.E3.m1.1.1.1.1.2.1.4.3.2.4" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2.4.cmml">c</mi></mrow><mo stretchy="false" id="S3.E3.m1.1.1.1.1.2.1.4.3.1" xref="S3.E3.m1.1.1.1.1.2.1.4.3.1.cmml">→</mo><mi id="S3.E3.m1.1.1.1.1.2.1.4.3.3" xref="S3.E3.m1.1.1.1.1.2.1.4.3.3.cmml">c</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.2.1.2a" xref="S3.E3.m1.1.1.1.1.2.1.2.cmml">​</mo><mrow id="S3.E3.m1.1.1.1.1.2.1.1.1" xref="S3.E3.m1.1.1.1.1.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.2.1.1.1.2" xref="S3.E3.m1.1.1.1.1.2.1.1.1.1.cmml">(</mo><msubsup id="S3.E3.m1.1.1.1.1.2.1.1.1.1" xref="S3.E3.m1.1.1.1.1.2.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.2.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.2.1.1.1.1.2.2.cmml">f</mi><mi id="S3.E3.m1.1.1.1.1.2.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.2.1.1.1.1.2.3.cmml">i</mi><mo id="S3.E3.m1.1.1.1.1.2.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.2.1.1.1.1.3.cmml">′</mo></msubsup><mo stretchy="false" id="S3.E3.m1.1.1.1.1.2.1.1.1.3" xref="S3.E3.m1.1.1.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.2.2.cmml">+</mo><msub id="S3.E3.m1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.2.3.cmml"><mi id="S3.E3.m1.1.1.1.1.2.3.2" xref="S3.E3.m1.1.1.1.1.2.3.2.cmml">q</mi><mi id="S3.E3.m1.1.1.1.1.2.3.3" xref="S3.E3.m1.1.1.1.1.2.3.3.cmml">i</mi></msub></mrow></mrow><mspace width="1em" id="S3.E3.m1.2.2.2.3" xref="S3.E3.m1.2.2.3a.cmml"></mspace><mrow id="S3.E3.m1.2.2.2.2" xref="S3.E3.m1.2.2.2.2.cmml"><msubsup id="S3.E3.m1.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.cmml"><mi id="S3.E3.m1.2.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.2.cmml">q</mi><mi id="S3.E3.m1.2.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.2.3.cmml">i</mi><mrow id="S3.E3.m1.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.3.cmml"><mi id="S3.E3.m1.2.2.2.2.2.3.2" xref="S3.E3.m1.2.2.2.2.2.3.2.cmml">t</mi><mo id="S3.E3.m1.2.2.2.2.2.3.1" xref="S3.E3.m1.2.2.2.2.2.3.1.cmml">+</mo><mn id="S3.E3.m1.2.2.2.2.2.3.3" xref="S3.E3.m1.2.2.2.2.2.3.3.cmml">1</mn></mrow></msubsup><mo id="S3.E3.m1.2.2.2.2.1" xref="S3.E3.m1.2.2.2.2.1.cmml">=</mo><msub id="S3.E3.m1.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.3.cmml"><mi id="S3.E3.m1.2.2.2.2.3.2" xref="S3.E3.m1.2.2.2.2.3.2.cmml">o</mi><mi id="S3.E3.m1.2.2.2.2.3.3" xref="S3.E3.m1.2.2.2.2.3.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.2b"><apply id="S3.E3.m1.2.2.3.cmml" xref="S3.E3.m1.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.3a.cmml" xref="S3.E3.m1.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1"><and id="S3.E3.m1.1.1.1.1a.cmml" xref="S3.E3.m1.1.1.1.1"></and><apply id="S3.E3.m1.1.1.1.1b.cmml" xref="S3.E3.m1.1.1.1.1"><eq id="S3.E3.m1.1.1.1.1.5.cmml" xref="S3.E3.m1.1.1.1.1.5"></eq><apply id="S3.E3.m1.1.1.1.1.4.cmml" xref="S3.E3.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.4.1.cmml" xref="S3.E3.m1.1.1.1.1.4">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.4.2.cmml" xref="S3.E3.m1.1.1.1.1.4.2">𝑜</ci><ci id="S3.E3.m1.1.1.1.1.4.3.cmml" xref="S3.E3.m1.1.1.1.1.4.3">𝑖</ci></apply><apply id="S3.E3.m1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"><plus id="S3.E3.m1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.2"></plus><apply id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1"><times id="S3.E3.m1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2"></times><ci id="S3.E3.m1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3">𝑂</ci><ci id="S3.E3.m1.1.1.1.1.1.1.4.cmml" xref="S3.E3.m1.1.1.1.1.1.1.4">𝑢</ci><ci id="S3.E3.m1.1.1.1.1.1.1.5.cmml" xref="S3.E3.m1.1.1.1.1.1.1.5">𝑡</ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.2">𝑓</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3">′</ci></apply></apply><apply id="S3.E3.m1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.3.2">𝑞</ci><ci id="S3.E3.m1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S3.E3.m1.1.1.1.1c.cmml" xref="S3.E3.m1.1.1.1.1"><eq id="S3.E3.m1.1.1.1.1.6.cmml" xref="S3.E3.m1.1.1.1.1.6"></eq><share href="#S3.E3.m1.1.1.1.1.1.cmml" id="S3.E3.m1.1.1.1.1d.cmml" xref="S3.E3.m1.1.1.1.1"></share><apply id="S3.E3.m1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.2"><plus id="S3.E3.m1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.2.2"></plus><apply id="S3.E3.m1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.2.1"><times id="S3.E3.m1.1.1.1.1.2.1.2.cmml" xref="S3.E3.m1.1.1.1.1.2.1.2"></times><ci id="S3.E3.m1.1.1.1.1.2.1.3.cmml" xref="S3.E3.m1.1.1.1.1.2.1.3">𝐹</ci><apply id="S3.E3.m1.1.1.1.1.2.1.4.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.2.1.4.1.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.2.1.4.2.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4.2">𝐶</ci><apply id="S3.E3.m1.1.1.1.1.2.1.4.3.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4.3"><ci id="S3.E3.m1.1.1.1.1.2.1.4.3.1.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4.3.1">→</ci><apply id="S3.E3.m1.1.1.1.1.2.1.4.3.2.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2"><times id="S3.E3.m1.1.1.1.1.2.1.4.3.2.1.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2.1"></times><cn type="integer" id="S3.E3.m1.1.1.1.1.2.1.4.3.2.2.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2.2">7</cn><cn type="integer" id="S3.E3.m1.1.1.1.1.2.1.4.3.2.3.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2.3">7</cn><ci id="S3.E3.m1.1.1.1.1.2.1.4.3.2.4.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4.3.2.4">𝑐</ci></apply><ci id="S3.E3.m1.1.1.1.1.2.1.4.3.3.cmml" xref="S3.E3.m1.1.1.1.1.2.1.4.3.3">𝑐</ci></apply></apply><apply id="S3.E3.m1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.2.1.1.1">superscript</csymbol><apply id="S3.E3.m1.1.1.1.1.2.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.2.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.2.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.2.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.2.1.1.1.1.2.2">𝑓</ci><ci id="S3.E3.m1.1.1.1.1.2.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.2.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E3.m1.1.1.1.1.2.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.2.1.1.1.1.3">′</ci></apply></apply><apply id="S3.E3.m1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.2.3.1.cmml" xref="S3.E3.m1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.2.3.2.cmml" xref="S3.E3.m1.1.1.1.1.2.3.2">𝑞</ci><ci id="S3.E3.m1.1.1.1.1.2.3.3.cmml" xref="S3.E3.m1.1.1.1.1.2.3.3">𝑖</ci></apply></apply></apply></apply><apply id="S3.E3.m1.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2"><eq id="S3.E3.m1.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.1"></eq><apply id="S3.E3.m1.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.2">superscript</csymbol><apply id="S3.E3.m1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.2.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2">𝑞</ci><ci id="S3.E3.m1.2.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2.2.3">𝑖</ci></apply><apply id="S3.E3.m1.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2.3"><plus id="S3.E3.m1.2.2.2.2.2.3.1.cmml" xref="S3.E3.m1.2.2.2.2.2.3.1"></plus><ci id="S3.E3.m1.2.2.2.2.2.3.2.cmml" xref="S3.E3.m1.2.2.2.2.2.3.2">𝑡</ci><cn type="integer" id="S3.E3.m1.2.2.2.2.2.3.3.cmml" xref="S3.E3.m1.2.2.2.2.2.3.3">1</cn></apply></apply><apply id="S3.E3.m1.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.3.1.cmml" xref="S3.E3.m1.2.2.2.2.3">subscript</csymbol><ci id="S3.E3.m1.2.2.2.2.3.2.cmml" xref="S3.E3.m1.2.2.2.2.3.2">𝑜</ci><ci id="S3.E3.m1.2.2.2.2.3.3.cmml" xref="S3.E3.m1.2.2.2.2.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.2c">o_{i}=Out(f_{i}^{\prime})+q_{i}=FC_{7\times 7\times c\rightarrow c}(f_{i}^{\prime})+q_{i}\quad q_{i}^{t+1}=o_{i}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p2.22" class="ltx_p">The module details within <math id="S3.SS2.p2.22.m1.1" class="ltx_Math" alttext="Dec" display="inline"><semantics id="S3.SS2.p2.22.m1.1a"><mrow id="S3.SS2.p2.22.m1.1.1" xref="S3.SS2.p2.22.m1.1.1.cmml"><mi id="S3.SS2.p2.22.m1.1.1.2" xref="S3.SS2.p2.22.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.22.m1.1.1.1" xref="S3.SS2.p2.22.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.22.m1.1.1.3" xref="S3.SS2.p2.22.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.22.m1.1.1.1a" xref="S3.SS2.p2.22.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.22.m1.1.1.4" xref="S3.SS2.p2.22.m1.1.1.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.22.m1.1b"><apply id="S3.SS2.p2.22.m1.1.1.cmml" xref="S3.SS2.p2.22.m1.1.1"><times id="S3.SS2.p2.22.m1.1.1.1.cmml" xref="S3.SS2.p2.22.m1.1.1.1"></times><ci id="S3.SS2.p2.22.m1.1.1.2.cmml" xref="S3.SS2.p2.22.m1.1.1.2">𝐷</ci><ci id="S3.SS2.p2.22.m1.1.1.3.cmml" xref="S3.SS2.p2.22.m1.1.1.3">𝑒</ci><ci id="S3.SS2.p2.22.m1.1.1.4.cmml" xref="S3.SS2.p2.22.m1.1.1.4">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.22.m1.1c">Dec</annotation></semantics></math>, particularly, the connection between different modules are illustrated in <a href="#S3.F2" title="In 3.1 Preliminaries ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">2</span></a> (a).</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.3" class="ltx_p">In following <a href="#S3.T1" title="In 3.2 Recursive Structure for Decoder ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span> <span class="ltx_text ltx_ref_tag">1</span></a>, the number of parameters in a single stage of the decoder is listed. We can see that a single <math id="S3.SS2.p3.1.m1.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.SS2.p3.1.m1.1a"><mrow id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.1.m1.1.1.1" xref="S3.SS2.p3.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.1.m1.1.1.1a" xref="S3.SS2.p3.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p3.1.m1.1.1.4" xref="S3.SS2.p3.1.m1.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><times id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1.1"></times><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">𝐷</ci><ci id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3">𝑦</ci><ci id="S3.SS2.p3.1.m1.1.1.4.cmml" xref="S3.SS2.p3.1.m1.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">Dyn</annotation></semantics></math> has 8.4M parameters, therefore, its parameter cost in six different stages already surpasses the full model of DETR. The second largest module is <math id="S3.SS2.p3.2.m2.1" class="ltx_Math" alttext="Out" display="inline"><semantics id="S3.SS2.p3.2.m2.1a"><mrow id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.2.m2.1.1.1" xref="S3.SS2.p3.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.2.m2.1.1.1a" xref="S3.SS2.p3.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p3.2.m2.1.1.4" xref="S3.SS2.p3.2.m2.1.1.4.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><times id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1.1"></times><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">𝑂</ci><ci id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3">𝑢</ci><ci id="S3.SS2.p3.2.m2.1.1.4.cmml" xref="S3.SS2.p3.2.m2.1.1.4">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">Out</annotation></semantics></math>, and it costs 3.2M parameters in Sparse R-CNN and DiffusionDet, and 8.4M in AdaMixer. Note that the multi-head cross or deformable attention layer in DETR-series is much smaller than <math id="S3.SS2.p3.3.m3.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.SS2.p3.3.m3.1a"><mrow id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml"><mi id="S3.SS2.p3.3.m3.1.1.2" xref="S3.SS2.p3.3.m3.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.3.m3.1.1.1" xref="S3.SS2.p3.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p3.3.m3.1.1.3" xref="S3.SS2.p3.3.m3.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.3.m3.1.1.1a" xref="S3.SS2.p3.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p3.3.m3.1.1.4" xref="S3.SS2.p3.3.m3.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><apply id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1"><times id="S3.SS2.p3.3.m3.1.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1.1"></times><ci id="S3.SS2.p3.3.m3.1.1.2.cmml" xref="S3.SS2.p3.3.m3.1.1.2">𝐷</ci><ci id="S3.SS2.p3.3.m3.1.1.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3">𝑦</ci><ci id="S3.SS2.p3.3.m3.1.1.4.cmml" xref="S3.SS2.p3.3.m3.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">Dyn</annotation></semantics></math>.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<div id="S3.T1.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:160pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(46.0pt,-17.0pt) scale(1.26950626450199,1.26950626450199) ;">
<table id="S3.T1.4.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.2.2.2" class="ltx_tr">
<th id="S3.T1.2.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Method</th>
<th id="S3.T1.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">MSA</th>
<th id="S3.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">
<math id="S3.T1.1.1.1.1.m1.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.T1.1.1.1.1.m1.1a"><mrow id="S3.T1.1.1.1.1.m1.1.1" xref="S3.T1.1.1.1.1.m1.1.1.cmml"><mi id="S3.T1.1.1.1.1.m1.1.1.2" xref="S3.T1.1.1.1.1.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.T1.1.1.1.1.m1.1.1.1" xref="S3.T1.1.1.1.1.m1.1.1.1.cmml">​</mo><mi id="S3.T1.1.1.1.1.m1.1.1.3" xref="S3.T1.1.1.1.1.m1.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.T1.1.1.1.1.m1.1.1.1a" xref="S3.T1.1.1.1.1.m1.1.1.1.cmml">​</mo><mi id="S3.T1.1.1.1.1.m1.1.1.4" xref="S3.T1.1.1.1.1.m1.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.1.m1.1b"><apply id="S3.T1.1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.1.m1.1.1"><times id="S3.T1.1.1.1.1.m1.1.1.1.cmml" xref="S3.T1.1.1.1.1.m1.1.1.1"></times><ci id="S3.T1.1.1.1.1.m1.1.1.2.cmml" xref="S3.T1.1.1.1.1.m1.1.1.2">𝐷</ci><ci id="S3.T1.1.1.1.1.m1.1.1.3.cmml" xref="S3.T1.1.1.1.1.m1.1.1.3">𝑦</ci><ci id="S3.T1.1.1.1.1.m1.1.1.4.cmml" xref="S3.T1.1.1.1.1.m1.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.1.m1.1c">Dyn</annotation></semantics></math>/MCA</th>
<th id="S3.T1.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S3.T1.2.2.2.2.m1.1" class="ltx_Math" alttext="Out" display="inline"><semantics id="S3.T1.2.2.2.2.m1.1a"><mrow id="S3.T1.2.2.2.2.m1.1.1" xref="S3.T1.2.2.2.2.m1.1.1.cmml"><mi id="S3.T1.2.2.2.2.m1.1.1.2" xref="S3.T1.2.2.2.2.m1.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.T1.2.2.2.2.m1.1.1.1" xref="S3.T1.2.2.2.2.m1.1.1.1.cmml">​</mo><mi id="S3.T1.2.2.2.2.m1.1.1.3" xref="S3.T1.2.2.2.2.m1.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.T1.2.2.2.2.m1.1.1.1a" xref="S3.T1.2.2.2.2.m1.1.1.1.cmml">​</mo><mi id="S3.T1.2.2.2.2.m1.1.1.4" xref="S3.T1.2.2.2.2.m1.1.1.4.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.2.2.m1.1b"><apply id="S3.T1.2.2.2.2.m1.1.1.cmml" xref="S3.T1.2.2.2.2.m1.1.1"><times id="S3.T1.2.2.2.2.m1.1.1.1.cmml" xref="S3.T1.2.2.2.2.m1.1.1.1"></times><ci id="S3.T1.2.2.2.2.m1.1.1.2.cmml" xref="S3.T1.2.2.2.2.m1.1.1.2">𝑂</ci><ci id="S3.T1.2.2.2.2.m1.1.1.3.cmml" xref="S3.T1.2.2.2.2.m1.1.1.3">𝑢</ci><ci id="S3.T1.2.2.2.2.m1.1.1.4.cmml" xref="S3.T1.2.2.2.2.m1.1.1.4">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.2.2.m1.1c">Out</annotation></semantics></math></th>
<th id="S3.T1.2.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Head</th>
<th id="S3.T1.2.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Others</th>
<th id="S3.T1.2.2.2.7" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt">Total</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.3.3.3" class="ltx_tr">
<td id="S3.T1.3.3.3.2" class="ltx_td ltx_align_center ltx_border_t">DETR</td>
<td id="S3.T1.3.3.3.3" class="ltx_td ltx_align_center ltx_border_t">0.3M</td>
<td id="S3.T1.3.3.3.4" class="ltx_td ltx_align_center ltx_border_t">0.3M</td>
<td id="S3.T1.3.3.3.5" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S3.T1.3.3.3.1" class="ltx_td ltx_align_center ltx_border_t">26.0K<sup id="S3.T1.3.3.3.1.1" class="ltx_sup">∗</sup>
</td>
<td id="S3.T1.3.3.3.6" class="ltx_td ltx_align_center ltx_border_t">1.0M</td>
<td id="S3.T1.3.3.3.7" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">1.6M</td>
</tr>
<tr id="S3.T1.4.4.5.1" class="ltx_tr">
<td id="S3.T1.4.4.5.1.1" class="ltx_td ltx_align_center">Deformable DETR</td>
<td id="S3.T1.4.4.5.1.2" class="ltx_td ltx_align_center">0.3M</td>
<td id="S3.T1.4.4.5.1.3" class="ltx_td ltx_align_center">0.2M</td>
<td id="S3.T1.4.4.5.1.4" class="ltx_td ltx_align_center">-</td>
<td id="S3.T1.4.4.5.1.5" class="ltx_td ltx_align_center">0.2M</td>
<td id="S3.T1.4.4.5.1.6" class="ltx_td ltx_align_center">0.5M</td>
<td id="S3.T1.4.4.5.1.7" class="ltx_td ltx_nopad_r ltx_align_center">1.2M</td>
</tr>
<tr id="S3.T1.4.4.4" class="ltx_tr">
<td id="S3.T1.4.4.4.2" class="ltx_td ltx_align_center">DAB-DETR</td>
<td id="S3.T1.4.4.4.3" class="ltx_td ltx_align_center">0.4M</td>
<td id="S3.T1.4.4.4.4" class="ltx_td ltx_align_center">0.4M</td>
<td id="S3.T1.4.4.4.5" class="ltx_td ltx_align_center">-</td>
<td id="S3.T1.4.4.4.1" class="ltx_td ltx_align_center">26.0K<sup id="S3.T1.4.4.4.1.1" class="ltx_sup">∗</sup>
</td>
<td id="S3.T1.4.4.4.6" class="ltx_td ltx_align_center">1.2M</td>
<td id="S3.T1.4.4.4.7" class="ltx_td ltx_nopad_r ltx_align_center">2.0M</td>
</tr>
<tr id="S3.T1.4.4.6.2" class="ltx_tr">
<td id="S3.T1.4.4.6.2.1" class="ltx_td ltx_align_center">
<span id="S3.T1.4.4.6.2.1.1" class="ltx_ERROR undefined">\hdashline</span>Sparse R-CNN</td>
<td id="S3.T1.4.4.6.2.2" class="ltx_td ltx_align_center">0.3M</td>
<td id="S3.T1.4.4.6.2.3" class="ltx_td ltx_align_center">8.4M</td>
<td id="S3.T1.4.4.6.2.4" class="ltx_td ltx_align_center">3.2M</td>
<td id="S3.T1.4.4.6.2.5" class="ltx_td ltx_align_center">0.3M</td>
<td id="S3.T1.4.4.6.2.6" class="ltx_td ltx_align_center">1.0M</td>
<td id="S3.T1.4.4.6.2.7" class="ltx_td ltx_nopad_r ltx_align_center">13.2M</td>
</tr>
<tr id="S3.T1.4.4.7.3" class="ltx_tr">
<td id="S3.T1.4.4.7.3.1" class="ltx_td ltx_align_center">AdaMixer</td>
<td id="S3.T1.4.4.7.3.2" class="ltx_td ltx_align_center">0.3M</td>
<td id="S3.T1.4.4.7.3.3" class="ltx_td ltx_align_center">8.4M</td>
<td id="S3.T1.4.4.7.3.4" class="ltx_td ltx_align_center">8.4M</td>
<td id="S3.T1.4.4.7.3.5" class="ltx_td ltx_align_center">0.1M</td>
<td id="S3.T1.4.4.7.3.6" class="ltx_td ltx_align_center">1.2M</td>
<td id="S3.T1.4.4.7.3.7" class="ltx_td ltx_nopad_r ltx_align_center">18.4M</td>
</tr>
<tr id="S3.T1.4.4.8.4" class="ltx_tr">
<td id="S3.T1.4.4.8.4.1" class="ltx_td ltx_align_center ltx_border_b">DiffusionDet</td>
<td id="S3.T1.4.4.8.4.2" class="ltx_td ltx_align_center ltx_border_b">0.3M</td>
<td id="S3.T1.4.4.8.4.3" class="ltx_td ltx_align_center ltx_border_b">8.4M</td>
<td id="S3.T1.4.4.8.4.4" class="ltx_td ltx_align_center ltx_border_b">3.2M</td>
<td id="S3.T1.4.4.8.4.5" class="ltx_td ltx_align_center ltx_border_b">0.3M</td>
<td id="S3.T1.4.4.8.4.6" class="ltx_td ltx_align_center ltx_border_b">1.6M</td>
<td id="S3.T1.4.4.8.4.7" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_b">13.8M</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Analysis of parameters
in a single decoder layer.’MSA’, ’<math id="S3.T1.8.m1.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.T1.8.m1.1b"><mrow id="S3.T1.8.m1.1.1" xref="S3.T1.8.m1.1.1.cmml"><mi id="S3.T1.8.m1.1.1.2" xref="S3.T1.8.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.T1.8.m1.1.1.1" xref="S3.T1.8.m1.1.1.1.cmml">​</mo><mi id="S3.T1.8.m1.1.1.3" xref="S3.T1.8.m1.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.T1.8.m1.1.1.1b" xref="S3.T1.8.m1.1.1.1.cmml">​</mo><mi id="S3.T1.8.m1.1.1.4" xref="S3.T1.8.m1.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.8.m1.1c"><apply id="S3.T1.8.m1.1.1.cmml" xref="S3.T1.8.m1.1.1"><times id="S3.T1.8.m1.1.1.1.cmml" xref="S3.T1.8.m1.1.1.1"></times><ci id="S3.T1.8.m1.1.1.2.cmml" xref="S3.T1.8.m1.1.1.2">𝐷</ci><ci id="S3.T1.8.m1.1.1.3.cmml" xref="S3.T1.8.m1.1.1.3">𝑦</ci><ci id="S3.T1.8.m1.1.1.4.cmml" xref="S3.T1.8.m1.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.8.m1.1d">Dyn</annotation></semantics></math>’, ’MCA’, ’<math id="S3.T1.9.m2.1" class="ltx_Math" alttext="Out" display="inline"><semantics id="S3.T1.9.m2.1b"><mrow id="S3.T1.9.m2.1.1" xref="S3.T1.9.m2.1.1.cmml"><mi id="S3.T1.9.m2.1.1.2" xref="S3.T1.9.m2.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.T1.9.m2.1.1.1" xref="S3.T1.9.m2.1.1.1.cmml">​</mo><mi id="S3.T1.9.m2.1.1.3" xref="S3.T1.9.m2.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.T1.9.m2.1.1.1b" xref="S3.T1.9.m2.1.1.1.cmml">​</mo><mi id="S3.T1.9.m2.1.1.4" xref="S3.T1.9.m2.1.1.4.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.9.m2.1c"><apply id="S3.T1.9.m2.1.1.cmml" xref="S3.T1.9.m2.1.1"><times id="S3.T1.9.m2.1.1.1.cmml" xref="S3.T1.9.m2.1.1.1"></times><ci id="S3.T1.9.m2.1.1.2.cmml" xref="S3.T1.9.m2.1.1.2">𝑂</ci><ci id="S3.T1.9.m2.1.1.3.cmml" xref="S3.T1.9.m2.1.1.3">𝑢</ci><ci id="S3.T1.9.m2.1.1.4.cmml" xref="S3.T1.9.m2.1.1.4">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.9.m2.1d">Out</annotation></semantics></math>’ and ’Head’ indicate multi-head self attention, dynamic layer, multi-head cross attention, output layer and detection head. ’Others’ includes ffn, layer norm, etc. Note that, the detection head in DETR and DAB-DETR is shared among all stages, thus results with ’<sup id="S3.T1.12.1" class="ltx_sup">∗</sup>’ are divided by total stage number.</figcaption>
</figure>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.12" class="ltx_p">Based on the above analysis, we make two simple but important modifications to the decoder. The principle is to fully exploit it, particularly the <math id="S3.SS2.p4.1.m1.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.SS2.p4.1.m1.1a"><mrow id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.1" xref="S3.SS2.p4.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.1a" xref="S3.SS2.p4.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.4" xref="S3.SS2.p4.1.m1.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><times id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1.1"></times><ci id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2">𝐷</ci><ci id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3">𝑦</ci><ci id="S3.SS2.p4.1.m1.1.1.4.cmml" xref="S3.SS2.p4.1.m1.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">Dyn</annotation></semantics></math> and <math id="S3.SS2.p4.2.m2.1" class="ltx_Math" alttext="Out" display="inline"><semantics id="S3.SS2.p4.2.m2.1a"><mrow id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.2.m2.1.1.1" xref="S3.SS2.p4.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.2.m2.1.1.1a" xref="S3.SS2.p4.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.2.m2.1.1.4" xref="S3.SS2.p4.2.m2.1.1.4.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><times id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1.1"></times><ci id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2">𝑂</ci><ci id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3">𝑢</ci><ci id="S3.SS2.p4.2.m2.1.1.4.cmml" xref="S3.SS2.p4.2.m2.1.1.4">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">Out</annotation></semantics></math> layers. Considering the large size of <math id="S3.SS2.p4.3.m3.1" class="ltx_Math" alttext="Dec" display="inline"><semantics id="S3.SS2.p4.3.m3.1a"><mrow id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml"><mi id="S3.SS2.p4.3.m3.1.1.2" xref="S3.SS2.p4.3.m3.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.3.m3.1.1.1" xref="S3.SS2.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.3.m3.1.1.3" xref="S3.SS2.p4.3.m3.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.3.m3.1.1.1a" xref="S3.SS2.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.3.m3.1.1.4" xref="S3.SS2.p4.3.m3.1.1.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.1b"><apply id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1"><times id="S3.SS2.p4.3.m3.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1.1"></times><ci id="S3.SS2.p4.3.m3.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.2">𝐷</ci><ci id="S3.SS2.p4.3.m3.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3">𝑒</ci><ci id="S3.SS2.p4.3.m3.1.1.4.cmml" xref="S3.SS2.p4.3.m3.1.1.4">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.1c">Dec</annotation></semantics></math> and its cascade structures in multiple stages, we share their params <math id="S3.SS2.p4.4.m4.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.SS2.p4.4.m4.1a"><mi id="S3.SS2.p4.4.m4.1.1" xref="S3.SS2.p4.4.m4.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m4.1b"><ci id="S3.SS2.p4.4.m4.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m4.1c">\theta</annotation></semantics></math> among stages to reduce the model size, thus <math id="S3.SS2.p4.5.m5.1" class="ltx_Math" alttext="Dec" display="inline"><semantics id="S3.SS2.p4.5.m5.1a"><mrow id="S3.SS2.p4.5.m5.1.1" xref="S3.SS2.p4.5.m5.1.1.cmml"><mi id="S3.SS2.p4.5.m5.1.1.2" xref="S3.SS2.p4.5.m5.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.5.m5.1.1.1" xref="S3.SS2.p4.5.m5.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.5.m5.1.1.3" xref="S3.SS2.p4.5.m5.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.5.m5.1.1.1a" xref="S3.SS2.p4.5.m5.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.5.m5.1.1.4" xref="S3.SS2.p4.5.m5.1.1.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.5.m5.1b"><apply id="S3.SS2.p4.5.m5.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1"><times id="S3.SS2.p4.5.m5.1.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1.1"></times><ci id="S3.SS2.p4.5.m5.1.1.2.cmml" xref="S3.SS2.p4.5.m5.1.1.2">𝐷</ci><ci id="S3.SS2.p4.5.m5.1.1.3.cmml" xref="S3.SS2.p4.5.m5.1.1.3">𝑒</ci><ci id="S3.SS2.p4.5.m5.1.1.4.cmml" xref="S3.SS2.p4.5.m5.1.1.4">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.5.m5.1c">Dec</annotation></semantics></math> becomes recursive with the same module repeatedly appearing in different stages. However, the recursion may result in unstable gradients during training, which is commonly encountered by RNN. Supposing the loss in stage <math id="S3.SS2.p4.6.m6.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS2.p4.6.m6.1a"><mi id="S3.SS2.p4.6.m6.1.1" xref="S3.SS2.p4.6.m6.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.6.m6.1b"><ci id="S3.SS2.p4.6.m6.1.1.cmml" xref="S3.SS2.p4.6.m6.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.6.m6.1c">t</annotation></semantics></math> is <math id="S3.SS2.p4.7.m7.1" class="ltx_Math" alttext="\mathcal{L}^{t}" display="inline"><semantics id="S3.SS2.p4.7.m7.1a"><msup id="S3.SS2.p4.7.m7.1.1" xref="S3.SS2.p4.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p4.7.m7.1.1.2" xref="S3.SS2.p4.7.m7.1.1.2.cmml">ℒ</mi><mi id="S3.SS2.p4.7.m7.1.1.3" xref="S3.SS2.p4.7.m7.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.7.m7.1b"><apply id="S3.SS2.p4.7.m7.1.1.cmml" xref="S3.SS2.p4.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.7.m7.1.1.1.cmml" xref="S3.SS2.p4.7.m7.1.1">superscript</csymbol><ci id="S3.SS2.p4.7.m7.1.1.2.cmml" xref="S3.SS2.p4.7.m7.1.1.2">ℒ</ci><ci id="S3.SS2.p4.7.m7.1.1.3.cmml" xref="S3.SS2.p4.7.m7.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.7.m7.1c">\mathcal{L}^{t}</annotation></semantics></math>, its gradient <math id="S3.SS2.p4.8.m8.1" class="ltx_Math" alttext="\frac{\partial\mathcal{L}^{t}}{\partial q^{t}}" display="inline"><semantics id="S3.SS2.p4.8.m8.1a"><mfrac id="S3.SS2.p4.8.m8.1.1" xref="S3.SS2.p4.8.m8.1.1.cmml"><mrow id="S3.SS2.p4.8.m8.1.1.2" xref="S3.SS2.p4.8.m8.1.1.2.cmml"><mo rspace="0em" id="S3.SS2.p4.8.m8.1.1.2.1" xref="S3.SS2.p4.8.m8.1.1.2.1.cmml">∂</mo><msup id="S3.SS2.p4.8.m8.1.1.2.2" xref="S3.SS2.p4.8.m8.1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p4.8.m8.1.1.2.2.2" xref="S3.SS2.p4.8.m8.1.1.2.2.2.cmml">ℒ</mi><mi id="S3.SS2.p4.8.m8.1.1.2.2.3" xref="S3.SS2.p4.8.m8.1.1.2.2.3.cmml">t</mi></msup></mrow><mrow id="S3.SS2.p4.8.m8.1.1.3" xref="S3.SS2.p4.8.m8.1.1.3.cmml"><mo rspace="0em" id="S3.SS2.p4.8.m8.1.1.3.1" xref="S3.SS2.p4.8.m8.1.1.3.1.cmml">∂</mo><msup id="S3.SS2.p4.8.m8.1.1.3.2" xref="S3.SS2.p4.8.m8.1.1.3.2.cmml"><mi id="S3.SS2.p4.8.m8.1.1.3.2.2" xref="S3.SS2.p4.8.m8.1.1.3.2.2.cmml">q</mi><mi id="S3.SS2.p4.8.m8.1.1.3.2.3" xref="S3.SS2.p4.8.m8.1.1.3.2.3.cmml">t</mi></msup></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.8.m8.1b"><apply id="S3.SS2.p4.8.m8.1.1.cmml" xref="S3.SS2.p4.8.m8.1.1"><divide id="S3.SS2.p4.8.m8.1.1.1.cmml" xref="S3.SS2.p4.8.m8.1.1"></divide><apply id="S3.SS2.p4.8.m8.1.1.2.cmml" xref="S3.SS2.p4.8.m8.1.1.2"><partialdiff id="S3.SS2.p4.8.m8.1.1.2.1.cmml" xref="S3.SS2.p4.8.m8.1.1.2.1"></partialdiff><apply id="S3.SS2.p4.8.m8.1.1.2.2.cmml" xref="S3.SS2.p4.8.m8.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p4.8.m8.1.1.2.2.1.cmml" xref="S3.SS2.p4.8.m8.1.1.2.2">superscript</csymbol><ci id="S3.SS2.p4.8.m8.1.1.2.2.2.cmml" xref="S3.SS2.p4.8.m8.1.1.2.2.2">ℒ</ci><ci id="S3.SS2.p4.8.m8.1.1.2.2.3.cmml" xref="S3.SS2.p4.8.m8.1.1.2.2.3">𝑡</ci></apply></apply><apply id="S3.SS2.p4.8.m8.1.1.3.cmml" xref="S3.SS2.p4.8.m8.1.1.3"><partialdiff id="S3.SS2.p4.8.m8.1.1.3.1.cmml" xref="S3.SS2.p4.8.m8.1.1.3.1"></partialdiff><apply id="S3.SS2.p4.8.m8.1.1.3.2.cmml" xref="S3.SS2.p4.8.m8.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p4.8.m8.1.1.3.2.1.cmml" xref="S3.SS2.p4.8.m8.1.1.3.2">superscript</csymbol><ci id="S3.SS2.p4.8.m8.1.1.3.2.2.cmml" xref="S3.SS2.p4.8.m8.1.1.3.2.2">𝑞</ci><ci id="S3.SS2.p4.8.m8.1.1.3.2.3.cmml" xref="S3.SS2.p4.8.m8.1.1.3.2.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.8.m8.1c">\frac{\partial\mathcal{L}^{t}}{\partial q^{t}}</annotation></semantics></math> takes its effect into stage <math id="S3.SS2.p4.9.m9.1" class="ltx_Math" alttext="(t-1)" display="inline"><semantics id="S3.SS2.p4.9.m9.1a"><mrow id="S3.SS2.p4.9.m9.1.1.1" xref="S3.SS2.p4.9.m9.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p4.9.m9.1.1.1.2" xref="S3.SS2.p4.9.m9.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p4.9.m9.1.1.1.1" xref="S3.SS2.p4.9.m9.1.1.1.1.cmml"><mi id="S3.SS2.p4.9.m9.1.1.1.1.2" xref="S3.SS2.p4.9.m9.1.1.1.1.2.cmml">t</mi><mo id="S3.SS2.p4.9.m9.1.1.1.1.1" xref="S3.SS2.p4.9.m9.1.1.1.1.1.cmml">−</mo><mn id="S3.SS2.p4.9.m9.1.1.1.1.3" xref="S3.SS2.p4.9.m9.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S3.SS2.p4.9.m9.1.1.1.3" xref="S3.SS2.p4.9.m9.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.9.m9.1b"><apply id="S3.SS2.p4.9.m9.1.1.1.1.cmml" xref="S3.SS2.p4.9.m9.1.1.1"><minus id="S3.SS2.p4.9.m9.1.1.1.1.1.cmml" xref="S3.SS2.p4.9.m9.1.1.1.1.1"></minus><ci id="S3.SS2.p4.9.m9.1.1.1.1.2.cmml" xref="S3.SS2.p4.9.m9.1.1.1.1.2">𝑡</ci><cn type="integer" id="S3.SS2.p4.9.m9.1.1.1.1.3.cmml" xref="S3.SS2.p4.9.m9.1.1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.9.m9.1c">(t-1)</annotation></semantics></math> since <math id="S3.SS2.p4.10.m10.1" class="ltx_Math" alttext="o^{t-1}=q^{t}" display="inline"><semantics id="S3.SS2.p4.10.m10.1a"><mrow id="S3.SS2.p4.10.m10.1.1" xref="S3.SS2.p4.10.m10.1.1.cmml"><msup id="S3.SS2.p4.10.m10.1.1.2" xref="S3.SS2.p4.10.m10.1.1.2.cmml"><mi id="S3.SS2.p4.10.m10.1.1.2.2" xref="S3.SS2.p4.10.m10.1.1.2.2.cmml">o</mi><mrow id="S3.SS2.p4.10.m10.1.1.2.3" xref="S3.SS2.p4.10.m10.1.1.2.3.cmml"><mi id="S3.SS2.p4.10.m10.1.1.2.3.2" xref="S3.SS2.p4.10.m10.1.1.2.3.2.cmml">t</mi><mo id="S3.SS2.p4.10.m10.1.1.2.3.1" xref="S3.SS2.p4.10.m10.1.1.2.3.1.cmml">−</mo><mn id="S3.SS2.p4.10.m10.1.1.2.3.3" xref="S3.SS2.p4.10.m10.1.1.2.3.3.cmml">1</mn></mrow></msup><mo id="S3.SS2.p4.10.m10.1.1.1" xref="S3.SS2.p4.10.m10.1.1.1.cmml">=</mo><msup id="S3.SS2.p4.10.m10.1.1.3" xref="S3.SS2.p4.10.m10.1.1.3.cmml"><mi id="S3.SS2.p4.10.m10.1.1.3.2" xref="S3.SS2.p4.10.m10.1.1.3.2.cmml">q</mi><mi id="S3.SS2.p4.10.m10.1.1.3.3" xref="S3.SS2.p4.10.m10.1.1.3.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.10.m10.1b"><apply id="S3.SS2.p4.10.m10.1.1.cmml" xref="S3.SS2.p4.10.m10.1.1"><eq id="S3.SS2.p4.10.m10.1.1.1.cmml" xref="S3.SS2.p4.10.m10.1.1.1"></eq><apply id="S3.SS2.p4.10.m10.1.1.2.cmml" xref="S3.SS2.p4.10.m10.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p4.10.m10.1.1.2.1.cmml" xref="S3.SS2.p4.10.m10.1.1.2">superscript</csymbol><ci id="S3.SS2.p4.10.m10.1.1.2.2.cmml" xref="S3.SS2.p4.10.m10.1.1.2.2">𝑜</ci><apply id="S3.SS2.p4.10.m10.1.1.2.3.cmml" xref="S3.SS2.p4.10.m10.1.1.2.3"><minus id="S3.SS2.p4.10.m10.1.1.2.3.1.cmml" xref="S3.SS2.p4.10.m10.1.1.2.3.1"></minus><ci id="S3.SS2.p4.10.m10.1.1.2.3.2.cmml" xref="S3.SS2.p4.10.m10.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p4.10.m10.1.1.2.3.3.cmml" xref="S3.SS2.p4.10.m10.1.1.2.3.3">1</cn></apply></apply><apply id="S3.SS2.p4.10.m10.1.1.3.cmml" xref="S3.SS2.p4.10.m10.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.10.m10.1.1.3.1.cmml" xref="S3.SS2.p4.10.m10.1.1.3">superscript</csymbol><ci id="S3.SS2.p4.10.m10.1.1.3.2.cmml" xref="S3.SS2.p4.10.m10.1.1.3.2">𝑞</ci><ci id="S3.SS2.p4.10.m10.1.1.3.3.cmml" xref="S3.SS2.p4.10.m10.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.10.m10.1c">o^{t-1}=q^{t}</annotation></semantics></math>, hence the Jacobian matrix <math id="S3.SS2.p4.11.m11.1" class="ltx_Math" alttext="\frac{\partial q^{t}}{\partial q^{t-1}}" display="inline"><semantics id="S3.SS2.p4.11.m11.1a"><mfrac id="S3.SS2.p4.11.m11.1.1" xref="S3.SS2.p4.11.m11.1.1.cmml"><mrow id="S3.SS2.p4.11.m11.1.1.2" xref="S3.SS2.p4.11.m11.1.1.2.cmml"><mo rspace="0em" id="S3.SS2.p4.11.m11.1.1.2.1" xref="S3.SS2.p4.11.m11.1.1.2.1.cmml">∂</mo><msup id="S3.SS2.p4.11.m11.1.1.2.2" xref="S3.SS2.p4.11.m11.1.1.2.2.cmml"><mi id="S3.SS2.p4.11.m11.1.1.2.2.2" xref="S3.SS2.p4.11.m11.1.1.2.2.2.cmml">q</mi><mi id="S3.SS2.p4.11.m11.1.1.2.2.3" xref="S3.SS2.p4.11.m11.1.1.2.2.3.cmml">t</mi></msup></mrow><mrow id="S3.SS2.p4.11.m11.1.1.3" xref="S3.SS2.p4.11.m11.1.1.3.cmml"><mo rspace="0em" id="S3.SS2.p4.11.m11.1.1.3.1" xref="S3.SS2.p4.11.m11.1.1.3.1.cmml">∂</mo><msup id="S3.SS2.p4.11.m11.1.1.3.2" xref="S3.SS2.p4.11.m11.1.1.3.2.cmml"><mi id="S3.SS2.p4.11.m11.1.1.3.2.2" xref="S3.SS2.p4.11.m11.1.1.3.2.2.cmml">q</mi><mrow id="S3.SS2.p4.11.m11.1.1.3.2.3" xref="S3.SS2.p4.11.m11.1.1.3.2.3.cmml"><mi id="S3.SS2.p4.11.m11.1.1.3.2.3.2" xref="S3.SS2.p4.11.m11.1.1.3.2.3.2.cmml">t</mi><mo id="S3.SS2.p4.11.m11.1.1.3.2.3.1" xref="S3.SS2.p4.11.m11.1.1.3.2.3.1.cmml">−</mo><mn id="S3.SS2.p4.11.m11.1.1.3.2.3.3" xref="S3.SS2.p4.11.m11.1.1.3.2.3.3.cmml">1</mn></mrow></msup></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.11.m11.1b"><apply id="S3.SS2.p4.11.m11.1.1.cmml" xref="S3.SS2.p4.11.m11.1.1"><divide id="S3.SS2.p4.11.m11.1.1.1.cmml" xref="S3.SS2.p4.11.m11.1.1"></divide><apply id="S3.SS2.p4.11.m11.1.1.2.cmml" xref="S3.SS2.p4.11.m11.1.1.2"><partialdiff id="S3.SS2.p4.11.m11.1.1.2.1.cmml" xref="S3.SS2.p4.11.m11.1.1.2.1"></partialdiff><apply id="S3.SS2.p4.11.m11.1.1.2.2.cmml" xref="S3.SS2.p4.11.m11.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p4.11.m11.1.1.2.2.1.cmml" xref="S3.SS2.p4.11.m11.1.1.2.2">superscript</csymbol><ci id="S3.SS2.p4.11.m11.1.1.2.2.2.cmml" xref="S3.SS2.p4.11.m11.1.1.2.2.2">𝑞</ci><ci id="S3.SS2.p4.11.m11.1.1.2.2.3.cmml" xref="S3.SS2.p4.11.m11.1.1.2.2.3">𝑡</ci></apply></apply><apply id="S3.SS2.p4.11.m11.1.1.3.cmml" xref="S3.SS2.p4.11.m11.1.1.3"><partialdiff id="S3.SS2.p4.11.m11.1.1.3.1.cmml" xref="S3.SS2.p4.11.m11.1.1.3.1"></partialdiff><apply id="S3.SS2.p4.11.m11.1.1.3.2.cmml" xref="S3.SS2.p4.11.m11.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p4.11.m11.1.1.3.2.1.cmml" xref="S3.SS2.p4.11.m11.1.1.3.2">superscript</csymbol><ci id="S3.SS2.p4.11.m11.1.1.3.2.2.cmml" xref="S3.SS2.p4.11.m11.1.1.3.2.2">𝑞</ci><apply id="S3.SS2.p4.11.m11.1.1.3.2.3.cmml" xref="S3.SS2.p4.11.m11.1.1.3.2.3"><minus id="S3.SS2.p4.11.m11.1.1.3.2.3.1.cmml" xref="S3.SS2.p4.11.m11.1.1.3.2.3.1"></minus><ci id="S3.SS2.p4.11.m11.1.1.3.2.3.2.cmml" xref="S3.SS2.p4.11.m11.1.1.3.2.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p4.11.m11.1.1.3.2.3.3.cmml" xref="S3.SS2.p4.11.m11.1.1.3.2.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.11.m11.1c">\frac{\partial q^{t}}{\partial q^{t-1}}</annotation></semantics></math> keeps multiplying until the first stage, causing the possible gradient vanishing or exploding.
We argue that the total recursion number is not big.
Moreover, the detection loss is also computed in the intermediate stages, so the recursion of <math id="S3.SS2.p4.12.m12.1" class="ltx_Math" alttext="Dec" display="inline"><semantics id="S3.SS2.p4.12.m12.1a"><mrow id="S3.SS2.p4.12.m12.1.1" xref="S3.SS2.p4.12.m12.1.1.cmml"><mi id="S3.SS2.p4.12.m12.1.1.2" xref="S3.SS2.p4.12.m12.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.12.m12.1.1.1" xref="S3.SS2.p4.12.m12.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.12.m12.1.1.3" xref="S3.SS2.p4.12.m12.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.12.m12.1.1.1a" xref="S3.SS2.p4.12.m12.1.1.1.cmml">​</mo><mi id="S3.SS2.p4.12.m12.1.1.4" xref="S3.SS2.p4.12.m12.1.1.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.12.m12.1b"><apply id="S3.SS2.p4.12.m12.1.1.cmml" xref="S3.SS2.p4.12.m12.1.1"><times id="S3.SS2.p4.12.m12.1.1.1.cmml" xref="S3.SS2.p4.12.m12.1.1.1"></times><ci id="S3.SS2.p4.12.m12.1.1.2.cmml" xref="S3.SS2.p4.12.m12.1.1.2">𝐷</ci><ci id="S3.SS2.p4.12.m12.1.1.3.cmml" xref="S3.SS2.p4.12.m12.1.1.3">𝑒</ci><ci id="S3.SS2.p4.12.m12.1.1.4.cmml" xref="S3.SS2.p4.12.m12.1.1.4">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.12.m12.1c">Dec</annotation></semantics></math> does not bring instabilities during training. In practice, considering the difficulty of the first decoding stage, detecting the object from the initial whole image or randomly located bounding box, we keep it out of the recursion loop with unique parameters to boost the performance. This causes a slightly increased model size.
</p>
</div>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.14" class="ltx_p">Besides the recursion in different stages, we additionally make full use of <math id="S3.SS2.p5.1.m1.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.SS2.p5.1.m1.1a"><mrow id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml"><mi id="S3.SS2.p5.1.m1.1.1.2" xref="S3.SS2.p5.1.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.1.m1.1.1.1" xref="S3.SS2.p5.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.1.m1.1.1.3" xref="S3.SS2.p5.1.m1.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.1.m1.1.1.1a" xref="S3.SS2.p5.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.1.m1.1.1.4" xref="S3.SS2.p5.1.m1.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><apply id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1"><times id="S3.SS2.p5.1.m1.1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1.1"></times><ci id="S3.SS2.p5.1.m1.1.1.2.cmml" xref="S3.SS2.p5.1.m1.1.1.2">𝐷</ci><ci id="S3.SS2.p5.1.m1.1.1.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3">𝑦</ci><ci id="S3.SS2.p5.1.m1.1.1.4.cmml" xref="S3.SS2.p5.1.m1.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">Dyn</annotation></semantics></math> and <math id="S3.SS2.p5.2.m2.1" class="ltx_Math" alttext="Out" display="inline"><semantics id="S3.SS2.p5.2.m2.1a"><mrow id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml"><mi id="S3.SS2.p5.2.m2.1.1.2" xref="S3.SS2.p5.2.m2.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.2.m2.1.1.1" xref="S3.SS2.p5.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.2.m2.1.1.3" xref="S3.SS2.p5.2.m2.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.2.m2.1.1.1a" xref="S3.SS2.p5.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.2.m2.1.1.4" xref="S3.SS2.p5.2.m2.1.1.4.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><apply id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1"><times id="S3.SS2.p5.2.m2.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1"></times><ci id="S3.SS2.p5.2.m2.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2">𝑂</ci><ci id="S3.SS2.p5.2.m2.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3">𝑢</ci><ci id="S3.SS2.p5.2.m2.1.1.4.cmml" xref="S3.SS2.p5.2.m2.1.1.4">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">Out</annotation></semantics></math> layers by making a short recursion from object feature <math id="S3.SS2.p5.3.m3.1" class="ltx_Math" alttext="o_{i}" display="inline"><semantics id="S3.SS2.p5.3.m3.1a"><msub id="S3.SS2.p5.3.m3.1.1" xref="S3.SS2.p5.3.m3.1.1.cmml"><mi id="S3.SS2.p5.3.m3.1.1.2" xref="S3.SS2.p5.3.m3.1.1.2.cmml">o</mi><mi id="S3.SS2.p5.3.m3.1.1.3" xref="S3.SS2.p5.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m3.1b"><apply id="S3.SS2.p5.3.m3.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p5.3.m3.1.1.2.cmml" xref="S3.SS2.p5.3.m3.1.1.2">𝑜</ci><ci id="S3.SS2.p5.3.m3.1.1.3.cmml" xref="S3.SS2.p5.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m3.1c">o_{i}</annotation></semantics></math> to the input of the dynamic layer <math id="S3.SS2.p5.4.m4.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.SS2.p5.4.m4.1a"><mrow id="S3.SS2.p5.4.m4.1.1" xref="S3.SS2.p5.4.m4.1.1.cmml"><mi id="S3.SS2.p5.4.m4.1.1.2" xref="S3.SS2.p5.4.m4.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.4.m4.1.1.1" xref="S3.SS2.p5.4.m4.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.4.m4.1.1.3" xref="S3.SS2.p5.4.m4.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.4.m4.1.1.1a" xref="S3.SS2.p5.4.m4.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.4.m4.1.1.4" xref="S3.SS2.p5.4.m4.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.4.m4.1b"><apply id="S3.SS2.p5.4.m4.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1"><times id="S3.SS2.p5.4.m4.1.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1.1"></times><ci id="S3.SS2.p5.4.m4.1.1.2.cmml" xref="S3.SS2.p5.4.m4.1.1.2">𝐷</ci><ci id="S3.SS2.p5.4.m4.1.1.3.cmml" xref="S3.SS2.p5.4.m4.1.1.3">𝑦</ci><ci id="S3.SS2.p5.4.m4.1.1.4.cmml" xref="S3.SS2.p5.4.m4.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.4.m4.1c">Dyn</annotation></semantics></math> within the same stage. In other words, <math id="S3.SS2.p5.5.m5.1" class="ltx_Math" alttext="o_{i}" display="inline"><semantics id="S3.SS2.p5.5.m5.1a"><msub id="S3.SS2.p5.5.m5.1.1" xref="S3.SS2.p5.5.m5.1.1.cmml"><mi id="S3.SS2.p5.5.m5.1.1.2" xref="S3.SS2.p5.5.m5.1.1.2.cmml">o</mi><mi id="S3.SS2.p5.5.m5.1.1.3" xref="S3.SS2.p5.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.5.m5.1b"><apply id="S3.SS2.p5.5.m5.1.1.cmml" xref="S3.SS2.p5.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.5.m5.1.1.1.cmml" xref="S3.SS2.p5.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p5.5.m5.1.1.2.cmml" xref="S3.SS2.p5.5.m5.1.1.2">𝑜</ci><ci id="S3.SS2.p5.5.m5.1.1.3.cmml" xref="S3.SS2.p5.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.5.m5.1c">o_{i}</annotation></semantics></math> is given to <math id="S3.SS2.p5.6.m6.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.SS2.p5.6.m6.1a"><mrow id="S3.SS2.p5.6.m6.1.1" xref="S3.SS2.p5.6.m6.1.1.cmml"><mi id="S3.SS2.p5.6.m6.1.1.2" xref="S3.SS2.p5.6.m6.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.6.m6.1.1.1" xref="S3.SS2.p5.6.m6.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.6.m6.1.1.3" xref="S3.SS2.p5.6.m6.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.6.m6.1.1.1a" xref="S3.SS2.p5.6.m6.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.6.m6.1.1.4" xref="S3.SS2.p5.6.m6.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.6.m6.1b"><apply id="S3.SS2.p5.6.m6.1.1.cmml" xref="S3.SS2.p5.6.m6.1.1"><times id="S3.SS2.p5.6.m6.1.1.1.cmml" xref="S3.SS2.p5.6.m6.1.1.1"></times><ci id="S3.SS2.p5.6.m6.1.1.2.cmml" xref="S3.SS2.p5.6.m6.1.1.2">𝐷</ci><ci id="S3.SS2.p5.6.m6.1.1.3.cmml" xref="S3.SS2.p5.6.m6.1.1.3">𝑦</ci><ci id="S3.SS2.p5.6.m6.1.1.4.cmml" xref="S3.SS2.p5.6.m6.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.6.m6.1c">Dyn</annotation></semantics></math> layer again for generating new kernels <math id="S3.SS2.p5.7.m7.1" class="ltx_Math" alttext="k_{i}^{\prime}" display="inline"><semantics id="S3.SS2.p5.7.m7.1a"><msubsup id="S3.SS2.p5.7.m7.1.1" xref="S3.SS2.p5.7.m7.1.1.cmml"><mi id="S3.SS2.p5.7.m7.1.1.2.2" xref="S3.SS2.p5.7.m7.1.1.2.2.cmml">k</mi><mi id="S3.SS2.p5.7.m7.1.1.2.3" xref="S3.SS2.p5.7.m7.1.1.2.3.cmml">i</mi><mo id="S3.SS2.p5.7.m7.1.1.3" xref="S3.SS2.p5.7.m7.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.7.m7.1b"><apply id="S3.SS2.p5.7.m7.1.1.cmml" xref="S3.SS2.p5.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.7.m7.1.1.1.cmml" xref="S3.SS2.p5.7.m7.1.1">superscript</csymbol><apply id="S3.SS2.p5.7.m7.1.1.2.cmml" xref="S3.SS2.p5.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.7.m7.1.1.2.1.cmml" xref="S3.SS2.p5.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p5.7.m7.1.1.2.2.cmml" xref="S3.SS2.p5.7.m7.1.1.2.2">𝑘</ci><ci id="S3.SS2.p5.7.m7.1.1.2.3.cmml" xref="S3.SS2.p5.7.m7.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p5.7.m7.1.1.3.cmml" xref="S3.SS2.p5.7.m7.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.7.m7.1c">k_{i}^{\prime}</annotation></semantics></math> and <math id="S3.SS2.p5.8.m8.1" class="ltx_Math" alttext="v_{i}^{\prime}" display="inline"><semantics id="S3.SS2.p5.8.m8.1a"><msubsup id="S3.SS2.p5.8.m8.1.1" xref="S3.SS2.p5.8.m8.1.1.cmml"><mi id="S3.SS2.p5.8.m8.1.1.2.2" xref="S3.SS2.p5.8.m8.1.1.2.2.cmml">v</mi><mi id="S3.SS2.p5.8.m8.1.1.2.3" xref="S3.SS2.p5.8.m8.1.1.2.3.cmml">i</mi><mo id="S3.SS2.p5.8.m8.1.1.3" xref="S3.SS2.p5.8.m8.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.8.m8.1b"><apply id="S3.SS2.p5.8.m8.1.1.cmml" xref="S3.SS2.p5.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.8.m8.1.1.1.cmml" xref="S3.SS2.p5.8.m8.1.1">superscript</csymbol><apply id="S3.SS2.p5.8.m8.1.1.2.cmml" xref="S3.SS2.p5.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.8.m8.1.1.2.1.cmml" xref="S3.SS2.p5.8.m8.1.1">subscript</csymbol><ci id="S3.SS2.p5.8.m8.1.1.2.2.cmml" xref="S3.SS2.p5.8.m8.1.1.2.2">𝑣</ci><ci id="S3.SS2.p5.8.m8.1.1.2.3.cmml" xref="S3.SS2.p5.8.m8.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p5.8.m8.1.1.3.cmml" xref="S3.SS2.p5.8.m8.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.8.m8.1c">v_{i}^{\prime}</annotation></semantics></math>. And they are used to perform dynamic conv on RoI <math id="S3.SS2.p5.9.m9.1" class="ltx_Math" alttext="f_{i}" display="inline"><semantics id="S3.SS2.p5.9.m9.1a"><msub id="S3.SS2.p5.9.m9.1.1" xref="S3.SS2.p5.9.m9.1.1.cmml"><mi id="S3.SS2.p5.9.m9.1.1.2" xref="S3.SS2.p5.9.m9.1.1.2.cmml">f</mi><mi id="S3.SS2.p5.9.m9.1.1.3" xref="S3.SS2.p5.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.9.m9.1b"><apply id="S3.SS2.p5.9.m9.1.1.cmml" xref="S3.SS2.p5.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.9.m9.1.1.1.cmml" xref="S3.SS2.p5.9.m9.1.1">subscript</csymbol><ci id="S3.SS2.p5.9.m9.1.1.2.cmml" xref="S3.SS2.p5.9.m9.1.1.2">𝑓</ci><ci id="S3.SS2.p5.9.m9.1.1.3.cmml" xref="S3.SS2.p5.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.9.m9.1c">f_{i}</annotation></semantics></math> again and update it into <math id="S3.SS2.p5.10.m10.1" class="ltx_Math" alttext="f_{i}^{\prime\prime}" display="inline"><semantics id="S3.SS2.p5.10.m10.1a"><msubsup id="S3.SS2.p5.10.m10.1.1" xref="S3.SS2.p5.10.m10.1.1.cmml"><mi id="S3.SS2.p5.10.m10.1.1.2.2" xref="S3.SS2.p5.10.m10.1.1.2.2.cmml">f</mi><mi id="S3.SS2.p5.10.m10.1.1.2.3" xref="S3.SS2.p5.10.m10.1.1.2.3.cmml">i</mi><mo id="S3.SS2.p5.10.m10.1.1.3" xref="S3.SS2.p5.10.m10.1.1.3.cmml">′′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.10.m10.1b"><apply id="S3.SS2.p5.10.m10.1.1.cmml" xref="S3.SS2.p5.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.10.m10.1.1.1.cmml" xref="S3.SS2.p5.10.m10.1.1">superscript</csymbol><apply id="S3.SS2.p5.10.m10.1.1.2.cmml" xref="S3.SS2.p5.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.10.m10.1.1.2.1.cmml" xref="S3.SS2.p5.10.m10.1.1">subscript</csymbol><ci id="S3.SS2.p5.10.m10.1.1.2.2.cmml" xref="S3.SS2.p5.10.m10.1.1.2.2">𝑓</ci><ci id="S3.SS2.p5.10.m10.1.1.2.3.cmml" xref="S3.SS2.p5.10.m10.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p5.10.m10.1.1.3.cmml" xref="S3.SS2.p5.10.m10.1.1.3">′′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.10.m10.1c">f_{i}^{\prime\prime}</annotation></semantics></math>, which is then given to <math id="S3.SS2.p5.11.m11.1" class="ltx_Math" alttext="Out" display="inline"><semantics id="S3.SS2.p5.11.m11.1a"><mrow id="S3.SS2.p5.11.m11.1.1" xref="S3.SS2.p5.11.m11.1.1.cmml"><mi id="S3.SS2.p5.11.m11.1.1.2" xref="S3.SS2.p5.11.m11.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.11.m11.1.1.1" xref="S3.SS2.p5.11.m11.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.11.m11.1.1.3" xref="S3.SS2.p5.11.m11.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.11.m11.1.1.1a" xref="S3.SS2.p5.11.m11.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.11.m11.1.1.4" xref="S3.SS2.p5.11.m11.1.1.4.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.11.m11.1b"><apply id="S3.SS2.p5.11.m11.1.1.cmml" xref="S3.SS2.p5.11.m11.1.1"><times id="S3.SS2.p5.11.m11.1.1.1.cmml" xref="S3.SS2.p5.11.m11.1.1.1"></times><ci id="S3.SS2.p5.11.m11.1.1.2.cmml" xref="S3.SS2.p5.11.m11.1.1.2">𝑂</ci><ci id="S3.SS2.p5.11.m11.1.1.3.cmml" xref="S3.SS2.p5.11.m11.1.1.3">𝑢</ci><ci id="S3.SS2.p5.11.m11.1.1.4.cmml" xref="S3.SS2.p5.11.m11.1.1.4">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.11.m11.1c">Out</annotation></semantics></math> to specify <math id="S3.SS2.p5.12.m12.1" class="ltx_Math" alttext="o_{i}^{\prime}" display="inline"><semantics id="S3.SS2.p5.12.m12.1a"><msubsup id="S3.SS2.p5.12.m12.1.1" xref="S3.SS2.p5.12.m12.1.1.cmml"><mi id="S3.SS2.p5.12.m12.1.1.2.2" xref="S3.SS2.p5.12.m12.1.1.2.2.cmml">o</mi><mi id="S3.SS2.p5.12.m12.1.1.2.3" xref="S3.SS2.p5.12.m12.1.1.2.3.cmml">i</mi><mo id="S3.SS2.p5.12.m12.1.1.3" xref="S3.SS2.p5.12.m12.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.12.m12.1b"><apply id="S3.SS2.p5.12.m12.1.1.cmml" xref="S3.SS2.p5.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.12.m12.1.1.1.cmml" xref="S3.SS2.p5.12.m12.1.1">superscript</csymbol><apply id="S3.SS2.p5.12.m12.1.1.2.cmml" xref="S3.SS2.p5.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.12.m12.1.1.2.1.cmml" xref="S3.SS2.p5.12.m12.1.1">subscript</csymbol><ci id="S3.SS2.p5.12.m12.1.1.2.2.cmml" xref="S3.SS2.p5.12.m12.1.1.2.2">𝑜</ci><ci id="S3.SS2.p5.12.m12.1.1.2.3.cmml" xref="S3.SS2.p5.12.m12.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p5.12.m12.1.1.3.cmml" xref="S3.SS2.p5.12.m12.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.12.m12.1c">o_{i}^{\prime}</annotation></semantics></math>. We emphasize that the in-stage recursion does not increase the model size, since all trainable modules in the recursive loop, such as <math id="S3.SS2.p5.13.m13.1" class="ltx_Math" alttext="Dyn" display="inline"><semantics id="S3.SS2.p5.13.m13.1a"><mrow id="S3.SS2.p5.13.m13.1.1" xref="S3.SS2.p5.13.m13.1.1.cmml"><mi id="S3.SS2.p5.13.m13.1.1.2" xref="S3.SS2.p5.13.m13.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.13.m13.1.1.1" xref="S3.SS2.p5.13.m13.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.13.m13.1.1.3" xref="S3.SS2.p5.13.m13.1.1.3.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.13.m13.1.1.1a" xref="S3.SS2.p5.13.m13.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.13.m13.1.1.4" xref="S3.SS2.p5.13.m13.1.1.4.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.13.m13.1b"><apply id="S3.SS2.p5.13.m13.1.1.cmml" xref="S3.SS2.p5.13.m13.1.1"><times id="S3.SS2.p5.13.m13.1.1.1.cmml" xref="S3.SS2.p5.13.m13.1.1.1"></times><ci id="S3.SS2.p5.13.m13.1.1.2.cmml" xref="S3.SS2.p5.13.m13.1.1.2">𝐷</ci><ci id="S3.SS2.p5.13.m13.1.1.3.cmml" xref="S3.SS2.p5.13.m13.1.1.3">𝑦</ci><ci id="S3.SS2.p5.13.m13.1.1.4.cmml" xref="S3.SS2.p5.13.m13.1.1.4">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.13.m13.1c">Dyn</annotation></semantics></math> and <math id="S3.SS2.p5.14.m14.1" class="ltx_Math" alttext="Out" display="inline"><semantics id="S3.SS2.p5.14.m14.1a"><mrow id="S3.SS2.p5.14.m14.1.1" xref="S3.SS2.p5.14.m14.1.1.cmml"><mi id="S3.SS2.p5.14.m14.1.1.2" xref="S3.SS2.p5.14.m14.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.14.m14.1.1.1" xref="S3.SS2.p5.14.m14.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.14.m14.1.1.3" xref="S3.SS2.p5.14.m14.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.14.m14.1.1.1a" xref="S3.SS2.p5.14.m14.1.1.1.cmml">​</mo><mi id="S3.SS2.p5.14.m14.1.1.4" xref="S3.SS2.p5.14.m14.1.1.4.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.14.m14.1b"><apply id="S3.SS2.p5.14.m14.1.1.cmml" xref="S3.SS2.p5.14.m14.1.1"><times id="S3.SS2.p5.14.m14.1.1.1.cmml" xref="S3.SS2.p5.14.m14.1.1.1"></times><ci id="S3.SS2.p5.14.m14.1.1.2.cmml" xref="S3.SS2.p5.14.m14.1.1.2">𝑂</ci><ci id="S3.SS2.p5.14.m14.1.1.3.cmml" xref="S3.SS2.p5.14.m14.1.1.3">𝑢</ci><ci id="S3.SS2.p5.14.m14.1.1.4.cmml" xref="S3.SS2.p5.14.m14.1.1.4">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.14.m14.1c">Out</annotation></semantics></math>, share the same parameters. It only increases the amount of computation.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Bounding Box Positional Encoding</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.5" class="ltx_p">By sharing <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="Dec" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mrow id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.1.m1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.1.m1.1.1.1a" xref="S3.SS3.p1.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS3.p1.1.m1.1.1.4" xref="S3.SS3.p1.1.m1.1.1.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><times id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1"></times><ci id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2">𝐷</ci><ci id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3">𝑒</ci><ci id="S3.SS3.p1.1.m1.1.1.4.cmml" xref="S3.SS3.p1.1.m1.1.1.4">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">Dec</annotation></semantics></math> among stages, the model gets compact and already achieves a better result. However, due to the common model parameters, <math id="S3.SS3.p1.2.m2.1" class="ltx_Math" alttext="Dec" display="inline"><semantics id="S3.SS3.p1.2.m2.1a"><mrow id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml"><mi id="S3.SS3.p1.2.m2.1.1.2" xref="S3.SS3.p1.2.m2.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.2.m2.1.1.1" xref="S3.SS3.p1.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS3.p1.2.m2.1.1.3" xref="S3.SS3.p1.2.m2.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.2.m2.1.1.1a" xref="S3.SS3.p1.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS3.p1.2.m2.1.1.4" xref="S3.SS3.p1.2.m2.1.1.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1"><times id="S3.SS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1.1"></times><ci id="S3.SS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2">𝐷</ci><ci id="S3.SS3.p1.2.m2.1.1.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3">𝑒</ci><ci id="S3.SS3.p1.2.m2.1.1.4.cmml" xref="S3.SS3.p1.2.m2.1.1.4">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">Dec</annotation></semantics></math> treats input <math id="S3.SS3.p1.3.m3.1" class="ltx_Math" alttext="q_{i}" display="inline"><semantics id="S3.SS3.p1.3.m3.1a"><msub id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml"><mi id="S3.SS3.p1.3.m3.1.1.2" xref="S3.SS3.p1.3.m3.1.1.2.cmml">q</mi><mi id="S3.SS3.p1.3.m3.1.1.3" xref="S3.SS3.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><apply id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1.2">𝑞</ci><ci id="S3.SS3.p1.3.m3.1.1.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">q_{i}</annotation></semantics></math> and <math id="S3.SS3.p1.4.m4.1" class="ltx_Math" alttext="b_{i}" display="inline"><semantics id="S3.SS3.p1.4.m4.1a"><msub id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml"><mi id="S3.SS3.p1.4.m4.1.1.2" xref="S3.SS3.p1.4.m4.1.1.2.cmml">b</mi><mi id="S3.SS3.p1.4.m4.1.1.3" xref="S3.SS3.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.1b"><apply id="S3.SS3.p1.4.m4.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS3.p1.4.m4.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1.2">𝑏</ci><ci id="S3.SS3.p1.4.m4.1.1.3.cmml" xref="S3.SS3.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.1c">b_{i}</annotation></semantics></math> from different stages in the same way, which could reduce its adaptability and be a limitation for the performance. We intend to introduce more information from the previous stage and make a compensation, so that <math id="S3.SS3.p1.5.m5.1" class="ltx_Math" alttext="Dec" display="inline"><semantics id="S3.SS3.p1.5.m5.1a"><mrow id="S3.SS3.p1.5.m5.1.1" xref="S3.SS3.p1.5.m5.1.1.cmml"><mi id="S3.SS3.p1.5.m5.1.1.2" xref="S3.SS3.p1.5.m5.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.5.m5.1.1.1" xref="S3.SS3.p1.5.m5.1.1.1.cmml">​</mo><mi id="S3.SS3.p1.5.m5.1.1.3" xref="S3.SS3.p1.5.m5.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.5.m5.1.1.1a" xref="S3.SS3.p1.5.m5.1.1.1.cmml">​</mo><mi id="S3.SS3.p1.5.m5.1.1.4" xref="S3.SS3.p1.5.m5.1.1.4.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m5.1b"><apply id="S3.SS3.p1.5.m5.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1"><times id="S3.SS3.p1.5.m5.1.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1.1"></times><ci id="S3.SS3.p1.5.m5.1.1.2.cmml" xref="S3.SS3.p1.5.m5.1.1.2">𝐷</ci><ci id="S3.SS3.p1.5.m5.1.1.3.cmml" xref="S3.SS3.p1.5.m5.1.1.3">𝑒</ci><ci id="S3.SS3.p1.5.m5.1.1.4.cmml" xref="S3.SS3.p1.5.m5.1.1.4">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m5.1c">Dec</annotation></semantics></math> has a sense of decoding stages and adjusts itself accordingly. Note that for DETR-series, it is common to give bounding box PEs to decoder. They help better model the relation between queries and keys during self and cross attention, therefore accurately representing objects. However, PE is usually ignored by end-to-end region-based detectors, mainly due to the destruction of global position by RoI Align.
</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.21" class="ltx_p">We argue that PE of the bounding box can still be valid even for region-based detectors.
First, detectors like Sparse R-CNN still need self attention to model the pairwise similarities among <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="q_{i}\in\mathcal{Q}" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><mrow id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><msub id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml"><mi id="S3.SS3.p2.1.m1.1.1.2.2" xref="S3.SS3.p2.1.m1.1.1.2.2.cmml">q</mi><mi id="S3.SS3.p2.1.m1.1.1.2.3" xref="S3.SS3.p2.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS3.p2.1.m1.1.1.1" xref="S3.SS3.p2.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml">𝒬</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><in id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1"></in><apply id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.2.1.cmml" xref="S3.SS3.p2.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2.2">𝑞</ci><ci id="S3.SS3.p2.1.m1.1.1.2.3.cmml" xref="S3.SS3.p2.1.m1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3">𝒬</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">q_{i}\in\mathcal{Q}</annotation></semantics></math>, which can be effectively measured between the spatial positions of two bounding boxes. Second, the dynamic kernels can be more adaptive and directly related to location and shape. So we build the position-aware self attention and dynamic conv modules, as is shown in <a href="#S3.F2" title="In 3.1 Preliminaries ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">2</span></a> (b) and (c). We adopt a similar strategy for self attention with <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>. It first maps the 4D vector <math id="S3.SS3.p2.2.m2.4" class="ltx_Math" alttext="(x,y,w,h)" display="inline"><semantics id="S3.SS3.p2.2.m2.4a"><mrow id="S3.SS3.p2.2.m2.4.5.2" xref="S3.SS3.p2.2.m2.4.5.1.cmml"><mo stretchy="false" id="S3.SS3.p2.2.m2.4.5.2.1" xref="S3.SS3.p2.2.m2.4.5.1.cmml">(</mo><mi id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml">x</mi><mo id="S3.SS3.p2.2.m2.4.5.2.2" xref="S3.SS3.p2.2.m2.4.5.1.cmml">,</mo><mi id="S3.SS3.p2.2.m2.2.2" xref="S3.SS3.p2.2.m2.2.2.cmml">y</mi><mo id="S3.SS3.p2.2.m2.4.5.2.3" xref="S3.SS3.p2.2.m2.4.5.1.cmml">,</mo><mi id="S3.SS3.p2.2.m2.3.3" xref="S3.SS3.p2.2.m2.3.3.cmml">w</mi><mo id="S3.SS3.p2.2.m2.4.5.2.4" xref="S3.SS3.p2.2.m2.4.5.1.cmml">,</mo><mi id="S3.SS3.p2.2.m2.4.4" xref="S3.SS3.p2.2.m2.4.4.cmml">h</mi><mo stretchy="false" id="S3.SS3.p2.2.m2.4.5.2.5" xref="S3.SS3.p2.2.m2.4.5.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.4b"><vector id="S3.SS3.p2.2.m2.4.5.1.cmml" xref="S3.SS3.p2.2.m2.4.5.2"><ci id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">𝑥</ci><ci id="S3.SS3.p2.2.m2.2.2.cmml" xref="S3.SS3.p2.2.m2.2.2">𝑦</ci><ci id="S3.SS3.p2.2.m2.3.3.cmml" xref="S3.SS3.p2.2.m2.3.3">𝑤</ci><ci id="S3.SS3.p2.2.m2.4.4.cmml" xref="S3.SS3.p2.2.m2.4.4">ℎ</ci></vector></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.4c">(x,y,w,h)</annotation></semantics></math> to sinusoidal embedding. Then it is further projected into a PE vector <math id="S3.SS3.p2.3.m3.1" class="ltx_Math" alttext="p\in\mathbb{R}^{c}" display="inline"><semantics id="S3.SS3.p2.3.m3.1a"><mrow id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml"><mi id="S3.SS3.p2.3.m3.1.1.2" xref="S3.SS3.p2.3.m3.1.1.2.cmml">p</mi><mo id="S3.SS3.p2.3.m3.1.1.1" xref="S3.SS3.p2.3.m3.1.1.1.cmml">∈</mo><msup id="S3.SS3.p2.3.m3.1.1.3" xref="S3.SS3.p2.3.m3.1.1.3.cmml"><mi id="S3.SS3.p2.3.m3.1.1.3.2" xref="S3.SS3.p2.3.m3.1.1.3.2.cmml">ℝ</mi><mi id="S3.SS3.p2.3.m3.1.1.3.3" xref="S3.SS3.p2.3.m3.1.1.3.3.cmml">c</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><apply id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1"><in id="S3.SS3.p2.3.m3.1.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1.1"></in><ci id="S3.SS3.p2.3.m3.1.1.2.cmml" xref="S3.SS3.p2.3.m3.1.1.2">𝑝</ci><apply id="S3.SS3.p2.3.m3.1.1.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.1.1.3.1.cmml" xref="S3.SS3.p2.3.m3.1.1.3">superscript</csymbol><ci id="S3.SS3.p2.3.m3.1.1.3.2.cmml" xref="S3.SS3.p2.3.m3.1.1.3.2">ℝ</ci><ci id="S3.SS3.p2.3.m3.1.1.3.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">p\in\mathbb{R}^{c}</annotation></semantics></math> by an MLP, and <math id="S3.SS3.p2.4.m4.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.SS3.p2.4.m4.1a"><mi id="S3.SS3.p2.4.m4.1.1" xref="S3.SS3.p2.4.m4.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.1b"><ci id="S3.SS3.p2.4.m4.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.1c">p</annotation></semantics></math> is finally added onto the query and key tokens before self attention. For dynamic conv, the center <math id="S3.SS3.p2.5.m5.2" class="ltx_Math" alttext="(x,y)" display="inline"><semantics id="S3.SS3.p2.5.m5.2a"><mrow id="S3.SS3.p2.5.m5.2.3.2" xref="S3.SS3.p2.5.m5.2.3.1.cmml"><mo stretchy="false" id="S3.SS3.p2.5.m5.2.3.2.1" xref="S3.SS3.p2.5.m5.2.3.1.cmml">(</mo><mi id="S3.SS3.p2.5.m5.1.1" xref="S3.SS3.p2.5.m5.1.1.cmml">x</mi><mo id="S3.SS3.p2.5.m5.2.3.2.2" xref="S3.SS3.p2.5.m5.2.3.1.cmml">,</mo><mi id="S3.SS3.p2.5.m5.2.2" xref="S3.SS3.p2.5.m5.2.2.cmml">y</mi><mo stretchy="false" id="S3.SS3.p2.5.m5.2.3.2.3" xref="S3.SS3.p2.5.m5.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m5.2b"><interval closure="open" id="S3.SS3.p2.5.m5.2.3.1.cmml" xref="S3.SS3.p2.5.m5.2.3.2"><ci id="S3.SS3.p2.5.m5.1.1.cmml" xref="S3.SS3.p2.5.m5.1.1">𝑥</ci><ci id="S3.SS3.p2.5.m5.2.2.cmml" xref="S3.SS3.p2.5.m5.2.2">𝑦</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m5.2c">(x,y)</annotation></semantics></math> and box shape <math id="S3.SS3.p2.6.m6.2" class="ltx_Math" alttext="(w,h)" display="inline"><semantics id="S3.SS3.p2.6.m6.2a"><mrow id="S3.SS3.p2.6.m6.2.3.2" xref="S3.SS3.p2.6.m6.2.3.1.cmml"><mo stretchy="false" id="S3.SS3.p2.6.m6.2.3.2.1" xref="S3.SS3.p2.6.m6.2.3.1.cmml">(</mo><mi id="S3.SS3.p2.6.m6.1.1" xref="S3.SS3.p2.6.m6.1.1.cmml">w</mi><mo id="S3.SS3.p2.6.m6.2.3.2.2" xref="S3.SS3.p2.6.m6.2.3.1.cmml">,</mo><mi id="S3.SS3.p2.6.m6.2.2" xref="S3.SS3.p2.6.m6.2.2.cmml">h</mi><mo stretchy="false" id="S3.SS3.p2.6.m6.2.3.2.3" xref="S3.SS3.p2.6.m6.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.6.m6.2b"><interval closure="open" id="S3.SS3.p2.6.m6.2.3.1.cmml" xref="S3.SS3.p2.6.m6.2.3.2"><ci id="S3.SS3.p2.6.m6.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1">𝑤</ci><ci id="S3.SS3.p2.6.m6.2.2.cmml" xref="S3.SS3.p2.6.m6.2.2">ℎ</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.6.m6.2c">(w,h)</annotation></semantics></math> are encoded in a separate manner. Utilizing two MLPs, denoted by <math id="S3.SS3.p2.7.m7.1" class="ltx_Math" alttext="\text{MLP}_{c}" display="inline"><semantics id="S3.SS3.p2.7.m7.1a"><msub id="S3.SS3.p2.7.m7.1.1" xref="S3.SS3.p2.7.m7.1.1.cmml"><mtext id="S3.SS3.p2.7.m7.1.1.2" xref="S3.SS3.p2.7.m7.1.1.2a.cmml">MLP</mtext><mi id="S3.SS3.p2.7.m7.1.1.3" xref="S3.SS3.p2.7.m7.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.7.m7.1b"><apply id="S3.SS3.p2.7.m7.1.1.cmml" xref="S3.SS3.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.7.m7.1.1.1.cmml" xref="S3.SS3.p2.7.m7.1.1">subscript</csymbol><ci id="S3.SS3.p2.7.m7.1.1.2a.cmml" xref="S3.SS3.p2.7.m7.1.1.2"><mtext id="S3.SS3.p2.7.m7.1.1.2.cmml" xref="S3.SS3.p2.7.m7.1.1.2">MLP</mtext></ci><ci id="S3.SS3.p2.7.m7.1.1.3.cmml" xref="S3.SS3.p2.7.m7.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.7.m7.1c">\text{MLP}_{c}</annotation></semantics></math> and <math id="S3.SS3.p2.8.m8.1" class="ltx_Math" alttext="\text{MLP}_{s}" display="inline"><semantics id="S3.SS3.p2.8.m8.1a"><msub id="S3.SS3.p2.8.m8.1.1" xref="S3.SS3.p2.8.m8.1.1.cmml"><mtext id="S3.SS3.p2.8.m8.1.1.2" xref="S3.SS3.p2.8.m8.1.1.2a.cmml">MLP</mtext><mi id="S3.SS3.p2.8.m8.1.1.3" xref="S3.SS3.p2.8.m8.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.8.m8.1b"><apply id="S3.SS3.p2.8.m8.1.1.cmml" xref="S3.SS3.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m8.1.1.1.cmml" xref="S3.SS3.p2.8.m8.1.1">subscript</csymbol><ci id="S3.SS3.p2.8.m8.1.1.2a.cmml" xref="S3.SS3.p2.8.m8.1.1.2"><mtext id="S3.SS3.p2.8.m8.1.1.2.cmml" xref="S3.SS3.p2.8.m8.1.1.2">MLP</mtext></ci><ci id="S3.SS3.p2.8.m8.1.1.3.cmml" xref="S3.SS3.p2.8.m8.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.8.m8.1c">\text{MLP}_{s}</annotation></semantics></math>, proposal feature <math id="S3.SS3.p2.9.m9.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.SS3.p2.9.m9.1a"><mi id="S3.SS3.p2.9.m9.1.1" xref="S3.SS3.p2.9.m9.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.9.m9.1b"><ci id="S3.SS3.p2.9.m9.1.1.cmml" xref="S3.SS3.p2.9.m9.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.9.m9.1c">q</annotation></semantics></math> is mapped into two vectors <math id="S3.SS3.p2.10.m10.1" class="ltx_Math" alttext="q_{c}" display="inline"><semantics id="S3.SS3.p2.10.m10.1a"><msub id="S3.SS3.p2.10.m10.1.1" xref="S3.SS3.p2.10.m10.1.1.cmml"><mi id="S3.SS3.p2.10.m10.1.1.2" xref="S3.SS3.p2.10.m10.1.1.2.cmml">q</mi><mi id="S3.SS3.p2.10.m10.1.1.3" xref="S3.SS3.p2.10.m10.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.10.m10.1b"><apply id="S3.SS3.p2.10.m10.1.1.cmml" xref="S3.SS3.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.10.m10.1.1.1.cmml" xref="S3.SS3.p2.10.m10.1.1">subscript</csymbol><ci id="S3.SS3.p2.10.m10.1.1.2.cmml" xref="S3.SS3.p2.10.m10.1.1.2">𝑞</ci><ci id="S3.SS3.p2.10.m10.1.1.3.cmml" xref="S3.SS3.p2.10.m10.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.10.m10.1c">q_{c}</annotation></semantics></math> and <math id="S3.SS3.p2.11.m11.1" class="ltx_Math" alttext="q_{s}" display="inline"><semantics id="S3.SS3.p2.11.m11.1a"><msub id="S3.SS3.p2.11.m11.1.1" xref="S3.SS3.p2.11.m11.1.1.cmml"><mi id="S3.SS3.p2.11.m11.1.1.2" xref="S3.SS3.p2.11.m11.1.1.2.cmml">q</mi><mi id="S3.SS3.p2.11.m11.1.1.3" xref="S3.SS3.p2.11.m11.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.11.m11.1b"><apply id="S3.SS3.p2.11.m11.1.1.cmml" xref="S3.SS3.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.11.m11.1.1.1.cmml" xref="S3.SS3.p2.11.m11.1.1">subscript</csymbol><ci id="S3.SS3.p2.11.m11.1.1.2.cmml" xref="S3.SS3.p2.11.m11.1.1.2">𝑞</ci><ci id="S3.SS3.p2.11.m11.1.1.3.cmml" xref="S3.SS3.p2.11.m11.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.11.m11.1c">q_{s}</annotation></semantics></math> in the geometry space, reflecting the center and shape of bounding box, respectively. The computations of <math id="S3.SS3.p2.12.m12.1" class="ltx_Math" alttext="q_{c}" display="inline"><semantics id="S3.SS3.p2.12.m12.1a"><msub id="S3.SS3.p2.12.m12.1.1" xref="S3.SS3.p2.12.m12.1.1.cmml"><mi id="S3.SS3.p2.12.m12.1.1.2" xref="S3.SS3.p2.12.m12.1.1.2.cmml">q</mi><mi id="S3.SS3.p2.12.m12.1.1.3" xref="S3.SS3.p2.12.m12.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.12.m12.1b"><apply id="S3.SS3.p2.12.m12.1.1.cmml" xref="S3.SS3.p2.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.12.m12.1.1.1.cmml" xref="S3.SS3.p2.12.m12.1.1">subscript</csymbol><ci id="S3.SS3.p2.12.m12.1.1.2.cmml" xref="S3.SS3.p2.12.m12.1.1.2">𝑞</ci><ci id="S3.SS3.p2.12.m12.1.1.3.cmml" xref="S3.SS3.p2.12.m12.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.12.m12.1c">q_{c}</annotation></semantics></math> and <math id="S3.SS3.p2.13.m13.1" class="ltx_Math" alttext="q_{s}" display="inline"><semantics id="S3.SS3.p2.13.m13.1a"><msub id="S3.SS3.p2.13.m13.1.1" xref="S3.SS3.p2.13.m13.1.1.cmml"><mi id="S3.SS3.p2.13.m13.1.1.2" xref="S3.SS3.p2.13.m13.1.1.2.cmml">q</mi><mi id="S3.SS3.p2.13.m13.1.1.3" xref="S3.SS3.p2.13.m13.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.13.m13.1b"><apply id="S3.SS3.p2.13.m13.1.1.cmml" xref="S3.SS3.p2.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.13.m13.1.1.1.cmml" xref="S3.SS3.p2.13.m13.1.1">subscript</csymbol><ci id="S3.SS3.p2.13.m13.1.1.2.cmml" xref="S3.SS3.p2.13.m13.1.1.2">𝑞</ci><ci id="S3.SS3.p2.13.m13.1.1.3.cmml" xref="S3.SS3.p2.13.m13.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.13.m13.1c">q_{s}</annotation></semantics></math> are provided in <a href="#S3.E4" title="In 3.3 Bounding Box Positional Encoding ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Eq.</span> <span class="ltx_text ltx_ref_tag">4</span></a>. Here <math id="S3.SS3.p2.14.m14.1" class="ltx_Math" alttext="q_{s}" display="inline"><semantics id="S3.SS3.p2.14.m14.1a"><msub id="S3.SS3.p2.14.m14.1.1" xref="S3.SS3.p2.14.m14.1.1.cmml"><mi id="S3.SS3.p2.14.m14.1.1.2" xref="S3.SS3.p2.14.m14.1.1.2.cmml">q</mi><mi id="S3.SS3.p2.14.m14.1.1.3" xref="S3.SS3.p2.14.m14.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.14.m14.1b"><apply id="S3.SS3.p2.14.m14.1.1.cmml" xref="S3.SS3.p2.14.m14.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.14.m14.1.1.1.cmml" xref="S3.SS3.p2.14.m14.1.1">subscript</csymbol><ci id="S3.SS3.p2.14.m14.1.1.2.cmml" xref="S3.SS3.p2.14.m14.1.1.2">𝑞</ci><ci id="S3.SS3.p2.14.m14.1.1.3.cmml" xref="S3.SS3.p2.14.m14.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.14.m14.1c">q_{s}</annotation></semantics></math>, consisting of two scalars <math id="S3.SS3.p2.15.m15.1" class="ltx_Math" alttext="w_{ref}" display="inline"><semantics id="S3.SS3.p2.15.m15.1a"><msub id="S3.SS3.p2.15.m15.1.1" xref="S3.SS3.p2.15.m15.1.1.cmml"><mi id="S3.SS3.p2.15.m15.1.1.2" xref="S3.SS3.p2.15.m15.1.1.2.cmml">w</mi><mrow id="S3.SS3.p2.15.m15.1.1.3" xref="S3.SS3.p2.15.m15.1.1.3.cmml"><mi id="S3.SS3.p2.15.m15.1.1.3.2" xref="S3.SS3.p2.15.m15.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.15.m15.1.1.3.1" xref="S3.SS3.p2.15.m15.1.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.15.m15.1.1.3.3" xref="S3.SS3.p2.15.m15.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.15.m15.1.1.3.1a" xref="S3.SS3.p2.15.m15.1.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.15.m15.1.1.3.4" xref="S3.SS3.p2.15.m15.1.1.3.4.cmml">f</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.15.m15.1b"><apply id="S3.SS3.p2.15.m15.1.1.cmml" xref="S3.SS3.p2.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.15.m15.1.1.1.cmml" xref="S3.SS3.p2.15.m15.1.1">subscript</csymbol><ci id="S3.SS3.p2.15.m15.1.1.2.cmml" xref="S3.SS3.p2.15.m15.1.1.2">𝑤</ci><apply id="S3.SS3.p2.15.m15.1.1.3.cmml" xref="S3.SS3.p2.15.m15.1.1.3"><times id="S3.SS3.p2.15.m15.1.1.3.1.cmml" xref="S3.SS3.p2.15.m15.1.1.3.1"></times><ci id="S3.SS3.p2.15.m15.1.1.3.2.cmml" xref="S3.SS3.p2.15.m15.1.1.3.2">𝑟</ci><ci id="S3.SS3.p2.15.m15.1.1.3.3.cmml" xref="S3.SS3.p2.15.m15.1.1.3.3">𝑒</ci><ci id="S3.SS3.p2.15.m15.1.1.3.4.cmml" xref="S3.SS3.p2.15.m15.1.1.3.4">𝑓</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.15.m15.1c">w_{ref}</annotation></semantics></math> and <math id="S3.SS3.p2.16.m16.1" class="ltx_Math" alttext="h_{ref}" display="inline"><semantics id="S3.SS3.p2.16.m16.1a"><msub id="S3.SS3.p2.16.m16.1.1" xref="S3.SS3.p2.16.m16.1.1.cmml"><mi id="S3.SS3.p2.16.m16.1.1.2" xref="S3.SS3.p2.16.m16.1.1.2.cmml">h</mi><mrow id="S3.SS3.p2.16.m16.1.1.3" xref="S3.SS3.p2.16.m16.1.1.3.cmml"><mi id="S3.SS3.p2.16.m16.1.1.3.2" xref="S3.SS3.p2.16.m16.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.16.m16.1.1.3.1" xref="S3.SS3.p2.16.m16.1.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.16.m16.1.1.3.3" xref="S3.SS3.p2.16.m16.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.16.m16.1.1.3.1a" xref="S3.SS3.p2.16.m16.1.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.16.m16.1.1.3.4" xref="S3.SS3.p2.16.m16.1.1.3.4.cmml">f</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.16.m16.1b"><apply id="S3.SS3.p2.16.m16.1.1.cmml" xref="S3.SS3.p2.16.m16.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.16.m16.1.1.1.cmml" xref="S3.SS3.p2.16.m16.1.1">subscript</csymbol><ci id="S3.SS3.p2.16.m16.1.1.2.cmml" xref="S3.SS3.p2.16.m16.1.1.2">ℎ</ci><apply id="S3.SS3.p2.16.m16.1.1.3.cmml" xref="S3.SS3.p2.16.m16.1.1.3"><times id="S3.SS3.p2.16.m16.1.1.3.1.cmml" xref="S3.SS3.p2.16.m16.1.1.3.1"></times><ci id="S3.SS3.p2.16.m16.1.1.3.2.cmml" xref="S3.SS3.p2.16.m16.1.1.3.2">𝑟</ci><ci id="S3.SS3.p2.16.m16.1.1.3.3.cmml" xref="S3.SS3.p2.16.m16.1.1.3.3">𝑒</ci><ci id="S3.SS3.p2.16.m16.1.1.3.4.cmml" xref="S3.SS3.p2.16.m16.1.1.3.4">𝑓</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.16.m16.1c">h_{ref}</annotation></semantics></math>, is predicted from <math id="S3.SS3.p2.17.m17.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.SS3.p2.17.m17.1a"><mi id="S3.SS3.p2.17.m17.1.1" xref="S3.SS3.p2.17.m17.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.17.m17.1b"><ci id="S3.SS3.p2.17.m17.1.1.cmml" xref="S3.SS3.p2.17.m17.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.17.m17.1c">q</annotation></semantics></math> by <math id="S3.SS3.p2.18.m18.1" class="ltx_Math" alttext="\text{MLP}_{s}" display="inline"><semantics id="S3.SS3.p2.18.m18.1a"><msub id="S3.SS3.p2.18.m18.1.1" xref="S3.SS3.p2.18.m18.1.1.cmml"><mtext id="S3.SS3.p2.18.m18.1.1.2" xref="S3.SS3.p2.18.m18.1.1.2a.cmml">MLP</mtext><mi id="S3.SS3.p2.18.m18.1.1.3" xref="S3.SS3.p2.18.m18.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.18.m18.1b"><apply id="S3.SS3.p2.18.m18.1.1.cmml" xref="S3.SS3.p2.18.m18.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.18.m18.1.1.1.cmml" xref="S3.SS3.p2.18.m18.1.1">subscript</csymbol><ci id="S3.SS3.p2.18.m18.1.1.2a.cmml" xref="S3.SS3.p2.18.m18.1.1.2"><mtext id="S3.SS3.p2.18.m18.1.1.2.cmml" xref="S3.SS3.p2.18.m18.1.1.2">MLP</mtext></ci><ci id="S3.SS3.p2.18.m18.1.1.3.cmml" xref="S3.SS3.p2.18.m18.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.18.m18.1c">\text{MLP}_{s}</annotation></semantics></math>. <math id="S3.SS3.p2.19.m19.2" class="ltx_Math" alttext="q_{c,x}" display="inline"><semantics id="S3.SS3.p2.19.m19.2a"><msub id="S3.SS3.p2.19.m19.2.3" xref="S3.SS3.p2.19.m19.2.3.cmml"><mi id="S3.SS3.p2.19.m19.2.3.2" xref="S3.SS3.p2.19.m19.2.3.2.cmml">q</mi><mrow id="S3.SS3.p2.19.m19.2.2.2.4" xref="S3.SS3.p2.19.m19.2.2.2.3.cmml"><mi id="S3.SS3.p2.19.m19.1.1.1.1" xref="S3.SS3.p2.19.m19.1.1.1.1.cmml">c</mi><mo id="S3.SS3.p2.19.m19.2.2.2.4.1" xref="S3.SS3.p2.19.m19.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p2.19.m19.2.2.2.2" xref="S3.SS3.p2.19.m19.2.2.2.2.cmml">x</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.19.m19.2b"><apply id="S3.SS3.p2.19.m19.2.3.cmml" xref="S3.SS3.p2.19.m19.2.3"><csymbol cd="ambiguous" id="S3.SS3.p2.19.m19.2.3.1.cmml" xref="S3.SS3.p2.19.m19.2.3">subscript</csymbol><ci id="S3.SS3.p2.19.m19.2.3.2.cmml" xref="S3.SS3.p2.19.m19.2.3.2">𝑞</ci><list id="S3.SS3.p2.19.m19.2.2.2.3.cmml" xref="S3.SS3.p2.19.m19.2.2.2.4"><ci id="S3.SS3.p2.19.m19.1.1.1.1.cmml" xref="S3.SS3.p2.19.m19.1.1.1.1">𝑐</ci><ci id="S3.SS3.p2.19.m19.2.2.2.2.cmml" xref="S3.SS3.p2.19.m19.2.2.2.2">𝑥</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.19.m19.2c">q_{c,x}</annotation></semantics></math> and <math id="S3.SS3.p2.20.m20.2" class="ltx_Math" alttext="q_{c,y}" display="inline"><semantics id="S3.SS3.p2.20.m20.2a"><msub id="S3.SS3.p2.20.m20.2.3" xref="S3.SS3.p2.20.m20.2.3.cmml"><mi id="S3.SS3.p2.20.m20.2.3.2" xref="S3.SS3.p2.20.m20.2.3.2.cmml">q</mi><mrow id="S3.SS3.p2.20.m20.2.2.2.4" xref="S3.SS3.p2.20.m20.2.2.2.3.cmml"><mi id="S3.SS3.p2.20.m20.1.1.1.1" xref="S3.SS3.p2.20.m20.1.1.1.1.cmml">c</mi><mo id="S3.SS3.p2.20.m20.2.2.2.4.1" xref="S3.SS3.p2.20.m20.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p2.20.m20.2.2.2.2" xref="S3.SS3.p2.20.m20.2.2.2.2.cmml">y</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.20.m20.2b"><apply id="S3.SS3.p2.20.m20.2.3.cmml" xref="S3.SS3.p2.20.m20.2.3"><csymbol cd="ambiguous" id="S3.SS3.p2.20.m20.2.3.1.cmml" xref="S3.SS3.p2.20.m20.2.3">subscript</csymbol><ci id="S3.SS3.p2.20.m20.2.3.2.cmml" xref="S3.SS3.p2.20.m20.2.3.2">𝑞</ci><list id="S3.SS3.p2.20.m20.2.2.2.3.cmml" xref="S3.SS3.p2.20.m20.2.2.2.4"><ci id="S3.SS3.p2.20.m20.1.1.1.1.cmml" xref="S3.SS3.p2.20.m20.1.1.1.1">𝑐</ci><ci id="S3.SS3.p2.20.m20.2.2.2.2.cmml" xref="S3.SS3.p2.20.m20.2.2.2.2">𝑦</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.20.m20.2c">q_{c,y}</annotation></semantics></math> together form <math id="S3.SS3.p2.21.m21.1" class="ltx_Math" alttext="q_{c}" display="inline"><semantics id="S3.SS3.p2.21.m21.1a"><msub id="S3.SS3.p2.21.m21.1.1" xref="S3.SS3.p2.21.m21.1.1.cmml"><mi id="S3.SS3.p2.21.m21.1.1.2" xref="S3.SS3.p2.21.m21.1.1.2.cmml">q</mi><mi id="S3.SS3.p2.21.m21.1.1.3" xref="S3.SS3.p2.21.m21.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.21.m21.1b"><apply id="S3.SS3.p2.21.m21.1.1.cmml" xref="S3.SS3.p2.21.m21.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.21.m21.1.1.1.cmml" xref="S3.SS3.p2.21.m21.1.1">subscript</csymbol><ci id="S3.SS3.p2.21.m21.1.1.2.cmml" xref="S3.SS3.p2.21.m21.1.1.2">𝑞</ci><ci id="S3.SS3.p2.21.m21.1.1.3.cmml" xref="S3.SS3.p2.21.m21.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.21.m21.1c">q_{c}</annotation></semantics></math>, and each contributes half of the full dimension.</p>
<table id="S3.E4" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E4X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E4X.2.1.1.m1.7" class="ltx_Math" alttext="\displaystyle q_{c}=[q_{c,x},q_{c,y}]=\text{MLP}_{c}(q)\in\mathbb{R}^{c}" display="inline"><semantics id="S3.E4X.2.1.1.m1.7a"><mrow id="S3.E4X.2.1.1.m1.7.7" xref="S3.E4X.2.1.1.m1.7.7.cmml"><msub id="S3.E4X.2.1.1.m1.7.7.4" xref="S3.E4X.2.1.1.m1.7.7.4.cmml"><mi id="S3.E4X.2.1.1.m1.7.7.4.2" xref="S3.E4X.2.1.1.m1.7.7.4.2.cmml">q</mi><mi id="S3.E4X.2.1.1.m1.7.7.4.3" xref="S3.E4X.2.1.1.m1.7.7.4.3.cmml">c</mi></msub><mo id="S3.E4X.2.1.1.m1.7.7.5" xref="S3.E4X.2.1.1.m1.7.7.5.cmml">=</mo><mrow id="S3.E4X.2.1.1.m1.7.7.2.2" xref="S3.E4X.2.1.1.m1.7.7.2.3.cmml"><mo stretchy="false" id="S3.E4X.2.1.1.m1.7.7.2.2.3" xref="S3.E4X.2.1.1.m1.7.7.2.3.cmml">[</mo><msub id="S3.E4X.2.1.1.m1.6.6.1.1.1" xref="S3.E4X.2.1.1.m1.6.6.1.1.1.cmml"><mi id="S3.E4X.2.1.1.m1.6.6.1.1.1.2" xref="S3.E4X.2.1.1.m1.6.6.1.1.1.2.cmml">q</mi><mrow id="S3.E4X.2.1.1.m1.2.2.2.4" xref="S3.E4X.2.1.1.m1.2.2.2.3.cmml"><mi id="S3.E4X.2.1.1.m1.1.1.1.1" xref="S3.E4X.2.1.1.m1.1.1.1.1.cmml">c</mi><mo id="S3.E4X.2.1.1.m1.2.2.2.4.1" xref="S3.E4X.2.1.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.E4X.2.1.1.m1.2.2.2.2" xref="S3.E4X.2.1.1.m1.2.2.2.2.cmml">x</mi></mrow></msub><mo id="S3.E4X.2.1.1.m1.7.7.2.2.4" xref="S3.E4X.2.1.1.m1.7.7.2.3.cmml">,</mo><msub id="S3.E4X.2.1.1.m1.7.7.2.2.2" xref="S3.E4X.2.1.1.m1.7.7.2.2.2.cmml"><mi id="S3.E4X.2.1.1.m1.7.7.2.2.2.2" xref="S3.E4X.2.1.1.m1.7.7.2.2.2.2.cmml">q</mi><mrow id="S3.E4X.2.1.1.m1.4.4.2.4" xref="S3.E4X.2.1.1.m1.4.4.2.3.cmml"><mi id="S3.E4X.2.1.1.m1.3.3.1.1" xref="S3.E4X.2.1.1.m1.3.3.1.1.cmml">c</mi><mo id="S3.E4X.2.1.1.m1.4.4.2.4.1" xref="S3.E4X.2.1.1.m1.4.4.2.3.cmml">,</mo><mi id="S3.E4X.2.1.1.m1.4.4.2.2" xref="S3.E4X.2.1.1.m1.4.4.2.2.cmml">y</mi></mrow></msub><mo stretchy="false" id="S3.E4X.2.1.1.m1.7.7.2.2.5" xref="S3.E4X.2.1.1.m1.7.7.2.3.cmml">]</mo></mrow><mo id="S3.E4X.2.1.1.m1.7.7.6" xref="S3.E4X.2.1.1.m1.7.7.6.cmml">=</mo><mrow id="S3.E4X.2.1.1.m1.7.7.7" xref="S3.E4X.2.1.1.m1.7.7.7.cmml"><msub id="S3.E4X.2.1.1.m1.7.7.7.2" xref="S3.E4X.2.1.1.m1.7.7.7.2.cmml"><mtext id="S3.E4X.2.1.1.m1.7.7.7.2.2" xref="S3.E4X.2.1.1.m1.7.7.7.2.2a.cmml">MLP</mtext><mi id="S3.E4X.2.1.1.m1.7.7.7.2.3" xref="S3.E4X.2.1.1.m1.7.7.7.2.3.cmml">c</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4X.2.1.1.m1.7.7.7.1" xref="S3.E4X.2.1.1.m1.7.7.7.1.cmml">​</mo><mrow id="S3.E4X.2.1.1.m1.7.7.7.3.2" xref="S3.E4X.2.1.1.m1.7.7.7.cmml"><mo stretchy="false" id="S3.E4X.2.1.1.m1.7.7.7.3.2.1" xref="S3.E4X.2.1.1.m1.7.7.7.cmml">(</mo><mi id="S3.E4X.2.1.1.m1.5.5" xref="S3.E4X.2.1.1.m1.5.5.cmml">q</mi><mo stretchy="false" id="S3.E4X.2.1.1.m1.7.7.7.3.2.2" xref="S3.E4X.2.1.1.m1.7.7.7.cmml">)</mo></mrow></mrow><mo id="S3.E4X.2.1.1.m1.7.7.8" xref="S3.E4X.2.1.1.m1.7.7.8.cmml">∈</mo><msup id="S3.E4X.2.1.1.m1.7.7.9" xref="S3.E4X.2.1.1.m1.7.7.9.cmml"><mi id="S3.E4X.2.1.1.m1.7.7.9.2" xref="S3.E4X.2.1.1.m1.7.7.9.2.cmml">ℝ</mi><mi id="S3.E4X.2.1.1.m1.7.7.9.3" xref="S3.E4X.2.1.1.m1.7.7.9.3.cmml">c</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.E4X.2.1.1.m1.7b"><apply id="S3.E4X.2.1.1.m1.7.7.cmml" xref="S3.E4X.2.1.1.m1.7.7"><and id="S3.E4X.2.1.1.m1.7.7a.cmml" xref="S3.E4X.2.1.1.m1.7.7"></and><apply id="S3.E4X.2.1.1.m1.7.7b.cmml" xref="S3.E4X.2.1.1.m1.7.7"><eq id="S3.E4X.2.1.1.m1.7.7.5.cmml" xref="S3.E4X.2.1.1.m1.7.7.5"></eq><apply id="S3.E4X.2.1.1.m1.7.7.4.cmml" xref="S3.E4X.2.1.1.m1.7.7.4"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.7.7.4.1.cmml" xref="S3.E4X.2.1.1.m1.7.7.4">subscript</csymbol><ci id="S3.E4X.2.1.1.m1.7.7.4.2.cmml" xref="S3.E4X.2.1.1.m1.7.7.4.2">𝑞</ci><ci id="S3.E4X.2.1.1.m1.7.7.4.3.cmml" xref="S3.E4X.2.1.1.m1.7.7.4.3">𝑐</ci></apply><interval closure="closed" id="S3.E4X.2.1.1.m1.7.7.2.3.cmml" xref="S3.E4X.2.1.1.m1.7.7.2.2"><apply id="S3.E4X.2.1.1.m1.6.6.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.6.6.1.1.1"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.6.6.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.6.6.1.1.1">subscript</csymbol><ci id="S3.E4X.2.1.1.m1.6.6.1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.6.6.1.1.1.2">𝑞</ci><list id="S3.E4X.2.1.1.m1.2.2.2.3.cmml" xref="S3.E4X.2.1.1.m1.2.2.2.4"><ci id="S3.E4X.2.1.1.m1.1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.1.1.1.1">𝑐</ci><ci id="S3.E4X.2.1.1.m1.2.2.2.2.cmml" xref="S3.E4X.2.1.1.m1.2.2.2.2">𝑥</ci></list></apply><apply id="S3.E4X.2.1.1.m1.7.7.2.2.2.cmml" xref="S3.E4X.2.1.1.m1.7.7.2.2.2"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.7.7.2.2.2.1.cmml" xref="S3.E4X.2.1.1.m1.7.7.2.2.2">subscript</csymbol><ci id="S3.E4X.2.1.1.m1.7.7.2.2.2.2.cmml" xref="S3.E4X.2.1.1.m1.7.7.2.2.2.2">𝑞</ci><list id="S3.E4X.2.1.1.m1.4.4.2.3.cmml" xref="S3.E4X.2.1.1.m1.4.4.2.4"><ci id="S3.E4X.2.1.1.m1.3.3.1.1.cmml" xref="S3.E4X.2.1.1.m1.3.3.1.1">𝑐</ci><ci id="S3.E4X.2.1.1.m1.4.4.2.2.cmml" xref="S3.E4X.2.1.1.m1.4.4.2.2">𝑦</ci></list></apply></interval></apply><apply id="S3.E4X.2.1.1.m1.7.7c.cmml" xref="S3.E4X.2.1.1.m1.7.7"><eq id="S3.E4X.2.1.1.m1.7.7.6.cmml" xref="S3.E4X.2.1.1.m1.7.7.6"></eq><share href="#S3.E4X.2.1.1.m1.7.7.2.cmml" id="S3.E4X.2.1.1.m1.7.7d.cmml" xref="S3.E4X.2.1.1.m1.7.7"></share><apply id="S3.E4X.2.1.1.m1.7.7.7.cmml" xref="S3.E4X.2.1.1.m1.7.7.7"><times id="S3.E4X.2.1.1.m1.7.7.7.1.cmml" xref="S3.E4X.2.1.1.m1.7.7.7.1"></times><apply id="S3.E4X.2.1.1.m1.7.7.7.2.cmml" xref="S3.E4X.2.1.1.m1.7.7.7.2"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.7.7.7.2.1.cmml" xref="S3.E4X.2.1.1.m1.7.7.7.2">subscript</csymbol><ci id="S3.E4X.2.1.1.m1.7.7.7.2.2a.cmml" xref="S3.E4X.2.1.1.m1.7.7.7.2.2"><mtext id="S3.E4X.2.1.1.m1.7.7.7.2.2.cmml" xref="S3.E4X.2.1.1.m1.7.7.7.2.2">MLP</mtext></ci><ci id="S3.E4X.2.1.1.m1.7.7.7.2.3.cmml" xref="S3.E4X.2.1.1.m1.7.7.7.2.3">𝑐</ci></apply><ci id="S3.E4X.2.1.1.m1.5.5.cmml" xref="S3.E4X.2.1.1.m1.5.5">𝑞</ci></apply></apply><apply id="S3.E4X.2.1.1.m1.7.7e.cmml" xref="S3.E4X.2.1.1.m1.7.7"><in id="S3.E4X.2.1.1.m1.7.7.8.cmml" xref="S3.E4X.2.1.1.m1.7.7.8"></in><share href="#S3.E4X.2.1.1.m1.7.7.7.cmml" id="S3.E4X.2.1.1.m1.7.7f.cmml" xref="S3.E4X.2.1.1.m1.7.7"></share><apply id="S3.E4X.2.1.1.m1.7.7.9.cmml" xref="S3.E4X.2.1.1.m1.7.7.9"><csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.7.7.9.1.cmml" xref="S3.E4X.2.1.1.m1.7.7.9">superscript</csymbol><ci id="S3.E4X.2.1.1.m1.7.7.9.2.cmml" xref="S3.E4X.2.1.1.m1.7.7.9.2">ℝ</ci><ci id="S3.E4X.2.1.1.m1.7.7.9.3.cmml" xref="S3.E4X.2.1.1.m1.7.7.9.3">𝑐</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4X.2.1.1.m1.7c">\displaystyle q_{c}=[q_{c,x},q_{c,y}]=\text{MLP}_{c}(q)\in\mathbb{R}^{c}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(4)</span></td>
</tr>
<tr id="S3.E4Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E4Xa.2.1.1.m1.3" class="ltx_Math" alttext="\displaystyle q_{s}=[w_{ref},h_{ref}]=\text{MLP}_{s}(q)\in\mathbb{R}^{2}" display="inline"><semantics id="S3.E4Xa.2.1.1.m1.3a"><mrow id="S3.E4Xa.2.1.1.m1.3.3" xref="S3.E4Xa.2.1.1.m1.3.3.cmml"><msub id="S3.E4Xa.2.1.1.m1.3.3.4" xref="S3.E4Xa.2.1.1.m1.3.3.4.cmml"><mi id="S3.E4Xa.2.1.1.m1.3.3.4.2" xref="S3.E4Xa.2.1.1.m1.3.3.4.2.cmml">q</mi><mi id="S3.E4Xa.2.1.1.m1.3.3.4.3" xref="S3.E4Xa.2.1.1.m1.3.3.4.3.cmml">s</mi></msub><mo id="S3.E4Xa.2.1.1.m1.3.3.5" xref="S3.E4Xa.2.1.1.m1.3.3.5.cmml">=</mo><mrow id="S3.E4Xa.2.1.1.m1.3.3.2.2" xref="S3.E4Xa.2.1.1.m1.3.3.2.3.cmml"><mo stretchy="false" id="S3.E4Xa.2.1.1.m1.3.3.2.2.3" xref="S3.E4Xa.2.1.1.m1.3.3.2.3.cmml">[</mo><msub id="S3.E4Xa.2.1.1.m1.2.2.1.1.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.cmml">w</mi><mrow id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.2" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.1" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.3" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.1a" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.1.cmml">​</mo><mi id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.4" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.4.cmml">f</mi></mrow></msub><mo id="S3.E4Xa.2.1.1.m1.3.3.2.2.4" xref="S3.E4Xa.2.1.1.m1.3.3.2.3.cmml">,</mo><msub id="S3.E4Xa.2.1.1.m1.3.3.2.2.2" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.cmml"><mi id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.2" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.2.cmml">h</mi><mrow id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.cmml"><mi id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.2" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.1" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.1.cmml">​</mo><mi id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.3" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.1a" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.1.cmml">​</mo><mi id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.4" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.4.cmml">f</mi></mrow></msub><mo stretchy="false" id="S3.E4Xa.2.1.1.m1.3.3.2.2.5" xref="S3.E4Xa.2.1.1.m1.3.3.2.3.cmml">]</mo></mrow><mo id="S3.E4Xa.2.1.1.m1.3.3.6" xref="S3.E4Xa.2.1.1.m1.3.3.6.cmml">=</mo><mrow id="S3.E4Xa.2.1.1.m1.3.3.7" xref="S3.E4Xa.2.1.1.m1.3.3.7.cmml"><msub id="S3.E4Xa.2.1.1.m1.3.3.7.2" xref="S3.E4Xa.2.1.1.m1.3.3.7.2.cmml"><mtext id="S3.E4Xa.2.1.1.m1.3.3.7.2.2" xref="S3.E4Xa.2.1.1.m1.3.3.7.2.2a.cmml">MLP</mtext><mi id="S3.E4Xa.2.1.1.m1.3.3.7.2.3" xref="S3.E4Xa.2.1.1.m1.3.3.7.2.3.cmml">s</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4Xa.2.1.1.m1.3.3.7.1" xref="S3.E4Xa.2.1.1.m1.3.3.7.1.cmml">​</mo><mrow id="S3.E4Xa.2.1.1.m1.3.3.7.3.2" xref="S3.E4Xa.2.1.1.m1.3.3.7.cmml"><mo stretchy="false" id="S3.E4Xa.2.1.1.m1.3.3.7.3.2.1" xref="S3.E4Xa.2.1.1.m1.3.3.7.cmml">(</mo><mi id="S3.E4Xa.2.1.1.m1.1.1" xref="S3.E4Xa.2.1.1.m1.1.1.cmml">q</mi><mo stretchy="false" id="S3.E4Xa.2.1.1.m1.3.3.7.3.2.2" xref="S3.E4Xa.2.1.1.m1.3.3.7.cmml">)</mo></mrow></mrow><mo id="S3.E4Xa.2.1.1.m1.3.3.8" xref="S3.E4Xa.2.1.1.m1.3.3.8.cmml">∈</mo><msup id="S3.E4Xa.2.1.1.m1.3.3.9" xref="S3.E4Xa.2.1.1.m1.3.3.9.cmml"><mi id="S3.E4Xa.2.1.1.m1.3.3.9.2" xref="S3.E4Xa.2.1.1.m1.3.3.9.2.cmml">ℝ</mi><mn id="S3.E4Xa.2.1.1.m1.3.3.9.3" xref="S3.E4Xa.2.1.1.m1.3.3.9.3.cmml">2</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.E4Xa.2.1.1.m1.3b"><apply id="S3.E4Xa.2.1.1.m1.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.3.3"><and id="S3.E4Xa.2.1.1.m1.3.3a.cmml" xref="S3.E4Xa.2.1.1.m1.3.3"></and><apply id="S3.E4Xa.2.1.1.m1.3.3b.cmml" xref="S3.E4Xa.2.1.1.m1.3.3"><eq id="S3.E4Xa.2.1.1.m1.3.3.5.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.5"></eq><apply id="S3.E4Xa.2.1.1.m1.3.3.4.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.4"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.3.3.4.1.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.4">subscript</csymbol><ci id="S3.E4Xa.2.1.1.m1.3.3.4.2.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.4.2">𝑞</ci><ci id="S3.E4Xa.2.1.1.m1.3.3.4.3.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.4.3">𝑠</ci></apply><interval closure="closed" id="S3.E4Xa.2.1.1.m1.3.3.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.2.2"><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.2">𝑤</ci><apply id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3"><times id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.1"></times><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.2">𝑟</ci><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.3">𝑒</ci><ci id="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.4.cmml" xref="S3.E4Xa.2.1.1.m1.2.2.1.1.1.3.4">𝑓</ci></apply></apply><apply id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.2">ℎ</ci><apply id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3"><times id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.1.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.1"></times><ci id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.2.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.2">𝑟</ci><ci id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.3.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.3">𝑒</ci><ci id="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.4.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.2.2.2.3.4">𝑓</ci></apply></apply></interval></apply><apply id="S3.E4Xa.2.1.1.m1.3.3c.cmml" xref="S3.E4Xa.2.1.1.m1.3.3"><eq id="S3.E4Xa.2.1.1.m1.3.3.6.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.6"></eq><share href="#S3.E4Xa.2.1.1.m1.3.3.2.cmml" id="S3.E4Xa.2.1.1.m1.3.3d.cmml" xref="S3.E4Xa.2.1.1.m1.3.3"></share><apply id="S3.E4Xa.2.1.1.m1.3.3.7.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.7"><times id="S3.E4Xa.2.1.1.m1.3.3.7.1.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.7.1"></times><apply id="S3.E4Xa.2.1.1.m1.3.3.7.2.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.7.2"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.3.3.7.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.7.2">subscript</csymbol><ci id="S3.E4Xa.2.1.1.m1.3.3.7.2.2a.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.7.2.2"><mtext id="S3.E4Xa.2.1.1.m1.3.3.7.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.7.2.2">MLP</mtext></ci><ci id="S3.E4Xa.2.1.1.m1.3.3.7.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.7.2.3">𝑠</ci></apply><ci id="S3.E4Xa.2.1.1.m1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1">𝑞</ci></apply></apply><apply id="S3.E4Xa.2.1.1.m1.3.3e.cmml" xref="S3.E4Xa.2.1.1.m1.3.3"><in id="S3.E4Xa.2.1.1.m1.3.3.8.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.8"></in><share href="#S3.E4Xa.2.1.1.m1.3.3.7.cmml" id="S3.E4Xa.2.1.1.m1.3.3f.cmml" xref="S3.E4Xa.2.1.1.m1.3.3"></share><apply id="S3.E4Xa.2.1.1.m1.3.3.9.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.9"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.3.3.9.1.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.9">superscript</csymbol><ci id="S3.E4Xa.2.1.1.m1.3.3.9.2.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.9.2">ℝ</ci><cn type="integer" id="S3.E4Xa.2.1.1.m1.3.3.9.3.cmml" xref="S3.E4Xa.2.1.1.m1.3.3.9.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4Xa.2.1.1.m1.3c">\displaystyle q_{s}=[w_{ref},h_{ref}]=\text{MLP}_{s}(q)\in\mathbb{R}^{2}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p id="S3.SS3.p2.28" class="ltx_p">Then, they are modulated by geometry features from <math id="S3.SS3.p2.22.m1.2" class="ltx_Math" alttext="(x,y)" display="inline"><semantics id="S3.SS3.p2.22.m1.2a"><mrow id="S3.SS3.p2.22.m1.2.3.2" xref="S3.SS3.p2.22.m1.2.3.1.cmml"><mo stretchy="false" id="S3.SS3.p2.22.m1.2.3.2.1" xref="S3.SS3.p2.22.m1.2.3.1.cmml">(</mo><mi id="S3.SS3.p2.22.m1.1.1" xref="S3.SS3.p2.22.m1.1.1.cmml">x</mi><mo id="S3.SS3.p2.22.m1.2.3.2.2" xref="S3.SS3.p2.22.m1.2.3.1.cmml">,</mo><mi id="S3.SS3.p2.22.m1.2.2" xref="S3.SS3.p2.22.m1.2.2.cmml">y</mi><mo stretchy="false" id="S3.SS3.p2.22.m1.2.3.2.3" xref="S3.SS3.p2.22.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.22.m1.2b"><interval closure="open" id="S3.SS3.p2.22.m1.2.3.1.cmml" xref="S3.SS3.p2.22.m1.2.3.2"><ci id="S3.SS3.p2.22.m1.1.1.cmml" xref="S3.SS3.p2.22.m1.1.1">𝑥</ci><ci id="S3.SS3.p2.22.m1.2.2.cmml" xref="S3.SS3.p2.22.m1.2.2">𝑦</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.22.m1.2c">(x,y)</annotation></semantics></math> and <math id="S3.SS3.p2.23.m2.2" class="ltx_Math" alttext="(w,h)" display="inline"><semantics id="S3.SS3.p2.23.m2.2a"><mrow id="S3.SS3.p2.23.m2.2.3.2" xref="S3.SS3.p2.23.m2.2.3.1.cmml"><mo stretchy="false" id="S3.SS3.p2.23.m2.2.3.2.1" xref="S3.SS3.p2.23.m2.2.3.1.cmml">(</mo><mi id="S3.SS3.p2.23.m2.1.1" xref="S3.SS3.p2.23.m2.1.1.cmml">w</mi><mo id="S3.SS3.p2.23.m2.2.3.2.2" xref="S3.SS3.p2.23.m2.2.3.1.cmml">,</mo><mi id="S3.SS3.p2.23.m2.2.2" xref="S3.SS3.p2.23.m2.2.2.cmml">h</mi><mo stretchy="false" id="S3.SS3.p2.23.m2.2.3.2.3" xref="S3.SS3.p2.23.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.23.m2.2b"><interval closure="open" id="S3.SS3.p2.23.m2.2.3.1.cmml" xref="S3.SS3.p2.23.m2.2.3.2"><ci id="S3.SS3.p2.23.m2.1.1.cmml" xref="S3.SS3.p2.23.m2.1.1">𝑤</ci><ci id="S3.SS3.p2.23.m2.2.2.cmml" xref="S3.SS3.p2.23.m2.2.2">ℎ</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.23.m2.2c">(w,h)</annotation></semantics></math>, specifying <math id="S3.SS3.p2.24.m3.1" class="ltx_Math" alttext="p_{k}" display="inline"><semantics id="S3.SS3.p2.24.m3.1a"><msub id="S3.SS3.p2.24.m3.1.1" xref="S3.SS3.p2.24.m3.1.1.cmml"><mi id="S3.SS3.p2.24.m3.1.1.2" xref="S3.SS3.p2.24.m3.1.1.2.cmml">p</mi><mi id="S3.SS3.p2.24.m3.1.1.3" xref="S3.SS3.p2.24.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.24.m3.1b"><apply id="S3.SS3.p2.24.m3.1.1.cmml" xref="S3.SS3.p2.24.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.24.m3.1.1.1.cmml" xref="S3.SS3.p2.24.m3.1.1">subscript</csymbol><ci id="S3.SS3.p2.24.m3.1.1.2.cmml" xref="S3.SS3.p2.24.m3.1.1.2">𝑝</ci><ci id="S3.SS3.p2.24.m3.1.1.3.cmml" xref="S3.SS3.p2.24.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.24.m3.1c">p_{k}</annotation></semantics></math> for kernels. We formalize this in <a href="#S3.E5" title="In 3.3 Bounding Box Positional Encoding ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Eq.</span> <span class="ltx_text ltx_ref_tag">5</span></a>. Here <math id="S3.SS3.p2.25.m4.1" class="ltx_Math" alttext="\odot" display="inline"><semantics id="S3.SS3.p2.25.m4.1a"><mo id="S3.SS3.p2.25.m4.1.1" xref="S3.SS3.p2.25.m4.1.1.cmml">⊙</mo><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.25.m4.1b"><csymbol cd="latexml" id="S3.SS3.p2.25.m4.1.1.cmml" xref="S3.SS3.p2.25.m4.1.1">direct-product</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.25.m4.1c">\odot</annotation></semantics></math> means the Hadamard product. <math id="S3.SS3.p2.26.m5.2" class="ltx_Math" alttext="p_{k}(x,w)" display="inline"><semantics id="S3.SS3.p2.26.m5.2a"><mrow id="S3.SS3.p2.26.m5.2.3" xref="S3.SS3.p2.26.m5.2.3.cmml"><msub id="S3.SS3.p2.26.m5.2.3.2" xref="S3.SS3.p2.26.m5.2.3.2.cmml"><mi id="S3.SS3.p2.26.m5.2.3.2.2" xref="S3.SS3.p2.26.m5.2.3.2.2.cmml">p</mi><mi id="S3.SS3.p2.26.m5.2.3.2.3" xref="S3.SS3.p2.26.m5.2.3.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p2.26.m5.2.3.1" xref="S3.SS3.p2.26.m5.2.3.1.cmml">​</mo><mrow id="S3.SS3.p2.26.m5.2.3.3.2" xref="S3.SS3.p2.26.m5.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS3.p2.26.m5.2.3.3.2.1" xref="S3.SS3.p2.26.m5.2.3.3.1.cmml">(</mo><mi id="S3.SS3.p2.26.m5.1.1" xref="S3.SS3.p2.26.m5.1.1.cmml">x</mi><mo id="S3.SS3.p2.26.m5.2.3.3.2.2" xref="S3.SS3.p2.26.m5.2.3.3.1.cmml">,</mo><mi id="S3.SS3.p2.26.m5.2.2" xref="S3.SS3.p2.26.m5.2.2.cmml">w</mi><mo stretchy="false" id="S3.SS3.p2.26.m5.2.3.3.2.3" xref="S3.SS3.p2.26.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.26.m5.2b"><apply id="S3.SS3.p2.26.m5.2.3.cmml" xref="S3.SS3.p2.26.m5.2.3"><times id="S3.SS3.p2.26.m5.2.3.1.cmml" xref="S3.SS3.p2.26.m5.2.3.1"></times><apply id="S3.SS3.p2.26.m5.2.3.2.cmml" xref="S3.SS3.p2.26.m5.2.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.26.m5.2.3.2.1.cmml" xref="S3.SS3.p2.26.m5.2.3.2">subscript</csymbol><ci id="S3.SS3.p2.26.m5.2.3.2.2.cmml" xref="S3.SS3.p2.26.m5.2.3.2.2">𝑝</ci><ci id="S3.SS3.p2.26.m5.2.3.2.3.cmml" xref="S3.SS3.p2.26.m5.2.3.2.3">𝑘</ci></apply><interval closure="open" id="S3.SS3.p2.26.m5.2.3.3.1.cmml" xref="S3.SS3.p2.26.m5.2.3.3.2"><ci id="S3.SS3.p2.26.m5.1.1.cmml" xref="S3.SS3.p2.26.m5.1.1">𝑥</ci><ci id="S3.SS3.p2.26.m5.2.2.cmml" xref="S3.SS3.p2.26.m5.2.2">𝑤</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.26.m5.2c">p_{k}(x,w)</annotation></semantics></math> and <math id="S3.SS3.p2.27.m6.2" class="ltx_Math" alttext="p_{k}(y,h)" display="inline"><semantics id="S3.SS3.p2.27.m6.2a"><mrow id="S3.SS3.p2.27.m6.2.3" xref="S3.SS3.p2.27.m6.2.3.cmml"><msub id="S3.SS3.p2.27.m6.2.3.2" xref="S3.SS3.p2.27.m6.2.3.2.cmml"><mi id="S3.SS3.p2.27.m6.2.3.2.2" xref="S3.SS3.p2.27.m6.2.3.2.2.cmml">p</mi><mi id="S3.SS3.p2.27.m6.2.3.2.3" xref="S3.SS3.p2.27.m6.2.3.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p2.27.m6.2.3.1" xref="S3.SS3.p2.27.m6.2.3.1.cmml">​</mo><mrow id="S3.SS3.p2.27.m6.2.3.3.2" xref="S3.SS3.p2.27.m6.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS3.p2.27.m6.2.3.3.2.1" xref="S3.SS3.p2.27.m6.2.3.3.1.cmml">(</mo><mi id="S3.SS3.p2.27.m6.1.1" xref="S3.SS3.p2.27.m6.1.1.cmml">y</mi><mo id="S3.SS3.p2.27.m6.2.3.3.2.2" xref="S3.SS3.p2.27.m6.2.3.3.1.cmml">,</mo><mi id="S3.SS3.p2.27.m6.2.2" xref="S3.SS3.p2.27.m6.2.2.cmml">h</mi><mo stretchy="false" id="S3.SS3.p2.27.m6.2.3.3.2.3" xref="S3.SS3.p2.27.m6.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.27.m6.2b"><apply id="S3.SS3.p2.27.m6.2.3.cmml" xref="S3.SS3.p2.27.m6.2.3"><times id="S3.SS3.p2.27.m6.2.3.1.cmml" xref="S3.SS3.p2.27.m6.2.3.1"></times><apply id="S3.SS3.p2.27.m6.2.3.2.cmml" xref="S3.SS3.p2.27.m6.2.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.27.m6.2.3.2.1.cmml" xref="S3.SS3.p2.27.m6.2.3.2">subscript</csymbol><ci id="S3.SS3.p2.27.m6.2.3.2.2.cmml" xref="S3.SS3.p2.27.m6.2.3.2.2">𝑝</ci><ci id="S3.SS3.p2.27.m6.2.3.2.3.cmml" xref="S3.SS3.p2.27.m6.2.3.2.3">𝑘</ci></apply><interval closure="open" id="S3.SS3.p2.27.m6.2.3.3.1.cmml" xref="S3.SS3.p2.27.m6.2.3.3.2"><ci id="S3.SS3.p2.27.m6.1.1.cmml" xref="S3.SS3.p2.27.m6.1.1">𝑦</ci><ci id="S3.SS3.p2.27.m6.2.2.cmml" xref="S3.SS3.p2.27.m6.2.2">ℎ</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.27.m6.2c">p_{k}(y,h)</annotation></semantics></math> are finally concatenated into <math id="S3.SS3.p2.28.m7.1" class="ltx_Math" alttext="p_{k}" display="inline"><semantics id="S3.SS3.p2.28.m7.1a"><msub id="S3.SS3.p2.28.m7.1.1" xref="S3.SS3.p2.28.m7.1.1.cmml"><mi id="S3.SS3.p2.28.m7.1.1.2" xref="S3.SS3.p2.28.m7.1.1.2.cmml">p</mi><mi id="S3.SS3.p2.28.m7.1.1.3" xref="S3.SS3.p2.28.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.28.m7.1b"><apply id="S3.SS3.p2.28.m7.1.1.cmml" xref="S3.SS3.p2.28.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.28.m7.1.1.1.cmml" xref="S3.SS3.p2.28.m7.1.1">subscript</csymbol><ci id="S3.SS3.p2.28.m7.1.1.2.cmml" xref="S3.SS3.p2.28.m7.1.1.2">𝑝</ci><ci id="S3.SS3.p2.28.m7.1.1.3.cmml" xref="S3.SS3.p2.28.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.28.m7.1c">p_{k}</annotation></semantics></math>.</p>
<table id="S3.E5" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E5X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5X.2.1.1.m1.5" class="ltx_Math" alttext="\displaystyle p_{k}(x,w)=\frac{w_{ref}}{w}\text{Sinusoidal}(x)\odot q_{c,x}" display="inline"><semantics id="S3.E5X.2.1.1.m1.5a"><mrow id="S3.E5X.2.1.1.m1.5.6" xref="S3.E5X.2.1.1.m1.5.6.cmml"><mrow id="S3.E5X.2.1.1.m1.5.6.2" xref="S3.E5X.2.1.1.m1.5.6.2.cmml"><msub id="S3.E5X.2.1.1.m1.5.6.2.2" xref="S3.E5X.2.1.1.m1.5.6.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.5.6.2.2.2" xref="S3.E5X.2.1.1.m1.5.6.2.2.2.cmml">p</mi><mi id="S3.E5X.2.1.1.m1.5.6.2.2.3" xref="S3.E5X.2.1.1.m1.5.6.2.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E5X.2.1.1.m1.5.6.2.1" xref="S3.E5X.2.1.1.m1.5.6.2.1.cmml">​</mo><mrow id="S3.E5X.2.1.1.m1.5.6.2.3.2" xref="S3.E5X.2.1.1.m1.5.6.2.3.1.cmml"><mo stretchy="false" id="S3.E5X.2.1.1.m1.5.6.2.3.2.1" xref="S3.E5X.2.1.1.m1.5.6.2.3.1.cmml">(</mo><mi id="S3.E5X.2.1.1.m1.3.3" xref="S3.E5X.2.1.1.m1.3.3.cmml">x</mi><mo id="S3.E5X.2.1.1.m1.5.6.2.3.2.2" xref="S3.E5X.2.1.1.m1.5.6.2.3.1.cmml">,</mo><mi id="S3.E5X.2.1.1.m1.4.4" xref="S3.E5X.2.1.1.m1.4.4.cmml">w</mi><mo stretchy="false" id="S3.E5X.2.1.1.m1.5.6.2.3.2.3" xref="S3.E5X.2.1.1.m1.5.6.2.3.1.cmml">)</mo></mrow></mrow><mo id="S3.E5X.2.1.1.m1.5.6.1" xref="S3.E5X.2.1.1.m1.5.6.1.cmml">=</mo><mrow id="S3.E5X.2.1.1.m1.5.6.3" xref="S3.E5X.2.1.1.m1.5.6.3.cmml"><mrow id="S3.E5X.2.1.1.m1.5.6.3.2" xref="S3.E5X.2.1.1.m1.5.6.3.2.cmml"><mstyle displaystyle="true" id="S3.E5X.2.1.1.m1.5.6.3.2.2" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.cmml"><mfrac id="S3.E5X.2.1.1.m1.5.6.3.2.2a" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.cmml"><msub id="S3.E5X.2.1.1.m1.5.6.3.2.2.2" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.2" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.2.cmml">w</mi><mrow id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.cmml"><mi id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.2" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.1" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.1.cmml">​</mo><mi id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.3" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.1a" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.1.cmml">​</mo><mi id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.4" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.4.cmml">f</mi></mrow></msub><mi id="S3.E5X.2.1.1.m1.5.6.3.2.2.3" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.3.cmml">w</mi></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E5X.2.1.1.m1.5.6.3.2.1" xref="S3.E5X.2.1.1.m1.5.6.3.2.1.cmml">​</mo><mtext id="S3.E5X.2.1.1.m1.5.6.3.2.3" xref="S3.E5X.2.1.1.m1.5.6.3.2.3a.cmml">Sinusoidal</mtext><mo lspace="0em" rspace="0em" id="S3.E5X.2.1.1.m1.5.6.3.2.1a" xref="S3.E5X.2.1.1.m1.5.6.3.2.1.cmml">​</mo><mrow id="S3.E5X.2.1.1.m1.5.6.3.2.4.2" xref="S3.E5X.2.1.1.m1.5.6.3.2.cmml"><mo stretchy="false" id="S3.E5X.2.1.1.m1.5.6.3.2.4.2.1" xref="S3.E5X.2.1.1.m1.5.6.3.2.cmml">(</mo><mi id="S3.E5X.2.1.1.m1.5.5" xref="S3.E5X.2.1.1.m1.5.5.cmml">x</mi><mo rspace="0.055em" stretchy="false" id="S3.E5X.2.1.1.m1.5.6.3.2.4.2.2" xref="S3.E5X.2.1.1.m1.5.6.3.2.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.E5X.2.1.1.m1.5.6.3.1" xref="S3.E5X.2.1.1.m1.5.6.3.1.cmml">⊙</mo><msub id="S3.E5X.2.1.1.m1.5.6.3.3" xref="S3.E5X.2.1.1.m1.5.6.3.3.cmml"><mi id="S3.E5X.2.1.1.m1.5.6.3.3.2" xref="S3.E5X.2.1.1.m1.5.6.3.3.2.cmml">q</mi><mrow id="S3.E5X.2.1.1.m1.2.2.2.4" xref="S3.E5X.2.1.1.m1.2.2.2.3.cmml"><mi id="S3.E5X.2.1.1.m1.1.1.1.1" xref="S3.E5X.2.1.1.m1.1.1.1.1.cmml">c</mi><mo id="S3.E5X.2.1.1.m1.2.2.2.4.1" xref="S3.E5X.2.1.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.E5X.2.1.1.m1.2.2.2.2" xref="S3.E5X.2.1.1.m1.2.2.2.2.cmml">x</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5X.2.1.1.m1.5b"><apply id="S3.E5X.2.1.1.m1.5.6.cmml" xref="S3.E5X.2.1.1.m1.5.6"><eq id="S3.E5X.2.1.1.m1.5.6.1.cmml" xref="S3.E5X.2.1.1.m1.5.6.1"></eq><apply id="S3.E5X.2.1.1.m1.5.6.2.cmml" xref="S3.E5X.2.1.1.m1.5.6.2"><times id="S3.E5X.2.1.1.m1.5.6.2.1.cmml" xref="S3.E5X.2.1.1.m1.5.6.2.1"></times><apply id="S3.E5X.2.1.1.m1.5.6.2.2.cmml" xref="S3.E5X.2.1.1.m1.5.6.2.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.5.6.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.5.6.2.2">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.5.6.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.5.6.2.2.2">𝑝</ci><ci id="S3.E5X.2.1.1.m1.5.6.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.5.6.2.2.3">𝑘</ci></apply><interval closure="open" id="S3.E5X.2.1.1.m1.5.6.2.3.1.cmml" xref="S3.E5X.2.1.1.m1.5.6.2.3.2"><ci id="S3.E5X.2.1.1.m1.3.3.cmml" xref="S3.E5X.2.1.1.m1.3.3">𝑥</ci><ci id="S3.E5X.2.1.1.m1.4.4.cmml" xref="S3.E5X.2.1.1.m1.4.4">𝑤</ci></interval></apply><apply id="S3.E5X.2.1.1.m1.5.6.3.cmml" xref="S3.E5X.2.1.1.m1.5.6.3"><csymbol cd="latexml" id="S3.E5X.2.1.1.m1.5.6.3.1.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.1">direct-product</csymbol><apply id="S3.E5X.2.1.1.m1.5.6.3.2.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2"><times id="S3.E5X.2.1.1.m1.5.6.3.2.1.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.1"></times><apply id="S3.E5X.2.1.1.m1.5.6.3.2.2.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2"><divide id="S3.E5X.2.1.1.m1.5.6.3.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2"></divide><apply id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.2">𝑤</ci><apply id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3"><times id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.1.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.1"></times><ci id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.2.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.2">𝑟</ci><ci id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.3.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.3">𝑒</ci><ci id="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.4.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.2.3.4">𝑓</ci></apply></apply><ci id="S3.E5X.2.1.1.m1.5.6.3.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.2.3">𝑤</ci></apply><ci id="S3.E5X.2.1.1.m1.5.6.3.2.3a.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.3"><mtext id="S3.E5X.2.1.1.m1.5.6.3.2.3.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.2.3">Sinusoidal</mtext></ci><ci id="S3.E5X.2.1.1.m1.5.5.cmml" xref="S3.E5X.2.1.1.m1.5.5">𝑥</ci></apply><apply id="S3.E5X.2.1.1.m1.5.6.3.3.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.3"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.5.6.3.3.1.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.3">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.5.6.3.3.2.cmml" xref="S3.E5X.2.1.1.m1.5.6.3.3.2">𝑞</ci><list id="S3.E5X.2.1.1.m1.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.4"><ci id="S3.E5X.2.1.1.m1.1.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.1.1">𝑐</ci><ci id="S3.E5X.2.1.1.m1.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2">𝑥</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5X.2.1.1.m1.5c">\displaystyle p_{k}(x,w)=\frac{w_{ref}}{w}\text{Sinusoidal}(x)\odot q_{c,x}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(5)</span></td>
</tr>
<tr id="S3.E5Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5Xa.2.1.1.m1.5" class="ltx_Math" alttext="\displaystyle p_{k}(y,h)=\frac{h_{ref}}{h}\text{Sinusoidal}(y)\odot q_{c,y}" display="inline"><semantics id="S3.E5Xa.2.1.1.m1.5a"><mrow id="S3.E5Xa.2.1.1.m1.5.6" xref="S3.E5Xa.2.1.1.m1.5.6.cmml"><mrow id="S3.E5Xa.2.1.1.m1.5.6.2" xref="S3.E5Xa.2.1.1.m1.5.6.2.cmml"><msub id="S3.E5Xa.2.1.1.m1.5.6.2.2" xref="S3.E5Xa.2.1.1.m1.5.6.2.2.cmml"><mi id="S3.E5Xa.2.1.1.m1.5.6.2.2.2" xref="S3.E5Xa.2.1.1.m1.5.6.2.2.2.cmml">p</mi><mi id="S3.E5Xa.2.1.1.m1.5.6.2.2.3" xref="S3.E5Xa.2.1.1.m1.5.6.2.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.5.6.2.1" xref="S3.E5Xa.2.1.1.m1.5.6.2.1.cmml">​</mo><mrow id="S3.E5Xa.2.1.1.m1.5.6.2.3.2" xref="S3.E5Xa.2.1.1.m1.5.6.2.3.1.cmml"><mo stretchy="false" id="S3.E5Xa.2.1.1.m1.5.6.2.3.2.1" xref="S3.E5Xa.2.1.1.m1.5.6.2.3.1.cmml">(</mo><mi id="S3.E5Xa.2.1.1.m1.3.3" xref="S3.E5Xa.2.1.1.m1.3.3.cmml">y</mi><mo id="S3.E5Xa.2.1.1.m1.5.6.2.3.2.2" xref="S3.E5Xa.2.1.1.m1.5.6.2.3.1.cmml">,</mo><mi id="S3.E5Xa.2.1.1.m1.4.4" xref="S3.E5Xa.2.1.1.m1.4.4.cmml">h</mi><mo stretchy="false" id="S3.E5Xa.2.1.1.m1.5.6.2.3.2.3" xref="S3.E5Xa.2.1.1.m1.5.6.2.3.1.cmml">)</mo></mrow></mrow><mo id="S3.E5Xa.2.1.1.m1.5.6.1" xref="S3.E5Xa.2.1.1.m1.5.6.1.cmml">=</mo><mrow id="S3.E5Xa.2.1.1.m1.5.6.3" xref="S3.E5Xa.2.1.1.m1.5.6.3.cmml"><mrow id="S3.E5Xa.2.1.1.m1.5.6.3.2" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.cmml"><mstyle displaystyle="true" id="S3.E5Xa.2.1.1.m1.5.6.3.2.2" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.cmml"><mfrac id="S3.E5Xa.2.1.1.m1.5.6.3.2.2a" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.cmml"><msub id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.cmml"><mi id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.2" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.2.cmml">h</mi><mrow id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.cmml"><mi id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.2" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.1" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.1.cmml">​</mo><mi id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.3" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.1a" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.1.cmml">​</mo><mi id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.4" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.4.cmml">f</mi></mrow></msub><mi id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.3" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.3.cmml">h</mi></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.5.6.3.2.1" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.1.cmml">​</mo><mtext id="S3.E5Xa.2.1.1.m1.5.6.3.2.3" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.3a.cmml">Sinusoidal</mtext><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.5.6.3.2.1a" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.1.cmml">​</mo><mrow id="S3.E5Xa.2.1.1.m1.5.6.3.2.4.2" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.cmml"><mo stretchy="false" id="S3.E5Xa.2.1.1.m1.5.6.3.2.4.2.1" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.cmml">(</mo><mi id="S3.E5Xa.2.1.1.m1.5.5" xref="S3.E5Xa.2.1.1.m1.5.5.cmml">y</mi><mo rspace="0.055em" stretchy="false" id="S3.E5Xa.2.1.1.m1.5.6.3.2.4.2.2" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.E5Xa.2.1.1.m1.5.6.3.1" xref="S3.E5Xa.2.1.1.m1.5.6.3.1.cmml">⊙</mo><msub id="S3.E5Xa.2.1.1.m1.5.6.3.3" xref="S3.E5Xa.2.1.1.m1.5.6.3.3.cmml"><mi id="S3.E5Xa.2.1.1.m1.5.6.3.3.2" xref="S3.E5Xa.2.1.1.m1.5.6.3.3.2.cmml">q</mi><mrow id="S3.E5Xa.2.1.1.m1.2.2.2.4" xref="S3.E5Xa.2.1.1.m1.2.2.2.3.cmml"><mi id="S3.E5Xa.2.1.1.m1.1.1.1.1" xref="S3.E5Xa.2.1.1.m1.1.1.1.1.cmml">c</mi><mo id="S3.E5Xa.2.1.1.m1.2.2.2.4.1" xref="S3.E5Xa.2.1.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.E5Xa.2.1.1.m1.2.2.2.2" xref="S3.E5Xa.2.1.1.m1.2.2.2.2.cmml">y</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5Xa.2.1.1.m1.5b"><apply id="S3.E5Xa.2.1.1.m1.5.6.cmml" xref="S3.E5Xa.2.1.1.m1.5.6"><eq id="S3.E5Xa.2.1.1.m1.5.6.1.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.1"></eq><apply id="S3.E5Xa.2.1.1.m1.5.6.2.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.2"><times id="S3.E5Xa.2.1.1.m1.5.6.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.2.1"></times><apply id="S3.E5Xa.2.1.1.m1.5.6.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.2.2"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.5.6.2.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.2.2">subscript</csymbol><ci id="S3.E5Xa.2.1.1.m1.5.6.2.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.2.2.2">𝑝</ci><ci id="S3.E5Xa.2.1.1.m1.5.6.2.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.2.2.3">𝑘</ci></apply><interval closure="open" id="S3.E5Xa.2.1.1.m1.5.6.2.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.2.3.2"><ci id="S3.E5Xa.2.1.1.m1.3.3.cmml" xref="S3.E5Xa.2.1.1.m1.3.3">𝑦</ci><ci id="S3.E5Xa.2.1.1.m1.4.4.cmml" xref="S3.E5Xa.2.1.1.m1.4.4">ℎ</ci></interval></apply><apply id="S3.E5Xa.2.1.1.m1.5.6.3.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3"><csymbol cd="latexml" id="S3.E5Xa.2.1.1.m1.5.6.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.1">direct-product</csymbol><apply id="S3.E5Xa.2.1.1.m1.5.6.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2"><times id="S3.E5Xa.2.1.1.m1.5.6.3.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.1"></times><apply id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2"><divide id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2"></divide><apply id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2">subscript</csymbol><ci id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.2">ℎ</ci><apply id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3"><times id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.1"></times><ci id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.2">𝑟</ci><ci id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.3.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.3">𝑒</ci><ci id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.4.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.2.3.4">𝑓</ci></apply></apply><ci id="S3.E5Xa.2.1.1.m1.5.6.3.2.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.2.3">ℎ</ci></apply><ci id="S3.E5Xa.2.1.1.m1.5.6.3.2.3a.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.3"><mtext id="S3.E5Xa.2.1.1.m1.5.6.3.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.2.3">Sinusoidal</mtext></ci><ci id="S3.E5Xa.2.1.1.m1.5.5.cmml" xref="S3.E5Xa.2.1.1.m1.5.5">𝑦</ci></apply><apply id="S3.E5Xa.2.1.1.m1.5.6.3.3.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.3"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.5.6.3.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.3">subscript</csymbol><ci id="S3.E5Xa.2.1.1.m1.5.6.3.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.5.6.3.3.2">𝑞</ci><list id="S3.E5Xa.2.1.1.m1.2.2.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.2.4"><ci id="S3.E5Xa.2.1.1.m1.1.1.1.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1.1.1">𝑐</ci><ci id="S3.E5Xa.2.1.1.m1.2.2.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2.2.2">𝑦</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5Xa.2.1.1.m1.5c">\displaystyle p_{k}(y,h)=\frac{h_{ref}}{h}\text{Sinusoidal}(y)\odot q_{c,y}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p id="S3.SS3.p2.34" class="ltx_p">At the same time, image feature at each coordinate is also assigned with a PE vector according to the Sinusoidal function. As a result, each element in RoI feature <math id="S3.SS3.p2.29.m1.1" class="ltx_Math" alttext="f_{i}" display="inline"><semantics id="S3.SS3.p2.29.m1.1a"><msub id="S3.SS3.p2.29.m1.1.1" xref="S3.SS3.p2.29.m1.1.1.cmml"><mi id="S3.SS3.p2.29.m1.1.1.2" xref="S3.SS3.p2.29.m1.1.1.2.cmml">f</mi><mi id="S3.SS3.p2.29.m1.1.1.3" xref="S3.SS3.p2.29.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.29.m1.1b"><apply id="S3.SS3.p2.29.m1.1.1.cmml" xref="S3.SS3.p2.29.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.29.m1.1.1.1.cmml" xref="S3.SS3.p2.29.m1.1.1">subscript</csymbol><ci id="S3.SS3.p2.29.m1.1.1.2.cmml" xref="S3.SS3.p2.29.m1.1.1.2">𝑓</ci><ci id="S3.SS3.p2.29.m1.1.1.3.cmml" xref="S3.SS3.p2.29.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.29.m1.1c">f_{i}</annotation></semantics></math> has its unique positional representation, denoted by <math id="S3.SS3.p2.30.m2.1" class="ltx_Math" alttext="p_{f}" display="inline"><semantics id="S3.SS3.p2.30.m2.1a"><msub id="S3.SS3.p2.30.m2.1.1" xref="S3.SS3.p2.30.m2.1.1.cmml"><mi id="S3.SS3.p2.30.m2.1.1.2" xref="S3.SS3.p2.30.m2.1.1.2.cmml">p</mi><mi id="S3.SS3.p2.30.m2.1.1.3" xref="S3.SS3.p2.30.m2.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.30.m2.1b"><apply id="S3.SS3.p2.30.m2.1.1.cmml" xref="S3.SS3.p2.30.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.30.m2.1.1.1.cmml" xref="S3.SS3.p2.30.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.30.m2.1.1.2.cmml" xref="S3.SS3.p2.30.m2.1.1.2">𝑝</ci><ci id="S3.SS3.p2.30.m2.1.1.3.cmml" xref="S3.SS3.p2.30.m2.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.30.m2.1c">p_{f}</annotation></semantics></math>. Note that <math id="S3.SS3.p2.31.m3.1" class="ltx_Math" alttext="p_{f}" display="inline"><semantics id="S3.SS3.p2.31.m3.1a"><msub id="S3.SS3.p2.31.m3.1.1" xref="S3.SS3.p2.31.m3.1.1.cmml"><mi id="S3.SS3.p2.31.m3.1.1.2" xref="S3.SS3.p2.31.m3.1.1.2.cmml">p</mi><mi id="S3.SS3.p2.31.m3.1.1.3" xref="S3.SS3.p2.31.m3.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.31.m3.1b"><apply id="S3.SS3.p2.31.m3.1.1.cmml" xref="S3.SS3.p2.31.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.31.m3.1.1.1.cmml" xref="S3.SS3.p2.31.m3.1.1">subscript</csymbol><ci id="S3.SS3.p2.31.m3.1.1.2.cmml" xref="S3.SS3.p2.31.m3.1.1.2">𝑝</ci><ci id="S3.SS3.p2.31.m3.1.1.3.cmml" xref="S3.SS3.p2.31.m3.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.31.m3.1c">p_{f}</annotation></semantics></math> and <math id="S3.SS3.p2.32.m4.1" class="ltx_Math" alttext="p_{k}" display="inline"><semantics id="S3.SS3.p2.32.m4.1a"><msub id="S3.SS3.p2.32.m4.1.1" xref="S3.SS3.p2.32.m4.1.1.cmml"><mi id="S3.SS3.p2.32.m4.1.1.2" xref="S3.SS3.p2.32.m4.1.1.2.cmml">p</mi><mi id="S3.SS3.p2.32.m4.1.1.3" xref="S3.SS3.p2.32.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.32.m4.1b"><apply id="S3.SS3.p2.32.m4.1.1.cmml" xref="S3.SS3.p2.32.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.32.m4.1.1.1.cmml" xref="S3.SS3.p2.32.m4.1.1">subscript</csymbol><ci id="S3.SS3.p2.32.m4.1.1.2.cmml" xref="S3.SS3.p2.32.m4.1.1.2">𝑝</ci><ci id="S3.SS3.p2.32.m4.1.1.3.cmml" xref="S3.SS3.p2.32.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.32.m4.1c">p_{k}</annotation></semantics></math> have the same dimensions, and they are concatenated with <math id="S3.SS3.p2.33.m5.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S3.SS3.p2.33.m5.1a"><mi id="S3.SS3.p2.33.m5.1.1" xref="S3.SS3.p2.33.m5.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.33.m5.1b"><ci id="S3.SS3.p2.33.m5.1.1.cmml" xref="S3.SS3.p2.33.m5.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.33.m5.1c">f</annotation></semantics></math> and <math id="S3.SS3.p2.34.m6.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS3.p2.34.m6.1a"><mi id="S3.SS3.p2.34.m6.1.1" xref="S3.SS3.p2.34.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.34.m6.1b"><ci id="S3.SS3.p2.34.m6.1.1.cmml" xref="S3.SS3.p2.34.m6.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.34.m6.1c">k</annotation></semantics></math>, respectively, completing the position-aware dynamic conv.</p>
</div>
<figure id="S3.T2" class="ltx_table">
<table id="S3.T2.5" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T2.5.5" class="ltx_tr">
<td id="S3.T2.5.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">Method</td>
<td id="S3.T2.5.5.7" class="ltx_td ltx_align_center ltx_border_tt">Backbone</td>
<td id="S3.T2.5.5.8" class="ltx_td ltx_align_center ltx_border_tt">Epoch</td>
<td id="S3.T2.5.5.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">Params</td>
<td id="S3.T2.5.5.10" class="ltx_td ltx_align_center ltx_border_tt">AP</td>
<td id="S3.T2.1.1.1" class="ltx_td ltx_align_center ltx_border_tt"><math id="S3.T2.1.1.1.m1.1" class="ltx_Math" alttext="\rm{AP}_{50}" display="inline"><semantics id="S3.T2.1.1.1.m1.1a"><msub id="S3.T2.1.1.1.m1.1.1" xref="S3.T2.1.1.1.m1.1.1.cmml"><mi id="S3.T2.1.1.1.m1.1.1.2" xref="S3.T2.1.1.1.m1.1.1.2.cmml">AP</mi><mn id="S3.T2.1.1.1.m1.1.1.3" xref="S3.T2.1.1.1.m1.1.1.3.cmml">50</mn></msub><annotation-xml encoding="MathML-Content" id="S3.T2.1.1.1.m1.1b"><apply id="S3.T2.1.1.1.m1.1.1.cmml" xref="S3.T2.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T2.1.1.1.m1.1.1.1.cmml" xref="S3.T2.1.1.1.m1.1.1">subscript</csymbol><ci id="S3.T2.1.1.1.m1.1.1.2.cmml" xref="S3.T2.1.1.1.m1.1.1.2">AP</ci><cn type="integer" id="S3.T2.1.1.1.m1.1.1.3.cmml" xref="S3.T2.1.1.1.m1.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.1.1.1.m1.1c">\rm{AP}_{50}</annotation></semantics></math></td>
<td id="S3.T2.2.2.2" class="ltx_td ltx_align_center ltx_border_tt"><math id="S3.T2.2.2.2.m1.1" class="ltx_Math" alttext="\rm{AP}_{75}" display="inline"><semantics id="S3.T2.2.2.2.m1.1a"><msub id="S3.T2.2.2.2.m1.1.1" xref="S3.T2.2.2.2.m1.1.1.cmml"><mi id="S3.T2.2.2.2.m1.1.1.2" xref="S3.T2.2.2.2.m1.1.1.2.cmml">AP</mi><mn id="S3.T2.2.2.2.m1.1.1.3" xref="S3.T2.2.2.2.m1.1.1.3.cmml">75</mn></msub><annotation-xml encoding="MathML-Content" id="S3.T2.2.2.2.m1.1b"><apply id="S3.T2.2.2.2.m1.1.1.cmml" xref="S3.T2.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S3.T2.2.2.2.m1.1.1.1.cmml" xref="S3.T2.2.2.2.m1.1.1">subscript</csymbol><ci id="S3.T2.2.2.2.m1.1.1.2.cmml" xref="S3.T2.2.2.2.m1.1.1.2">AP</ci><cn type="integer" id="S3.T2.2.2.2.m1.1.1.3.cmml" xref="S3.T2.2.2.2.m1.1.1.3">75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.2.2.2.m1.1c">\rm{AP}_{75}</annotation></semantics></math></td>
<td id="S3.T2.3.3.3" class="ltx_td ltx_align_center ltx_border_tt"><math id="S3.T2.3.3.3.m1.1" class="ltx_Math" alttext="\rm{AP}_{S}" display="inline"><semantics id="S3.T2.3.3.3.m1.1a"><msub id="S3.T2.3.3.3.m1.1.1" xref="S3.T2.3.3.3.m1.1.1.cmml"><mi id="S3.T2.3.3.3.m1.1.1.2" xref="S3.T2.3.3.3.m1.1.1.2.cmml">AP</mi><mi mathvariant="normal" id="S3.T2.3.3.3.m1.1.1.3" xref="S3.T2.3.3.3.m1.1.1.3.cmml">S</mi></msub><annotation-xml encoding="MathML-Content" id="S3.T2.3.3.3.m1.1b"><apply id="S3.T2.3.3.3.m1.1.1.cmml" xref="S3.T2.3.3.3.m1.1.1"><csymbol cd="ambiguous" id="S3.T2.3.3.3.m1.1.1.1.cmml" xref="S3.T2.3.3.3.m1.1.1">subscript</csymbol><ci id="S3.T2.3.3.3.m1.1.1.2.cmml" xref="S3.T2.3.3.3.m1.1.1.2">AP</ci><ci id="S3.T2.3.3.3.m1.1.1.3.cmml" xref="S3.T2.3.3.3.m1.1.1.3">S</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.3.3.3.m1.1c">\rm{AP}_{S}</annotation></semantics></math></td>
<td id="S3.T2.4.4.4" class="ltx_td ltx_align_center ltx_border_tt"><math id="S3.T2.4.4.4.m1.1" class="ltx_Math" alttext="\rm{AP}_{M}" display="inline"><semantics id="S3.T2.4.4.4.m1.1a"><msub id="S3.T2.4.4.4.m1.1.1" xref="S3.T2.4.4.4.m1.1.1.cmml"><mi id="S3.T2.4.4.4.m1.1.1.2" xref="S3.T2.4.4.4.m1.1.1.2.cmml">AP</mi><mi mathvariant="normal" id="S3.T2.4.4.4.m1.1.1.3" xref="S3.T2.4.4.4.m1.1.1.3.cmml">M</mi></msub><annotation-xml encoding="MathML-Content" id="S3.T2.4.4.4.m1.1b"><apply id="S3.T2.4.4.4.m1.1.1.cmml" xref="S3.T2.4.4.4.m1.1.1"><csymbol cd="ambiguous" id="S3.T2.4.4.4.m1.1.1.1.cmml" xref="S3.T2.4.4.4.m1.1.1">subscript</csymbol><ci id="S3.T2.4.4.4.m1.1.1.2.cmml" xref="S3.T2.4.4.4.m1.1.1.2">AP</ci><ci id="S3.T2.4.4.4.m1.1.1.3.cmml" xref="S3.T2.4.4.4.m1.1.1.3">M</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.4.4.4.m1.1c">\rm{AP}_{M}</annotation></semantics></math></td>
<td id="S3.T2.5.5.5" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt"><math id="S3.T2.5.5.5.m1.1" class="ltx_Math" alttext="\rm{AP}_{L}" display="inline"><semantics id="S3.T2.5.5.5.m1.1a"><msub id="S3.T2.5.5.5.m1.1.1" xref="S3.T2.5.5.5.m1.1.1.cmml"><mi id="S3.T2.5.5.5.m1.1.1.2" xref="S3.T2.5.5.5.m1.1.1.2.cmml">AP</mi><mi mathvariant="normal" id="S3.T2.5.5.5.m1.1.1.3" xref="S3.T2.5.5.5.m1.1.1.3.cmml">L</mi></msub><annotation-xml encoding="MathML-Content" id="S3.T2.5.5.5.m1.1b"><apply id="S3.T2.5.5.5.m1.1.1.cmml" xref="S3.T2.5.5.5.m1.1.1"><csymbol cd="ambiguous" id="S3.T2.5.5.5.m1.1.1.1.cmml" xref="S3.T2.5.5.5.m1.1.1">subscript</csymbol><ci id="S3.T2.5.5.5.m1.1.1.2.cmml" xref="S3.T2.5.5.5.m1.1.1.2">AP</ci><ci id="S3.T2.5.5.5.m1.1.1.3.cmml" xref="S3.T2.5.5.5.m1.1.1.3">L</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.5.5.5.m1.1c">\rm{AP}_{L}</annotation></semantics></math></td>
</tr>
<tr id="S3.T2.5.6.1" class="ltx_tr">
<td id="S3.T2.5.6.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>
</td>
<td id="S3.T2.5.6.1.2" class="ltx_td ltx_align_center ltx_border_t">ResNet-50</td>
<td id="S3.T2.5.6.1.3" class="ltx_td ltx_align_center ltx_border_t">500</td>
<td id="S3.T2.5.6.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">41M</td>
<td id="S3.T2.5.6.1.5" class="ltx_td ltx_align_center ltx_border_t">42.0</td>
<td id="S3.T2.5.6.1.6" class="ltx_td ltx_align_center ltx_border_t">62.4</td>
<td id="S3.T2.5.6.1.7" class="ltx_td ltx_align_center ltx_border_t">44.2</td>
<td id="S3.T2.5.6.1.8" class="ltx_td ltx_align_center ltx_border_t">20.5</td>
<td id="S3.T2.5.6.1.9" class="ltx_td ltx_align_center ltx_border_t">45.8</td>
<td id="S3.T2.5.6.1.10" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">61.1</td>
</tr>
<tr id="S3.T2.5.7.2" class="ltx_tr">
<td id="S3.T2.5.7.2.1" class="ltx_td ltx_align_center ltx_border_r">Deformable DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite>
</td>
<td id="S3.T2.5.7.2.2" class="ltx_td ltx_align_center">ResNet-50</td>
<td id="S3.T2.5.7.2.3" class="ltx_td ltx_align_center">50</td>
<td id="S3.T2.5.7.2.4" class="ltx_td ltx_align_center ltx_border_r">40M</td>
<td id="S3.T2.5.7.2.5" class="ltx_td ltx_align_center">43.8</td>
<td id="S3.T2.5.7.2.6" class="ltx_td ltx_align_center">62.6</td>
<td id="S3.T2.5.7.2.7" class="ltx_td ltx_align_center">47.7</td>
<td id="S3.T2.5.7.2.8" class="ltx_td ltx_align_center">26.4</td>
<td id="S3.T2.5.7.2.9" class="ltx_td ltx_align_center">47.1</td>
<td id="S3.T2.5.7.2.10" class="ltx_td ltx_nopad_r ltx_align_center">58.0</td>
</tr>
<tr id="S3.T2.5.8.3" class="ltx_tr">
<td id="S3.T2.5.8.3.1" class="ltx_td ltx_align_center ltx_border_r">Conditional DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>
</td>
<td id="S3.T2.5.8.3.2" class="ltx_td ltx_align_center">ResNet-50</td>
<td id="S3.T2.5.8.3.3" class="ltx_td ltx_align_center">50</td>
<td id="S3.T2.5.8.3.4" class="ltx_td ltx_align_center ltx_border_r">44M</td>
<td id="S3.T2.5.8.3.5" class="ltx_td ltx_align_center">40.9</td>
<td id="S3.T2.5.8.3.6" class="ltx_td ltx_align_center">61.8</td>
<td id="S3.T2.5.8.3.7" class="ltx_td ltx_align_center">43.3</td>
<td id="S3.T2.5.8.3.8" class="ltx_td ltx_align_center">20.8</td>
<td id="S3.T2.5.8.3.9" class="ltx_td ltx_align_center">44.6</td>
<td id="S3.T2.5.8.3.10" class="ltx_td ltx_nopad_r ltx_align_center">59.2</td>
</tr>
<tr id="S3.T2.5.9.4" class="ltx_tr">
<td id="S3.T2.5.9.4.1" class="ltx_td ltx_align_center ltx_border_r">DAB-DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>
</td>
<td id="S3.T2.5.9.4.2" class="ltx_td ltx_align_center">ResNet-50</td>
<td id="S3.T2.5.9.4.3" class="ltx_td ltx_align_center">50</td>
<td id="S3.T2.5.9.4.4" class="ltx_td ltx_align_center ltx_border_r">44M</td>
<td id="S3.T2.5.9.4.5" class="ltx_td ltx_align_center">42.2</td>
<td id="S3.T2.5.9.4.6" class="ltx_td ltx_align_center">63.1</td>
<td id="S3.T2.5.9.4.7" class="ltx_td ltx_align_center">44.7</td>
<td id="S3.T2.5.9.4.8" class="ltx_td ltx_align_center">21.5</td>
<td id="S3.T2.5.9.4.9" class="ltx_td ltx_align_center">45.7</td>
<td id="S3.T2.5.9.4.10" class="ltx_td ltx_nopad_r ltx_align_center">60.3</td>
</tr>
<tr id="S3.T2.5.10.5" class="ltx_tr">
<td id="S3.T2.5.10.5.1" class="ltx_td ltx_align_center ltx_border_r">DN-DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>
</td>
<td id="S3.T2.5.10.5.2" class="ltx_td ltx_align_center">ResNet-50</td>
<td id="S3.T2.5.10.5.3" class="ltx_td ltx_align_center">50</td>
<td id="S3.T2.5.10.5.4" class="ltx_td ltx_align_center ltx_border_r">44M</td>
<td id="S3.T2.5.10.5.5" class="ltx_td ltx_align_center">44.1</td>
<td id="S3.T2.5.10.5.6" class="ltx_td ltx_align_center">64.4</td>
<td id="S3.T2.5.10.5.7" class="ltx_td ltx_align_center">46.7</td>
<td id="S3.T2.5.10.5.8" class="ltx_td ltx_align_center">22.9</td>
<td id="S3.T2.5.10.5.9" class="ltx_td ltx_align_center">48.0</td>
<td id="S3.T2.5.10.5.10" class="ltx_td ltx_nopad_r ltx_align_center">63.4</td>
</tr>
<tr id="S3.T2.5.11.6" class="ltx_tr">
<td id="S3.T2.5.11.6.1" class="ltx_td ltx_align_center ltx_border_r">
<span id="S3.T2.5.11.6.1.1" class="ltx_ERROR undefined">\hdashline</span>Sparse R-CNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>
</td>
<td id="S3.T2.5.11.6.2" class="ltx_td ltx_align_center">ResNet-50</td>
<td id="S3.T2.5.11.6.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.11.6.4" class="ltx_td ltx_align_center ltx_border_r">106M</td>
<td id="S3.T2.5.11.6.5" class="ltx_td ltx_align_center">45.0</td>
<td id="S3.T2.5.11.6.6" class="ltx_td ltx_align_center">63.4</td>
<td id="S3.T2.5.11.6.7" class="ltx_td ltx_align_center">48.2</td>
<td id="S3.T2.5.11.6.8" class="ltx_td ltx_align_center">26.9</td>
<td id="S3.T2.5.11.6.9" class="ltx_td ltx_align_center">47.2</td>
<td id="S3.T2.5.11.6.10" class="ltx_td ltx_nopad_r ltx_align_center">59.5</td>
</tr>
<tr id="S3.T2.5.12.7" class="ltx_tr">
<td id="S3.T2.5.12.7.1" class="ltx_td ltx_align_center ltx_border_r">AdaMixer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>
</td>
<td id="S3.T2.5.12.7.2" class="ltx_td ltx_align_center">ResNet-50</td>
<td id="S3.T2.5.12.7.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.12.7.4" class="ltx_td ltx_align_center ltx_border_r">135M</td>
<td id="S3.T2.5.12.7.5" class="ltx_td ltx_align_center">47.0</td>
<td id="S3.T2.5.12.7.6" class="ltx_td ltx_align_center">66.0</td>
<td id="S3.T2.5.12.7.7" class="ltx_td ltx_align_center">51.1</td>
<td id="S3.T2.5.12.7.8" class="ltx_td ltx_align_center">30.1</td>
<td id="S3.T2.5.12.7.9" class="ltx_td ltx_align_center">50.2</td>
<td id="S3.T2.5.12.7.10" class="ltx_td ltx_nopad_r ltx_align_center">61.8</td>
</tr>
<tr id="S3.T2.5.13.8" class="ltx_tr">
<td id="S3.T2.5.13.8.1" class="ltx_td ltx_align_center ltx_border_r">DiffusionDet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>
</td>
<td id="S3.T2.5.13.8.2" class="ltx_td ltx_align_center">ResNet-50</td>
<td id="S3.T2.5.13.8.3" class="ltx_td ltx_align_center">60</td>
<td id="S3.T2.5.13.8.4" class="ltx_td ltx_align_center ltx_border_r">111M</td>
<td id="S3.T2.5.13.8.5" class="ltx_td ltx_align_center">45.8</td>
<td id="S3.T2.5.13.8.6" class="ltx_td ltx_align_center">65.6</td>
<td id="S3.T2.5.13.8.7" class="ltx_td ltx_align_center">49.2</td>
<td id="S3.T2.5.13.8.8" class="ltx_td ltx_align_center">29.7</td>
<td id="S3.T2.5.13.8.9" class="ltx_td ltx_align_center">48.6</td>
<td id="S3.T2.5.13.8.10" class="ltx_td ltx_nopad_r ltx_align_center">61.1</td>
</tr>
<tr id="S3.T2.5.14.9" class="ltx_tr">
<td id="S3.T2.5.14.9.1" class="ltx_td ltx_align_center ltx_border_r">RecursiveDet (Sparse R-CNN)</td>
<td id="S3.T2.5.14.9.2" class="ltx_td ltx_align_center">ResNet-50</td>
<td id="S3.T2.5.14.9.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.14.9.4" class="ltx_td ltx_align_center ltx_border_r">55M</td>
<td id="S3.T2.5.14.9.5" class="ltx_td ltx_align_center">46.5</td>
<td id="S3.T2.5.14.9.6" class="ltx_td ltx_align_center">65.4</td>
<td id="S3.T2.5.14.9.7" class="ltx_td ltx_align_center">50.9</td>
<td id="S3.T2.5.14.9.8" class="ltx_td ltx_align_center">29.7</td>
<td id="S3.T2.5.14.9.9" class="ltx_td ltx_align_center">49.1</td>
<td id="S3.T2.5.14.9.10" class="ltx_td ltx_nopad_r ltx_align_center">59.9</td>
</tr>
<tr id="S3.T2.5.15.10" class="ltx_tr">
<td id="S3.T2.5.15.10.1" class="ltx_td ltx_align_center ltx_border_r">RecursiveDet (AdaMixer)</td>
<td id="S3.T2.5.15.10.2" class="ltx_td ltx_align_center">ResNet-50</td>
<td id="S3.T2.5.15.10.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.15.10.4" class="ltx_td ltx_align_center ltx_border_r">43M</td>
<td id="S3.T2.5.15.10.5" class="ltx_td ltx_align_center">47.9</td>
<td id="S3.T2.5.15.10.6" class="ltx_td ltx_align_center">66.7</td>
<td id="S3.T2.5.15.10.7" class="ltx_td ltx_align_center">52.2</td>
<td id="S3.T2.5.15.10.8" class="ltx_td ltx_align_center">32.5</td>
<td id="S3.T2.5.15.10.9" class="ltx_td ltx_align_center">50.7</td>
<td id="S3.T2.5.15.10.10" class="ltx_td ltx_nopad_r ltx_align_center">61.9</td>
</tr>
<tr id="S3.T2.5.16.11" class="ltx_tr">
<td id="S3.T2.5.16.11.1" class="ltx_td ltx_align_center ltx_border_r">RecursiveDet (DiffusionDet)</td>
<td id="S3.T2.5.16.11.2" class="ltx_td ltx_align_center">ResNet-50</td>
<td id="S3.T2.5.16.11.3" class="ltx_td ltx_align_center">60</td>
<td id="S3.T2.5.16.11.4" class="ltx_td ltx_align_center ltx_border_r">57M</td>
<td id="S3.T2.5.16.11.5" class="ltx_td ltx_align_center">47.1</td>
<td id="S3.T2.5.16.11.6" class="ltx_td ltx_align_center">66.8</td>
<td id="S3.T2.5.16.11.7" class="ltx_td ltx_align_center">51.0</td>
<td id="S3.T2.5.16.11.8" class="ltx_td ltx_align_center">30.9</td>
<td id="S3.T2.5.16.11.9" class="ltx_td ltx_align_center">49.3</td>
<td id="S3.T2.5.16.11.10" class="ltx_td ltx_nopad_r ltx_align_center">62.3</td>
</tr>
<tr id="S3.T2.5.17.12" class="ltx_tr">
<td id="S3.T2.5.17.12.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>
</td>
<td id="S3.T2.5.17.12.2" class="ltx_td ltx_align_center ltx_border_t">ResNet-101</td>
<td id="S3.T2.5.17.12.3" class="ltx_td ltx_align_center ltx_border_t">500</td>
<td id="S3.T2.5.17.12.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">60M</td>
<td id="S3.T2.5.17.12.5" class="ltx_td ltx_align_center ltx_border_t">43.5</td>
<td id="S3.T2.5.17.12.6" class="ltx_td ltx_align_center ltx_border_t">63.8</td>
<td id="S3.T2.5.17.12.7" class="ltx_td ltx_align_center ltx_border_t">46.4</td>
<td id="S3.T2.5.17.12.8" class="ltx_td ltx_align_center ltx_border_t">21.9</td>
<td id="S3.T2.5.17.12.9" class="ltx_td ltx_align_center ltx_border_t">48.0</td>
<td id="S3.T2.5.17.12.10" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">61.8</td>
</tr>
<tr id="S3.T2.5.18.13" class="ltx_tr">
<td id="S3.T2.5.18.13.1" class="ltx_td ltx_align_center ltx_border_r">Deformable DETR‡<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite>
</td>
<td id="S3.T2.5.18.13.2" class="ltx_td ltx_align_center">ResNet-101</td>
<td id="S3.T2.5.18.13.3" class="ltx_td ltx_align_center">50</td>
<td id="S3.T2.5.18.13.4" class="ltx_td ltx_align_center ltx_border_r">59M</td>
<td id="S3.T2.5.18.13.5" class="ltx_td ltx_align_center">47.2</td>
<td id="S3.T2.5.18.13.6" class="ltx_td ltx_align_center">66.6</td>
<td id="S3.T2.5.18.13.7" class="ltx_td ltx_align_center">51.1</td>
<td id="S3.T2.5.18.13.8" class="ltx_td ltx_align_center">28.5</td>
<td id="S3.T2.5.18.13.9" class="ltx_td ltx_align_center">50.9</td>
<td id="S3.T2.5.18.13.10" class="ltx_td ltx_nopad_r ltx_align_center">62.4</td>
</tr>
<tr id="S3.T2.5.19.14" class="ltx_tr">
<td id="S3.T2.5.19.14.1" class="ltx_td ltx_align_center ltx_border_r">Conditional DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>
</td>
<td id="S3.T2.5.19.14.2" class="ltx_td ltx_align_center">ResNet-101</td>
<td id="S3.T2.5.19.14.3" class="ltx_td ltx_align_center">50</td>
<td id="S3.T2.5.19.14.4" class="ltx_td ltx_align_center ltx_border_r">63M</td>
<td id="S3.T2.5.19.14.5" class="ltx_td ltx_align_center">42.8</td>
<td id="S3.T2.5.19.14.6" class="ltx_td ltx_align_center">63.7</td>
<td id="S3.T2.5.19.14.7" class="ltx_td ltx_align_center">46.0</td>
<td id="S3.T2.5.19.14.8" class="ltx_td ltx_align_center">21.7</td>
<td id="S3.T2.5.19.14.9" class="ltx_td ltx_align_center">46.6</td>
<td id="S3.T2.5.19.14.10" class="ltx_td ltx_nopad_r ltx_align_center">60.9</td>
</tr>
<tr id="S3.T2.5.20.15" class="ltx_tr">
<td id="S3.T2.5.20.15.1" class="ltx_td ltx_align_center ltx_border_r">DAB-DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>
</td>
<td id="S3.T2.5.20.15.2" class="ltx_td ltx_align_center">ResNet-101</td>
<td id="S3.T2.5.20.15.3" class="ltx_td ltx_align_center">50</td>
<td id="S3.T2.5.20.15.4" class="ltx_td ltx_align_center ltx_border_r">63M</td>
<td id="S3.T2.5.20.15.5" class="ltx_td ltx_align_center">43.5</td>
<td id="S3.T2.5.20.15.6" class="ltx_td ltx_align_center">63.9</td>
<td id="S3.T2.5.20.15.7" class="ltx_td ltx_align_center">46.6</td>
<td id="S3.T2.5.20.15.8" class="ltx_td ltx_align_center">23.6</td>
<td id="S3.T2.5.20.15.9" class="ltx_td ltx_align_center">47.3</td>
<td id="S3.T2.5.20.15.10" class="ltx_td ltx_nopad_r ltx_align_center">61.5</td>
</tr>
<tr id="S3.T2.5.21.16" class="ltx_tr">
<td id="S3.T2.5.21.16.1" class="ltx_td ltx_align_center ltx_border_r">DN-DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>
</td>
<td id="S3.T2.5.21.16.2" class="ltx_td ltx_align_center">ResNet-101</td>
<td id="S3.T2.5.21.16.3" class="ltx_td ltx_align_center">50</td>
<td id="S3.T2.5.21.16.4" class="ltx_td ltx_align_center ltx_border_r">63M</td>
<td id="S3.T2.5.21.16.5" class="ltx_td ltx_align_center">45.2</td>
<td id="S3.T2.5.21.16.6" class="ltx_td ltx_align_center">65.5</td>
<td id="S3.T2.5.21.16.7" class="ltx_td ltx_align_center">48.3</td>
<td id="S3.T2.5.21.16.8" class="ltx_td ltx_align_center">24.1</td>
<td id="S3.T2.5.21.16.9" class="ltx_td ltx_align_center">49.1</td>
<td id="S3.T2.5.21.16.10" class="ltx_td ltx_nopad_r ltx_align_center">65.1</td>
</tr>
<tr id="S3.T2.5.22.17" class="ltx_tr">
<td id="S3.T2.5.22.17.1" class="ltx_td ltx_align_center ltx_border_r">
<span id="S3.T2.5.22.17.1.1" class="ltx_ERROR undefined">\hdashline</span>Sparse R-CNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>
</td>
<td id="S3.T2.5.22.17.2" class="ltx_td ltx_align_center">ResNet-101</td>
<td id="S3.T2.5.22.17.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.22.17.4" class="ltx_td ltx_align_center ltx_border_r">125M</td>
<td id="S3.T2.5.22.17.5" class="ltx_td ltx_align_center">46.4</td>
<td id="S3.T2.5.22.17.6" class="ltx_td ltx_align_center">64.6</td>
<td id="S3.T2.5.22.17.7" class="ltx_td ltx_align_center">49.5</td>
<td id="S3.T2.5.22.17.8" class="ltx_td ltx_align_center">28.3</td>
<td id="S3.T2.5.22.17.9" class="ltx_td ltx_align_center">48.3</td>
<td id="S3.T2.5.22.17.10" class="ltx_td ltx_nopad_r ltx_align_center">61.6</td>
</tr>
<tr id="S3.T2.5.23.18" class="ltx_tr">
<td id="S3.T2.5.23.18.1" class="ltx_td ltx_align_center ltx_border_r">AdaMixer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>
</td>
<td id="S3.T2.5.23.18.2" class="ltx_td ltx_align_center">ResNet-101</td>
<td id="S3.T2.5.23.18.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.23.18.4" class="ltx_td ltx_align_center ltx_border_r">154M</td>
<td id="S3.T2.5.23.18.5" class="ltx_td ltx_align_center">48.0</td>
<td id="S3.T2.5.23.18.6" class="ltx_td ltx_align_center">67.0</td>
<td id="S3.T2.5.23.18.7" class="ltx_td ltx_align_center">52.4</td>
<td id="S3.T2.5.23.18.8" class="ltx_td ltx_align_center">30.0</td>
<td id="S3.T2.5.23.18.9" class="ltx_td ltx_align_center">51.2</td>
<td id="S3.T2.5.23.18.10" class="ltx_td ltx_nopad_r ltx_align_center">63.7</td>
</tr>
<tr id="S3.T2.5.24.19" class="ltx_tr">
<td id="S3.T2.5.24.19.1" class="ltx_td ltx_align_center ltx_border_r">DiffusionDet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>
</td>
<td id="S3.T2.5.24.19.2" class="ltx_td ltx_align_center">ResNet-101</td>
<td id="S3.T2.5.24.19.3" class="ltx_td ltx_align_center">60</td>
<td id="S3.T2.5.24.19.4" class="ltx_td ltx_align_center ltx_border_r">130M</td>
<td id="S3.T2.5.24.19.5" class="ltx_td ltx_align_center">46.6</td>
<td id="S3.T2.5.24.19.6" class="ltx_td ltx_align_center">66.3</td>
<td id="S3.T2.5.24.19.7" class="ltx_td ltx_align_center">50.0</td>
<td id="S3.T2.5.24.19.8" class="ltx_td ltx_align_center">0.0</td>
<td id="S3.T2.5.24.19.9" class="ltx_td ltx_align_center">49.3</td>
<td id="S3.T2.5.24.19.10" class="ltx_td ltx_nopad_r ltx_align_center">62.8</td>
</tr>
<tr id="S3.T2.5.25.20" class="ltx_tr">
<td id="S3.T2.5.25.20.1" class="ltx_td ltx_align_center ltx_border_r">RecursiveDet (Sparse R-CNN)</td>
<td id="S3.T2.5.25.20.2" class="ltx_td ltx_align_center">ResNet-101</td>
<td id="S3.T2.5.25.20.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.25.20.4" class="ltx_td ltx_align_center ltx_border_r">74M</td>
<td id="S3.T2.5.25.20.5" class="ltx_td ltx_align_center">47.1</td>
<td id="S3.T2.5.25.20.6" class="ltx_td ltx_align_center">65.7</td>
<td id="S3.T2.5.25.20.7" class="ltx_td ltx_align_center">51.8</td>
<td id="S3.T2.5.25.20.8" class="ltx_td ltx_align_center">29.3</td>
<td id="S3.T2.5.25.20.9" class="ltx_td ltx_align_center">50.6</td>
<td id="S3.T2.5.25.20.10" class="ltx_td ltx_nopad_r ltx_align_center">61.5</td>
</tr>
<tr id="S3.T2.5.26.21" class="ltx_tr">
<td id="S3.T2.5.26.21.1" class="ltx_td ltx_align_center ltx_border_r">RecursiveDet (AdaMixer)</td>
<td id="S3.T2.5.26.21.2" class="ltx_td ltx_align_center">ResNet-101</td>
<td id="S3.T2.5.26.21.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.26.21.4" class="ltx_td ltx_align_center ltx_border_r">62M</td>
<td id="S3.T2.5.26.21.5" class="ltx_td ltx_align_center">48.9</td>
<td id="S3.T2.5.26.21.6" class="ltx_td ltx_align_center">67.8</td>
<td id="S3.T2.5.26.21.7" class="ltx_td ltx_align_center">53.1</td>
<td id="S3.T2.5.26.21.8" class="ltx_td ltx_align_center">32.1</td>
<td id="S3.T2.5.26.21.9" class="ltx_td ltx_align_center">52.2</td>
<td id="S3.T2.5.26.21.10" class="ltx_td ltx_nopad_r ltx_align_center">63.8</td>
</tr>
<tr id="S3.T2.5.27.22" class="ltx_tr">
<td id="S3.T2.5.27.22.1" class="ltx_td ltx_align_center ltx_border_r">RecursiveDet (DiffusionDet)</td>
<td id="S3.T2.5.27.22.2" class="ltx_td ltx_align_center">ResNet-101</td>
<td id="S3.T2.5.27.22.3" class="ltx_td ltx_align_center">60</td>
<td id="S3.T2.5.27.22.4" class="ltx_td ltx_align_center ltx_border_r">76M</td>
<td id="S3.T2.5.27.22.5" class="ltx_td ltx_align_center">46.9</td>
<td id="S3.T2.5.27.22.6" class="ltx_td ltx_align_center">66.7</td>
<td id="S3.T2.5.27.22.7" class="ltx_td ltx_align_center">50.3</td>
<td id="S3.T2.5.27.22.8" class="ltx_td ltx_align_center">29.5</td>
<td id="S3.T2.5.27.22.9" class="ltx_td ltx_align_center">49.8</td>
<td id="S3.T2.5.27.22.10" class="ltx_td ltx_nopad_r ltx_align_center">62.7</td>
</tr>
<tr id="S3.T2.5.28.23" class="ltx_tr">
<td id="S3.T2.5.28.23.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Sparse R-CNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>
</td>
<td id="S3.T2.5.28.23.2" class="ltx_td ltx_align_center ltx_border_t">Swin-T</td>
<td id="S3.T2.5.28.23.3" class="ltx_td ltx_align_center ltx_border_t">36</td>
<td id="S3.T2.5.28.23.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">110M</td>
<td id="S3.T2.5.28.23.5" class="ltx_td ltx_align_center ltx_border_t">47.9</td>
<td id="S3.T2.5.28.23.6" class="ltx_td ltx_align_center ltx_border_t">67.3</td>
<td id="S3.T2.5.28.23.7" class="ltx_td ltx_align_center ltx_border_t">52.3</td>
<td id="S3.T2.5.28.23.8" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S3.T2.5.28.23.9" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S3.T2.5.28.23.10" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">-</td>
</tr>
<tr id="S3.T2.5.29.24" class="ltx_tr">
<td id="S3.T2.5.29.24.1" class="ltx_td ltx_align_center ltx_border_r">AdaMixer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>
</td>
<td id="S3.T2.5.29.24.2" class="ltx_td ltx_align_center">Swin-S</td>
<td id="S3.T2.5.29.24.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.29.24.4" class="ltx_td ltx_align_center ltx_border_r">160M</td>
<td id="S3.T2.5.29.24.5" class="ltx_td ltx_align_center">51.3</td>
<td id="S3.T2.5.29.24.6" class="ltx_td ltx_align_center">71.2</td>
<td id="S3.T2.5.29.24.7" class="ltx_td ltx_align_center">55.7</td>
<td id="S3.T2.5.29.24.8" class="ltx_td ltx_align_center">34.2</td>
<td id="S3.T2.5.29.24.9" class="ltx_td ltx_align_center">54.6</td>
<td id="S3.T2.5.29.24.10" class="ltx_td ltx_nopad_r ltx_align_center">67.3</td>
</tr>
<tr id="S3.T2.5.30.25" class="ltx_tr">
<td id="S3.T2.5.30.25.1" class="ltx_td ltx_align_center ltx_border_r">Sparse R-CNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>
</td>
<td id="S3.T2.5.30.25.2" class="ltx_td ltx_align_center">Swin-B</td>
<td id="S3.T2.5.30.25.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.30.25.4" class="ltx_td ltx_align_center ltx_border_r">169M</td>
<td id="S3.T2.5.30.25.5" class="ltx_td ltx_align_center">52.0</td>
<td id="S3.T2.5.30.25.6" class="ltx_td ltx_align_center">72.2</td>
<td id="S3.T2.5.30.25.7" class="ltx_td ltx_align_center">57.0</td>
<td id="S3.T2.5.30.25.8" class="ltx_td ltx_align_center">35.8</td>
<td id="S3.T2.5.30.25.9" class="ltx_td ltx_align_center">55.1</td>
<td id="S3.T2.5.30.25.10" class="ltx_td ltx_nopad_r ltx_align_center">68.2</td>
</tr>
<tr id="S3.T2.5.31.26" class="ltx_tr">
<td id="S3.T2.5.31.26.1" class="ltx_td ltx_align_center ltx_border_r">RecursiveDet (Sparse R-CNN)</td>
<td id="S3.T2.5.31.26.2" class="ltx_td ltx_align_center">Swin-T</td>
<td id="S3.T2.5.31.26.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.31.26.4" class="ltx_td ltx_align_center ltx_border_r">58M</td>
<td id="S3.T2.5.31.26.5" class="ltx_td ltx_align_center">48.9</td>
<td id="S3.T2.5.31.26.6" class="ltx_td ltx_align_center">68.2</td>
<td id="S3.T2.5.31.26.7" class="ltx_td ltx_align_center">53.6</td>
<td id="S3.T2.5.31.26.8" class="ltx_td ltx_align_center">33.1</td>
<td id="S3.T2.5.31.26.9" class="ltx_td ltx_align_center">51.3</td>
<td id="S3.T2.5.31.26.10" class="ltx_td ltx_nopad_r ltx_align_center">63.2</td>
</tr>
<tr id="S3.T2.5.32.27" class="ltx_tr">
<td id="S3.T2.5.32.27.1" class="ltx_td ltx_align_center ltx_border_r">RecursiveDet (AdaMixer)</td>
<td id="S3.T2.5.32.27.2" class="ltx_td ltx_align_center">Swin-S</td>
<td id="S3.T2.5.32.27.3" class="ltx_td ltx_align_center">36</td>
<td id="S3.T2.5.32.27.4" class="ltx_td ltx_align_center ltx_border_r">68M</td>
<td id="S3.T2.5.32.27.5" class="ltx_td ltx_align_center">52.1</td>
<td id="S3.T2.5.32.27.6" class="ltx_td ltx_align_center">71.6</td>
<td id="S3.T2.5.32.27.7" class="ltx_td ltx_align_center">56.9</td>
<td id="S3.T2.5.32.27.8" class="ltx_td ltx_align_center">36.2</td>
<td id="S3.T2.5.32.27.9" class="ltx_td ltx_align_center">55.1</td>
<td id="S3.T2.5.32.27.10" class="ltx_td ltx_nopad_r ltx_align_center">68.3</td>
</tr>
<tr id="S3.T2.5.33.28" class="ltx_tr">
<td id="S3.T2.5.33.28.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">RecursiveDet (Sparse R-CNN)</td>
<td id="S3.T2.5.33.28.2" class="ltx_td ltx_align_center ltx_border_bb">Swin-B</td>
<td id="S3.T2.5.33.28.3" class="ltx_td ltx_align_center ltx_border_bb">36</td>
<td id="S3.T2.5.33.28.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">118M</td>
<td id="S3.T2.5.33.28.5" class="ltx_td ltx_align_center ltx_border_bb">53.1</td>
<td id="S3.T2.5.33.28.6" class="ltx_td ltx_align_center ltx_border_bb">73.0</td>
<td id="S3.T2.5.33.28.7" class="ltx_td ltx_align_center ltx_border_bb">58.4</td>
<td id="S3.T2.5.33.28.8" class="ltx_td ltx_align_center ltx_border_bb">37.0</td>
<td id="S3.T2.5.33.28.9" class="ltx_td ltx_align_center ltx_border_bb">56.6</td>
<td id="S3.T2.5.33.28.10" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb">69.5</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Main results and comparisons with other object detectors on COCO 2017 val set. DETR uses 100 object queries, DiffusionDet and RecusiveDet built on it use 500 proposal features, and all other detectors use 300 of that. The results are from the original paper, mmdetection<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> and Detectron2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>.
”‡” is the enhanced version with iterative box refinement and two-stage processing. </figcaption>
</figure>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Centerness-based Positional Encoding</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.13" class="ltx_p">The bounding box PE for self attention and dynamic conv described in the previous section encodes <math id="S3.SS4.p1.1.m1.4" class="ltx_Math" alttext="(x,y,w,h)" display="inline"><semantics id="S3.SS4.p1.1.m1.4a"><mrow id="S3.SS4.p1.1.m1.4.5.2" xref="S3.SS4.p1.1.m1.4.5.1.cmml"><mo stretchy="false" id="S3.SS4.p1.1.m1.4.5.2.1" xref="S3.SS4.p1.1.m1.4.5.1.cmml">(</mo><mi id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml">x</mi><mo id="S3.SS4.p1.1.m1.4.5.2.2" xref="S3.SS4.p1.1.m1.4.5.1.cmml">,</mo><mi id="S3.SS4.p1.1.m1.2.2" xref="S3.SS4.p1.1.m1.2.2.cmml">y</mi><mo id="S3.SS4.p1.1.m1.4.5.2.3" xref="S3.SS4.p1.1.m1.4.5.1.cmml">,</mo><mi id="S3.SS4.p1.1.m1.3.3" xref="S3.SS4.p1.1.m1.3.3.cmml">w</mi><mo id="S3.SS4.p1.1.m1.4.5.2.4" xref="S3.SS4.p1.1.m1.4.5.1.cmml">,</mo><mi id="S3.SS4.p1.1.m1.4.4" xref="S3.SS4.p1.1.m1.4.4.cmml">h</mi><mo stretchy="false" id="S3.SS4.p1.1.m1.4.5.2.5" xref="S3.SS4.p1.1.m1.4.5.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.4b"><vector id="S3.SS4.p1.1.m1.4.5.1.cmml" xref="S3.SS4.p1.1.m1.4.5.2"><ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">𝑥</ci><ci id="S3.SS4.p1.1.m1.2.2.cmml" xref="S3.SS4.p1.1.m1.2.2">𝑦</ci><ci id="S3.SS4.p1.1.m1.3.3.cmml" xref="S3.SS4.p1.1.m1.3.3">𝑤</ci><ci id="S3.SS4.p1.1.m1.4.4.cmml" xref="S3.SS4.p1.1.m1.4.4">ℎ</ci></vector></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.4c">(x,y,w,h)</annotation></semantics></math> in the global image coordinate. Thus, for each RoI feature <math id="S3.SS4.p1.2.m2.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S3.SS4.p1.2.m2.1a"><mi id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><ci id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">f</annotation></semantics></math>, the generated kernels <math id="S3.SS4.p1.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS4.p1.3.m3.1a"><mi id="S3.SS4.p1.3.m3.1.1" xref="S3.SS4.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.3.m3.1b"><ci id="S3.SS4.p1.3.m3.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.3.m3.1c">k</annotation></semantics></math> and <math id="S3.SS4.p1.4.m4.1" class="ltx_Math" alttext="v" display="inline"><semantics id="S3.SS4.p1.4.m4.1a"><mi id="S3.SS4.p1.4.m4.1.1" xref="S3.SS4.p1.4.m4.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.4.m4.1b"><ci id="S3.SS4.p1.4.m4.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.4.m4.1c">v</annotation></semantics></math> are shared by all elements within it. We intend to further enhance the adaptability of dynamic conv by expanding kernels <math id="S3.SS4.p1.5.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS4.p1.5.m5.1a"><mi id="S3.SS4.p1.5.m5.1.1" xref="S3.SS4.p1.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.5.m5.1b"><ci id="S3.SS4.p1.5.m5.1.1.cmml" xref="S3.SS4.p1.5.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.5.m5.1c">k</annotation></semantics></math> to <math id="S3.SS4.p1.6.m6.1" class="ltx_Math" alttext="k_{e}\in\mathbb{R}^{7\times 7\times c\times d}" display="inline"><semantics id="S3.SS4.p1.6.m6.1a"><mrow id="S3.SS4.p1.6.m6.1.1" xref="S3.SS4.p1.6.m6.1.1.cmml"><msub id="S3.SS4.p1.6.m6.1.1.2" xref="S3.SS4.p1.6.m6.1.1.2.cmml"><mi id="S3.SS4.p1.6.m6.1.1.2.2" xref="S3.SS4.p1.6.m6.1.1.2.2.cmml">k</mi><mi id="S3.SS4.p1.6.m6.1.1.2.3" xref="S3.SS4.p1.6.m6.1.1.2.3.cmml">e</mi></msub><mo id="S3.SS4.p1.6.m6.1.1.1" xref="S3.SS4.p1.6.m6.1.1.1.cmml">∈</mo><msup id="S3.SS4.p1.6.m6.1.1.3" xref="S3.SS4.p1.6.m6.1.1.3.cmml"><mi id="S3.SS4.p1.6.m6.1.1.3.2" xref="S3.SS4.p1.6.m6.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS4.p1.6.m6.1.1.3.3" xref="S3.SS4.p1.6.m6.1.1.3.3.cmml"><mn id="S3.SS4.p1.6.m6.1.1.3.3.2" xref="S3.SS4.p1.6.m6.1.1.3.3.2.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS4.p1.6.m6.1.1.3.3.1" xref="S3.SS4.p1.6.m6.1.1.3.3.1.cmml">×</mo><mn id="S3.SS4.p1.6.m6.1.1.3.3.3" xref="S3.SS4.p1.6.m6.1.1.3.3.3.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS4.p1.6.m6.1.1.3.3.1a" xref="S3.SS4.p1.6.m6.1.1.3.3.1.cmml">×</mo><mi id="S3.SS4.p1.6.m6.1.1.3.3.4" xref="S3.SS4.p1.6.m6.1.1.3.3.4.cmml">c</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS4.p1.6.m6.1.1.3.3.1b" xref="S3.SS4.p1.6.m6.1.1.3.3.1.cmml">×</mo><mi id="S3.SS4.p1.6.m6.1.1.3.3.5" xref="S3.SS4.p1.6.m6.1.1.3.3.5.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.6.m6.1b"><apply id="S3.SS4.p1.6.m6.1.1.cmml" xref="S3.SS4.p1.6.m6.1.1"><in id="S3.SS4.p1.6.m6.1.1.1.cmml" xref="S3.SS4.p1.6.m6.1.1.1"></in><apply id="S3.SS4.p1.6.m6.1.1.2.cmml" xref="S3.SS4.p1.6.m6.1.1.2"><csymbol cd="ambiguous" id="S3.SS4.p1.6.m6.1.1.2.1.cmml" xref="S3.SS4.p1.6.m6.1.1.2">subscript</csymbol><ci id="S3.SS4.p1.6.m6.1.1.2.2.cmml" xref="S3.SS4.p1.6.m6.1.1.2.2">𝑘</ci><ci id="S3.SS4.p1.6.m6.1.1.2.3.cmml" xref="S3.SS4.p1.6.m6.1.1.2.3">𝑒</ci></apply><apply id="S3.SS4.p1.6.m6.1.1.3.cmml" xref="S3.SS4.p1.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p1.6.m6.1.1.3.1.cmml" xref="S3.SS4.p1.6.m6.1.1.3">superscript</csymbol><ci id="S3.SS4.p1.6.m6.1.1.3.2.cmml" xref="S3.SS4.p1.6.m6.1.1.3.2">ℝ</ci><apply id="S3.SS4.p1.6.m6.1.1.3.3.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3"><times id="S3.SS4.p1.6.m6.1.1.3.3.1.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3.1"></times><cn type="integer" id="S3.SS4.p1.6.m6.1.1.3.3.2.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3.2">7</cn><cn type="integer" id="S3.SS4.p1.6.m6.1.1.3.3.3.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3.3">7</cn><ci id="S3.SS4.p1.6.m6.1.1.3.3.4.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3.4">𝑐</ci><ci id="S3.SS4.p1.6.m6.1.1.3.3.5.cmml" xref="S3.SS4.p1.6.m6.1.1.3.3.5">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.6.m6.1c">k_{e}\in\mathbb{R}^{7\times 7\times c\times d}</annotation></semantics></math>, therefore, equipping each element in <math id="S3.SS4.p1.7.m7.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S3.SS4.p1.7.m7.1a"><mi id="S3.SS4.p1.7.m7.1.1" xref="S3.SS4.p1.7.m7.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.7.m7.1b"><ci id="S3.SS4.p1.7.m7.1.1.cmml" xref="S3.SS4.p1.7.m7.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.7.m7.1c">f</annotation></semantics></math> with unique conv kernels. Based on this motivation, we propose a centerness-based PE, which encodes the local coordinate in bounding box <math id="S3.SS4.p1.8.m8.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.SS4.p1.8.m8.1a"><mi id="S3.SS4.p1.8.m8.1.1" xref="S3.SS4.p1.8.m8.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.8.m8.1b"><ci id="S3.SS4.p1.8.m8.1.1.cmml" xref="S3.SS4.p1.8.m8.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.8.m8.1c">b</annotation></semantics></math> for feature <math id="S3.SS4.p1.9.m9.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S3.SS4.p1.9.m9.1a"><mi id="S3.SS4.p1.9.m9.1.1" xref="S3.SS4.p1.9.m9.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.9.m9.1b"><ci id="S3.SS4.p1.9.m9.1.1.cmml" xref="S3.SS4.p1.9.m9.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.9.m9.1c">f</annotation></semantics></math> and kernels <math id="S3.SS4.p1.10.m10.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS4.p1.10.m10.1a"><mi id="S3.SS4.p1.10.m10.1.1" xref="S3.SS4.p1.10.m10.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.10.m10.1b"><ci id="S3.SS4.p1.10.m10.1.1.cmml" xref="S3.SS4.p1.10.m10.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.10.m10.1c">k</annotation></semantics></math>. Particularly, a single channel centerness <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> mask <math id="S3.SS4.p1.11.m11.1" class="ltx_Math" alttext="m\in\mathbb{R}^{7\times 7}" display="inline"><semantics id="S3.SS4.p1.11.m11.1a"><mrow id="S3.SS4.p1.11.m11.1.1" xref="S3.SS4.p1.11.m11.1.1.cmml"><mi id="S3.SS4.p1.11.m11.1.1.2" xref="S3.SS4.p1.11.m11.1.1.2.cmml">m</mi><mo id="S3.SS4.p1.11.m11.1.1.1" xref="S3.SS4.p1.11.m11.1.1.1.cmml">∈</mo><msup id="S3.SS4.p1.11.m11.1.1.3" xref="S3.SS4.p1.11.m11.1.1.3.cmml"><mi id="S3.SS4.p1.11.m11.1.1.3.2" xref="S3.SS4.p1.11.m11.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS4.p1.11.m11.1.1.3.3" xref="S3.SS4.p1.11.m11.1.1.3.3.cmml"><mn id="S3.SS4.p1.11.m11.1.1.3.3.2" xref="S3.SS4.p1.11.m11.1.1.3.3.2.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS4.p1.11.m11.1.1.3.3.1" xref="S3.SS4.p1.11.m11.1.1.3.3.1.cmml">×</mo><mn id="S3.SS4.p1.11.m11.1.1.3.3.3" xref="S3.SS4.p1.11.m11.1.1.3.3.3.cmml">7</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.11.m11.1b"><apply id="S3.SS4.p1.11.m11.1.1.cmml" xref="S3.SS4.p1.11.m11.1.1"><in id="S3.SS4.p1.11.m11.1.1.1.cmml" xref="S3.SS4.p1.11.m11.1.1.1"></in><ci id="S3.SS4.p1.11.m11.1.1.2.cmml" xref="S3.SS4.p1.11.m11.1.1.2">𝑚</ci><apply id="S3.SS4.p1.11.m11.1.1.3.cmml" xref="S3.SS4.p1.11.m11.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p1.11.m11.1.1.3.1.cmml" xref="S3.SS4.p1.11.m11.1.1.3">superscript</csymbol><ci id="S3.SS4.p1.11.m11.1.1.3.2.cmml" xref="S3.SS4.p1.11.m11.1.1.3.2">ℝ</ci><apply id="S3.SS4.p1.11.m11.1.1.3.3.cmml" xref="S3.SS4.p1.11.m11.1.1.3.3"><times id="S3.SS4.p1.11.m11.1.1.3.3.1.cmml" xref="S3.SS4.p1.11.m11.1.1.3.3.1"></times><cn type="integer" id="S3.SS4.p1.11.m11.1.1.3.3.2.cmml" xref="S3.SS4.p1.11.m11.1.1.3.3.2">7</cn><cn type="integer" id="S3.SS4.p1.11.m11.1.1.3.3.3.cmml" xref="S3.SS4.p1.11.m11.1.1.3.3.3">7</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.11.m11.1c">m\in\mathbb{R}^{7\times 7}</annotation></semantics></math> defined by <a href="#S3.E6" title="In 3.4 Centerness-based Positional Encoding ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Eq.</span> <span class="ltx_text ltx_ref_tag">6</span></a> is first calculated. Here <math id="S3.SS4.p1.12.m12.2" class="ltx_Math" alttext="(x^{*},y^{*})" display="inline"><semantics id="S3.SS4.p1.12.m12.2a"><mrow id="S3.SS4.p1.12.m12.2.2.2" xref="S3.SS4.p1.12.m12.2.2.3.cmml"><mo stretchy="false" id="S3.SS4.p1.12.m12.2.2.2.3" xref="S3.SS4.p1.12.m12.2.2.3.cmml">(</mo><msup id="S3.SS4.p1.12.m12.1.1.1.1" xref="S3.SS4.p1.12.m12.1.1.1.1.cmml"><mi id="S3.SS4.p1.12.m12.1.1.1.1.2" xref="S3.SS4.p1.12.m12.1.1.1.1.2.cmml">x</mi><mo id="S3.SS4.p1.12.m12.1.1.1.1.3" xref="S3.SS4.p1.12.m12.1.1.1.1.3.cmml">∗</mo></msup><mo id="S3.SS4.p1.12.m12.2.2.2.4" xref="S3.SS4.p1.12.m12.2.2.3.cmml">,</mo><msup id="S3.SS4.p1.12.m12.2.2.2.2" xref="S3.SS4.p1.12.m12.2.2.2.2.cmml"><mi id="S3.SS4.p1.12.m12.2.2.2.2.2" xref="S3.SS4.p1.12.m12.2.2.2.2.2.cmml">y</mi><mo id="S3.SS4.p1.12.m12.2.2.2.2.3" xref="S3.SS4.p1.12.m12.2.2.2.2.3.cmml">∗</mo></msup><mo stretchy="false" id="S3.SS4.p1.12.m12.2.2.2.5" xref="S3.SS4.p1.12.m12.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.12.m12.2b"><interval closure="open" id="S3.SS4.p1.12.m12.2.2.3.cmml" xref="S3.SS4.p1.12.m12.2.2.2"><apply id="S3.SS4.p1.12.m12.1.1.1.1.cmml" xref="S3.SS4.p1.12.m12.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.12.m12.1.1.1.1.1.cmml" xref="S3.SS4.p1.12.m12.1.1.1.1">superscript</csymbol><ci id="S3.SS4.p1.12.m12.1.1.1.1.2.cmml" xref="S3.SS4.p1.12.m12.1.1.1.1.2">𝑥</ci><times id="S3.SS4.p1.12.m12.1.1.1.1.3.cmml" xref="S3.SS4.p1.12.m12.1.1.1.1.3"></times></apply><apply id="S3.SS4.p1.12.m12.2.2.2.2.cmml" xref="S3.SS4.p1.12.m12.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS4.p1.12.m12.2.2.2.2.1.cmml" xref="S3.SS4.p1.12.m12.2.2.2.2">superscript</csymbol><ci id="S3.SS4.p1.12.m12.2.2.2.2.2.cmml" xref="S3.SS4.p1.12.m12.2.2.2.2.2">𝑦</ci><times id="S3.SS4.p1.12.m12.2.2.2.2.3.cmml" xref="S3.SS4.p1.12.m12.2.2.2.2.3"></times></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.12.m12.2c">(x^{*},y^{*})</annotation></semantics></math> denotes the local coordinate within the bounding box, and <math id="S3.SS4.p1.13.m13.5" class="ltx_Math" alttext="x^{*},y^{*}=0,1,\cdots,6" display="inline"><semantics id="S3.SS4.p1.13.m13.5a"><mrow id="S3.SS4.p1.13.m13.5.5.2" xref="S3.SS4.p1.13.m13.5.5.3.cmml"><mrow id="S3.SS4.p1.13.m13.4.4.1.1" xref="S3.SS4.p1.13.m13.4.4.1.1.cmml"><mrow id="S3.SS4.p1.13.m13.4.4.1.1.2.2" xref="S3.SS4.p1.13.m13.4.4.1.1.2.3.cmml"><msup id="S3.SS4.p1.13.m13.4.4.1.1.1.1.1" xref="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.cmml"><mi id="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.2" xref="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.2.cmml">x</mi><mo id="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.3" xref="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="S3.SS4.p1.13.m13.4.4.1.1.2.2.3" xref="S3.SS4.p1.13.m13.4.4.1.1.2.3.cmml">,</mo><msup id="S3.SS4.p1.13.m13.4.4.1.1.2.2.2" xref="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.cmml"><mi id="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.2" xref="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.2.cmml">y</mi><mo id="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.3" xref="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.3.cmml">∗</mo></msup></mrow><mo id="S3.SS4.p1.13.m13.4.4.1.1.3" xref="S3.SS4.p1.13.m13.4.4.1.1.3.cmml">=</mo><mn id="S3.SS4.p1.13.m13.4.4.1.1.4" xref="S3.SS4.p1.13.m13.4.4.1.1.4.cmml">0</mn></mrow><mo id="S3.SS4.p1.13.m13.5.5.2.3" xref="S3.SS4.p1.13.m13.5.5.3a.cmml">,</mo><mrow id="S3.SS4.p1.13.m13.5.5.2.2.2" xref="S3.SS4.p1.13.m13.5.5.2.2.1.cmml"><mn id="S3.SS4.p1.13.m13.1.1" xref="S3.SS4.p1.13.m13.1.1.cmml">1</mn><mo id="S3.SS4.p1.13.m13.5.5.2.2.2.1" xref="S3.SS4.p1.13.m13.5.5.2.2.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS4.p1.13.m13.2.2" xref="S3.SS4.p1.13.m13.2.2.cmml">⋯</mi><mo id="S3.SS4.p1.13.m13.5.5.2.2.2.2" xref="S3.SS4.p1.13.m13.5.5.2.2.1.cmml">,</mo><mn id="S3.SS4.p1.13.m13.3.3" xref="S3.SS4.p1.13.m13.3.3.cmml">6</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.13.m13.5b"><apply id="S3.SS4.p1.13.m13.5.5.3.cmml" xref="S3.SS4.p1.13.m13.5.5.2"><csymbol cd="ambiguous" id="S3.SS4.p1.13.m13.5.5.3a.cmml" xref="S3.SS4.p1.13.m13.5.5.2.3">formulae-sequence</csymbol><apply id="S3.SS4.p1.13.m13.4.4.1.1.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1"><eq id="S3.SS4.p1.13.m13.4.4.1.1.3.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.3"></eq><list id="S3.SS4.p1.13.m13.4.4.1.1.2.3.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.2.2"><apply id="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.1.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.1.1.1">superscript</csymbol><ci id="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.2.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.2">𝑥</ci><times id="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.3.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.1.1.1.3"></times></apply><apply id="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.1.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.2.2.2">superscript</csymbol><ci id="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.2.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.2">𝑦</ci><times id="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.3.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.2.2.2.3"></times></apply></list><cn type="integer" id="S3.SS4.p1.13.m13.4.4.1.1.4.cmml" xref="S3.SS4.p1.13.m13.4.4.1.1.4">0</cn></apply><list id="S3.SS4.p1.13.m13.5.5.2.2.1.cmml" xref="S3.SS4.p1.13.m13.5.5.2.2.2"><cn type="integer" id="S3.SS4.p1.13.m13.1.1.cmml" xref="S3.SS4.p1.13.m13.1.1">1</cn><ci id="S3.SS4.p1.13.m13.2.2.cmml" xref="S3.SS4.p1.13.m13.2.2">⋯</ci><cn type="integer" id="S3.SS4.p1.13.m13.3.3.cmml" xref="S3.SS4.p1.13.m13.3.3">6</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.13.m13.5c">x^{*},y^{*}=0,1,\cdots,6</annotation></semantics></math> have the same value range.</p>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.14" class="ltx_Math" alttext="m(x^{*},y^{*})=\sqrt{\frac{\min(x^{*},6-x^{*})}{\max(x^{*},6-x^{*})}\frac{\min(y^{*},6-y^{*})}{\max(y^{*},6-y^{*})}}" display="block"><semantics id="S3.E6.m1.14a"><mrow id="S3.E6.m1.14.14" xref="S3.E6.m1.14.14.cmml"><mrow id="S3.E6.m1.14.14.2" xref="S3.E6.m1.14.14.2.cmml"><mi id="S3.E6.m1.14.14.2.4" xref="S3.E6.m1.14.14.2.4.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.14.14.2.3" xref="S3.E6.m1.14.14.2.3.cmml">​</mo><mrow id="S3.E6.m1.14.14.2.2.2" xref="S3.E6.m1.14.14.2.2.3.cmml"><mo stretchy="false" id="S3.E6.m1.14.14.2.2.2.3" xref="S3.E6.m1.14.14.2.2.3.cmml">(</mo><msup id="S3.E6.m1.13.13.1.1.1.1" xref="S3.E6.m1.13.13.1.1.1.1.cmml"><mi id="S3.E6.m1.13.13.1.1.1.1.2" xref="S3.E6.m1.13.13.1.1.1.1.2.cmml">x</mi><mo id="S3.E6.m1.13.13.1.1.1.1.3" xref="S3.E6.m1.13.13.1.1.1.1.3.cmml">∗</mo></msup><mo id="S3.E6.m1.14.14.2.2.2.4" xref="S3.E6.m1.14.14.2.2.3.cmml">,</mo><msup id="S3.E6.m1.14.14.2.2.2.2" xref="S3.E6.m1.14.14.2.2.2.2.cmml"><mi id="S3.E6.m1.14.14.2.2.2.2.2" xref="S3.E6.m1.14.14.2.2.2.2.2.cmml">y</mi><mo id="S3.E6.m1.14.14.2.2.2.2.3" xref="S3.E6.m1.14.14.2.2.2.2.3.cmml">∗</mo></msup><mo stretchy="false" id="S3.E6.m1.14.14.2.2.2.5" xref="S3.E6.m1.14.14.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.14.14.3" xref="S3.E6.m1.14.14.3.cmml">=</mo><msqrt id="S3.E6.m1.12.12" xref="S3.E6.m1.12.12.cmml"><mrow id="S3.E6.m1.12.12.12" xref="S3.E6.m1.12.12.12.cmml"><mfrac id="S3.E6.m1.6.6.6.6" xref="S3.E6.m1.6.6.6.6.cmml"><mrow id="S3.E6.m1.3.3.3.3.3.3" xref="S3.E6.m1.3.3.3.3.3.4.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml">min</mi><mo id="S3.E6.m1.3.3.3.3.3.3a" xref="S3.E6.m1.3.3.3.3.3.4.cmml">⁡</mo><mrow id="S3.E6.m1.3.3.3.3.3.3.2" xref="S3.E6.m1.3.3.3.3.3.4.cmml"><mo stretchy="false" id="S3.E6.m1.3.3.3.3.3.3.2.3" xref="S3.E6.m1.3.3.3.3.3.4.cmml">(</mo><msup id="S3.E6.m1.2.2.2.2.2.2.1.1" xref="S3.E6.m1.2.2.2.2.2.2.1.1.cmml"><mi id="S3.E6.m1.2.2.2.2.2.2.1.1.2" xref="S3.E6.m1.2.2.2.2.2.2.1.1.2.cmml">x</mi><mo id="S3.E6.m1.2.2.2.2.2.2.1.1.3" xref="S3.E6.m1.2.2.2.2.2.2.1.1.3.cmml">∗</mo></msup><mo id="S3.E6.m1.3.3.3.3.3.3.2.4" xref="S3.E6.m1.3.3.3.3.3.4.cmml">,</mo><mrow id="S3.E6.m1.3.3.3.3.3.3.2.2" xref="S3.E6.m1.3.3.3.3.3.3.2.2.cmml"><mn id="S3.E6.m1.3.3.3.3.3.3.2.2.2" xref="S3.E6.m1.3.3.3.3.3.3.2.2.2.cmml">6</mn><mo id="S3.E6.m1.3.3.3.3.3.3.2.2.1" xref="S3.E6.m1.3.3.3.3.3.3.2.2.1.cmml">−</mo><msup id="S3.E6.m1.3.3.3.3.3.3.2.2.3" xref="S3.E6.m1.3.3.3.3.3.3.2.2.3.cmml"><mi id="S3.E6.m1.3.3.3.3.3.3.2.2.3.2" xref="S3.E6.m1.3.3.3.3.3.3.2.2.3.2.cmml">x</mi><mo id="S3.E6.m1.3.3.3.3.3.3.2.2.3.3" xref="S3.E6.m1.3.3.3.3.3.3.2.2.3.3.cmml">∗</mo></msup></mrow><mo stretchy="false" id="S3.E6.m1.3.3.3.3.3.3.2.5" xref="S3.E6.m1.3.3.3.3.3.4.cmml">)</mo></mrow></mrow><mrow id="S3.E6.m1.6.6.6.6.6.3" xref="S3.E6.m1.6.6.6.6.6.4.cmml"><mi id="S3.E6.m1.4.4.4.4.4.1" xref="S3.E6.m1.4.4.4.4.4.1.cmml">max</mi><mo id="S3.E6.m1.6.6.6.6.6.3a" xref="S3.E6.m1.6.6.6.6.6.4.cmml">⁡</mo><mrow id="S3.E6.m1.6.6.6.6.6.3.2" xref="S3.E6.m1.6.6.6.6.6.4.cmml"><mo stretchy="false" id="S3.E6.m1.6.6.6.6.6.3.2.3" xref="S3.E6.m1.6.6.6.6.6.4.cmml">(</mo><msup id="S3.E6.m1.5.5.5.5.5.2.1.1" xref="S3.E6.m1.5.5.5.5.5.2.1.1.cmml"><mi id="S3.E6.m1.5.5.5.5.5.2.1.1.2" xref="S3.E6.m1.5.5.5.5.5.2.1.1.2.cmml">x</mi><mo id="S3.E6.m1.5.5.5.5.5.2.1.1.3" xref="S3.E6.m1.5.5.5.5.5.2.1.1.3.cmml">∗</mo></msup><mo id="S3.E6.m1.6.6.6.6.6.3.2.4" xref="S3.E6.m1.6.6.6.6.6.4.cmml">,</mo><mrow id="S3.E6.m1.6.6.6.6.6.3.2.2" xref="S3.E6.m1.6.6.6.6.6.3.2.2.cmml"><mn id="S3.E6.m1.6.6.6.6.6.3.2.2.2" xref="S3.E6.m1.6.6.6.6.6.3.2.2.2.cmml">6</mn><mo id="S3.E6.m1.6.6.6.6.6.3.2.2.1" xref="S3.E6.m1.6.6.6.6.6.3.2.2.1.cmml">−</mo><msup id="S3.E6.m1.6.6.6.6.6.3.2.2.3" xref="S3.E6.m1.6.6.6.6.6.3.2.2.3.cmml"><mi id="S3.E6.m1.6.6.6.6.6.3.2.2.3.2" xref="S3.E6.m1.6.6.6.6.6.3.2.2.3.2.cmml">x</mi><mo id="S3.E6.m1.6.6.6.6.6.3.2.2.3.3" xref="S3.E6.m1.6.6.6.6.6.3.2.2.3.3.cmml">∗</mo></msup></mrow><mo stretchy="false" id="S3.E6.m1.6.6.6.6.6.3.2.5" xref="S3.E6.m1.6.6.6.6.6.4.cmml">)</mo></mrow></mrow></mfrac><mo lspace="0em" rspace="0em" id="S3.E6.m1.12.12.12.13" xref="S3.E6.m1.12.12.12.13.cmml">​</mo><mfrac id="S3.E6.m1.12.12.12.12" xref="S3.E6.m1.12.12.12.12.cmml"><mrow id="S3.E6.m1.9.9.9.9.3.3" xref="S3.E6.m1.9.9.9.9.3.4.cmml"><mi id="S3.E6.m1.7.7.7.7.1.1" xref="S3.E6.m1.7.7.7.7.1.1.cmml">min</mi><mo id="S3.E6.m1.9.9.9.9.3.3a" xref="S3.E6.m1.9.9.9.9.3.4.cmml">⁡</mo><mrow id="S3.E6.m1.9.9.9.9.3.3.2" xref="S3.E6.m1.9.9.9.9.3.4.cmml"><mo stretchy="false" id="S3.E6.m1.9.9.9.9.3.3.2.3" xref="S3.E6.m1.9.9.9.9.3.4.cmml">(</mo><msup id="S3.E6.m1.8.8.8.8.2.2.1.1" xref="S3.E6.m1.8.8.8.8.2.2.1.1.cmml"><mi id="S3.E6.m1.8.8.8.8.2.2.1.1.2" xref="S3.E6.m1.8.8.8.8.2.2.1.1.2.cmml">y</mi><mo id="S3.E6.m1.8.8.8.8.2.2.1.1.3" xref="S3.E6.m1.8.8.8.8.2.2.1.1.3.cmml">∗</mo></msup><mo id="S3.E6.m1.9.9.9.9.3.3.2.4" xref="S3.E6.m1.9.9.9.9.3.4.cmml">,</mo><mrow id="S3.E6.m1.9.9.9.9.3.3.2.2" xref="S3.E6.m1.9.9.9.9.3.3.2.2.cmml"><mn id="S3.E6.m1.9.9.9.9.3.3.2.2.2" xref="S3.E6.m1.9.9.9.9.3.3.2.2.2.cmml">6</mn><mo id="S3.E6.m1.9.9.9.9.3.3.2.2.1" xref="S3.E6.m1.9.9.9.9.3.3.2.2.1.cmml">−</mo><msup id="S3.E6.m1.9.9.9.9.3.3.2.2.3" xref="S3.E6.m1.9.9.9.9.3.3.2.2.3.cmml"><mi id="S3.E6.m1.9.9.9.9.3.3.2.2.3.2" xref="S3.E6.m1.9.9.9.9.3.3.2.2.3.2.cmml">y</mi><mo id="S3.E6.m1.9.9.9.9.3.3.2.2.3.3" xref="S3.E6.m1.9.9.9.9.3.3.2.2.3.3.cmml">∗</mo></msup></mrow><mo stretchy="false" id="S3.E6.m1.9.9.9.9.3.3.2.5" xref="S3.E6.m1.9.9.9.9.3.4.cmml">)</mo></mrow></mrow><mrow id="S3.E6.m1.12.12.12.12.6.3" xref="S3.E6.m1.12.12.12.12.6.4.cmml"><mi id="S3.E6.m1.10.10.10.10.4.1" xref="S3.E6.m1.10.10.10.10.4.1.cmml">max</mi><mo id="S3.E6.m1.12.12.12.12.6.3a" xref="S3.E6.m1.12.12.12.12.6.4.cmml">⁡</mo><mrow id="S3.E6.m1.12.12.12.12.6.3.2" xref="S3.E6.m1.12.12.12.12.6.4.cmml"><mo stretchy="false" id="S3.E6.m1.12.12.12.12.6.3.2.3" xref="S3.E6.m1.12.12.12.12.6.4.cmml">(</mo><msup id="S3.E6.m1.11.11.11.11.5.2.1.1" xref="S3.E6.m1.11.11.11.11.5.2.1.1.cmml"><mi id="S3.E6.m1.11.11.11.11.5.2.1.1.2" xref="S3.E6.m1.11.11.11.11.5.2.1.1.2.cmml">y</mi><mo id="S3.E6.m1.11.11.11.11.5.2.1.1.3" xref="S3.E6.m1.11.11.11.11.5.2.1.1.3.cmml">∗</mo></msup><mo id="S3.E6.m1.12.12.12.12.6.3.2.4" xref="S3.E6.m1.12.12.12.12.6.4.cmml">,</mo><mrow id="S3.E6.m1.12.12.12.12.6.3.2.2" xref="S3.E6.m1.12.12.12.12.6.3.2.2.cmml"><mn id="S3.E6.m1.12.12.12.12.6.3.2.2.2" xref="S3.E6.m1.12.12.12.12.6.3.2.2.2.cmml">6</mn><mo id="S3.E6.m1.12.12.12.12.6.3.2.2.1" xref="S3.E6.m1.12.12.12.12.6.3.2.2.1.cmml">−</mo><msup id="S3.E6.m1.12.12.12.12.6.3.2.2.3" xref="S3.E6.m1.12.12.12.12.6.3.2.2.3.cmml"><mi id="S3.E6.m1.12.12.12.12.6.3.2.2.3.2" xref="S3.E6.m1.12.12.12.12.6.3.2.2.3.2.cmml">y</mi><mo id="S3.E6.m1.12.12.12.12.6.3.2.2.3.3" xref="S3.E6.m1.12.12.12.12.6.3.2.2.3.3.cmml">∗</mo></msup></mrow><mo stretchy="false" id="S3.E6.m1.12.12.12.12.6.3.2.5" xref="S3.E6.m1.12.12.12.12.6.4.cmml">)</mo></mrow></mrow></mfrac></mrow></msqrt></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.14b"><apply id="S3.E6.m1.14.14.cmml" xref="S3.E6.m1.14.14"><eq id="S3.E6.m1.14.14.3.cmml" xref="S3.E6.m1.14.14.3"></eq><apply id="S3.E6.m1.14.14.2.cmml" xref="S3.E6.m1.14.14.2"><times id="S3.E6.m1.14.14.2.3.cmml" xref="S3.E6.m1.14.14.2.3"></times><ci id="S3.E6.m1.14.14.2.4.cmml" xref="S3.E6.m1.14.14.2.4">𝑚</ci><interval closure="open" id="S3.E6.m1.14.14.2.2.3.cmml" xref="S3.E6.m1.14.14.2.2.2"><apply id="S3.E6.m1.13.13.1.1.1.1.cmml" xref="S3.E6.m1.13.13.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.13.13.1.1.1.1.1.cmml" xref="S3.E6.m1.13.13.1.1.1.1">superscript</csymbol><ci id="S3.E6.m1.13.13.1.1.1.1.2.cmml" xref="S3.E6.m1.13.13.1.1.1.1.2">𝑥</ci><times id="S3.E6.m1.13.13.1.1.1.1.3.cmml" xref="S3.E6.m1.13.13.1.1.1.1.3"></times></apply><apply id="S3.E6.m1.14.14.2.2.2.2.cmml" xref="S3.E6.m1.14.14.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.14.14.2.2.2.2.1.cmml" xref="S3.E6.m1.14.14.2.2.2.2">superscript</csymbol><ci id="S3.E6.m1.14.14.2.2.2.2.2.cmml" xref="S3.E6.m1.14.14.2.2.2.2.2">𝑦</ci><times id="S3.E6.m1.14.14.2.2.2.2.3.cmml" xref="S3.E6.m1.14.14.2.2.2.2.3"></times></apply></interval></apply><apply id="S3.E6.m1.12.12.cmml" xref="S3.E6.m1.12.12"><root id="S3.E6.m1.12.12a.cmml" xref="S3.E6.m1.12.12"></root><apply id="S3.E6.m1.12.12.12.cmml" xref="S3.E6.m1.12.12.12"><times id="S3.E6.m1.12.12.12.13.cmml" xref="S3.E6.m1.12.12.12.13"></times><apply id="S3.E6.m1.6.6.6.6.cmml" xref="S3.E6.m1.6.6.6.6"><divide id="S3.E6.m1.6.6.6.6.7.cmml" xref="S3.E6.m1.6.6.6.6"></divide><apply id="S3.E6.m1.3.3.3.3.3.4.cmml" xref="S3.E6.m1.3.3.3.3.3.3"><min id="S3.E6.m1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1"></min><apply id="S3.E6.m1.2.2.2.2.2.2.1.1.cmml" xref="S3.E6.m1.2.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.2.2.1.1.1.cmml" xref="S3.E6.m1.2.2.2.2.2.2.1.1">superscript</csymbol><ci id="S3.E6.m1.2.2.2.2.2.2.1.1.2.cmml" xref="S3.E6.m1.2.2.2.2.2.2.1.1.2">𝑥</ci><times id="S3.E6.m1.2.2.2.2.2.2.1.1.3.cmml" xref="S3.E6.m1.2.2.2.2.2.2.1.1.3"></times></apply><apply id="S3.E6.m1.3.3.3.3.3.3.2.2.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.2"><minus id="S3.E6.m1.3.3.3.3.3.3.2.2.1.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.2.1"></minus><cn type="integer" id="S3.E6.m1.3.3.3.3.3.3.2.2.2.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.2.2">6</cn><apply id="S3.E6.m1.3.3.3.3.3.3.2.2.3.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.3.3.3.3.2.2.3.1.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.2.3">superscript</csymbol><ci id="S3.E6.m1.3.3.3.3.3.3.2.2.3.2.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.2.3.2">𝑥</ci><times id="S3.E6.m1.3.3.3.3.3.3.2.2.3.3.cmml" xref="S3.E6.m1.3.3.3.3.3.3.2.2.3.3"></times></apply></apply></apply><apply id="S3.E6.m1.6.6.6.6.6.4.cmml" xref="S3.E6.m1.6.6.6.6.6.3"><max id="S3.E6.m1.4.4.4.4.4.1.cmml" xref="S3.E6.m1.4.4.4.4.4.1"></max><apply id="S3.E6.m1.5.5.5.5.5.2.1.1.cmml" xref="S3.E6.m1.5.5.5.5.5.2.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.5.5.5.2.1.1.1.cmml" xref="S3.E6.m1.5.5.5.5.5.2.1.1">superscript</csymbol><ci id="S3.E6.m1.5.5.5.5.5.2.1.1.2.cmml" xref="S3.E6.m1.5.5.5.5.5.2.1.1.2">𝑥</ci><times id="S3.E6.m1.5.5.5.5.5.2.1.1.3.cmml" xref="S3.E6.m1.5.5.5.5.5.2.1.1.3"></times></apply><apply id="S3.E6.m1.6.6.6.6.6.3.2.2.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.2"><minus id="S3.E6.m1.6.6.6.6.6.3.2.2.1.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.2.1"></minus><cn type="integer" id="S3.E6.m1.6.6.6.6.6.3.2.2.2.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.2.2">6</cn><apply id="S3.E6.m1.6.6.6.6.6.3.2.2.3.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.6.6.6.6.6.3.2.2.3.1.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.2.3">superscript</csymbol><ci id="S3.E6.m1.6.6.6.6.6.3.2.2.3.2.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.2.3.2">𝑥</ci><times id="S3.E6.m1.6.6.6.6.6.3.2.2.3.3.cmml" xref="S3.E6.m1.6.6.6.6.6.3.2.2.3.3"></times></apply></apply></apply></apply><apply id="S3.E6.m1.12.12.12.12.cmml" xref="S3.E6.m1.12.12.12.12"><divide id="S3.E6.m1.12.12.12.12.7.cmml" xref="S3.E6.m1.12.12.12.12"></divide><apply id="S3.E6.m1.9.9.9.9.3.4.cmml" xref="S3.E6.m1.9.9.9.9.3.3"><min id="S3.E6.m1.7.7.7.7.1.1.cmml" xref="S3.E6.m1.7.7.7.7.1.1"></min><apply id="S3.E6.m1.8.8.8.8.2.2.1.1.cmml" xref="S3.E6.m1.8.8.8.8.2.2.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.8.8.8.8.2.2.1.1.1.cmml" xref="S3.E6.m1.8.8.8.8.2.2.1.1">superscript</csymbol><ci id="S3.E6.m1.8.8.8.8.2.2.1.1.2.cmml" xref="S3.E6.m1.8.8.8.8.2.2.1.1.2">𝑦</ci><times id="S3.E6.m1.8.8.8.8.2.2.1.1.3.cmml" xref="S3.E6.m1.8.8.8.8.2.2.1.1.3"></times></apply><apply id="S3.E6.m1.9.9.9.9.3.3.2.2.cmml" xref="S3.E6.m1.9.9.9.9.3.3.2.2"><minus id="S3.E6.m1.9.9.9.9.3.3.2.2.1.cmml" xref="S3.E6.m1.9.9.9.9.3.3.2.2.1"></minus><cn type="integer" id="S3.E6.m1.9.9.9.9.3.3.2.2.2.cmml" xref="S3.E6.m1.9.9.9.9.3.3.2.2.2">6</cn><apply id="S3.E6.m1.9.9.9.9.3.3.2.2.3.cmml" xref="S3.E6.m1.9.9.9.9.3.3.2.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.9.9.9.9.3.3.2.2.3.1.cmml" xref="S3.E6.m1.9.9.9.9.3.3.2.2.3">superscript</csymbol><ci id="S3.E6.m1.9.9.9.9.3.3.2.2.3.2.cmml" xref="S3.E6.m1.9.9.9.9.3.3.2.2.3.2">𝑦</ci><times id="S3.E6.m1.9.9.9.9.3.3.2.2.3.3.cmml" xref="S3.E6.m1.9.9.9.9.3.3.2.2.3.3"></times></apply></apply></apply><apply id="S3.E6.m1.12.12.12.12.6.4.cmml" xref="S3.E6.m1.12.12.12.12.6.3"><max id="S3.E6.m1.10.10.10.10.4.1.cmml" xref="S3.E6.m1.10.10.10.10.4.1"></max><apply id="S3.E6.m1.11.11.11.11.5.2.1.1.cmml" xref="S3.E6.m1.11.11.11.11.5.2.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.11.11.11.11.5.2.1.1.1.cmml" xref="S3.E6.m1.11.11.11.11.5.2.1.1">superscript</csymbol><ci id="S3.E6.m1.11.11.11.11.5.2.1.1.2.cmml" xref="S3.E6.m1.11.11.11.11.5.2.1.1.2">𝑦</ci><times id="S3.E6.m1.11.11.11.11.5.2.1.1.3.cmml" xref="S3.E6.m1.11.11.11.11.5.2.1.1.3"></times></apply><apply id="S3.E6.m1.12.12.12.12.6.3.2.2.cmml" xref="S3.E6.m1.12.12.12.12.6.3.2.2"><minus id="S3.E6.m1.12.12.12.12.6.3.2.2.1.cmml" xref="S3.E6.m1.12.12.12.12.6.3.2.2.1"></minus><cn type="integer" id="S3.E6.m1.12.12.12.12.6.3.2.2.2.cmml" xref="S3.E6.m1.12.12.12.12.6.3.2.2.2">6</cn><apply id="S3.E6.m1.12.12.12.12.6.3.2.2.3.cmml" xref="S3.E6.m1.12.12.12.12.6.3.2.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.12.12.12.12.6.3.2.2.3.1.cmml" xref="S3.E6.m1.12.12.12.12.6.3.2.2.3">superscript</csymbol><ci id="S3.E6.m1.12.12.12.12.6.3.2.2.3.2.cmml" xref="S3.E6.m1.12.12.12.12.6.3.2.2.3.2">𝑦</ci><times id="S3.E6.m1.12.12.12.12.6.3.2.2.3.3.cmml" xref="S3.E6.m1.12.12.12.12.6.3.2.2.3.3"></times></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.14c">m(x^{*},y^{*})=\sqrt{\frac{\min(x^{*},6-x^{*})}{\max(x^{*},6-x^{*})}\frac{\min(y^{*},6-y^{*})}{\max(y^{*},6-y^{*})}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p1.32" class="ltx_p">Note that <math id="S3.SS4.p1.14.m1.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS4.p1.14.m1.1a"><mi id="S3.SS4.p1.14.m1.1.1" xref="S3.SS4.p1.14.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.14.m1.1b"><ci id="S3.SS4.p1.14.m1.1.1.cmml" xref="S3.SS4.p1.14.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.14.m1.1c">m</annotation></semantics></math> is between 0 and 1, and a higher value means <math id="S3.SS4.p1.15.m2.2" class="ltx_Math" alttext="(x^{*},y^{*})" display="inline"><semantics id="S3.SS4.p1.15.m2.2a"><mrow id="S3.SS4.p1.15.m2.2.2.2" xref="S3.SS4.p1.15.m2.2.2.3.cmml"><mo stretchy="false" id="S3.SS4.p1.15.m2.2.2.2.3" xref="S3.SS4.p1.15.m2.2.2.3.cmml">(</mo><msup id="S3.SS4.p1.15.m2.1.1.1.1" xref="S3.SS4.p1.15.m2.1.1.1.1.cmml"><mi id="S3.SS4.p1.15.m2.1.1.1.1.2" xref="S3.SS4.p1.15.m2.1.1.1.1.2.cmml">x</mi><mo id="S3.SS4.p1.15.m2.1.1.1.1.3" xref="S3.SS4.p1.15.m2.1.1.1.1.3.cmml">∗</mo></msup><mo id="S3.SS4.p1.15.m2.2.2.2.4" xref="S3.SS4.p1.15.m2.2.2.3.cmml">,</mo><msup id="S3.SS4.p1.15.m2.2.2.2.2" xref="S3.SS4.p1.15.m2.2.2.2.2.cmml"><mi id="S3.SS4.p1.15.m2.2.2.2.2.2" xref="S3.SS4.p1.15.m2.2.2.2.2.2.cmml">y</mi><mo id="S3.SS4.p1.15.m2.2.2.2.2.3" xref="S3.SS4.p1.15.m2.2.2.2.2.3.cmml">∗</mo></msup><mo stretchy="false" id="S3.SS4.p1.15.m2.2.2.2.5" xref="S3.SS4.p1.15.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.15.m2.2b"><interval closure="open" id="S3.SS4.p1.15.m2.2.2.3.cmml" xref="S3.SS4.p1.15.m2.2.2.2"><apply id="S3.SS4.p1.15.m2.1.1.1.1.cmml" xref="S3.SS4.p1.15.m2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.15.m2.1.1.1.1.1.cmml" xref="S3.SS4.p1.15.m2.1.1.1.1">superscript</csymbol><ci id="S3.SS4.p1.15.m2.1.1.1.1.2.cmml" xref="S3.SS4.p1.15.m2.1.1.1.1.2">𝑥</ci><times id="S3.SS4.p1.15.m2.1.1.1.1.3.cmml" xref="S3.SS4.p1.15.m2.1.1.1.1.3"></times></apply><apply id="S3.SS4.p1.15.m2.2.2.2.2.cmml" xref="S3.SS4.p1.15.m2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS4.p1.15.m2.2.2.2.2.1.cmml" xref="S3.SS4.p1.15.m2.2.2.2.2">superscript</csymbol><ci id="S3.SS4.p1.15.m2.2.2.2.2.2.cmml" xref="S3.SS4.p1.15.m2.2.2.2.2.2">𝑦</ci><times id="S3.SS4.p1.15.m2.2.2.2.2.3.cmml" xref="S3.SS4.p1.15.m2.2.2.2.2.3"></times></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.15.m2.2c">(x^{*},y^{*})</annotation></semantics></math> is near the center of the bounding box. Then, we multiply <math id="S3.SS4.p1.16.m3.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS4.p1.16.m3.1a"><mi id="S3.SS4.p1.16.m3.1.1" xref="S3.SS4.p1.16.m3.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.16.m3.1b"><ci id="S3.SS4.p1.16.m3.1.1.cmml" xref="S3.SS4.p1.16.m3.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.16.m3.1c">m</annotation></semantics></math> onto the RoI feature <math id="S3.SS4.p1.17.m4.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S3.SS4.p1.17.m4.1a"><mi id="S3.SS4.p1.17.m4.1.1" xref="S3.SS4.p1.17.m4.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.17.m4.1b"><ci id="S3.SS4.p1.17.m4.1.1.cmml" xref="S3.SS4.p1.17.m4.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.17.m4.1c">f</annotation></semantics></math> and kernel <math id="S3.SS4.p1.18.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS4.p1.18.m5.1a"><mi id="S3.SS4.p1.18.m5.1.1" xref="S3.SS4.p1.18.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.18.m5.1b"><ci id="S3.SS4.p1.18.m5.1.1.cmml" xref="S3.SS4.p1.18.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.18.m5.1c">k</annotation></semantics></math>. Since <math id="S3.SS4.p1.19.m6.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS4.p1.19.m6.1a"><mi id="S3.SS4.p1.19.m6.1.1" xref="S3.SS4.p1.19.m6.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.19.m6.1b"><ci id="S3.SS4.p1.19.m6.1.1.cmml" xref="S3.SS4.p1.19.m6.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.19.m6.1c">m</annotation></semantics></math> has only one channel, it is replicated on channel dimension <math id="S3.SS4.p1.20.m7.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS4.p1.20.m7.1a"><mi id="S3.SS4.p1.20.m7.1.1" xref="S3.SS4.p1.20.m7.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.20.m7.1b"><ci id="S3.SS4.p1.20.m7.1.1.cmml" xref="S3.SS4.p1.20.m7.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.20.m7.1c">c</annotation></semantics></math> to match <math id="S3.SS4.p1.21.m8.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S3.SS4.p1.21.m8.1a"><mi id="S3.SS4.p1.21.m8.1.1" xref="S3.SS4.p1.21.m8.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.21.m8.1b"><ci id="S3.SS4.p1.21.m8.1.1.cmml" xref="S3.SS4.p1.21.m8.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.21.m8.1c">f</annotation></semantics></math>. For <math id="S3.SS4.p1.22.m9.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS4.p1.22.m9.1a"><mi id="S3.SS4.p1.22.m9.1.1" xref="S3.SS4.p1.22.m9.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.22.m9.1b"><ci id="S3.SS4.p1.22.m9.1.1.cmml" xref="S3.SS4.p1.22.m9.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.22.m9.1c">k</annotation></semantics></math>, <math id="S3.SS4.p1.23.m10.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS4.p1.23.m10.1a"><mi id="S3.SS4.p1.23.m10.1.1" xref="S3.SS4.p1.23.m10.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.23.m10.1b"><ci id="S3.SS4.p1.23.m10.1.1.cmml" xref="S3.SS4.p1.23.m10.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.23.m10.1c">m</annotation></semantics></math> needs replication on both channel <math id="S3.SS4.p1.24.m11.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS4.p1.24.m11.1a"><mi id="S3.SS4.p1.24.m11.1.1" xref="S3.SS4.p1.24.m11.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.24.m11.1b"><ci id="S3.SS4.p1.24.m11.1.1.cmml" xref="S3.SS4.p1.24.m11.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.24.m11.1c">c</annotation></semantics></math> and hidden dimension <math id="S3.SS4.p1.25.m12.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.SS4.p1.25.m12.1a"><mi id="S3.SS4.p1.25.m12.1.1" xref="S3.SS4.p1.25.m12.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.25.m12.1b"><ci id="S3.SS4.p1.25.m12.1.1.cmml" xref="S3.SS4.p1.25.m12.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.25.m12.1c">d</annotation></semantics></math>. <math id="S3.SS4.p1.26.m13.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS4.p1.26.m13.1a"><mi id="S3.SS4.p1.26.m13.1.1" xref="S3.SS4.p1.26.m13.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.26.m13.1b"><ci id="S3.SS4.p1.26.m13.1.1.cmml" xref="S3.SS4.p1.26.m13.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.26.m13.1c">k</annotation></semantics></math> also needs expansions on spatial dimension before the multiplication with <math id="S3.SS4.p1.27.m14.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS4.p1.27.m14.1a"><mi id="S3.SS4.p1.27.m14.1.1" xref="S3.SS4.p1.27.m14.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.27.m14.1b"><ci id="S3.SS4.p1.27.m14.1.1.cmml" xref="S3.SS4.p1.27.m14.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.27.m14.1c">m</annotation></semantics></math>, enlarging its size to <math id="S3.SS4.p1.28.m15.1" class="ltx_Math" alttext="7\times 7" display="inline"><semantics id="S3.SS4.p1.28.m15.1a"><mrow id="S3.SS4.p1.28.m15.1.1" xref="S3.SS4.p1.28.m15.1.1.cmml"><mn id="S3.SS4.p1.28.m15.1.1.2" xref="S3.SS4.p1.28.m15.1.1.2.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS4.p1.28.m15.1.1.1" xref="S3.SS4.p1.28.m15.1.1.1.cmml">×</mo><mn id="S3.SS4.p1.28.m15.1.1.3" xref="S3.SS4.p1.28.m15.1.1.3.cmml">7</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.28.m15.1b"><apply id="S3.SS4.p1.28.m15.1.1.cmml" xref="S3.SS4.p1.28.m15.1.1"><times id="S3.SS4.p1.28.m15.1.1.1.cmml" xref="S3.SS4.p1.28.m15.1.1.1"></times><cn type="integer" id="S3.SS4.p1.28.m15.1.1.2.cmml" xref="S3.SS4.p1.28.m15.1.1.2">7</cn><cn type="integer" id="S3.SS4.p1.28.m15.1.1.3.cmml" xref="S3.SS4.p1.28.m15.1.1.3">7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.28.m15.1c">7\times 7</annotation></semantics></math>. After the modulation by <math id="S3.SS4.p1.29.m16.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS4.p1.29.m16.1a"><mi id="S3.SS4.p1.29.m16.1.1" xref="S3.SS4.p1.29.m16.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.29.m16.1b"><ci id="S3.SS4.p1.29.m16.1.1.cmml" xref="S3.SS4.p1.29.m16.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.29.m16.1c">m</annotation></semantics></math>, dynamic kernel <math id="S3.SS4.p1.30.m17.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS4.p1.30.m17.1a"><mi id="S3.SS4.p1.30.m17.1.1" xref="S3.SS4.p1.30.m17.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.30.m17.1b"><ci id="S3.SS4.p1.30.m17.1.1.cmml" xref="S3.SS4.p1.30.m17.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.30.m17.1c">k</annotation></semantics></math> is adapted into <math id="S3.SS4.p1.31.m18.1" class="ltx_Math" alttext="k_{e}" display="inline"><semantics id="S3.SS4.p1.31.m18.1a"><msub id="S3.SS4.p1.31.m18.1.1" xref="S3.SS4.p1.31.m18.1.1.cmml"><mi id="S3.SS4.p1.31.m18.1.1.2" xref="S3.SS4.p1.31.m18.1.1.2.cmml">k</mi><mi id="S3.SS4.p1.31.m18.1.1.3" xref="S3.SS4.p1.31.m18.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.31.m18.1b"><apply id="S3.SS4.p1.31.m18.1.1.cmml" xref="S3.SS4.p1.31.m18.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.31.m18.1.1.1.cmml" xref="S3.SS4.p1.31.m18.1.1">subscript</csymbol><ci id="S3.SS4.p1.31.m18.1.1.2.cmml" xref="S3.SS4.p1.31.m18.1.1.2">𝑘</ci><ci id="S3.SS4.p1.31.m18.1.1.3.cmml" xref="S3.SS4.p1.31.m18.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.31.m18.1c">k_{e}</annotation></semantics></math>, giving each element in <math id="S3.SS4.p1.32.m19.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S3.SS4.p1.32.m19.1a"><mi id="S3.SS4.p1.32.m19.1.1" xref="S3.SS4.p1.32.m19.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.32.m19.1b"><ci id="S3.SS4.p1.32.m19.1.1.cmml" xref="S3.SS4.p1.32.m19.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.32.m19.1c">f</annotation></semantics></math> a unique kernel. Our centerness-based PE is also shown in <a href="#S3.F2" title="In 3.1 Preliminaries ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">2</span></a> (c).</p>
</div>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.6" class="ltx_p">The centerness mask <math id="S3.SS4.p2.1.m1.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS4.p2.1.m1.1a"><mi id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><ci id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">m</annotation></semantics></math> is static with the same size of RoI feature <math id="S3.SS4.p2.2.m2.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S3.SS4.p2.2.m2.1a"><mi id="S3.SS4.p2.2.m2.1.1" xref="S3.SS4.p2.2.m2.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.2.m2.1b"><ci id="S3.SS4.p2.2.m2.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.2.m2.1c">f</annotation></semantics></math>,
which means it has the same value for different <math id="S3.SS4.p2.3.m3.1" class="ltx_Math" alttext="f_{i}" display="inline"><semantics id="S3.SS4.p2.3.m3.1a"><msub id="S3.SS4.p2.3.m3.1.1" xref="S3.SS4.p2.3.m3.1.1.cmml"><mi id="S3.SS4.p2.3.m3.1.1.2" xref="S3.SS4.p2.3.m3.1.1.2.cmml">f</mi><mi id="S3.SS4.p2.3.m3.1.1.3" xref="S3.SS4.p2.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.3.m3.1b"><apply id="S3.SS4.p2.3.m3.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.3.m3.1.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS4.p2.3.m3.1.1.2.cmml" xref="S3.SS4.p2.3.m3.1.1.2">𝑓</ci><ci id="S3.SS4.p2.3.m3.1.1.3.cmml" xref="S3.SS4.p2.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.3.m3.1c">f_{i}</annotation></semantics></math> and <math id="S3.SS4.p2.4.m4.1" class="ltx_Math" alttext="k_{i}" display="inline"><semantics id="S3.SS4.p2.4.m4.1a"><msub id="S3.SS4.p2.4.m4.1.1" xref="S3.SS4.p2.4.m4.1.1.cmml"><mi id="S3.SS4.p2.4.m4.1.1.2" xref="S3.SS4.p2.4.m4.1.1.2.cmml">k</mi><mi id="S3.SS4.p2.4.m4.1.1.3" xref="S3.SS4.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.4.m4.1b"><apply id="S3.SS4.p2.4.m4.1.1.cmml" xref="S3.SS4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.4.m4.1.1.1.cmml" xref="S3.SS4.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.p2.4.m4.1.1.2.cmml" xref="S3.SS4.p2.4.m4.1.1.2">𝑘</ci><ci id="S3.SS4.p2.4.m4.1.1.3.cmml" xref="S3.SS4.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.4.m4.1c">k_{i}</annotation></semantics></math>, and it always gives the largest value at the center position. In practice, we try following two strategies to enhance it. First, we make it learnable as model parameters, with its initialization in <a href="#S3.E6" title="In 3.4 Centerness-based Positional Encoding ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Eq.</span> <span class="ltx_text ltx_ref_tag">6</span></a>. Second, we adjust the largest value position by predicting the center coordinate from proposal feature <math id="S3.SS4.p2.5.m5.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.SS4.p2.5.m5.1a"><mi id="S3.SS4.p2.5.m5.1.1" xref="S3.SS4.p2.5.m5.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.5.m5.1b"><ci id="S3.SS4.p2.5.m5.1.1.cmml" xref="S3.SS4.p2.5.m5.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.5.m5.1c">q</annotation></semantics></math>. However, we find the static <math id="S3.SS4.p2.6.m6.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS4.p2.6.m6.1a"><mi id="S3.SS4.p2.6.m6.1.1" xref="S3.SS4.p2.6.m6.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.6.m6.1b"><ci id="S3.SS4.p2.6.m6.1.1.cmml" xref="S3.SS4.p2.6.m6.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.6.m6.1c">m</annotation></semantics></math> strategy gives better results than the other two. Details are provided in the ablation study in <a href="#S4.T4" title="In 4.3 Ablation Study ‣ 4 Experiments ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span> <span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<figure id="S3.T3" class="ltx_table">
<table id="S3.T3.5" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T3.5.5" class="ltx_tr">
<th id="S3.T3.5.5.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">Method</th>
<th id="S3.T3.5.5.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Backbone</th>
<th id="S3.T3.5.5.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">TTA</th>
<th id="S3.T3.5.5.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">AP</th>
<th id="S3.T3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S3.T3.1.1.1.m1.1" class="ltx_Math" alttext="\rm{AP}_{50}" display="inline"><semantics id="S3.T3.1.1.1.m1.1a"><msub id="S3.T3.1.1.1.m1.1.1" xref="S3.T3.1.1.1.m1.1.1.cmml"><mi id="S3.T3.1.1.1.m1.1.1.2" xref="S3.T3.1.1.1.m1.1.1.2.cmml">AP</mi><mn id="S3.T3.1.1.1.m1.1.1.3" xref="S3.T3.1.1.1.m1.1.1.3.cmml">50</mn></msub><annotation-xml encoding="MathML-Content" id="S3.T3.1.1.1.m1.1b"><apply id="S3.T3.1.1.1.m1.1.1.cmml" xref="S3.T3.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.1.1.1.m1.1.1.1.cmml" xref="S3.T3.1.1.1.m1.1.1">subscript</csymbol><ci id="S3.T3.1.1.1.m1.1.1.2.cmml" xref="S3.T3.1.1.1.m1.1.1.2">AP</ci><cn type="integer" id="S3.T3.1.1.1.m1.1.1.3.cmml" xref="S3.T3.1.1.1.m1.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.1.1.1.m1.1c">\rm{AP}_{50}</annotation></semantics></math></th>
<th id="S3.T3.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S3.T3.2.2.2.m1.1" class="ltx_Math" alttext="\rm{AP}_{75}" display="inline"><semantics id="S3.T3.2.2.2.m1.1a"><msub id="S3.T3.2.2.2.m1.1.1" xref="S3.T3.2.2.2.m1.1.1.cmml"><mi id="S3.T3.2.2.2.m1.1.1.2" xref="S3.T3.2.2.2.m1.1.1.2.cmml">AP</mi><mn id="S3.T3.2.2.2.m1.1.1.3" xref="S3.T3.2.2.2.m1.1.1.3.cmml">75</mn></msub><annotation-xml encoding="MathML-Content" id="S3.T3.2.2.2.m1.1b"><apply id="S3.T3.2.2.2.m1.1.1.cmml" xref="S3.T3.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.2.2.2.m1.1.1.1.cmml" xref="S3.T3.2.2.2.m1.1.1">subscript</csymbol><ci id="S3.T3.2.2.2.m1.1.1.2.cmml" xref="S3.T3.2.2.2.m1.1.1.2">AP</ci><cn type="integer" id="S3.T3.2.2.2.m1.1.1.3.cmml" xref="S3.T3.2.2.2.m1.1.1.3">75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.2.2.2.m1.1c">\rm{AP}_{75}</annotation></semantics></math></th>
<th id="S3.T3.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S3.T3.3.3.3.m1.1" class="ltx_Math" alttext="\rm{AP}_{S}" display="inline"><semantics id="S3.T3.3.3.3.m1.1a"><msub id="S3.T3.3.3.3.m1.1.1" xref="S3.T3.3.3.3.m1.1.1.cmml"><mi id="S3.T3.3.3.3.m1.1.1.2" xref="S3.T3.3.3.3.m1.1.1.2.cmml">AP</mi><mi mathvariant="normal" id="S3.T3.3.3.3.m1.1.1.3" xref="S3.T3.3.3.3.m1.1.1.3.cmml">S</mi></msub><annotation-xml encoding="MathML-Content" id="S3.T3.3.3.3.m1.1b"><apply id="S3.T3.3.3.3.m1.1.1.cmml" xref="S3.T3.3.3.3.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.3.3.3.m1.1.1.1.cmml" xref="S3.T3.3.3.3.m1.1.1">subscript</csymbol><ci id="S3.T3.3.3.3.m1.1.1.2.cmml" xref="S3.T3.3.3.3.m1.1.1.2">AP</ci><ci id="S3.T3.3.3.3.m1.1.1.3.cmml" xref="S3.T3.3.3.3.m1.1.1.3">S</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.3.3.3.m1.1c">\rm{AP}_{S}</annotation></semantics></math></th>
<th id="S3.T3.4.4.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S3.T3.4.4.4.m1.1" class="ltx_Math" alttext="\rm{AP}_{M}" display="inline"><semantics id="S3.T3.4.4.4.m1.1a"><msub id="S3.T3.4.4.4.m1.1.1" xref="S3.T3.4.4.4.m1.1.1.cmml"><mi id="S3.T3.4.4.4.m1.1.1.2" xref="S3.T3.4.4.4.m1.1.1.2.cmml">AP</mi><mi mathvariant="normal" id="S3.T3.4.4.4.m1.1.1.3" xref="S3.T3.4.4.4.m1.1.1.3.cmml">M</mi></msub><annotation-xml encoding="MathML-Content" id="S3.T3.4.4.4.m1.1b"><apply id="S3.T3.4.4.4.m1.1.1.cmml" xref="S3.T3.4.4.4.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.4.4.4.m1.1.1.1.cmml" xref="S3.T3.4.4.4.m1.1.1">subscript</csymbol><ci id="S3.T3.4.4.4.m1.1.1.2.cmml" xref="S3.T3.4.4.4.m1.1.1.2">AP</ci><ci id="S3.T3.4.4.4.m1.1.1.3.cmml" xref="S3.T3.4.4.4.m1.1.1.3">M</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.4.4.4.m1.1c">\rm{AP}_{M}</annotation></semantics></math></th>
<th id="S3.T3.5.5.5" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S3.T3.5.5.5.m1.1" class="ltx_Math" alttext="\rm{AP}_{L}" display="inline"><semantics id="S3.T3.5.5.5.m1.1a"><msub id="S3.T3.5.5.5.m1.1.1" xref="S3.T3.5.5.5.m1.1.1.cmml"><mi id="S3.T3.5.5.5.m1.1.1.2" xref="S3.T3.5.5.5.m1.1.1.2.cmml">AP</mi><mi mathvariant="normal" id="S3.T3.5.5.5.m1.1.1.3" xref="S3.T3.5.5.5.m1.1.1.3.cmml">L</mi></msub><annotation-xml encoding="MathML-Content" id="S3.T3.5.5.5.m1.1b"><apply id="S3.T3.5.5.5.m1.1.1.cmml" xref="S3.T3.5.5.5.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.5.5.5.m1.1.1.1.cmml" xref="S3.T3.5.5.5.m1.1.1">subscript</csymbol><ci id="S3.T3.5.5.5.m1.1.1.2.cmml" xref="S3.T3.5.5.5.m1.1.1.2">AP</ci><ci id="S3.T3.5.5.5.m1.1.1.3.cmml" xref="S3.T3.5.5.5.m1.1.1.3">L</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.5.5.5.m1.1c">\rm{AP}_{L}</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T3.5.6.1" class="ltx_tr">
<td id="S3.T3.5.6.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">AdaMixer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>
</td>
<td id="S3.T3.5.6.1.2" class="ltx_td ltx_align_center ltx_border_t">ResNeXt-101-DCN</td>
<td id="S3.T3.5.6.1.3" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S3.T3.5.6.1.4" class="ltx_td ltx_align_center ltx_border_t">49.8</td>
<td id="S3.T3.5.6.1.5" class="ltx_td ltx_align_center ltx_border_t">69.3</td>
<td id="S3.T3.5.6.1.6" class="ltx_td ltx_align_center ltx_border_t">54.3</td>
<td id="S3.T3.5.6.1.7" class="ltx_td ltx_align_center ltx_border_t">30.0</td>
<td id="S3.T3.5.6.1.8" class="ltx_td ltx_align_center ltx_border_t">52.1</td>
<td id="S3.T3.5.6.1.9" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">64.3</td>
</tr>
<tr id="S3.T3.5.7.2" class="ltx_tr">
<td id="S3.T3.5.7.2.1" class="ltx_td ltx_align_center ltx_border_r">Dynamic DETR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>
</td>
<td id="S3.T3.5.7.2.2" class="ltx_td ltx_align_center">ResNeXt-101-DCN</td>
<td id="S3.T3.5.7.2.3" class="ltx_td ltx_border_r"></td>
<td id="S3.T3.5.7.2.4" class="ltx_td ltx_align_center">49.3</td>
<td id="S3.T3.5.7.2.5" class="ltx_td ltx_align_center">68.4</td>
<td id="S3.T3.5.7.2.6" class="ltx_td ltx_align_center">53.6</td>
<td id="S3.T3.5.7.2.7" class="ltx_td ltx_align_center">30.3</td>
<td id="S3.T3.5.7.2.8" class="ltx_td ltx_align_center">51.6</td>
<td id="S3.T3.5.7.2.9" class="ltx_td ltx_nopad_r ltx_align_center">62.5</td>
</tr>
<tr id="S3.T3.5.8.3" class="ltx_tr">
<td id="S3.T3.5.8.3.1" class="ltx_td ltx_align_center ltx_border_r">Sparse R-CNN</td>
<td id="S3.T3.5.8.3.2" class="ltx_td ltx_align_center">Swin-T</td>
<td id="S3.T3.5.8.3.3" class="ltx_td ltx_border_r"></td>
<td id="S3.T3.5.8.3.4" class="ltx_td ltx_align_center">47.0</td>
<td id="S3.T3.5.8.3.5" class="ltx_td ltx_align_center">66.8</td>
<td id="S3.T3.5.8.3.6" class="ltx_td ltx_align_center">51.2</td>
<td id="S3.T3.5.8.3.7" class="ltx_td ltx_align_center">28.3</td>
<td id="S3.T3.5.8.3.8" class="ltx_td ltx_align_center">49.0</td>
<td id="S3.T3.5.8.3.9" class="ltx_td ltx_nopad_r ltx_align_center">60.6</td>
</tr>
<tr id="S3.T3.5.9.4" class="ltx_tr">
<td id="S3.T3.5.9.4.1" class="ltx_td ltx_align_center ltx_border_r">Sparse R-CNN</td>
<td id="S3.T3.5.9.4.2" class="ltx_td ltx_align_center">Swin-B</td>
<td id="S3.T3.5.9.4.3" class="ltx_td ltx_border_r"></td>
<td id="S3.T3.5.9.4.4" class="ltx_td ltx_align_center">52.2</td>
<td id="S3.T3.5.9.4.5" class="ltx_td ltx_align_center">72.6</td>
<td id="S3.T3.5.9.4.6" class="ltx_td ltx_align_center">57.2</td>
<td id="S3.T3.5.9.4.7" class="ltx_td ltx_align_center">32.3</td>
<td id="S3.T3.5.9.4.8" class="ltx_td ltx_align_center">54.9</td>
<td id="S3.T3.5.9.4.9" class="ltx_td ltx_nopad_r ltx_align_center">67.2</td>
</tr>
<tr id="S3.T3.5.10.5" class="ltx_tr">
<td id="S3.T3.5.10.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">RecursiveDet</td>
<td id="S3.T3.5.10.5.2" class="ltx_td ltx_align_center ltx_border_t">Swin-T</td>
<td id="S3.T3.5.10.5.3" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S3.T3.5.10.5.4" class="ltx_td ltx_align_center ltx_border_t">49.1</td>
<td id="S3.T3.5.10.5.5" class="ltx_td ltx_align_center ltx_border_t">68.5</td>
<td id="S3.T3.5.10.5.6" class="ltx_td ltx_align_center ltx_border_t">53.9</td>
<td id="S3.T3.5.10.5.7" class="ltx_td ltx_align_center ltx_border_t">30.5</td>
<td id="S3.T3.5.10.5.8" class="ltx_td ltx_align_center ltx_border_t">51.2</td>
<td id="S3.T3.5.10.5.9" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">61.9</td>
</tr>
<tr id="S3.T3.5.11.6" class="ltx_tr">
<td id="S3.T3.5.11.6.1" class="ltx_td ltx_align_center ltx_border_r">RecursiveDet</td>
<td id="S3.T3.5.11.6.2" class="ltx_td ltx_align_center">Swin-B</td>
<td id="S3.T3.5.11.6.3" class="ltx_td ltx_border_r"></td>
<td id="S3.T3.5.11.6.4" class="ltx_td ltx_align_center">53.1</td>
<td id="S3.T3.5.11.6.5" class="ltx_td ltx_align_center">73.9</td>
<td id="S3.T3.5.11.6.6" class="ltx_td ltx_align_center">58.5</td>
<td id="S3.T3.5.11.6.7" class="ltx_td ltx_align_center">33.7</td>
<td id="S3.T3.5.11.6.8" class="ltx_td ltx_align_center">55.8</td>
<td id="S3.T3.5.11.6.9" class="ltx_td ltx_nopad_r ltx_align_center">67.9</td>
</tr>
<tr id="S3.T3.5.12.7" class="ltx_tr">
<td id="S3.T3.5.12.7.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">RecursiveDet</td>
<td id="S3.T3.5.12.7.2" class="ltx_td ltx_align_center ltx_border_bb">Swin-B</td>
<td id="S3.T3.5.12.7.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">✓</td>
<td id="S3.T3.5.12.7.4" class="ltx_td ltx_align_center ltx_border_bb">55.1</td>
<td id="S3.T3.5.12.7.5" class="ltx_td ltx_align_center ltx_border_bb">75.0</td>
<td id="S3.T3.5.12.7.6" class="ltx_td ltx_align_center ltx_border_bb">61.8</td>
<td id="S3.T3.5.12.7.7" class="ltx_td ltx_align_center ltx_border_bb">37.7</td>
<td id="S3.T3.5.12.7.8" class="ltx_td ltx_align_center ltx_border_bb">57.3</td>
<td id="S3.T3.5.12.7.9" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb">68.5</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Results on COCO 2017 test-dev set. ”TTA” indicates test-time augmentations, following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite>.</figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Implementation Details</h3>

<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">Datasets.</span> We conduct extensive experiments on MS-COCO 2017 detection dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> with 80 categories in total. There are about 118k images in the train2017 set and 5k in val2017. We report the standard MS COCO AP as the main evaluation metric.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.3" class="ltx_p"><span id="S4.SS1.p2.3.1" class="ltx_text ltx_font_bold">Training settings.</span> We adopt the same data augmentation as Sparse R-CNN, including random horizontal flipping, random crop and scale jitter of resizing the input images such that the shortest side is at least 480 and at most 800 pixels while the longest is at most 1333.
The training loss is the same as matching cost with loss weight <math id="S4.SS1.p2.1.m1.1" class="ltx_Math" alttext="\lambda_{cls}=2" display="inline"><semantics id="S4.SS1.p2.1.m1.1a"><mrow id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml"><msub id="S4.SS1.p2.1.m1.1.1.2" xref="S4.SS1.p2.1.m1.1.1.2.cmml"><mi id="S4.SS1.p2.1.m1.1.1.2.2" xref="S4.SS1.p2.1.m1.1.1.2.2.cmml">λ</mi><mrow id="S4.SS1.p2.1.m1.1.1.2.3" xref="S4.SS1.p2.1.m1.1.1.2.3.cmml"><mi id="S4.SS1.p2.1.m1.1.1.2.3.2" xref="S4.SS1.p2.1.m1.1.1.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p2.1.m1.1.1.2.3.1" xref="S4.SS1.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.SS1.p2.1.m1.1.1.2.3.3" xref="S4.SS1.p2.1.m1.1.1.2.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p2.1.m1.1.1.2.3.1a" xref="S4.SS1.p2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.SS1.p2.1.m1.1.1.2.3.4" xref="S4.SS1.p2.1.m1.1.1.2.3.4.cmml">s</mi></mrow></msub><mo id="S4.SS1.p2.1.m1.1.1.1" xref="S4.SS1.p2.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.p2.1.m1.1.1.3" xref="S4.SS1.p2.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"><eq id="S4.SS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1.1"></eq><apply id="S4.SS1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.1.1.2.1.cmml" xref="S4.SS1.p2.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS1.p2.1.m1.1.1.2.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2.2">𝜆</ci><apply id="S4.SS1.p2.1.m1.1.1.2.3.cmml" xref="S4.SS1.p2.1.m1.1.1.2.3"><times id="S4.SS1.p2.1.m1.1.1.2.3.1.cmml" xref="S4.SS1.p2.1.m1.1.1.2.3.1"></times><ci id="S4.SS1.p2.1.m1.1.1.2.3.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2.3.2">𝑐</ci><ci id="S4.SS1.p2.1.m1.1.1.2.3.3.cmml" xref="S4.SS1.p2.1.m1.1.1.2.3.3">𝑙</ci><ci id="S4.SS1.p2.1.m1.1.1.2.3.4.cmml" xref="S4.SS1.p2.1.m1.1.1.2.3.4">𝑠</ci></apply></apply><cn type="integer" id="S4.SS1.p2.1.m1.1.1.3.cmml" xref="S4.SS1.p2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">\lambda_{cls}=2</annotation></semantics></math>, <math id="S4.SS1.p2.2.m2.1" class="ltx_Math" alttext="\lambda_{L_{1}}=5" display="inline"><semantics id="S4.SS1.p2.2.m2.1a"><mrow id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml"><msub id="S4.SS1.p2.2.m2.1.1.2" xref="S4.SS1.p2.2.m2.1.1.2.cmml"><mi id="S4.SS1.p2.2.m2.1.1.2.2" xref="S4.SS1.p2.2.m2.1.1.2.2.cmml">λ</mi><msub id="S4.SS1.p2.2.m2.1.1.2.3" xref="S4.SS1.p2.2.m2.1.1.2.3.cmml"><mi id="S4.SS1.p2.2.m2.1.1.2.3.2" xref="S4.SS1.p2.2.m2.1.1.2.3.2.cmml">L</mi><mn id="S4.SS1.p2.2.m2.1.1.2.3.3" xref="S4.SS1.p2.2.m2.1.1.2.3.3.cmml">1</mn></msub></msub><mo id="S4.SS1.p2.2.m2.1.1.1" xref="S4.SS1.p2.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS1.p2.2.m2.1.1.3" xref="S4.SS1.p2.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b"><apply id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1"><eq id="S4.SS1.p2.2.m2.1.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1.1"></eq><apply id="S4.SS1.p2.2.m2.1.1.2.cmml" xref="S4.SS1.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p2.2.m2.1.1.2.1.cmml" xref="S4.SS1.p2.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS1.p2.2.m2.1.1.2.2.cmml" xref="S4.SS1.p2.2.m2.1.1.2.2">𝜆</ci><apply id="S4.SS1.p2.2.m2.1.1.2.3.cmml" xref="S4.SS1.p2.2.m2.1.1.2.3"><csymbol cd="ambiguous" id="S4.SS1.p2.2.m2.1.1.2.3.1.cmml" xref="S4.SS1.p2.2.m2.1.1.2.3">subscript</csymbol><ci id="S4.SS1.p2.2.m2.1.1.2.3.2.cmml" xref="S4.SS1.p2.2.m2.1.1.2.3.2">𝐿</ci><cn type="integer" id="S4.SS1.p2.2.m2.1.1.2.3.3.cmml" xref="S4.SS1.p2.2.m2.1.1.2.3.3">1</cn></apply></apply><cn type="integer" id="S4.SS1.p2.2.m2.1.1.3.cmml" xref="S4.SS1.p2.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">\lambda_{L_{1}}=5</annotation></semantics></math> and <math id="S4.SS1.p2.3.m3.1" class="ltx_Math" alttext="\lambda_{giou}=2" display="inline"><semantics id="S4.SS1.p2.3.m3.1a"><mrow id="S4.SS1.p2.3.m3.1.1" xref="S4.SS1.p2.3.m3.1.1.cmml"><msub id="S4.SS1.p2.3.m3.1.1.2" xref="S4.SS1.p2.3.m3.1.1.2.cmml"><mi id="S4.SS1.p2.3.m3.1.1.2.2" xref="S4.SS1.p2.3.m3.1.1.2.2.cmml">λ</mi><mrow id="S4.SS1.p2.3.m3.1.1.2.3" xref="S4.SS1.p2.3.m3.1.1.2.3.cmml"><mi id="S4.SS1.p2.3.m3.1.1.2.3.2" xref="S4.SS1.p2.3.m3.1.1.2.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p2.3.m3.1.1.2.3.1" xref="S4.SS1.p2.3.m3.1.1.2.3.1.cmml">​</mo><mi id="S4.SS1.p2.3.m3.1.1.2.3.3" xref="S4.SS1.p2.3.m3.1.1.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p2.3.m3.1.1.2.3.1a" xref="S4.SS1.p2.3.m3.1.1.2.3.1.cmml">​</mo><mi id="S4.SS1.p2.3.m3.1.1.2.3.4" xref="S4.SS1.p2.3.m3.1.1.2.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p2.3.m3.1.1.2.3.1b" xref="S4.SS1.p2.3.m3.1.1.2.3.1.cmml">​</mo><mi id="S4.SS1.p2.3.m3.1.1.2.3.5" xref="S4.SS1.p2.3.m3.1.1.2.3.5.cmml">u</mi></mrow></msub><mo id="S4.SS1.p2.3.m3.1.1.1" xref="S4.SS1.p2.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS1.p2.3.m3.1.1.3" xref="S4.SS1.p2.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.3.m3.1b"><apply id="S4.SS1.p2.3.m3.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1"><eq id="S4.SS1.p2.3.m3.1.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1.1"></eq><apply id="S4.SS1.p2.3.m3.1.1.2.cmml" xref="S4.SS1.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p2.3.m3.1.1.2.1.cmml" xref="S4.SS1.p2.3.m3.1.1.2">subscript</csymbol><ci id="S4.SS1.p2.3.m3.1.1.2.2.cmml" xref="S4.SS1.p2.3.m3.1.1.2.2">𝜆</ci><apply id="S4.SS1.p2.3.m3.1.1.2.3.cmml" xref="S4.SS1.p2.3.m3.1.1.2.3"><times id="S4.SS1.p2.3.m3.1.1.2.3.1.cmml" xref="S4.SS1.p2.3.m3.1.1.2.3.1"></times><ci id="S4.SS1.p2.3.m3.1.1.2.3.2.cmml" xref="S4.SS1.p2.3.m3.1.1.2.3.2">𝑔</ci><ci id="S4.SS1.p2.3.m3.1.1.2.3.3.cmml" xref="S4.SS1.p2.3.m3.1.1.2.3.3">𝑖</ci><ci id="S4.SS1.p2.3.m3.1.1.2.3.4.cmml" xref="S4.SS1.p2.3.m3.1.1.2.3.4">𝑜</ci><ci id="S4.SS1.p2.3.m3.1.1.2.3.5.cmml" xref="S4.SS1.p2.3.m3.1.1.2.3.5">𝑢</ci></apply></apply><cn type="integer" id="S4.SS1.p2.3.m3.1.1.3.cmml" xref="S4.SS1.p2.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.3.m3.1c">\lambda_{giou}=2</annotation></semantics></math>. The learning rate is divided by 10 at 210K and 250K iterations if the training schedule is 270k iterations, or at 350K and 420K if the training schedule is 450K. The default number of decoding stages is 6.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Main Results</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">The proposed RecursiveDet is built on three region-based detectors, including Sparse R-CNN, AdaMixer and DiffusionDet. We provide the performance comparisons of RecursiveDet with well-established methods on COCO 2017 validation set in <a href="#S3.T2" title="In 3.3 Bounding Box Positional Encoding ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span> <span class="ltx_text ltx_ref_tag">2</span></a>. Note that, the sampling points in 3D feature space are out of the proposal boxes in AdaMixer, so the centerness-based PE is not implemented into it. It can be seen that the three region-based detectors exceed Cascade R-CNN and the other DETR-series detector, but require more model parameters. Owing to the recursive structure, our method saves a massive amount of parameters. With ResNet-50 backbone, RecursiveDet built on Sparse R-CNN outperforms Sparse R-CNN by 1.5 AP, while parameters are reduced from 106M to 55M. The models built on DiffusionDet and AdaMixer beat their baseline 1.6 AP (47.1 vs. 45.5) and 0.9 AP (47.0 vs. 47.9).
RecursiveDet also behaves well when backbone scales up. With ResNet-101, RecursiveDet achieves 47.1, 46.9 and 48.9 based on Sparse R-CNN, DiffusionDet and Adamixer. More surprisingly, RecursiveDet(AdaMixer) and RecursiveDet(Sparse R-CNN) reach 52.1 and 53.1 with the help of Swin-S and Swin-B, respectively. Although RecursiveDet(DiffusionDet) doesn’t exceed its baseline, it reduces more than 30% of the model size.
Note that, all our models save a large number of parameters.
The results of our method on COCO test-dev set are listed in <a href="#S3.T3" title="In 3.4 Centerness-based Positional Encoding ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span> <span class="ltx_text ltx_ref_tag">3</span></a>. RecursiveDet reaches 53.1 AP on Swin-B without bells and whistles. When test-time augmentation is utilized, it achives 55.1 AP.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Ablation Study</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">In this section, we use ResNet-50 to perform ablation studies based on Sparse R-CNN architecture as default. The number of proposal features is 100.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para ltx_noindent">
<p id="S4.SS3.p2.1" class="ltx_p"><span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_bold">Recursive Structure.</span> Since Sparse R-CNN has multiple cascade decoder stages to refine the predictions progressively, the parameters of it are redundant. We propose to share them in different stages.
As shown in <a href="#S4.T4" title="In 4.3 Ablation Study ‣ 4 Experiments ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span> <span class="ltx_text ltx_ref_tag">4</span></a>, simply sharing the parameters and making the structure recursive reduces the model size from 106M to 40.1M, with a slight performance drop of 0.4 AP.
To take full advantage of the decoder’s capabilities,
we reuse the dynamic layer and out layer to increase the depth of model without adding new parameters.
It gains 43.6 AP,
surpassing the original Sparse R-CNN 0.8 AP.
As the first stage is difficult to locate objects,
we keep the initial stage independent with the other recursive ones.
Note that the total number of stages remains 6. The performance reaches 43.9 AP, gains 0.3 AP from model ’RecSt + RecDy’ with a small cost and negligible latency.
</p>
</div>
<figure id="S4.T4" class="ltx_table">
<div id="S4.T4.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:118.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(52.6pt,-14.4pt) scale(1.3202102025036,1.3202102025036) ;">
<table id="S4.T4.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.1.1.1" class="ltx_tr">
<th id="S4.T4.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">RecSt</th>
<th id="S4.T4.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">RecSt<sup id="S4.T4.1.1.1.1.1" class="ltx_sup"><span id="S4.T4.1.1.1.1.1.1" class="ltx_text ltx_font_italic">†</span></sup>
</th>
<th id="S4.T4.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">RecDy</th>
<th id="S4.T4.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">AP</th>
<th id="S4.T4.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Params(M)</th>
<th id="S4.T4.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Flops(G)</th>
<th id="S4.T4.1.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">L(ms)</th>
<th id="S4.T4.1.1.1.8" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt">FPS</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.1.1.2.1" class="ltx_tr">
<th id="S4.T4.1.1.2.1.1" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<th id="S4.T4.1.1.2.1.2" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<th id="S4.T4.1.1.2.1.3" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<th id="S4.T4.1.1.2.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">42.8</th>
<td id="S4.T4.1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t">106</td>
<td id="S4.T4.1.1.2.1.6" class="ltx_td ltx_align_center ltx_border_t">134</td>
<td id="S4.T4.1.1.2.1.7" class="ltx_td ltx_align_center ltx_border_t">49</td>
<td id="S4.T4.1.1.2.1.8" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">20</td>
</tr>
<tr id="S4.T4.1.1.3.2" class="ltx_tr">
<th id="S4.T4.1.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S4.T4.1.1.3.2.2" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S4.T4.1.1.3.2.3" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S4.T4.1.1.3.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_row">42.4</th>
<td id="S4.T4.1.1.3.2.5" class="ltx_td ltx_align_center">40</td>
<td id="S4.T4.1.1.3.2.6" class="ltx_td ltx_align_center">134</td>
<td id="S4.T4.1.1.3.2.7" class="ltx_td ltx_align_center">48</td>
<td id="S4.T4.1.1.3.2.8" class="ltx_td ltx_nopad_r ltx_align_center">21</td>
</tr>
<tr id="S4.T4.1.1.4.3" class="ltx_tr">
<th id="S4.T4.1.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S4.T4.1.1.4.3.2" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S4.T4.1.1.4.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S4.T4.1.1.4.3.4" class="ltx_td ltx_align_center ltx_th ltx_th_row">43.6</th>
<td id="S4.T4.1.1.4.3.5" class="ltx_td ltx_align_center">40</td>
<td id="S4.T4.1.1.4.3.6" class="ltx_td ltx_align_center">142</td>
<td id="S4.T4.1.1.4.3.7" class="ltx_td ltx_align_center">50</td>
<td id="S4.T4.1.1.4.3.8" class="ltx_td ltx_nopad_r ltx_align_center">20</td>
</tr>
<tr id="S4.T4.1.1.5.4" class="ltx_tr">
<th id="S4.T4.1.1.5.4.1" class="ltx_td ltx_th ltx_th_row ltx_border_bb"></th>
<th id="S4.T4.1.1.5.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">✓</th>
<th id="S4.T4.1.1.5.4.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">✓</th>
<th id="S4.T4.1.1.5.4.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">43.9</th>
<td id="S4.T4.1.1.5.4.5" class="ltx_td ltx_align_center ltx_border_bb">53</td>
<td id="S4.T4.1.1.5.4.6" class="ltx_td ltx_align_center ltx_border_bb">140</td>
<td id="S4.T4.1.1.5.4.7" class="ltx_td ltx_align_center ltx_border_bb">51</td>
<td id="S4.T4.1.1.5.4.8" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb">20</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Ablation about recursive structure. ’RecSt’ indicates that the parameters of different stages are shared, ’RecDy’ means dynamic layer and out layer are reused. ’<sup id="S4.T4.5.1" class="ltx_sup"><span id="S4.T4.5.1.1" class="ltx_text ltx_font_italic">†</span></sup>’ implies the first stage’s parameters are independent of the remaining stages. </figcaption>
</figure>
<div id="S4.SS3.p3" class="ltx_para ltx_noindent">
<p id="S4.SS3.p3.1" class="ltx_p"><span id="S4.SS3.p3.1.1" class="ltx_text ltx_font_bold">Centerness form in PE.</span> 
As discribed in <a href="#S3.SS4" title="3.4 Centerness-based Positional Encoding ‣ 3 Method ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span> <span class="ltx_text ltx_ref_tag">3.4</span></a>, the local coordinate PE of centerness makes model explore location information more precisely. In addition to the static centerness computed within <math id="S4.SS3.p3.1.m1.1" class="ltx_Math" alttext="7\times 7" display="inline"><semantics id="S4.SS3.p3.1.m1.1a"><mrow id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml"><mn id="S4.SS3.p3.1.m1.1.1.2" xref="S4.SS3.p3.1.m1.1.1.2.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p3.1.m1.1.1.1" xref="S4.SS3.p3.1.m1.1.1.1.cmml">×</mo><mn id="S4.SS3.p3.1.m1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.3.cmml">7</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><apply id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1"><times id="S4.SS3.p3.1.m1.1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1.1"></times><cn type="integer" id="S4.SS3.p3.1.m1.1.1.2.cmml" xref="S4.SS3.p3.1.m1.1.1.2">7</cn><cn type="integer" id="S4.SS3.p3.1.m1.1.1.3.cmml" xref="S4.SS3.p3.1.m1.1.1.3">7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">7\times 7</annotation></semantics></math> region, it can be trained as learnable parameters of the model. The result in <a href="#S4.T5" title="In 4.3 Ablation Study ‣ 4 Experiments ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span> <span class="ltx_text ltx_ref_tag">5</span></a> shows a performance drop of about 0.3 AP. As different objects have various shapes and focus on different points, we predict a group of offsets to distinguish where the object center is. Let the value of centerness at this position be the maximum, the further away, the smaller. However, the result is unsatisfactory with 44.5 AP, which is 0.7 less than the static one.</p>
</div>
<figure id="S4.T5" class="ltx_table">
<table id="S4.T5.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T5.2.2" class="ltx_tr">
<th id="S4.T5.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">centerness</th>
<th id="S4.T5.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">AP</th>
<th id="S4.T5.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S4.T5.1.1.1.m1.1" class="ltx_Math" alttext="\rm{AP}_{50}" display="inline"><semantics id="S4.T5.1.1.1.m1.1a"><msub id="S4.T5.1.1.1.m1.1.1" xref="S4.T5.1.1.1.m1.1.1.cmml"><mi id="S4.T5.1.1.1.m1.1.1.2" xref="S4.T5.1.1.1.m1.1.1.2.cmml">AP</mi><mn id="S4.T5.1.1.1.m1.1.1.3" xref="S4.T5.1.1.1.m1.1.1.3.cmml">50</mn></msub><annotation-xml encoding="MathML-Content" id="S4.T5.1.1.1.m1.1b"><apply id="S4.T5.1.1.1.m1.1.1.cmml" xref="S4.T5.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T5.1.1.1.m1.1.1.1.cmml" xref="S4.T5.1.1.1.m1.1.1">subscript</csymbol><ci id="S4.T5.1.1.1.m1.1.1.2.cmml" xref="S4.T5.1.1.1.m1.1.1.2">AP</ci><cn type="integer" id="S4.T5.1.1.1.m1.1.1.3.cmml" xref="S4.T5.1.1.1.m1.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.1.1.1.m1.1c">\rm{AP}_{50}</annotation></semantics></math></th>
<th id="S4.T5.2.2.2" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S4.T5.2.2.2.m1.1" class="ltx_Math" alttext="\rm{AP}_{75}" display="inline"><semantics id="S4.T5.2.2.2.m1.1a"><msub id="S4.T5.2.2.2.m1.1.1" xref="S4.T5.2.2.2.m1.1.1.cmml"><mi id="S4.T5.2.2.2.m1.1.1.2" xref="S4.T5.2.2.2.m1.1.1.2.cmml">AP</mi><mn id="S4.T5.2.2.2.m1.1.1.3" xref="S4.T5.2.2.2.m1.1.1.3.cmml">75</mn></msub><annotation-xml encoding="MathML-Content" id="S4.T5.2.2.2.m1.1b"><apply id="S4.T5.2.2.2.m1.1.1.cmml" xref="S4.T5.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T5.2.2.2.m1.1.1.1.cmml" xref="S4.T5.2.2.2.m1.1.1">subscript</csymbol><ci id="S4.T5.2.2.2.m1.1.1.2.cmml" xref="S4.T5.2.2.2.m1.1.1.2">AP</ci><cn type="integer" id="S4.T5.2.2.2.m1.1.1.3.cmml" xref="S4.T5.2.2.2.m1.1.1.3">75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.2.2.2.m1.1c">\rm{AP}_{75}</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T5.2.3.1" class="ltx_tr">
<th id="S4.T5.2.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">static</th>
<th id="S4.T5.2.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">45.2</th>
<td id="S4.T5.2.3.1.3" class="ltx_td ltx_align_center ltx_border_t">63.9</td>
<td id="S4.T5.2.3.1.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">49.4</td>
</tr>
<tr id="S4.T5.2.4.2" class="ltx_tr">
<th id="S4.T5.2.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">learnable</th>
<th id="S4.T5.2.4.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">44.9</th>
<td id="S4.T5.2.4.2.3" class="ltx_td ltx_align_center">63.5</td>
<td id="S4.T5.2.4.2.4" class="ltx_td ltx_nopad_r ltx_align_center">49.0</td>
</tr>
<tr id="S4.T5.2.5.3" class="ltx_tr">
<th id="S4.T5.2.5.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">adjust</th>
<th id="S4.T5.2.5.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">44.5</th>
<td id="S4.T5.2.5.3.3" class="ltx_td ltx_align_center ltx_border_bb">63.3</td>
<td id="S4.T5.2.5.3.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb">48.4</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Variations of centernss-based PE. ’static’ means the centerness is the same for different proposal boxes within the <math id="S4.T5.4.m1.1" class="ltx_Math" alttext="7\times 7" display="inline"><semantics id="S4.T5.4.m1.1b"><mrow id="S4.T5.4.m1.1.1" xref="S4.T5.4.m1.1.1.cmml"><mn id="S4.T5.4.m1.1.1.2" xref="S4.T5.4.m1.1.1.2.cmml">7</mn><mo lspace="0.222em" rspace="0.222em" id="S4.T5.4.m1.1.1.1" xref="S4.T5.4.m1.1.1.1.cmml">×</mo><mn id="S4.T5.4.m1.1.1.3" xref="S4.T5.4.m1.1.1.3.cmml">7</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T5.4.m1.1c"><apply id="S4.T5.4.m1.1.1.cmml" xref="S4.T5.4.m1.1.1"><times id="S4.T5.4.m1.1.1.1.cmml" xref="S4.T5.4.m1.1.1.1"></times><cn type="integer" id="S4.T5.4.m1.1.1.2.cmml" xref="S4.T5.4.m1.1.1.2">7</cn><cn type="integer" id="S4.T5.4.m1.1.1.3.cmml" xref="S4.T5.4.m1.1.1.3">7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.4.m1.1d">7\times 7</annotation></semantics></math> region. ’learnable’ makes the static centerness be learnable parameters. ’adjust’ indicates a set of offsets is generated from RoI feature to adjust the position of the maximum value.</figcaption>
</figure>
<div id="S4.SS3.p4" class="ltx_para ltx_noindent">
<p id="S4.SS3.p4.1" class="ltx_p"><span id="S4.SS3.p4.1.1" class="ltx_text ltx_font_bold">Influences of different modules in RecursiveDet.</span> In this part, we analyze the effectiveness of different components in our model.
As shown in <a href="#S4.T6" title="In 4.3 Ablation Study ‣ 4 Experiments ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span> <span class="ltx_text ltx_ref_tag">6</span></a>, all modules proposed in this paper substantially contribute to the final results. The recursive structure improves the Sparse R-CNN from 42.8 AP to 43.9 AP.
PE has not been
introduced into region-based detectors before.
We encode bounding boxes into embedding to participate in self attention and dynamic conv.It achieves 0.3 AP performance gain. When different stages are shared, it is challenging for the decoder input to discriminate which stage is. Bounding box
encoding plays its role by providing geometry information for decoder to distinguish the stage, and it gains 44.4 AP, exceeding the model of recursive structure by 0.5 AP.
And the time cost mainly comes from it.
Since the bounding box only has the global coordinates and shape sizes, we further employ centerness within the proposal box to introduce a local prior. With the help of centerness, the result finally reaches 45.2 AP.
</p>
</div>
<figure id="S4.T6" class="ltx_table">
<div id="S4.T6.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:159.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(45.7pt,-16.8pt) scale(1.26681241081841,1.26681241081841) ;">
<table id="S4.T6.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T6.1.1.1.1" class="ltx_tr">
<th id="S4.T6.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">Recursive</th>
<th id="S4.T6.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">bb-PE</th>
<th id="S4.T6.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">cb-PE</th>
<th id="S4.T6.1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">AP</th>
<th id="S4.T6.1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Params(M)</th>
<th id="S4.T6.1.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Flops(G)</th>
<th id="S4.T6.1.1.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">L(ms)</th>
<th id="S4.T6.1.1.1.1.8" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt">FPS</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T6.1.1.2.1" class="ltx_tr">
<th id="S4.T6.1.1.2.1.1" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<th id="S4.T6.1.1.2.1.2" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<th id="S4.T6.1.1.2.1.3" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<th id="S4.T6.1.1.2.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">42.8</th>
<td id="S4.T6.1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t">106</td>
<td id="S4.T6.1.1.2.1.6" class="ltx_td ltx_align_center ltx_border_t">134</td>
<td id="S4.T6.1.1.2.1.7" class="ltx_td ltx_align_center ltx_border_t">49</td>
<td id="S4.T6.1.1.2.1.8" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">20</td>
</tr>
<tr id="S4.T6.1.1.3.2" class="ltx_tr">
<th id="S4.T6.1.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S4.T6.1.1.3.2.2" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S4.T6.1.1.3.2.3" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S4.T6.1.1.3.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_row">43.9</th>
<td id="S4.T6.1.1.3.2.5" class="ltx_td ltx_align_center">53</td>
<td id="S4.T6.1.1.3.2.6" class="ltx_td ltx_align_center">140</td>
<td id="S4.T6.1.1.3.2.7" class="ltx_td ltx_align_center">51</td>
<td id="S4.T6.1.1.3.2.8" class="ltx_td ltx_nopad_r ltx_align_center">20</td>
</tr>
<tr id="S4.T6.1.1.4.3" class="ltx_tr">
<th id="S4.T6.1.1.4.3.1" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S4.T6.1.1.4.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S4.T6.1.1.4.3.3" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S4.T6.1.1.4.3.4" class="ltx_td ltx_align_center ltx_th ltx_th_row">43.1</th>
<td id="S4.T6.1.1.4.3.5" class="ltx_td ltx_align_center">110</td>
<td id="S4.T6.1.1.4.3.6" class="ltx_td ltx_align_center">137</td>
<td id="S4.T6.1.1.4.3.7" class="ltx_td ltx_align_center">69</td>
<td id="S4.T6.1.1.4.3.8" class="ltx_td ltx_nopad_r ltx_align_center">15</td>
</tr>
<tr id="S4.T6.1.1.5.4" class="ltx_tr">
<th id="S4.T6.1.1.5.4.1" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S4.T6.1.1.5.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S4.T6.1.1.5.4.3" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S4.T6.1.1.5.4.4" class="ltx_td ltx_align_center ltx_th ltx_th_row">43.4</th>
<td id="S4.T6.1.1.5.4.5" class="ltx_td ltx_align_center">110</td>
<td id="S4.T6.1.1.5.4.6" class="ltx_td ltx_align_center">138</td>
<td id="S4.T6.1.1.5.4.7" class="ltx_td ltx_align_center">72</td>
<td id="S4.T6.1.1.5.4.8" class="ltx_td ltx_nopad_r ltx_align_center">14</td>
</tr>
<tr id="S4.T6.1.1.6.5" class="ltx_tr">
<th id="S4.T6.1.1.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S4.T6.1.1.6.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S4.T6.1.1.6.5.3" class="ltx_td ltx_th ltx_th_row"></th>
<th id="S4.T6.1.1.6.5.4" class="ltx_td ltx_align_center ltx_th ltx_th_row">44.4</th>
<td id="S4.T6.1.1.6.5.5" class="ltx_td ltx_align_center">55</td>
<td id="S4.T6.1.1.6.5.6" class="ltx_td ltx_align_center">145</td>
<td id="S4.T6.1.1.6.5.7" class="ltx_td ltx_align_center">73</td>
<td id="S4.T6.1.1.6.5.8" class="ltx_td ltx_nopad_r ltx_align_center">14</td>
</tr>
<tr id="S4.T6.1.1.7.6" class="ltx_tr">
<th id="S4.T6.1.1.7.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">✓</th>
<th id="S4.T6.1.1.7.6.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">✓</th>
<th id="S4.T6.1.1.7.6.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">✓</th>
<th id="S4.T6.1.1.7.6.4" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb">45.2</th>
<td id="S4.T6.1.1.7.6.5" class="ltx_td ltx_align_center ltx_border_bb">55</td>
<td id="S4.T6.1.1.7.6.6" class="ltx_td ltx_align_center ltx_border_bb">149</td>
<td id="S4.T6.1.1.7.6.7" class="ltx_td ltx_align_center ltx_border_bb">76</td>
<td id="S4.T6.1.1.7.6.8" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb">13</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Ablations about different components (Recursive structure, bounding-box PE(bb-PE) and centerness-based PE(Cb-PE)) in the proposed RecursiveDet.</figcaption>
</figure>
<div id="S4.SS3.p5" class="ltx_para ltx_noindent">
<p id="S4.SS3.p5.1" class="ltx_p"><span id="S4.SS3.p5.1.1" class="ltx_text ltx_font_bold">Visualization.</span> In <a href="#S4.F3" title="In 4.3 Ablation Study ‣ 4 Experiments ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">3</span></a> we present the convergence speed of Sparse R-CNN, AdaMixer, DiffusionDet and RecursiveDet. It shows that our models are more efficient than their baselines.
Since our method shares the decoder parameters, making the cascade detector recursive,
we compare the effectiveness of the number of decoder stages at inference between Sparse R-CNN and RecursiveDet in <a href="#S4.F4" title="In 4.3 Ablation Study ‣ 4 Experiments ‣ RecursiveDet: End-to-End Region-based Recursive Object Detection" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">4</span></a>. It can be seen that our method outperforms Sparse R-CNN with any number of stages.</p>
</div>
<figure id="S4.F3" class="ltx_figure"><img src="/html/2307.13619/assets/x3.png" id="S4.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="184" height="138" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Convergence curves of Sparse R-CNN, AdaMixer, DiffusionDet and their counterpart in RecursiveDet. All models are trained with ResNet-50. Number of proposal feature is 300 for Sparse R-CNN and AdaMixer, and 500 for DiffusionDet.
</figcaption>
</figure>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2307.13619/assets/x4.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="184" height="138" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Effect of the number of stages in cascade and recursive structures. Both models are trained with six decoder stages.</figcaption>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">This paper investigates the region-based object detector. We propose a RecursiveDet, which increases the detection performance and reduces the model size. There are two types of recursion loops in our detector. We first share the decoder parameters and make it recursive among different stages. We also reuse the dynamic layer and out layer in decoder, and make a short in-stage recursion loop to increase the depth of model. To enhance the adaptability of the decoder, we design bounding box and centerness-based positional encoding, and further utilize them in self attention and dynamic conv. The RecursiveDet is implemented under three typical region-based detectors, including Sparse R-CNN, AdaMixer and DiffusionDet. It achieves consistent improvements on all of them with a lower cost on model parameters.
</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography" style="font-size:90%;">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock"><span id="bib.bib1.1.1" class="ltx_text" style="font-size:90%;">
Zhaowei Cai and Nuno Vasconcelos.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.2.1" class="ltx_text" style="font-size:90%;">Cascade r-cnn: Delving into high quality object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib1.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib1.5.3" class="ltx_text" style="font-size:90%;">, pages 6154–6162, 2018.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_text" style="font-size:90%;">
Nicolas Carion, Francisco Massa, Gabriel Synnaeve, Nicolas Usunier, Alexander
Kirillov, and Sergey Zagoruyko.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.2.1" class="ltx_text" style="font-size:90%;">End-to-end object detection with transformers.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib2.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Computer Vision–ECCV 2020: 16th European Conference,
Glasgow, UK, August 23–28, 2020, Proceedings, Part I 16</span><span id="bib.bib2.5.3" class="ltx_text" style="font-size:90%;">, pages 213–229.
Springer, 2020.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_text" style="font-size:90%;">
Kai Chen, Jiaqi Wang, Jiangmiao Pang, Yuhang Cao, Yu Xiong, Xiaoxiao Li,
Shuyang Sun, Wansen Feng, Ziwei Liu, Jiarui Xu, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.2.1" class="ltx_text" style="font-size:90%;">Mmdetection: Open mmlab detection toolbox and benchmark.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1906.07155</span><span id="bib.bib3.4.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text" style="font-size:90%;">
Shoufa Chen, Peize Sun, Yibing Song, and Ping Luo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.2.1" class="ltx_text" style="font-size:90%;">Diffusiondet: Diffusion model for object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2211.09788</span><span id="bib.bib4.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text" style="font-size:90%;">
Zhe Chen, Jing Zhang, and Dacheng Tao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.2.1" class="ltx_text" style="font-size:90%;">Recurrent glimpse-based decoder for detection with transformer.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib5.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib5.5.3" class="ltx_text" style="font-size:90%;">, pages 5260–5269, 2022.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text" style="font-size:90%;">
Junyoung Chung, Caglar Gulcehre, KyungHyun Cho, and Yoshua Bengio.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.2.1" class="ltx_text" style="font-size:90%;">Empirical evaluation of gated recurrent neural networks on sequence
modeling.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1412.3555</span><span id="bib.bib6.4.2" class="ltx_text" style="font-size:90%;">, 2014.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text" style="font-size:90%;">
Jifeng Dai, Yi Li, Kaiming He, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.2.1" class="ltx_text" style="font-size:90%;">R-fcn: Object detection via region-based fully convolutional
networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Advances in neural information processing systems</span><span id="bib.bib7.4.2" class="ltx_text" style="font-size:90%;">, 29, 2016.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text" style="font-size:90%;">
Jifeng Dai, Haozhi Qi, Yuwen Xiong, Yi Li, Guodong Zhang, Han Hu, and Yichen
Wei.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.2.1" class="ltx_text" style="font-size:90%;">Deformable convolutional networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib8.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE international conference on computer
vision</span><span id="bib.bib8.5.3" class="ltx_text" style="font-size:90%;">, pages 764–773, 2017.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text" style="font-size:90%;">
Xiyang Dai, Yinpeng Chen, Jianwei Yang, Pengchuan Zhang, Lu Yuan, and Lei
Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.2.1" class="ltx_text" style="font-size:90%;">Dynamic detr: End-to-end object detection with dynamic attention.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib9.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF International Conference on
Computer Vision</span><span id="bib.bib9.5.3" class="ltx_text" style="font-size:90%;">, pages 2988–2997, 2021.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text" style="font-size:90%;">
Peng Gao, Minghang Zheng, Xiaogang Wang, Jifeng Dai, and Hongsheng Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.2.1" class="ltx_text" style="font-size:90%;">Fast convergence of detr with spatially modulated co-attention.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib10.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF international conference on
computer vision</span><span id="bib.bib10.5.3" class="ltx_text" style="font-size:90%;">, pages 3621–3630, 2021.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text" style="font-size:90%;">
Ziteng Gao, Limin Wang, Bing Han, and Sheng Guo.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.2.1" class="ltx_text" style="font-size:90%;">Adamixer: A fast-converging query-based object detector.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib11.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib11.5.3" class="ltx_text" style="font-size:90%;">, pages 5364–5373, 2022.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text" style="font-size:90%;">
Zheng Ge, Songtao Liu, Zeming Li, Osamu Yoshie, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.2.1" class="ltx_text" style="font-size:90%;">Ota: Optimal transport assignment for object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib12.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib12.5.3" class="ltx_text" style="font-size:90%;">, pages 303–312, 2021.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text" style="font-size:90%;">
Ross Girshick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.2.1" class="ltx_text" style="font-size:90%;">Fast r-cnn.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib13.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE international conference on computer
vision</span><span id="bib.bib13.5.3" class="ltx_text" style="font-size:90%;">, pages 1440–1448, 2015.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock"><span id="bib.bib14.1.1" class="ltx_text" style="font-size:90%;">
Ross Girshick, Ilija Radosavovic, Georgia Gkioxari, Piotr Dollár, and
Kaiming He.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.2.1" class="ltx_text" style="font-size:90%;">Detectron.
</span>
</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/facebookresearch/detectron" title="" class="ltx_ref ltx_url ltx_font_typewriter" style="font-size:90%;">https://github.com/facebookresearch/detectron</a><span id="bib.bib14.3.1" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock"><span id="bib.bib15.1.1" class="ltx_text" style="font-size:90%;">
Kaiming He, Georgia Gkioxari, Piotr Dollár, and Ross Girshick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.2.1" class="ltx_text" style="font-size:90%;">Mask r-cnn.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib15.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE international conference on computer
vision</span><span id="bib.bib15.5.3" class="ltx_text" style="font-size:90%;">, pages 2961–2969, 2017.
</span>
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text" style="font-size:90%;">
Sepp Hochreiter and Jürgen Schmidhuber.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.2.1" class="ltx_text" style="font-size:90%;">Long short-term memory.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Neural computation</span><span id="bib.bib16.4.2" class="ltx_text" style="font-size:90%;">, 9(8):1735–1780, 1997.
</span>
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text" style="font-size:90%;">
Jiwon Kim, Jung Kwon Lee, and Kyoung Mu Lee.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.2.1" class="ltx_text" style="font-size:90%;">Deeply-recursive convolutional network for image super-resolution.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib17.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib17.5.3" class="ltx_text" style="font-size:90%;">, pages 1637–1645, 2016.
</span>
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text" style="font-size:90%;">
Kang Kim and Hee Seok Lee.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.2.1" class="ltx_text" style="font-size:90%;">Probabilistic anchor assignment with iou prediction for object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib18.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Computer Vision–ECCV 2020: 16th European Conference,
Glasgow, UK, August 23–28, 2020, Proceedings, Part XXV 16</span><span id="bib.bib18.5.3" class="ltx_text" style="font-size:90%;">, pages 355–371.
Springer, 2020.
</span>
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text" style="font-size:90%;">
Hei Law and Jia Deng.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.2.1" class="ltx_text" style="font-size:90%;">Cornernet: Detecting objects as paired keypoints.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib19.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the European conference on computer vision
(ECCV)</span><span id="bib.bib19.5.3" class="ltx_text" style="font-size:90%;">, pages 734–750, 2018.
</span>
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text" style="font-size:90%;">
Feng Li, Hao Zhang, Shilong Liu, Jian Guo, Lionel M Ni, and Lei Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.2.1" class="ltx_text" style="font-size:90%;">Dn-detr: Accelerate detr training by introducing query denoising.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib20.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib20.5.3" class="ltx_text" style="font-size:90%;">, pages 13619–13627, 2022.
</span>
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock"><span id="bib.bib21.1.1" class="ltx_text" style="font-size:90%;">
Ming Liang and Xiaolin Hu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.2.1" class="ltx_text" style="font-size:90%;">Recurrent convolutional neural network for object recognition.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib21.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib21.5.3" class="ltx_text" style="font-size:90%;">, pages 3367–3375, 2015.
</span>
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock"><span id="bib.bib22.1.1" class="ltx_text" style="font-size:90%;">
Tsung-Yi Lin, Piotr Dollár, Ross Girshick, Kaiming He, Bharath Hariharan,
and Serge Belongie.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.2.1" class="ltx_text" style="font-size:90%;">Feature pyramid networks for object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib22.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib22.5.3" class="ltx_text" style="font-size:90%;">, pages 2117–2125, 2017.
</span>
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock"><span id="bib.bib23.1.1" class="ltx_text" style="font-size:90%;">
Tsung-Yi Lin, Priya Goyal, Ross Girshick, Kaiming He, and Piotr Dollár.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.2.1" class="ltx_text" style="font-size:90%;">Focal loss for dense object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib23.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE international conference on computer
vision</span><span id="bib.bib23.5.3" class="ltx_text" style="font-size:90%;">, pages 2980–2988, 2017.
</span>
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock"><span id="bib.bib24.1.1" class="ltx_text" style="font-size:90%;">
Tsung-Yi Lin, Michael Maire, Serge Belongie, James Hays, Pietro Perona, Deva
Ramanan, Piotr Dollár, and C Lawrence Zitnick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.2.1" class="ltx_text" style="font-size:90%;">Microsoft coco: Common objects in context.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib24.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">European conference on computer vision</span><span id="bib.bib24.5.3" class="ltx_text" style="font-size:90%;">, pages 740–755.
Springer, 2014.
</span>
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock"><span id="bib.bib25.1.1" class="ltx_text" style="font-size:90%;">
Shilong Liu, Feng Li, Hao Zhang, Xiao Yang, Xianbiao Qi, Hang Su, Jun Zhu, and
Lei Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.2.1" class="ltx_text" style="font-size:90%;">Dab-detr: Dynamic anchor boxes are better queries for detr.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2201.12329</span><span id="bib.bib25.4.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock"><span id="bib.bib26.1.1" class="ltx_text" style="font-size:90%;">
Wei Liu, Dragomir Anguelov, Dumitru Erhan, Christian Szegedy, Scott Reed,
Cheng-Yang Fu, and Alexander C Berg.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.2.1" class="ltx_text" style="font-size:90%;">Ssd: Single shot multibox detector.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib26.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Computer Vision–ECCV 2016: 14th European Conference,
Amsterdam, The Netherlands, October 11–14, 2016, Proceedings, Part I 14</span><span id="bib.bib26.5.3" class="ltx_text" style="font-size:90%;">,
pages 21–37. Springer, 2016.
</span>
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock"><span id="bib.bib27.1.1" class="ltx_text" style="font-size:90%;">
Yudong Liu, Yongtao Wang, Siwei Wang, TingTing Liang, Qijie Zhao, Zhi Tang, and
Haibin Ling.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.2.1" class="ltx_text" style="font-size:90%;">Cbnet: A novel composite backbone network architecture for object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib27.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the AAAI conference on artificial
intelligence</span><span id="bib.bib27.5.3" class="ltx_text" style="font-size:90%;">, volume 34, pages 11653–11660, 2020.
</span>
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock"><span id="bib.bib28.1.1" class="ltx_text" style="font-size:90%;">
Depu Meng, Xiaokang Chen, Zejia Fan, Gang Zeng, Houqiang Li, Yuhui Yuan, Lei
Sun, and Jingdong Wang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.2.1" class="ltx_text" style="font-size:90%;">Conditional detr for fast training convergence.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib28.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF International Conference on
Computer Vision</span><span id="bib.bib28.5.3" class="ltx_text" style="font-size:90%;">, pages 3651–3660, 2021.
</span>
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock"><span id="bib.bib29.1.1" class="ltx_text" style="font-size:90%;">
Siyuan Qiao, Liang-Chieh Chen, and Alan Yuille.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.2.1" class="ltx_text" style="font-size:90%;">Detectors: Detecting objects with recursive feature pyramid and
switchable atrous convolution.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib29.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF conference on computer vision and
pattern recognition</span><span id="bib.bib29.5.3" class="ltx_text" style="font-size:90%;">, pages 10213–10224, 2021.
</span>
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock"><span id="bib.bib30.1.1" class="ltx_text" style="font-size:90%;">
Joseph Redmon, Santosh Divvala, Ross Girshick, and Ali Farhadi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.2.1" class="ltx_text" style="font-size:90%;">You only look once: Unified, real-time object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib30.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib30.5.3" class="ltx_text" style="font-size:90%;">, pages 779–788, 2016.
</span>
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock"><span id="bib.bib31.1.1" class="ltx_text" style="font-size:90%;">
Joseph Redmon and Ali Farhadi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.2.1" class="ltx_text" style="font-size:90%;">Yolo9000: better, faster, stronger.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib31.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib31.5.3" class="ltx_text" style="font-size:90%;">, pages 7263–7271, 2017.
</span>
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock"><span id="bib.bib32.1.1" class="ltx_text" style="font-size:90%;">
Shaoqing Ren, Kaiming He, Ross Girshick, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.2.1" class="ltx_text" style="font-size:90%;">Faster r-cnn: Towards real-time object detection with region proposal
networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Advances in neural information processing systems</span><span id="bib.bib32.4.2" class="ltx_text" style="font-size:90%;">, 28, 2015.
</span>
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock"><span id="bib.bib33.1.1" class="ltx_text" style="font-size:90%;">
Hamid Rezatofighi, Nathan Tsoi, JunYoung Gwak, Amir Sadeghian, Ian Reid, and
Silvio Savarese.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.2.1" class="ltx_text" style="font-size:90%;">Generalized intersection over union: A metric and a loss for bounding
box regression.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib33.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF conference on computer vision and
pattern recognition</span><span id="bib.bib33.5.3" class="ltx_text" style="font-size:90%;">, pages 658–666, 2019.
</span>
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock"><span id="bib.bib34.1.1" class="ltx_text" style="font-size:90%;">
Zhiqiang Shen, Zechun Liu, and Eric Xing.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.2.1" class="ltx_text" style="font-size:90%;">Sliced recursive transformer.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib34.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Computer Vision–ECCV 2022: 17th European Conference, Tel
Aviv, Israel, October 23–27, 2022, Proceedings, Part XXIV</span><span id="bib.bib34.5.3" class="ltx_text" style="font-size:90%;">, pages 727–744.
Springer, 2022.
</span>
</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock"><span id="bib.bib35.1.1" class="ltx_text" style="font-size:90%;">
Peize Sun, Rufeng Zhang, Yi Jiang, Tao Kong, Chenfeng Xu, Wei Zhan, Masayoshi
Tomizuka, Lei Li, Zehuan Yuan, Changhu Wang, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.2.1" class="ltx_text" style="font-size:90%;">Sparse r-cnn: End-to-end object detection with learnable proposals.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib35.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF conference on computer vision and
pattern recognition</span><span id="bib.bib35.5.3" class="ltx_text" style="font-size:90%;">, pages 14454–14463, 2021.
</span>
</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock"><span id="bib.bib36.1.1" class="ltx_text" style="font-size:90%;">
Ying Tai, Jian Yang, and Xiaoming Liu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib36.2.1" class="ltx_text" style="font-size:90%;">Image super-resolution via deep recursive residual network.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib36.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib36.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and
pattern recognition</span><span id="bib.bib36.5.3" class="ltx_text" style="font-size:90%;">, pages 3147–3155, 2017.
</span>
</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock"><span id="bib.bib37.1.1" class="ltx_text" style="font-size:90%;">
Zhi Tian, Chunhua Shen, Hao Chen, and Tong He.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib37.2.1" class="ltx_text" style="font-size:90%;">Fcos: Fully convolutional one-stage object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib37.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib37.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF international conference on
computer vision</span><span id="bib.bib37.5.3" class="ltx_text" style="font-size:90%;">, pages 9627–9636, 2019.
</span>
</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock"><span id="bib.bib38.1.1" class="ltx_text" style="font-size:90%;">
Ilya O Tolstikhin, Neil Houlsby, Alexander Kolesnikov, Lucas Beyer, Xiaohua
Zhai, Thomas Unterthiner, Jessica Yung, Andreas Steiner, Daniel Keysers,
Jakob Uszkoreit, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.2.1" class="ltx_text" style="font-size:90%;">Mlp-mixer: An all-mlp architecture for vision.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Advances in neural information processing systems</span><span id="bib.bib38.4.2" class="ltx_text" style="font-size:90%;">,
34:24261–24272, 2021.
</span>
</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock"><span id="bib.bib39.1.1" class="ltx_text" style="font-size:90%;">
Yingming Wang, Xiangyu Zhang, Tong Yang, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib39.2.1" class="ltx_text" style="font-size:90%;">Anchor detr: Query design for transformer-based detector.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib39.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib39.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the AAAI conference on artificial
intelligence</span><span id="bib.bib39.5.3" class="ltx_text" style="font-size:90%;">, volume 36, pages 2567–2575, 2022.
</span>
</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock"><span id="bib.bib40.1.1" class="ltx_text" style="font-size:90%;">
Ze Yang, Shaohui Liu, Han Hu, Liwei Wang, and Stephen Lin.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib40.2.1" class="ltx_text" style="font-size:90%;">Reppoints: Point set representation for object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib40.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib40.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF international conference on
computer vision</span><span id="bib.bib40.5.3" class="ltx_text" style="font-size:90%;">, pages 9657–9666, 2019.
</span>
</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock"><span id="bib.bib41.1.1" class="ltx_text" style="font-size:90%;">
Zhuyu Yao, Jiangbo Ai, Boxun Li, and Chi Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib41.2.1" class="ltx_text" style="font-size:90%;">Efficient detr: improving end-to-end object detector with dense
prior.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib41.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2104.01318</span><span id="bib.bib41.4.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock"><span id="bib.bib42.1.1" class="ltx_text" style="font-size:90%;">
Hao Zhang, Feng Li, Shilong Liu, Lei Zhang, Hang Su, Jun Zhu, Lionel Ni, and
Harry Shum.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib42.2.1" class="ltx_text" style="font-size:90%;">Dino: Detr with improved denoising anchor boxes for end-to-end object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib42.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib42.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</span><span id="bib.bib42.5.3" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock"><span id="bib.bib43.1.1" class="ltx_text" style="font-size:90%;">
Shifeng Zhang, Cheng Chi, Yongqiang Yao, Zhen Lei, and Stan Z Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib43.2.1" class="ltx_text" style="font-size:90%;">Bridging the gap between anchor-based and anchor-free detection via
adaptive training sample selection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib43.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib43.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF conference on computer vision and
pattern recognition</span><span id="bib.bib43.5.3" class="ltx_text" style="font-size:90%;">, pages 9759–9768, 2020.
</span>
</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock"><span id="bib.bib44.1.1" class="ltx_text" style="font-size:90%;">
Jing Zhao, Shengjian Wu, Li Sun, and Qingli Li.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib44.2.1" class="ltx_text" style="font-size:90%;">Iou-enhanced attention for end-to-end task specific object detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib44.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib44.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the Asian Conference on Computer Vision</span><span id="bib.bib44.5.3" class="ltx_text" style="font-size:90%;">,
pages 2901–2917, 2022.
</span>
</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock"><span id="bib.bib45.1.1" class="ltx_text" style="font-size:90%;">
Anlin Zheng, Yuang Zhang, Xiangyu Zhang, Xiaojuan Qi, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib45.2.1" class="ltx_text" style="font-size:90%;">Progressive end-to-end object detection in crowded scenes.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib45.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib45.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span><span id="bib.bib45.5.3" class="ltx_text" style="font-size:90%;">, pages 857–866, 2022.
</span>
</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[46]</span>
<span class="ltx_bibblock"><span id="bib.bib46.1.1" class="ltx_text" style="font-size:90%;">
Xingyi Zhou, Dequan Wang, and Philipp Krähenbühl.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib46.2.1" class="ltx_text" style="font-size:90%;">Objects as points.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib46.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1904.07850</span><span id="bib.bib46.4.2" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[47]</span>
<span class="ltx_bibblock"><span id="bib.bib47.1.1" class="ltx_text" style="font-size:90%;">
Chenchen Zhu, Yihui He, and Marios Savvides.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib47.2.1" class="ltx_text" style="font-size:90%;">Feature selective anchor-free module for single-shot object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib47.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib47.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF conference on computer vision and
pattern recognition</span><span id="bib.bib47.5.3" class="ltx_text" style="font-size:90%;">, pages 840–849, 2019.
</span>
</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[48]</span>
<span class="ltx_bibblock"><span id="bib.bib48.1.1" class="ltx_text" style="font-size:90%;">
Xizhou Zhu, Han Hu, Stephen Lin, and Jifeng Dai.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib48.2.1" class="ltx_text" style="font-size:90%;">Deformable convnets v2: More deformable, better results.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib48.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib48.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF conference on computer vision and
pattern recognition</span><span id="bib.bib48.5.3" class="ltx_text" style="font-size:90%;">, pages 9308–9316, 2019.
</span>
</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[49]</span>
<span class="ltx_bibblock"><span id="bib.bib49.1.1" class="ltx_text" style="font-size:90%;">
Xizhou Zhu, Weijie Su, Lewei Lu, Bin Li, Xiaogang Wang, and Jifeng Dai.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib49.2.1" class="ltx_text" style="font-size:90%;">Deformable detr: Deformable transformers for end-to-end object
detection.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib49.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2010.04159</span><span id="bib.bib49.4.2" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2307.13618" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2307.13619" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2307.13619">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2307.13619" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2307.13620" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Feb 28 16:09:01 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
